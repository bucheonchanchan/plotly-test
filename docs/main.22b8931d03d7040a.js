(self.webpackChunktest=self.webpackChunktest||[]).push([[179],{601:(Fd,Nd,Af)=>{"use strict";function wo(g){return"function"==typeof g}function ie(g){const I=g(U=>{Error.call(U),U.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}const z=ie(g=>function(I){g(this),this.message=I?`${I.length} errors occurred during unsubscription:\n${I.map((U,oe)=>`${oe+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=I});function e(g,E){if(g){const I=g.indexOf(E);0<=I&&g.splice(I,1)}}class S{constructor(E){this.initialTeardown=E,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let E;if(!this.closed){this.closed=!0;const{_parentage:I}=this;if(I)if(this._parentage=null,Array.isArray(I))for(const _e of I)_e.remove(this);else I.remove(this);const{initialTeardown:U}=this;if(wo(U))try{U()}catch(_e){E=_e instanceof z?_e.errors:[_e]}const{_finalizers:oe}=this;if(oe){this._finalizers=null;for(const _e of oe)try{M(_e)}catch(Ue){E=E??[],Ue instanceof z?E=[...E,...Ue.errors]:E.push(Ue)}}if(E)throw new z(E)}}add(E){var I;if(E&&E!==this)if(this.closed)M(E);else{if(E instanceof S){if(E.closed||E._hasParent(this))return;E._addParent(this)}(this._finalizers=null!==(I=this._finalizers)&&void 0!==I?I:[]).push(E)}}_hasParent(E){const{_parentage:I}=this;return I===E||Array.isArray(I)&&I.includes(E)}_addParent(E){const{_parentage:I}=this;this._parentage=Array.isArray(I)?(I.push(E),I):I?[I,E]:E}_removeParent(E){const{_parentage:I}=this;I===E?this._parentage=null:Array.isArray(I)&&e(I,E)}remove(E){const{_finalizers:I}=this;I&&e(I,E),E instanceof S&&E._removeParent(this)}}S.EMPTY=(()=>{const g=new S;return g.closed=!0,g})();const A=S.EMPTY;function a(g){return g instanceof S||g&&"closed"in g&&wo(g.remove)&&wo(g.add)&&wo(g.unsubscribe)}function M(g){wo(g)?g():g.unsubscribe()}const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},d={setTimeout(g,E,...I){const{delegate:U}=d;return U?.setTimeout?U.setTimeout(g,E,...I):setTimeout(g,E,...I)},clearTimeout(g){const{delegate:E}=d;return(E?.clearTimeout||clearTimeout)(g)},delegate:void 0};function s(g){d.setTimeout(()=>{const{onUnhandledError:E}=_;if(!E)throw g;E(g)})}function t(){}const i=o("C",void 0,void 0);function o(g,E,I){return{kind:g,value:E,error:I}}let u=null;function l(g){if(_.useDeprecatedSynchronousErrorHandling){const E=!u;if(E&&(u={errorThrown:!1,error:null}),g(),E){const{errorThrown:I,error:U}=u;if(u=null,I)throw U}}else g()}class c extends S{constructor(E){super(),this.isStopped=!1,E?(this.destination=E,a(E)&&E.add(this)):this.destination=f}static create(E,I,U){return new v(E,I,U)}next(E){this.isStopped?w(function r(g){return o("N",g,void 0)}(E),this):this._next(E)}error(E){this.isStopped?w(function n(g){return o("E",void 0,g)}(E),this):(this.isStopped=!0,this._error(E))}complete(){this.isStopped?w(i,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(E){this.destination.next(E)}_error(E){try{this.destination.error(E)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const b=Function.prototype.bind;function p(g,E){return b.call(g,E)}class m{constructor(E){this.partialObserver=E}next(E){const{partialObserver:I}=this;if(I.next)try{I.next(E)}catch(U){x(U)}}error(E){const{partialObserver:I}=this;if(I.error)try{I.error(E)}catch(U){x(U)}else x(E)}complete(){const{partialObserver:E}=this;if(E.complete)try{E.complete()}catch(I){x(I)}}}class v extends c{constructor(E,I,U){let oe;if(super(),wo(E)||!E)oe={next:E??void 0,error:I??void 0,complete:U??void 0};else{let _e;this&&_.useDeprecatedNextContext?(_e=Object.create(E),_e.unsubscribe=()=>this.unsubscribe(),oe={next:E.next&&p(E.next,_e),error:E.error&&p(E.error,_e),complete:E.complete&&p(E.complete,_e)}):oe=E}this.destination=new m(oe)}}function x(g){_.useDeprecatedSynchronousErrorHandling?function h(g){_.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=g)}(g):s(g)}function w(g,E){const{onStoppedNotification:I}=_;I&&d.setTimeout(()=>I(g,E))}const f={closed:!0,next:t,error:function y(g){throw g},complete:t},C="function"==typeof Symbol&&Symbol.observable||"@@observable";function T(g){return g}let P=(()=>{class g{constructor(I){I&&(this._subscribe=I)}lift(I){const U=new g;return U.source=this,U.operator=I,U}subscribe(I,U,oe){const _e=function q(g){return g&&g instanceof c||function B(g){return g&&wo(g.next)&&wo(g.error)&&wo(g.complete)}(g)&&a(g)}(I)?I:new v(I,U,oe);return l(()=>{const{operator:Ue,source:$e}=this;_e.add(Ue?Ue.call(_e,$e):$e?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(I){try{return this._subscribe(I)}catch(U){I.error(U)}}forEach(I,U){return new(U=O(U))((oe,_e)=>{const Ue=new v({next:$e=>{try{I($e)}catch(ot){_e(ot),Ue.unsubscribe()}},error:_e,complete:oe});this.subscribe(Ue)})}_subscribe(I){var U;return null===(U=this.source)||void 0===U?void 0:U.subscribe(I)}[C](){return this}pipe(...I){return function R(g){return 0===g.length?T:1===g.length?g[0]:function(I){return g.reduce((U,oe)=>oe(U),I)}}(I)(this)}toPromise(I){return new(I=O(I))((U,oe)=>{let _e;this.subscribe(Ue=>_e=Ue,Ue=>oe(Ue),()=>U(_e))})}}return g.create=E=>new g(E),g})();function O(g){var E;return null!==(E=g??_.Promise)&&void 0!==E?E:Promise}const N=ie(g=>function(){g(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let H=(()=>{class g extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(I){const U=new $(this,this);return U.operator=I,U}_throwIfClosed(){if(this.closed)throw new N}next(I){l(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(I)}})}error(I){l(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=I;const{observers:U}=this;for(;U.length;)U.shift().error(I)}})}complete(){l(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:I}=this;for(;I.length;)I.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var I;return(null===(I=this.observers)||void 0===I?void 0:I.length)>0}_trySubscribe(I){return this._throwIfClosed(),super._trySubscribe(I)}_subscribe(I){return this._throwIfClosed(),this._checkFinalizedStatuses(I),this._innerSubscribe(I)}_innerSubscribe(I){const{hasError:U,isStopped:oe,observers:_e}=this;return U||oe?A:(this.currentObservers=null,_e.push(I),new S(()=>{this.currentObservers=null,e(_e,I)}))}_checkFinalizedStatuses(I){const{hasError:U,thrownError:oe,isStopped:_e}=this;U?I.error(oe):_e&&I.complete()}asObservable(){const I=new P;return I.source=this,I}}return g.create=(E,I)=>new $(E,I),g})();class $ extends H{constructor(E,I){super(),this.destination=E,this.source=I}next(E){var I,U;null===(U=null===(I=this.destination)||void 0===I?void 0:I.next)||void 0===U||U.call(I,E)}error(E){var I,U;null===(U=null===(I=this.destination)||void 0===I?void 0:I.error)||void 0===U||U.call(I,E)}complete(){var E,I;null===(I=null===(E=this.destination)||void 0===E?void 0:E.complete)||void 0===I||I.call(E)}_subscribe(E){var I,U;return null!==(U=null===(I=this.source)||void 0===I?void 0:I.subscribe(E))&&void 0!==U?U:A}}function W(g){return E=>{if(function j(g){return wo(g?.lift)}(E))return E.lift(function(I){try{return g(I,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(g,E,I,U,oe){return new ae(g,E,I,U,oe)}class ae extends c{constructor(E,I,U,oe,_e,Ue){super(E),this.onFinalize=_e,this.shouldUnsubscribe=Ue,this._next=I?function($e){try{I($e)}catch(ot){E.error(ot)}}:super._next,this._error=oe?function($e){try{oe($e)}catch(ot){E.error(ot)}finally{this.unsubscribe()}}:super._error,this._complete=U?function(){try{U()}catch($e){E.error($e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var E;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:I}=this;super.unsubscribe(),!I&&(null===(E=this.onFinalize)||void 0===E||E.call(this))}}}function Ce(g){return this instanceof Ce?(this.v=g,this):new Ce(g)}function ze(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,E=g[Symbol.asyncIterator];return E?E.call(g):(g=function Ee(g){var E="function"==typeof Symbol&&Symbol.iterator,I=E&&g[E],U=0;if(I)return I.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&U>=g.length&&(g=void 0),{value:g&&g[U++],done:!g}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),I={},U("next"),U("throw"),U("return"),I[Symbol.asyncIterator]=function(){return this},I);function U(_e){I[_e]=g[_e]&&function(Ue){return new Promise(function($e,ot){!function oe(_e,Ue,$e,ot){Promise.resolve(ot).then(function(Tt){_e({value:Tt,done:$e})},Ue)}($e,ot,(Ue=g[_e](Ue)).done,Ue.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Mt=g=>g&&"number"==typeof g.length&&"function"!=typeof g;function kt(g){return wo(g?.then)}function _t(g){return wo(g[C])}function ut(g){return Symbol.asyncIterator&&wo(g?.[Symbol.asyncIterator])}function st(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ut=function Lt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ht(g){return wo(g?.[Ut])}function Pt(g){return function Ie(g,E,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,U=I.apply(g,E||[]),_e=[];return oe={},Ue("next"),Ue("throw"),Ue("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function Ue(Sn){U[Sn]&&(oe[Sn]=function(Rn){return new Promise(function(ir,_r){_e.push([Sn,Rn,ir,_r])>1||$e(Sn,Rn)})})}function $e(Sn,Rn){try{!function ot(Sn){Sn.value instanceof Ce?Promise.resolve(Sn.value.v).then(Tt,Vt):un(_e[0][2],Sn)}(U[Sn](Rn))}catch(ir){un(_e[0][3],ir)}}function Tt(Sn){$e("next",Sn)}function Vt(Sn){$e("throw",Sn)}function un(Sn,Rn){Sn(Rn),_e.shift(),_e.length&&$e(_e[0][0],_e[0][1])}}(this,arguments,function*(){const I=g.getReader();try{for(;;){const{value:U,done:oe}=yield Ce(I.read());if(oe)return yield Ce(void 0);yield yield Ce(U)}}finally{I.releaseLock()}})}function Je(g){return wo(g?.getReader)}function tt(g){if(g instanceof P)return g;if(null!=g){if(_t(g))return function Ge(g){return new P(E=>{const I=g[C]();if(wo(I.subscribe))return I.subscribe(E);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(g);if(Mt(g))return function Qe(g){return new P(E=>{for(let I=0;I<g.length&&!E.closed;I++)E.next(g[I]);E.complete()})}(g);if(kt(g))return function pt(g){return new P(E=>{g.then(I=>{E.closed||(E.next(I),E.complete())},I=>E.error(I)).then(null,s)})}(g);if(ut(g))return He(g);if(Ht(g))return function ct(g){return new P(E=>{for(const I of g)if(E.next(I),E.closed)return;E.complete()})}(g);if(Je(g))return function qe(g){return He(Pt(g))}(g)}throw st(g)}function He(g){return new P(E=>{(function ft(g,E){var I,U,oe,_e;return function xe(g,E,I,U){return new(I||(I=Promise))(function(_e,Ue){function $e(Vt){try{Tt(U.next(Vt))}catch(un){Ue(un)}}function ot(Vt){try{Tt(U.throw(Vt))}catch(un){Ue(un)}}function Tt(Vt){Vt.done?_e(Vt.value):function oe(_e){return _e instanceof I?_e:new I(function(Ue){Ue(_e)})}(Vt.value).then($e,ot)}Tt((U=U.apply(g,E||[])).next())})}(this,void 0,void 0,function*(){try{for(I=ze(g);!(U=yield I.next()).done;)if(E.next(U.value),E.closed)return}catch(Ue){oe={error:Ue}}finally{try{U&&!U.done&&(_e=I.return)&&(yield _e.call(I))}finally{if(oe)throw oe.error}}E.complete()})})(g,E).catch(I=>E.error(I))})}function et(g,E,I,U=0,oe=!1){const _e=E.schedule(function(){I(),oe?g.add(this.schedule(null,U)):this.unsubscribe()},U);if(g.add(_e),!oe)return _e}function wt(g,E,I=1/0){return wo(E)?wt((U,oe)=>function te(g,E){return W((I,U)=>{let oe=0;I.subscribe(G(U,_e=>{U.next(g.call(E,_e,oe++))}))})}((_e,Ue)=>E(U,_e,oe,Ue))(tt(g(U,oe))),I):("number"==typeof E&&(I=E),W((U,oe)=>function xt(g,E,I,U,oe,_e,Ue,$e){const ot=[];let Tt=0,Vt=0,un=!1;const Sn=()=>{un&&!ot.length&&!Tt&&E.complete()},Rn=_r=>Tt<U?ir(_r):ot.push(_r),ir=_r=>{_e&&E.next(_r),Tt++;let Fr=!1;tt(I(_r,Vt++)).subscribe(G(E,Vr=>{oe?.(Vr),_e?Rn(Vr):E.next(Vr)},()=>{Fr=!0},void 0,()=>{if(Fr)try{for(Tt--;ot.length&&Tt<U;){const Vr=ot.shift();Ue?et(E,Ue,()=>ir(Vr)):ir(Vr)}Sn()}catch(Vr){E.error(Vr)}}))};return g.subscribe(G(E,Rn,()=>{un=!0,Sn()})),()=>{$e?.()}}(U,oe,g,I)))}const yt=new P(g=>g.complete());function Bt(g){return g[g.length-1]}function Gt(g){return function Rt(g){return g&&wo(g.schedule)}(Bt(g))?g.pop():void 0}function Jt(g,E=0){return W((I,U)=>{I.subscribe(G(U,oe=>et(U,g,()=>U.next(oe),E),()=>et(U,g,()=>U.complete(),E),oe=>et(U,g,()=>U.error(oe),E)))})}function $t(g,E=0){return W((I,U)=>{U.add(g.schedule(()=>I.subscribe(U),E))})}function Mn(g,E){if(!g)throw new Error("Iterable cannot be null");return new P(I=>{et(I,E,()=>{const U=g[Symbol.asyncIterator]();et(I,E,()=>{U.next().then(oe=>{oe.done?I.complete():I.next(oe.value)})},0,!0)})})}function hn(g,E){return E?function vn(g,E){if(null!=g){if(_t(g))return function tn(g,E){return tt(g).pipe($t(E),Jt(E))}(g,E);if(Mt(g))return function Gn(g,E){return new P(I=>{let U=0;return E.schedule(function(){U===g.length?I.complete():(I.next(g[U++]),I.closed||this.schedule())})})}(g,E);if(kt(g))return function dn(g,E){return tt(g).pipe($t(E),Jt(E))}(g,E);if(ut(g))return Mn(g,E);if(Ht(g))return function zn(g,E){return new P(I=>{let U;return et(I,E,()=>{U=g[Ut](),et(I,E,()=>{let oe,_e;try{({value:oe,done:_e}=U.next())}catch(Ue){return void I.error(Ue)}_e?I.complete():I.next(oe)},0,!0)}),()=>wo(U?.return)&&U.return()})}(g,E);if(Je(g))return function ln(g,E){return Mn(Pt(g),E)}(g,E)}throw st(g)}(g,E):tt(g)}function _n(...g){const E=Gt(g),I=function on(g,E){return"number"==typeof Bt(g)?g.pop():E}(g,1/0),U=g;return U.length?1===U.length?tt(U[0]):function At(g=1/0){return wt(T,g)}(I)(hn(U,E)):yt}class Dn extends H{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const I=super._subscribe(E);return!I.closed&&E.next(this._value),I}getValue(){const{hasError:E,thrownError:I,_value:U}=this;if(E)throw I;return this._throwIfClosed(),U}next(E){super.next(this._value=E)}}function Yn(g={}){const{connector:E=(()=>new H),resetOnError:I=!0,resetOnComplete:U=!0,resetOnRefCountZero:oe=!0}=g;return _e=>{let Ue,$e,ot,Tt=0,Vt=!1,un=!1;const Sn=()=>{$e?.unsubscribe(),$e=void 0},Rn=()=>{Sn(),Ue=ot=void 0,Vt=un=!1},ir=()=>{const _r=Ue;Rn(),_r?.unsubscribe()};return W((_r,Fr)=>{Tt++,!un&&!Vt&&Sn();const Vr=ot=ot??E();Fr.add(()=>{Tt--,0===Tt&&!un&&!Vt&&($e=jn(ir,oe))}),Vr.subscribe(Fr),!Ue&&Tt>0&&(Ue=new v({next:Tr=>Vr.next(Tr),error:Tr=>{un=!0,Sn(),$e=jn(Rn,I,Tr),Vr.error(Tr)},complete:()=>{Vt=!0,Sn(),$e=jn(Rn,U),Vr.complete()}}),tt(_r).subscribe(Ue))})(_e)}}function jn(g,E,...I){if(!0===E)return void g();if(!1===E)return;const U=new v({next:()=>{U.unsubscribe(),g()}});return tt(E(...I)).subscribe(U)}function $n(g,E){return g===E}function nr(g){for(let E in g)if(g[E]===nr)return E;throw Error("Could not find renamed property on target object.")}function lr(g){if("string"==typeof g)return g;if(Array.isArray(g))return"["+g.map(lr).join(", ")+"]";if(null==g)return""+g;if(g.overriddenName)return`${g.overriddenName}`;if(g.name)return`${g.name}`;const E=g.toString();if(null==E)return""+E;const I=E.indexOf("\n");return-1===I?E:E.substring(0,I)}function cr(g,E){return null==g||""===g?null===E?"":E:null==E||""===E?g:g+" "+E}const Ar=nr({__forward_ref__:nr});function fn(g){return g.__forward_ref__=fn,g.toString=function(){return lr(this())},g}function an(g){return function Vn(g){return"function"==typeof g&&g.hasOwnProperty(Ar)&&g.__forward_ref__===fn}(g)?g():g}function En(g){return g&&!!g.\u0275providers}class In extends Error{constructor(E,I){super(function fr(g,E){return`NG0${Math.abs(g)}${E?": "+E:""}`}(E,I)),this.code=E}}function ur(g){return"string"==typeof g?g:null==g?"":String(g)}function cn(g,E){throw new In(-201,!1)}function Qn(g,E){null==g&&function qn(g,E,I,U){throw new Error(`ASSERTION ERROR: ${g}`+(null==U?"":` [Expected=> ${I} ${U} ${E} <=Actual]`))}(E,g,null,"!=")}function kr(g){return{token:g.token,providedIn:g.providedIn||null,factory:g.factory,value:void 0}}function yr(g){return{providers:g.providers||[],imports:g.imports||[]}}function Or(g){return Qr(g,mo)||Qr(g,co)}function Qr(g,E){return g.hasOwnProperty(E)?g[E]:null}function Bi(g){return g&&(g.hasOwnProperty(ji)||g.hasOwnProperty(Aa))?g[ji]:null}const mo=nr({\u0275prov:nr}),ji=nr({\u0275inj:nr}),co=nr({ngInjectableDef:nr}),Aa=nr({ngInjectorDef:nr});var Nr=function(g){return g[g.Default=0]="Default",g[g.Host=1]="Host",g[g.Self=2]="Self",g[g.SkipSelf=4]="SkipSelf",g[g.Optional=8]="Optional",g}(Nr||{});let Ro;function Li(g){const E=Ro;return Ro=g,E}function Ts(g,E,I){const U=Or(g);return U&&"root"==U.providedIn?void 0===U.value?U.value=U.factory():U.value:I&Nr.Optional?null:void 0!==E?E:void cn(lr(g))}const gi=globalThis;class ni{constructor(E,I){this._desc=E,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof I?this.__NG_ELEMENT_ID__=I:void 0!==I&&(this.\u0275prov=kr({token:this,providedIn:I.providedIn||"root",factory:I.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ha={},As="__NG_DI_FLAG__",qa="ngTempTokenPath",cu=/\n/gm,bu="__source";let _l;function Us(g){const E=_l;return _l=g,E}function fc(g,E=Nr.Default){if(void 0===_l)throw new In(-203,!1);return null===_l?Ts(g,void 0,E):_l.get(g,E&Nr.Optional?null:void 0,E)}function ki(g,E=Nr.Default){return(function Ua(){return Ro}()||fc)(an(g),E)}function Si(g,E=Nr.Default){return ki(g,Vs(E))}function Vs(g){return typeof g>"u"||"number"==typeof g?g:0|(g.optional&&8)|(g.host&&1)|(g.self&&2)|(g.skipSelf&&4)}function Hs(g){const E=[];for(let I=0;I<g.length;I++){const U=an(g[I]);if(Array.isArray(U)){if(0===U.length)throw new In(900,!1);let oe,_e=Nr.Default;for(let Ue=0;Ue<U.length;Ue++){const $e=U[Ue],ot=Tl($e);"number"==typeof ot?-1===ot?oe=$e.token:_e|=ot:oe=$e}E.push(ki(oe,_e))}else E.push(ki(U))}return E}function qs(g,E){return g[As]=E,g.prototype[As]=E,g}function Tl(g){return g[As]}function ga(g){return{toString:g}.toString()}var ns=function(g){return g[g.OnPush=0]="OnPush",g[g.Default=1]="Default",g}(ns||{}),$o=function(g){return g[g.Emulated=0]="Emulated",g[g.None=2]="None",g[g.ShadowDom=3]="ShadowDom",g}($o||{});const sa={},Xr=[],Gs=nr({\u0275cmp:nr}),wu=nr({\u0275dir:nr}),Fl=nr({\u0275pipe:nr}),Ml=nr({\u0275mod:nr}),ks=nr({\u0275fac:nr}),Yl=nr({__NG_ELEMENT_ID__:nr}),Zl=nr({__NG_ENV_ID__:nr});function Hu(g,E,I){let U=g.length;for(;;){const oe=g.indexOf(E,I);if(-1===oe)return oe;if(0===oe||g.charCodeAt(oe-1)<=32){const _e=E.length;if(oe+_e===U||g.charCodeAt(oe+_e)<=32)return oe}I=oe+1}}function Ss(g,E,I){let U=0;for(;U<I.length;){const oe=I[U];if("number"==typeof oe){if(0!==oe)break;U++;const _e=I[U++],Ue=I[U++],$e=I[U++];g.setAttribute(E,Ue,$e,_e)}else{const _e=oe,Ue=I[++U];Es(_e)?g.setProperty(E,_e,Ue):g.setAttribute(E,_e,Ue),U++}}return U}function rl(g){return 3===g||4===g||6===g}function Es(g){return 64===g.charCodeAt(0)}function ka(g,E){if(null!==E&&0!==E.length)if(null===g||0===g.length)g=E.slice();else{let I=-1;for(let U=0;U<E.length;U++){const oe=E[U];"number"==typeof oe?I=oe:0===I||Al(g,I,oe,null,-1===I||2===I?E[++U]:null)}}return g}function Al(g,E,I,U,oe){let _e=0,Ue=g.length;if(-1===E)Ue=-1;else for(;_e<g.length;){const $e=g[_e++];if("number"==typeof $e){if($e===E){Ue=-1;break}if($e>E){Ue=_e-1;break}}}for(;_e<g.length;){const $e=g[_e];if("number"==typeof $e)break;if($e===I){if(null===U)return void(null!==oe&&(g[_e+1]=oe));if(U===g[_e+1])return void(g[_e+2]=oe)}_e++,null!==U&&_e++,null!==oe&&_e++}-1!==Ue&&(g.splice(Ue,0,E),_e=Ue+1),g.splice(_e++,0,I),null!==U&&g.splice(_e++,0,U),null!==oe&&g.splice(_e++,0,oe)}const Tu="ng-template";function Xl(g,E,I){let U=0,oe=!0;for(;U<g.length;){let _e=g[U++];if("string"==typeof _e&&oe){const Ue=g[U++];if(I&&"class"===_e&&-1!==Hu(Ue.toLowerCase(),E,0))return!0}else{if(1===_e){for(;U<g.length&&"string"==typeof(_e=g[U++]);)if(_e.toLowerCase()===E)return!0;return!1}"number"==typeof _e&&(oe=!1)}}return!1}function $l(g){return 4===g.type&&g.value!==Tu}function Ga(g,E,I){return E===(4!==g.type||I?g.value:Tu)}function fu(g,E,I){let U=4;const oe=g.attrs||[],_e=function kl(g){for(let E=0;E<g.length;E++)if(rl(g[E]))return E;return g.length}(oe);let Ue=!1;for(let $e=0;$e<E.length;$e++){const ot=E[$e];if("number"!=typeof ot){if(!Ue)if(4&U){if(U=2|1&U,""!==ot&&!Ga(g,ot,I)||""===ot&&1===E.length){if(rs(U))return!1;Ue=!0}}else{const Tt=8&U?ot:E[++$e];if(8&U&&null!==g.attrs){if(!Xl(g.attrs,Tt,I)){if(rs(U))return!1;Ue=!0}continue}const un=Nl(8&U?"class":ot,oe,$l(g),I);if(-1===un){if(rs(U))return!1;Ue=!0;continue}if(""!==Tt){let Sn;Sn=un>_e?"":oe[un+1].toLowerCase();const Rn=8&U?Sn:null;if(Rn&&-1!==Hu(Rn,Tt,0)||2&U&&Tt!==Sn){if(rs(U))return!1;Ue=!0}}}}else{if(!Ue&&!rs(U)&&!rs(ot))return!1;if(Ue&&rs(ot))continue;Ue=!1,U=ot|1&U}}return rs(U)||Ue}function rs(g){return 0==(1&g)}function Nl(g,E,I,U){if(null===E)return-1;let oe=0;if(U||!I){let _e=!1;for(;oe<E.length;){const Ue=E[oe];if(Ue===g)return oe;if(3===Ue||6===Ue)_e=!0;else{if(1===Ue||2===Ue){let $e=E[++oe];for(;"string"==typeof $e;)$e=E[++oe];continue}if(4===Ue)break;if(0===Ue){oe+=4;continue}}oe+=_e?1:2}return-1}return function Sl(g,E){let I=g.indexOf(4);if(I>-1)for(I++;I<g.length;){const U=g[I];if("number"==typeof U)return-1;if(U===E)return I;I++}return-1}(E,g)}function il(g,E,I=!1){for(let U=0;U<E.length;U++)if(fu(g,E[U],I))return!0;return!1}function Kl(g,E){e:for(let I=0;I<E.length;I++){const U=E[I];if(g.length===U.length){for(let oe=0;oe<g.length;oe++)if(g[oe]!==U[oe])continue e;return!0}}return!1}function Jl(g,E){return g?":not("+E.trim()+")":E}function Ui(g){let E=g[0],I=1,U=2,oe="",_e=!1;for(;I<g.length;){let Ue=g[I];if("string"==typeof Ue)if(2&U){const $e=g[++I];oe+="["+Ue+($e.length>0?'="'+$e+'"':"")+"]"}else 8&U?oe+="."+Ue:4&U&&(oe+=" "+Ue);else""!==oe&&!rs(Ue)&&(E+=Jl(_e,oe),oe=""),U=Ue,_e=_e||!rs(U);I++}return""!==oe&&(E+=Jl(_e,oe)),E}function Wa(g){return ga(()=>{const E=Xa(g),I={...E,decls:g.decls,vars:g.vars,template:g.template,consts:g.consts||null,ngContentSelectors:g.ngContentSelectors,onPush:g.changeDetection===ns.OnPush,directiveDefs:null,pipeDefs:null,dependencies:E.standalone&&g.dependencies||null,getStandaloneInjector:null,signals:g.signals??!1,data:g.data||{},encapsulation:g.encapsulation||$o.Emulated,styles:g.styles||Xr,_:null,schemas:g.schemas||null,tView:null,id:""};jo(I);const U=g.dependencies;return I.directiveDefs=No(U,!1),I.pipeDefs=No(U,!0),I.id=function Ko(g){let E=0;const I=[g.selectors,g.ngContentSelectors,g.hostVars,g.hostAttrs,g.consts,g.vars,g.decls,g.encapsulation,g.standalone,g.signals,g.exportAs,JSON.stringify(g.inputs),JSON.stringify(g.outputs),Object.getOwnPropertyNames(g.type.prototype),!!g.contentQueries,!!g.viewQuery].join("|");for(const oe of I)E=Math.imul(31,E)+oe.charCodeAt(0)<<0;return E+=2147483648,"c"+E}(I),I})}function Fi(g){return fi(g)||To(g)}function Ya(g){return null!==g}function Za(g){return ga(()=>({type:g.type,bootstrap:g.bootstrap||Xr,declarations:g.declarations||Xr,imports:g.imports||Xr,exports:g.exports||Xr,transitiveCompileScopes:null,schemas:g.schemas||null,id:g.id||null}))}function eu(g,E){if(null==g)return sa;const I={};for(const U in g)if(g.hasOwnProperty(U)){let oe=g[U],_e=oe;Array.isArray(oe)&&(_e=oe[1],oe=oe[0]),I[oe]=U,E&&(E[oe]=_e)}return I}function ma(g){return ga(()=>{const E=Xa(g);return jo(E),E})}function fi(g){return g[Gs]||null}function To(g){return g[wu]||null}function Fo(g){return g[Fl]||null}function Xa(g){const E={};return{type:g.type,providersResolver:null,factory:null,hostBindings:g.hostBindings||null,hostVars:g.hostVars||0,hostAttrs:g.hostAttrs||null,contentQueries:g.contentQueries||null,declaredInputs:E,inputTransforms:null,inputConfig:g.inputs||sa,exportAs:g.exportAs||null,standalone:!0===g.standalone,signals:!0===g.signals,selectors:g.selectors||Xr,viewQuery:g.viewQuery||null,features:g.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eu(g.inputs,E),outputs:eu(g.outputs)}}function jo(g){g.features?.forEach(E=>E(g))}function No(g,E){if(!g)return null;const I=E?Fo:Fi;return()=>("function"==typeof g?g():g).map(U=>I(U)).filter(Ya)}const Vi=0,jr=1,ri=2,Hi=3,vo=4,ds=5,Mo=6,ca=7,Ni=8,Ci=9,va=10,Mr=11,Ws=12,hu=13,$a=14,no=15,ps=16,gs=17,Pr=18,Ys=19,Cs=20,lo=21,ya=22,Sa=23,xa=24,ii=25,Pa=1,Ds=2,Oa=7,mi=9,qi=11;function ro(g){return Array.isArray(g)&&"object"==typeof g[Pa]}function Yo(g){return Array.isArray(g)&&!0===g[Pa]}function al(g){return 0!=(4&g.flags)}function Uo(g){return g.componentOffset>-1}function Zo(g){return!!g.template}function $s(g){return 0!=(512&g[ri])}function at(g,E){return g.hasOwnProperty(ks)?g[ks]:null}let Z=null,L=!1;function Y(g){const E=Z;return Z=g,E}const ne={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function pe(g){if(!Ft(g)||g.dirty){if(!g.producerMustRecompute(g)&&!lt(g))return void(g.dirty=!1);g.producerRecomputeValue(g),g.dirty=!1}}function Be(g){g.dirty=!0,function ke(g){if(void 0===g.liveConsumerNode)return;const E=L;L=!0;try{for(const I of g.liveConsumerNode)I.dirty||Be(I)}finally{L=E}}(g),g.consumerMarkedDirty?.(g)}function Ze(g){return g&&(g.nextProducerIndex=0),Y(g)}function Ke(g,E){if(Y(E),g&&void 0!==g.producerNode&&void 0!==g.producerIndexOfThis&&void 0!==g.producerLastReadVersion){if(Ft(g))for(let I=g.nextProducerIndex;I<g.producerNode.length;I++)St(g.producerNode[I],g.producerIndexOfThis[I]);for(;g.producerNode.length>g.nextProducerIndex;)g.producerNode.pop(),g.producerLastReadVersion.pop(),g.producerIndexOfThis.pop()}}function lt(g){It(g);for(let E=0;E<g.producerNode.length;E++){const I=g.producerNode[E],U=g.producerLastReadVersion[E];if(U!==I.version||(pe(I),U!==I.version))return!0}return!1}function vt(g){if(It(g),Ft(g))for(let E=0;E<g.producerNode.length;E++)St(g.producerNode[E],g.producerIndexOfThis[E]);g.producerNode.length=g.producerLastReadVersion.length=g.producerIndexOfThis.length=0,g.liveConsumerNode&&(g.liveConsumerNode.length=g.liveConsumerIndexOfThis.length=0)}function St(g,E){if(function Wt(g){g.liveConsumerNode??=[],g.liveConsumerIndexOfThis??=[]}(g),It(g),1===g.liveConsumerNode.length)for(let U=0;U<g.producerNode.length;U++)St(g.producerNode[U],g.producerIndexOfThis[U]);const I=g.liveConsumerNode.length-1;if(g.liveConsumerNode[E]=g.liveConsumerNode[I],g.liveConsumerIndexOfThis[E]=g.liveConsumerIndexOfThis[I],g.liveConsumerNode.length--,g.liveConsumerIndexOfThis.length--,E<g.liveConsumerNode.length){const U=g.liveConsumerIndexOfThis[E],oe=g.liveConsumerNode[E];It(oe),oe.producerIndexOfThis[U]=E}}function Ft(g){return g.consumerIsAlwaysLive||(g?.liveConsumerNode?.length??0)>0}function It(g){g.producerNode??=[],g.producerIndexOfThis??=[],g.producerLastReadVersion??=[]}let Bn=null;const Kr=()=>{},si=(()=>({...ne,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:g=>{g.schedule(g.ref)},hasRun:!1,cleanupFn:Kr}))();class xi{constructor(E,I,U){this.previousValue=E,this.currentValue=I,this.firstChange=U}isFirstChange(){return this.firstChange}}function vi(){return Ki}function Ki(g){return g.type.prototype.ngOnChanges&&(g.setInput=ba),Ao}function Ao(){const g=ia(this),E=g?.current;if(E){const I=g.previous;if(I===sa)g.previous=E;else for(let U in E)I[U]=E[U];g.current=null,this.ngOnChanges(E)}}function ba(g,E,I,U){const oe=this.declaredInputs[I],_e=ia(g)||function uo(g,E){return g[Vo]=E}(g,{previous:sa,current:null}),Ue=_e.current||(_e.current={}),$e=_e.previous,ot=$e[oe];Ue[oe]=new xi(ot&&ot.currentValue,E,$e===sa),g[U]=E}vi.ngInherit=!0;const Vo="__ngSimpleChanges__";function ia(g){return g[Vo]||null}const _i=function(g,E,I){};function li(g){for(;Array.isArray(g);)g=g[Vi];return g}function Jo(g,E){return li(E[g.index])}function nu(g,E){return g.data[E]}function Ho(g,E){const I=E[g];return ro(I)?I:I[Vi]}function ll(g,E){return null==E?null:g[E]}function ph(g){g[gs]=0}function gh(g){1024&g[ri]||(g[ri]|=1024,Mu(g,1))}function mh(g){1024&g[ri]&&(g[ri]&=-1025,Mu(g,-1))}function Mu(g,E){let I=g[Hi];if(null===I)return;I[ds]+=E;let U=I;for(I=I[Hi];null!==I&&(1===E&&1===U[ds]||-1===E&&0===U[ds]);)I[ds]+=E,U=I,I=I[Hi]}const hi={lFrame:s0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ef(){return hi.bindingsEnabled}function Vc(){return null!==hi.skipHydrationRootTNode}function Ir(){return hi.lFrame.lView}function ao(){return hi.lFrame.tView}function xs(){let g=Bd();for(;null!==g&&64===g.type;)g=g.parent;return g}function Bd(){return hi.lFrame.currentTNode}function Ul(g,E){const I=hi.lFrame;I.currentTNode=g,I.isParent=E}function bh(){return hi.lFrame.isParent}function Cf(){hi.lFrame.isParent=!1}function qc(){return hi.lFrame.bindingIndex++}function _h(g,E){const I=hi.lFrame;I.bindingIndex=I.bindingRootIndex=g,du(E)}function du(g){hi.lFrame.currentDirectiveIndex=g}function r0(){return hi.lFrame.currentQueryIndex}function Ud(g){hi.lFrame.currentQueryIndex=g}function Kg(g){const E=g[jr];return 2===E.type?E.declTNode:1===E.type?g[Mo]:null}function o0(g,E,I){if(I&Nr.SkipSelf){let oe=E,_e=g;for(;!(oe=oe.parent,null!==oe||I&Nr.Host||(oe=Kg(_e),null===oe||(_e=_e[$a],10&oe.type))););if(null===oe)return!1;E=oe,g=_e}const U=hi.lFrame=a0();return U.currentTNode=E,U.lView=g,!0}function Vd(g){const E=a0(),I=g[jr];hi.lFrame=E,E.currentTNode=I.firstChild,E.lView=g,E.tView=I,E.contextLView=g,E.bindingIndex=I.bindingStartIndex,E.inI18n=!1}function a0(){const g=hi.lFrame,E=null===g?null:g.child;return null===E?s0(g):E}function s0(g){const E={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:g,child:null,inI18n:!1};return null!==g&&(g.child=E),E}function wh(){const g=hi.lFrame;return hi.lFrame=g.parent,g.currentTNode=null,g.lView=null,g}const l0=wh;function Wu(){const g=wh();g.isParent=!0,g.tView=null,g.selectedIndex=-1,g.contextLView=null,g.elementDepthCount=0,g.currentDirectiveIndex=-1,g.currentNamespace=null,g.bindingRootIndex=-1,g.bindingIndex=-1,g.currentQueryIndex=0}function Yu(g){hi.lFrame.selectedIndex=g}function Xo(){const g=hi.lFrame;return nu(g.tView,g.selectedIndex)}let Mh=!0;function Xu(g,E){for(let I=E.directiveStart,U=E.directiveEnd;I<U;I++){const _e=g.data[I].type.prototype,{ngAfterContentInit:Ue,ngAfterContentChecked:$e,ngAfterViewInit:ot,ngAfterViewChecked:Tt,ngOnDestroy:Vt}=_e;Ue&&(g.contentHooks??=[]).push(-I,Ue),$e&&((g.contentHooks??=[]).push(I,$e),(g.contentCheckHooks??=[]).push(I,$e)),ot&&(g.viewHooks??=[]).push(-I,ot),Tt&&((g.viewHooks??=[]).push(I,Tt),(g.viewCheckHooks??=[]).push(I,Tt)),null!=Vt&&(g.destroyHooks??=[]).push(I,Vt)}}function Ah(g,E,I){kh(g,E,3,I)}function Yc(g,E,I,U){(3&g[ri])===I&&kh(g,E,I,U)}function Hd(g,E){let I=g[ri];(3&I)===E&&(I&=8191,I+=1,g[ri]=I)}function kh(g,E,I,U){const _e=U??-1,Ue=E.length-1;let $e=0;for(let ot=void 0!==U?65535&g[gs]:0;ot<Ue;ot++)if("number"==typeof E[ot+1]){if($e=E[ot],null!=U&&$e>=U)break}else E[ot]<0&&(g[gs]+=65536),($e<_e||-1==_e)&&(ru(g,I,E,ot),g[gs]=(4294901760&g[gs])+ot+2),ot++}function Sh(g,E){_i(4,g,E);const I=Y(null);try{E.call(g)}finally{Y(I),_i(5,g,E)}}function ru(g,E,I,U){const oe=I[U]<0,_e=I[U+1],$e=g[oe?-I[U]:I[U]];oe?g[ri]>>13<g[gs]>>16&&(3&g[ri])===E&&(g[ri]+=8192,Sh($e,_e)):Sh($e,_e)}const Zc=-1;class If{constructor(E,I,U){this.factory=E,this.resolving=!1,this.canSeeViewProviders=I,this.injectImpl=U}}function qd(g){return g!==Zc}function Pf(g){return 32767&g}function Of(g,E){let I=function Xc(g){return g>>16}(g),U=E;for(;I>0;)U=U[$a],I--;return U}let Rf=!0;function $u(g){const E=Rf;return Rf=g,E}const h0=255,d0=5;let im=0;const cl={};function Ch(g,E){const I=g0(g,E);if(-1!==I)return I;const U=E[jr];U.firstCreatePass&&(g.injectorIndex=E.length,Gd(U.data,g),Gd(E,null),Gd(U.blueprint,null));const oe=Dh(g,E),_e=g.injectorIndex;if(qd(oe)){const Ue=Pf(oe),$e=Of(oe,E),ot=$e[jr].data;for(let Tt=0;Tt<8;Tt++)E[_e+Tt]=$e[Ue+Tt]|ot[Ue+Tt]}return E[_e+8]=oe,_e}function Gd(g,E){g.push(0,0,0,0,0,0,0,0,E)}function g0(g,E){return-1===g.injectorIndex||g.parent&&g.parent.injectorIndex===g.injectorIndex||null===E[g.injectorIndex+8]?-1:g.injectorIndex}function Dh(g,E){if(g.parent&&-1!==g.parent.injectorIndex)return g.parent.injectorIndex;let I=0,U=null,oe=E;for(;null!==oe;){if(U=ho(oe),null===U)return Zc;if(I++,oe=oe[$a],-1!==U.injectorIndex)return U.injectorIndex|I<<16}return Zc}function Ih(g,E,I){!function p0(g,E,I){let U;"string"==typeof I?U=I.charCodeAt(0)||0:I.hasOwnProperty(Yl)&&(U=I[Yl]),null==U&&(U=I[Yl]=im++);const oe=U&h0;E.data[g+(oe>>d0)]|=1<<oe}(g,E,I)}function m0(g,E,I){if(I&Nr.Optional||void 0!==g)return g;cn()}function Wd(g,E,I,U){if(I&Nr.Optional&&void 0===U&&(U=null),!(I&(Nr.Self|Nr.Host))){const oe=g[Ci],_e=Li(void 0);try{return oe?oe.get(E,U,I&Nr.Optional):Ts(E,U,I&Nr.Optional)}finally{Li(_e)}}return m0(U,0,I)}function v0(g,E,I,U=Nr.Default,oe){if(null!==g){if(2048&E[ri]&&!(U&Nr.Self)){const Ue=function Ph(g,E,I,U,oe){let _e=g,Ue=E;for(;null!==_e&&null!==Ue&&2048&Ue[ri]&&!(512&Ue[ri]);){const $e=Yd(_e,Ue,I,U|Nr.Self,cl);if($e!==cl)return $e;let ot=_e.parent;if(!ot){const Tt=Ue[Cs];if(Tt){const Vt=Tt.get(I,cl,U);if(Vt!==cl)return Vt}ot=ho(Ue),Ue=Ue[$a]}_e=ot}return oe}(g,E,I,U,cl);if(Ue!==cl)return Ue}const _e=Yd(g,E,I,U,cl);if(_e!==cl)return _e}return Wd(E,I,U,oe)}function Yd(g,E,I,U,oe){const _e=function am(g){if("string"==typeof g)return g.charCodeAt(0)||0;const E=g.hasOwnProperty(Yl)?g[Yl]:void 0;return"number"==typeof E?E>=0?E&h0:Ra:E}(I);if("function"==typeof _e){if(!o0(E,g,U))return U&Nr.Host?m0(oe,0,U):Wd(E,I,U,oe);try{let Ue;if(Ue=_e(U),null!=Ue||U&Nr.Optional)return Ue;cn()}finally{l0()}}else if("number"==typeof _e){let Ue=null,$e=g0(g,E),ot=Zc,Tt=U&Nr.Host?E[no][Mo]:null;for((-1===$e||U&Nr.SkipSelf)&&(ot=-1===$e?Dh(g,E):E[$e+8],ot!==Zc&&Zd(U,!1)?(Ue=E[jr],$e=Pf(ot),E=Of(ot,E)):$e=-1);-1!==$e;){const Vt=E[jr];if(y0(_e,$e,Vt.data)){const un=om($e,E,I,Ue,U,Tt);if(un!==cl)return un}ot=E[$e+8],ot!==Zc&&Zd(U,E[jr].data[$e+8]===Tt)&&y0(_e,$e,E)?(Ue=Vt,$e=Pf(ot),E=Of(ot,E)):$e=-1}}return oe}function om(g,E,I,U,oe,_e){const Ue=E[jr],$e=Ue.data[g+8],Vt=Ff($e,Ue,I,null==U?Uo($e)&&Rf:U!=Ue&&0!=(3&$e.type),oe&Nr.Host&&_e===$e);return null!==Vt?gc(E,Ue,Vt,$e):cl}function Ff(g,E,I,U,oe){const _e=g.providerIndexes,Ue=E.data,$e=1048575&_e,ot=g.directiveStart,Vt=_e>>20,Sn=oe?$e+Vt:g.directiveEnd;for(let Rn=U?$e:$e+Vt;Rn<Sn;Rn++){const ir=Ue[Rn];if(Rn<ot&&I===ir||Rn>=ot&&ir.type===I)return Rn}if(oe){const Rn=Ue[ot];if(Rn&&Zo(Rn)&&Rn.type===I)return ot}return null}function gc(g,E,I,U){let oe=g[I];const _e=E.data;if(function Qg(g){return g instanceof If}(oe)){const Ue=oe;Ue.resolving&&function An(g,E){const I=E?`. Dependency path: ${E.join(" > ")} > ${g}`:"";throw new In(-200,`Circular dependency in DI detected for ${g}${I}`)}(function Kt(g){return"function"==typeof g?g.name||g.toString():"object"==typeof g&&null!=g&&"function"==typeof g.type?g.type.name||g.type.toString():ur(g)}(_e[I]));const $e=$u(Ue.canSeeViewProviders);Ue.resolving=!0;const Tt=Ue.injectImpl?Li(Ue.injectImpl):null;o0(g,U,Nr.Default);try{oe=g[I]=Ue.factory(void 0,_e,g,U),E.firstCreatePass&&I>=U.directiveStart&&function f0(g,E,I){const{ngOnChanges:U,ngOnInit:oe,ngDoCheck:_e}=E.type.prototype;if(U){const Ue=Ki(E);(I.preOrderHooks??=[]).push(g,Ue),(I.preOrderCheckHooks??=[]).push(g,Ue)}oe&&(I.preOrderHooks??=[]).push(0-g,oe),_e&&((I.preOrderHooks??=[]).push(g,_e),(I.preOrderCheckHooks??=[]).push(g,_e))}(I,_e[I],E)}finally{null!==Tt&&Li(Tt),$u($e),Ue.resolving=!1,l0()}}return oe}function y0(g,E,I){return!!(I[E+(g>>d0)]&1<<g)}function Zd(g,E){return!(g&Nr.Self||g&Nr.Host&&E)}class Ja{constructor(E,I){this._tNode=E,this._lView=I}get(E,I,U){return v0(this._tNode,this._lView,E,Vs(U),I)}}function Ra(){return new Ja(xs(),Ir())}function ho(g){const E=g[jr],I=E.type;return 2===I?E.declTNode:1===I?g[Mo]:null}const vc="__parameters__";function $c(g,E,I){return ga(()=>{const U=function Oh(g){return function(...I){if(g){const U=g(...I);for(const oe in U)this[oe]=U[oe]}}}(E);function oe(..._e){if(this instanceof oe)return U.apply(this,_e),this;const Ue=new oe(..._e);return $e.annotation=Ue,$e;function $e(ot,Tt,Vt){const un=ot.hasOwnProperty(vc)?ot[vc]:Object.defineProperty(ot,vc,{value:[]})[vc];for(;un.length<=Vt;)un.push(null);return(un[Vt]=un[Vt]||[]).push(Ue),ot}}return I&&(oe.prototype=Object.create(I.prototype)),oe.prototype.ngMetadataName=g,oe.annotationCls=oe,oe})}function xc(g,E){g.forEach(I=>Array.isArray(I)?xc(I,E):E(I))}function Ps(g,E,I){E>=g.length?g.push(I):g.splice(E,0,I)}function bc(g,E){return E>=g.length-1?g.pop():g.splice(E,1)[0]}function Cu(g,E){const I=[];for(let U=0;U<g;U++)I.push(E);return I}const Il=qs($c("Optional"),8),Rh=qs($c("SkipSelf"),4);function Hh(g){return 128==(128&g.flags)}var Ju=function(g){return g[g.Important=1]="Important",g[g.DashCase=2]="DashCase",g}(Ju||{});const Gh=new Map;let N0=0;const Xh="__ngContext__";function _s(g,E){ro(E)?(g[Xh]=E[Ys],function Mc(g){Gh.set(g[Ys],g)}(E)):g[Xh]=E}let af;function Yf(g,E){return af(g,E)}function Ll(g){const E=g[Hi];return Yo(E)?E[Hi]:E}function U0(g){return Ou(g[Ws])}function _a(g){return Ou(g[vo])}function Ou(g){for(;null!==g&&!Yo(g);)g=g[vo];return g}function kc(g,E,I,U,oe){if(null!=U){let _e,Ue=!1;Yo(U)?_e=U:ro(U)&&(Ue=!0,U=U[Vi]);const $e=li(U);0===g&&null!==I?null==oe?Kn(E,I,$e):Zn(E,I,$e,oe||null,!0):1===g&&null!==I?Zn(E,I,$e,oe||null,!0):2===g?function Qi(g,E,I){const U=Rr(g,E);U&&function hr(g,E,I,U){g.removeChild(E,I,U)}(g,U,E,I)}(E,$e,Ue):3===g&&E.destroyNode($e),null!=_e&&function po(g,E,I,U,oe){const _e=I[Oa];_e!==li(I)&&kc(E,g,U,_e,oe);for(let $e=qi;$e<I.length;$e++){const ot=I[$e];eo(ot[jr],ot,g,E,U,_e)}}(E,g,_e,I,oe)}}function de(g,E,I){return g.createElement(E,I)}function Dt(g,E){const I=g[mi],U=I.indexOf(E);mh(E),I.splice(U,1)}function qt(g,E){if(g.length<=qi)return;const I=qi+E,U=g[I];if(U){const oe=U[ps];null!==oe&&oe!==g&&Dt(oe,U),E>0&&(g[I-1][vo]=U[vo]);const _e=bc(g,qi+E);!function De(g,E){eo(g,E,E[Mr],2,null,null),E[Vi]=null,E[Mo]=null}(U[jr],U);const Ue=_e[Pr];null!==Ue&&Ue.detachView(_e[jr]),U[Hi]=null,U[vo]=null,U[ri]&=-129}return U}function Qt(g,E){if(!(256&E[ri])){const I=E[Mr];E[Sa]&&vt(E[Sa]),E[xa]&&vt(E[xa]),I.destroyNode&&eo(g,E,I,3,null,null),function it(g){let E=g[Ws];if(!E)return Zt(g[jr],g);for(;E;){let I=null;if(ro(E))I=E[Ws];else{const U=E[qi];U&&(I=U)}if(!I){for(;E&&!E[vo]&&E!==g;)ro(E)&&Zt(E[jr],E),E=E[Hi];null===E&&(E=g),ro(E)&&Zt(E[jr],E),I=E&&E[vo]}E=I}}(E)}}function Zt(g,E){if(!(256&E[ri])){E[ri]&=-129,E[ri]|=256,function bn(g,E){let I;if(null!=g&&null!=(I=g.destroyHooks))for(let U=0;U<I.length;U+=2){const oe=E[I[U]];if(!(oe instanceof If)){const _e=I[U+1];if(Array.isArray(_e))for(let Ue=0;Ue<_e.length;Ue+=2){const $e=oe[_e[Ue]],ot=_e[Ue+1];_i(4,$e,ot);try{ot.call($e)}finally{_i(5,$e,ot)}}else{_i(4,oe,_e);try{_e.call(oe)}finally{_i(5,oe,_e)}}}}}(g,E),function gn(g,E){const I=g.cleanup,U=E[ca];if(null!==I)for(let _e=0;_e<I.length-1;_e+=2)if("string"==typeof I[_e]){const Ue=I[_e+3];Ue>=0?U[Ue]():U[-Ue].unsubscribe(),_e+=2}else I[_e].call(U[I[_e+1]]);null!==U&&(E[ca]=null);const oe=E[lo];if(null!==oe){E[lo]=null;for(let _e=0;_e<oe.length;_e++)(0,oe[_e])()}}(g,E),1===E[jr].type&&E[Mr].destroy();const I=E[ps];if(null!==I&&Yo(E[Hi])){I!==E[Hi]&&Dt(I,E);const U=E[Pr];null!==U&&U.detachView(g)}!function nf(g){Gh.delete(g[Ys])}(E)}}function On(g,E,I){return function Ln(g,E,I){let U=E;for(;null!==U&&40&U.type;)U=(E=U).parent;if(null===U)return I[Vi];{const{componentOffset:oe}=U;if(oe>-1){const{encapsulation:_e}=g.data[U.directiveStart+oe];if(_e===$o.None||_e===$o.Emulated)return null}return Jo(U,I)}}(g,E.parent,I)}function Zn(g,E,I,U,oe){g.insertBefore(E,I,U,oe)}function Kn(g,E,I){g.appendChild(E,I)}function rr(g,E,I,U,oe){null!==U?Zn(g,E,I,U,oe):Kn(g,E,I)}function Rr(g,E){return g.parentNode(E)}function Br(g,E,I){return ai(g,E,I)}let $r,pi,ai=function Hr(g,E,I){return 40&g.type?Jo(g,I):null};function qr(g,E){if(null!==E){const I=E.type;if(3&I)return Jo(E,g);if(4&I)return di(-1,g[E.index]);if(8&I){const U=E.child;if(null!==U)return qr(g,U);{const oe=g[E.index];return Yo(oe)?di(-1,oe):li(oe)}}if(32&I)return Yf(E,g)()||li(g[E.index]);{const U=Mi(g,E);return null!==U?Array.isArray(U)?U[0]:qr(Ll(g[no]),U):qr(g,E.next)}}return null}function Mi(g,E){return null!==E?g[no][Mo].projection[E.projection]:null}function di(g,E){const I=qi+g+1;if(I<E.length){const U=E[I],oe=U[jr].firstChild;if(null!==oe)return qr(U,oe)}return E[Oa]}function Yi(g,E,I,U,oe,_e,Ue){for(;null!=I;){const $e=U[I.index],ot=I.type;if(Ue&&0===E&&($e&&_s(li($e),U),I.flags|=2),32!=(32&I.flags))if(8&ot)Yi(g,E,I.child,U,oe,_e,!1),kc(E,g,oe,$e,_e);else if(32&ot){const Tt=Yf(I,U);let Vt;for(;Vt=Tt();)kc(E,g,oe,Vt,_e);kc(E,g,oe,$e,_e)}else 16&ot?bo(g,E,U,I,oe,_e):kc(E,g,oe,$e,_e);I=Ue?I.projectionNext:I.next}}function eo(g,E,I,U,oe,_e){Yi(I,U,g.firstChild,E,oe,_e,!1)}function bo(g,E,I,U,oe,_e){const Ue=I[no],ot=Ue[Mo].projection[U.projection];if(Array.isArray(ot))for(let Tt=0;Tt<ot.length;Tt++)kc(E,g,oe,ot[Tt],_e);else{let Tt=ot;const Vt=Ue[Hi];Hh(U)&&(Tt.flags|=128),Yi(g,E,Tt,Vt,oe,_e,!0)}}function wa(g,E,I){""===I?g.removeAttribute(E,"class"):g.setAttribute(E,"class",I)}function Fa(g,E,I){const{mergedAttrs:U,classes:oe,styles:_e}=I;null!==U&&Ss(g,E,U),null!==oe&&wa(g,E,oe),null!==_e&&function Bo(g,E,I){g.setAttribute(E,"style",I)}(g,E,_e)}const Ic=new ni("ENVIRONMENT_INITIALIZER"),gf=new ni("INJECTOR",-1),eh=new ni("INJECTOR_DEF_TYPES");class mf{get(E,I=Ha){if(I===Ha){const U=new Error(`NullInjectorError: No provider for ${lr(E)}!`);throw U.name="NullInjectorError",U}return I}}function W0(...g){return{\u0275providers:vf(0,g),\u0275fromNgModule:!0}}function vf(g,...E){const I=[],U=new Set;let oe;const _e=Ue=>{I.push(Ue)};return xc(E,Ue=>{const $e=Ue;th($e,_e,[],U)&&(oe||=[],oe.push($e))}),void 0!==oe&&vp(oe,_e),I}function vp(g,E){for(let I=0;I<g.length;I++){const{ngModule:U,providers:oe}=g[I];od(oe,_e=>{E(_e,U)})}}function th(g,E,I,U){if(!(g=an(g)))return!1;let oe=null,_e=Bi(g);const Ue=!_e&&fi(g);if(_e||Ue){if(Ue&&!Ue.standalone)return!1;oe=g}else{const ot=g.ngModule;if(_e=Bi(ot),!_e)return!1;oe=ot}const $e=U.has(oe);if(Ue){if($e)return!1;if(U.add(oe),Ue.dependencies){const ot="function"==typeof Ue.dependencies?Ue.dependencies():Ue.dependencies;for(const Tt of ot)th(Tt,E,I,U)}}else{if(!_e)return!1;{if(null!=_e.imports&&!$e){let Tt;U.add(oe);try{xc(_e.imports,Vt=>{th(Vt,E,I,U)&&(Tt||=[],Tt.push(Vt))})}finally{}void 0!==Tt&&vp(Tt,E)}if(!$e){const Tt=at(oe)||(()=>new oe);E({provide:oe,useFactory:Tt,deps:Xr},oe),E({provide:eh,useValue:oe,multi:!0},oe),E({provide:Ic,useValue:()=>ki(oe),multi:!0},oe)}const ot=_e.providers;if(null!=ot&&!$e){const Tt=g;od(ot,Vt=>{E(Vt,Tt)})}}}return oe!==g&&void 0!==g.providers}function od(g,E){for(let I of g)En(I)&&(I=I.\u0275providers),Array.isArray(I)?od(I,E):E(I)}const Y0=nr({provide:String,useValue:nr});function Rs(g){return null!==g&&"object"==typeof g&&Y0 in g}function Fs(g){return"function"==typeof g}const ad=new ni("Set Injector scope."),gu={},yf={};let rc;function Nu(){return void 0===rc&&(rc=new mf),rc}class pl{}class Lc extends pl{get destroyed(){return this._destroyed}constructor(E,I,U,oe){super(),this.parent=I,this.source=U,this.scopes=oe,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rh(E,Ue=>this.processProvider(Ue)),this.records.set(gf,ic(void 0,this)),oe.has("environment")&&this.records.set(pl,ic(void 0,this));const _e=this.records.get(ad);null!=_e&&"string"==typeof _e.value&&this.scopes.add(_e.value),this.injectorDefTypes=new Set(this.get(eh.multi,Xr,Nr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const I of this._ngOnDestroyHooks)I.ngOnDestroy();const E=this._onDestroyHooks;this._onDestroyHooks=[];for(const I of E)I()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(E){return this.assertNotDestroyed(),this._onDestroyHooks.push(E),()=>this.removeOnDestroy(E)}runInContext(E){this.assertNotDestroyed();const I=Us(this),U=Li(void 0);try{return E()}finally{Us(I),Li(U)}}get(E,I=Ha,U=Nr.Default){if(this.assertNotDestroyed(),E.hasOwnProperty(Zl))return E[Zl](this);U=Vs(U);const _e=Us(this),Ue=Li(void 0);try{if(!(U&Nr.SkipSelf)){let ot=this.records.get(E);if(void 0===ot){const Tt=function xp(g){return"function"==typeof g||"object"==typeof g&&g instanceof ni}(E)&&Or(E);ot=Tt&&this.injectableDefInScope(Tt)?ic(sd(E),gu):null,this.records.set(E,ot)}if(null!=ot)return this.hydrate(E,ot)}return(U&Nr.Self?Nu():this.parent).get(E,I=U&Nr.Optional&&I===Ha?null:I)}catch($e){if("NullInjectorError"===$e.name){if(($e[qa]=$e[qa]||[]).unshift(lr(E)),_e)throw $e;return function hs(g,E,I,U){const oe=g[qa];throw E[bu]&&oe.unshift(E[bu]),g.message=function _u(g,E,I,U=null){g=g&&"\n"===g.charAt(0)&&"\u0275"==g.charAt(1)?g.slice(2):g;let oe=lr(E);if(Array.isArray(E))oe=E.map(lr).join(" -> ");else if("object"==typeof E){let _e=[];for(let Ue in E)if(E.hasOwnProperty(Ue)){let $e=E[Ue];_e.push(Ue+":"+("string"==typeof $e?JSON.stringify($e):lr($e)))}oe=`{${_e.join(", ")}}`}return`${I}${U?"("+U+")":""}[${oe}]: ${g.replace(cu,"\n  ")}`}("\n"+g.message,oe,I,U),g.ngTokenPath=oe,g[qa]=null,g}($e,E,"R3InjectorError",this.source)}throw $e}finally{Li(Ue),Us(_e)}}resolveInjectorInitializers(){const E=Us(this),I=Li(void 0);try{const oe=this.get(Ic.multi,Xr,Nr.Self);for(const _e of oe)_e()}finally{Us(E),Li(I)}}toString(){const E=[],I=this.records;for(const U of I.keys())E.push(lr(U));return`R3Injector[${E.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new In(205,!1)}processProvider(E){let I=Fs(E=an(E))?E:an(E&&E.provide);const U=function X0(g){return Rs(g)?ic(void 0,g.useValue):ic(ld(g),gu)}(E);if(Fs(E)||!0!==E.multi)this.records.get(I);else{let oe=this.records.get(I);oe||(oe=ic(void 0,gu,!0),oe.factory=()=>Hs(oe.multi),this.records.set(I,oe)),I=E,oe.multi.push(E)}this.records.set(I,U)}hydrate(E,I){return I.value===gu&&(I.value=yf,I.value=I.factory()),"object"==typeof I.value&&I.value&&function $0(g){return null!==g&&"object"==typeof g&&"function"==typeof g.ngOnDestroy}(I.value)&&this._ngOnDestroyHooks.add(I.value),I.value}injectableDefInScope(E){if(!E.providedIn)return!1;const I=an(E.providedIn);return"string"==typeof I?"any"===I||this.scopes.has(I):this.injectorDefTypes.has(I)}removeOnDestroy(E){const I=this._onDestroyHooks.indexOf(E);-1!==I&&this._onDestroyHooks.splice(I,1)}}function sd(g){const E=Or(g),I=null!==E?E.factory:at(g);if(null!==I)return I;if(g instanceof ni)throw new In(204,!1);if(g instanceof Function)return function Z0(g){const E=g.length;if(E>0)throw Cu(E,"?"),new In(204,!1);const I=function to(g){return g&&(g[mo]||g[co])||null}(g);return null!==I?()=>I.factory(g):()=>new g}(g);throw new In(204,!1)}function ld(g,E,I){let U;if(Fs(g)){const oe=an(g);return at(oe)||sd(oe)}if(Rs(g))U=()=>an(g.useValue);else if(function yp(g){return!(!g||!g.useFactory)}(g))U=()=>g.useFactory(...Hs(g.deps||[]));else if(function nh(g){return!(!g||!g.useExisting)}(g))U=()=>ki(an(g.useExisting));else{const oe=an(g&&(g.useClass||g.provide));if(!function zu(g){return!!g.deps}(g))return at(oe)||sd(oe);U=()=>new oe(...Hs(g.deps))}return U}function ic(g,E,I=!1){return{factory:g,value:E,multi:I?[]:void 0}}function rh(g,E){for(const I of g)Array.isArray(I)?rh(I,E):I&&En(I)?rh(I.\u0275providers,E):E(I)}const ih=new ni("AppId",{providedIn:"root",factory:()=>Tm}),Tm="ng",ud=new ni("Platform Initializer"),Pc=new ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bp=new ni("CSP nonce",{providedIn:"root",factory:()=>function _o(){if(void 0!==pi)return pi;if(typeof document<"u")return document;throw new In(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Dy=(g,E,I)=>null;function km(g,E,I=!1){return Dy(g,E,I)}class G_{}class Py{}class Y_{resolveComponentFactory(E){throw function W_(g){const E=Error(`No component factory found for ${lr(g)}.`);return E.ngComponent=g,E}(E)}}let tg=(()=>{class g{static#e=this.NULL=new Y_}return g})();function Z_(){return pd(xs(),Ir())}function pd(g,E){return new gd(Jo(g,E))}let gd=(()=>{class g{constructor(I){this.nativeElement=I}static#e=this.__NG_ELEMENT_ID__=Z_}return g})();function X_(g){return g instanceof gd?g.nativeElement:g}class Ry{}let Fy=(()=>{class g{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $_(){const g=Ir(),I=Ho(xs().index,g);return(ro(I)?I:g)[Mr]}()}return g})(),K_=(()=>{class g{static#e=this.\u0275prov=kr({token:g,providedIn:"root",factory:()=>null})}return g})();class Cm{constructor(E){this.full=E,this.major=E.split(".")[0],this.minor=E.split(".")[1],this.patch=E.split(".").slice(2).join(".")}}const J_=new Cm("16.2.12"),Dm={};function jy(g,E=null,I=null,U){const oe=Uy(g,E,I,U);return oe.resolveInjectorInitializers(),oe}function Uy(g,E=null,I=null,U,oe=new Set){const _e=[I||Xr,W0(g)];return U=U||("object"==typeof g?void 0:lr(g)),new Lc(_e,E||Nu(),U||null,oe)}let oc=(()=>{class g{static#e=this.THROW_IF_NOT_FOUND=Ha;static#t=this.NULL=new mf;static create(I,U){if(Array.isArray(I))return jy({name:""},U,I,"");{const oe=I.name??"";return jy({name:oe},I.parent,I.providers,oe)}}static#n=this.\u0275prov=kr({token:g,providedIn:"any",factory:()=>ki(gf)});static#r=this.__NG_ELEMENT_ID__=-1}return g})();function Lm(g){return g.ngOriginalError}class Oc{constructor(){this._console=console}handleError(E){const I=this._findOriginalError(E);this._console.error("ERROR",E),I&&this._console.error("ORIGINAL ERROR",I)}_findOriginalError(E){let I=E&&Lm(E);for(;I&&Lm(I);)I=Lm(I);return I||null}}function Om(g){return E=>{setTimeout(g,void 0,E)}}const wi=class ow extends H{constructor(E=!1){super(),this.__isAsync=E}emit(E){super.next(E)}subscribe(E,I,U){let oe=E,_e=I||(()=>null),Ue=U;if(E&&"object"==typeof E){const ot=E;oe=ot.next?.bind(ot),_e=ot.error?.bind(ot),Ue=ot.complete?.bind(ot)}this.__isAsync&&(_e=Om(_e),oe&&(oe=Om(oe)),Ue&&(Ue=Om(Ue)));const $e=super.subscribe({next:oe,error:_e,complete:Ue});return E instanceof S&&E.add($e),$e}};function Hy(...g){}class Ba{constructor({enableLongStackTrace:E=!1,shouldCoalesceEventChangeDetection:I=!1,shouldCoalesceRunChangeDetection:U=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wi(!1),this.onMicrotaskEmpty=new wi(!1),this.onStable=new wi(!1),this.onError=new wi(!1),typeof Zone>"u")throw new In(908,!1);Zone.assertZonePatched();const oe=this;oe._nesting=0,oe._outer=oe._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(oe._inner=oe._inner.fork(new Zone.TaskTrackingZoneSpec)),E&&Zone.longStackTraceZoneSpec&&(oe._inner=oe._inner.fork(Zone.longStackTraceZoneSpec)),oe.shouldCoalesceEventChangeDetection=!U&&I,oe.shouldCoalesceRunChangeDetection=U,oe.lastRequestAnimationFrameId=-1,oe.nativeRequestAnimationFrame=function aw(){const g="function"==typeof gi.requestAnimationFrame;let E=gi[g?"requestAnimationFrame":"setTimeout"],I=gi[g?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&E&&I){const U=E[Zone.__symbol__("OriginalDelegate")];U&&(E=U);const oe=I[Zone.__symbol__("OriginalDelegate")];oe&&(I=oe)}return{nativeRequestAnimationFrame:E,nativeCancelAnimationFrame:I}}().nativeRequestAnimationFrame,function uw(g){const E=()=>{!function lw(g){g.isCheckStableRunning||-1!==g.lastRequestAnimationFrameId||(g.lastRequestAnimationFrameId=g.nativeRequestAnimationFrame.call(gi,()=>{g.fakeTopEventTask||(g.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{g.lastRequestAnimationFrameId=-1,Fm(g),g.isCheckStableRunning=!0,Rm(g),g.isCheckStableRunning=!1},void 0,()=>{},()=>{})),g.fakeTopEventTask.invoke()}),Fm(g))}(g)};g._inner=g._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(I,U,oe,_e,Ue,$e)=>{if(function fw(g){return!(!Array.isArray(g)||1!==g.length)&&!0===g[0].data?.__ignore_ng_zone__}($e))return I.invokeTask(oe,_e,Ue,$e);try{return qy(g),I.invokeTask(oe,_e,Ue,$e)}finally{(g.shouldCoalesceEventChangeDetection&&"eventTask"===_e.type||g.shouldCoalesceRunChangeDetection)&&E(),Gy(g)}},onInvoke:(I,U,oe,_e,Ue,$e,ot)=>{try{return qy(g),I.invoke(oe,_e,Ue,$e,ot)}finally{g.shouldCoalesceRunChangeDetection&&E(),Gy(g)}},onHasTask:(I,U,oe,_e)=>{I.hasTask(oe,_e),U===oe&&("microTask"==_e.change?(g._hasPendingMicrotasks=_e.microTask,Fm(g),Rm(g)):"macroTask"==_e.change&&(g.hasPendingMacrotasks=_e.macroTask))},onHandleError:(I,U,oe,_e)=>(I.handleError(oe,_e),g.runOutsideAngular(()=>g.onError.emit(_e)),!1)})}(oe)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ba.isInAngularZone())throw new In(909,!1)}static assertNotInAngularZone(){if(Ba.isInAngularZone())throw new In(909,!1)}run(E,I,U){return this._inner.run(E,I,U)}runTask(E,I,U,oe){const _e=this._inner,Ue=_e.scheduleEventTask("NgZoneEvent: "+oe,E,sw,Hy,Hy);try{return _e.runTask(Ue,I,U)}finally{_e.cancelTask(Ue)}}runGuarded(E,I,U){return this._inner.runGuarded(E,I,U)}runOutsideAngular(E){return this._outer.run(E)}}const sw={};function Rm(g){if(0==g._nesting&&!g.hasPendingMicrotasks&&!g.isStable)try{g._nesting++,g.onMicrotaskEmpty.emit(null)}finally{if(g._nesting--,!g.hasPendingMicrotasks)try{g.runOutsideAngular(()=>g.onStable.emit(null))}finally{g.isStable=!0}}}function Fm(g){g.hasPendingMicrotasks=!!(g._hasPendingMicrotasks||(g.shouldCoalesceEventChangeDetection||g.shouldCoalesceRunChangeDetection)&&-1!==g.lastRequestAnimationFrameId)}function qy(g){g._nesting++,g.isStable&&(g.isStable=!1,g.onUnstable.emit(null))}function Gy(g){g._nesting--,Rm(g)}class cw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wi,this.onMicrotaskEmpty=new wi,this.onStable=new wi,this.onError=new wi}run(E,I,U){return E.apply(I,U)}runGuarded(E,I,U){return E.apply(I,U)}runOutsideAngular(E){return E()}runTask(E,I,U,oe){return E.apply(I,U)}}const Wy=new ni("",{providedIn:"root",factory:Yy});function Yy(){const g=Si(Ba);let E=!0;return _n(new P(oe=>{E=g.isStable&&!g.hasPendingMacrotasks&&!g.hasPendingMicrotasks,g.runOutsideAngular(()=>{oe.next(E),oe.complete()})}),new P(oe=>{let _e;g.runOutsideAngular(()=>{_e=g.onStable.subscribe(()=>{Ba.assertNotInAngularZone(),queueMicrotask(()=>{!E&&!g.hasPendingMacrotasks&&!g.hasPendingMicrotasks&&(E=!0,oe.next(!0))})})});const Ue=g.onUnstable.subscribe(()=>{Ba.assertInAngularZone(),E&&(E=!1,g.runOutsideAngular(()=>{oe.next(!1)}))});return()=>{_e.unsubscribe(),Ue.unsubscribe()}}).pipe(Yn()))}let Nm=(()=>{class g{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=kr({token:g,providedIn:"root",factory:()=>new g})}return g})();function Sp(g){for(;g;){g[ri]|=64;const E=Ll(g);if($s(g)&&!E)return g;g=E}return null}const Jy=new ni("",{providedIn:"root",factory:()=>!1});let rg=null;function n1(g,E){return g[E]??o1()}function r1(g,E){const I=o1();I.producerNode?.length&&(g[E]=rg,I.lView=g,rg=i1())}const _w={...ne,consumerIsAlwaysLive:!0,consumerMarkedDirty:g=>{Sp(g.lView)},lView:null};function i1(){return Object.create(_w)}function o1(){return rg??=i1(),rg}const Ai={};function Ii(g,E=Nr.Default){const I=Ir();return null===I?ki(g,E):v0(xs(),I,an(g),E)}function ig(g,E,I,U,oe,_e,Ue,$e,ot,Tt,Vt){const un=E.blueprint.slice();return un[Vi]=oe,un[ri]=140|U,(null!==Tt||g&&2048&g[ri])&&(un[ri]|=2048),ph(un),un[Hi]=un[$a]=g,un[Ni]=I,un[va]=Ue||g&&g[va],un[Mr]=$e||g&&g[Mr],un[Ci]=ot||g&&g[Ci]||null,un[Mo]=_e,un[Ys]=function Wh(){return N0++}(),un[ya]=Vt,un[Cs]=Tt,un[no]=2==E.type?g[no]:un,un}function yd(g,E,I,U,oe){let _e=g.data[E];if(null===_e)_e=function zm(g,E,I,U,oe){const _e=Bd(),Ue=bh(),ot=g.data[E]=function Iw(g,E,I,U,oe,_e){let Ue=E?E.injectorIndex:-1,$e=0;return Vc()&&($e|=128),{type:I,index:U,insertBeforeIndex:null,injectorIndex:Ue,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:$e,providerIndexes:0,value:oe,attrs:_e,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:E,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Ue?_e:_e&&_e.parent,I,E,U,oe);return null===g.firstChild&&(g.firstChild=ot),null!==_e&&(Ue?null==_e.child&&null!==ot.parent&&(_e.child=ot):null===_e.next&&(_e.next=ot,ot.prev=_e)),ot}(g,E,I,U,oe),function jd(){return hi.lFrame.inI18n}()&&(_e.flags|=32);else if(64&_e.type){_e.type=I,_e.value=U,_e.attrs=oe;const Ue=function Hc(){const g=hi.lFrame,E=g.currentTNode;return g.isParent?E:E.parent}();_e.injectorIndex=null===Ue?-1:Ue.injectorIndex}return Ul(_e,!0),_e}function Ep(g,E,I,U){if(0===I)return-1;const oe=E.length;for(let _e=0;_e<I;_e++)E.push(U),g.blueprint.push(U),g.data.push(null);return oe}function s1(g,E,I,U,oe){const _e=n1(E,Sa),Ue=function as(){return hi.lFrame.selectedIndex}(),$e=2&U;try{Yu(-1),$e&&E.length>ii&&function a1(g,E,I,U){if(!U)if(3==(3&E[ri])){const _e=g.preOrderCheckHooks;null!==_e&&Ah(E,_e,I)}else{const _e=g.preOrderHooks;null!==_e&&Yc(E,_e,0,I)}Yu(I)}(g,E,ii,!1),_i($e?2:0,oe);const Tt=$e?_e:null,Vt=Ze(Tt);try{null!==Tt&&(Tt.dirty=!1),I(U,oe)}finally{Ke(Tt,Vt)}}finally{$e&&null===E[Sa]&&r1(E,Sa),Yu(Ue),_i($e?3:1,oe)}}function Bm(g,E,I){if(al(E)){const U=Y(null);try{const _e=E.directiveEnd;for(let Ue=E.directiveStart;Ue<_e;Ue++){const $e=g.data[Ue];$e.contentQueries&&$e.contentQueries(1,I[Ue],Ue)}}finally{Y(U)}}}function l1(g){const E=g.tView;return null===E||E.incompleteFirstPass?g.tView=Vm(1,null,g.template,g.decls,g.vars,g.directiveDefs,g.pipeDefs,g.viewQuery,g.schemas,g.consts,g.id):E}function Vm(g,E,I,U,oe,_e,Ue,$e,ot,Tt,Vt){const un=ii+U,Sn=un+oe,Rn=function Aw(g,E){const I=[];for(let U=0;U<E;U++)I.push(U<g?null:Ai);return I}(un,Sn),ir="function"==typeof Tt?Tt():Tt;return Rn[jr]={type:g,blueprint:Rn,template:I,queries:null,viewQuery:$e,declTNode:E,data:Rn.slice().fill(null,un),bindingStartIndex:un,expandoStartIndex:Sn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _e?_e():_e,pipeRegistry:"function"==typeof Ue?Ue():Ue,firstChild:null,schemas:ot,consts:ir,incompleteFirstPass:!1,ssrId:Vt}}let u1=g=>null;function c1(g,E,I,U){for(let oe in g)if(g.hasOwnProperty(oe)){I=null===I?{}:I;const _e=g[oe];null===U?f1(I,E,oe,_e):U.hasOwnProperty(oe)&&f1(I,E,U[oe],_e)}return I}function f1(g,E,I,U){g.hasOwnProperty(I)?g[I].push(E,U):g[I]=[E,U]}function h1(g,E,I,U,oe,_e){for(let Tt=0;Tt<U.length;Tt++)Ih(Ch(I,E),g,U[Tt].type);!function Hw(g,E,I){g.flags|=1,g.directiveStart=E,g.directiveEnd=E+I,g.providerIndexes=E}(I,g.data.length,U.length);for(let Tt=0;Tt<U.length;Tt++){const Vt=U[Tt];Vt.providersResolver&&Vt.providersResolver(Vt)}let Ue=!1,$e=!1,ot=Ep(g,E,U.length,null);for(let Tt=0;Tt<U.length;Tt++){const Vt=U[Tt];I.mergedAttrs=ka(I.mergedAttrs,Vt.hostAttrs),qw(g,I,E,ot,Vt),Vw(ot,Vt,oe),null!==Vt.contentQueries&&(I.flags|=4),(null!==Vt.hostBindings||null!==Vt.hostAttrs||0!==Vt.hostVars)&&(I.flags|=64);const un=Vt.type.prototype;!Ue&&(un.ngOnChanges||un.ngOnInit||un.ngDoCheck)&&((g.preOrderHooks??=[]).push(I.index),Ue=!0),!$e&&(un.ngOnChanges||un.ngDoCheck)&&((g.preOrderCheckHooks??=[]).push(I.index),$e=!0),ot++}!function Lw(g,E,I){const oe=E.directiveEnd,_e=g.data,Ue=E.attrs,$e=[];let ot=null,Tt=null;for(let Vt=E.directiveStart;Vt<oe;Vt++){const un=_e[Vt],Sn=I?I.get(un):null,ir=Sn?Sn.outputs:null;ot=c1(un.inputs,Vt,ot,Sn?Sn.inputs:null),Tt=c1(un.outputs,Vt,Tt,ir);const _r=null===ot||null===Ue||$l(E)?null:Yw(ot,Vt,Ue);$e.push(_r)}null!==ot&&(ot.hasOwnProperty("class")&&(E.flags|=8),ot.hasOwnProperty("style")&&(E.flags|=16)),E.initialInputs=$e,E.inputs=ot,E.outputs=Tt}(g,I,_e)}function d1(g,E,I){const U=I.directiveStart,oe=I.directiveEnd,_e=I.index,Ue=function n0(){return hi.lFrame.currentDirectiveIndex}();try{Yu(_e);for(let $e=U;$e<oe;$e++){const ot=g.data[$e],Tt=E[$e];du($e),(null!==ot.hostBindings||0!==ot.hostVars||null!==ot.hostAttrs)&&Bw(ot,Tt)}}finally{Yu(-1),du(Ue)}}function Bw(g,E){null!==g.hostBindings&&g.hostBindings(1,E)}function qm(g,E,I){E.componentOffset=I,(g.components??=[]).push(E.index)}function Vw(g,E,I){if(I){if(E.exportAs)for(let U=0;U<E.exportAs.length;U++)I[E.exportAs[U]]=g;Zo(E)&&(I[""]=g)}}function qw(g,E,I,U,oe){g.data[U]=oe;const _e=oe.factory||(oe.factory=at(oe.type)),Ue=new If(_e,Zo(oe),Ii);g.blueprint[U]=Ue,I[U]=Ue,function Fw(g,E,I,U,oe){const _e=oe.hostBindings;if(_e){let Ue=g.hostBindingOpCodes;null===Ue&&(Ue=g.hostBindingOpCodes=[]);const $e=~E.index;(function Nw(g){let E=g.length;for(;E>0;){const I=g[--E];if("number"==typeof I&&I<0)return I}return 0})(Ue)!=$e&&Ue.push($e),Ue.push(I,U,_e)}}(g,E,U,Ep(g,I,oe.hostVars,Ai),oe)}function ac(g,E,I,U,oe,_e){const Ue=Jo(g,E);!function Gm(g,E,I,U,oe,_e,Ue){if(null==_e)g.removeAttribute(E,oe,I);else{const $e=null==Ue?ur(_e):Ue(_e,U||"",oe);g.setAttribute(E,oe,$e,I)}}(E[Mr],Ue,_e,g.value,I,U,oe)}function Ww(g,E,I,U,oe,_e){const Ue=_e[E];if(null!==Ue)for(let $e=0;$e<Ue.length;)p1(U,I,Ue[$e++],Ue[$e++],Ue[$e++])}function p1(g,E,I,U,oe){const _e=Y(null);try{const Ue=g.inputTransforms;null!==Ue&&Ue.hasOwnProperty(U)&&(oe=Ue[U].call(E,oe)),null!==g.setInput?g.setInput(E,oe,I,U):E[U]=oe}finally{Y(_e)}}function Yw(g,E,I){let U=null,oe=0;for(;oe<I.length;){const _e=I[oe];if(0!==_e)if(5!==_e){if("number"==typeof _e)break;if(g.hasOwnProperty(_e)){null===U&&(U=[]);const Ue=g[_e];for(let $e=0;$e<Ue.length;$e+=2)if(Ue[$e]===E){U.push(_e,Ue[$e+1],I[oe+1]);break}}oe+=2}else oe+=2;else oe+=4}return U}function m1(g,E){const I=g.contentQueries;if(null!==I)for(let U=0;U<I.length;U+=2){const _e=I[U+1];if(-1!==_e){const Ue=g.data[_e];Ud(I[U]),Ue.contentQueries(2,E[_e],_e)}}}function og(g,E){return g[Ws]?g[hu][vo]=E:g[Ws]=E,g[hu]=E,E}function Wm(g,E,I){Ud(0);const U=Y(null);try{E(g,I)}finally{Y(U)}}function Ym(g,E,I,U,oe){for(let _e=0;_e<I.length;){const Ue=I[_e++],$e=I[_e++];p1(g.data[Ue],E[Ue],U,$e,oe)}}function Zw(g,E){const I=Ho(E,g),U=I[jr];!function Xw(g,E){for(let I=E.length;I<g.blueprint.length;I++)E.push(g.blueprint[I])}(U,I);const oe=I[Vi];null!==oe&&null===I[ya]&&(I[ya]=km(oe,I[Ci])),Zm(U,I,I[Ni])}function Zm(g,E,I){Vd(E);try{const U=g.viewQuery;null!==U&&Wm(1,U,I);const oe=g.template;null!==oe&&s1(g,E,oe,1,I),g.firstCreatePass&&(g.firstCreatePass=!1),g.staticContentQueries&&m1(g,E),g.staticViewQueries&&Wm(2,g.viewQuery,I);const _e=g.components;null!==_e&&function $w(g,E){for(let I=0;I<E.length;I++)Zw(g,E[I])}(E,_e)}catch(U){throw g.firstCreatePass&&(g.incompleteFirstPass=!0,g.firstCreatePass=!1),U}finally{E[ri]&=-5,Wu()}}let _1=(()=>{class g{constructor(){this.all=new Set,this.queue=new Map}create(I,U,oe){const _e=typeof Zone>"u"?null:Zone.current,Ue=function Wr(g,E,I){const U=Object.create(si);I&&(U.consumerAllowSignalWrites=!0),U.fn=g,U.schedule=E;const oe=Ue=>{U.cleanupFn=Ue};return U.ref={notify:()=>Be(U),run:()=>{if(U.dirty=!1,U.hasRun&&!lt(U))return;U.hasRun=!0;const Ue=Ze(U);try{U.cleanupFn(),U.cleanupFn=Kr,U.fn(oe)}finally{Ke(U,Ue)}},cleanup:()=>U.cleanupFn()},U.ref}(I,Tt=>{this.all.has(Tt)&&this.queue.set(Tt,_e)},oe);let $e;this.all.add(Ue),Ue.notify();const ot=()=>{Ue.cleanup(),$e?.(),this.all.delete(Ue),this.queue.delete(Ue)};return $e=U?.onDestroy(ot),{destroy:ot}}flush(){if(0!==this.queue.size)for(const[I,U]of this.queue)this.queue.delete(I),U?U.run(()=>I.run()):I.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=kr({token:g,providedIn:"root",factory:()=>new g})}return g})();function ag(g,E,I){let U=I?g.styles:null,oe=I?g.classes:null,_e=0;if(null!==E)for(let Ue=0;Ue<E.length;Ue++){const $e=E[Ue];"number"==typeof $e?_e=$e:1==_e?oe=cr(oe,$e):2==_e&&(U=cr(U,$e+": "+E[++Ue]+";"))}I?g.styles=U:g.stylesWithoutHost=U,I?g.classes=oe:g.classesWithoutHost=oe}function Cp(g,E,I,U,oe=!1){for(;null!==I;){const _e=E[I.index];null!==_e&&U.push(li(_e)),Yo(_e)&&w1(_e,U);const Ue=I.type;if(8&Ue)Cp(g,E,I.child,U);else if(32&Ue){const $e=Yf(I,E);let ot;for(;ot=$e();)U.push(ot)}else if(16&Ue){const $e=Mi(E,I);if(Array.isArray($e))U.push(...$e);else{const ot=Ll(E[no]);Cp(ot[jr],ot,$e,U,!0)}}I=oe?I.projectionNext:I.next}return U}function w1(g,E){for(let I=qi;I<g.length;I++){const U=g[I],oe=U[jr].firstChild;null!==oe&&Cp(U[jr],U,oe,E)}g[Oa]!==g[Vi]&&E.push(g[Oa])}function sg(g,E,I,U=!0){const oe=E[va],_e=oe.rendererFactory,Ue=oe.afterRenderEventManager;_e.begin?.(),Ue?.begin();try{T1(g,E,g.template,I)}catch(ot){throw U&&function b1(g,E){const I=g[Ci],U=I?I.get(Oc,null):null;U&&U.handleError(E)}(E,ot),ot}finally{_e.end?.(),oe.effectManager?.flush(),Ue?.end()}}function T1(g,E,I,U){const oe=E[ri];if(256!=(256&oe)){E[va].effectManager?.flush(),Vd(E);try{ph(E),function e0(g){return hi.lFrame.bindingIndex=g}(g.bindingStartIndex),null!==I&&s1(g,E,I,2,U);const Ue=3==(3&oe);if(Ue){const Tt=g.preOrderCheckHooks;null!==Tt&&Ah(E,Tt,null)}else{const Tt=g.preOrderHooks;null!==Tt&&Yc(E,Tt,0,null),Hd(E,0)}if(function Qw(g){for(let E=U0(g);null!==E;E=_a(E)){if(!E[Ds])continue;const I=E[mi];for(let U=0;U<I.length;U++){gh(I[U])}}}(E),M1(E,2),null!==g.contentQueries&&m1(g,E),Ue){const Tt=g.contentCheckHooks;null!==Tt&&Ah(E,Tt)}else{const Tt=g.contentHooks;null!==Tt&&Yc(E,Tt,1),Hd(E,1)}!function Mw(g,E){const I=g.hostBindingOpCodes;if(null===I)return;const U=n1(E,xa);try{for(let oe=0;oe<I.length;oe++){const _e=I[oe];if(_e<0)Yu(~_e);else{const Ue=_e,$e=I[++oe],ot=I[++oe];_h($e,Ue),U.dirty=!1;const Tt=Ze(U);try{ot(2,E[Ue])}finally{Ke(U,Tt)}}}}finally{null===E[xa]&&r1(E,xa),Yu(-1)}}(g,E);const $e=g.components;null!==$e&&k1(E,$e,0);const ot=g.viewQuery;if(null!==ot&&Wm(2,ot,U),Ue){const Tt=g.viewCheckHooks;null!==Tt&&Ah(E,Tt)}else{const Tt=g.viewHooks;null!==Tt&&Yc(E,Tt,2),Hd(E,2)}!0===g.firstUpdatePass&&(g.firstUpdatePass=!1),E[ri]&=-73,mh(E)}finally{Wu()}}}function M1(g,E){for(let I=U0(g);null!==I;I=_a(I))for(let U=qi;U<I.length;U++)A1(I[U],E)}function e3(g,E,I){A1(Ho(E,g),I)}function A1(g,E){if(!function Ka(g){return 128==(128&g[ri])}(g))return;const I=g[jr],U=g[ri];if(80&U&&0===E||1024&U||2===E)T1(I,g,I.template,g[Ni]);else if(g[ds]>0){M1(g,1);const oe=I.components;null!==oe&&k1(g,oe,1)}}function k1(g,E,I){for(let U=0;U<E.length;U++)e3(g,E[U],I)}class Dp{get rootNodes(){const E=this._lView,I=E[jr];return Cp(I,E,I.firstChild,[])}constructor(E,I){this._lView=E,this._cdRefInjectingView=I,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ni]}set context(E){this._lView[Ni]=E}get destroyed(){return 256==(256&this._lView[ri])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const E=this._lView[Hi];if(Yo(E)){const I=E[8],U=I?I.indexOf(this):-1;U>-1&&(qt(E,U),bc(I,U))}this._attachedToViewContainer=!1}Qt(this._lView[jr],this._lView)}onDestroy(E){!function vh(g,E){if(256==(256&g[ri]))throw new In(911,!1);null===g[lo]&&(g[lo]=[]),g[lo].push(E)}(this._lView,E)}markForCheck(){Sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ri]&=-129}reattach(){this._lView[ri]|=128}detectChanges(){sg(this._lView[jr],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new In(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ye(g,E){eo(g,E,E[Mr],2,null,null)}(this._lView[jr],this._lView)}attachToAppRef(E){if(this._attachedToViewContainer)throw new In(902,!1);this._appRef=E}}class t3 extends Dp{constructor(E){super(E),this._view=E}detectChanges(){const E=this._view;sg(E[jr],E,E[Ni],!1)}checkNoChanges(){}get context(){return null}}class S1 extends tg{constructor(E){super(),this.ngModule=E}resolveComponentFactory(E){const I=fi(E);return new Ip(I,this.ngModule)}}function E1(g){const E=[];for(let I in g)g.hasOwnProperty(I)&&E.push({propName:g[I],templateName:I});return E}class r3{constructor(E,I){this.injector=E,this.parentInjector=I}get(E,I,U){U=Vs(U);const oe=this.injector.get(E,Dm,U);return oe!==Dm||I===Dm?oe:this.parentInjector.get(E,I,U)}}class Ip extends Py{get inputs(){const E=this.componentDef,I=E.inputTransforms,U=E1(E.inputs);if(null!==I)for(const oe of U)I.hasOwnProperty(oe.propName)&&(oe.transform=I[oe.propName]);return U}get outputs(){return E1(this.componentDef.outputs)}constructor(E,I){super(),this.componentDef=E,this.ngModule=I,this.componentType=E.type,this.selector=function ol(g){return g.map(Ui).join(",")}(E.selectors),this.ngContentSelectors=E.ngContentSelectors?E.ngContentSelectors:[],this.isBoundToModule=!!I}create(E,I,U,oe){let _e=(oe=oe||this.ngModule)instanceof pl?oe:oe?.injector;_e&&null!==this.componentDef.getStandaloneInjector&&(_e=this.componentDef.getStandaloneInjector(_e)||_e);const Ue=_e?new r3(E,_e):E,$e=Ue.get(Ry,null);if(null===$e)throw new In(407,!1);const un={rendererFactory:$e,sanitizer:Ue.get(K_,null),effectManager:Ue.get(_1,null),afterRenderEventManager:Ue.get(Nm,null)},Sn=$e.createRenderer(null,this.componentDef),Rn=this.componentDef.selectors[0][0]||"div",ir=U?function kw(g,E,I,U){const _e=U.get(Jy,!1)||I===$o.ShadowDom,Ue=g.selectRootElement(E,_e);return function Sw(g){u1(g)}(Ue),Ue}(Sn,U,this.componentDef.encapsulation,Ue):de(Sn,Rn,function n3(g){const E=g.toLowerCase();return"svg"===E?"svg":"math"===E?"math":null}(Rn)),Vr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Tr=null;null!==ir&&(Tr=km(ir,Ue,!0));const ci=Vm(0,null,null,1,0,null,null,null,null,null,null),bi=ig(null,ci,null,Vr,null,null,un,Sn,Ue,null,Tr);let so,Wl;Vd(bi);try{const Uc=this.componentDef;let Rd,yy=null;Uc.findHostDirectiveDefs?(Rd=[],yy=new Map,Uc.findHostDirectiveDefs(Uc,Rd,yy),Rd.push(Uc)):Rd=[Uc];const Qk=function o3(g,E){const I=g[jr],U=ii;return g[U]=E,yd(I,U,2,"#host",null)}(bi,ir),e8=function a3(g,E,I,U,oe,_e,Ue){const $e=oe[jr];!function s3(g,E,I,U){for(const oe of g)E.mergedAttrs=ka(E.mergedAttrs,oe.hostAttrs);null!==E.mergedAttrs&&(ag(E,E.mergedAttrs,!0),null!==I&&Fa(U,I,E))}(U,g,E,Ue);let ot=null;null!==E&&(ot=km(E,oe[Ci]));const Tt=_e.rendererFactory.createRenderer(E,I);let Vt=16;I.signals?Vt=4096:I.onPush&&(Vt=64);const un=ig(oe,l1(I),null,Vt,oe[g.index],g,_e,Tt,null,null,ot);return $e.firstCreatePass&&qm($e,g,U.length-1),og(oe,un),oe[g.index]=un}(Qk,ir,Uc,Rd,bi,un,Sn);Wl=nu(ci,ii),ir&&function u3(g,E,I,U){if(U)Ss(g,I,["ng-version",J_.full]);else{const{attrs:oe,classes:_e}=function la(g){const E=[],I=[];let U=1,oe=2;for(;U<g.length;){let _e=g[U];if("string"==typeof _e)2===oe?""!==_e&&E.push(_e,g[++U]):8===oe&&I.push(_e);else{if(!rs(oe))break;oe=_e}U++}return{attrs:E,classes:I}}(E.selectors[0]);oe&&Ss(g,I,oe),_e&&_e.length>0&&wa(g,I,_e.join(" "))}}(Sn,Uc,ir,U),void 0!==I&&function c3(g,E,I){const U=g.projection=[];for(let oe=0;oe<E.length;oe++){const _e=I[oe];U.push(null!=_e?Array.from(_e):null)}}(Wl,this.ngContentSelectors,I),so=function l3(g,E,I,U,oe,_e){const Ue=xs(),$e=oe[jr],ot=Jo(Ue,oe);h1($e,oe,Ue,I,null,U);for(let Vt=0;Vt<I.length;Vt++)_s(gc(oe,$e,Ue.directiveStart+Vt,Ue),oe);d1($e,oe,Ue),ot&&_s(ot,oe);const Tt=gc(oe,$e,Ue.directiveStart+Ue.componentOffset,Ue);if(g[Ni]=oe[Ni]=Tt,null!==_e)for(const Vt of _e)Vt(Tt,E);return Bm($e,Ue,g),Tt}(e8,Uc,Rd,yy,bi,[f3]),Zm(ci,bi,null)}finally{Wu()}return new i3(this.componentType,so,pd(Wl,bi),bi,Wl)}}class i3 extends G_{constructor(E,I,U,oe,_e){super(),this.location=U,this._rootLView=oe,this._tNode=_e,this.previousInputValues=null,this.instance=I,this.hostView=this.changeDetectorRef=new t3(oe),this.componentType=E}setInput(E,I){const U=this._tNode.inputs;let oe;if(null!==U&&(oe=U[E])){if(this.previousInputValues??=new Map,this.previousInputValues.has(E)&&Object.is(this.previousInputValues.get(E),I))return;const _e=this._rootLView;Ym(_e[jr],_e,oe,E,I),this.previousInputValues.set(E,I),Sp(Ho(this._tNode.index,_e))}}get injector(){return new Ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(E){this.hostView.onDestroy(E)}}function f3(){const g=xs();Xu(Ir()[jr],g)}function ug(g){return!!Xm(g)&&(Array.isArray(g)||!(g instanceof Map)&&Symbol.iterator in g)}function Xm(g){return null!==g&&("function"==typeof g||"object"==typeof g)}function ml(g,E,I){return!Object.is(g[E],I)&&(g[E]=I,!0)}function $m(g,E,I,U){const oe=Ir();return ml(oe,qc(),E)&&(ao(),ac(Xo(),oe,g,E,I,U)),$m}function pg(g,E,I){const U=Ir();return ml(U,qc(),E)&&function lu(g,E,I,U,oe,_e,Ue,$e){const ot=Jo(E,I);let Vt,Tt=E.inputs;!$e&&null!=Tt&&(Vt=Tt[U])?(Ym(g,I,Vt,U,oe),Uo(E)&&function Ow(g,E){const I=Ho(E,g);16&I[ri]||(I[ri]|=64)}(I,E.index)):3&E.type&&(U=function Pw(g){return"class"===g?"className":"for"===g?"htmlFor":"formaction"===g?"formAction":"innerHtml"===g?"innerHTML":"readonly"===g?"readOnly":"tabindex"===g?"tabIndex":g}(U),oe=null!=Ue?Ue(oe,E.value||"",U):oe,_e.setProperty(ot,U,oe))}(ao(),Xo(),U,g,E,U[Mr],I,!1),pg}function nv(g,E,I,U,oe){const Ue=oe?"class":"style";Ym(g,I,E.inputs[Ue],Ue,U)}function gg(g,E,I,U){const oe=Ir(),_e=ao(),Ue=ii+g,$e=oe[Mr],ot=_e.firstCreatePass?function Y3(g,E,I,U,oe,_e){const Ue=E.consts,ot=yd(E,g,2,U,ll(Ue,oe));return function Hm(g,E,I,U){if(Ef()){const oe=null===U?null:{"":-1},_e=function jw(g,E){const I=g.directiveRegistry;let U=null,oe=null;if(I)for(let _e=0;_e<I.length;_e++){const Ue=I[_e];if(il(E,Ue.selectors,!1))if(U||(U=[]),Zo(Ue))if(null!==Ue.findHostDirectiveDefs){const $e=[];oe=oe||new Map,Ue.findHostDirectiveDefs(Ue,$e,oe),U.unshift(...$e,Ue),qm(g,E,$e.length)}else U.unshift(Ue),qm(g,E,0);else oe=oe||new Map,Ue.findHostDirectiveDefs?.(Ue,U,oe),U.push(Ue)}return null===U?null:[U,oe]}(g,I);let Ue,$e;null===_e?Ue=$e=null:[Ue,$e]=_e,null!==Ue&&h1(g,E,I,Ue,oe,$e),oe&&function Uw(g,E,I){if(E){const U=g.localNames=[];for(let oe=0;oe<E.length;oe+=2){const _e=I[E[oe+1]];if(null==_e)throw new In(-301,!1);U.push(E[oe],_e)}}}(I,U,oe)}I.mergedAttrs=ka(I.mergedAttrs,I.attrs)}(E,I,ot,ll(Ue,_e)),null!==ot.attrs&&ag(ot,ot.attrs,!1),null!==ot.mergedAttrs&&ag(ot,ot.mergedAttrs,!0),null!==E.queries&&E.queries.elementStart(E,ot),ot}(Ue,_e,oe,E,I,U):_e.data[Ue],Tt=Z1(_e,oe,ot,$e,E,g);oe[Ue]=Tt;const Vt=function yi(g){return 1==(1&g.flags)}(ot);return Ul(ot,!0),Fa($e,Tt,ot),32!=(32&ot.flags)&&function Wc(){return Mh}()&&function Jr(g,E,I,U){const oe=On(g,U,E),_e=E[Mr],$e=Br(U.parent||E[Mo],U,E);if(null!=oe)if(Array.isArray(I))for(let ot=0;ot<I.length;ot++)rr(_e,oe,I[ot],$e,!1);else rr(_e,oe,I,$e,!1);void 0!==$r&&$r(_e,U,E,I,oe)}(_e,oe,Tt,ot),0===function Yg(){return hi.lFrame.elementDepthCount}()&&_s(Tt,oe),function Sf(){hi.lFrame.elementDepthCount++}(),Vt&&(function jm(g,E,I){Ef()&&(function zw(g,E,I,U){const oe=I.directiveStart,_e=I.directiveEnd;Uo(I)&&function Gw(g,E,I){const U=Jo(E,g),oe=l1(I);let Ue=16;I.signals?Ue=4096:I.onPush&&(Ue=64);const $e=og(g,ig(g,oe,null,Ue,U,E,null,g[va].rendererFactory.createRenderer(U,I),null,null,null));g[E.index]=$e}(E,I,g.data[oe+I.componentOffset]),g.firstCreatePass||Ch(I,E),_s(U,E);const Ue=I.initialInputs;for(let $e=oe;$e<_e;$e++){const ot=g.data[$e],Tt=gc(E,g,$e,I);_s(Tt,E),null!==Ue&&Ww(0,$e-oe,Tt,ot,0,Ue),Zo(ot)&&(Ho(I.index,E)[Ni]=gc(E,g,$e,I))}}(g,E,I,Jo(I,E)),64==(64&I.flags)&&d1(g,E,I))}(_e,oe,ot),Bm(_e,ot,oe)),null!==U&&function Um(g,E,I=Jo){const U=E.localNames;if(null!==U){let oe=E.index+1;for(let _e=0;_e<U.length;_e+=2){const Ue=U[_e+1],$e=-1===Ue?I(E,g):g[Ue];g[oe++]=$e}}}(oe,ot),gg}function mg(){let g=xs();bh()?Cf():(g=g.parent,Ul(g,!1));const E=g;(function Zg(g){return hi.skipHydrationRootTNode===g})(E)&&function Xg(){hi.skipHydrationRootTNode=null}(),function yh(){hi.lFrame.elementDepthCount--}();const I=ao();return I.firstCreatePass&&(Xu(I,g),al(g)&&I.queries.elementEnd(g)),null!=E.classesWithoutHost&&function em(g){return 0!=(8&g.flags)}(E)&&nv(I,E,Ir(),E.classesWithoutHost,!0),null!=E.stylesWithoutHost&&function tm(g){return 0!=(16&g.flags)}(E)&&nv(I,E,Ir(),E.stylesWithoutHost,!1),mg}function rv(g,E,I,U){return gg(g,E,I,U),mg(),rv}let Z1=(g,E,I,U,oe,_e)=>(function Zu(g){Mh=g}(!0),de(U,oe,function Gc(){return hi.lFrame.currentNamespace}()));function av(g){return!!g&&"function"==typeof g.then}function K1(g){return!!g&&"function"==typeof g.subscribe}function n4(g,E){let I=null;const U=function zl(g){const E=g.attrs;if(null!=E){const I=E.indexOf(5);if(!(1&I))return E[I+1]}return null}(g);for(let oe=0;oe<E.length;oe++){const _e=E[oe];if("*"!==_e){if(null===U?il(g,_e,!0):Kl(U,_e))return oe}else I=oe}return I}const Dd="en-US";let Jx=Dd;function gv(g,E,I,U,oe){if(g=an(g),Array.isArray(g))for(let _e=0;_e<g.length;_e++)gv(g[_e],E,I,U,oe);else{const _e=ao(),Ue=Ir(),$e=xs();let ot=Fs(g)?g:an(g.provide);const Tt=ld(g),Vt=1048575&$e.providerIndexes,un=$e.directiveStart,Sn=$e.providerIndexes>>20;if(Fs(g)||!g.multi){const Rn=new If(Tt,oe,Ii),ir=vv(ot,E,oe?Vt:Vt+Sn,un);-1===ir?(Ih(Ch($e,Ue),_e,ot),mv(_e,g,E.length),E.push(ot),$e.directiveStart++,$e.directiveEnd++,oe&&($e.providerIndexes+=1048576),I.push(Rn),Ue.push(Rn)):(I[ir]=Rn,Ue[ir]=Rn)}else{const Rn=vv(ot,E,Vt+Sn,un),ir=vv(ot,E,Vt,Vt+Sn),Fr=ir>=0&&I[ir];if(oe&&!Fr||!oe&&!(Rn>=0&&I[Rn])){Ih(Ch($e,Ue),_e,ot);const Vr=function W5(g,E,I,U,oe){const _e=new If(g,I,Ii);return _e.multi=[],_e.index=E,_e.componentProviders=0,T2(_e,oe,U&&!I),_e}(oe?G5:q5,I.length,oe,U,Tt);!oe&&Fr&&(I[ir].providerFactory=Vr),mv(_e,g,E.length,0),E.push(ot),$e.directiveStart++,$e.directiveEnd++,oe&&($e.providerIndexes+=1048576),I.push(Vr),Ue.push(Vr)}else mv(_e,g,Rn>-1?Rn:ir,T2(I[oe?ir:Rn],Tt,!oe&&U));!oe&&U&&Fr&&I[ir].componentProviders++}}}function mv(g,E,I,U){const oe=Fs(E),_e=function wm(g){return!!g.useClass}(E);if(oe||_e){const ot=(_e?an(E.useClass):E).prototype.ngOnDestroy;if(ot){const Tt=g.destroyHooks||(g.destroyHooks=[]);if(!oe&&E.multi){const Vt=Tt.indexOf(I);-1===Vt?Tt.push(I,[U,ot]):Tt[Vt+1].push(U,ot)}else Tt.push(I,ot)}}}function T2(g,E,I){return I&&g.componentProviders++,g.multi.push(E)-1}function vv(g,E,I,U){for(let oe=I;oe<U;oe++)if(E[oe]===g)return oe;return-1}function q5(g,E,I,U){return yv(this.multi,[])}function G5(g,E,I,U){const oe=this.multi;let _e;if(this.providerFactory){const Ue=this.providerFactory.componentProviders,$e=gc(I,I[jr],this.providerFactory.index,U);_e=$e.slice(0,Ue),yv(oe,_e);for(let ot=Ue;ot<$e.length;ot++)_e.push($e[ot])}else _e=[],yv(oe,_e);return _e}function yv(g,E){for(let I=0;I<g.length;I++)E.push((0,g[I])());return E}function M2(g,E=[]){return I=>{I.providersResolver=(U,oe)=>function H5(g,E,I){const U=ao();if(U.firstCreatePass){const oe=Zo(g);gv(I,U.data,U.blueprint,oe,!0),gv(E,U.data,U.blueprint,oe,!1)}}(U,oe?oe(g):g,E)}}class fh{}class Y5{}class xv extends fh{constructor(E,I,U){super(),this._parent=I,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new S1(this);const oe=function ua(g,E){const I=g[Ml]||null;if(!I&&!0===E)throw new Error(`Type ${lr(g)} does not have '\u0275mod' property.`);return I}(E);this._bootstrapComponents=function Rc(g){return g instanceof Function?g():g}(oe.bootstrap),this._r3Injector=Uy(E,I,[{provide:fh,useValue:this},{provide:tg,useValue:this.componentFactoryResolver},...U],lr(E),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(E)}get injector(){return this._r3Injector}destroy(){const E=this._r3Injector;!E.destroyed&&E.destroy(),this.destroyCbs.forEach(I=>I()),this.destroyCbs=null}onDestroy(E){this.destroyCbs.push(E)}}class bv extends Y5{constructor(E){super(),this.moduleType=E}create(E){return new xv(this.moduleType,E,[])}}function M6(){return this._results[Symbol.iterator]()}class wv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new wi)}constructor(E=!1){this._emitDistinctChangesOnly=E,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const I=wv.prototype;I[Symbol.iterator]||(I[Symbol.iterator]=M6)}get(E){return this._results[E]}map(E){return this._results.map(E)}filter(E){return this._results.filter(E)}find(E){return this._results.find(E)}reduce(E,I){return this._results.reduce(E,I)}forEach(E){this._results.forEach(E)}some(E){return this._results.some(E)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(E,I){const U=this;U.dirty=!1;const oe=function Cl(g){return g.flat(Number.POSITIVE_INFINITY)}(E);(this._changesDetected=!function cm(g,E,I){if(g.length!==E.length)return!1;for(let U=0;U<g.length;U++){let oe=g[U],_e=E[U];if(I&&(oe=I(oe),_e=I(_e)),_e!==oe)return!1}return!0}(U._results,oe,I))&&(U._results=oe,U.length=oe.length,U.last=oe[this.length-1],U.first=oe[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function k6(g,E,I,U=!0){const oe=E[jr];if(function mt(g,E,I,U){const oe=qi+U,_e=I.length;U>0&&(I[oe-1][vo]=E),U<_e-qi?(E[vo]=I[oe],Ps(I,qi+U,E)):(I.push(E),E[vo]=null),E[Hi]=I;const Ue=E[ps];null!==Ue&&I!==Ue&&function Et(g,E){const I=g[mi];E[no]!==E[Hi][Hi][no]&&(g[Ds]=!0),null===I?g[mi]=[E]:I.push(E)}(Ue,E);const $e=E[Pr];null!==$e&&$e.insertView(g),E[ri]|=128}(oe,E,g,I),U){const _e=di(I,g),Ue=E[Mr],$e=Rr(Ue,g[Oa]);null!==$e&&function Fe(g,E,I,U,oe,_e){U[Vi]=oe,U[Mo]=E,eo(g,U,I,1,oe,_e)}(oe,g[Mo],Ue,E,$e,_e)}}let Nc=(()=>{class g{static#e=this.__NG_ELEMENT_ID__=C6}return g})();const S6=Nc,E6=class extends S6{constructor(E,I,U){super(),this._declarationLView=E,this._declarationTContainer=I,this.elementRef=U}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(E,I){return this.createEmbeddedViewImpl(E,I)}createEmbeddedViewImpl(E,I,U){const oe=function A6(g,E,I,U){const oe=E.tView,$e=ig(g,oe,I,4096&g[ri]?4096:16,null,E,null,null,null,U?.injector??null,U?.hydrationInfo??null);$e[ps]=g[E.index];const Tt=g[Pr];return null!==Tt&&($e[Pr]=Tt.createEmbeddedView(oe)),Zm(oe,$e,I),$e}(this._declarationLView,this._declarationTContainer,E,{injector:I,hydrationInfo:U});return new Dp(oe)}};function C6(){return Tg(xs(),Ir())}function Tg(g,E){return 4&g.type?new E6(E,g,pd(g,E)):null}let cc=(()=>{class g{static#e=this.__NG_ELEMENT_ID__=R6}return g})();function R6(){return H2(xs(),Ir())}const F6=cc,U2=class extends F6{constructor(E,I,U){super(),this._lContainer=E,this._hostTNode=I,this._hostLView=U}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new Ja(this._hostTNode,this._hostLView)}get parentInjector(){const E=Dh(this._hostTNode,this._hostLView);if(qd(E)){const I=Of(E,this._hostLView),U=Pf(E);return new Ja(I[jr].data[U+8],I)}return new Ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(E){const I=V2(this._lContainer);return null!==I&&I[E]||null}get length(){return this._lContainer.length-qi}createEmbeddedView(E,I,U){let oe,_e;"number"==typeof U?oe=U:null!=U&&(oe=U.index,_e=U.injector);const $e=E.createEmbeddedViewImpl(I||{},_e,null);return this.insertImpl($e,oe,false),$e}createComponent(E,I,U,oe,_e){const Ue=E&&!function Bf(g){return"function"==typeof g}(E);let $e;if(Ue)$e=I;else{const _r=I||{};$e=_r.index,U=_r.injector,oe=_r.projectableNodes,_e=_r.environmentInjector||_r.ngModuleRef}const ot=Ue?E:new Ip(fi(E)),Tt=U||this.parentInjector;if(!_e&&null==ot.ngModule){const Fr=(Ue?Tt:this.parentInjector).get(pl,null);Fr&&(_e=Fr)}fi(ot.componentType??{});const Rn=ot.create(Tt,oe,null,_e);return this.insertImpl(Rn.hostView,$e,false),Rn}insert(E,I){return this.insertImpl(E,I,!1)}insertImpl(E,I,U){const oe=E._lView;if(function Qo(g){return Yo(g[Hi])}(oe)){const ot=this.indexOf(E);if(-1!==ot)this.detach(ot);else{const Tt=oe[Hi],Vt=new U2(Tt,Tt[Mo],Tt[Hi]);Vt.detach(Vt.indexOf(E))}}const Ue=this._adjustIndex(I),$e=this._lContainer;return k6($e,oe,Ue,!U),E.attachToViewContainerRef(),Ps(Tv($e),Ue,E),E}move(E,I){return this.insert(E,I)}indexOf(E){const I=V2(this._lContainer);return null!==I?I.indexOf(E):-1}remove(E){const I=this._adjustIndex(E,-1),U=qt(this._lContainer,I);U&&(bc(Tv(this._lContainer),I),Qt(U[jr],U))}detach(E){const I=this._adjustIndex(E,-1),U=qt(this._lContainer,I);return U&&null!=bc(Tv(this._lContainer),I)?new Dp(U):null}_adjustIndex(E,I=0){return E??this.length+I}};function V2(g){return g[8]}function Tv(g){return g[8]||(g[8]=[])}function H2(g,E){let I;const U=E[g.index];return Yo(U)?I=U:(I=function g1(g,E,I,U){return[g,!0,!1,E,null,0,U,I,null,null,null]}(U,E,null,g),E[g.index]=I,og(E,I)),q2(I,E,g,U),new U2(I,g,E)}let q2=function G2(g,E,I,U){if(g[Oa])return;let oe;oe=8&I.type?li(U):function N6(g,E){const I=g[Mr],U=I.createComment(""),oe=Jo(E,g);return Zn(I,Rr(I,oe),U,function Cr(g,E){return g.nextSibling(E)}(I,oe),!1),U}(E,I),g[Oa]=oe};class Mv{constructor(E){this.queryList=E,this.matches=null}clone(){return new Mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(E=[]){this.queries=E}createEmbeddedView(E){const I=E.queries;if(null!==I){const U=null!==E.contentQueries?E.contentQueries[0]:I.length,oe=[];for(let _e=0;_e<U;_e++){const Ue=I.getByIndex(_e);oe.push(this.queries[Ue.indexInDeclarationView].clone())}return new Av(oe)}return null}insertView(E){this.dirtyQueriesWithMatches(E)}detachView(E){this.dirtyQueriesWithMatches(E)}dirtyQueriesWithMatches(E){for(let I=0;I<this.queries.length;I++)null!==Q2(E,I).matches&&this.queries[I].setDirty()}}class W2{constructor(E,I,U=null){this.predicate=E,this.flags=I,this.read=U}}class kv{constructor(E=[]){this.queries=E}elementStart(E,I){for(let U=0;U<this.queries.length;U++)this.queries[U].elementStart(E,I)}elementEnd(E){for(let I=0;I<this.queries.length;I++)this.queries[I].elementEnd(E)}embeddedTView(E){let I=null;for(let U=0;U<this.length;U++){const oe=null!==I?I.length:0,_e=this.getByIndex(U).embeddedTView(E,oe);_e&&(_e.indexInDeclarationView=U,null!==I?I.push(_e):I=[_e])}return null!==I?new kv(I):null}template(E,I){for(let U=0;U<this.queries.length;U++)this.queries[U].template(E,I)}getByIndex(E){return this.queries[E]}get length(){return this.queries.length}track(E){this.queries.push(E)}}class Sv{constructor(E,I=-1){this.metadata=E,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=I}elementStart(E,I){this.isApplyingToNode(I)&&this.matchTNode(E,I)}elementEnd(E){this._declarationNodeIndex===E.index&&(this._appliesToNextNode=!1)}template(E,I){this.elementStart(E,I)}embeddedTView(E,I){return this.isApplyingToNode(E)?(this.crossesNgTemplate=!0,this.addMatch(-E.index,I),new Sv(this.metadata)):null}isApplyingToNode(E){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const I=this._declarationNodeIndex;let U=E.parent;for(;null!==U&&8&U.type&&U.index!==I;)U=U.parent;return I===(null!==U?U.index:-1)}return this._appliesToNextNode}matchTNode(E,I){const U=this.metadata.predicate;if(Array.isArray(U))for(let oe=0;oe<U.length;oe++){const _e=U[oe];this.matchTNodeWithReadOption(E,I,j6(I,_e)),this.matchTNodeWithReadOption(E,I,Ff(I,E,_e,!1,!1))}else U===Nc?4&I.type&&this.matchTNodeWithReadOption(E,I,-1):this.matchTNodeWithReadOption(E,I,Ff(I,E,U,!1,!1))}matchTNodeWithReadOption(E,I,U){if(null!==U){const oe=this.metadata.read;if(null!==oe)if(oe===gd||oe===cc||oe===Nc&&4&I.type)this.addMatch(I.index,-2);else{const _e=Ff(I,E,oe,!1,!1);null!==_e&&this.addMatch(I.index,_e)}else this.addMatch(I.index,U)}}addMatch(E,I){null===this.matches?this.matches=[E,I]:this.matches.push(E,I)}}function j6(g,E){const I=g.localNames;if(null!==I)for(let U=0;U<I.length;U+=2)if(I[U]===E)return I[U+1];return null}function V6(g,E,I,U){return-1===I?function U6(g,E){return 11&g.type?pd(g,E):4&g.type?Tg(g,E):null}(E,g):-2===I?function H6(g,E,I){return I===gd?pd(E,g):I===Nc?Tg(E,g):I===cc?H2(E,g):void 0}(g,E,U):gc(g,g[jr],I,E)}function Y2(g,E,I,U){const oe=E[Pr].queries[U];if(null===oe.matches){const _e=g.data,Ue=I.matches,$e=[];for(let ot=0;ot<Ue.length;ot+=2){const Tt=Ue[ot];$e.push(Tt<0?null:V6(E,_e[Tt],Ue[ot+1],I.metadata.read))}oe.matches=$e}return oe.matches}function Ev(g,E,I,U){const oe=g.queries.getByIndex(I),_e=oe.matches;if(null!==_e){const Ue=Y2(g,E,oe,I);for(let $e=0;$e<_e.length;$e+=2){const ot=_e[$e];if(ot>0)U.push(Ue[$e/2]);else{const Tt=_e[$e+1],Vt=E[-ot];for(let un=qi;un<Vt.length;un++){const Sn=Vt[un];Sn[ps]===Sn[Hi]&&Ev(Sn[jr],Sn,Tt,U)}if(null!==Vt[mi]){const un=Vt[mi];for(let Sn=0;Sn<un.length;Sn++){const Rn=un[Sn];Ev(Rn[jr],Rn,Tt,U)}}}}}return U}function Z2(g){const E=Ir(),I=ao(),U=r0();Ud(U+1);const oe=Q2(I,U);if(g.dirty&&function xo(g){return 4==(4&g[ri])}(E)===(2==(2&oe.metadata.flags))){if(null===oe.matches)g.reset([]);else{const _e=oe.crossesNgTemplate?Ev(I,E,U,[]):Y2(I,E,oe,U);g.reset(_e,X_),g.notifyOnChanges()}return!0}return!1}function X2(g,E,I){const U=ao();U.firstCreatePass&&(function J2(g,E,I){null===g.queries&&(g.queries=new kv),g.queries.track(new Sv(E,I))}(U,new W2(g,E,I),-1),2==(2&E)&&(U.staticViewQueries=!0)),function K2(g,E,I){const U=new wv(4==(4&I));(function Dw(g,E,I,U){const oe=function v1(g){return g[ca]||(g[ca]=[])}(E);oe.push(I),g.firstCreatePass&&function y1(g){return g.cleanup||(g.cleanup=[])}(g).push(U,oe.length-1)})(g,E,U,U.destroy),null===E[Pr]&&(E[Pr]=new Av),E[Pr].queries.push(new Mv(U))}(U,Ir(),E)}function Q2(g,E){return g.queries.getByIndex(E)}const pT=new ni("Application Initializer");let Pv=(()=>{class g{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((I,U)=>{this.resolve=I,this.reject=U}),this.appInits=Si(pT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const I=[];for(const oe of this.appInits){const _e=oe();if(av(_e))I.push(_e);else if(K1(_e)){const Ue=new Promise(($e,ot)=>{_e.subscribe({complete:$e,error:ot})});I.push(Ue)}}const U=()=>{this.done=!0,this.resolve()};Promise.all(I).then(()=>{U()}).catch(oe=>{this.reject(oe)}),0===I.length&&U(),this.initialized=!0}static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const zc=new ni("LocaleId",{providedIn:"root",factory:()=>Si(zc,Nr.Optional|Nr.SkipSelf)||function mT(){return typeof $localize<"u"&&$localize.locale||Dd}()});let xT=(()=>{class g{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Dn(!1)}add(){this.hasPendingTasks.next(!0);const I=this.taskId++;return this.pendingTasks.add(I),I}remove(I){this.pendingTasks.delete(I),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const bb=new ni(""),Sg=new ni("");let zv,Fv=(()=>{class g{constructor(I,U,oe){this._ngZone=I,this.registry=U,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zv||(function VT(g){zv=g}(oe),oe.addToWindow(U)),this._watchAngularEvents(),I.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ba.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let I=this._callbacks.pop();clearTimeout(I.timeoutId),I.doneCb(this._didWork)}this._didWork=!1});else{let I=this.getPendingTasks();this._callbacks=this._callbacks.filter(U=>!U.updateCb||!U.updateCb(I)||(clearTimeout(U.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(I=>({source:I.source,creationLocation:I.creationLocation,data:I.data})):[]}addCallback(I,U,oe){let _e=-1;U&&U>0&&(_e=setTimeout(()=>{this._callbacks=this._callbacks.filter(Ue=>Ue.timeoutId!==_e),I(this._didWork,this.getPendingTasks())},U)),this._callbacks.push({doneCb:I,timeoutId:_e,updateCb:oe})}whenStable(I,U,oe){if(oe&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(I,U,oe),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(I){this.registry.registerApplication(I,this)}unregisterApplication(I){this.registry.unregisterApplication(I)}findProviders(I,U,oe){return[]}static#e=this.\u0275fac=function(U){return new(U||g)(ki(Ba),ki(Nv),ki(Sg))};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac})}return g})(),Nv=(()=>{class g{constructor(){this._applications=new Map}registerApplication(I,U){this._applications.set(I,U)}unregisterApplication(I){this._applications.delete(I)}unregisterAllApplications(){this._applications.clear()}getTestability(I){return this._applications.get(I)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(I,U=!0){return zv?.findTestabilityInTree(this,I,U)??null}static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac,providedIn:"platform"})}return g})(),Tf=null;const _b=new ni("AllowMultipleToken"),Bv=new ni("PlatformDestroyListeners"),wb=new ni("appBootstrapListener");function Ab(g,E,I=[]){const U=`Platform: ${E}`,oe=new ni(U);return(_e=[])=>{let Ue=jv();if(!Ue||Ue.injector.get(_b,!1)){const $e=[...I,..._e,{provide:oe,useValue:!0}];g?g($e):function GT(g){if(Tf&&!Tf.get(_b,!1))throw new In(400,!1);(function Tb(){!function tr(g){Bn=g}(()=>{throw new In(600,!1)})})(),Tf=g;const E=g.get(Sb);(function Mb(g){g.get(ud,null)?.forEach(I=>I())})(g)}(function kb(g=[],E){return oc.create({name:E,providers:[{provide:ad,useValue:"platform"},{provide:Bv,useValue:new Set([()=>Tf=null])},...g]})}($e,U))}return function YT(g){const E=jv();if(!E)throw new In(401,!1);return E}()}}function jv(){return Tf?.get(Sb)??null}let Sb=(()=>{class g{constructor(I){this._injector=I,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(I,U){const oe=function ZT(g="zone.js",E){return"noop"===g?new cw:"zone.js"===g?new Ba(E):g}(U?.ngZone,function Eb(g){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:g?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:g?.runCoalescing??!1}}({eventCoalescing:U?.ngZoneEventCoalescing,runCoalescing:U?.ngZoneRunCoalescing}));return oe.run(()=>{const _e=function X5(g,E,I){return new xv(g,E,I)}(I.moduleType,this.injector,function Pb(g){return[{provide:Ba,useFactory:g},{provide:Ic,multi:!0,useFactory:()=>{const E=Si($T,{optional:!0});return()=>E.initialize()}},{provide:Lb,useFactory:XT},{provide:Wy,useFactory:Yy}]}(()=>oe)),Ue=_e.injector.get(Oc,null);return oe.runOutsideAngular(()=>{const $e=oe.onError.subscribe({next:ot=>{Ue.handleError(ot)}});_e.onDestroy(()=>{Eg(this._modules,_e),$e.unsubscribe()})}),function Cb(g,E,I){try{const U=I();return av(U)?U.catch(oe=>{throw E.runOutsideAngular(()=>g.handleError(oe)),oe}):U}catch(U){throw E.runOutsideAngular(()=>g.handleError(U)),U}}(Ue,oe,()=>{const $e=_e.injector.get(Pv);return $e.runInitializers(),$e.donePromise.then(()=>(function Qx(g){Qn(g,"Expected localeId to be defined"),"string"==typeof g&&(Jx=g.toLowerCase().replace(/_/g,"-"))}(_e.injector.get(zc,Dd)||Dd),this._moduleDoBootstrap(_e),_e))})})}bootstrapModule(I,U=[]){const oe=Db({},U);return function HT(g,E,I){const U=new bv(I);return Promise.resolve(U)}(0,0,I).then(_e=>this.bootstrapModuleFactory(_e,oe))}_moduleDoBootstrap(I){const U=I.injector.get(Wp);if(I._bootstrapComponents.length>0)I._bootstrapComponents.forEach(oe=>U.bootstrap(oe));else{if(!I.instance.ngDoBootstrap)throw new In(-403,!1);I.instance.ngDoBootstrap(U)}this._modules.push(I)}onDestroy(I){this._destroyListeners.push(I)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new In(404,!1);this._modules.slice().forEach(U=>U.destroy()),this._destroyListeners.forEach(U=>U());const I=this._injector.get(Bv,null);I&&(I.forEach(U=>U()),I.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(U){return new(U||g)(ki(oc))};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac,providedIn:"platform"})}return g})();function Db(g,E){return Array.isArray(E)?E.reduce(Db,g):{...g,...E}}let Wp=(()=>{class g{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Si(Lb),this.zoneIsStable=Si(Wy),this.componentTypes=[],this.components=[],this.isStable=Si(xT).hasPendingTasks.pipe(function Fn(g,E){return W((I,U)=>{let oe=null,_e=0,Ue=!1;const $e=()=>Ue&&!oe&&U.complete();I.subscribe(G(U,ot=>{oe?.unsubscribe();let Tt=0;const Vt=_e++;tt(g(ot,Vt)).subscribe(oe=G(U,un=>U.next(E?E(ot,un,Vt,Tt++):un),()=>{oe=null,$e()}))},()=>{Ue=!0,$e()}))})}(I=>I?function Pn(...g){return hn(g,Gt(g))}(!1):this.zoneIsStable),function Jn(g,E=T){return g=g??$n,W((I,U)=>{let oe,_e=!0;I.subscribe(G(U,Ue=>{const $e=E(Ue);(_e||!g(oe,$e))&&(_e=!1,oe=$e,U.next(Ue))}))})}(),Yn()),this._injector=Si(pl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(I,U){const oe=I instanceof Py;if(!this._injector.get(Pv).done)throw!oe&&function Wo(g){const E=fi(g)||To(g)||Fo(g);return null!==E&&E.standalone}(I),new In(405,!1);let Ue;Ue=oe?I:this._injector.get(tg).resolveComponentFactory(I),this.componentTypes.push(Ue.componentType);const $e=function qT(g){return g.isBoundToModule}(Ue)?void 0:this._injector.get(fh),Tt=Ue.create(oc.NULL,[],U||Ue.selector,$e),Vt=Tt.location.nativeElement,un=Tt.injector.get(bb,null);return un?.registerApplication(Vt),Tt.onDestroy(()=>{this.detachView(Tt.hostView),Eg(this.components,Tt),un?.unregisterApplication(Vt)}),this._loadComponent(Tt),Tt}tick(){if(this._runningTick)throw new In(101,!1);try{this._runningTick=!0;for(let I of this._views)I.detectChanges()}catch(I){this.internalErrorHandler(I)}finally{this._runningTick=!1}}attachView(I){const U=I;this._views.push(U),U.attachToAppRef(this)}detachView(I){const U=I;Eg(this._views,U),U.detachFromAppRef()}_loadComponent(I){this.attachView(I.hostView),this.tick(),this.components.push(I);const U=this._injector.get(wb,[]);U.push(...this._bootstrapListeners),U.forEach(oe=>oe(I))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(I=>I()),this._views.slice().forEach(I=>I.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(I){return this._destroyListeners.push(I),()=>Eg(this._destroyListeners,I)}destroy(){if(this._destroyed)throw new In(406,!1);const I=this._injector;I.destroy&&!I.destroyed&&I.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function Eg(g,E){const I=g.indexOf(E);I>-1&&g.splice(I,1)}const Lb=new ni("",{providedIn:"root",factory:()=>Si(Oc).handleError.bind(void 0)});function XT(){const g=Si(Ba),E=Si(Oc);return I=>g.runOutsideAngular(()=>E.handleError(I))}let $T=(()=>{class g{constructor(){this.zone=Si(Ba),this.applicationRef=Si(Wp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();class Nb{constructor(){}supports(E){return ug(E)}create(E){return new aM(E)}}const oM=(g,E)=>E;class aM{constructor(E){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=E||oM}forEachItem(E){let I;for(I=this._itHead;null!==I;I=I._next)E(I)}forEachOperation(E){let I=this._itHead,U=this._removalsHead,oe=0,_e=null;for(;I||U;){const Ue=!U||I&&I.currentIndex<Bb(U,oe,_e)?I:U,$e=Bb(Ue,oe,_e),ot=Ue.currentIndex;if(Ue===U)oe--,U=U._nextRemoved;else if(I=I._next,null==Ue.previousIndex)oe++;else{_e||(_e=[]);const Tt=$e-oe,Vt=ot-oe;if(Tt!=Vt){for(let Sn=0;Sn<Tt;Sn++){const Rn=Sn<_e.length?_e[Sn]:_e[Sn]=0,ir=Rn+Sn;Vt<=ir&&ir<Tt&&(_e[Sn]=Rn+1)}_e[Ue.previousIndex]=Vt-Tt}}$e!==ot&&E(Ue,$e,ot)}}forEachPreviousItem(E){let I;for(I=this._previousItHead;null!==I;I=I._nextPrevious)E(I)}forEachAddedItem(E){let I;for(I=this._additionsHead;null!==I;I=I._nextAdded)E(I)}forEachMovedItem(E){let I;for(I=this._movesHead;null!==I;I=I._nextMoved)E(I)}forEachRemovedItem(E){let I;for(I=this._removalsHead;null!==I;I=I._nextRemoved)E(I)}forEachIdentityChange(E){let I;for(I=this._identityChangesHead;null!==I;I=I._nextIdentityChange)E(I)}diff(E){if(null==E&&(E=[]),!ug(E))throw new In(900,!1);return this.check(E)?this:null}onDestroy(){}check(E){this._reset();let oe,_e,Ue,I=this._itHead,U=!1;if(Array.isArray(E)){this.length=E.length;for(let $e=0;$e<this.length;$e++)_e=E[$e],Ue=this._trackByFn($e,_e),null!==I&&Object.is(I.trackById,Ue)?(U&&(I=this._verifyReinsertion(I,_e,Ue,$e)),Object.is(I.item,_e)||this._addIdentityChange(I,_e)):(I=this._mismatch(I,_e,Ue,$e),U=!0),I=I._next}else oe=0,function T3(g,E){if(Array.isArray(g))for(let I=0;I<g.length;I++)E(g[I]);else{const I=g[Symbol.iterator]();let U;for(;!(U=I.next()).done;)E(U.value)}}(E,$e=>{Ue=this._trackByFn(oe,$e),null!==I&&Object.is(I.trackById,Ue)?(U&&(I=this._verifyReinsertion(I,$e,Ue,oe)),Object.is(I.item,$e)||this._addIdentityChange(I,$e)):(I=this._mismatch(I,$e,Ue,oe),U=!0),I=I._next,oe++}),this.length=oe;return this._truncate(I),this.collection=E,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let E;for(E=this._previousItHead=this._itHead;null!==E;E=E._next)E._nextPrevious=E._next;for(E=this._additionsHead;null!==E;E=E._nextAdded)E.previousIndex=E.currentIndex;for(this._additionsHead=this._additionsTail=null,E=this._movesHead;null!==E;E=E._nextMoved)E.previousIndex=E.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(E,I,U,oe){let _e;return null===E?_e=this._itTail:(_e=E._prev,this._remove(E)),null!==(E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(U,null))?(Object.is(E.item,I)||this._addIdentityChange(E,I),this._reinsertAfter(E,_e,oe)):null!==(E=null===this._linkedRecords?null:this._linkedRecords.get(U,oe))?(Object.is(E.item,I)||this._addIdentityChange(E,I),this._moveAfter(E,_e,oe)):E=this._addAfter(new sM(I,U),_e,oe),E}_verifyReinsertion(E,I,U,oe){let _e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(U,null);return null!==_e?E=this._reinsertAfter(_e,E._prev,oe):E.currentIndex!=oe&&(E.currentIndex=oe,this._addToMoves(E,oe)),E}_truncate(E){for(;null!==E;){const I=E._next;this._addToRemovals(this._unlink(E)),E=I}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(E,I,U){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(E);const oe=E._prevRemoved,_e=E._nextRemoved;return null===oe?this._removalsHead=_e:oe._nextRemoved=_e,null===_e?this._removalsTail=oe:_e._prevRemoved=oe,this._insertAfter(E,I,U),this._addToMoves(E,U),E}_moveAfter(E,I,U){return this._unlink(E),this._insertAfter(E,I,U),this._addToMoves(E,U),E}_addAfter(E,I,U){return this._insertAfter(E,I,U),this._additionsTail=null===this._additionsTail?this._additionsHead=E:this._additionsTail._nextAdded=E,E}_insertAfter(E,I,U){const oe=null===I?this._itHead:I._next;return E._next=oe,E._prev=I,null===oe?this._itTail=E:oe._prev=E,null===I?this._itHead=E:I._next=E,null===this._linkedRecords&&(this._linkedRecords=new zb),this._linkedRecords.put(E),E.currentIndex=U,E}_remove(E){return this._addToRemovals(this._unlink(E))}_unlink(E){null!==this._linkedRecords&&this._linkedRecords.remove(E);const I=E._prev,U=E._next;return null===I?this._itHead=U:I._next=U,null===U?this._itTail=I:U._prev=I,E}_addToMoves(E,I){return E.previousIndex===I||(this._movesTail=null===this._movesTail?this._movesHead=E:this._movesTail._nextMoved=E),E}_addToRemovals(E){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zb),this._unlinkedRecords.put(E),E.currentIndex=null,E._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=E,E._prevRemoved=null):(E._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=E),E}_addIdentityChange(E,I){return E.item=I,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=E:this._identityChangesTail._nextIdentityChange=E,E}}class sM{constructor(E,I){this.item=E,this.trackById=I,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lM{constructor(){this._head=null,this._tail=null}add(E){null===this._head?(this._head=this._tail=E,E._nextDup=null,E._prevDup=null):(this._tail._nextDup=E,E._prevDup=this._tail,E._nextDup=null,this._tail=E)}get(E,I){let U;for(U=this._head;null!==U;U=U._nextDup)if((null===I||I<=U.currentIndex)&&Object.is(U.trackById,E))return U;return null}remove(E){const I=E._prevDup,U=E._nextDup;return null===I?this._head=U:I._nextDup=U,null===U?this._tail=I:U._prevDup=I,null===this._head}}class zb{constructor(){this.map=new Map}put(E){const I=E.trackById;let U=this.map.get(I);U||(U=new lM,this.map.set(I,U)),U.add(E)}get(E,I){const oe=this.map.get(E);return oe?oe.get(E,I):null}remove(E){const I=E.trackById;return this.map.get(I).remove(E)&&this.map.delete(I),E}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(g,E,I){const U=g.previousIndex;if(null===U)return U;let oe=0;return I&&U<I.length&&(oe=I[U]),U+E+oe}class jb{constructor(){}supports(E){return E instanceof Map||Xm(E)}create(){return new uM}}class uM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(E){let I;for(I=this._mapHead;null!==I;I=I._next)E(I)}forEachPreviousItem(E){let I;for(I=this._previousMapHead;null!==I;I=I._nextPrevious)E(I)}forEachChangedItem(E){let I;for(I=this._changesHead;null!==I;I=I._nextChanged)E(I)}forEachAddedItem(E){let I;for(I=this._additionsHead;null!==I;I=I._nextAdded)E(I)}forEachRemovedItem(E){let I;for(I=this._removalsHead;null!==I;I=I._nextRemoved)E(I)}diff(E){if(E){if(!(E instanceof Map||Xm(E)))throw new In(900,!1)}else E=new Map;return this.check(E)?this:null}onDestroy(){}check(E){this._reset();let I=this._mapHead;if(this._appendAfter=null,this._forEach(E,(U,oe)=>{if(I&&I.key===oe)this._maybeAddToChanges(I,U),this._appendAfter=I,I=I._next;else{const _e=this._getOrCreateRecordForKey(oe,U);I=this._insertBeforeOrAppend(I,_e)}}),I){I._prev&&(I._prev._next=null),this._removalsHead=I;for(let U=I;null!==U;U=U._nextRemoved)U===this._mapHead&&(this._mapHead=null),this._records.delete(U.key),U._nextRemoved=U._next,U.previousValue=U.currentValue,U.currentValue=null,U._prev=null,U._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(E,I){if(E){const U=E._prev;return I._next=E,I._prev=U,E._prev=I,U&&(U._next=I),E===this._mapHead&&(this._mapHead=I),this._appendAfter=E,E}return this._appendAfter?(this._appendAfter._next=I,I._prev=this._appendAfter):this._mapHead=I,this._appendAfter=I,null}_getOrCreateRecordForKey(E,I){if(this._records.has(E)){const oe=this._records.get(E);this._maybeAddToChanges(oe,I);const _e=oe._prev,Ue=oe._next;return _e&&(_e._next=Ue),Ue&&(Ue._prev=_e),oe._next=null,oe._prev=null,oe}const U=new cM(E);return this._records.set(E,U),U.currentValue=I,this._addToAdditions(U),U}_reset(){if(this.isDirty){let E;for(this._previousMapHead=this._mapHead,E=this._previousMapHead;null!==E;E=E._next)E._nextPrevious=E._next;for(E=this._changesHead;null!==E;E=E._nextChanged)E.previousValue=E.currentValue;for(E=this._additionsHead;null!=E;E=E._nextAdded)E.previousValue=E.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(E,I){Object.is(I,E.currentValue)||(E.previousValue=E.currentValue,E.currentValue=I,this._addToChanges(E))}_addToAdditions(E){null===this._additionsHead?this._additionsHead=this._additionsTail=E:(this._additionsTail._nextAdded=E,this._additionsTail=E)}_addToChanges(E){null===this._changesHead?this._changesHead=this._changesTail=E:(this._changesTail._nextChanged=E,this._changesTail=E)}_forEach(E,I){E instanceof Map?E.forEach(I):Object.keys(E).forEach(U=>I(E[U],U))}}class cM{constructor(E){this.key=E,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ub(){return new Yp([new Nb])}let Yp=(()=>{class g{static#e=this.\u0275prov=kr({token:g,providedIn:"root",factory:Ub});constructor(I){this.factories=I}static create(I,U){if(null!=U){const oe=U.factories.slice();I=I.concat(oe)}return new g(I)}static extend(I){return{provide:g,useFactory:U=>g.create(I,U||Ub()),deps:[[g,new Rh,new Il]]}}find(I){const U=this.factories.find(oe=>oe.supports(I));if(null!=U)return U;throw new In(901,!1)}}return g})();function Vb(){return new Pd([new jb])}let Pd=(()=>{class g{static#e=this.\u0275prov=kr({token:g,providedIn:"root",factory:Vb});constructor(I){this.factories=I}static create(I,U){if(U){const oe=U.factories.slice();I=I.concat(oe)}return new g(I)}static extend(I){return{provide:g,useFactory:U=>g.create(I,U||Vb()),deps:[[g,new Rh,new Il]]}}find(I){const U=this.factories.find(oe=>oe.supports(I));if(U)return U;throw new In(901,!1)}}return g})();const dM=Ab(null,"core",[]);let pM=(()=>{class g{constructor(I){}static#e=this.\u0275fac=function(U){return new(U||g)(ki(Wp))};static#t=this.\u0275mod=Za({type:g});static#n=this.\u0275inj=yr({})}return g})(),Wv=null;function Yv(){return Wv}class SM{}const dh=new ni("DocumentToken"),ry=/\s+/,o_=[];let a_=(()=>{class g{constructor(I,U,oe,_e){this._iterableDiffers=I,this._keyValueDiffers=U,this._ngEl=oe,this._renderer=_e,this.initialClasses=o_,this.stateMap=new Map}set klass(I){this.initialClasses=null!=I?I.trim().split(ry):o_}set ngClass(I){this.rawClass="string"==typeof I?I.trim().split(ry):I}ngDoCheck(){for(const U of this.initialClasses)this._updateState(U,!0);const I=this.rawClass;if(Array.isArray(I)||I instanceof Set)for(const U of I)this._updateState(U,!0);else if(null!=I)for(const U of Object.keys(I))this._updateState(U,!!I[U]);this._applyStateDiff()}_updateState(I,U){const oe=this.stateMap.get(I);void 0!==oe?(oe.enabled!==U&&(oe.changed=!0,oe.enabled=U),oe.touched=!0):this.stateMap.set(I,{enabled:U,changed:!0,touched:!0})}_applyStateDiff(){for(const I of this.stateMap){const U=I[0],oe=I[1];oe.changed?(this._toggleClass(U,oe.enabled),oe.changed=!1):oe.touched||(oe.enabled&&this._toggleClass(U,!1),this.stateMap.delete(U)),oe.touched=!1}}_toggleClass(I,U){(I=I.trim()).length>0&&I.split(ry).forEach(oe=>{U?this._renderer.addClass(this._ngEl.nativeElement,oe):this._renderer.removeClass(this._ngEl.nativeElement,oe)})}static#e=this.\u0275fac=function(U){return new(U||g)(Ii(Yp),Ii(Pd),Ii(gd),Ii(Fy))};static#t=this.\u0275dir=ma({type:g,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return g})(),f_=(()=>{class g{constructor(I,U,oe){this._ngEl=I,this._differs=U,this._renderer=oe,this._ngStyle=null,this._differ=null}set ngStyle(I){this._ngStyle=I,!this._differ&&I&&(this._differ=this._differs.find(I).create())}ngDoCheck(){if(this._differ){const I=this._differ.diff(this._ngStyle);I&&this._applyChanges(I)}}_setStyle(I,U){const[oe,_e]=I.split("."),Ue=-1===oe.indexOf("-")?void 0:Ju.DashCase;null!=U?this._renderer.setStyle(this._ngEl.nativeElement,oe,_e?`${U}${_e}`:U,Ue):this._renderer.removeStyle(this._ngEl.nativeElement,oe,Ue)}_applyChanges(I){I.forEachRemovedItem(U=>this._setStyle(U.key,null)),I.forEachAddedItem(U=>this._setStyle(U.key,U.currentValue)),I.forEachChangedItem(U=>this._setStyle(U.key,U.currentValue))}static#e=this.\u0275fac=function(U){return new(U||g)(Ii(gd),Ii(Pd),Ii(Fy))};static#t=this.\u0275dir=ma({type:g,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return g})(),Vg=(()=>{class g{static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275mod=Za({type:g});static#n=this.\u0275inj=yr({})}return g})();function p_(g){return"server"===g}class vk extends SM{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cy extends vk{static makeCurrent(){!function kM(g){Wv||(Wv=g)}(new cy)}onAndCancel(E,I,U){return E.addEventListener(I,U),()=>{E.removeEventListener(I,U)}}dispatchEvent(E,I){E.dispatchEvent(I)}remove(E){E.parentNode&&E.parentNode.removeChild(E)}createElement(E,I){return(I=I||this.getDefaultDocument()).createElement(E)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(E){return E.nodeType===Node.ELEMENT_NODE}isShadowRoot(E){return E instanceof DocumentFragment}getGlobalEventTarget(E,I){return"window"===I?window:"document"===I?E:"body"===I?E.body:null}getBaseHref(E){const I=function yk(){return Kp=Kp||document.querySelector("base"),Kp?Kp.getAttribute("href"):null}();return null==I?null:function xk(g){Gg=Gg||document.createElement("a"),Gg.setAttribute("href",g);const E=Gg.pathname;return"/"===E.charAt(0)?E:`/${E}`}(I)}resetBaseElement(){Kp=null}getUserAgent(){return window.navigator.userAgent}getCookie(E){return function dA(g,E){E=encodeURIComponent(E);for(const I of g.split(";")){const U=I.indexOf("="),[oe,_e]=-1==U?[I,""]:[I.slice(0,U),I.slice(U+1)];if(oe.trim()===E)return decodeURIComponent(_e)}return null}(document.cookie,E)}}let Gg,Kp=null,_k=(()=>{class g{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac})}return g})();const fy=new ni("EventManagerPlugins");let x_=(()=>{class g{constructor(I,U){this._zone=U,this._eventNameToPlugin=new Map,I.forEach(oe=>{oe.manager=this}),this._plugins=I.slice().reverse()}addEventListener(I,U,oe){return this._findPluginFor(U).addEventListener(I,U,oe)}getZone(){return this._zone}_findPluginFor(I){let U=this._eventNameToPlugin.get(I);if(U)return U;if(U=this._plugins.find(_e=>_e.supports(I)),!U)throw new In(5101,!1);return this._eventNameToPlugin.set(I,U),U}static#e=this.\u0275fac=function(U){return new(U||g)(ki(fy),ki(Ba))};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac})}return g})();class b_{constructor(E){this._doc=E}}const hy="ng-app-id";let __=(()=>{class g{constructor(I,U,oe,_e={}){this.doc=I,this.appId=U,this.nonce=oe,this.platformId=_e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=p_(_e),this.resetHostNodes()}addStyles(I){for(const U of I)1===this.changeUsageCount(U,1)&&this.onStyleAdded(U)}removeStyles(I){for(const U of I)this.changeUsageCount(U,-1)<=0&&this.onStyleRemoved(U)}ngOnDestroy(){const I=this.styleNodesInDOM;I&&(I.forEach(U=>U.remove()),I.clear());for(const U of this.getAllStyles())this.onStyleRemoved(U);this.resetHostNodes()}addHost(I){this.hostNodes.add(I);for(const U of this.getAllStyles())this.addStyleToHost(I,U)}removeHost(I){this.hostNodes.delete(I)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(I){for(const U of this.hostNodes)this.addStyleToHost(U,I)}onStyleRemoved(I){const U=this.styleRef;U.get(I)?.elements?.forEach(oe=>oe.remove()),U.delete(I)}collectServerRenderedStyles(){const I=this.doc.head?.querySelectorAll(`style[${hy}="${this.appId}"]`);if(I?.length){const U=new Map;return I.forEach(oe=>{null!=oe.textContent&&U.set(oe.textContent,oe)}),U}return null}changeUsageCount(I,U){const oe=this.styleRef;if(oe.has(I)){const _e=oe.get(I);return _e.usage+=U,_e.usage}return oe.set(I,{usage:U,elements:[]}),U}getStyleElement(I,U){const oe=this.styleNodesInDOM,_e=oe?.get(U);if(_e?.parentNode===I)return oe.delete(U),_e.removeAttribute(hy),_e;{const Ue=this.doc.createElement("style");return this.nonce&&Ue.setAttribute("nonce",this.nonce),Ue.textContent=U,this.platformIsServer&&Ue.setAttribute(hy,this.appId),Ue}}addStyleToHost(I,U){const oe=this.getStyleElement(I,U);I.appendChild(oe);const _e=this.styleRef,Ue=_e.get(U)?.elements;Ue?Ue.push(oe):_e.set(U,{elements:[oe],usage:1})}resetHostNodes(){const I=this.hostNodes;I.clear(),I.add(this.doc.head)}static#e=this.\u0275fac=function(U){return new(U||g)(ki(dh),ki(ih),ki(bp,8),ki(Pc))};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac})}return g})();const dy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},py=/%COMP%/g,Ak=new ni("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function T_(g,E){return E.map(I=>I.replace(py,g))}let M_=(()=>{class g{constructor(I,U,oe,_e,Ue,$e,ot,Tt=null){this.eventManager=I,this.sharedStylesHost=U,this.appId=oe,this.removeStylesOnCompDestroy=_e,this.doc=Ue,this.platformId=$e,this.ngZone=ot,this.nonce=Tt,this.rendererByCompId=new Map,this.platformIsServer=p_($e),this.defaultRenderer=new gy(I,Ue,ot,this.platformIsServer)}createRenderer(I,U){if(!I||!U)return this.defaultRenderer;this.platformIsServer&&U.encapsulation===$o.ShadowDom&&(U={...U,encapsulation:$o.Emulated});const oe=this.getOrCreateRenderer(I,U);return oe instanceof k_?oe.applyToHost(I):oe instanceof my&&oe.applyStyles(),oe}getOrCreateRenderer(I,U){const oe=this.rendererByCompId;let _e=oe.get(U.id);if(!_e){const Ue=this.doc,$e=this.ngZone,ot=this.eventManager,Tt=this.sharedStylesHost,Vt=this.removeStylesOnCompDestroy,un=this.platformIsServer;switch(U.encapsulation){case $o.Emulated:_e=new k_(ot,Tt,U,this.appId,Vt,Ue,$e,un);break;case $o.ShadowDom:return new Ck(ot,Tt,I,U,Ue,$e,this.nonce,un);default:_e=new my(ot,Tt,U,Vt,Ue,$e,un)}oe.set(U.id,_e)}return _e}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(U){return new(U||g)(ki(x_),ki(__),ki(ih),ki(Ak),ki(dh),ki(Pc),ki(Ba),ki(bp))};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac})}return g})();class gy{constructor(E,I,U,oe){this.eventManager=E,this.doc=I,this.ngZone=U,this.platformIsServer=oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(E,I){return I?this.doc.createElementNS(dy[I]||I,E):this.doc.createElement(E)}createComment(E){return this.doc.createComment(E)}createText(E){return this.doc.createTextNode(E)}appendChild(E,I){(A_(E)?E.content:E).appendChild(I)}insertBefore(E,I,U){E&&(A_(E)?E.content:E).insertBefore(I,U)}removeChild(E,I){E&&E.removeChild(I)}selectRootElement(E,I){let U="string"==typeof E?this.doc.querySelector(E):E;if(!U)throw new In(-5104,!1);return I||(U.textContent=""),U}parentNode(E){return E.parentNode}nextSibling(E){return E.nextSibling}setAttribute(E,I,U,oe){if(oe){I=oe+":"+I;const _e=dy[oe];_e?E.setAttributeNS(_e,I,U):E.setAttribute(I,U)}else E.setAttribute(I,U)}removeAttribute(E,I,U){if(U){const oe=dy[U];oe?E.removeAttributeNS(oe,I):E.removeAttribute(`${U}:${I}`)}else E.removeAttribute(I)}addClass(E,I){E.classList.add(I)}removeClass(E,I){E.classList.remove(I)}setStyle(E,I,U,oe){oe&(Ju.DashCase|Ju.Important)?E.style.setProperty(I,U,oe&Ju.Important?"important":""):E.style[I]=U}removeStyle(E,I,U){U&Ju.DashCase?E.style.removeProperty(I):E.style[I]=""}setProperty(E,I,U){E[I]=U}setValue(E,I){E.nodeValue=I}listen(E,I,U){if("string"==typeof E&&!(E=Yv().getGlobalEventTarget(this.doc,E)))throw new Error(`Unsupported event target ${E} for event ${I}`);return this.eventManager.addEventListener(E,I,this.decoratePreventDefault(U))}decoratePreventDefault(E){return I=>{if("__ngUnwrap__"===I)return E;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>E(I)):E(I))&&I.preventDefault()}}}function A_(g){return"TEMPLATE"===g.tagName&&void 0!==g.content}class Ck extends gy{constructor(E,I,U,oe,_e,Ue,$e,ot){super(E,_e,Ue,ot),this.sharedStylesHost=I,this.hostEl=U,this.shadowRoot=U.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tt=T_(oe.id,oe.styles);for(const Vt of Tt){const un=document.createElement("style");$e&&un.setAttribute("nonce",$e),un.textContent=Vt,this.shadowRoot.appendChild(un)}}nodeOrShadowRoot(E){return E===this.hostEl?this.shadowRoot:E}appendChild(E,I){return super.appendChild(this.nodeOrShadowRoot(E),I)}insertBefore(E,I,U){return super.insertBefore(this.nodeOrShadowRoot(E),I,U)}removeChild(E,I){return super.removeChild(this.nodeOrShadowRoot(E),I)}parentNode(E){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(E)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class my extends gy{constructor(E,I,U,oe,_e,Ue,$e,ot){super(E,_e,Ue,$e),this.sharedStylesHost=I,this.removeStylesOnCompDestroy=oe,this.styles=ot?T_(ot,U.styles):U.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class k_ extends my{constructor(E,I,U,oe,_e,Ue,$e,ot){const Tt=oe+"-"+U.id;super(E,I,U,_e,Ue,$e,ot,Tt),this.contentAttr=function kk(g){return"_ngcontent-%COMP%".replace(py,g)}(Tt),this.hostAttr=function Sk(g){return"_nghost-%COMP%".replace(py,g)}(Tt)}applyToHost(E){this.applyStyles(),this.setAttribute(E,this.hostAttr,"")}createElement(E,I){const U=super.createElement(E,I);return super.setAttribute(U,this.contentAttr,""),U}}let Dk=(()=>{class g extends b_{constructor(I){super(I)}supports(I){return!0}addEventListener(I,U,oe){return I.addEventListener(U,oe,!1),()=>this.removeEventListener(I,U,oe)}removeEventListener(I,U,oe){return I.removeEventListener(U,oe)}static#e=this.\u0275fac=function(U){return new(U||g)(ki(dh))};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac})}return g})();const S_=["alt","control","meta","shift"],Ik={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lk={alt:g=>g.altKey,control:g=>g.ctrlKey,meta:g=>g.metaKey,shift:g=>g.shiftKey};let Pk=(()=>{class g extends b_{constructor(I){super(I)}supports(I){return null!=g.parseEventName(I)}addEventListener(I,U,oe){const _e=g.parseEventName(U),Ue=g.eventCallback(_e.fullKey,oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yv().onAndCancel(I,_e.domEventName,Ue))}static parseEventName(I){const U=I.toLowerCase().split("."),oe=U.shift();if(0===U.length||"keydown"!==oe&&"keyup"!==oe)return null;const _e=g._normalizeKey(U.pop());let Ue="",$e=U.indexOf("code");if($e>-1&&(U.splice($e,1),Ue="code."),S_.forEach(Tt=>{const Vt=U.indexOf(Tt);Vt>-1&&(U.splice(Vt,1),Ue+=Tt+".")}),Ue+=_e,0!=U.length||0===_e.length)return null;const ot={};return ot.domEventName=oe,ot.fullKey=Ue,ot}static matchEventFullKeyCode(I,U){let oe=Ik[I.key]||I.key,_e="";return U.indexOf("code.")>-1&&(oe=I.code,_e="code."),!(null==oe||!oe)&&(oe=oe.toLowerCase()," "===oe?oe="space":"."===oe&&(oe="dot"),S_.forEach(Ue=>{Ue!==oe&&(0,Lk[Ue])(I)&&(_e+=Ue+".")}),_e+=oe,_e===U)}static eventCallback(I,U,oe){return _e=>{g.matchEventFullKeyCode(_e,I)&&oe.runGuarded(()=>U(_e))}}static _normalizeKey(I){return"esc"===I?"escape":I}static#e=this.\u0275fac=function(U){return new(U||g)(ki(dh))};static#t=this.\u0275prov=kr({token:g,factory:g.\u0275fac})}return g})();const Nk=Ab(dM,"browser",[{provide:Pc,useValue:"browser"},{provide:ud,useValue:function Ok(){cy.makeCurrent()},multi:!0},{provide:dh,useFactory:function Fk(){return function Oi(g){pi=g}(document),document},deps:[]}]),zk=new ni(""),D_=[{provide:Sg,useClass:class bk{addToWindow(E){gi.getAngularTestability=(U,oe=!0)=>{const _e=E.findTestabilityInTree(U,oe);if(null==_e)throw new In(5103,!1);return _e},gi.getAllAngularTestabilities=()=>E.getAllTestabilities(),gi.getAllAngularRootElements=()=>E.getAllRootElements(),gi.frameworkStabilizers||(gi.frameworkStabilizers=[]),gi.frameworkStabilizers.push(U=>{const oe=gi.getAllAngularTestabilities();let _e=oe.length,Ue=!1;const $e=function(ot){Ue=Ue||ot,_e--,0==_e&&U(Ue)};oe.forEach(ot=>{ot.whenStable($e)})})}findTestabilityInTree(E,I,U){return null==I?null:E.getTestability(I)??(U?Yv().isShadowRoot(I)?this.findTestabilityInTree(E,I.host,!0):this.findTestabilityInTree(E,I.parentElement,!0):null)}},deps:[]},{provide:bb,useClass:Fv,deps:[Ba,Nv,Sg]},{provide:Fv,useClass:Fv,deps:[Ba,Nv,Sg]}],I_=[{provide:ad,useValue:"root"},{provide:Oc,useFactory:function Rk(){return new Oc},deps:[]},{provide:fy,useClass:Dk,multi:!0,deps:[dh,Ba,Pc]},{provide:fy,useClass:Pk,multi:!0,deps:[dh]},M_,__,x_,{provide:Ry,useExisting:M_},{provide:class ZA{},useClass:_k,deps:[]},[]];let Bk=(()=>{class g{constructor(I){}static withServerTransition(I){return{ngModule:g,providers:[{provide:ih,useValue:I.appId}]}}static#e=this.\u0275fac=function(U){return new(U||g)(ki(zk,12))};static#t=this.\u0275mod=Za({type:g});static#n=this.\u0275inj=yr({providers:[...I_,...D_],imports:[Vg,pM]})}return g})();function R_(g,E,I,U,oe,_e,Ue){try{var $e=g[_e](Ue),ot=$e.value}catch(Tt){return void I(Tt)}$e.done?E(ot):Promise.resolve(ot).then(U,oe)}function F_(g){return function(){var E=this,I=arguments;return new Promise(function(U,oe){var _e=g.apply(E,I);function Ue(ot){R_(_e,U,oe,Ue,$e,"next",ot)}function $e(ot){R_(_e,U,oe,Ue,$e,"throw",ot)}Ue(void 0)})}}typeof window<"u"&&window;const Wk=["plot"],Yk=["*"];class go{static setModuleName(E){go.moduleName=E}static getModuleName(){return go.moduleName}static setPlotly(E){if("object"==typeof E&&"function"!=typeof E.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");go.plotly=E}static insert(E){return-1===go.instances.indexOf(E)&&go.instances.push(E),E}static remove(E){const I=go.instances.indexOf(E);I>=0&&(go.instances.splice(I,1),go.plotly.purge(E))}getInstanceByDivId(E){for(const I of go.instances)if(I&&I.id===E)return I}getPlotly(){var E=this;return F_(function*(){return yield E.waitFor(()=>"waiting"!==E._getPlotly()),E._getPlotly()})()}_getPlotly(){if(typeof go.plotly>"u")throw new Error("ViaCDN"===go.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return go.plotly}waitFor(E){return new Promise(I=>{const U=()=>{E()?I():setTimeout(U,10)};U()})}newPlot(E,I,U,oe,_e){var Ue=this;return F_(function*(){if(yield Ue.waitFor(()=>"waiting"!==Ue._getPlotly()),_e){const $e={data:I,layout:U,config:oe,frames:_e};return Ue._getPlotly().newPlot(E,$e).then(()=>go.insert(E))}return Ue._getPlotly().newPlot(E,I,U,oe).then(()=>go.insert(E))})()}plot(E,I,U,oe,_e){if(_e){const Ue={data:I,layout:U,config:oe,frames:_e};return this._getPlotly().newPlot(E,Ue)}return this._getPlotly().newPlot(E,I,U,oe)}update(E,I,U,oe,_e){if(_e){const Ue={data:I,layout:U,config:oe,frames:_e};return this._getPlotly().react(E,Ue)}return this._getPlotly().react(E,I,U,oe)}resize(E){return this._getPlotly().Plots.resize(E)}}go.instances=[],go.plotly=void 0,go.moduleName=void 0,go.\u0275fac=function(E){return new(E||go)},go.\u0275prov=kr({token:go,factory:go.\u0275fac,providedIn:"root"});let Zk=(()=>{class g{constructor(){this._isLoading=!1}get isLoading(){return this._isLoading}load(I){return this._isLoading=!0,new Promise(U=>{U(!0)})}}return g.\u0275fac=function(I){return new(I||g)},g.\u0275prov=kr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Xk=(()=>{class g{constructor(I,U,oe,_e){this.plotly=I,this.themeLoader=U,this.iterableDiffers=oe,this.keyValueDiffers=_e,this.defaultClassName="js-plotly-plot",this.theme="none",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new wi,this.update=new wi,this.purge=new wi,this.error=new wi,this.afterExport=new wi,this.afterPlot=new wi,this.animated=new wi,this.animatingFrame=new wi,this.animationInterrupted=new wi,this.autoSize=new wi,this.beforeExport=new wi,this.beforeHover=new wi,this.buttonClicked=new wi,this.click=new wi,this.plotlyClick=new wi,this.clickAnnotation=new wi,this.deselect=new wi,this.doubleClick=new wi,this.framework=new wi,this.hover=new wi,this.legendClick=new wi,this.legendDoubleClick=new wi,this.react=new wi,this.relayout=new wi,this.relayouting=new wi,this.restyle=new wi,this.redraw=new wi,this.selected=new wi,this.selecting=new wi,this.sliderChange=new wi,this.sliderEnd=new wi,this.sliderStart=new wi,this.sunburstclick=new wi,this.transitioning=new wi,this.transitionInterrupted=new wi,this.unhover=new wi,this.treemapclick=new wi,this.webglcontextlost=new wi,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","beforeHover","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","relayouting","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","sunburstclick","transitioning","transitionInterrupted","unhover","treemapclick","webglcontextlost"]}ngOnInit(){this.createPlot().then(()=>{const I=this.createFigure();this.initialized.emit(I)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){if("function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0),this.plotlyInstance){const I=this.createFigure();this.purge.emit(I),go.remove(this.plotlyInstance)}}ngOnChanges(I){let U=!1;const oe=I.revision;oe&&!oe.isFirstChange()&&(U=!0);const _e=I.debug;_e&&!_e.isFirstChange()&&(U=!0),U&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let I=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(I=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(I=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0),I&&this.plotlyInstance&&this.updatePlot()}getData(){return this.data??[]}getWindow(){return window}getClassName(){let I=[this.defaultClassName];return Array.isArray(this.className)?I=I.concat(this.className):this.className&&I.push(this.className),I.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.getData(),this.layout,this.config,this.frames).then(I=>{this.plotlyInstance=I,this.getWindow().gd=this.debug?I:void 0,this.eventNames.forEach(U=>{const oe=`plotly_${U.toLowerCase()}`,_e=this[U];I.on(oe,Ue=>_e.emit(Ue))}),I.on("plotly_click",U=>{this.plotlyClick.emit(U)}),this.updateWindowResizeHandler()},I=>{console.error("Error while plotting:",I),this.error.emit(I)})}createFigure(){const I=this.plotlyInstance;return{data:I.data,layout:I.layout,frames:I._transitionData?I._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const U=new Error("Plotly component wasn't initialized");throw this.error.emit(U),U}const I={...this.layout};return this.plotly.update(this.plotlyInstance,this.getData(),I,this.config,this.frames).then(()=>{const U=this.createFigure();this.update.emit(U)},U=>{console.error("Error while updating plot:",U),this.error.emit(U)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(I,U){const oe=Object.assign({},U,{uid:""});return JSON.stringify(oe)}loadTheme(){void 0!==this.layout&&console.warn("You fulfill both `theme` and `layout` properties. This will overwrite the `layout` data with the `theme` data."),this.themeLoader.load(this.theme).then(I=>this.layout=I)}}return g.\u0275fac=function(I){return new(I||g)(Ii(go),Ii(Zk),Ii(Yp),Ii(Pd))},g.\u0275cmp=Wa({type:g,selectors:[["plotly-plot"]],viewQuery:function(I,U){if(1&I&&X2(Wk,7),2&I){let oe;Z2(oe=function $2(){return function G6(g,E){return g[Pr].queries[E].queryList}(Ir(),r0())}())&&(U.plotEl=oe.first)}},inputs:{data:"data",layout:"layout",config:"config",frames:"frames",style:"style",theme:"theme",divId:"divId",revision:"revision",className:"className",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",beforeHover:"beforeHover",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",relayouting:"relayouting",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",sunburstclick:"sunburstclick",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",treemapclick:"treemapclick",webglcontextlost:"webglcontextlost"},features:[M2([go]),vi],ngContentSelectors:Yk,decls:3,vars:3,consts:[[3,"ngClass","ngStyle"],["plot",""]],template:function(I,U){1&I&&(function rx(g){const E=Ir()[no][Mo];if(!E.projection){const U=E.projection=Cu(g?g.length:1,null),oe=U.slice();let _e=E.child;for(;null!==_e;){const Ue=g?n4(_e,g):0;null!==Ue&&(oe[Ue]?oe[Ue].projectionNext=_e:U[Ue]=_e,oe[Ue]=_e),_e=_e.next}}}(),gg(0,"div",0,1),function ix(g,E=0,I){const U=Ir(),oe=ao(),_e=yd(oe,ii+g,16,null,I||null);null===_e.projection&&(_e.projection=E),Cf(),(!U[ya]||Vc())&&32!=(32&_e.flags)&&function Eo(g,E,I){bo(E[Mr],0,E,I,On(g,I,E),Br(I.parent||E[Mo],I,E))}(oe,U,_e)}(2),mg()),2&I&&(pg("ngClass",U.getClassName())("ngStyle",U.style),$m("id",U.divId))},dependencies:[a_,f_],encapsulation:2}),g})(),Wg=(()=>{class g{constructor(){}}return g.\u0275fac=function(I){return new(I||g)},g.\u0275mod=Za({type:g}),g.\u0275inj=yr({providers:[go],imports:[Vg]}),g})(),N_=(()=>{class g{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");go.setPlotly(g.plotlyjs)}isValid(){return void 0!==g.plotlyjs&&("function"==typeof g.plotlyjs.plot||"function"==typeof g.plotlyjs.newPlot)}}return g.plotlyjs={},g.\u0275fac=function(I){return new(I||g)},g.\u0275mod=Za({type:g}),g.\u0275inj=yr({providers:[go],imports:[Vg,Wg,Wg]}),g})();class Ia{constructor(E){this.plotlyService=E,go.setModuleName("ViaCDN")}static setPlotlyVersion(E,I="plotly",U=""){if("latest"!==E&&!/^(strict-)?\d\.\d{1,2}\.\d{1,2}$/.test(E))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3) or strict version number (i.e.: strict-1.4.3)");Ia.loadViaCDN(I,U),Ia.plotlyVersion=E}static setPlotlyBundle(E){if(!(null===E||Ia.plotlyBundleNames.indexOf(E)>=0)){const U=Ia.plotlyBundleNames.map(oe=>`"${oe}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${U} for a partial bundle.`)}Ia.plotlyBundle=E}static loadViaCDN(E="plotly",I=""){go.setPlotly("waiting"),setTimeout(()=>{let oe="";switch(E){case"cloudflare":if("latest"==Ia.plotlyVersion)throw new Error("As cloudflare hosts version specific files, 'latest' as a version is not supported. Please specify a version or you can choose 'plotly' as a CDN provider.");oe=null==Ia.plotlyBundle?`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${Ia.plotlyVersion}/plotly.min.js`:`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${Ia.plotlyVersion}/plotly-${Ia.plotlyBundle}.min.js`;break;case"custom":if(!I||"string"!=typeof I)throw new Error("Invalid or missing CDN URL. Please provide a CDN URL in case of custom provider. Alternatively, you can choose from 'plotly' or 'cloudflare'.");oe=I;break;default:oe=null==Ia.plotlyBundle?`https://cdn.plot.ly/plotly-${Ia.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${Ia.plotlyBundle}-${Ia.plotlyVersion}.min.js`}const _e=document.createElement("script");_e.type="text/javascript",_e.src=oe,_e.onerror=()=>console.error(`Error loading plotly.js library from ${oe}`),document.getElementsByTagName("head")[0].appendChild(_e);let $e=200;const ot=()=>{const Tt=window.Plotly;if(Tt)go.setPlotly(Tt);else{if(!($e>0))throw new Error(`Error loading plotly.js library from ${oe}. Timeout.`);$e--,setTimeout(ot,50)}};ot()})}}Ia.plotlyBundle=void 0,Ia.plotlyVersion="latest",Ia.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"],Ia.\u0275fac=function(E){return new(E||Ia)(ki(go))},Ia.\u0275mod=Za({type:Ia}),Ia.\u0275inj=yr({providers:[go],imports:[Vg,Wg,Wg]});let $k=(()=>{class g{constructor(){this.graph={data:[],layout:{width:300,height:300,title:"A Fancy Plot"}}}ngAfterViewInit(){let I=[],U=[],oe=[];for(let ot=0;ot<10;ot++){var _e=Math.random();I.push(_e);var Ue=Math.random();U.push(Ue);var $e=Math.random();oe.push($e)}this.graph.data=[{opacity:.8,color:"rgb(300,100,200)",type:"mesh3d",x:I,y:U,z:oe}]}static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275cmp=Wa({type:g,selectors:[["app-root"]],decls:1,vars:2,consts:[[3,"data","layout"]],template:function(U,oe){1&U&&rv(0,"plotly-plot",0),2&U&&pg("data",oe.graph.data)("layout",oe.graph.layout)},dependencies:[Xk]})}return g})();var Kk=Af(335);N_.plotlyjs=Kk;let Jk=(()=>{class g{static#e=this.\u0275fac=function(U){return new(U||g)};static#t=this.\u0275mod=Za({type:g,bootstrap:[$k]});static#n=this.\u0275inj=yr({imports:[Bk,N_]})}return g})();Nk().bootstrapModule(Jk).catch(g=>console.error(g))},335:Fd=>{self,Fd.exports=function(){var Nd={79288:function(ie,z,e){"use strict";var S=e(3400),A={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in A){var M=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");S.addStyleRule(M,A[a])}},86712:function(ie,z,e){"use strict";ie.exports=e(84224)},37240:function(ie,z,e){"use strict";ie.exports=e(51132)},29744:function(ie,z,e){"use strict";ie.exports=e(94456)},29352:function(ie,z,e){"use strict";ie.exports=e(67244)},96144:function(ie,z,e){"use strict";ie.exports=e(97776)},53219:function(ie,z,e){"use strict";ie.exports=e(61712)},4624:function(ie,z,e){"use strict";ie.exports=e(95856)},54543:function(ie,z,e){"use strict";ie.exports=e(54272)},45e3:function(ie,z,e){"use strict";ie.exports=e(85404)},62300:function(ie,z,e){"use strict";ie.exports=e(26048)},6920:function(ie,z,e){"use strict";ie.exports=e(66240)},10264:function(ie,z,e){"use strict";ie.exports=e(40448)},32016:function(ie,z,e){"use strict";ie.exports=e(64884)},27528:function(ie,z,e){"use strict";ie.exports=e(15088)},75556:function(ie,z,e){"use strict";ie.exports=e(76744)},39204:function(ie,z,e){"use strict";ie.exports=e(94704)},73996:function(ie,z,e){"use strict";ie.exports=e(62396)},16489:function(ie,z,e){"use strict";ie.exports=e(32028)},5e3:function(ie,z,e){"use strict";ie.exports=e(81932)},77280:function(ie,z,e){"use strict";ie.exports=e(45536)},33992:function(ie,z,e){"use strict";ie.exports=e(42600)},17600:function(ie,z,e){"use strict";ie.exports=e(21536)},49116:function(ie,z,e){"use strict";ie.exports=e(65664)},46808:function(ie,z,e){"use strict";ie.exports=e(29044)},36168:function(ie,z,e){"use strict";ie.exports=e(48928)},13792:function(ie,z,e){"use strict";var S=e(32016);S.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),ie.exports=S},3920:function(ie,z,e){"use strict";ie.exports=e(43480)},25120:function(ie,z,e){"use strict";ie.exports=e(6296)},4340:function(ie,z,e){"use strict";ie.exports=e(7404)},86152:function(ie,z,e){"use strict";ie.exports=e(65456)},56816:function(ie,z,e){"use strict";ie.exports=e(22020)},89296:function(ie,z,e){"use strict";ie.exports=e(29928)},20260:function(ie,z,e){"use strict";ie.exports=e(75792)},32140:function(ie,z,e){"use strict";ie.exports=e(156)},84764:function(ie,z,e){"use strict";ie.exports=e(45499)},48824:function(ie,z,e){"use strict";ie.exports=e(3296)},69967:function(ie,z,e){"use strict";ie.exports=e(4184)},8363:function(ie,z,e){"use strict";ie.exports=e(36952)},86636:function(ie,z,e){"use strict";ie.exports=e(38983)},70192:function(ie,z,e){"use strict";ie.exports=e(11572)},81604:function(ie,z,e){"use strict";ie.exports=e(76924)},63796:function(ie,z,e){"use strict";ie.exports=e(62944)},89336:function(ie,z,e){"use strict";ie.exports=e(95443)},67484:function(ie,z,e){"use strict";ie.exports=e(34864)},97312:function(ie,z,e){"use strict";ie.exports=e(76272)},42192:function(ie,z,e){"use strict";ie.exports=e(97924)},29800:function(ie,z,e){"use strict";ie.exports=e(15436)},63560:function(ie,z,e){"use strict";ie.exports=e(5621)},89904:function(ie,z,e){"use strict";ie.exports=e(91304)},50248:function(ie,z,e){"use strict";ie.exports=e(41724)},65832:function(ie,z,e){"use strict";ie.exports=e(31991)},79440:function(ie,z,e){"use strict";ie.exports=e(22869)},13752:function(ie,z,e){"use strict";ie.exports=e(67776)},83096:function(ie,z,e){"use strict";ie.exports=e(95952)},72196:function(ie){"use strict";ie.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(ie,z,e){"use strict";var S=e(72196),A=e(25376),a=e(33816),M=e(31780).templatedArray;e(36208),ie.exports=M("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:A({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:S.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:S.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:A({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(23816).draw;function M(d){S.filterVisible(d._fullLayout.annotations).forEach(function(t){var i=A.getFromId(d,t.xref),n=A.getFromId(d,t.yref),r=A.getRefType(t.xref),o=A.getRefType(t.yref);t._extremes={},"range"===r&&_(t,i),"range"===o&&_(t,n)})}function _(d,s){var t,i=s._id,n=i.charAt(0),r=d[n],o=d["a"+n],h=d["_"+n+"padplus"],c=d["_"+n+"padminus"],b={x:1,y:-1}[n]*d[n+"shift"],p=3*d.arrowsize*d.arrowwidth||0,m=p+b,v=p-b,x=3*d.startarrowsize*d.arrowwidth||0,y=x+b,w=x-b;if(d["a"+n+"ref"]===d[n+"ref"]){var f=A.findExtremes(s,[s.r2c(r)],{ppadplus:m,ppadminus:v}),C=A.findExtremes(s,[s.r2c(o)],{ppadplus:Math.max(h,y),ppadminus:Math.max(c,w)});t={min:[f.min[0],C.min[0]],max:[f.max[0],C.max[0]]}}else y=o?y+o:y,w=o?w-o:w,t=A.findExtremes(s,[s.r2c(r)],{ppadplus:Math.max(h,m,y),ppadminus:Math.max(c,v,w)});d._extremes[i]=t}ie.exports=function(d){if(S.filterVisible(d._fullLayout.annotations).length&&d._fullData.length)return S.syncOrAsync([a,M],d)}},42300:function(ie,z,e){"use strict";var S=e(3400),A=e(24040),a=e(31780).arrayEditor;function M(d,s){var t,i,n,r,o,u,l,h=d._fullLayout.annotations,c=[],b=[],p=[],m=(s||[]).length;for(t=0;t<h.length;t++)if(r=(n=h[t]).clicktoshow){for(i=0;i<m;i++)if(u=(o=s[i]).xaxis,l=o.yaxis,u._id===n.xref&&l._id===n.yref&&u.d2r(o.x)===_(n._xclick,u)&&l.d2r(o.y)===_(n._yclick,l)){(n.visible?"onout"===r?b:p:c).push(t);break}i===m&&n.visible&&"onout"===r&&b.push(t)}return{on:c,off:b,explicitOff:p}}function _(d,s){return"log"===s.type?s.l2r(d):s.d2r(d)}ie.exports={hasClickToShow:function(d,s){var t=M(d,s);return t.on.length>0||t.explicitOff.length>0},onClick:function(d,s){var t,i,n=M(d,s),r=n.on,o=n.off.concat(n.explicitOff),u={},l=d._fullLayout.annotations;if(r.length||o.length){for(t=0;t<r.length;t++)(i=a(d.layout,"annotations",l[r[t]])).modifyItem("visible",!0),S.extendFlat(u,i.getUpdateObj());for(t=0;t<o.length;t++)(i=a(d.layout,"annotations",l[o[t]])).modifyItem("visible",!1),S.extendFlat(u,i.getUpdateObj());return A.call("update",d,{},u)}}}},87192:function(ie,z,e){"use strict";var S=e(3400),A=e(76308);ie.exports=function(a,M,_,d){d("opacity");var s=d("bgcolor"),t=d("bordercolor"),i=A.opacity(t);d("borderpad");var n=d("borderwidth"),r=d("showarrow");if(d("text",r?" ":_._dfltTitle.annotation),d("textangle"),S.coerceFont(d,"font",_.font),d("width"),d("align"),d("height")&&d("valign"),r){var o,u,l=d("arrowside");-1!==l.indexOf("end")&&(o=d("arrowhead"),u=d("arrowsize")),-1!==l.indexOf("start")&&(d("startarrowhead",o),d("startarrowsize",u)),d("arrowcolor",i?M.bordercolor:A.defaultLine),d("arrowwidth",2*(i&&n||1)),d("standoff"),d("startstandoff")}var h=d("hovertext"),c=_.hoverlabel||{};if(h){var b=d("hoverlabel.bgcolor",c.bgcolor||(A.opacity(s)?A.rgb(s):A.defaultLine)),p=d("hoverlabel.bordercolor",c.bordercolor||A.contrast(b)),m=S.extendFlat({},c.font);m.color||(m.color=p),S.coerceFont(d,"hoverlabel.font",m)}d("captureevents",!!h)}},26828:function(ie,z,e){"use strict";var S=e(38248),A=e(36896);ie.exports=function(a,M,_,d){M=M||{};var s="log"===_&&"linear"===M.type;if(s||"linear"===_&&"log"===M.type)for(var i,n,r=a._fullLayout.annotations,o=M._id.charAt(0),u=0;u<r.length;u++)n="annotations["+u+"].",(i=r[u])[o+"ref"]===M._id&&l(o),i["a"+o+"ref"]===M._id&&l("a"+o);function l(h){var c=i[h],b=null;b=s?A(c,M.range):Math.pow(10,c),S(b)||(b=null),d(n+h,b)}}},45216:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(51272),M=e(87192),_=e(13916);function d(s,t,i){function n(C,T){return S.coerce(s,t,_,C,T)}var r=n("visible"),o=n("clicktoshow");if(r||o){M(s,t,i,n);for(var u=t.showarrow,l=["x","y"],h=[-10,-30],c={_fullLayout:i},b=0;b<2;b++){var p=l[b],m=A.coerceRef(s,t,c,p,"","paper");if("paper"!==m&&A.getFromId(c,m)._annIndices.push(t._index),A.coercePosition(t,c,n,m,p,.5),u){var v="a"+p,x=A.coerceRef(s,t,c,v,"pixel",["pixel","paper"]);"pixel"!==x&&x!==m&&(x=t[v]="pixel"),A.coercePosition(t,c,n,x,v,"pixel"===x?h[b]:.4)}n(p+"anchor"),n(p+"shift")}if(S.noneOrAll(s,t,["x","y"]),u&&S.noneOrAll(s,t,["ax","ay"]),o){var w=n("xclick"),f=n("yclick");t._xclick=void 0===w?t.x:A.cleanPosition(w,c,t.xref),t._yclick=void 0===f?t.y:A.cleanPosition(f,c,t.yref)}}}ie.exports=function(s,t){a(s,t,{name:"annotations",handleItemDefaults:d})}},23816:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(7316),M=e(3400),_=M.strTranslate,d=e(54460),s=e(76308),t=e(43616),i=e(93024),n=e(72736),r=e(93972),o=e(86476),u=e(31780).arrayEditor,l=e(33652);function h(p,m){var v=p._fullLayout.annotations[m]||{},x=d.getFromId(p,v.xref),y=d.getFromId(p,v.yref);x&&x.setScale(),y&&y.setScale(),b(p,v,m,!1,x,y)}function c(p,m,v,x,y){var w=y[v],f=y[v+"ref"],C=-1!==v.indexOf("y"),T="domain"===d.getRefType(f),D=C?x.h:x.w;return p?T?w+(C?-m:m)/p._length:p.p2r(p.r2p(w)+m):w+(C?-m:m)/D}function b(p,m,v,x,y,w){var f,C,T=p._fullLayout,D=p._fullLayout._size,R=p._context.edits;x?(f="annotation-"+x,C=x+".annotations"):(f="annotation",C="annotations");var P=u(p.layout,C,m),O=P.modifyBase,B=P.modifyItem,q=P.getUpdateObj;T._infolayer.selectAll("."+f+'[data-index="'+v+'"]').remove();var N="clip"+T._uid+"_ann"+v;if(m._input&&!1!==m.visible){var H={x:{},y:{}},$=+m.textangle||0,j=T._infolayer.append("g").classed(f,!0).attr("data-index",String(v)).style("opacity",m.opacity),W=j.append("g").classed("annotation-text-g",!0),G=R[m.showarrow?"annotationTail":"annotationPosition"],ae=m.captureevents||R.annotationText||G,te=W.append("g").style("pointer-events",ae?"all":null).call(r,"pointer").on("click",function(){p._dragging=!1,p.emit("plotly_clickannotation",Me(S.event))});m.hovertext&&te.on("mouseover",function(){var be=m.hoverlabel,ye=be.font,Se=this.getBoundingClientRect(),Ee=p.getBoundingClientRect();i.loneHover({x0:Se.left-Ee.left,x1:Se.right-Ee.left,y:(Se.top+Se.bottom)/2-Ee.top,text:m.hovertext,color:be.bgcolor,borderColor:be.bordercolor,fontFamily:ye.family,fontSize:ye.size,fontColor:ye.color,fontWeight:ye.weight,fontStyle:ye.style,fontVariant:ye.variant},{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:p})}).on("mouseout",function(){i.loneUnhover(T._hoverlayer.node())});var Q=m.borderwidth,re=Q+m.borderpad,J=te.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(s.stroke,m.bordercolor).call(s.fill,m.bgcolor),le=m.width||m.height,fe=T._topclips.selectAll("#"+N).data(le?[0]:[]);fe.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),fe.exit().remove();var ce=m.font,ge=T._meta?M.templateString(m.text,T._meta):m.text,Te=te.append("text").classed("annotation-text",!0).text(ge);R.annotationText?Te.call(n.makeEditable,{delegate:te,gd:p}).call(we).on("edit",function(be){m.text=be,this.call(we),B("text",be),y&&y.autorange&&O(y._name+".autorange",!0),w&&w.autorange&&O(w._name+".autorange",!0),A.call("_guiRelayout",p,q())}):Te.call(we)}else S.selectAll("#"+N).remove();function Me(be){var ye={index:v,annotation:m._input,fullAnnotation:m,event:be};return x&&(ye.subplotId=x),ye}function we(be){return be.call(t.font,ce).attr({"text-anchor":{left:"start",right:"end"}[m.align]||"middle"}),n.convertToTspans(be,p,xe),be}function xe(){var be=Te.selectAll("a");1===be.size()&&be.text()===Te.text()&&te.insert("a",":first-child").attr({"xlink:xlink:href":be.attr("xlink:href"),"xlink:xlink:show":be.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(J.node());var ye=te.select(".annotation-text-math-group"),Se=!ye.empty(),Ee=t.bBox((Se?ye:Te).node()),he=Ee.width,ue=Ee.height,me=m.width||he,Pe=m.height||ue,Ce=Math.round(me+2*re),Ie=Math.round(Pe+2*re);function Oe(At,yt){return"auto"===yt&&(yt=At<.3333333333333333?"left":At>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[yt]}for(var ze=!1,je=["x","y"],ve=0;ve<je.length;ve++){var Ae,Le,Ve,Ne,We,Xe=je[ve],nt=m[Xe+"ref"]||Xe,dt=m["a"+Xe+"ref"],ht={x:y,y:w}[Xe],Mt=($+("x"===Xe?0:-90))*Math.PI/180,kt=Ce*Math.cos(Mt),_t=Ie*Math.sin(Mt),ut=Math.abs(kt)+Math.abs(_t),st=m[Xe+"anchor"],Lt=m[Xe+"shift"]*("x"===Xe?1:-1),Ut=H[Xe],Ht=d.getRefType(nt);if(ht&&"domain"!==Ht){var Pt=ht.r2fraction(m[Xe]);(Pt<0||Pt>1)&&(dt===nt?((Pt=ht.r2fraction(m["a"+Xe]))<0||Pt>1)&&(ze=!0):ze=!0),Ae=ht._offset+ht.r2p(m[Xe]),Ne=.5}else{var Je="domain"===Ht;"x"===Xe?(Ve=m[Xe],Ae=Je?ht._offset+ht._length*Ve:Ae=D.l+D.w*Ve):(Ve=1-m[Xe],Ae=Je?ht._offset+ht._length*Ve:Ae=D.t+D.h*Ve),Ne=m.showarrow?.5:Ve}if(m.showarrow){Ut.head=Ae;var tt=m["a"+Xe];if(We=kt*Oe(.5,m.xanchor)-_t*Oe(.5,m.yanchor),dt===nt){var Ge=d.getRefType(dt);"domain"===Ge?("y"===Xe&&(tt=1-tt),Ut.tail=ht._offset+ht._length*tt):Ut.tail="paper"===Ge?"y"===Xe?D.t+D.h*(tt=1-tt):D.l+D.w*tt:ht._offset+ht.r2p(tt),Le=We}else Ut.tail=Ae+tt,Le=We+tt;Ut.text=Ut.tail+We;var Qe=T["x"===Xe?"width":"height"];if("paper"===nt&&(Ut.head=M.constrain(Ut.head,1,Qe-1)),"pixel"===dt){var pt=-Math.max(Ut.tail-3,Ut.text),ct=Math.min(Ut.tail+3,Ut.text)-Qe;pt>0?(Ut.tail+=pt,Ut.text+=pt):ct>0&&(Ut.tail-=ct,Ut.text-=ct)}Ut.tail+=Lt,Ut.head+=Lt}else Le=We=ut*Oe(Ne,st),Ut.text=Ae+We;Ut.text+=Lt,We+=Lt,m["_"+Xe+"padplus"]=ut/2+(Le+=Lt),m["_"+Xe+"padminus"]=ut/2-Le,m["_"+Xe+"size"]=ut,m["_"+Xe+"shift"]=We}if(ze)te.remove();else{var He=0,qe=0;"left"!==m.align&&(He=(me-he)*("center"===m.align?.5:1)),"top"!==m.valign&&(qe=(Pe-ue)*("middle"===m.valign?.5:1)),Se?ye.select("svg").attr({x:re+He-1,y:re+qe}).call(t.setClipUrl,le?N:null,p):Te.call(n.positionText,re+He-Ee.left,re+qe-Ee.top).call(t.setClipUrl,le?N:null,p),fe.select("rect").call(t.setRect,re,re,me,Pe),J.call(t.setRect,Q/2,Q/2,Ce-Q,Ie-Q),te.call(t.setTranslate,Math.round(H.x.text-Ce/2),Math.round(H.y.text-Ie/2)),W.attr({transform:"rotate("+$+","+H.x.text+","+H.y.text+")"});var xt,wt=function(At,yt){j.selectAll(".annotation-arrow-g").remove();var Ot=H.x.head,Ct=H.y.head,Rt=H.x.tail+At,Bt=H.y.tail+yt,jt=H.x.text+At,Gt=H.y.text+yt,on=M.rotationXYMatrix($,jt,Gt),Jt=M.apply2DTransform(on),$t=M.apply2DTransform2(on),tn=+J.attr("width"),dn=+J.attr("height"),Gn=jt-.5*tn,zn=Gn+tn,Mn=Gt-.5*dn,ln=Mn+dn,vn=[[Gn,Mn,Gn,ln],[Gn,ln,zn,ln],[zn,ln,zn,Mn],[zn,Mn,Gn,Mn]].map($t);if(!vn.reduce(function(lr,cr){return lr^!!M.segmentsIntersect(Ot,Ct,Ot+1e6,Ct+1e6,cr[0],cr[1],cr[2],cr[3])},!1)){vn.forEach(function(lr){var cr=M.segmentsIntersect(Rt,Bt,Ot,Ct,lr[0],lr[1],lr[2],lr[3]);cr&&(Rt=cr.x,Bt=cr.y)});var hn=m.arrowwidth,_n=m.arrowcolor,Dn=m.arrowside,Pn=j.append("g").style({opacity:s.opacity(_n)}).classed("annotation-arrow-g",!0),Yn=Pn.append("path").attr("d","M"+Rt+","+Bt+"L"+Ot+","+Ct).style("stroke-width",hn+"px").call(s.stroke,s.rgb(_n));if(l(Yn,Dn,m),R.annotationPosition&&Yn.node().parentNode&&!x){var jn=Ot,Fn=Ct;if(m.standoff){var Jn=Math.sqrt(Math.pow(Ot-Rt,2)+Math.pow(Ct-Bt,2));jn+=m.standoff*(Rt-Ot)/Jn,Fn+=m.standoff*(Bt-Ct)/Jn}var $n,nr,or=Pn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Rt-jn)+","+(Bt-Fn),transform:_(jn,Fn)}).style("stroke-width",hn+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");o.init({element:or.node(),gd:p,prepFn:function(){var lr=t.getTranslate(te);$n=lr.x,nr=lr.y,y&&y.autorange&&O(y._name+".autorange",!0),w&&w.autorange&&O(w._name+".autorange",!0)},moveFn:function(lr,cr){var Ar=Jt($n,nr),fn=Ar[0]+lr,an=Ar[1]+cr;te.call(t.setTranslate,fn,an),B("x",c(y,lr,"x",D,m)),B("y",c(w,cr,"y",D,m)),m.axref===m.xref&&B("ax",c(y,lr,"ax",D,m)),m.ayref===m.yref&&B("ay",c(w,cr,"ay",D,m)),Pn.attr("transform",_(lr,cr)),W.attr({transform:"rotate("+$+","+fn+","+an+")"})},doneFn:function(){A.call("_guiRelayout",p,q());var lr=document.querySelector(".js-notes-box-panel");lr&&lr.redraw(lr.selectedObj)}})}}};m.showarrow&&wt(0,0),G&&o.init({element:te.node(),gd:p,prepFn:function(){xt=W.attr("transform")},moveFn:function(At,yt){var Ot="pointer";if(m.showarrow)B("ax",m.axref===m.xref?c(y,At,"ax",D,m):m.ax+At),B("ay",m.ayref===m.yref?c(w,yt,"ay",D.w,m):m.ay+yt),wt(At,yt);else{if(x)return;var Ct,Rt;if(y)Ct=c(y,At,"x",D,m);else{var Bt=m._xsize/D.w;Ct=o.align(m.x+(m._xshift-m.xshift)/D.w-Bt/2+At/D.w,Bt,0,1,m.xanchor)}if(w)Rt=c(w,yt,"y",D,m);else{var Gt=m._ysize/D.h;Rt=o.align(m.y-(m._yshift+m.yshift)/D.h-Gt/2-yt/D.h,Gt,0,1,m.yanchor)}B("x",Ct),B("y",Rt),y&&w||(Ot=o.getCursor(y?.5:Ct,w?.5:Rt,m.xanchor,m.yanchor))}W.attr({transform:_(At,yt)+xt}),r(te,Ot)},clickFn:function(At,yt){m.captureevents&&p.emit("plotly_clickannotation",Me(yt))},doneFn:function(){r(te),A.call("_guiRelayout",p,q());var At=document.querySelector(".js-notes-box-panel");At&&At.redraw(At.selectedObj)}})}}}ie.exports={draw:function(p){var m=p._fullLayout;m._infolayer.selectAll(".annotation").remove();for(var v=0;v<m.annotations.length;v++)m.annotations[v].visible&&h(p,v);return a.previousPromises(p)},drawOne:h,drawRaw:b}},33652:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(72196),M=e(3400),_=M.strScale,d=M.strRotate,s=M.strTranslate;ie.exports=function(t,i,n){var r,o,u,l,h=t.node(),c=a[n.arrowhead||0],b=a[n.startarrowhead||0],p=(n.arrowwidth||1)*(n.arrowsize||1),m=(n.arrowwidth||1)*(n.startarrowsize||1),v=i.indexOf("start")>=0,x=i.indexOf("end")>=0,y=c.backoff*p+n.standoff,w=b.backoff*m+n.startstandoff;if("line"===h.nodeName){r={x:+t.attr("x1"),y:+t.attr("y1")},o={x:+t.attr("x2"),y:+t.attr("y2")};var f=r.x-o.x,C=r.y-o.y;if(l=(u=Math.atan2(C,f))+Math.PI,y&&w&&y+w>Math.sqrt(f*f+C*C))return void j();if(y){if(y*y>f*f+C*C)return void j();var T=y*Math.cos(u),D=y*Math.sin(u);o.x+=T,o.y+=D,t.attr({x2:o.x,y2:o.y})}if(w){if(w*w>f*f+C*C)return void j();var R=w*Math.cos(u),P=w*Math.sin(u);r.x-=R,r.y-=P,t.attr({x1:r.x,y1:r.y})}}else if("path"===h.nodeName){var O=h.getTotalLength(),B="";if(O<y+w)return void j();var q=h.getPointAtLength(0),N=h.getPointAtLength(.1);u=Math.atan2(q.y-N.y,q.x-N.x),r=h.getPointAtLength(Math.min(w,O)),B="0px,"+w+"px,";var H=h.getPointAtLength(O),$=h.getPointAtLength(O-.1);l=Math.atan2(H.y-$.y,H.x-$.x),o=h.getPointAtLength(Math.max(0,O-y)),t.style("stroke-dasharray",B+=O-(B?w+y:y)+"px,"+O+"px")}function j(){t.style("stroke-dasharray","0px,100px")}function W(G,ae,te,Q){G.path&&(G.noRotate&&(te=0),S.select(h.parentNode).append("path").attr({class:t.attr("class"),d:G.path,transform:s(ae.x,ae.y)+d(180*te/Math.PI)+_(Q)}).style({fill:A.rgb(n.arrowcolor),"stroke-width":0}))}v&&W(b,r,u,m),x&&W(c,o,l,p)}},79180:function(ie,z,e){"use strict";var S=e(23816),A=e(42300);ie.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:S.draw,drawOne:S.drawOne,drawRaw:S.drawRaw,hasClickToShow:A.hasClickToShow,onClick:A.onClick,convertCoords:e(26828)}},45899:function(ie,z,e){"use strict";var S=e(13916),A=e(67824).overrideAll,a=e(31780).templatedArray;ie.exports=A(a("annotation",{visible:S.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:S.xanchor,xshift:S.xshift,yanchor:S.yanchor,yshift:S.yshift,text:S.text,textangle:S.textangle,font:S.font,width:S.width,height:S.height,opacity:S.opacity,align:S.align,valign:S.valign,bgcolor:S.bgcolor,bordercolor:S.bordercolor,borderpad:S.borderpad,borderwidth:S.borderwidth,showarrow:S.showarrow,arrowcolor:S.arrowcolor,arrowhead:S.arrowhead,startarrowhead:S.startarrowhead,arrowside:S.arrowside,arrowsize:S.arrowsize,startarrowsize:S.startarrowsize,arrowwidth:S.arrowwidth,standoff:S.standoff,startstandoff:S.startstandoff,hovertext:S.hovertext,hoverlabel:S.hoverlabel,captureevents:S.captureevents}),"calc","from-root")},42456:function(ie,z,e){"use strict";var S=e(3400),A=e(54460);function a(M,_){var d=_.fullSceneLayout.domain,s=_.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};M._xa={},S.extendFlat(M._xa,t),A.setConvert(M._xa),M._xa._offset=s.l+d.x[0]*s.w,M._xa.l2p=function(){return.5*(1+M._pdata[0]/M._pdata[3])*s.w*(d.x[1]-d.x[0])},M._ya={},S.extendFlat(M._ya,t),A.setConvert(M._ya),M._ya._offset=s.t+(1-d.y[1])*s.h,M._ya.l2p=function(){return.5*(1-M._pdata[1]/M._pdata[3])*s.h*(d.y[1]-d.y[0])}}ie.exports=function(M){for(var _=M.fullSceneLayout.annotations,d=0;d<_.length;d++)a(_[d],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()}},52808:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(51272),M=e(87192),_=e(45899);function d(s,t,i,n){function r(u,l){return S.coerce(s,t,_,u,l)}function o(u){var l=u+"axis",h={_fullLayout:{}};return h._fullLayout[l]=i[l],A.coercePosition(t,h,r,u,u,.5)}r("visible")&&(M(s,t,n.fullLayout,r),o("x"),o("y"),o("z"),S.noneOrAll(s,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",r("xanchor"),r("yanchor"),r("xshift"),r("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",r("ax",-10),r("ay",-30),S.noneOrAll(s,t,["ax","ay"])))}ie.exports=function(s,t,i){a(s,t,{name:"annotations",handleItemDefaults:d,fullLayout:i.fullLayout})}},71836:function(ie,z,e){"use strict";var S=e(23816).drawRaw,A=e(94424),a=["x","y","z"];ie.exports=function(M){for(var _=M.fullSceneLayout,d=M.dataScale,s=_.annotations,t=0;t<s.length;t++){for(var i=s[t],n=!1,r=0;r<3;r++){var o=a[r],l=_[o+"axis"].r2fraction(i[o]);if(l<0||l>1){n=!0;break}}n?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+t+'"]').remove():(i._pdata=A(M.glplot.cameraParams,[_.xaxis.r2l(i.x)*d[0],_.yaxis.r2l(i.y)*d[1],_.zaxis.r2l(i.z)*d[2]]),S(M.graphDiv,i,t,M.id,i._xa,i._ya))}}},56864:function(ie,z,e){"use strict";var S=e(24040),A=e(3400);ie.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(a,M){var _=S.subplotsRegistry.gl3d;if(_)for(var d=_.attrRegex,s=Object.keys(a),t=0;t<s.length;t++){var i=s[t];d.test(i)&&(a[i].annotations||[]).length&&(A.pushUnique(M._basePlotModules,_),A.pushUnique(M._subplots.gl3d,i))}},convert:e(42456),draw:e(71836)}},54976:function(ie,z,e){"use strict";ie.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(ie,z,e){"use strict";var S=e(54976),A=e(3400),a=e(39032),M=a.EPOCHJD,_=a.ONEDAY,d={valType:"enumerated",values:A.sortObjectKeys(S.calendars),editType:"calc",dflt:"gregorian"},s=function(p,m,v,x){var y={};return y[v]=d,A.coerce(p,m,y,v,x)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},n={};function r(p){return n[p]||(n[p]=S.instance(p))}function o(p){return A.extendFlat({},d,{description:p})}function u(p){return"Sets the calendar system to use with `"+p+"` date data."}var l={xcalendar:o(u("x"))},h=A.extendFlat({},l,{ycalendar:o(u("y"))}),c=A.extendFlat({},h,{zcalendar:o(u("z"))}),b=o(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ie.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:h,bar:h,box:h,heatmap:h,contour:h,histogram:h,histogram2d:h,histogram2dcontour:h,scatter3d:c,surface:c,mesh3d:c,scattergl:h,ohlc:l,candlestick:l},layout:{calendar:o(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:s,handleTraceDefaults:function(p,m,v,x){for(var y=0;y<v.length;y++)s(p,m,v[y]+"calendar",x.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:r,worldCalFmt:function(p,m,v){for(var x,y,w,f,C,T=Math.floor((m+.05)/_)+M,D=r(v).fromJD(T),R=0;-1!==(R=p.indexOf("%",R));)"0"===(x=p.charAt(R+1))||"-"===x||"_"===x?(w=3,y=p.charAt(R+2),"_"===x&&(x="-")):(y=x,x="0",w=2),(f=i[y])?(C=f===t?t:D.formatDate(f[x]),p=p.substr(0,R)+C+p.substr(R+w),R+=C.length):R+=w;return p}}},22548:function(ie,z){"use strict";z.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],z.defaultLine="#444",z.lightLine="#eee",z.background="#fff",z.borderLine="#BEC8D9",z.lightFraction=90.9090909090909},76308:function(ie,z,e){"use strict";var S=e(49760),A=e(38248),a=e(38116).isTypedArray,M=ie.exports={},_=e(22548);M.defaults=_.defaults;var d=M.defaultLine=_.defaultLine;M.lightLine=_.lightLine;var s=M.background=_.background;function t(i){if(A(i)||"string"!=typeof i)return i;var n=i.trim();if("rgb"!==n.substr(0,3))return i;var r=n.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return i;var o=r[1].trim().split(/\s*[\s,]\s*/),u="a"===n.charAt(3)&&4===o.length;if(!u&&3!==o.length)return i;for(var l=0;l<o.length;l++){if(!(o[l].length&&(o[l]=Number(o[l]),o[l]>=0)))return i;if(3===l)o[l]>1&&(o[l]=1);else if(o[l]>=1)return i}var h=Math.round(255*o[0])+", "+Math.round(255*o[1])+", "+Math.round(255*o[2]);return u?"rgba("+h+", "+o[3]+")":"rgb("+h+")"}M.tinyRGB=function(i){var n=i.toRgb();return"rgb("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+")"},M.rgb=function(i){return M.tinyRGB(S(i))},M.opacity=function(i){return i?S(i).getAlpha():0},M.addOpacity=function(i,n){var r=S(i).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+n+")"},M.combine=function(i,n){var r=S(i).toRgb();if(1===r.a)return S(i).toRgbString();var o=S(n||s).toRgb(),u=1===o.a?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a};return S({r:u.r*(1-r.a)+r.r*r.a,g:u.g*(1-r.a)+r.g*r.a,b:u.b*(1-r.a)+r.b*r.a}).toRgbString()},M.interpolate=function(i,n,r){var o=S(i).toRgb(),u=S(n).toRgb();return S({r:r*o.r+(1-r)*u.r,g:r*o.g+(1-r)*u.g,b:r*o.b+(1-r)*u.b}).toRgbString()},M.contrast=function(i,n,r){var o=S(i);return 1!==o.getAlpha()&&(o=S(M.combine(i,s))),(o.isDark()?n?o.lighten(n):s:r?o.darken(r):d).toString()},M.stroke=function(i,n){var r=S(n);i.style({stroke:M.tinyRGB(r),"stroke-opacity":r.getAlpha()})},M.fill=function(i,n){var r=S(n);i.style({fill:M.tinyRGB(r),"fill-opacity":r.getAlpha()})},M.clean=function(i){if(i&&"object"==typeof i){var n,r,o,u,l=Object.keys(i);for(n=0;n<l.length;n++)if(u=i[o=l[n]],"color"===o.substr(o.length-5))if(Array.isArray(u))for(r=0;r<u.length;r++)u[r]=t(u[r]);else i[o]=t(u);else if("colorscale"===o.substr(o.length-10)&&Array.isArray(u))for(r=0;r<u.length;r++)Array.isArray(u[r])&&(u[r][1]=t(u[r][1]));else if(Array.isArray(u)){var h=u[0];if(!Array.isArray(h)&&h&&"object"==typeof h)for(r=0;r<u.length;r++)M.clean(u[r])}else u&&"object"==typeof u&&!a(u)&&M.clean(u)}}},42996:function(ie,z,e){"use strict";var S=e(94724),A=e(25376),a=e(92880).extendFlat,M=e(67824).overrideAll;ie.exports=M({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:S.linecolor,outlinewidth:S.linewidth,bordercolor:S.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:S.minor.tickmode,nticks:S.nticks,tick0:S.tick0,dtick:S.dtick,tickvals:S.tickvals,ticktext:S.ticktext,ticks:a({},S.ticks,{dflt:""}),ticklabeloverflow:a({},S.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:S.ticklen,tickwidth:S.tickwidth,tickcolor:S.tickcolor,ticklabelstep:S.ticklabelstep,showticklabels:S.showticklabels,labelalias:S.labelalias,tickfont:A({}),tickangle:S.tickangle,tickformat:S.tickformat,tickformatstops:S.tickformatstops,tickprefix:S.tickprefix,showtickprefix:S.showtickprefix,ticksuffix:S.ticksuffix,showticksuffix:S.showticksuffix,separatethousands:S.separatethousands,exponentformat:S.exponentformat,minexponent:S.minexponent,showexponent:S.showexponent,title:{text:{valType:"string"},font:A({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:A({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(ie){"use strict";ie.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(ie,z,e){"use strict";var S=e(3400),A=e(31780),a=e(26332),M=e(25404),_=e(95936),d=e(42568),s=e(42996);ie.exports=function(t,i,n){var r=A.newContainer(i,"colorbar"),o=t.colorbar||{};function u(B,q){return S.coerce(o,r,s,B,q)}var l=n.margin||{t:0,b:0,l:0,r:0},h=n.width-l.l-l.r,c=n.height-l.t-l.b,b="v"===u("orientation"),p=u("thicknessmode");u("thickness","fraction"===p?30/(b?h:c):30);var m=u("lenmode");u("len","fraction"===m?1:b?c:h);var v,x,y,w="paper"===u("yref"),f="paper"===u("xref"),C="left";b?(y="middle",C=f?"left":"right",v=f?1.02:1,x=.5):(y=w?"bottom":"top",C="center",v=.5,x=w?1.02:1),S.coerce(o,r,{x:{valType:"number",min:f?-2:0,max:f?3:1,dflt:v}},"x"),S.coerce(o,r,{y:{valType:"number",min:w?-2:0,max:w?3:1,dflt:x}},"y"),u("xanchor",C),u("xpad"),u("yanchor",y),u("ypad"),S.noneOrAll(o,r,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var T=S.coerce(o,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:b?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",-1!==T.indexOf("inside")?"hide past domain":"hide past div"),a(o,r,u,"linear");var D=n.font,R={noAutotickangles:!0,outerTicks:!1,font:D};-1!==T.indexOf("inside")&&(R.bgColor="black"),d(o,r,u,"linear",R),_(o,r,u,"linear",R),M(o,r,u,"linear",R),u("title.text",n._dfltTitle.colorbar);var P=r.showticklabels?r.tickfont:D,O=S.extendFlat({},P,{weight:D.weight,style:D.style,variant:D.variant,color:D.color,size:S.bigFont(P.size)});S.coerceFont(u,"title.font",O),u("title.side",b?"top":"right")}},37848:function(ie,z,e){"use strict";var S=e(33428),A=e(49760),a=e(7316),M=e(24040),_=e(54460),d=e(86476),s=e(3400),t=s.strTranslate,i=e(92880).extendFlat,n=e(93972),r=e(43616),o=e(76308),u=e(81668),l=e(72736),h=e(94288).flipScale,c=e(28336),b=e(37668),p=e(94724),m=e(84284),v=m.LINE_SPACING,x=m.FROM_TL,y=m.FROM_BR,w=e(63964).cn;ie.exports={draw:function(f){var C=f._fullLayout._infolayer.selectAll("g."+w.colorbar).data(function(T){var D,R,P,O,B=T._fullLayout,q=T.calcdata,N=[];function H(le){return i(le,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function $(){"function"==typeof O.calc?O.calc(T,P,D):(D._fillgradient=R.reversescale?h(R.colorscale):R.colorscale,D._zrange=[R[O.min],R[O.max]])}for(var j=0;j<q.length;j++)if((P=q[j][0].trace)._module){var G=P._module.colorbar;if(!0===P.visible&&G)for(var ae=Array.isArray(G),te=ae?G:[G],Q=0;Q<te.length;Q++){var ee=(O=te[Q]).container;(R=ee?P[ee]:P)&&R.showscale&&((D=H(R.colorbar))._id="cb"+P.uid+(ae&&ee?"-"+ee:""),D._traceIndex=P.index,D._propPrefix=(ee?ee+".":"")+"colorbar.",D._meta=P._meta,$(),N.push(D))}}for(var re in B._colorAxes)if((R=B[re]).showscale){var J=B._colorAxes[re];(D=H(R.colorbar))._id="cb"+re,D._propPrefix=re+".colorbar.",D._meta=B._meta,O={min:"cmin",max:"cmax"},"heatmap"!==J[0]&&(O.calc=(P=J[1])._module.colorbar.calc),$(),N.push(D)}return N}(f),function(T){return T._id});C.enter().append("g").attr("class",function(T){return T._id}).classed(w.colorbar,!0),C.each(function(T){var D=S.select(this);s.ensureSingle(D,"rect",w.cbbg),s.ensureSingle(D,"g",w.cbfills),s.ensureSingle(D,"g",w.cblines),s.ensureSingle(D,"g",w.cbaxis,function(P){P.classed(w.crisp,!0)}),s.ensureSingle(D,"g",w.cbtitleunshift,function(P){P.append("g").classed(w.cbtitle,!0)}),s.ensureSingle(D,"rect",w.cboutline);var P,O,B,q,N,H,$,j,R=function(P,O,B){var q="v"===O.orientation,N=O.len,H=O.lenmode,$=O.thickness,j=O.thicknessmode,W=O.outlinewidth,G=O.borderwidth,ae=O.bgcolor,te=O.xanchor,Q=O.yanchor,ee=O.xpad,re=O.ypad,J=O.x,le=q?O.y:1-O.y,fe="paper"===O.yref,ce="paper"===O.xref,ge=B._fullLayout,Te=ge._size,Me=O._fillcolor,we=O._line,xe=O.title,be=xe.side,ye=O._zrange||S.extent(("function"==typeof Me?Me:we.color).domain()),Se="function"==typeof we.color?we.color:function(){return we.color},Ee="function"==typeof Me?Me:function(){return Me},he=O._levels,ue=function(Ge,Qe,pt){var ct,He,qe=Qe._levels,ft=[],et=[],xt=qe.end+qe.size/100,wt=qe.size,At=1.001*pt[0]-.001*pt[1],yt=1.001*pt[1]-.001*pt[0];for(He=0;He<1e5&&(ct=qe.start+He*wt,!(wt>0?ct>=xt:ct<=xt));He++)ct>At&&ct<yt&&ft.push(ct);if(Qe._fillgradient)et=[0];else if("function"==typeof Qe._fillcolor){var Ot=Qe._filllevels;if(Ot)for(xt=Ot.end+Ot.size/100,wt=Ot.size,He=0;He<1e5&&(ct=Ot.start+He*wt,!(wt>0?ct>=xt:ct<=xt));He++)ct>pt[0]&&ct<pt[1]&&et.push(ct);else(et=ft.map(function(Ct){return Ct-qe.size/2})).push(et[et.length-1]+qe.size)}else Qe._fillcolor&&"string"==typeof Qe._fillcolor&&(et=[0]);return qe.size<0&&(ft.reverse(),et.reverse()),{line:ft,fill:et}}(0,O,ye),me=ue.fill,Pe=ue.line,Ce=Math.round($*("fraction"===j?q?Te.w:Te.h:1)),Ie=Ce/(q?Te.w:Te.h),Oe=Math.round(N*("fraction"===H?q?Te.h:Te.w:1)),ze=Oe/(q?Te.h:Te.w),je=ce?Te.w:B._fullLayout.width,ve=fe?Te.h:B._fullLayout.height,Ae=Math.round(q?J*je+ee:le*ve+re),Le={center:.5,right:1}[te]||0,Ve={top:1,middle:.5}[Q]||0,Ne=q?J-Le*Ie:le-Ve*Ie,We=q?le-Ve*ze:J-Le*ze,Xe=Math.round(q?ve*(1-We):je*We);O._lenFrac=ze,O._thickFrac=Ie,O._uFrac=Ne,O._vFrac=We;var nt=O._axis=function(Ge,Qe,pt){var ct=Ge._fullLayout,He="v"===Qe.orientation,qe={type:"linear",range:pt,tickmode:Qe.tickmode,nticks:Qe.nticks,tick0:Qe.tick0,dtick:Qe.dtick,tickvals:Qe.tickvals,ticktext:Qe.ticktext,ticks:Qe.ticks,ticklen:Qe.ticklen,tickwidth:Qe.tickwidth,tickcolor:Qe.tickcolor,showticklabels:Qe.showticklabels,labelalias:Qe.labelalias,ticklabelposition:Qe.ticklabelposition,ticklabeloverflow:Qe.ticklabeloverflow,ticklabelstep:Qe.ticklabelstep,tickfont:Qe.tickfont,tickangle:Qe.tickangle,tickformat:Qe.tickformat,exponentformat:Qe.exponentformat,minexponent:Qe.minexponent,separatethousands:Qe.separatethousands,showexponent:Qe.showexponent,showtickprefix:Qe.showtickprefix,tickprefix:Qe.tickprefix,showticksuffix:Qe.showticksuffix,ticksuffix:Qe.ticksuffix,title:Qe.title,showline:!0,anchor:"free",side:He?"right":"bottom",position:1},ft=He?"y":"x",et={type:"linear",_id:ft+Qe._id},xt={letter:ft,font:ct.font,noAutotickangles:"y"===ft,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:ct.calendar};function wt(At,yt){return s.coerce(qe,et,p,At,yt)}return c(qe,et,wt,xt,ct),b(qe,et,wt,xt),et}(B,O,ye);nt.position=Ie+(q?J+ee/Te.w:le+re/Te.h);var dt=-1!==["top","bottom"].indexOf(be);if(q&&dt&&(nt.title.side=be,nt.titlex=J+ee/Te.w,nt.titley=We+("top"===xe.side?ze-re/Te.h:re/Te.h)),q||dt||(nt.title.side=be,nt.titley=le+re/Te.h,nt.titlex=We+ee/Te.w),we.color&&"auto"===O.tickmode){nt.tickmode="linear",nt.tick0=he.start;var ht=he.size,Mt=s.constrain(Oe/50,4,15)+1,kt=(ye[1]-ye[0])/((O.nticks||Mt)*ht);if(kt>1){var _t=Math.pow(10,Math.floor(Math.log(kt)/Math.LN10));ht*=_t*s.roundUp(kt/_t,[2,5,10]),(Math.abs(he.start)/he.size+1e-6)%1<2e-6&&(nt.tick0=0)}nt.dtick=ht}nt.domain=q?[We+re/Te.h,We+ze-re/Te.h]:[We+ee/Te.w,We+ze-ee/Te.w],nt.setScale(),P.attr("transform",t(Math.round(Te.l),Math.round(Te.t)));var ut,st=P.select("."+w.cbtitleunshift).attr("transform",t(-Math.round(Te.l),-Math.round(Te.t))),Lt=nt.ticklabelposition,Ut=nt.title.font.size,Ht=P.select("."+w.cbaxis),Pt=0,Je=0;function tt(Ge,Qe){var pt={propContainer:nt,propName:O._propPrefix+"title",traceIndex:O._traceIndex,_meta:O._meta,placeholder:ge._dfltTitle.colorbar,containerGroup:P.select("."+w.cbtitle)},ct="h"===Ge.charAt(0)?Ge.substr(1):"h"+Ge;P.selectAll("."+ct+",."+ct+"-math-group").remove(),u.draw(B,Ge,i(pt,Qe||{}))}return s.syncOrAsync([a.previousPromises,function(){var Ge,Qe;(q&&dt||!q&&!dt)&&("top"===be&&(Ge=ee+Te.l+je*J,Qe=re+Te.t+ve*(1-We-ze)+3+.75*Ut),"bottom"===be&&(Ge=ee+Te.l+je*J,Qe=re+Te.t+ve*(1-We)-3-.25*Ut),"right"===be&&(Qe=re+Te.t+ve*le+3+.75*Ut,Ge=ee+Te.l+je*We),tt(nt._id+"title",{attributes:{x:Ge,y:Qe,"text-anchor":q?"start":"middle"}}))},function(){if(!q&&!dt||q&&dt){var Ge,Qe=P.select("."+w.cbtitle),pt=Qe.select("text"),ct=[-W/2,W/2],He=Qe.select(".h"+nt._id+"title-math-group").node(),qe=15.6;if(pt.node()&&(qe=parseInt(pt.node().style.fontSize,10)*v),He?(Ge=r.bBox(He),Je=Ge.width,(Pt=Ge.height)>qe&&(ct[1]-=(Pt-qe)/2)):pt.node()&&!pt.classed(w.jsPlaceholder)&&(Ge=r.bBox(pt.node()),Je=Ge.width,Pt=Ge.height),q){if(Pt){if(Pt+=5,"top"===be)nt.domain[1]-=Pt/Te.h,ct[1]*=-1;else{nt.domain[0]+=Pt/Te.h;var ft=l.lineCount(pt);ct[1]+=(1-ft)*qe}Qe.attr("transform",t(ct[0],ct[1])),nt.setScale()}}else Je&&("right"===be&&(nt.domain[0]+=(Je+Ut/2)/Te.w),Qe.attr("transform",t(ct[0],ct[1])),nt.setScale())}P.selectAll("."+w.cbfills+",."+w.cblines).attr("transform",q?t(0,Math.round(Te.h*(1-nt.domain[1]))):t(Math.round(Te.w*nt.domain[0]),0)),Ht.attr("transform",q?t(0,Math.round(-Te.t)):t(Math.round(-Te.l),0));var et=P.select("."+w.cbfills).selectAll("rect."+w.cbfill).attr("style","").data(me);et.enter().append("rect").classed(w.cbfill,!0).attr("style",""),et.exit().remove();var xt=ye.map(nt.c2p).map(Math.round).sort(function(Ct,Rt){return Ct-Rt});et.each(function(Ct,Rt){var Bt=[0===Rt?ye[0]:(me[Rt]+me[Rt-1])/2,Rt===me.length-1?ye[1]:(me[Rt]+me[Rt+1])/2].map(nt.c2p).map(Math.round);q&&(Bt[1]=s.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,xt[0],xt[1]));var jt=S.select(this).attr(q?"x":"y",Ae).attr(q?"y":"x",S.min(Bt)).attr(q?"width":"height",Math.max(Ce,2)).attr(q?"height":"width",Math.max(S.max(Bt)-S.min(Bt),2));if(O._fillgradient)r.gradient(jt,B,O._id,q?"vertical":"horizontalreversed",O._fillgradient,"fill");else{var Gt=Ee(Ct).replace("e-","");jt.attr("fill",A(Gt).toHexString())}});var wt=P.select("."+w.cblines).selectAll("path."+w.cbline).data(we.color&&we.width?Pe:[]);wt.enter().append("path").classed(w.cbline,!0),wt.exit().remove(),wt.each(function(Ct){var Rt=Ae,Bt=Math.round(nt.c2p(Ct))+we.width/2%1;S.select(this).attr("d","M"+(q?Rt+","+Bt:Bt+","+Rt)+(q?"h":"v")+Ce).call(r.lineGroupStyle,we.width,Se(Ct),we.dash)}),Ht.selectAll("g."+nt._id+"tick,path").remove();var At=Ae+Ce+(W||0)/2-("outside"===O.ticks?1:0),yt=_.calcTicks(nt),Ot=_.getTickSigns(nt)[2];return _.drawTicks(B,nt,{vals:"inside"===nt.ticks?_.clipEnds(nt,yt):yt,layer:Ht,path:_.makeTickPath(nt,At,Ot),transFn:_.makeTransTickFn(nt)}),_.drawLabels(B,nt,{vals:yt,layer:Ht,transFn:_.makeTransTickLabelFn(nt),labelFns:_.makeLabelFns(nt,At)})},function(){if(q&&!dt||!q&&dt){var Ge,Qe,pt=nt.position||0,ct=nt._offset+nt._length/2;if("right"===be)Qe=ct,Ge=Te.l+je*pt+10+Ut*(nt.showticklabels?1:.5);else if(Ge=ct,"bottom"===be&&(Qe=Te.t+ve*pt+10+(-1===Lt.indexOf("inside")?nt.tickfont.size:0)+("intside"!==nt.ticks&&O.ticklen||0)),"top"===be){var He=xe.text.split("<br>").length;Qe=Te.t+ve*pt+10-Ce-v*Ut*He}tt((q?"h":"v")+nt._id+"title",{avoid:{selection:S.select(B).selectAll("g."+nt._id+"tick"),side:be,offsetTop:q?0:Te.t,offsetLeft:q?Te.l:0,maxShift:q?ge.width:ge.height},attributes:{x:Ge,y:Qe,"text-anchor":"middle"},transform:{rotate:q?-90:0,offset:0}})}},a.previousPromises,function(){var Ge,Qe=Ce+W/2;-1===Lt.indexOf("inside")&&(Ge=r.bBox(Ht.node()),Qe+=q?Ge.width:Ge.height),ut=st.select("text");var pt=0,ct=q&&"top"===be,He=!q&&"right"===be,qe=0;if(ut.node()&&!ut.classed(w.jsPlaceholder)){var ft,et=st.select(".h"+nt._id+"title-math-group").node();et&&(q&&dt||!q&&!dt)?(pt=(Ge=r.bBox(et)).width,ft=Ge.height):(pt=(Ge=r.bBox(st.node())).right-Te.l-(q?Ae:Xe),ft=Ge.bottom-Te.t-(q?Xe:Ae),q||"top"!==be||(Qe+=Ge.height,qe=Ge.height)),He&&(ut.attr("transform",t(pt/2+Ut/2,0)),pt*=2),Qe=Math.max(Qe,q?pt:ft)}var xt=2*(q?ee:re)+Qe+G+W/2,wt=0;!q&&xe.text&&"bottom"===Q&&le<=0&&(xt+=wt=xt/2,qe+=wt),ge._hColorbarMoveTitle=wt,ge._hColorbarMoveCBTitle=qe;var At=G+W,yt=(q?Ae:Xe)-At/2-(q?ee:0),Ot=(q?Xe:Ae)-(q?Oe:re+qe-wt);P.select("."+w.cbbg).attr("x",yt).attr("y",Ot).attr(q?"width":"height",Math.max(xt-wt,2)).attr(q?"height":"width",Math.max(Oe+At,2)).call(o.fill,ae).call(o.stroke,O.bordercolor).style("stroke-width",G);var Ct=He?Math.max(pt-10,0):0;P.selectAll("."+w.cboutline).attr("x",(q?Ae:Xe+ee)+Ct).attr("y",(q?Xe+re-Oe:Ae)+(ct?Pt:0)).attr(q?"width":"height",Math.max(Ce,2)).attr(q?"height":"width",Math.max(Oe-(q?2*re+Pt:2*ee+Ct),2)).call(o.stroke,O.outlinecolor).style({fill:"none","stroke-width":W});var Rt=q?Le*xt:0,Bt=q?0:(1-Ve)*xt-qe;if(P.attr("transform",t(Rt=ce?Te.l-Rt:-Rt,Bt=fe?Te.t-Bt:-Bt)),!q&&(G||A(ae).getAlpha()&&!A.equals(ge.paper_bgcolor,ae))){var jt=Ht.selectAll("text"),Gt=jt[0].length,on=P.select("."+w.cbbg).node(),Jt=r.bBox(on),$t=r.getTranslate(P);jt.each(function(Dn,Pn){var Yn=Gt-1;if(0===Pn||Pn===Yn){var jn,Fn=r.bBox(this),Jn=r.getTranslate(this);Pn===Yn?(jn=Jt.right+$t.x+Xe-G-2+J-(Fn.right+Jn.x))>0&&(jn=0):0===Pn&&(jn=Jt.left+$t.x+Xe+G+2-(Fn.left+Jn.x))<0&&(jn=0),jn&&(Gt<3?this.setAttribute("transform","translate("+jn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var tn={},dn=x[te],Gn=y[te],zn=x[Q],Mn=y[Q],ln=xt-Ce;q?("pixels"===H?(tn.y=le,tn.t=Oe*zn,tn.b=Oe*Mn):(tn.t=tn.b=0,tn.yt=le+N*zn,tn.yb=le-N*Mn),"pixels"===j?(tn.x=J,tn.l=xt*dn,tn.r=xt*Gn):(tn.l=ln*dn,tn.r=ln*Gn,tn.xl=J-$*dn,tn.xr=J+$*Gn)):("pixels"===H?(tn.x=J,tn.l=Oe*dn,tn.r=Oe*Gn):(tn.l=tn.r=0,tn.xl=J+N*dn,tn.xr=J-N*Gn),"pixels"===j?(tn.y=1-le,tn.t=xt*zn,tn.b=xt*Mn):(tn.t=ln*zn,tn.b=ln*Mn,tn.yt=le-$*zn,tn.yb=le+$*Mn));var vn=O.y<.5?"b":"t",hn=O.x<.5?"l":"r";B._fullLayout._reservedMargin[O._id]={};var _n={r:ge.width-yt-Rt,l:yt+tn.r,b:ge.height-Ot-Bt,t:Ot+tn.b};ce&&fe?a.autoMargin(B,O._id,tn):ce?B._fullLayout._reservedMargin[O._id][vn]=_n[vn]:fe||q?B._fullLayout._reservedMargin[O._id][hn]=_n[hn]:B._fullLayout._reservedMargin[O._id][vn]=_n[vn]}],B)}(D,T,f);R&&R.then&&(f._promises||[]).push(R),f._context.edits.colorbarPosition&&($="v"===(O=T).orientation,j=(B=f)._fullLayout._size,d.init({element:(P=D).node(),gd:B,prepFn:function(){q=P.attr("transform"),n(P)},moveFn:function(W,G){P.attr("transform",q+t(W,G)),N=d.align(($?O._uFrac:O._vFrac)+W/j.w,$?O._thickFrac:O._lenFrac,0,1,O.xanchor),H=d.align(($?O._vFrac:1-O._uFrac)-G/j.h,$?O._lenFrac:O._thickFrac,0,1,O.yanchor);var ae=d.getCursor(N,H,O.xanchor,O.yanchor);n(P,ae)},doneFn:function(){if(n(P),void 0!==N&&void 0!==H){var W={};W[O._propPrefix+"x"]=N,W[O._propPrefix+"y"]=H,void 0!==O._traceIndex?M.call("_guiRestyle",B,W,O._traceIndex):M.call("_guiRelayout",B,W)}}}))}),C.exit().each(function(T){a.autoMargin(f,T._id)}).remove(),C.order()}}},90553:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A){return S.isPlainObject(A.colorbar)}},55080:function(ie,z,e){"use strict";ie.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(ie,z,e){"use strict";var S=e(42996),A=e(53756).counter,a=e(95376),M=e(88304).scales;function _(d){return"`"+d+"`"}a(M),ie.exports=function(d,s){d=d||"";var t,i=(s=s||{}).cLetter||"c",n="noScale"in s?s.noScale:"marker.line"===d,r="showScaleDflt"in s?s.showScaleDflt:"z"===i,o="string"==typeof s.colorscaleDflt?M[s.colorscaleDflt]:null,u=s.editTypeOverride||"",l=d?d+".":"";"colorAttr"in s?t=s.colorAttr:_(l+(t={z:"z",c:"color"}[i]));var h=i+"auto",c=i+"min",b=i+"max",p=i+"mid",m=(_(l+h),_(l+c),_(l+b),{});m[c]=m[b]=void 0;var v={};v[h]=!1;var x={};return"color"===t&&(x.color={valType:"color",arrayOk:!0,editType:u||"style"},s.anim&&(x.color.anim=!0)),x[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:m},x[c]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:v},x[b]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:v},x[p]={valType:"number",dflt:null,editType:"calc",impliedEdits:m},x.colorscale={valType:"colorscale",editType:"calc",dflt:o,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:!1!==s.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},n||(x.showscale={valType:"boolean",dflt:r,editType:"calc"},x.colorbar=S),s.noColorAxis||(x.coloraxis={valType:"subplotid",regex:A("coloraxis"),dflt:null,editType:"calc"}),x}},47128:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(94288).extractOpts;ie.exports=function(M,_,d){var t=M._fullLayout,i=d.vals,n=d.containerStr,r=n?A.nestedProperty(_,n).get():_,o=a(r),u=!1!==o.auto,l=o.min,h=o.max,c=o.mid,b=function(){return A.aggNums(Math.min,null,i)},p=function(){return A.aggNums(Math.max,null,i)};void 0===l?l=b():u&&(l=r._colorAx&&S(l)?Math.min(l,b()):b()),void 0===h?h=p():u&&(h=r._colorAx&&S(h)?Math.max(h,p()):p()),u&&void 0!==c&&(h-c>c-l?l=c-(h-c):h-c<c-l&&(h=c+(c-l))),l===h&&(l-=.5,h+=.5),o._sync("min",l),o._sync("max",h),o.autocolorscale&&o._sync("colorscale",l*h<0?t.colorscale.diverging:l>=0?t.colorscale.sequential:t.colorscale.sequentialminus)}},95504:function(ie,z,e){"use strict";var S=e(3400),A=e(94288).hasColorscale,a=e(94288).extractOpts;ie.exports=function(M,_){function d(u,l){var h=u["_"+l];void 0!==h&&(u[l]=h)}function s(u,l){var h=l.container?S.nestedProperty(u,l.container).get():u;if(h)if(h.coloraxis)h._colorAx=_[h.coloraxis];else{var c=a(h),b=c.auto;(b||void 0===c.min)&&d(h,l.min),(b||void 0===c.max)&&d(h,l.max),c.autocolorscale&&d(h,"colorscale")}}for(var t=0;t<M.length;t++){var i=M[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)s(i,n[r]);else s(i,n);A(i,"marker.line")&&s(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var o in _._colorAxes)s(_[o],{min:"cmin",max:"cmax"})}},27260:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(90553),M=e(64013),_=e(88304).isValid,d=e(24040).traceIs;function s(t,i){var n=i.slice(0,i.length-1);return i?A.nestedProperty(t,n).get()||{}:t}ie.exports=function t(i,n,r,o,u){var l=u.prefix,h=u.cLetter,c="_module"in n,b=s(i,l),p=s(n,l),m=s(n._template||{},l)||{},v=function(){return delete i.coloraxis,delete n.coloraxis,t(i,n,r,o,u)};if(c){var x=r._colorAxes||{},y=o(l+"coloraxis");if(y){var w=d(n,"contour")&&A.nestedProperty(n,"contours.coloring").get()||"heatmap",f=x[y];return void(f?(f[2].push(v),f[0]!==w&&(f[0]=!1,A.warn(["Ignoring coloraxis:",y,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[y]=[w,n,[v]])}}var C=b[h+"min"],T=b[h+"max"],D=S(C)&&S(T)&&C<T;o(l+h+"auto",!D)?o(l+h+"mid"):(o(l+h+"min"),o(l+h+"max"));var R,P,O=b.colorscale,B=m.colorscale;void 0!==O&&(R=!_(O)),void 0!==B&&(R=!_(B)),o(l+"autocolorscale",R),o(l+"colorscale"),o(l+"reversescale"),"marker.line."!==l&&(l&&c&&(P=a(b)),o(l+"showscale",P)&&(l&&m&&(p._template=m),M(b,p,r)))}},94288:function(ie,z,e){"use strict";var S=e(33428),A=e(49760),a=e(38248),M=e(3400),_=e(76308),d=e(88304).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(l){var h,c,b,p=l._colorAx,m=p||l,v={};for(c=0;c<s.length;c++)v[b=s[c]]=m[b];if(p)for(h="c",c=0;c<t.length;c++)v[b=t[c]]=m["c"+b];else{var x;for(c=0;c<t.length;c++)((x="c"+(b=t[c]))in m||(x="z"+b)in m)&&(v[b]=m[x]);h=x.charAt(0)}return v._sync=function(y,w){var f=-1!==t.indexOf(y)?h+y:y;m[f]=m["_"+f]=w},v}function n(l){for(var h=i(l),c=h.min,b=h.max,p=h.reversescale?r(h.colorscale):h.colorscale,m=p.length,v=new Array(m),x=new Array(m),y=0;y<m;y++){var w=p[y];v[y]=c+w[0]*(b-c),x[y]=w[1]}return{domain:v,range:x}}function r(l){for(var h=l.length,c=new Array(h),b=h-1,p=0;b>=0;b--,p++){var m=l[b];c[p]=[1-m[0],m[1]]}return c}function o(l,h){h=h||{};for(var c=l.domain,b=l.range,p=b.length,m=new Array(p),v=0;v<p;v++){var x=A(b[v]).toRgb();m[v]=[x.r,x.g,x.b,x.a]}var y,w=S.scale.linear().domain(c).range(m).clamp(!0),f=h.noNumericCheck,C=h.returnArray;return(y=f&&C?w:f?function(T){return u(w(T))}:C?function(T){return a(T)?w(T):A(T).isValid()?T:_.defaultLine}:function(T){return a(T)?u(w(T)):A(T).isValid()?T:_.defaultLine}).domain=w.domain,y.range=function(){return b},y}function u(l){return A({r:l[0],g:l[1],b:l[2],a:l[3]}).toRgbString()}ie.exports={hasColorscale:function(l,h,c){var b=h?M.nestedProperty(l,h).get()||{}:l,p=b[c||"color"];p&&p._inputArray&&(p=p._inputArray);var m=!1;if(M.isArrayOrTypedArray(p))for(var v=0;v<p.length;v++)if(a(p[v])){m=!0;break}return M.isPlainObject(b)&&(m||!0===b.showscale||a(b.cmin)&&a(b.cmax)||d(b.colorscale)||M.isPlainObject(b.colorbar))},extractOpts:i,extractScale:n,flipScale:r,makeColorScaleFunc:o,makeColorScaleFuncFromTrace:function(l,h){return o(n(l),h)}}},8932:function(ie,z,e){"use strict";var S=e(88304),A=e(94288);ie.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:S.scales,defaultScale:S.defaultScale,getScale:S.get,isValidScale:S.isValid,hasColorscale:A.hasColorscale,extractOpts:A.extractOpts,extractScale:A.extractScale,flipScale:A.flipScale,makeColorScaleFunc:A.makeColorScaleFunc,makeColorScaleFuncFromTrace:A.makeColorScaleFuncFromTrace}},92332:function(ie,z,e){"use strict";var S=e(92880).extendFlat,A=e(49084),a=e(88304).scales;ie.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:S({_isSubplotObj:!0,editType:"calc"},A("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(ie,z,e){"use strict";var S=e(3400),A=e(31780),a=e(92332),M=e(27260);ie.exports=function(_,d){function s(h,c){return S.coerce(_,d,a,h,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var t,i,n=d._colorAxes;function r(h,c){return S.coerce(t,i,a.coloraxis,h,c)}for(var o in n){var u=n[o];if(u[0])t=_[o]||{},(i=A.newContainer(d,o,"coloraxis"))._name=o,M(t,i,d,r,{prefix:"",cLetter:"c"});else{for(var l=0;l<u[2].length;l++)u[2][l]();delete d._colorAxes[o]}}}},88304:function(ie,z,e){"use strict";var S=e(49760),A={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=A.RdBu;function M(_){var d=0;if(!Array.isArray(_)||_.length<2||!_[0]||!_[_.length-1]||0!=+_[0][0]||1!=+_[_.length-1][0])return!1;for(var s=0;s<_.length;s++){var t=_[s];if(2!==t.length||+t[0]<d||!S(t[1]).isValid())return!1;d=+t[0]}return!0}ie.exports={scales:A,defaultScale:a,get:function(_,d){if(d||(d=a),!_)return d;function s(){try{_=A[_]||JSON.parse(_)}catch{_=d}}return"string"==typeof _&&(s(),"string"==typeof _&&s()),M(_)?_:d},isValid:function(_){return void 0!==A[_]||M(_)}}},78316:function(ie){"use strict";ie.exports=function(z,e,S,A,a){var M=(z-S)/(A-S),_=M+e/(A-S),d=(M+_)/2;return"left"===a||"bottom"===a?M:"center"===a||"middle"===a?d:"right"===a||"top"===a?_:M<.6666666666666666-d?M:_>1.3333333333333333-d?_:d}},67416:function(ie,z,e){"use strict";var S=e(3400),A=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ie.exports=function(a,M,_,d){return a="left"===_?0:"center"===_?1:"right"===_?2:S.constrain(Math.floor(3*a),0,2),M="bottom"===d?0:"middle"===d?1:"top"===d?2:S.constrain(Math.floor(3*M),0,2),A[M][a]}},72760:function(ie,z){"use strict";z.selectMode=function(e){return"lasso"===e||"select"===e},z.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},z.openMode=function(e){return"drawline"===e||"drawopenpath"===e},z.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},z.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},z.selectingOrDrawing=function(e){return z.freeMode(e)||z.rectMode(e)}},86476:function(ie,z,e){"use strict";var S=e(29128),A=e(52264),a=e(89184),M=e(3400).removeElement,_=e(33816),d=ie.exports={};d.align=e(78316),d.getCursor=e(67416);var s=e(2616);function t(){var n=document.createElement("div");n.className="dragcover";var r=n.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(n),n}function i(n){return S(n.changedTouches?n.changedTouches[0]:n,document.body)}d.unhover=s.wrapped,d.unhoverRaw=s.raw,d.init=function(n){var r,o,u,l,h,c,b,p,m=n.gd,v=1,x=m._context.doubleClickDelay,y=n.element;m._mouseDownTime||(m._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=f,a?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=f,y.addEventListener("touchstart",f,{passive:!1})):y.ontouchstart=f;var w=n.clampFn||function(D,R,P){return Math.abs(D)<P&&(D=0),Math.abs(R)<P&&(R=0),[D,R]};function f(D){m._dragged=!1,m._dragging=!0;var R=i(D);r=R[0],o=R[1],b=D.target,c=D,p=2===D.buttons||D.ctrlKey,void 0===D.clientX&&void 0===D.clientY&&(D.clientX=r,D.clientY=o),(u=(new Date).getTime())-m._mouseDownTime<x?v+=1:(v=1,m._mouseDownTime=u),n.prepFn&&n.prepFn(D,r,o),A&&!p?(h=t()).style.cursor=window.getComputedStyle(y).cursor:A||(h=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",T),document.addEventListener("touchend",T),!1!==n.dragmode&&(D.preventDefault(),document.addEventListener("mousemove",C),document.addEventListener("touchmove",C,{passive:!1}))}function C(D){D.preventDefault();var R=i(D),O=w(R[0]-r,R[1]-o,n.minDrag||_.MINDRAG),B=O[0],q=O[1];(B||q)&&(m._dragged=!0,d.unhover(m,D)),m._dragged&&n.moveFn&&!p&&(m._dragdata={element:y,dx:B,dy:q},n.moveFn(B,q))}function T(D){if(delete m._dragdata,!1!==n.dragmode&&(D.preventDefault(),document.removeEventListener("mousemove",C),document.removeEventListener("touchmove",C)),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T),A?M(h):l&&(h.documentElement.style.cursor=l,l=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>x&&(v=Math.max(v-1,1)),m._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(v,c),!p){var R;try{R=new MouseEvent("click",D)}catch{var P=i(D);(R=document.createEvent("MouseEvents")).initMouseEvent("click",D.bubbles,D.cancelable,D.view,D.detail,D.screenX,D.screenY,P[0],P[1],D.ctrlKey,D.altKey,D.shiftKey,D.metaKey,D.button,D.relatedTarget)}b.dispatchEvent(R)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},d.coverSlip=t},2616:function(ie,z,e){"use strict";var S=e(95924),A=e(91200),a=e(52200).getGraphDiv,M=e(92456),_=ie.exports={};_.wrapped=function(d,s,t){(d=a(d))._fullLayout&&A.clear(d._fullLayout._uid+M.HOVERID),_.raw(d,s,t)},_.raw=function(d,s){var t=d._fullLayout,i=d._hoverdata;s||(s={}),s.target&&!d._dragged&&!1===S.triggerHandler(d,"plotly_beforehover",s)||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,s.target&&i&&d.emit("plotly_unhover",{event:s,points:i}))}},98192:function(ie,z){"use strict";z.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},z.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=A.numberFormat,M=e(38248),_=e(49760),d=e(24040),s=e(76308),t=e(8932),i=A.strTranslate,n=e(72736),r=e(9616),o=e(84284).LINE_SPACING,u=e(13448).DESELECTDIM,l=e(43028),h=e(7152),c=e(10624).appendArrayPointValue,b=ie.exports={};function p(ye,Se,Ee,he){var ue=Se.fillpattern,me=Se.fillgradient,Pe=ue&&b.getPatternAttr(ue.shape,0,"");if(Pe){var Ce=b.getPatternAttr(ue.bgcolor,0,null),Ie=b.getPatternAttr(ue.fgcolor,0,null),Oe=ue.fgopacity,ze=b.getPatternAttr(ue.size,0,8),je=b.getPatternAttr(ue.solidity,0,.3);b.pattern(ye,"point",Ee,Se.uid,Pe,ze,je,void 0,ue.fillmode,Ce,Ie,Oe)}else if(me&&"none"!==me.type){var Ae,Le,Ve=me.type,Ne="scatterfill-"+Se.uid;he&&(Ne="legendfill-"+Se.uid),he||void 0===me.start&&void 0===me.stop?("horizontal"===Ve&&(Ve+="reversed"),ye.call(b.gradient,Ee,Ne,Ve,me.colorscale,"fill")):("horizontal"===Ve?(Ae={x:me.start,y:0},Le={x:me.stop,y:0}):"vertical"===Ve&&(Ae={x:0,y:me.start},Le={x:0,y:me.stop}),Ae.x=Se._xA.c2p(void 0===Ae.x?Se._extremes.x.min[0].val:Ae.x,!0),Ae.y=Se._yA.c2p(void 0===Ae.y?Se._extremes.y.min[0].val:Ae.y,!0),Le.x=Se._xA.c2p(void 0===Le.x?Se._extremes.x.max[0].val:Le.x,!0),Le.y=Se._yA.c2p(void 0===Le.y?Se._extremes.y.max[0].val:Le.y,!0),ye.call(f,Ee,Ne,"linear",me.colorscale,"fill",Ae,Le,!0,!1))}else Se.fillcolor&&ye.call(s.fill,Se.fillcolor)}b.font=function(ye,Se,Ee,he,ue,me,Pe){A.isPlainObject(Se)&&(Pe=Se.variant,me=Se.style,ue=Se.weight,he=Se.color,Ee=Se.size,Se=Se.family),Se&&ye.style("font-family",Se),Ee+1&&ye.style("font-size",Ee+"px"),he&&ye.call(s.fill,he),ue&&ye.style("font-weight",ue),me&&ye.style("font-style",me),Pe&&ye.style("font-variant",Pe)},b.setPosition=function(ye,Se,Ee){ye.attr("x",Se).attr("y",Ee)},b.setSize=function(ye,Se,Ee){ye.attr("width",Se).attr("height",Ee)},b.setRect=function(ye,Se,Ee,he,ue){ye.call(b.setPosition,Se,Ee).call(b.setSize,he,ue)},b.translatePoint=function(ye,Se,Ee,he){var ue=Ee.c2p(ye.x),me=he.c2p(ye.y);return!!(M(ue)&&M(me)&&Se.node())&&("text"===Se.node().nodeName?Se.attr("x",ue).attr("y",me):Se.attr("transform",i(ue,me)),!0)},b.translatePoints=function(ye,Se,Ee){ye.each(function(he){var ue=S.select(this);b.translatePoint(he,ue,Se,Ee)})},b.hideOutsideRangePoint=function(ye,Se,Ee,he,ue,me){Se.attr("display",Ee.isPtWithinRange(ye,ue)&&he.isPtWithinRange(ye,me)?null:"none")},b.hideOutsideRangePoints=function(ye,Se){if(Se._hasClipOnAxisFalse){var Ee=Se.xaxis,he=Se.yaxis;ye.each(function(ue){var me=ue[0].trace,Pe=me.xcalendar,Ce=me.ycalendar,Ie=d.traceIs(me,"bar-like")?".bartext":".point,.textpoint";ye.selectAll(Ie).each(function(Oe){b.hideOutsideRangePoint(Oe,S.select(this),Ee,he,Pe,Ce)})})}},b.crispRound=function(ye,Se,Ee){return Se&&M(Se)?ye._context.staticPlot?Se:Se<1?1:Math.round(Se):Ee||0},b.singleLineStyle=function(ye,Se,Ee,he,ue){Se.style("fill","none");var me=(((ye||[])[0]||{}).trace||{}).line||{},Pe=Ee||me.width||0,Ce=ue||me.dash||"";s.stroke(Se,he||me.color),b.dashLine(Se,Ce,Pe)},b.lineGroupStyle=function(ye,Se,Ee,he){ye.style("fill","none").each(function(ue){var me=(((ue||[])[0]||{}).trace||{}).line||{},Pe=Se||me.width||0,Ce=he||me.dash||"";S.select(this).call(s.stroke,Ee||me.color).call(b.dashLine,Ce,Pe)})},b.dashLine=function(ye,Se,Ee){Se=b.dashStyle(Se,Ee=+Ee||0),ye.style({"stroke-dasharray":Se,"stroke-width":Ee+"px"})},b.dashStyle=function(ye,Se){Se=+Se||1;var Ee=Math.max(Se,3);return"solid"===ye?ye="":"dot"===ye?ye=Ee+"px,"+Ee+"px":"dash"===ye?ye=3*Ee+"px,"+3*Ee+"px":"longdash"===ye?ye=5*Ee+"px,"+5*Ee+"px":"dashdot"===ye?ye=3*Ee+"px,"+Ee+"px,"+Ee+"px,"+Ee+"px":"longdashdot"===ye&&(ye=5*Ee+"px,"+2*Ee+"px,"+Ee+"px,"+2*Ee+"px"),ye},b.singleFillStyle=function(ye,Se){var Ee=S.select(ye.node());p(ye,((Ee.data()[0]||[])[0]||{}).trace||{},Se,!1)},b.fillGroupStyle=function(ye,Se,Ee){ye.style("stroke-width",0).each(function(he){var ue=S.select(this);he[0].trace&&p(ue,he[0].trace,Se,Ee)})};var m=e(71984);b.symbolNames=[],b.symbolFuncs=[],b.symbolBackOffs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolNoFill={},b.symbolList=[],Object.keys(m).forEach(function(ye){var Se=m[ye],Ee=Se.n;b.symbolList.push(Ee,String(Ee),ye,Ee+100,String(Ee+100),ye+"-open"),b.symbolNames[Ee]=ye,b.symbolFuncs[Ee]=Se.f,b.symbolBackOffs[Ee]=Se.backoff||0,Se.needLine&&(b.symbolNeedLines[Ee]=!0),Se.noDot?b.symbolNoDot[Ee]=!0:b.symbolList.push(Ee+200,String(Ee+200),ye+"-dot",Ee+300,String(Ee+300),ye+"-open-dot"),Se.noFill&&(b.symbolNoFill[Ee]=!0)});var v=b.symbolNames.length;function x(ye,Se,Ee,he){return b.symbolFuncs[ye%100](Se,Ee,he)+(ye>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}b.symbolNumber=function(ye){if(M(ye))ye=+ye;else if("string"==typeof ye){var Se=0;ye.indexOf("-open")>0&&(Se=100,ye=ye.replace("-open","")),ye.indexOf("-dot")>0&&(Se+=200,ye=ye.replace("-dot","")),(ye=b.symbolNames.indexOf(ye))>=0&&(ye+=Se)}return ye%100>=v||ye>=400?0:Math.floor(Math.max(ye,0))};var y=a("~f"),w={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function f(ye,Se,Ee,he,ue,me,Pe,Ce,Ie,Oe){var ze,je=ue.length;"linear"===he?ze={node:"linearGradient",attrs:{x1:Pe.x,y1:Pe.y,x2:Ce.x,y2:Ce.y,gradientUnits:Ie?"userSpaceOnUse":"objectBoundingBox"},reversed:Oe}:"radial"===he&&(ze={node:"radialGradient",reversed:Oe});for(var ve=new Array(je),Ae=0;Ae<je;Ae++)ze.reversed?ve[je-1-Ae]=[y(100*(1-ue[Ae][0])),ue[Ae][1]]:ve[Ae]=[y(100*ue[Ae][0]),ue[Ae][1]];var Le=Se._fullLayout,Ve="g"+Le._uid+"-"+Ee,Ne=Le._defs.select(".gradients").selectAll("#"+Ve).data([he+ve.join(";")],A.identity);Ne.exit().remove(),Ne.enter().append(ze.node).each(function(){var We=S.select(this);ze.attrs&&We.attr(ze.attrs),We.attr("id",Ve);var Xe=We.selectAll("stop").data(ve);Xe.exit().remove(),Xe.enter().append("stop"),Xe.each(function(nt){var dt=_(nt[1]);S.select(this).attr({offset:nt[0]+"%","stop-color":s.tinyRGB(dt),"stop-opacity":dt.getAlpha()})})}),ye.style(me,ae(Ve,Se)).style(me+"-opacity",null),ye.classed("gradient_filled",!0)}b.gradient=function(ye,Se,Ee,he,ue,me){var Pe=w[he];return f(ye,Se,Ee,Pe.type,ue,me,Pe.start,Pe.stop,!1,Pe.reversed)},b.pattern=function(ye,Se,Ee,he,ue,me,Pe,Ce,Ie,Oe,ze,je){var ve="legend"===Se;Ce&&("overlay"===Ie?ze=s.contrast(Oe=Ce):(Oe=void 0,ze=Ce));var Ae,Le,Ve,Ne,We,Xe,nt,dt,ht,Mt=Ee._fullLayout,kt="p"+Mt._uid+"-"+he,_t={},ut=_(ze),st=s.tinyRGB(ut),Lt=je*ut.getAlpha();switch(ue){case"/":Ae=me*Math.sqrt(2),Le=me*Math.sqrt(2),Xe="path",_t={d:Ve="M-"+Ae/4+","+Le/4+"l"+Ae/2+",-"+Le/2+"M0,"+Le+"L"+Ae+",0M"+Ae/4*3+","+Le/4*5+"l"+Ae/2+",-"+Le/2,opacity:Lt,stroke:st,"stroke-width":(Ne=Pe*me)+"px"};break;case"\\":Ae=me*Math.sqrt(2),Le=me*Math.sqrt(2),Xe="path",_t={d:Ve="M"+Ae/4*3+",-"+Le/4+"l"+Ae/2+","+Le/2+"M0,0L"+Ae+","+Le+"M-"+Ae/4+","+Le/4*3+"l"+Ae/2+","+Le/2,opacity:Lt,stroke:st,"stroke-width":(Ne=Pe*me)+"px"};break;case"x":Ae=me*Math.sqrt(2),Le=me*Math.sqrt(2),Ve="M-"+Ae/4+","+Le/4+"l"+Ae/2+",-"+Le/2+"M0,"+Le+"L"+Ae+",0M"+Ae/4*3+","+Le/4*5+"l"+Ae/2+",-"+Le/2+"M"+Ae/4*3+",-"+Le/4+"l"+Ae/2+","+Le/2+"M0,0L"+Ae+","+Le+"M-"+Ae/4+","+Le/4*3+"l"+Ae/2+","+Le/2,Ne=me-me*Math.sqrt(1-Pe),Xe="path",_t={d:Ve,opacity:Lt,stroke:st,"stroke-width":Ne+"px"};break;case"|":Xe="path",Xe="path",_t={d:Ve="M"+(Ae=me)/2+",0L"+Ae/2+","+(Le=me),opacity:Lt,stroke:st,"stroke-width":(Ne=Pe*me)+"px"};break;case"-":Xe="path",Xe="path",_t={d:Ve="M0,"+(Le=me)/2+"L"+(Ae=me)+","+Le/2,opacity:Lt,stroke:st,"stroke-width":(Ne=Pe*me)+"px"};break;case"+":Xe="path",Ve="M"+(Ae=me)/2+",0L"+Ae/2+","+(Le=me)+"M0,"+Le/2+"L"+Ae+","+Le/2,Ne=me-me*Math.sqrt(1-Pe),Xe="path",_t={d:Ve,opacity:Lt,stroke:st,"stroke-width":Ne+"px"};break;case".":Ae=me,Le=me,Pe<Math.PI/4?We=Math.sqrt(Pe*me*me/Math.PI):(nt=Pe,dt=Math.PI/4,We=(ht=me/2)+(me/Math.sqrt(2)-ht)*(nt-dt)/(1-dt)),Xe="circle",_t={cx:Ae/2,cy:Le/2,r:We,opacity:Lt,fill:st}}var Ut=[ue||"noSh",Oe||"noBg",ze||"noFg",me,Pe].join(";"),Ht=Mt._defs.select(".patterns").selectAll("#"+kt).data([Ut],A.identity);Ht.exit().remove(),Ht.enter().append("pattern").each(function(){var Pt=S.select(this);if(Pt.attr({id:kt,width:Ae+"px",height:Le+"px",patternUnits:"userSpaceOnUse",patternTransform:ve?"scale(0.8)":""}),Oe){var Je=_(Oe),tt=s.tinyRGB(Je),Ge=Je.getAlpha(),Qe=Pt.selectAll("rect").data([0]);Qe.exit().remove(),Qe.enter().append("rect").attr({width:Ae+"px",height:Le+"px",fill:tt,"fill-opacity":Ge})}var pt=Pt.selectAll(Xe).data([0]);pt.exit().remove(),pt.enter().append(Xe).attr(_t)}),ye.style("fill",ae(kt,Ee)).style("fill-opacity",null),ye.classed("pattern_filled",!0)},b.initGradients=function(ye){A.ensureSingle(ye._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),S.select(ye).selectAll(".gradient_filled").classed("gradient_filled",!1)},b.initPatterns=function(ye){A.ensureSingle(ye._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),S.select(ye).selectAll(".pattern_filled").classed("pattern_filled",!1)},b.getPatternAttr=function(ye,Se,Ee){return ye&&A.isArrayOrTypedArray(ye)?Se<ye.length?ye[Se]:Ee:ye},b.pointStyle=function(ye,Se,Ee,he){if(ye.size()){var ue=b.makePointStyleFns(Se);ye.each(function(me){b.singlePointStyle(me,S.select(this),Se,ue,Ee,he)})}},b.singlePointStyle=function(ye,Se,Ee,he,ue,me){var Pe=Ee.marker,Ce=Pe.line;if(me&&me.i>=0&&void 0===ye.i&&(ye.i=me.i),Se.style("opacity",he.selectedOpacityFn?he.selectedOpacityFn(ye):void 0===ye.mo?Pe.opacity:ye.mo),he.ms2mrc){var Ie;Ie="various"===ye.ms||"various"===Pe.size?3:he.ms2mrc(ye.ms),ye.mrc=Ie,he.selectedSizeFn&&(Ie=ye.mrc=he.selectedSizeFn(ye));var Oe=b.symbolNumber(ye.mx||Pe.symbol)||0;ye.om=Oe%200>=100;var ze=be(ye,Ee),je=ee(ye,Ee);Se.attr("d",x(Oe,Ie,ze,je))}var ve,Ae,Le,Ve=!1;if(ye.so?(Le=Ce.outlierwidth,Ae=Ce.outliercolor,ve=Pe.outliercolor):(Le=(ye.mlw+1||(Ce||{}).width+1||(ye.trace?(ye.trace.marker.line||{}).width:0)+1)-1||0,Ae="mlc"in ye?ye.mlcc=he.lineScale(ye.mlc):A.isArrayOrTypedArray(Ce.color)?s.defaultLine:Ce.color,A.isArrayOrTypedArray(Pe.color)&&(ve=s.defaultLine,Ve=!0),ve="mc"in ye?ye.mcc=he.markerScale(ye.mc):Pe.color||Pe.colors||"rgba(0,0,0,0)",he.selectedColorFn&&(ve=he.selectedColorFn(ye))),ye.om)Se.call(s.stroke,ve).style({"stroke-width":(Le||1)+"px",fill:"none"});else{Se.style("stroke-width",(ye.isBlank?0:Le)+"px");var We=Pe.gradient,Xe=ye.mgt;Xe?Ve=!0:Xe=We&&We.type,A.isArrayOrTypedArray(Xe)&&(w[Xe=Xe[0]]||(Xe=0));var nt=Pe.pattern,dt=nt&&b.getPatternAttr(nt.shape,ye.i,"");if(Xe&&"none"!==Xe){var ht=ye.mgc;ht?Ve=!0:ht=We.color;var Mt=Ee.uid;Ve&&(Mt+="-"+ye.i),b.gradient(Se,ue,Mt,Xe,[[0,ht],[1,ve]],"fill")}else if(dt){var kt=!1,_t=nt.fgcolor;!_t&&me&&me.color&&(_t=me.color,kt=!0);var ut=b.getPatternAttr(_t,ye.i,me&&me.color||null),st=b.getPatternAttr(nt.bgcolor,ye.i,null),Lt=nt.fgopacity,Ut=b.getPatternAttr(nt.size,ye.i,8),Ht=b.getPatternAttr(nt.solidity,ye.i,.3);kt=kt||ye.mcc||A.isArrayOrTypedArray(nt.shape)||A.isArrayOrTypedArray(nt.bgcolor)||A.isArrayOrTypedArray(nt.fgcolor)||A.isArrayOrTypedArray(nt.size)||A.isArrayOrTypedArray(nt.solidity);var Pt=Ee.uid;kt&&(Pt+="-"+ye.i),b.pattern(Se,"point",ue,Pt,dt,Ut,Ht,ye.mcc,nt.fillmode,st,ut,Lt)}else A.isArrayOrTypedArray(ve)?s.fill(Se,ve[ye.i]):s.fill(Se,ve);Le&&s.stroke(Se,Ae)}},b.makePointStyleFns=function(ye){var Se={},Ee=ye.marker;return Se.markerScale=b.tryColorscale(Ee,""),Se.lineScale=b.tryColorscale(Ee,"line"),d.traceIs(ye,"symbols")&&(Se.ms2mrc=l.isBubble(ye)?h(ye):function(){return(Ee.size||6)/2}),ye.selectedpoints&&A.extendFlat(Se,b.makeSelectedPointStyleFns(ye)),Se},b.makeSelectedPointStyleFns=function(ye){var Se={},ue=ye.marker||{},me=(ye.selected||{}).marker||{},Pe=(ye.unselected||{}).marker||{},Ie=me.opacity,Oe=Pe.opacity,ze=void 0!==Ie,je=void 0!==Oe;(A.isArrayOrTypedArray(ue.opacity)||ze||je)&&(Se.selectedOpacityFn=function(dt){var ht=void 0===dt.mo?ue.opacity:dt.mo;return dt.selected?ze?Ie:ht:je?Oe:u*ht});var ve=ue.color,Ae=me.color,Le=Pe.color;(Ae||Le)&&(Se.selectedColorFn=function(dt){var ht=dt.mcc||ve;return dt.selected?Ae||ht:Le||ht});var Ve=ue.size,Ne=me.size,We=Pe.size,Xe=void 0!==Ne,nt=void 0!==We;return d.traceIs(ye,"symbols")&&(Xe||nt)&&(Se.selectedSizeFn=function(dt){var ht=dt.mrc||Ve/2;return dt.selected?Xe?Ne/2:ht:nt?We/2:ht}),Se},b.makeSelectedTextStyleFns=function(ye){var Se={},Ce=(ye.textfont||{}).color,Ie=((ye.selected||{}).textfont||{}).color,Oe=((ye.unselected||{}).textfont||{}).color;return Se.selectedTextColorFn=function(ze){var je=ze.tc||Ce;return ze.selected?Ie||je:Oe||(Ie?je:s.addOpacity(je,u))},Se},b.selectedPointStyle=function(ye,Se){if(ye.size()&&Se.selectedpoints){var Ee=b.makeSelectedPointStyleFns(Se),he=Se.marker||{},ue=[];Ee.selectedOpacityFn&&ue.push(function(me,Pe){me.style("opacity",Ee.selectedOpacityFn(Pe))}),Ee.selectedColorFn&&ue.push(function(me,Pe){s.fill(me,Ee.selectedColorFn(Pe))}),Ee.selectedSizeFn&&ue.push(function(me,Pe){var Ce=Pe.mx||he.symbol||0,Ie=Ee.selectedSizeFn(Pe);me.attr("d",x(b.symbolNumber(Ce),Ie,be(Pe,Se),ee(Pe,Se))),Pe.mrc2=Ie}),ue.length&&ye.each(function(me){for(var Pe=S.select(this),Ce=0;Ce<ue.length;Ce++)ue[Ce](Pe,me)})}},b.tryColorscale=function(ye,Se){var Ee=Se?A.nestedProperty(ye,Se).get():ye;return Ee&&(Ee.colorscale||Ee._colorAx)&&A.isArrayOrTypedArray(Ee.color)?t.makeColorScaleFuncFromTrace(Ee):A.identity};var C,T,D={start:1,end:-1,middle:0,bottom:1,top:-1};function R(ye,Se,Ee,he,ue){var me=S.select(ye.node().parentNode),Pe=-1!==Se.indexOf("top")?"top":-1!==Se.indexOf("bottom")?"bottom":"middle",Ce=-1!==Se.indexOf("left")?"end":-1!==Se.indexOf("right")?"start":"middle",Ie=he?he/.8+1:0,Oe=(n.lineCount(ye)-1)*o+1,ze=D[Ce]*Ie,je=.75*Ee+D[Pe]*Ie+(D[Pe]-1)*Oe*Ee/2;ye.attr("text-anchor",Ce),ue||me.attr("transform",i(ze,je))}function P(ye,Se){var Ee=ye.ts||Se.textfont.size;return M(Ee)&&Ee>0?Ee:0}function O(ye,Se,Ee){return Ee&&(ye=j(ye)),Se?q(ye[1]):B(ye[0])}function B(ye){var Se=S.round(ye,2);return C=Se,Se}function q(ye){var Se=S.round(ye,2);return T=Se,Se}function N(ye,Se,Ee,he){var ue=ye[0]-Se[0],me=ye[1]-Se[1],Pe=Ee[0]-Se[0],Ce=Ee[1]-Se[1],Ie=Math.pow(ue*ue+me*me,.25),Oe=Math.pow(Pe*Pe+Ce*Ce,.25),ze=(Oe*Oe*ue-Ie*Ie*Pe)*he,je=(Oe*Oe*me-Ie*Ie*Ce)*he,ve=3*Oe*(Ie+Oe),Ae=3*Ie*(Ie+Oe);return[[B(Se[0]+(ve&&ze/ve)),q(Se[1]+(ve&&je/ve))],[B(Se[0]-(Ae&&ze/Ae)),q(Se[1]-(Ae&&je/Ae))]]}b.textPointStyle=function(ye,Se,Ee){if(ye.size()){var he;if(Se.selectedpoints){var ue=b.makeSelectedTextStyleFns(Se);he=ue.selectedTextColorFn}var me=Se.texttemplate,Pe=Ee._fullLayout;ye.each(function(Ce){var Ie=S.select(this),Oe=me?A.extractOption(Ce,Se,"txt","texttemplate"):A.extractOption(Ce,Se,"tx","text");if(Oe||0===Oe){if(me){var ze=Se._module.formatLabels,je=ze?ze(Ce,Se,Pe):{},ve={};c(ve,Se,Ce.i),Oe=A.texttemplateString(Oe,je,Pe._d3locale,ve,Ce,Se._meta||{})}var Le=Ce.tp||Se.textposition,Ve=P(Ce,Se),Ne=he?he(Ce):Ce.tc||Se.textfont.color;Ie.call(b.font,{family:Ce.tf||Se.textfont.family,weight:Ce.tw||Se.textfont.weight,style:Ce.ty||Se.textfont.style,variant:Ce.tv||Se.textfont.variant,size:Ve,color:Ne}).text(Oe).call(n.convertToTspans,Ee).call(R,Le,Ve,Ce.mrc)}else Ie.remove()})}},b.selectedTextStyle=function(ye,Se){if(ye.size()&&Se.selectedpoints){var Ee=b.makeSelectedTextStyleFns(Se);ye.each(function(he){var ue=S.select(this),me=Ee.selectedTextColorFn(he),Pe=he.tp||Se.textposition,Ce=P(he,Se);s.fill(ue,me);var Ie=d.traceIs(Se,"bar-like");R(ue,Pe,Ce,he.mrc2||he.mrc,Ie)})}},b.smoothopen=function(ye,Se){if(ye.length<3)return"M"+ye.join("L");var Ee,he="M"+ye[0],ue=[];for(Ee=1;Ee<ye.length-1;Ee++)ue.push(N(ye[Ee-1],ye[Ee],ye[Ee+1],Se));for(he+="Q"+ue[0][0]+" "+ye[1],Ee=2;Ee<ye.length-1;Ee++)he+="C"+ue[Ee-2][1]+" "+ue[Ee-1][0]+" "+ye[Ee];return he+"Q"+ue[ye.length-3][1]+" "+ye[ye.length-1]},b.smoothclosed=function(ye,Se){if(ye.length<3)return"M"+ye.join("L")+"Z";var Ee,he="M"+ye[0],ue=ye.length-1,me=[N(ye[ue],ye[0],ye[1],Se)];for(Ee=1;Ee<ue;Ee++)me.push(N(ye[Ee-1],ye[Ee],ye[Ee+1],Se));for(me.push(N(ye[ue-1],ye[ue],ye[0],Se)),Ee=1;Ee<=ue;Ee++)he+="C"+me[Ee-1][1]+" "+me[Ee][0]+" "+ye[Ee];return he+"C"+me[ue][1]+" "+me[0][0]+" "+ye[0]+"Z"};var H={hv:function(ye,Se,Ee){return"H"+B(Se[0])+"V"+O(Se,1,Ee)},vh:function(ye,Se,Ee){return"V"+q(Se[1])+"H"+O(Se,0,Ee)},hvh:function(ye,Se,Ee){return"H"+B((ye[0]+Se[0])/2)+"V"+q(Se[1])+"H"+O(Se,0,Ee)},vhv:function(ye,Se,Ee){return"V"+q((ye[1]+Se[1])/2)+"H"+B(Se[0])+"V"+O(Se,1,Ee)}},$=function(ye,Se,Ee){return"L"+O(Se,0,Ee)+","+O(Se,1,Ee)};function j(ye,Se){var Ee=ye.backoff,he=ye.trace,ue=ye.d,me=ye.i;if(Ee&&he&&he.marker&&he.marker.angle%360==0&&he.line&&"spline"!==he.line.shape){var Pe=A.isArrayOrTypedArray(Ee),Ce=ye,Ie=Se?Se[0]:C||0,Oe=Se?Se[1]:T||0,ze=Ce[0],je=Ce[1],Le=Math.atan2(je-Oe,ze-Ie),Ve=Pe?Ee[me]:Ee;if("auto"===Ve){var Ne=Ce.i;"scatter"===he.type&&Ne--;var We=Ce.marker,Xe=We.symbol;A.isArrayOrTypedArray(Xe)&&(Xe=Xe[Ne]);var nt=We.size;A.isArrayOrTypedArray(nt)&&(nt=nt[Ne]),Ve=We?b.symbolBackOffs[b.symbolNumber(Xe)]*nt:0,Ve+=b.getMarkerStandoff(ue[Ne],he)||0}var dt=ze-Ve*Math.cos(Le),ht=je-Ve*Math.sin(Le);(dt<=ze&&dt>=Ie||dt>=ze&&dt<=Ie)&&(ht<=je&&ht>=Oe||ht>=je&&ht<=Oe)&&(ye=[dt,ht])}return ye}b.steps=function(ye){var Se=H[ye]||$;return function(Ee){for(var he="M"+B(Ee[0][0])+","+q(Ee[0][1]),ue=Ee.length,me=1;me<ue;me++)he+=Se(Ee[me-1],Ee[me],me===ue-1);return he}},b.applyBackoff=j,b.makeTester=function(){var ye=A.ensureSingleById(S.select("body"),"svg","js-plotly-tester",function(Ee){Ee.attr(r.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Se=A.ensureSingle(ye,"path","js-reference-point",function(Ee){Ee.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});b.tester=ye,b.testref=Se},b.savedBBoxes={};var W=0;function G(ye){var Se=ye.getAttribute("data-unformatted");if(null!==Se)return Se+ye.getAttribute("data-math")+ye.getAttribute("text-anchor")+ye.getAttribute("style")}function ae(ye,Se){if(!ye)return null;var Ee=Se._context,he=Ee._exportedPlot?"":Ee._baseUrl||"";return he?"url('"+he+"#"+ye+"')":"url(#"+ye+")"}b.bBox=function(ye,Se,Ee){var he,ue,me;if(Ee||(Ee=G(ye)),Ee){if(he=b.savedBBoxes[Ee])return A.extendFlat({},he)}else if(1===ye.childNodes.length){var Pe=ye.childNodes[0];if(Ee=G(Pe)){var Ce=+Pe.getAttribute("x")||0,Ie=+Pe.getAttribute("y")||0,Oe=Pe.getAttribute("transform");if(!Oe){var ze=b.bBox(Pe,!1,Ee);return Ce&&(ze.left+=Ce,ze.right+=Ce),Ie&&(ze.top+=Ie,ze.bottom+=Ie),ze}if(he=b.savedBBoxes[Ee+="~"+Ce+"~"+Ie+"~"+Oe])return A.extendFlat({},he)}}Se?ue=ye:(me=b.tester.node(),ue=ye.cloneNode(!0),me.appendChild(ue)),S.select(ue).attr("transform",null).call(n.positionText,0,0);var je=ue.getBoundingClientRect(),ve=b.testref.node().getBoundingClientRect();Se||me.removeChild(ue);var Ae={height:je.height,width:je.width,left:je.left-ve.left,top:je.top-ve.top,right:je.right-ve.left,bottom:je.bottom-ve.top};return W>=1e4&&(b.savedBBoxes={},W=0),Ee&&(b.savedBBoxes[Ee]=Ae),W++,A.extendFlat({},Ae)},b.setClipUrl=function(ye,Se,Ee){ye.attr("clip-path",ae(Se,Ee))},b.getTranslate=function(ye){var Se=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Ee,he,ue){return[he,ue].join(" ")}).split(" ");return{x:+Se[0]||0,y:+Se[1]||0}},b.setTranslate=function(ye,Se,Ee){var ue=ye.attr?"attr":"setAttribute",me=ye[ye.attr?"attr":"getAttribute"]("transform")||"";return Se=Se||0,Ee=Ee||0,me=me.replace(/(\btranslate\(.*?\);?)/,"").trim(),me=(me+=i(Se,Ee)).trim(),ye[ue]("transform",me),me},b.getScale=function(ye){var Se=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Ee,he,ue){return[he,ue].join(" ")}).split(" ");return{x:+Se[0]||1,y:+Se[1]||1}},b.setScale=function(ye,Se,Ee){var ue=ye.attr?"attr":"setAttribute",me=ye[ye.attr?"attr":"getAttribute"]("transform")||"";return Se=Se||1,Ee=Ee||1,me=me.replace(/(\bscale\(.*?\);?)/,"").trim(),me=(me+="scale("+Se+","+Ee+")").trim(),ye[ue]("transform",me),me};var te=/\s*sc.*/;b.setPointGroupScale=function(ye,Se,Ee){if(Se=Se||1,Ee=Ee||1,ye){var he=1===Se&&1===Ee?"":"scale("+Se+","+Ee+")";ye.each(function(){var ue=(this.getAttribute("transform")||"").replace(te,"");ue=(ue+=he).trim(),this.setAttribute("transform",ue)})}};var Q=/translate\([^)]*\)\s*$/;function ee(ye,Se){var Ee;return ye&&(Ee=ye.mf),void 0===Ee&&(Ee=Se.marker&&Se.marker.standoff||0),Se._geo||Se._xA?Ee:-Ee}b.setTextPointsScale=function(ye,Se,Ee){ye&&ye.each(function(){var he,ue=S.select(this),me=ue.select("text");if(me.node()){var Pe=parseFloat(me.attr("x")||0),Ce=parseFloat(me.attr("y")||0),Ie=(ue.attr("transform")||"").match(Q);he=1===Se&&1===Ee?[]:[i(Pe,Ce),"scale("+Se+","+Ee+")",i(-Pe,-Ce)],Ie&&he.push(Ie),ue.attr("transform",he.join(""))}})},b.getMarkerStandoff=ee;var re,J,le,fe,ce,ge,Te=Math.atan2,Me=Math.cos,we=Math.sin;function xe(ye,Se){var Ee=Se[0],he=Se[1];return[Ee*Me(ye)-he*we(ye),Ee*we(ye)+he*Me(ye)]}function be(ye,Se){var Ee,he,ue=ye.ma;void 0===ue&&((ue=Se.marker.angle)&&!A.isArrayOrTypedArray(ue)||(ue=0));var me=Se.marker.angleref;if("previous"===me||"north"===me){if(Se._geo){var Pe=Se._geo.project(ye.lonlat);Ee=Pe[0],he=Pe[1]}else{var Ce=Se._xA,Ie=Se._yA;if(!Ce||!Ie)return 90;Ee=Ce.c2p(ye.x),he=Ie.c2p(ye.y)}if(Se._geo){var Oe,ze=ye.lonlat[0],je=ye.lonlat[1],ve=Se._geo.project([ze,je+1e-5]),Ae=Se._geo.project([ze+1e-5,je]),Le=Te(Ae[1]-he,Ae[0]-Ee),Ve=Te(ve[1]-he,ve[0]-Ee);if("north"===me)Oe=ue/180*Math.PI;else if("previous"===me){var Ne=ze/180*Math.PI,We=je/180*Math.PI,Xe=re/180*Math.PI,nt=J/180*Math.PI,dt=Xe-Ne,ht=Me(nt)*we(dt),Mt=we(nt)*Me(We)-Me(nt)*we(We)*Me(dt);Oe=-Te(ht,Mt)-Math.PI,re=ze,J=je}var kt=xe(Le,[Me(Oe),0]),_t=xe(Ve,[we(Oe),0]);ue=Te(kt[1]+_t[1],kt[0]+_t[0])/Math.PI*180,"previous"!==me||ge===Se.uid&&ye.i===ce+1||(ue=null)}if("previous"===me&&!Se._geo)if(ge===Se.uid&&ye.i===ce+1&&M(Ee)&&M(he)){var ut=Ee-le,st=he-fe,Lt=Se.line&&Se.line.shape||"",Ut=Lt.slice(Lt.length-1);"h"===Ut&&(st=0),"v"===Ut&&(ut=0),ue+=Te(st,ut)/Math.PI*180+90}else ue=null}return le=Ee,fe=he,ce=ye.i,ge=Se.uid,ue}b.getMarkerAngle=be},71984:function(ie,z,e){"use strict";var S,A,a,M,_=e(21984),d=e(33428).round,s="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),n=Math.PI,r=Math.cos,o=Math.sin;function u(h){return null===h}function l(h,c,b){if(!(h&&h%360!=0||c))return b;if(a===h&&M===c&&S===b)return A;function p(B,q){var N=r(B),H=o(B),$=q[0],j=q[1]+(c||0);return[$*N-j*H,$*H+j*N]}a=h,M=c,S=b;for(var m=h/180*n,v=0,x=0,y=_(b),w="",f=0;f<y.length;f++){var C=y[f],T=C[0],D=v,R=x;if("M"===T||"L"===T)v=+C[1],x=+C[2];else if("m"===T||"l"===T)v+=+C[1],x+=+C[2];else if("H"===T)v=+C[1];else if("h"===T)v+=+C[1];else if("V"===T)x=+C[1];else if("v"===T)x+=+C[1];else if("A"===T){v=+C[1],x=+C[2];var P=p(m,[+C[6],+C[7]]);C[6]=P[0],C[7]=P[1],C[3]=+C[3]+h}"H"!==T&&"V"!==T||(T="L"),"h"!==T&&"v"!==T||(T="l"),"m"!==T&&"l"!==T||(v-=D,x-=R);var O=p(m,[v,x]);"H"!==T&&"V"!==T||(T="L"),"M"!==T&&"L"!==T&&"m"!==T&&"l"!==T||(C[1]=O[0],C[2]=O[1]),C[0]=T,w+=C[0]+C.slice(1).join(",")}return A=w,w}ie.exports={circle:{n:0,f:function(h,c,b){if(u(c))return s;var p=d(h,2),m="M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z";return b?l(c,b,m):m}},square:{n:1,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")}},diamond:{n:2,f:function(h,c,b){if(u(c))return s;var p=d(1.3*h,2);return l(c,b,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z")}},cross:{n:3,f:function(h,c,b){if(u(c))return s;var p=d(.4*h,2),m=d(1.2*h,2);return l(c,b,"M"+m+","+p+"H"+p+"V"+m+"H-"+p+"V"+p+"H-"+m+"V-"+p+"H-"+p+"V-"+m+"H"+p+"V-"+p+"H"+m+"Z")}},x:{n:4,f:function(h,c,b){if(u(c))return s;var p=d(.8*h/t,2),m="l"+p+","+p,v="l"+p+",-"+p,x="l-"+p+",-"+p,y="l-"+p+","+p;return l(c,b,"M0,"+p+m+v+x+v+x+y+x+y+m+y+m+"Z")}},"triangle-up":{n:5,f:function(h,c,b){if(u(c))return s;var p=d(2*h/i,2);return l(c,b,"M-"+p+","+d(h/2,2)+"H"+p+"L0,-"+d(h,2)+"Z")}},"triangle-down":{n:6,f:function(h,c,b){if(u(c))return s;var p=d(2*h/i,2);return l(c,b,"M-"+p+",-"+d(h/2,2)+"H"+p+"L0,"+d(h,2)+"Z")}},"triangle-left":{n:7,f:function(h,c,b){if(u(c))return s;var p=d(2*h/i,2);return l(c,b,"M"+d(h/2,2)+",-"+p+"V"+p+"L-"+d(h,2)+",0Z")}},"triangle-right":{n:8,f:function(h,c,b){if(u(c))return s;var p=d(2*h/i,2);return l(c,b,"M-"+d(h/2,2)+",-"+p+"V"+p+"L"+d(h,2)+",0Z")}},"triangle-ne":{n:9,f:function(h,c,b){if(u(c))return s;var p=d(.6*h,2),m=d(1.2*h,2);return l(c,b,"M-"+m+",-"+p+"H"+p+"V"+m+"Z")}},"triangle-se":{n:10,f:function(h,c,b){if(u(c))return s;var p=d(.6*h,2),m=d(1.2*h,2);return l(c,b,"M"+p+",-"+m+"V"+p+"H-"+m+"Z")}},"triangle-sw":{n:11,f:function(h,c,b){if(u(c))return s;var p=d(.6*h,2),m=d(1.2*h,2);return l(c,b,"M"+m+","+p+"H-"+p+"V-"+m+"Z")}},"triangle-nw":{n:12,f:function(h,c,b){if(u(c))return s;var p=d(.6*h,2),m=d(1.2*h,2);return l(c,b,"M-"+p+","+m+"V-"+p+"H"+m+"Z")}},pentagon:{n:13,f:function(h,c,b){if(u(c))return s;var p=d(.951*h,2),m=d(.588*h,2),v=d(-h,2),x=d(-.309*h,2);return l(c,b,"M"+p+","+x+"L"+m+","+d(.809*h,2)+"H-"+m+"L-"+p+","+x+"L0,"+v+"Z")}},hexagon:{n:14,f:function(h,c,b){if(u(c))return s;var p=d(h,2),m=d(h/2,2),v=d(h*i/2,2);return l(c,b,"M"+v+",-"+m+"V"+m+"L0,"+p+"L-"+v+","+m+"V-"+m+"L0,-"+p+"Z")}},hexagon2:{n:15,f:function(h,c,b){if(u(c))return s;var p=d(h,2),m=d(h/2,2),v=d(h*i/2,2);return l(c,b,"M-"+m+","+v+"H"+m+"L"+p+",0L"+m+",-"+v+"H-"+m+"L-"+p+",0Z")}},octagon:{n:16,f:function(h,c,b){if(u(c))return s;var p=d(.924*h,2),m=d(.383*h,2);return l(c,b,"M-"+m+",-"+p+"H"+m+"L"+p+",-"+m+"V"+m+"L"+m+","+p+"H-"+m+"L-"+p+","+m+"V-"+m+"Z")}},star:{n:17,f:function(h,c,b){if(u(c))return s;var p=1.4*h,m=d(.225*p,2),v=d(.951*p,2),x=d(.363*p,2),y=d(.588*p,2),w=d(-p,2),f=d(-.309*p,2),C=d(.118*p,2),T=d(.809*p,2);return l(c,b,"M"+m+","+f+"H"+v+"L"+x+","+C+"L"+y+","+T+"L0,"+d(.382*p,2)+"L-"+y+","+T+"L-"+x+","+C+"L-"+v+","+f+"H-"+m+"L0,"+w+"Z")}},hexagram:{n:18,f:function(h,c,b){if(u(c))return s;var p=d(.66*h,2),m=d(.38*h,2),v=d(.76*h,2);return l(c,b,"M-"+v+",0l-"+m+",-"+p+"h"+v+"l"+m+",-"+p+"l"+m+","+p+"h"+v+"l-"+m+","+p+"l"+m+","+p+"h-"+v+"l-"+m+","+p+"l-"+m+",-"+p+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(h,c,b){if(u(c))return s;var p=d(h*i*.8,2),m=d(.8*h,2),v=d(1.6*h,2),x=d(4*h,2),y="A "+x+","+x+" 0 0 1 ";return l(c,b,"M-"+p+","+m+y+p+","+m+y+"0,-"+v+y+"-"+p+","+m+"Z")}},"star-triangle-down":{n:20,f:function(h,c,b){if(u(c))return s;var p=d(h*i*.8,2),m=d(.8*h,2),v=d(1.6*h,2),x=d(4*h,2),y="A "+x+","+x+" 0 0 1 ";return l(c,b,"M"+p+",-"+m+y+"-"+p+",-"+m+y+"0,"+v+y+p+",-"+m+"Z")}},"star-square":{n:21,f:function(h,c,b){if(u(c))return s;var p=d(1.1*h,2),m=d(2*h,2),v="A "+m+","+m+" 0 0 1 ";return l(c,b,"M-"+p+",-"+p+v+"-"+p+","+p+v+p+","+p+v+p+",-"+p+v+"-"+p+",-"+p+"Z")}},"star-diamond":{n:22,f:function(h,c,b){if(u(c))return s;var p=d(1.4*h,2),m=d(1.9*h,2),v="A "+m+","+m+" 0 0 1 ";return l(c,b,"M-"+p+",0"+v+"0,"+p+v+p+",0"+v+"0,-"+p+v+"-"+p+",0Z")}},"diamond-tall":{n:23,f:function(h,c,b){if(u(c))return s;var p=d(.7*h,2),m=d(1.4*h,2);return l(c,b,"M0,"+m+"L"+p+",0L0,-"+m+"L-"+p+",0Z")}},"diamond-wide":{n:24,f:function(h,c,b){if(u(c))return s;var p=d(1.4*h,2),m=d(.7*h,2);return l(c,b,"M0,"+m+"L"+p+",0L0,-"+m+"L-"+p+",0Z")}},hourglass:{n:25,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z")},noDot:!0},bowtie:{n:26,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z")},noDot:!0},"circle-cross":{n:27,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(h,c,b){if(u(c))return s;var p=d(h,2),m=d(h/t,2);return l(c,b,"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(h,c,b){if(u(c))return s;var p=d(1.3*h,2);return l(c,b,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(h,c,b){if(u(c))return s;var p=d(1.3*h,2),m=d(.65*h,2);return l(c,b,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+m+",-"+m+"L"+m+","+m+"M-"+m+","+m+"L"+m+",-"+m)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(h,c,b){if(u(c))return s;var p=d(1.4*h,2);return l(c,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(h,c,b){if(u(c))return s;var p=d(1.2*h,2),m=d(.85*h,2);return l(c,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(h,c,b){if(u(c))return s;var p=d(h/2,2),m=d(h,2);return l(c,b,"M"+p+","+m+"V-"+m+"M"+(p-m)+",-"+m+"V"+m+"M"+m+","+p+"H-"+m+"M-"+m+","+(p-m)+"H"+m)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(h,c,b){if(u(c))return s;var p=d(1.2*h,2),m=d(1.6*h,2),v=d(.8*h,2);return l(c,b,"M-"+p+","+v+"L0,0M"+p+","+v+"L0,0M0,-"+m+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(h,c,b){if(u(c))return s;var p=d(1.2*h,2),m=d(1.6*h,2),v=d(.8*h,2);return l(c,b,"M-"+p+",-"+v+"L0,0M"+p+",-"+v+"L0,0M0,"+m+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(h,c,b){if(u(c))return s;var p=d(1.2*h,2),m=d(1.6*h,2),v=d(.8*h,2);return l(c,b,"M"+v+","+p+"L0,0M"+v+",-"+p+"L0,0M-"+m+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(h,c,b){if(u(c))return s;var p=d(1.2*h,2),m=d(1.6*h,2),v=d(.8*h,2);return l(c,b,"M-"+v+","+p+"L0,0M-"+v+",-"+p+"L0,0M"+m+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(h,c,b){if(u(c))return s;var p=d(1.4*h,2);return l(c,b,"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(h,c,b){if(u(c))return s;var p=d(1.4*h,2);return l(c,b,"M0,"+p+"V-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M"+p+","+p+"L-"+p+",-"+p)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M0,0L-"+p+","+d(2*h,2)+"H"+p+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M0,0L-"+p+",-"+d(2*h,2)+"H"+p+"Z")},noDot:!0},"arrow-left":{n:47,f:function(h,c,b){if(u(c))return s;var p=d(2*h,2),m=d(h,2);return l(c,b,"M0,0L"+p+",-"+m+"V"+m+"Z")},noDot:!0},"arrow-right":{n:48,f:function(h,c,b){if(u(c))return s;var p=d(2*h,2),m=d(h,2);return l(c,b,"M0,0L-"+p+",-"+m+"V"+m+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M-"+p+",0H"+p+"M0,0L-"+p+","+d(2*h,2)+"H"+p+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(h,c,b){if(u(c))return s;var p=d(h,2);return l(c,b,"M-"+p+",0H"+p+"M0,0L-"+p+",-"+d(2*h,2)+"H"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(h,c,b){if(u(c))return s;var p=d(2*h,2),m=d(h,2);return l(c,b,"M0,-"+m+"V"+m+"M0,0L"+p+",-"+m+"V"+m+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(h,c,b){if(u(c))return s;var p=d(2*h,2),m=d(h,2);return l(c,b,"M0,-"+m+"V"+m+"M0,0L-"+p+",-"+m+"V"+m+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(h,c,b){if(u(c))return s;var p=n/2.5,m=2*h*r(p),v=2*h*o(p);return l(c,b,"M0,0L"+-m+","+v+"L"+m+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(h,c,b){if(u(c))return s;var p=n/4,m=2*h*r(p),v=2*h*o(p);return l(c,b,"M0,0L"+-m+","+v+"A "+2*h+","+2*h+" 0 0 1 "+m+","+v+"Z")},backoff:.4,noDot:!0}}},97644:function(ie){"use strict";ie.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(ie,z,e){"use strict";var S=e(38248),A=e(24040),a=e(54460),M=e(3400),_=e(93792);function d(s,t,i,n){var r=t["error_"+n]||{},o=[];if(r.visible&&-1!==["linear","log"].indexOf(i.type)){for(var u=_(r),l=0;l<s.length;l++){var h=s[l],c=h.i;if(void 0===c)c=l;else if(null===c)continue;var b=h[n];if(S(i.c2l(b))){var p=u(b,c);if(S(p[0])&&S(p[1])){var m=h[n+"s"]=b-p[0],v=h[n+"h"]=b+p[1];o.push(m,v)}}}var y=t._extremes[i._id],w=a.findExtremes(i,o,M.extendFlat({tozero:y.opts.tozero},{padded:!0}));y.min=y.min.concat(w.min),y.max=y.max.concat(w.max)}}ie.exports=function(s){for(var t=s.calcdata,i=0;i<t.length;i++){var n=t[i],r=n[0].trace;if(!0===r.visible&&A.traceIs(r,"errorBarsOK")){var o=a.getFromId(s,r.xaxis),u=a.getFromId(s,r.yaxis);d(n,r,o,"x"),d(n,r,u,"y")}}}},93792:function(ie){"use strict";function z(e,S){return"percent"===e?function(A){return Math.abs(A*S/100)}:"constant"===e?function(){return Math.abs(S)}:"sqrt"===e?function(A){return Math.sqrt(Math.abs(A))}:void 0}ie.exports=function(e){var S=e.type,A=e.symmetric;if("data"===S){var a=e.array||[];if(A)return function(s,t){var i=+a[t];return[i,i]};var M=e.arrayminus||[];return function(s,t){var i=+a[t],n=+M[t];return isNaN(i)&&isNaN(n)?[NaN,NaN]:[n||0,i||0]}}var _=z(S,e.value),d=z(S,e.valueminus);return A||void 0===e.valueminus?function(s){var t=_(s);return[t,t]}:function(s){return[d(s),_(s)]}}},65200:function(ie,z,e){"use strict";var S=e(38248),A=e(24040),a=e(3400),M=e(31780),_=e(97644);ie.exports=function(d,s,t,i){var n="error_"+i.axis,r=M.newContainer(s,n),o=d[n]||{};function u(b,p){return a.coerce(o,r,_,b,p)}if(!1!==u("visible",void 0!==o.array||void 0!==o.value||"sqrt"===o.type)){var l=u("type","array"in o?"data":"percent"),h=!0;"sqrt"!==l&&(h=u("symmetric",!(("data"===l?"arrayminus":"valueminus")in o))),"data"===l?(u("array"),u("traceref"),h||(u("arrayminus"),u("tracerefminus"))):"percent"!==l&&"constant"!==l||(u("value"),h||u("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(s["error_"+i.inherit]||{}).visible&&u(c,!(o.color||S(o.thickness)||S(o.width))),i.inherit&&r[c]||(u("color",t),u("thickness"),u("width",A.traceIs(s,"gl3d")?0:4))}}},64968:function(ie,z,e){"use strict";var S=e(3400),A=e(67824).overrideAll,a=e(97644),M={error_x:S.extendFlat({},a),error_y:S.extendFlat({},a)};delete M.error_x.copy_zstyle,delete M.error_y.copy_zstyle,delete M.error_y.copy_ystyle;var _={error_x:S.extendFlat({},a),error_y:S.extendFlat({},a),error_z:S.extendFlat({},a)};delete _.error_x.copy_ystyle,delete _.error_y.copy_ystyle,delete _.error_z.copy_ystyle,delete _.error_z.copy_zstyle,ie.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:M,bar:M,histogram:M,scatter3d:A(_,"calc","nested"),scattergl:A(M,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(d,s,t){(s.error_y||{}).visible&&(t.yerr=d.yh-d.y,s.error_y.symmetric||(t.yerrneg=d.y-d.ys)),(s.error_x||{}).visible&&(t.xerr=d.xh-d.x,s.error_x.symmetric||(t.xerrneg=d.x-d.xs))}}},78512:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(43616),M=e(43028);ie.exports=function(_,d,s,t){var i=s.xaxis,n=s.yaxis,r=t&&t.duration>0,o=_._context.staticPlot;d.each(function(u){var l,h=u[0].trace,c=h.error_x||{},b=h.error_y||{};h.ids&&(l=function(x){return x.id});var p=M.hasMarkers(h)&&h.marker.maxdisplayed>0;b.visible||c.visible||(u=[]);var m=S.select(this).selectAll("g.errorbar").data(u,l);if(m.exit().remove(),u.length){c.visible||m.selectAll("path.xerror").remove(),b.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var v=m.enter().append("g").classed("errorbar",!0);r&&v.style("opacity",0).transition().duration(t.duration).style("opacity",1),a.setClipUrl(m,s.layerClipId,_),m.each(function(x){var P,O,B,q,y=S.select(this),w=(B=n,q={x:(O=i).c2p((P=x).x),y:B.c2p(P.y)},void 0!==P.yh&&(q.yh=B.c2p(P.yh),q.ys=B.c2p(P.ys),A(q.ys)||(q.noYS=!0,q.ys=B.c2p(P.ys,!0))),void 0!==P.xh&&(q.xh=O.c2p(P.xh),q.xs=O.c2p(P.xs),A(q.xs)||(q.noXS=!0,q.xs=O.c2p(P.xs,!0))),q);if(!p||x.vis){var f,C=y.select("path.yerror");if(b.visible&&A(w.x)&&A(w.yh)&&A(w.ys)){var T=b.width;f="M"+(w.x-T)+","+w.yh+"h"+2*T+"m-"+T+",0V"+w.ys,w.noYS||(f+="m-"+T+",0h"+2*T),C.size()?r&&(C=C.transition().duration(t.duration).ease(t.easing)):C=y.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("yerror",!0),C.attr("d",f)}else C.remove();var D=y.select("path.xerror");if(c.visible&&A(w.y)&&A(w.xh)&&A(w.xs)){var R=(c.copy_ystyle?b:c).width;f="M"+w.xh+","+(w.y-R)+"v"+2*R+"m0,-"+R+"H"+w.xs,w.noXS||(f+="m0,-"+R+"v"+2*R),D.size()?r&&(D=D.transition().duration(t.duration).ease(t.easing)):D=y.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("xerror",!0),D.attr("d",f)}else D.remove()}})}})}},92036:function(ie,z,e){"use strict";var S=e(33428),A=e(76308);ie.exports=function(a){a.each(function(M){var _=M[0].trace,d=_.error_y||{},s=_.error_x||{},t=S.select(this);t.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(A.stroke,d.color),s.copy_ystyle&&(s=d),t.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(A.stroke,s.color)})}},55756:function(ie,z,e){"use strict";var S=e(25376),A=e(65460).hoverlabel,a=e(92880).extendFlat;ie.exports={hoverlabel:{bgcolor:a({},A.bgcolor,{arrayOk:!0}),bordercolor:a({},A.bordercolor,{arrayOk:!0}),font:S({arrayOk:!0,editType:"none"}),align:a({},A.align,{arrayOk:!0}),namelength:a({},A.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(ie,z,e){"use strict";var S=e(3400),A=e(24040);function a(M,_,d,s){s=s||S.identity,Array.isArray(M)&&(_[0][d]=s(M))}ie.exports=function(M){var _=M.calcdata,d=M._fullLayout;function s(o){return function(u){return S.coerceHoverinfo({hoverinfo:u},{_module:o._module},d)}}for(var t=0;t<_.length;t++){var i=_[t],n=i[0].trace;if(!A.traceIs(n,"pie-like")){var r=A.traceIs(n,"2dMap")?a:S.fillArray;r(n.hoverinfo,i,"hi",s(n)),n.hovertemplate&&r(n.hovertemplate,i,"ht"),n.hoverlabel&&(r(n.hoverlabel.bgcolor,i,"hbg"),r(n.hoverlabel.bordercolor,i,"hbc"),r(n.hoverlabel.font.size,i,"hts"),r(n.hoverlabel.font.color,i,"htc"),r(n.hoverlabel.font.family,i,"htf"),r(n.hoverlabel.font.weight,i,"htw"),r(n.hoverlabel.font.style,i,"hty"),r(n.hoverlabel.font.variant,i,"htv"),r(n.hoverlabel.namelength,i,"hnl"),r(n.hoverlabel.align,i,"hta"))}}}},62376:function(ie,z,e){"use strict";var S=e(24040),A=e(83292).hover;ie.exports=function(a,M,_){var d=S.getComponentMethod("annotations","onClick")(a,a._hoverdata);function s(){a.emit("plotly_click",{points:a._hoverdata,event:M})}void 0!==_&&A(a,M,_,!0),a._hoverdata&&M&&M.target&&(d&&d.then?d.then(s):s(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},92456:function(ie){"use strict";ie.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(ie,z,e){"use strict";var S=e(3400),A=e(55756),a=e(16132);ie.exports=function(M,_,d,s){var t=S.extendFlat({},s.hoverlabel);_.hovertemplate&&(t.namelength=-1),a(M,_,function(i,n){return S.coerce(M,_,A,i,n)},t)}},10624:function(ie,z,e){"use strict";var S=e(3400);z.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},z.isTraceInSubplots=function(s,t){if("splom"===s.type){for(var i=s.xaxes||[],n=s.yaxes||[],r=0;r<i.length;r++)for(var o=0;o<n.length;o++)if(-1!==t.indexOf(i[r]+n[o]))return!0;return!1}return-1!==t.indexOf(z.getSubplot(s))},z.flat=function(s,t){for(var i=new Array(s.length),n=0;n<s.length;n++)i[n]=t;return i},z.p2c=function(s,t){for(var i=new Array(s.length),n=0;n<s.length;n++)i[n]=s[n].p2c(t);return i},z.getDistanceFunction=function(s,t,i,n){return"closest"===s?n||z.quadrature(t,i):"x"===s.charAt(0)?t:i},z.getClosest=function(s,t,i){if(!1!==i.index)i.index>=0&&i.index<s.length?i.distance=0:i.index=!1;else for(var n=0;n<s.length;n++){var r=t(s[n]);r<=i.distance&&(i.index=n,i.distance=r)}return i},z.inbox=function(s,t,i){return s*t<0||0===s?i:1/0},z.quadrature=function(s,t){return function(i){var n=s(i),r=t(i);return Math.sqrt(n*n+r*r)}},z.makeEventData=function(s,t,i){var n="index"in s?s.index:s.pointNumber,r={data:t._input,fullData:t,curveNumber:t.index,pointNumber:n};if(t._indexToPoints){var o=t._indexToPoints[n];1===o.length?r.pointIndex=o[0]:r.pointIndices=o}else r.pointIndex=n;return t._module.eventData?r=t._module.eventData(r,s,t,i,n):("xVal"in s?r.x=s.xVal:"x"in s&&(r.x=s.x),"yVal"in s?r.y=s.yVal:"y"in s&&(r.y=s.y),s.xa&&(r.xaxis=s.xa),s.ya&&(r.yaxis=s.ya),void 0!==s.zLabelVal&&(r.z=s.zLabelVal)),z.appendArrayPointValue(r,t,n),r},z.appendArrayPointValue=function(s,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var o=n[r],u=a(o);if(void 0===s[u]){var l=M(S.nestedProperty(t,o).get(),i);void 0!==l&&(s[u]=l)}}},z.appendArrayMultiPointValues=function(s,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var o=n[r],u=a(o);if(void 0===s[u]){for(var l=S.nestedProperty(t,o).get(),h=new Array(i.length),c=0;c<i.length;c++)h[c]=M(l,i[c]);s[u]=h}}};var A={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(s){return A[s]||s}function M(s,t){return Array.isArray(t)?Array.isArray(s)&&Array.isArray(s[t[0]])?s[t[0]][t[1]]:void 0:s[t]}var _={x:!0,y:!0},d={"x unified":!0,"y unified":!0};z.isUnifiedHover=function(s){return"string"==typeof s&&!!d[s]},z.isXYhover=function(s){return"string"==typeof s&&!!_[s]}},83292:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(49760),M=e(3400),_=M.pushUnique,d=M.strTranslate,s=M.strRotate,t=e(95924),i=e(72736),n=e(72213),r=e(43616),o=e(76308),u=e(86476),l=e(54460),h=e(24040),c=e(10624),b=e(92456),p=e(77864),m=e(31140),v=b.YANGLE,x=Math.PI*v/180,y=1/Math.sin(x),w=Math.cos(x),f=Math.sin(x),C=b.HOVERARROWSIZE,T=b.HOVERTEXTPAD,D={box:!0,ohlc:!0,violin:!0,candlestick:!0},R={scatter:!0,scattergl:!0,splom:!0};function P(J,le){return J.distance-le.distance}function O(J){return[J.trace.index,J.index,J.x0,J.y0,J.name,J.attr,J.xa?J.xa._id:"",J.ya?J.ya._id:""].join(",")}z.hover=function(J,le,fe,ce){J=M.getGraphDiv(J);var ge=le.target;M.throttle(J._fullLayout._uid+b.HOVERID,b.HOVERMINTIME,function(){!function(Te,Me,we,xe,be){we||(we="xy");var ye,Se,Ee,he=Array.isArray(we)?we:[we],ue=Te._fullLayout,me=ue.hoversubplots,Pe=ue._plots||[],Ce=Pe[we],Ie=ue._has("cartesian"),Oe=Me.hovermode||ue.hovermode,ze="x"===(Oe||"").charAt(0),je="y"===(Oe||"").charAt(0);if(Ie&&(ze||je)&&"axis"===me)for(var ve=he.length,Ae=0;Ae<ve;Ae++)if(Pe[ye=he[Ae]]){Se=l.getFromId(Te,ye,"x"),Ee=l.getFromId(Te,ye,"y");var Le=(ze?Se:Ee)._subplotsWith;if(Le&&Le.length)for(var Ve=0;Ve<Le.length;Ve++)_(he,Le[Ve])}if(Ce&&"single"!==me){var Ne=Ce.overlays.map(function(Yt){return Yt.id});he=he.concat(Ne)}for(var We=he.length,Xe=new Array(We),nt=new Array(We),dt=!1,ht=0;ht<We;ht++)if(Pe[ye=he[ht]])dt=!0,Xe[ht]=Pe[ye].xaxis,nt[ht]=Pe[ye].yaxis;else{if(!ue[ye]||!ue[ye]._subplot)return void M.warn("Unrecognized subplot: "+ye);var Mt=ue[ye]._subplot;Xe[ht]=Mt.xaxis,nt[ht]=Mt.yaxis}if(Oe&&!dt&&(Oe="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Oe)||!Te.calcdata||Te.querySelector(".zoombox")||Te._dragging)return u.unhoverRaw(Te,Me);var kt=ue.hoverdistance;-1===kt&&(kt=1/0);var _t=ue.spikedistance;-1===_t&&(_t=1/0);var ut,st,Lt,Ut,Ht,Pt,Je,tt,Ge,Qe,pt,ct,He,qe=[],ft=[],et={hLinePoint:null,vLinePoint:null},xt=!1;if(Array.isArray(Me))for(Oe="array",Lt=0;Lt<Me.length;Lt++)(Ht=Te.calcdata[Me[Lt].curveNumber||0])&&(Pt=Ht[0].trace,"skip"!==Ht[0].trace.hoverinfo&&(ft.push(Ht),"h"===Pt.orientation&&(xt=!0)));else{var wt,At,yt=Te.calcdata.slice();for(yt.sort(function(Yt,cn){return(Yt[0].trace.zorder||0)-(cn[0].trace.zorder||0)}),Ut=0;Ut<yt.length;Ut++)"skip"!==(Pt=(Ht=yt[Ut])[0].trace).hoverinfo&&c.isTraceInSubplots(Pt,he)&&(ft.push(Ht),"h"===Pt.orientation&&(xt=!0));if(be){if(!1===t.triggerHandler(Te,"plotly_beforehover",Me))return;var Ot=be.getBoundingClientRect();wt=Me.clientX-Ot.left,At=Me.clientY-Ot.top,ue._calcInverseTransform(Te);var Ct=M.apply3DTransform(ue._invTransform)(wt,At);if(At=Ct[1],(wt=Ct[0])<0||wt>Xe[0]._length||At<0||At>nt[0]._length)return u.unhoverRaw(Te,Me)}else wt="xpx"in Me?Me.xpx:Xe[0]._length/2,At="ypx"in Me?Me.ypx:nt[0]._length/2;if(Me.pointerX=wt+Xe[0]._offset,Me.pointerY=At+nt[0]._offset,ut="xval"in Me?c.flat(he,Me.xval):c.p2c(Xe,wt),st="yval"in Me?c.flat(he,Me.yval):c.p2c(nt,At),!A(ut[0])||!A(st[0]))return M.warn("Fx.hover failed",Me,Te),u.unhoverRaw(Te,Me)}var Rt=1/0;function Bt(Yt,cn){for(Ut=0;Ut<ft.length;Ut++)if((Ht=ft[Ut])&&Ht[0]&&Ht[0].trace&&!0===(Pt=Ht[0].trace).visible&&0!==Pt._length&&-1===["carpet","contourcarpet"].indexOf(Pt._module.name)){if(c.isUnifiedHover(Ge=Oe)&&(Ge=Ge.charAt(0)),"splom"===Pt.type?Je=he[tt=0]:(Je=c.getSubplot(Pt),tt=he.indexOf(Je)),ct={cd:Ht,trace:Pt,xa:Xe[tt],ya:nt[tt],maxHoverDistance:kt,maxSpikeDistance:_t,index:!1,distance:Math.min(Rt,kt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:Pt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ue[Je]&&(ct.subplot=ue[Je]._subplot),ue._splomScenes&&ue._splomScenes[Pt.uid]&&(ct.scene=ue._splomScenes[Pt.uid]),"array"===Ge){var xn=Me[Ut];"pointNumber"in xn?(ct.index=xn.pointNumber,Ge="closest"):(Ge="","xval"in xn&&(Qe=xn.xval,Ge="x"),"yval"in xn&&(pt=xn.yval,Ge=Ge?"closest":"y"))}else void 0!==Yt&&void 0!==cn?(Qe=Yt,pt=cn):(Qe=ut[tt],pt=st[tt]);if(He=qe.length,0!==kt)if(Pt._module&&Pt._module.hoverPoints){var wn=Pt._module.hoverPoints(ct,Qe,pt,Ge,{finiteRange:!0,hoverLayer:ue._hoverlayer,hoversubplots:me,gd:Te});if(wn)for(var Cn,mn=0;mn<wn.length;mn++)A((Cn=wn[mn]).x0)&&A(Cn.y0)&&qe.push(j(Cn,Oe))}else M.log("Unrecognized trace type in hover:",Pt);if("closest"===Oe&&qe.length>He&&(qe.splice(0,He),Rt=qe[0].distance),Ie&&0!==_t&&0===qe.length){ct.distance=_t,ct.index=!1;var nn=Pt._module.hoverPoints(ct,Qe,pt,"closest",{hoverLayer:ue._hoverlayer});if(nn&&(nn=nn.filter(function(Xn){return Xn.spikeDistance<=_t})),nn&&nn.length){var rn,pn=nn.filter(function(Xn){return Xn.xa.showspikes&&"hovered data"!==Xn.xa.spikesnap});if(pn.length){var yn=pn[0];A(yn.x0)&&A(yn.y0)&&(rn=Gt(yn),(!et.vLinePoint||et.vLinePoint.spikeDistance>rn.spikeDistance)&&(et.vLinePoint=rn))}var Nn=nn.filter(function(Xn){return Xn.ya.showspikes&&"hovered data"!==Xn.ya.spikesnap});if(Nn.length){var Un=Nn[0];A(Un.x0)&&A(Un.y0)&&(rn=Gt(Un),(!et.hLinePoint||et.hLinePoint.spikeDistance>rn.spikeDistance)&&(et.hLinePoint=rn))}}}}}function jt(Yt,cn,xn){for(var wn,Cn=null,mn=1/0,nn=0;nn<Yt.length;nn++)Se&&Se._id!==Yt[nn].xa._id||Ee&&Ee._id!==Yt[nn].ya._id||(wn=Yt[nn].spikeDistance,xn&&0===nn&&(wn=-1/0),wn<=mn&&wn<=cn&&(Cn=Yt[nn],mn=wn));return Cn}function Gt(Yt){return Yt?{xa:Yt.xa,ya:Yt.ya,x:void 0!==Yt.xSpike?Yt.xSpike:(Yt.x0+Yt.x1)/2,y:void 0!==Yt.ySpike?Yt.ySpike:(Yt.y0+Yt.y1)/2,distance:Yt.distance,spikeDistance:Yt.spikeDistance,curveNumber:Yt.trace.index,color:Yt.color,pointNumber:Yt.index}:null}Bt();var on={fullLayout:ue,container:ue._hoverlayer,event:Me},Jt=Te._spikepoints;Te._spikepoints={vLinePoint:et.vLinePoint,hLinePoint:et.hLinePoint};var tn=function(){var Yt=qe.filter(function(xn){return Se&&Se._id===xn.xa._id&&Ee&&Ee._id===xn.ya._id}),cn=qe.filter(function(xn){return!(Se&&Se._id===xn.xa._id&&Ee&&Ee._id===xn.ya._id)});Yt.sort(P),cn.sort(P),qe=function(xn,wn){for(var Cn=wn.charAt(0),mn=[],nn=[],rn=[],pn=0;pn<xn.length;pn++){var yn=xn[pn];h.traceIs(yn.trace,"bar-like")||h.traceIs(yn.trace,"box-violin")?rn.push(yn):yn.trace[Cn+"period"]?nn.push(yn):mn.push(yn)}return mn.concat(nn).concat(rn)}(qe=Yt.concat(cn),Oe)};tn();var dn=Oe.charAt(0),Gn=("x"===dn||"y"===dn)&&qe[0]&&R[qe[0].trace.type];if(Ie&&0!==_t&&0!==qe.length){var zn=jt(qe.filter(function(Yt){return Yt.ya.showspikes}),_t,Gn);et.hLinePoint=Gt(zn);var Mn=jt(qe.filter(function(Yt){return Yt.xa.showspikes}),_t,Gn);et.vLinePoint=Gt(Mn)}if(0===qe.length){var ln=u.unhoverRaw(Te,Me);return!Ie||null===et.hLinePoint&&null===et.vLinePoint||G(Jt)&&W(Te,et,on),ln}if(Ie&&G(Jt)&&W(Te,et,on),c.isXYhover(Ge)&&0!==qe[0].length&&"splom"!==qe[0].trace.type){var vn=qe[0],hn=(qe=D[vn.trace.type]?qe.filter(function(Yt){return Yt.trace.index===vn.trace.index}):[vn]).length;Bt(te("x",vn,ue),te("y",vn,ue));var _n,Dn=[],Pn={},Yn=0,jn=function(Yt){var cn=D[Yt.trace.type]?O(Yt):Yt.trace.index;if(Pn[cn]){var xn=Pn[cn]-1,wn=Dn[xn];xn>0&&Math.abs(Yt.distance)<Math.abs(wn.distance)&&(Dn[xn]=Yt)}else Yn++,Pn[cn]=Yn,Dn.push(Yt)};for(_n=0;_n<hn;_n++)jn(qe[_n]);for(_n=qe.length-1;_n>hn-1;_n--)jn(qe[_n]);qe=Dn,tn()}var Fn=Te._hoverdata,Jn=[],$n=Q(Te),nr=ee(Te);for(Lt=0;Lt<qe.length;Lt++){var or=qe[Lt],lr=c.makeEventData(or,or.trace,or.cd);if(!1!==or.hovertemplate){var cr=!1;or.cd[or.index]&&or.cd[or.index].ht&&(cr=or.cd[or.index].ht),or.hovertemplate=cr||or.trace.hovertemplate||!1}if(or.xa&&or.ya){var Ar=or.x0+or.xa._offset,fn=or.x1+or.xa._offset,an=or.y0+or.ya._offset,Vn=or.y1+or.ya._offset,En=Math.min(Ar,fn),Wn=Math.max(Ar,fn),ar=Math.min(an,Vn),In=Math.max(an,Vn);lr.bbox={x0:En+nr,x1:Wn+nr,y0:ar+$n,y1:In+$n}}or.eventData=[lr],Jn.push(lr)}Te._hoverdata=Jn;var fr="y"===Oe&&(ft.length>1||qe.length>1)||"closest"===Oe&&xt&&qe.length>1,ur=o.combine(ue.plot_bgcolor||o.background,ue.paper_bgcolor),Kt=q(qe,{gd:Te,hovermode:Oe,rotateLabels:fr,bgColor:ur,container:ue._hoverlayer,outerContainer:ue._paper.node(),commonLabelOpts:ue.hoverlabel,hoverdistance:ue.hoverdistance}),An=Kt.hoverLabels;if(c.isUnifiedHover(Oe)||(function(Yt,cn,xn,wn){var Cn,mn,nn,rn,pn,yn,Nn,Un=cn?"xa":"ya",Xn=cn?"ya":"xa",er=0,pr=1,Qn=Yt.size(),qn=new Array(Qn),vr=0,dr=wn.minX,Dr=wn.maxX,kr=wn.minY,Lr=wn.maxY,yr=function(Nr){return Nr*xn._invScaleX},Or=function(Nr){return Nr*xn._invScaleY};function Yr(Nr){var Ro=Nr[0],Ua=Nr[Nr.length-1];if(nn=Ua.pos+Ua.dp+Ua.size-Ro.pmax,(mn=Ro.pmin-Ro.pos-Ro.dp+Ro.size)>.01){for(pn=Nr.length-1;pn>=0;pn--)Nr[pn].dp+=mn;Cn=!1}if(!(nn<.01)){if(mn<-.01){for(pn=Nr.length-1;pn>=0;pn--)Nr[pn].dp-=nn;Cn=!1}if(Cn){var Li=0;for(rn=0;rn<Nr.length;rn++)(yn=Nr[rn]).pos+yn.dp+yn.size>Ro.pmax&&Li++;for(rn=Nr.length-1;rn>=0&&!(Li<=0);rn--)(yn=Nr[rn]).pos>Ro.pmax-1&&(yn.del=!0,Li--);for(rn=0;rn<Nr.length&&!(Li<=0);rn++)if((yn=Nr[rn]).pos<Ro.pmin+1)for(yn.del=!0,Li--,nn=2*yn.size,pn=Nr.length-1;pn>=0;pn--)Nr[pn].dp-=nn;for(rn=Nr.length-1;rn>=0&&!(Li<=0);rn--)(yn=Nr[rn]).pos+yn.dp+yn.size>Ro.pmax&&(yn.del=!0,Li--)}}}for(Yt.each(function(Nr){var Ro=Nr[Un],Ua=Nr[Xn],Li="x"===Ro._id.charAt(0),Ts=Ro.range;0===vr&&Ts&&Ts[0]>Ts[1]!==Li&&(pr=-1);var vl=0,gi=Li?xn.width:xn.height;if("x"===xn.hovermode||"y"===xn.hovermode){var Ns,zs,ni=H(Nr,cn),La=Nr.anchor,Va="end"===La?-1:1;if("middle"===La)zs=(Ns=Nr.crossPos+(Li?Or(ni.y-Nr.by/2):yr(Nr.bx/2+Nr.tx2width/2)))+(Li?Or(Nr.by):yr(Nr.bx));else if(Li)zs=(Ns=Nr.crossPos+Or(C+ni.y)-Or(Nr.by/2-C))+Or(Nr.by);else{var ts=yr(Va*C+ni.x),Ri=ts+yr(Va*Nr.bx);Ns=Nr.crossPos+Math.min(ts,Ri),zs=Nr.crossPos+Math.max(ts,Ri)}Li?void 0!==kr&&void 0!==Lr&&Math.min(zs,Lr)-Math.max(Ns,kr)>1&&("left"===Ua.side?(vl=Ua._mainLinePosition,gi=xn.width):gi=Ua._mainLinePosition):void 0!==dr&&void 0!==Dr&&Math.min(zs,Dr)-Math.max(Ns,dr)>1&&("top"===Ua.side?(vl=Ua._mainLinePosition,gi=xn.height):gi=Ua._mainLinePosition)}qn[vr++]=[{datum:Nr,traceIndex:Nr.trace.index,dp:0,pos:Nr.pos,posref:Nr.posref,size:Nr.by*(Li?y:1)/2,pmin:vl,pmax:gi}]}),qn.sort(function(Nr,Ro){return Nr[0].posref-Ro[0].posref||pr*(Ro[0].traceIndex-Nr[0].traceIndex)});!Cn&&er<=Qn;){for(er++,Cn=!0,rn=0;rn<qn.length-1;){var Qr=qn[rn],to=qn[rn+1],Bi=Qr[Qr.length-1],mo=to[0];if((mn=Bi.pos+Bi.dp+Bi.size-mo.pos-mo.dp+mo.size)>.01&&Bi.pmin===mo.pmin&&Bi.pmax===mo.pmax){for(pn=to.length-1;pn>=0;pn--)to[pn].dp+=mn;for(Qr.push.apply(Qr,to),qn.splice(rn+1,1),Nn=0,pn=Qr.length-1;pn>=0;pn--)Nn+=Qr[pn].dp;for(nn=Nn/Qr.length,pn=Qr.length-1;pn>=0;pn--)Qr[pn].dp-=nn;Cn=!1}else rn++}qn.forEach(Yr)}for(rn=qn.length-1;rn>=0;rn--){var ji=qn[rn];for(pn=ji.length-1;pn>=0;pn--){var co=ji[pn],Aa=co.datum;Aa.offset=co.dp,Aa.del=co.del}}}(An,fr,ue,Kt.commonLabelBoundingBox),$(An,fr,ue._invScaleX,ue._invScaleY)),be&&be.tagName){var Nt=h.getComponentMethod("annotations","hasClickToShow")(Te,Jn);n(S.select(be),Nt?"pointer":"")}be&&!xe&&function(Yt,cn,xn){if(!xn||xn.length!==Yt._hoverdata.length)return!0;for(var wn=xn.length-1;wn>=0;wn--){var Cn=xn[wn],mn=Yt._hoverdata[wn];if(Cn.curveNumber!==mn.curveNumber||String(Cn.pointNumber)!==String(mn.pointNumber)||String(Cn.pointNumbers)!==String(mn.pointNumbers))return!0}return!1}(Te,0,Fn)&&(Fn&&Te.emit("plotly_unhover",{event:Me,points:Fn}),Te.emit("plotly_hover",{event:Me,points:Te._hoverdata,xaxes:Xe,yaxes:nt,xvals:ut,yvals:st}))}(J,le,fe,ce,ge)})},z.loneHover=function(J,le){var fe=!0;Array.isArray(J)||(fe=!1,J=[J]);var ce=le.gd,ge=Q(ce),Te=ee(ce),Me=q(J.map(function(be){var ye=be._x0||be.x0||be.x||0,Se=be._x1||be.x1||be.x||0,Ee=be._y0||be.y0||be.y||0,he=be._y1||be.y1||be.y||0,ue=be.eventData;if(ue){var me=Math.min(ye,Se),Pe=Math.max(ye,Se),Ce=Math.min(Ee,he),Ie=Math.max(Ee,he),Oe=be.trace;if(h.traceIs(Oe,"gl3d")){var ze=ce._fullLayout[Oe.scene]._scene.container,je=ze.offsetLeft,ve=ze.offsetTop;me+=je,Pe+=je,Ce+=ve,Ie+=ve}ue.bbox={x0:me+Te,x1:Pe+Te,y0:Ce+ge,y1:Ie+ge},le.inOut_bbox&&le.inOut_bbox.push(ue.bbox)}else ue=!1;return{color:be.color||o.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,fontWeight:be.fontWeight,fontStyle:be.fontStyle,fontVariant:be.fontVariant,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:ue}}),{gd:ce,hovermode:"closest",rotateLabels:!1,bgColor:le.bgColor||o.background,container:S.select(le.container),outerContainer:le.outerContainer||le.container}).hoverLabels,we=0,xe=0;return Me.sort(function(be,ye){return be.y0-ye.y0}).each(function(be,ye){var Se=be.y0-be.by/2;be.offset=Se-5<we?we-Se+5:0,we=Se+be.by+be.offset,ye===le.anchorIndex&&(xe=be.offset)}).each(function(be){be.offset-=xe}),$(Me,!1,ce._fullLayout._invScaleX,ce._fullLayout._invScaleY),fe?Me:Me.node()};var B=/<extra>([\s\S]*)<\/extra>/;function q(J,le){var fe=le.gd,ce=fe._fullLayout,ge=le.hovermode,Te=le.rotateLabels,Me=le.bgColor,we=le.container,xe=le.outerContainer,be=le.commonLabelOpts||{};if(0===J.length)return[[]];var ye=le.fontFamily||b.HOVERFONT,Se=le.fontSize||b.HOVERFONTSIZE,Ee=le.fontWeight||ce.font.weight,he=le.fontStyle||ce.font.style,ue=le.fontVariant||ce.font.variant,me=J[0],Pe=me.xa,Ce=me.ya,Ie=ge.charAt(0),Oe=Ie+"Label",ze=me[Oe];if(void 0===ze&&"multicategory"===Pe.type)for(var je=0;je<J.length&&void 0===(ze=J[je][Oe]);je++);var ve=re(fe,xe),Ae=ve.top,Le=ve.width,Ve=ve.height,Ne=void 0!==ze&&me.distance<=le.hoverdistance&&("x"===ge||"y"===ge);if(Ne){var We,Xe,nt=!0;for(We=0;We<J.length;We++)if(nt&&void 0===J[We].zLabel&&(nt=!1),Xe=J[We].hoverinfo||J[We].trace.hoverinfo){var dt=Array.isArray(Xe)?Xe:Xe.split("+");if(-1===dt.indexOf("all")&&-1===dt.indexOf(ge)){Ne=!1;break}}nt&&(Ne=!1)}var ht=we.selectAll("g.axistext").data(Ne?[0]:[]);ht.enter().append("g").classed("axistext",!0),ht.exit().remove();var Mt={minX:0,maxX:0,minY:0,maxY:0};if(ht.each(function(){var Jt=S.select(this),$t=M.ensureSingle(Jt,"path","",function(Ar){Ar.style({"stroke-width":"1px"})}),tn=M.ensureSingle(Jt,"text","",function(Ar){Ar.attr("data-notex",1)}),dn=be.bgcolor||o.defaultLine,Gn=be.bordercolor||o.contrast(dn),zn=o.contrast(dn),Mn={weight:be.font.weight||Ee,style:be.font.style||he,variant:be.font.variant||ue,family:be.font.family||ye,size:be.font.size||Se,color:be.font.color||zn};$t.style({fill:dn,stroke:Gn}),tn.text(ze).call(r.font,Mn).call(i.positionText,0,0).call(i.convertToTspans,fe),Jt.attr("transform","");var ln,vn,hn=re(fe,tn.node());if("x"===ge){var _n="top"===Pe.side?"-":"";tn.attr("text-anchor","middle").call(i.positionText,0,"top"===Pe.side?Ae-hn.bottom-C-T:Ae-hn.top+C+T),vn=Ce._offset+("top"===Pe.side?0:Ce._length);var Dn=hn.width/2+T,Pn=ln=Pe._offset+(me.x0+me.x1)/2;ln<Dn?Pn=Dn:ln>ce.width-Dn&&(Pn=ce.width-Dn),$t.attr("d","M"+(ln-Pn)+",0L"+(ln-Pn+C)+","+_n+C+"H"+Dn+"v"+_n+(2*T+hn.height)+"H"+-Dn+"V"+_n+C+"H"+(ln-Pn-C)+"Z"),Mt.minX=(ln=Pn)-Dn,Mt.maxX=ln+Dn,"top"===Pe.side?(Mt.minY=vn-(2*T+hn.height),Mt.maxY=vn-T):(Mt.minY=vn+T,Mt.maxY=vn+(2*T+hn.height))}else{var Yn,jn,Fn;"right"===Ce.side?(Yn="start",jn=1,Fn="",ln=Pe._offset+Pe._length):(Yn="end",jn=-1,Fn="-",ln=Pe._offset),vn=Ce._offset+(me.y0+me.y1)/2,tn.attr("text-anchor",Yn),$t.attr("d","M0,0L"+Fn+C+","+C+"V"+(T+hn.height/2)+"h"+Fn+(2*T+hn.width)+"V-"+(T+hn.height/2)+"H"+Fn+C+"V-"+C+"Z"),Mt.minY=vn-(T+hn.height/2),Mt.maxY=vn+(T+hn.height/2),"right"===Ce.side?(Mt.minX=ln+C,Mt.maxX=ln+C+(2*T+hn.width)):(Mt.minX=ln-C-(2*T+hn.width),Mt.maxX=ln-C);var Jn,$n=hn.height/2,nr=Ae-hn.top-$n,or="clip"+ce._uid+"commonlabel"+Ce._id;if(ln<hn.width+2*T+C){Jn="M-"+(C+T)+"-"+$n+"h-"+(hn.width-T)+"V"+$n+"h"+(hn.width-T)+"Z";var lr=hn.width-ln+T;i.positionText(tn,lr,nr),"end"===Yn&&tn.selectAll("tspan").each(function(){var Ar=S.select(this),fn=r.tester.append("text").text(Ar.text()).call(r.font,Mn),an=re(fe,fn.node());Math.round(an.width)<Math.round(hn.width)&&Ar.attr("x",lr-an.width),fn.remove()})}else i.positionText(tn,jn*(T+C),nr),Jn=null;var cr=ce._topclips.selectAll("#"+or).data(Jn?[0]:[]);cr.enter().append("clipPath").attr("id",or).append("path"),cr.exit().remove(),cr.select("path").attr("d",Jn),r.setClipUrl(tn,Jn?or:null,fe)}Jt.attr("transform",d(ln,vn))}),c.isUnifiedHover(ge)){we.selectAll("g.hovertext").remove();var kt=J.filter(function(Jt){return"none"!==Jt.hoverinfo});if(0===kt.length)return[];var _t=ce.hoverlabel,ut=_t.font,Lt={font:ut};p({showlegend:!0,legend:{title:{text:ze,font:ut},font:ut,bgcolor:_t.bgcolor,bordercolor:_t.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ce.legend?ce.legend.traceorder:void 0,orientation:"v"}},Lt,fe._fullData);var Ut=Lt.legend;Ut.entries=[];for(var Ht=0;Ht<kt.length;Ht++){var Pt=kt[Ht];if("none"!==Pt.hoverinfo){var Je=N(Pt,!0,ge,ce,ze),tt=Je[0],Ge=Je[1];Pt.name=Ge,Pt.text=""!==Ge?Ge+" : "+tt:tt;var Qe=Pt.cd[Pt.index];Qe&&(Qe.mc&&(Pt.mc=Qe.mc),Qe.mcc&&(Pt.mc=Qe.mcc),Qe.mlc&&(Pt.mlc=Qe.mlc),Qe.mlcc&&(Pt.mlc=Qe.mlcc),Qe.mlw&&(Pt.mlw=Qe.mlw),Qe.mrc&&(Pt.mrc=Qe.mrc),Qe.dir&&(Pt.dir=Qe.dir)),Pt._distinct=!0,Ut.entries.push([Pt])}}Ut.entries.sort(function(Jt,$t){return Jt[0].trace.index-$t[0].trace.index}),Ut.layer=we,Ut._inHover=!0,Ut._groupTitleFont=_t.grouptitlefont,m(fe,Ut);var pt,ct,He,qe,ft=we.select("g.legend"),et=re(fe,ft.node()),xt=et.width+2*T,wt=et.height+2*T,At=kt[0],yt=(At.x0+At.x1)/2,Ot=(At.y0+At.y1)/2,Ct=!(h.traceIs(At.trace,"bar-like")||h.traceIs(At.trace,"box-violin"));"y"===Ie?Ct?(ct=Ot-T,pt=Ot+T):(ct=Math.min.apply(null,kt.map(function(Jt){return Math.min(Jt.y0,Jt.y1)})),pt=Math.max.apply(null,kt.map(function(Jt){return Math.max(Jt.y0,Jt.y1)}))):ct=pt=M.mean(kt.map(function(Jt){return(Jt.y0+Jt.y1)/2}))-wt/2,"x"===Ie?Ct?(He=yt+T,qe=yt-T):(He=Math.max.apply(null,kt.map(function(Jt){return Math.max(Jt.x0,Jt.x1)})),qe=Math.min.apply(null,kt.map(function(Jt){return Math.min(Jt.x0,Jt.x1)}))):He=qe=M.mean(kt.map(function(Jt){return(Jt.x0+Jt.x1)/2}))-xt/2;var Rt,Bt,jt=Pe._offset,Gt=Ce._offset;return qe+=jt-xt,ct+=Gt-wt,Rt=(He+=jt)+xt<Le&&He>=0?He:qe+xt<Le&&qe>=0?qe:jt+xt<Le?jt:He-yt<yt-qe+xt?Le-xt:0,Bt=(pt+=Gt)+wt<Ve&&pt>=0?pt:ct+wt<Ve&&ct>=0?ct:Gt+wt<Ve?Gt:pt-Ot<Ot-ct+wt?Ve-wt:0,ft.attr("transform",d((Rt+=T)-1,(Bt+=T)-1)),ft}var on=we.selectAll("g.hovertext").data(J,function(Jt){return O(Jt)});return on.enter().append("g").classed("hovertext",!0).each(function(){var Jt=S.select(this);Jt.append("rect").call(o.fill,o.addOpacity(Me,.8)),Jt.append("text").classed("name",!0),Jt.append("path").style("stroke-width","1px"),Jt.append("text").classed("nums",!0).call(r.font,{weight:Ee,style:he,variant:ue,family:ye,size:Se})}),on.exit().remove(),on.each(function(Jt){var $t=S.select(this).attr("transform",""),tn=Jt.color;Array.isArray(tn)&&(tn=tn[Jt.eventData[0].pointNumber]);var dn=Jt.bgcolor||tn,Gn=o.combine(o.opacity(dn)?dn:o.defaultLine,Me),zn=o.combine(o.opacity(tn)?tn:o.defaultLine,Me),Mn=Jt.borderColor||o.contrast(Gn),ln=N(Jt,Ne,ge,ce,ze,$t),vn=ln[0],hn=ln[1],_n=$t.select("text.nums").call(r.font,{family:Jt.fontFamily||ye,size:Jt.fontSize||Se,color:Jt.fontColor||Mn,weight:Jt.fontWeight||Ee,style:Jt.fontStyle||he,variant:Jt.fontVariant||ue}).text(vn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,fe),Dn=$t.select("text.name"),Pn=0,Yn=0;if(hn&&hn!==vn){Dn.call(r.font,{family:Jt.fontFamily||ye,size:Jt.fontSize||Se,color:zn,weight:Jt.fontWeight||Ee,style:Jt.fontStyle||he,variant:Jt.fontVariant||ue}).text(hn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,fe);var jn=re(fe,Dn.node());Pn=jn.width+2*T,Yn=jn.height+2*T}else Dn.remove(),$t.select("rect").remove();$t.select("path").style({fill:Gn,stroke:Mn});var Fn=Jt.xa._offset+(Jt.x0+Jt.x1)/2,Jn=Jt.ya._offset+(Jt.y0+Jt.y1)/2,$n=Math.abs(Jt.x1-Jt.x0),nr=Math.abs(Jt.y1-Jt.y0),or=re(fe,_n.node()),lr=or.width/ce._invScaleX,cr=or.height/ce._invScaleY;Jt.ty0=(Ae-or.top)/ce._invScaleY,Jt.bx=lr+2*T,Jt.by=Math.max(cr+2*T,Yn),Jt.anchor="start",Jt.txwidth=lr,Jt.tx2width=Pn,Jt.offset=0;var Ar,fn,an=(lr+C+T+Pn)*ce._invScaleX;if(Te)Jt.pos=Fn,Ar=Jn+nr/2+an<=Ve,fn=Jn-nr/2-an>=0,"top"!==Jt.idealAlign&&Ar||!fn?Ar?(Jn+=nr/2,Jt.anchor="start"):Jt.anchor="middle":(Jn-=nr/2,Jt.anchor="end"),Jt.crossPos=Jn;else{if(Jt.pos=Jn,Ar=Fn+$n/2+an<=Le,fn=Fn-$n/2-an>=0,"left"!==Jt.idealAlign&&Ar||!fn)if(Ar)Fn+=$n/2,Jt.anchor="start";else{Jt.anchor="middle";var Vn=an/2,En=Fn+Vn-Le,Wn=Fn-Vn;En>0&&(Fn-=En),Wn<0&&(Fn+=-Wn)}else Fn-=$n/2,Jt.anchor="end";Jt.crossPos=Fn}_n.attr("text-anchor",Jt.anchor),Pn&&Dn.attr("text-anchor",Jt.anchor),$t.attr("transform",d(Fn,Jn)+(Te?s(v):""))}),{hoverLabels:on,commonLabelBoundingBox:Mt}}function N(J,le,fe,ce,ge,Te){var Me="",we="";void 0!==J.nameOverride&&(J.name=J.nameOverride),J.name&&(J.trace._meta&&(J.name=M.templateString(J.name,J.trace._meta)),Me=ae(J.name,J.nameLength));var xe=fe.charAt(0);void 0!==J.zLabel?(void 0!==J.xLabel&&(we+="x: "+J.xLabel+"<br>"),void 0!==J.yLabel&&(we+="y: "+J.yLabel+"<br>"),"choropleth"!==J.trace.type&&"choroplethmapbox"!==J.trace.type&&(we+=(we?"z: ":"")+J.zLabel)):le&&J[xe+"Label"]===ge?we=J[("x"===xe?"y":"x")+"Label"]||"":void 0===J.xLabel?void 0!==J.yLabel&&"scattercarpet"!==J.trace.type&&(we=J.yLabel):we=void 0===J.yLabel?J.xLabel:"("+J.xLabel+", "+J.yLabel+")",!J.text&&0!==J.text||Array.isArray(J.text)||(we+=(we?"<br>":"")+J.text),void 0!==J.extraText&&(we+=(we?"<br>":"")+J.extraText),Te&&""===we&&!J.hovertemplate&&(""===Me&&Te.remove(),we=Me);var ye=J.hovertemplate||!1;if(ye){var Se=J.hovertemplateLabels||J;J[xe+"Label"]!==ge&&(Se[xe+"other"]=Se[xe+"Val"],Se[xe+"otherLabel"]=Se[xe+"Label"]),we=(we=M.hovertemplateString(ye,Se,ce._d3locale,J.eventData[0]||{},J.trace._meta)).replace(B,function(Ee,he){return Me=ae(he,J.nameLength),""})}return[we,Me]}function H(J,le){var fe=0,ce=J.offset;return le&&(ce*=-f,fe=J.offset*w),{x:fe,y:ce}}function $(J,le,fe,ce){var ge=function(Me){return Me*fe},Te=function(Me){return Me*ce};J.each(function(Me){var we=S.select(this);if(Me.del)return we.remove();var xe,be,ye,Se,Ee=we.select("text.nums"),he=Me.anchor,ue="end"===he?-1:1,me=(Se=(ye=(be={start:1,end:-1,middle:0}[(xe=Me).anchor])*(C+T))+be*(xe.txwidth+T),"middle"===xe.anchor&&(ye-=xe.tx2width/2,Se+=xe.txwidth/2+T),{alignShift:be,textShiftX:ye,text2ShiftX:Se}),Pe=H(Me,le),Ce=Pe.x,Ie=Pe.y,Oe="middle"===he;we.select("path").attr("d",Oe?"M-"+ge(Me.bx/2+Me.tx2width/2)+","+Te(Ie-Me.by/2)+"h"+ge(Me.bx)+"v"+Te(Me.by)+"h-"+ge(Me.bx)+"Z":"M0,0L"+ge(ue*C+Ce)+","+Te(C+Ie)+"v"+Te(Me.by/2-C)+"h"+ge(ue*Me.bx)+"v-"+Te(Me.by)+"H"+ge(ue*C+Ce)+"V"+Te(Ie-C)+"Z");var ze=Ce+me.textShiftX,je=Ie+Me.ty0-Me.by/2+T,ve=Me.textAlign||"auto";"auto"!==ve&&("left"===ve&&"start"!==he?(Ee.attr("text-anchor","start"),ze=Oe?-Me.bx/2-Me.tx2width/2+T:-Me.bx-T):"right"===ve&&"end"!==he&&(Ee.attr("text-anchor","end"),ze=Oe?Me.bx/2-Me.tx2width/2-T:Me.bx+T)),Ee.call(i.positionText,ge(ze),Te(je)),Me.tx2width&&(we.select("text.name").call(i.positionText,ge(me.text2ShiftX+me.alignShift*T+Ce),Te(Ie+Me.ty0-Me.by/2+T)),we.select("rect").call(r.setRect,ge(me.text2ShiftX+(me.alignShift-1)*Me.tx2width/2+Ce),Te(Ie-Me.by/2-1),ge(Me.tx2width),Te(Me.by+2)))})}function j(J,le){var fe=J.index,ce=J.trace||{},ge=J.cd[0],Te=J.cd[fe]||{};function Me(Ee){return Ee||A(Ee)&&0===Ee}var we=Array.isArray(fe)?function(Ee,he){var ue=M.castOption(ge,fe,Ee);return Me(ue)?ue:M.extractOption({},ce,"",he)}:function(Ee,he){return M.extractOption(Te,ce,Ee,he)};function xe(Ee,he,ue){var me=we(he,ue);Me(me)&&(J[Ee]=me)}if(xe("hoverinfo","hi","hoverinfo"),xe("bgcolor","hbg","hoverlabel.bgcolor"),xe("borderColor","hbc","hoverlabel.bordercolor"),xe("fontFamily","htf","hoverlabel.font.family"),xe("fontSize","hts","hoverlabel.font.size"),xe("fontColor","htc","hoverlabel.font.color"),xe("fontWeight","htw","hoverlabel.font.weight"),xe("fontStyle","hty","hoverlabel.font.style"),xe("fontVariant","htv","hoverlabel.font.variant"),xe("nameLength","hnl","hoverlabel.namelength"),xe("textAlign","hta","hoverlabel.align"),J.posref="y"===le||"closest"===le&&"h"===ce.orientation?J.xa._offset+(J.x0+J.x1)/2:J.ya._offset+(J.y0+J.y1)/2,J.x0=M.constrain(J.x0,0,J.xa._length),J.x1=M.constrain(J.x1,0,J.xa._length),J.y0=M.constrain(J.y0,0,J.ya._length),J.y1=M.constrain(J.y1,0,J.ya._length),void 0!==J.xLabelVal&&(J.xLabel="xLabel"in J?J.xLabel:l.hoverLabelText(J.xa,J.xLabelVal,ce.xhoverformat),J.xVal=J.xa.c2d(J.xLabelVal)),void 0!==J.yLabelVal&&(J.yLabel="yLabel"in J?J.yLabel:l.hoverLabelText(J.ya,J.yLabelVal,ce.yhoverformat),J.yVal=J.ya.c2d(J.yLabelVal)),void 0!==J.zLabelVal&&void 0===J.zLabel&&(J.zLabel=String(J.zLabelVal)),!(isNaN(J.xerr)||"log"===J.xa.type&&J.xerr<=0)){var be=l.tickText(J.xa,J.xa.c2l(J.xerr),"hover").text;J.xLabel+=void 0!==J.xerrneg?" +"+be+" / -"+l.tickText(J.xa,J.xa.c2l(J.xerrneg),"hover").text:" \xb1 "+be,"x"===le&&(J.distance+=1)}if(!(isNaN(J.yerr)||"log"===J.ya.type&&J.yerr<=0)){var ye=l.tickText(J.ya,J.ya.c2l(J.yerr),"hover").text;J.yLabel+=void 0!==J.yerrneg?" +"+ye+" / -"+l.tickText(J.ya,J.ya.c2l(J.yerrneg),"hover").text:" \xb1 "+ye,"y"===le&&(J.distance+=1)}var Se=J.hoverinfo||J.trace.hoverinfo;return Se&&"all"!==Se&&(-1===(Se=Array.isArray(Se)?Se:Se.split("+")).indexOf("x")&&(J.xLabel=void 0),-1===Se.indexOf("y")&&(J.yLabel=void 0),-1===Se.indexOf("z")&&(J.zLabel=void 0),-1===Se.indexOf("text")&&(J.text=void 0),-1===Se.indexOf("name")&&(J.name=void 0)),J}function W(J,le,fe){var ce,ge,Te=fe.container,Me=fe.fullLayout,we=Me._size,xe=fe.event,be=!!le.hLinePoint,ye=!!le.vLinePoint;if(Te.selectAll(".spikeline").remove(),ye||be){var Se=o.combine(Me.plot_bgcolor,Me.paper_bgcolor);if(be){var Ee,he,ue=le.hLinePoint;ce=ue&&ue.xa,"cursor"===(ge=ue&&ue.ya).spikesnap?(Ee=xe.pointerX,he=xe.pointerY):(Ee=ce._offset+ue.x,he=ge._offset+ue.y);var me,Pe,Ce=a.readability(ue.color,Se)<1.5?o.contrast(Se):ue.color,Ie=ge.spikemode,Oe=ge.spikethickness,ze=ge.spikecolor||Ce,je=l.getPxPosition(J,ge);if(-1!==Ie.indexOf("toaxis")||-1!==Ie.indexOf("across")){if(-1!==Ie.indexOf("toaxis")&&(me=je,Pe=Ee),-1!==Ie.indexOf("across")){var ve=ge._counterDomainMin,Ae=ge._counterDomainMax;"free"===ge.anchor&&(ve=Math.min(ve,ge.position),Ae=Math.max(Ae,ge.position)),me=we.l+ve*we.w,Pe=we.l+Ae*we.w}Te.insert("line",":first-child").attr({x1:me,x2:Pe,y1:he,y2:he,"stroke-width":Oe,stroke:ze,"stroke-dasharray":r.dashStyle(ge.spikedash,Oe)}).classed("spikeline",!0).classed("crisp",!0),Te.insert("line",":first-child").attr({x1:me,x2:Pe,y1:he,y2:he,"stroke-width":Oe+2,stroke:Se}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ie.indexOf("marker")&&Te.insert("circle",":first-child").attr({cx:je+("right"!==ge.side?Oe:-Oe),cy:he,r:Oe,fill:ze}).classed("spikeline",!0)}if(ye){var Le,Ve,Ne=le.vLinePoint;ge=Ne&&Ne.ya,"cursor"===(ce=Ne&&Ne.xa).spikesnap?(Le=xe.pointerX,Ve=xe.pointerY):(Le=ce._offset+Ne.x,Ve=ge._offset+Ne.y);var We,Xe,nt=a.readability(Ne.color,Se)<1.5?o.contrast(Se):Ne.color,dt=ce.spikemode,ht=ce.spikethickness,Mt=ce.spikecolor||nt,kt=l.getPxPosition(J,ce);if(-1!==dt.indexOf("toaxis")||-1!==dt.indexOf("across")){if(-1!==dt.indexOf("toaxis")&&(We=kt,Xe=Ve),-1!==dt.indexOf("across")){var _t=ce._counterDomainMin,ut=ce._counterDomainMax;"free"===ce.anchor&&(_t=Math.min(_t,ce.position),ut=Math.max(ut,ce.position)),We=we.t+(1-ut)*we.h,Xe=we.t+(1-_t)*we.h}Te.insert("line",":first-child").attr({x1:Le,x2:Le,y1:We,y2:Xe,"stroke-width":ht,stroke:Mt,"stroke-dasharray":r.dashStyle(ce.spikedash,ht)}).classed("spikeline",!0).classed("crisp",!0),Te.insert("line",":first-child").attr({x1:Le,x2:Le,y1:We,y2:Xe,"stroke-width":ht+2,stroke:Se}).classed("spikeline",!0).classed("crisp",!0)}-1!==dt.indexOf("marker")&&Te.insert("circle",":first-child").attr({cx:Le,cy:kt-("top"!==ce.side?ht:-ht),r:ht,fill:Mt}).classed("spikeline",!0)}}}function G(J,le){return!le||le.vLinePoint!==J._spikepoints.vLinePoint||le.hLinePoint!==J._spikepoints.hLinePoint}function ae(J,le){return i.plainText(J||"",{len:le,allowedTags:["br","sub","sup","b","i","em"]})}function te(J,le,fe){var ce=le[J+"a"],ge=le[J+"Val"],Te=le.cd[0];if("category"===ce.type||"multicategory"===ce.type)ge=ce._categoriesMap[ge];else if("date"===ce.type){var Me=le.trace[J+"periodalignment"];if(Me){var we=le.cd[le.index],xe=we[J+"Start"];void 0===xe&&(xe=we[J]);var be=we[J+"End"];void 0===be&&(be=we[J]);var ye=be-xe;"end"===Me?ge+=ye:"middle"===Me&&(ge+=ye/2)}ge=ce.d2c(ge)}return Te&&Te.t&&Te.t.posLetter===ce._id&&("group"!==fe.boxmode&&"group"!==fe.violinmode||(ge+=Te.t.dPos)),ge}function Q(J){return J.offsetTop+J.clientTop}function ee(J){return J.offsetLeft+J.clientLeft}function re(J,le){var fe=J._fullLayout,ce=le.getBoundingClientRect(),ge=ce.left,Te=ce.top,Me=ge+ce.width,we=Te+ce.height,xe=M.apply3DTransform(fe._invTransform)(ge,Te),be=M.apply3DTransform(fe._invTransform)(Me,we),ye=xe[0],Se=xe[1],Ee=be[0],he=be[1];return{x:ye,y:Se,width:Ee-ye,height:he-Se,top:Math.min(Se,he),left:Math.min(ye,Ee),right:Math.max(ye,Ee),bottom:Math.max(Se,he)}}},16132:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(10624).isUnifiedHover;ie.exports=function(M,_,d,s){s=s||{};var t=_.legend;function i(n){s.font[n]||(s.font[n]=t?_.legend.font[n]:_.font[n])}_&&a(_.hovermode)&&(s.font||(s.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),t?(s.bgcolor||(s.bgcolor=A.combine(_.legend.bgcolor,_.paper_bgcolor)),s.bordercolor||(s.bordercolor=_.legend.bordercolor)):s.bgcolor||(s.bgcolor=_.paper_bgcolor)),d("hoverlabel.bgcolor",s.bgcolor),d("hoverlabel.bordercolor",s.bordercolor),d("hoverlabel.namelength",s.namelength),S.coerceFont(d,"hoverlabel.font",s.font),d("hoverlabel.align",s.align)}},41008:function(ie,z,e){"use strict";var S=e(3400),A=e(65460);ie.exports=function(a,M){function _(d,s){return void 0!==M[d]?M[d]:S.coerce(a,M,A,d,s)}return _("clickmode"),_("hoversubplots"),_("hovermode")}},93024:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(86476),M=e(10624),_=e(65460),d=e(83292);ie.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:_},attributes:e(55756),layoutAttributes:_,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:M.getDistanceFunction,getClosest:M.getClosest,inbox:M.inbox,quadrature:M.quadrature,appendArrayPointValue:M.appendArrayPointValue,castHoverOption:function(s,t,i){return A.castOption(s,t,"hoverlabel."+i)},castHoverinfo:function(s,t,i){return A.castOption(s,i,"hoverinfo",function(n){return A.coerceHoverinfo({hoverinfo:n},{_module:s._module},t)})},hover:d.hover,unhover:a.unhover,loneHover:d.loneHover,loneUnhover:function(s){var t=A.isD3Selection(s)?s:S.select(s);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(ie,z,e){"use strict";var S=e(92456),A=e(25376),a=A({editType:"none"});a.family.dflt=S.HOVERFONT,a.size.dflt=S.HOVERFONTSIZE,ie.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:A({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(ie,z,e){"use strict";var S=e(3400),A=e(65460),a=e(41008),M=e(16132);ie.exports=function(_,d){function s(r,o){return S.coerce(_,d,A,r,o)}a(_,d)&&(s("hoverdistance"),s("spikedistance")),"select"===s("dragmode")&&s("selectdirection");var t=d._has("mapbox"),i=d._has("geo"),n=d._basePlotModules.length;"zoom"===d.dragmode&&((t||i)&&1===n||t&&i&&2===n)&&(d.dragmode="pan"),M(_,d,s),S.coerceFont(s,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},81976:function(ie,z,e){"use strict";var S=e(3400),A=e(16132),a=e(65460);ie.exports=function(M,_){A(M,_,function(d,s){return S.coerce(M,_,a,d,s)})}},12704:function(ie,z,e){"use strict";var S=e(3400),A=e(53756).counter,a=e(86968).u,M=e(33816).idRegex,_=e(31780),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[A("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[M.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[M.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(n,r,o){var u=r[o+"axes"],l=Object.keys((n._splomAxes||{})[o]||{});return Array.isArray(u)?u:l.length?l:void 0}function t(n,r,o,u,l,h){var c=r(n+"gap",o),b=r("domain."+n);r(n+"side",u);for(var p=new Array(l),m=b[0],v=(b[1]-m)/(l-c),x=v*(1-c),y=0;y<l;y++){var w=m+v*y;p[h?l-1-y:y]=[w,w+x]}return p}function i(n,r,o,u,l){var h,c=new Array(o);function b(p,m){-1!==r.indexOf(m)&&void 0===u[m]?(c[p]=m,u[m]=p):c[p]=""}if(Array.isArray(n))for(h=0;h<o;h++)b(h,n[h]);else for(b(0,l),h=1;h<o;h++)b(h,l+(h+1));return c}ie.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:function(n,r){var o=n.grid||{},u=s(r,o,"x"),l=s(r,o,"y");if(n.grid||u||l){var h,c,b=Array.isArray(o.subplots)&&Array.isArray(o.subplots[0]),p=Array.isArray(u),m=Array.isArray(l),v=p&&u!==o.xaxes&&m&&l!==o.yaxes;b?(h=o.subplots.length,c=o.subplots[0].length):(m&&(h=l.length),p&&(c=u.length));var x=_.newContainer(r,"grid"),y=P("rows",h),w=P("columns",c);if(y*w>1){b||p||m||"independent"===P("pattern")&&(b=!0),x._hasSubplotGrid=b;var f,C,T="top to bottom"===P("roworder"),R=b?.3:.1;v&&r._splomGridDflt&&(f=r._splomGridDflt.xside,C=r._splomGridDflt.yside),x._domains={x:t("x",P,b?.2:.1,f,w),y:t("y",P,R,C,y,T)}}else delete r.grid}function P(O,B){return S.coerce(o,x,d,O,B)}},contentDefaults:function(n,r){var o=r.grid;if(o&&o._domains){var u,l,h,c,b,p,m,v=n.grid||{},x=r._subplots,y=o._hasSubplotGrid,w=o.rows,f=o.columns,C="independent"===o.pattern,T=o._axisMap={};if(y){var D=v.subplots||[];p=o.subplots=new Array(w);var R=1;for(u=0;u<w;u++){var P=p[u]=new Array(f),O=D[u]||[];for(l=0;l<f;l++)if(C?(b=1===R?"xy":"x"+R+"y"+R,R++):b=O[l],P[l]="",-1!==x.cartesian.indexOf(b)){if(m=b.indexOf("y"),h=b.slice(0,m),c=b.slice(m),void 0!==T[h]&&T[h]!==l||void 0!==T[c]&&T[c]!==u)continue;P[l]=b,T[h]=l,T[c]=u}}}else{var B=s(r,v,"x"),q=s(r,v,"y");o.xaxes=i(B,x.xaxis,f,T,"x"),o.yaxes=i(q,x.yaxis,w,T,"y")}var N=o._anchors={},H="top to bottom"===o.roworder;for(var $ in T){var j,W,G,ae=$.charAt(0),te=o[ae+"side"];if(te.length<8)N[$]="free";else if("x"===ae){if("t"===te.charAt(0)===H?(j=0,W=1,G=w):(j=w-1,W=-1,G=-1),y){var Q=T[$];for(u=j;u!==G;u+=W)if((b=p[u][Q])&&(m=b.indexOf("y"),b.slice(0,m)===$)){N[$]=b.slice(m);break}}else for(u=j;u!==G;u+=W)if(-1!==x.cartesian.indexOf($+(c=o.yaxes[u]))){N[$]=c;break}}else if("l"===te.charAt(0)?(j=0,W=1,G=f):(j=f-1,W=-1,G=-1),y){var ee=T[$];for(u=j;u!==G;u+=W)if((b=p[ee][u])&&(m=b.indexOf("y"),b.slice(m)===$)){N[$]=b.slice(0,m);break}}else for(u=j;u!==G;u+=W)if(-1!==x.cartesian.indexOf((h=o.xaxes[u])+$)){N[$]=h;break}}}}}},65760:function(ie,z,e){"use strict";var S=e(33816),A=e(31780).templatedArray;e(36208),ie.exports=A("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",S.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",S.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(ie,z,e){"use strict";var S=e(38248),A=e(36896);ie.exports=function(a,M,_,d){M=M||{};var s="log"===_&&"linear"===M.type;if(s||"linear"===_&&"log"===M.type)for(var i,n,r=a._fullLayout.images,o=M._id.charAt(0),u=0;u<r.length;u++)if(n="images["+u+"].",(i=r[u])[o+"ref"]===M._id){var l=i[o],h=i["size"+o],c=null,b=null;if(s){c=A(l,M.range);var p=h/Math.pow(10,c)/2;b=2*Math.log(p+Math.sqrt(1+p*p))/Math.LN10}else b=(c=Math.pow(10,l))*(Math.pow(10,h/2)-Math.pow(10,-h/2));S(c)?S(b)||(b=null):(c=null,b=null),d(n+o,c),d(n+"size"+o,b)}}},25024:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(51272),M=e(65760);function _(d,s,t){function i(c,b){return S.coerce(d,s,M,c,b)}var n=i("source");if(!i("visible",!!n))return s;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var r={_fullLayout:t},o=["x","y"],u=0;u<2;u++){var l=o[u],h=A.coerceRef(d,s,r,l,"paper",void 0);"paper"!==h&&A.getFromId(r,h)._imgIndices.push(s._index),A.coercePosition(s,r,i,h,l,0)}return s}ie.exports=function(d,s){a(d,s,{name:"images",handleItemDefaults:_})}},60963:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(54460),M=e(79811),_=e(9616);ie.exports=function(d){var s,t,i=d._fullLayout,n=[],r={},o=[];for(t=0;t<i.images.length;t++){var u=i.images[t];if(u.visible)if("below"===u.layer&&"paper"!==u.xref&&"paper"!==u.yref){s=M.ref2id(u.xref)+M.ref2id(u.yref);var l=i._plots[s];if(!l){o.push(u);continue}l.mainplot&&(s=l.mainplot.id),r[s]||(r[s]=[]),r[s].push(u)}else"above"===u.layer?n.push(u):o.push(u)}var h={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function b(f){var C=S.select(this);if(this._imgSrc!==f.source)if(C.attr("xmlns",_.svg),f.source&&"data:"===f.source.slice(0,5))C.attr("xlink:href",f.source),this._imgSrc=f.source;else{var T=new Promise(function(D){var R=new Image;function P(){C.remove(),D()}this.img=R,R.setAttribute("crossOrigin","anonymous"),R.onerror=P,R.onload=function(){var O=document.createElement("canvas");O.width=this.width,O.height=this.height,O.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var B=O.toDataURL("image/png");C.attr("xlink:href",B),D()},C.on("error",P),R.src=f.source,this._imgSrc=f.source}.bind(this));d._promises.push(T)}}function p(f){var C,T,D=S.select(this),R=a.getFromId(d,f.xref),P=a.getFromId(d,f.yref),O="domain"===a.getRefType(f.xref),B="domain"===a.getRefType(f.yref),q=i._size;C=void 0!==R?"string"==typeof f.xref&&O?R._length*f.sizex:Math.abs(R.l2p(f.sizex)-R.l2p(0)):f.sizex*q.w,T=void 0!==P?"string"==typeof f.yref&&B?P._length*f.sizey:Math.abs(P.l2p(f.sizey)-P.l2p(0)):f.sizey*q.h;var N,H,$=C*h[f.xanchor].offset,j=T*c[f.yanchor].offset,W=h[f.xanchor].sizing+c[f.yanchor].sizing;switch(N=void 0!==R?"string"==typeof f.xref&&O?R._length*f.x+R._offset:R.r2p(f.x)+R._offset:f.x*q.w+q.l,N+=$,H=void 0!==P?"string"==typeof f.yref&&B?P._length*(1-f.y)+P._offset:P.r2p(f.y)+P._offset:q.h-f.y*q.h+q.t,H+=j,f.sizing){case"fill":W+=" slice";break;case"stretch":W="none"}D.attr({x:N,y:H,width:C,height:T,preserveAspectRatio:W,opacity:f.opacity});var G=(R&&"domain"!==a.getRefType(f.xref)?R._id:"")+(P&&"domain"!==a.getRefType(f.yref)?P._id:"");A.setClipUrl(D,G?"clip"+i._uid+G:null,d)}var m=i._imageLowerLayer.selectAll("image").data(o),v=i._imageUpperLayer.selectAll("image").data(n);m.enter().append("image"),v.enter().append("image"),m.exit().remove(),v.exit().remove(),m.each(function(f){b.bind(this)(f),p.bind(this)(f)}),v.each(function(f){b.bind(this)(f),p.bind(this)(f)});var x=Object.keys(i._plots);for(t=0;t<x.length;t++){var y=i._plots[s=x[t]];if(y.imagelayer){var w=y.imagelayer.selectAll("image").data(r[s]||[]);w.enter().append("image"),w.exit().remove(),w.each(function(f){b.bind(this)(f),p.bind(this)(f)})}}}},7402:function(ie,z,e){"use strict";ie.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(ie,z,e){"use strict";var S=e(25376),A=e(22548);ie.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:S({editType:"legend"}),grouptitlefont:S({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:S({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(ie){"use strict";ie.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(31780),M=e(45464),_=e(3800),d=e(64859),s=e(42451);function t(i,n,r,o){var u=n[i]||{},l=a.newContainer(r,i);function h(W,G){return A.coerce(u,l,_,W,G)}var c=A.coerceFont(h,"font",r.font);if(h("bgcolor",r.paper_bgcolor),h("bordercolor"),h("visible")){for(var b,p=function(W,G){return A.coerce(b._input,b,M,W,G)},m=r.font||{},v=A.coerceFont(h,"grouptitlefont",A.extendFlat({},m,{size:Math.round(1.1*m.size)})),x=0,y=!1,w="normal",f=(r.shapes||[]).filter(function(W){return W.showlegend}),C=o.concat(f).filter(function(W){return i===(W.legend||"legend")}),T=0;T<C.length;T++)if((b=C[T]).visible){var D=b._isShape;(b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&!1===b._module.attributes.showlegend.dflt))&&(x++,b.showlegend&&(y=!0,(!D&&S.traceIs(b,"pie-like")||!0===b._input.showlegend)&&x++),A.coerceFont(p,"legendgrouptitle.font",v)),(!D&&S.traceIs(b,"bar")&&"stack"===r.barmode||-1!==["tonextx","tonexty"].indexOf(b.fill))&&(w=s.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),void 0!==b.legendgroup&&""!==b.legendgroup&&(w=s.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var R=A.coerce(n,r,d,"showlegend",y&&x>("legend"===i?1:0));if(!1===R&&(r[i]=void 0),(!1!==R||u.uirevision)&&(h("uirevision",r.uirevision),!1!==R)){h("borderwidth");var P,O,B,q="h"===h("orientation"),N="paper"===h("yref"),H="paper"===h("xref"),$="left";if(q?(P=0,S.getComponentMethod("rangeslider","isVisible")(n.xaxis)?N?(O=1.1,B="bottom"):(O=1,B="top"):N?(O=-.1,B="top"):(O=0,B="bottom")):(O=1,B="auto",H?P=1.02:(P=1,$="right")),A.coerce(u,l,{x:{valType:"number",editType:"legend",min:H?-2:0,max:H?3:1,dflt:P}},"x"),A.coerce(u,l,{y:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:O}},"y"),h("traceorder",w),s.isGrouped(r[i])&&h("tracegroupgap"),h("entrywidth"),h("entrywidthmode"),h("indentation"),h("itemsizing"),h("itemwidth"),h("itemclick"),h("itemdoubleclick"),h("groupclick"),h("xanchor",$),h("yanchor",B),h("valign"),A.noneOrAll(u,l,["x","y"]),h("title.text")){h("title.side",q?"left":"top");var j=A.extendFlat({},c,{size:A.bigFont(c.size)});A.coerceFont(h,"title.font",j)}}}}ie.exports=function(i,n,r){var o,u=r.slice(),l=n.shapes;if(l)for(o=0;o<l.length;o++){var h=l[o];h.showlegend&&u.push({_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend})}var b=["legend"];for(o=0;o<u.length;o++)A.pushUnique(b,u[o].legend);for(n._legends=[],o=0;o<b.length;o++){var p=b[o];t(p,i,n,u),n[p]&&n[p].visible&&(n[p]._id=p),n._legends.push(p)}}},31140:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(7316),M=e(24040),_=e(95924),d=e(86476),s=e(43616),t=e(76308),i=e(72736),n=e(33048),r=e(65196),o=e(84284),u=o.LINE_SPACING,l=o.FROM_TL,h=o.FROM_BR,c=e(35456),b=e(2012),p=e(42451),m=1,v=/^legend[0-9]*$/;function x(B,q){var N,H,$=q||{},j=B._fullLayout,W=O($),G=$._inHover;if(G?(H=$.layer,N="hover"):(H=j._infolayer,N=W),H){var ae;if(N+=j._uid,B._legendMouseDownTime||(B._legendMouseDownTime=0),G){if(!$.entries)return;ae=c($.entries,$)}else{for(var te=(B.calcdata||[]).slice(),Q=j.shapes,ee=0;ee<Q.length;ee++){var re=Q[ee];re.showlegend&&te.push([{trace:{_isShape:!0,_fullInput:re,index:re._index,name:re.name||re.label.text||"shape "+re._index,legend:re.legend,legendgroup:re.legendgroup,legendgrouptitle:re.legendgrouptitle,legendrank:re.legendrank,legendwidth:re.legendwidth,showlegend:re.showlegend,visible:re.visible,opacity:re.opacity,mode:"line"===re.type?"lines":"markers",line:re.line,marker:{line:re.line,color:re.fillcolor,size:12,symbol:"rect"===re.type?"square":"circle"===re.type?"circle":"hexagon2"}}}])}ae=j.showlegend&&c(te,$,j._legends.length>1)}var le=j.hiddenlabels||[];if(!(G||j.showlegend&&ae.length))return H.selectAll("."+W).remove(),j._topdefs.select("#"+N).remove(),a.autoMargin(B,W);var fe=A.ensureSingle(H,"g",W,function(Se){G||Se.attr("pointer-events","all")}),ce=A.ensureSingleById(j._topdefs,"clipPath",N,function(Se){Se.append("rect")}),ge=A.ensureSingle(fe,"rect","bg",function(Se){Se.attr("shape-rendering","crispEdges")});ge.call(t.stroke,$.bordercolor).call(t.fill,$.bgcolor).style("stroke-width",$.borderwidth+"px");var Te,Me=A.ensureSingle(fe,"g","scrollbox"),we=$.title;$._titleWidth=0,$._titleHeight=0,we.text?((Te=A.ensureSingle(Me,"text",W+"titletext")).attr("text-anchor","start").call(s.font,we.font).text(we.text),D(Te,Me,B,$,m)):Me.selectAll("."+W+"titletext").remove();var xe=A.ensureSingle(fe,"rect","scrollbar",function(Se){Se.attr(r.scrollBarEnterAttrs).call(t.fill,r.scrollBarColor)}),be=Me.selectAll("g.groups").data(ae);be.enter().append("g").attr("class","groups"),be.exit().remove();var ye=be.selectAll("g.traces").data(A.identity);ye.enter().append("g").attr("class","traces"),ye.exit().remove(),ye.style("opacity",function(Se){var Ee=Se[0].trace;return M.traceIs(Ee,"pie-like")?-1!==le.indexOf(Se[0].label)?.5:1:"legendonly"===Ee.visible?.5:1}).each(function(){S.select(this).call(f,B,$)}).call(b,B,$).each(function(){G||S.select(this).call(T,B,W)}),A.syncOrAsync([a.previousPromises,function(){return function(Se,Ee,he,ue){var me=Se._fullLayout,Pe=O(ue);ue||(ue=me[Pe]);var Ce=me._size,Ie=p.isVertical(ue),Oe=p.isGrouped(ue),ze="fraction"===ue.entrywidthmode,je=ue.borderwidth,ve=2*je,Ae=r.itemGap,Le=ue.indentation+ue.itemwidth+2*Ae,Ve=2*(je+Ae),Ne=P(ue),We=ue.y<0||0===ue.y&&"top"===Ne,Xe=ue.y>1||1===ue.y&&"bottom"===Ne,nt=ue.tracegroupgap,dt={};ue._maxHeight=Math.max(We||Xe?me.height/2:Ce.h,30);var ht=0;ue._width=0,ue._height=0;var wt,At,yt,Ot,Mt=(At=0,yt=0,(Ot=(wt=ue).title.side)&&(-1!==Ot.indexOf("left")&&(At=wt._titleWidth),-1!==Ot.indexOf("top")&&(yt=wt._titleHeight)),[At,yt]);if(Ie)he.each(function(wt){var At=wt[0].height;s.setTranslate(this,je+Mt[0],je+Mt[1]+ue._height+At/2+Ae),ue._height+=At,ue._width=Math.max(ue._width,wt[0].width)}),ht=Le+ue._width,ue._width+=Ae+Le+ve,ue._height+=Ve,Oe&&(Ee.each(function(wt,At){s.setTranslate(this,0,At*ue.tracegroupgap)}),ue._height+=(ue._lgroupsLength-1)*ue.tracegroupgap);else{var kt=R(ue),st=Xe||We,Lt=me.width/2;ue._maxWidth=Math.max(ue.x<0||0===ue.x&&"right"===kt?st&&"left"===kt?Ce.l+Ce.w:Lt:ue.x>1||1===ue.x&&"left"===kt?st&&"right"===kt?Ce.r+Ce.w:Lt:Ce.w,2*Le);var Ut=0,Ht=0;he.each(function(wt){var At=y(wt,ue,Le);Ut=Math.max(Ut,At),Ht+=At}),ht=null;var Pt=0;if(Oe){var Je=0,tt=0,Ge=0;Ee.each(function(){var wt=0,At=0;S.select(this).selectAll("g.traces").each(function(Ot){var Ct=y(Ot,ue,Le),Rt=Ot[0].height;s.setTranslate(this,Mt[0],Mt[1]+je+Ae+Rt/2+At),At+=Rt,wt=Math.max(wt,Ct),dt[Ot[0].trace.legendgroup]=wt});var yt=wt+Ae;tt>0&&yt+je+tt>ue._maxWidth?(Pt=Math.max(Pt,tt),tt=0,Ge+=Je+nt,Je=At):Je=Math.max(Je,At),s.setTranslate(this,tt,Ge),tt+=yt}),ue._width=Math.max(Pt,tt)+je,ue._height=Ge+Je+Ve}else{var Qe=he.size(),pt=Ht+ve+(Qe-1)*Ae<ue._maxWidth,ct=0,He=0,qe=0,ft=0;he.each(function(wt){var At=wt[0].height,yt=y(wt,ue,Le),Ot=pt?yt:Ut;ze||(Ot+=Ae),Ot+je+He-Ae>=ue._maxWidth&&(Pt=Math.max(Pt,ft),He=0,qe+=ct,ue._height+=ct,ct=0),s.setTranslate(this,Mt[0]+je+He,Mt[1]+je+qe+At/2+Ae),ft=He+yt+Ae,He+=Ot,ct=Math.max(ct,At)}),pt?(ue._width=He+ve,ue._height=ct+Ve):(ue._width=Math.max(Pt,ft)+ve,ue._height+=ct+Ve)}}ue._width=Math.ceil(Math.max(ue._width+Mt[0],ue._titleWidth+2*(je+r.titlePad))),ue._height=Math.ceil(Math.max(ue._height+Mt[1],ue._titleHeight+2*(je+r.itemGap))),ue._effHeight=Math.min(ue._height,ue._maxHeight);var et=Se._context.edits,xt=et.legendText||et.legendPosition;he.each(function(wt){var At=S.select(this).select("."+Pe+"toggle"),yt=wt[0].height,Ot=wt[0].trace.legendgroup,Ct=y(wt,ue,Le);Oe&&""!==Ot&&(Ct=dt[Ot]);var Rt=xt?Le:ht||Ct;Ie||ze||(Rt+=Ae/2),s.setRect(At,0,-yt/2,Rt,yt)})}(B,be,ye,$)},function(){var Se,Ee,he,ue,me=j._size,Pe=$.borderwidth,Ce="paper"===$.xref,Ie="paper"===$.yref;if(we.text&&function(st,Lt,Ut){if("top center"===Lt.title.side||"top right"===Lt.title.side){var Ht=Lt.title.font.size*u,Pt=0,Je=st.node(),tt=s.bBox(Je).width;"top center"===Lt.title.side?Pt=.5*(Lt._width-2*Ut-2*r.titlePad-tt):"top right"===Lt.title.side&&(Pt=Lt._width-2*Ut-2*r.titlePad-tt),i.positionText(st,Ut+r.titlePad+Pt,Ut+Ht)}}(Te,$,Pe),!G){var Oe,ze;if(Oe=Ce?me.l+me.w*$.x-l[R($)]*$._width:j.width*$.x-l[R($)]*$._width,ze=Ie?me.t+me.h*(1-$.y)-l[P($)]*$._effHeight:j.height*(1-$.y)-l[P($)]*$._effHeight,function(st,Lt,Ut,Ht){var Pt=st._fullLayout,Je=Pt[Lt],tt=R(Je),Ge=P(Je),Qe="paper"===Je.xref,pt="paper"===Je.yref;st._fullLayout._reservedMargin[Lt]={};var ct=Je.y<.5?"b":"t",He=Je.x<.5?"l":"r",qe={r:Pt.width-Ut,l:Ut+Je._width,b:Pt.height-Ht,t:Ht+Je._effHeight};if(Qe&&pt)return a.autoMargin(st,Lt,{x:Je.x,y:Je.y,l:Je._width*l[tt],r:Je._width*h[tt],b:Je._effHeight*h[Ge],t:Je._effHeight*l[Ge]});Qe?st._fullLayout._reservedMargin[Lt][ct]=qe[ct]:pt||"v"===Je.orientation?st._fullLayout._reservedMargin[Lt][He]=qe[He]:st._fullLayout._reservedMargin[Lt][ct]=qe[ct]}(B,W,Oe,ze))return;if(j.margin.autoexpand){var ve=Oe,Ae=ze;Oe=Ce?A.constrain(Oe,0,j.width-$._width):ve,ze=Ie?A.constrain(ze,0,j.height-$._effHeight):Ae,Oe!==ve&&A.log("Constrain "+W+".x to make legend fit inside graph"),ze!==Ae&&A.log("Constrain "+W+".y to make legend fit inside graph")}s.setTranslate(fe,Oe,ze)}if(xe.on(".drag",null),fe.on("wheel",null),G||$._height<=$._maxHeight||B._context.staticPlot){var Le=$._effHeight;G&&(Le=$._height),ge.attr({width:$._width-Pe,height:Le-Pe,x:Pe/2,y:Pe/2}),s.setTranslate(Me,0,0),ce.select("rect").attr({width:$._width-2*Pe,height:Le-2*Pe,x:Pe,y:Pe}),s.setClipUrl(Me,N,B),s.setRect(xe,0,0,0,0),delete $._scrollY}else{var Ve,We,Xe=Math.max(r.scrollBarMinHeight,$._effHeight*$._effHeight/$._height),nt=$._effHeight-Xe-2*r.scrollBarMargin,dt=$._height-$._effHeight,ht=nt/dt,Mt=Math.min($._scrollY||0,dt);ge.attr({width:$._width-2*Pe+r.scrollBarWidth+r.scrollBarMargin,height:$._effHeight-Pe,x:Pe/2,y:Pe/2}),ce.select("rect").attr({width:$._width-2*Pe+r.scrollBarWidth+r.scrollBarMargin,height:$._effHeight-2*Pe,x:Pe,y:Pe+Mt}),s.setClipUrl(Me,N,B),ut(Mt,Xe,ht),fe.on("wheel",function(){ut(Mt=A.constrain($._scrollY+S.event.deltaY/nt*dt,0,dt),Xe,ht),0!==Mt&&Mt!==dt&&S.event.preventDefault()});var kt=S.behavior.drag().on("dragstart",function(){var st=S.event.sourceEvent;Ve="touchstart"===st.type?st.changedTouches[0].clientY:st.clientY,We=Mt}).on("drag",function(){var st=S.event.sourceEvent;2===st.buttons||st.ctrlKey||ut(Mt=A.constrain((("touchmove"===st.type?st.changedTouches[0].clientY:st.clientY)-Ve)/ht+We,0,dt),Xe,ht)});xe.call(kt);var _t=S.behavior.drag().on("dragstart",function(){var st=S.event.sourceEvent;"touchstart"===st.type&&(Ve=st.changedTouches[0].clientY,We=Mt)}).on("drag",function(){var st=S.event.sourceEvent;"touchmove"===st.type&&ut(Mt=A.constrain((Ve-st.changedTouches[0].clientY)/ht+We,0,dt),Xe,ht)});Me.call(_t)}function ut(st,Lt,Ut){$._scrollY=B._fullLayout[W]._scrollY=st,s.setTranslate(Me,0,-st),s.setRect(xe,$._width,r.scrollBarMargin+st*Ut,r.scrollBarWidth,Lt),ce.select("rect").attr("y",Pe+st)}B._context.edits.legendPosition&&(fe.classed("cursor-move",!0),d.init({element:fe.node(),gd:B,prepFn:function(){var st=s.getTranslate(fe);he=st.x,ue=st.y},moveFn:function(st,Lt){var Ut=he+st,Ht=ue+Lt;s.setTranslate(fe,Ut,Ht),Se=d.align(Ut,$._width,me.l,me.l+me.w,$.xanchor),Ee=d.align(Ht+$._height,-$._height,me.t+me.h,me.t,$.yanchor)},doneFn:function(){if(void 0!==Se&&void 0!==Ee){var st={};st[W+".x"]=Se,st[W+".y"]=Ee,M.call("_guiRelayout",B,st)}},clickFn:function(st,Lt){var Ut=H.selectAll("g.traces").filter(function(){var Ht=this.getBoundingClientRect();return Lt.clientX>=Ht.left&&Lt.clientX<=Ht.right&&Lt.clientY>=Ht.top&&Lt.clientY<=Ht.bottom});Ut.size()>0&&w(B,fe,Ut,st,Lt)}}))}],B)}}function y(B,q,N){var H=B[0],W=H.trace.legendwidth||q.entrywidth;return"fraction"===q.entrywidthmode?q._maxWidth*W:N+(W||H.width)}function w(B,q,N,H,$){var j=N.data()[0][0].trace,W={event:$,node:N.node(),curveNumber:j.index,expandedIndex:j._expandedIndex,data:B.data,layout:B.layout,frames:B._transitionData._frames,config:B._context,fullData:B._fullData,fullLayout:B._fullLayout};j._group&&(W.group=j._group),M.traceIs(j,"pie-like")&&(W.label=N.datum()[0].label);var G=_.triggerHandler(B,"plotly_legendclick",W);if(1===H){if(!1===G)return;q._clickTimeout=setTimeout(function(){B._fullLayout&&n(N,B,H)},B._context.doubleClickDelay)}else 2===H&&(q._clickTimeout&&clearTimeout(q._clickTimeout),B._legendMouseDownTime=0,!1!==_.triggerHandler(B,"plotly_legenddoubleclick",W)&&!1!==G&&n(N,B,H))}function f(B,q,N){var H,$,j=O(N),W=B.data()[0][0],G=W.trace,ae=M.traceIs(G,"pie-like"),te=!N._inHover&&q._context.edits.legendText&&!ae,Q=N._maxNameLength;W.groupTitle?(H=W.groupTitle.text,$=W.groupTitle.font):($=N.font,N.entries?H=W.text:(H=ae?W.label:G.name,G._meta&&(H=A.templateString(H,G._meta))));var ee=A.ensureSingle(B,"text",j+"text");ee.attr("text-anchor","start").call(s.font,$).text(te?C(H,Q):H),i.positionText(ee,N.indentation+N.itemwidth+2*r.itemGap,0),te?ee.call(i.makeEditable,{gd:q,text:H}).call(D,B,q,N).on("edit",function(J){this.text(C(J,Q)).call(D,B,q,N);var le=W.trace._fullInput||{},fe={};if(M.hasTransform(le,"groupby")){var ce=M.getTransformIndices(le,"groupby"),Te=A.keyedContainer(le,"transforms["+ce[ce.length-1]+"].styles","target","value.name");Te.set(W.trace._group,J),fe=Te.constructUpdate()}else fe.name=J;return le._isShape?M.call("_guiRelayout",q,"shapes["+G.index+"].name",fe.name):M.call("_guiRestyle",q,fe,G.index)}):D(ee,B,q,N)}function C(B,q){var N=Math.max(4,q);if(B&&B.trim().length>=N/2)return B;for(var H=N-(B=B||"").length;H>0;H--)B+=" ";return B}function T(B,q,N){var H,$=q._context.doubleClickDelay,j=1,W=A.ensureSingle(B,"rect",N+"toggle",function(G){q._context.staticPlot||G.style("cursor","pointer").attr("pointer-events","all"),G.call(t.fill,"rgba(0,0,0,0)")});q._context.staticPlot||(W.on("mousedown",function(){(H=(new Date).getTime())-q._legendMouseDownTime<$?j+=1:(j=1,q._legendMouseDownTime=H)}),W.on("mouseup",function(){if(!q._dragged&&!q._editing){var G=q._fullLayout[N];(new Date).getTime()-q._legendMouseDownTime>$&&(j=Math.max(j-1,1)),w(q,G,B,j,S.event)}}))}function D(B,q,N,H,$){H._inHover&&B.attr("data-notex",!0),i.convertToTspans(B,N,function(){!function(j,W,G,ae){var te=j.data()[0][0];if(G._inHover||!te||te.trace.showlegend){var Q=j.select("g[class*=math-group]"),ee=Q.node(),re=O(G);G||(G=W._fullLayout[re]);var J,le,fe=G.borderwidth,ce=(ae===m?G.title.font:te.groupTitle?te.groupTitle.font:G.font).size*u;if(ee){var ge=s.bBox(ee);J=ge.height,le=ge.width,ae===m?s.setTranslate(Q,fe,fe+.75*J):s.setTranslate(Q,0,.25*J)}else{var Me=j.select("."+re+(ae===m?"title":"")+"text"),we=i.lineCount(Me),xe=Me.node();if(J=ce*we,le=xe?s.bBox(xe).width:0,ae===m)"left"===G.title.side&&(le+=2*r.itemGap),i.positionText(Me,fe+r.titlePad,fe+ce);else{var be=2*r.itemGap+G.indentation+G.itemwidth;te.groupTitle&&(be=r.itemGap,le-=G.indentation+G.itemwidth),i.positionText(Me,be,-ce*((we-1)/2-.3))}}ae===m?(G._titleWidth=le,G._titleHeight=J):(te.lineHeight=ce,te.height=Math.max(J,16)+3,te.width=le)}else j.remove()}(q,N,H,$)})}function R(B){return A.isRightAnchor(B)?"right":A.isCenterAnchor(B)?"center":"left"}function P(B){return A.isBottomAnchor(B)?"bottom":A.isMiddleAnchor(B)?"middle":"top"}function O(B){return B._id||"legend"}ie.exports=function(B,q){if(q)x(B,q);else{var N=B._fullLayout,H=N._legends;N._infolayer.selectAll('[class^="legend"]').each(function(){var W=S.select(this),G=W.attr("class").split(" ")[0];G.match(v)&&-1===H.indexOf(G)&&W.remove()});for(var $=0;$<H.length;$++)x(B,B._fullLayout[H[$]])}}},35456:function(ie,z,e){"use strict";var S=e(24040),A=e(42451);ie.exports=function(a,M,_){var d,s,t=M._inHover,i=A.isGrouped(M),n=A.isReversed(M),r={},o=[],u=!1,l={},h=0,c=0;function b(H,$,j){if(!1!==M.visible&&(!_||H===M._id))if(""!==$&&A.isGrouped(M))-1===o.indexOf($)?(o.push($),u=!0,r[$]=[j]):r[$].push(j);else{var W="~~i"+h;o.push(W),r[W]=[j],h++}}for(d=0;d<a.length;d++){var p=a[d],m=p[0],v=m.trace,x=v.legend,y=v.legendgroup;if(t||v.visible&&v.showlegend)if(S.traceIs(v,"pie-like"))for(l[y]||(l[y]={}),s=0;s<p.length;s++){var w=p[s].label;l[y][w]||(b(x,y,{label:w,color:p[s].color,i:p[s].i,trace:v,pts:p[s].pts}),l[y][w]=!0,c=Math.max(c,(w||"").length))}else b(x,y,m),c=Math.max(c,(v.name||"").length)}if(!o.length)return[];var f=!u||!i,C=[];for(d=0;d<o.length;d++){var T=r[o[d]];C.push(f?T[0]:T)}for(f&&(C=[C]),d=0;d<C.length;d++){var D=1/0;for(s=0;s<C[d].length;s++){var R=C[d][s].trace.legendrank;D>R&&(D=R)}C[d][0]._groupMinRank=D,C[d][0]._preGroupSort=d}var P=function(H,$){return H.trace.legendrank-$.trace.legendrank||H._preSort-$._preSort};for(C.forEach(function(H,$){H[0]._preGroupSort=$}),C.sort(function(H,$){return H[0]._groupMinRank-$[0]._groupMinRank||H[0]._preGroupSort-$[0]._preGroupSort}),d=0;d<C.length;d++){C[d].forEach(function(H,$){H._preSort=$}),C[d].sort(P);var O=C[d][0].trace,B=null;for(s=0;s<C[d].length;s++){var q=C[d][s].trace.legendgrouptitle;if(q&&q.text){B=q,t&&(q.font=M._groupTitleFont);break}}if(n&&C[d].reverse(),B){var N=!1;for(s=0;s<C[d].length;s++)if(S.traceIs(C[d][s].trace,"pie-like")){N=!0;break}C[d].unshift({i:-1,groupTitle:B,noClick:N,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:"toggleitem"===M.groupclick||O.visible}})}for(s=0;s<C[d].length;s++)C[d][s]=[C[d][s]]}return M._lgroupsLength=C.length,M._maxNameLength=c,C}},33048:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=A.pushUnique,M=!0;ie.exports=function(_,d,s){var t=d._fullLayout;if(!d._dragged&&!d._editing){var i,n=t.legend.itemclick,r=t.legend.itemdoubleclick,o=t.legend.groupclick;if(1===s&&"toggle"===n&&"toggleothers"===r&&M&&d.data&&d._context.showTips&&A.notifier(A._(d,"Double-click on legend to isolate one trace"),"long"),M=!1,1===s?i=n:2===s&&(i=r),i){var u="togglegroup"===o,l=t.hiddenlabels?t.hiddenlabels.slice():[],h=_.data()[0][0];if(!h.groupTitle||!h.noClick){var c=d._fullData,b=(t.shapes||[]).filter(function(Ee){return Ee.showlegend}),p=c.concat(b),m=h.trace;m._isShape&&(m=m._fullInput);var v,x,y,w,f,C=m.legendgroup,T={},D=[],R=[],P=[],O=(t.shapes||[]).map(function(Ee){return Ee._input}),B=!1,q=m.legend,N=m._fullInput;if(N&&N._isShape||!S.traceIs(m,"pie-like")){var H,$=C&&C.length,j=[];if($)for(v=0;v<p.length;v++)(H=p[v]).visible&&H.legendgroup===C&&j.push(v);if("toggle"===i){var W;switch(m.visible){case!0:W="legendonly";break;case!1:W=!1;break;case"legendonly":W=!0}if($)if(u)for(v=0;v<p.length;v++){var G=p[v];!1!==G.visible&&G.legendgroup===C&&Se(G,W)}else Se(m,W);else Se(m,W)}else if("toggleothers"===i){var ae,te,ee,re=!0;for(v=0;v<p.length;v++)if(ae=(ee=p[v])===m,te=!0!==ee.showlegend,!(ae||te||$&&ee.legendgroup===C||ee.legend!==q||!0!==ee.visible||S.traceIs(ee,"notLegendIsolatable"))){re=!1;break}for(v=0;v<p.length;v++)if(!1!==(ee=p[v]).visible&&ee.legend===q&&!S.traceIs(ee,"notLegendIsolatable"))switch(m.visible){case"legendonly":Se(ee,!0);break;case!0:te=!0!==ee.showlegend&&!ee.legendgroup,Se(ee,!!((ae=ee===m)||$&&ee.legendgroup===C||te)||!!re||"legendonly")}}for(v=0;v<R.length;v++)if(y=R[v]){var J=y.constructUpdate(),le=Object.keys(J);for(x=0;x<le.length;x++)(T[w=le[x]]=T[w]||[])[P[v]]=J[w]}for(f=Object.keys(T),v=0;v<f.length;v++)for(w=f[v],x=0;x<D.length;x++)T[w].hasOwnProperty(x)||(T[w][x]=void 0);B?S.call("_guiUpdate",d,T,{shapes:O},D):S.call("_guiRestyle",d,T,D)}else{var fe=h.label,ce=l.indexOf(fe);if("toggle"===i)-1===ce?l.push(fe):l.splice(ce,1);else if("toggleothers"===i){var ge=-1!==ce,Te=[];for(v=0;v<d.calcdata.length;v++){var Me=d.calcdata[v];for(x=0;x<Me.length;x++){var we=Me[x].label;q===Me[0].trace.legend&&fe!==we&&(-1===l.indexOf(we)&&(ge=!0),a(l,we),Te.push(we))}}if(!ge)for(var xe=0;xe<Te.length;xe++){var be=l.indexOf(Te[xe]);-1!==be&&l.splice(be,1)}}S.call("_guiRelayout",d,"hiddenlabels",l)}}}}function ye(Ee,he){var ue=D.indexOf(Ee),me=T.visible;return me||(me=T.visible=[]),-1===D.indexOf(Ee)&&(D.push(Ee),ue=D.length-1),me[ue]=he,ue}function Se(Ee,he){if(!h.groupTitle||u){var me=Ee._fullInput||Ee,Pe=me._isShape,Ce=me.index;if(void 0===Ce&&(Ce=me._index),S.hasTransform(me,"groupby")){var Ie=R[Ce];if(!Ie){var Oe=S.getTransformIndices(me,"groupby");Ie=A.keyedContainer(me,"transforms["+Oe[Oe.length-1]+"].styles","target","value.visible"),R[Ce]=Ie}var je=Ie.get(Ee._group);void 0===je&&(je=!0),!1!==je&&Ie.set(Ee._group,he),P[Ce]=ye(Ce,!1!==me.visible)}else{var ve=!1!==me.visible&&he;Pe?(O[Ce].visible=ve,B=!0):ye(Ce,ve)}}}}},42451:function(ie,z){"use strict";z.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},z.isVertical=function(e){return"h"!==e.orientation},z.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},2780:function(ie,z,e){"use strict";ie.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(3400),M=a.strTranslate,_=e(43616),d=e(76308),s=e(94288).extractOpts,t=e(43028),i=e(10528),n=e(69656).castOption,r=e(65196);function o(h,c){return(c?"radial":"horizontal")+(h?"":"reversed")}function u(h){var c=h[0].trace,b=c.contours,p=t.hasLines(c),m=t.hasMarkers(c),v=c.visible&&c.fill&&"none"!==c.fill,x=!1,y=!1;if(b){var w=b.coloring;"lines"===w?x=!0:p="none"===w||"heatmap"===w||b.showlines,"constraint"===b.type?v="="!==b._operation:"fill"!==w&&"heatmap"!==w||(y=!0)}return{showMarker:m,showLine:p,showFill:v,showGradientLine:x,showGradientFill:y,anyLine:p||x,anyFill:v||y}}function l(h,c,b){return h&&a.isArrayOrTypedArray(h)?c:h>b?b:h}ie.exports=function(h,c,b){b||(b=c._fullLayout.legend);var m="constant"===b.itemsizing,v=b.itemwidth,y=M((v+2*r.itemGap)/2,0),w=function(T,D,R,P){var O;if(T+1)O=T;else{if(!(D&&D.width>0))return 0;O=D.width}return m?P:Math.min(O,R)};function f(T,D,R){var P=T[0].trace,O=P.marker||{},B=O.line||{},q=O.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",N=R?P.visible&&P.type===R:A.traceIs(P,"bar"),H=S.select(D).select("g.legendpoints").selectAll("path.legend"+R).data(N?[T]:[]);H.enter().append("path").classed("legend"+R,!0).attr("d",q).attr("transform",y),H.exit().remove(),H.each(function($){var j=S.select(this),W=$[0],G=w(W.mlw,O.line,5,2);j.style("stroke-width",G+"px");var ae=W.mcc;if(!b._inHover&&"mc"in W){var te=s(O),Q=te.mid;void 0===Q&&(Q=(te.max+te.min)/2),ae=_.tryColorscale(O,"")(Q)}var ee=ae||W.mc||O.color,re=O.pattern,J=re&&_.getPatternAttr(re.shape,0,"");if(J){var le=_.getPatternAttr(re.bgcolor,0,null),fe=_.getPatternAttr(re.fgcolor,0,null),ce=re.fgopacity,ge=l(re.size,8,10),Te=l(re.solidity,.5,1);j.call(_.pattern,"legend",c,"legend-"+P.uid,J,ge,Te,ae,re.fillmode,le,fe,ce)}else j.call(d.fill,ee);G&&d.stroke(j,W.mlc||B.color)})}function C(T,D,R){var P=T[0],O=P.trace,B=R?O.visible&&O.type===R:A.traceIs(O,R),q=S.select(D).select("g.legendpoints").selectAll("path.legend"+R).data(B?[T]:[]);if(q.enter().append("path").classed("legend"+R,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",y),q.exit().remove(),q.size()){var N=O.marker||{},H=w(n(N.line.width,P.pts),N.line,5,2),$="pieLike",j=a.minExtend(O,{marker:{line:{width:H}}},$),W=a.minExtend(P,{trace:j},$);i(q,W,j,c)}}h.each(function(T){var D=S.select(this),R=a.ensureSingle(D,"g","layers");R.style("opacity",T[0].trace.opacity);var O=b.valign,B=T[0].lineHeight,q=T[0].height;R.attr("transform","middle"===O&&0===b.indentation||!B||!q?null:M(b.indentation,{top:1,bottom:-1}[O]*(.5*(B-q+3))||0)),R.selectAll("g.legendfill").data([T]).enter().append("g").classed("legendfill",!0),R.selectAll("g.legendlines").data([T]).enter().append("g").classed("legendlines",!0);var $=R.selectAll("g.legendsymbols").data([T]);$.enter().append("g").classed("legendsymbols",!0),$.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(function(T){var D,R=T[0].trace,P=[];if(R.visible)switch(R.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],D=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],D=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],D="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],D=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],D=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],D=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],D=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],D=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],D=!1}var O=S.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);O.enter().append("path").classed("legend3dandfriends",!0).attr("transform",y).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(B,q){var N,H=S.select(this),$=s(R),j=$.colorscale,W=$.reversescale;if(j){if(!D){var G=j.length;N=0===q?j[W?G-1:0][1]:1===q?j[W?0:G-1][1]:j[Math.floor((G-1)/2)][1]}}else{var ae=R.vertexcolor||R.facecolor||R.color;N=a.isArrayOrTypedArray(ae)?ae[q]||ae[0]:ae}H.attr("d",B[0]),N?H.call(d.fill,N):H.call(function(te){te.size()&&_.gradient(te,c,"legendfill-"+R.uid,o(W,"radial"===D),j,"fill")})})}).each(function(T){var D=T[0].trace,R="waterfall"===D.type;if(T[0]._distinct&&R){var P=T[0].trace[T[0].dir].marker;return T[0].mc=P.color,T[0].mlw=P.line.width,T[0].mlc=P.line.color,f(T,this,"waterfall")}var O=[];D.visible&&R&&(O=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var B=S.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(O);B.enter().append("path").classed("legendwaterfall",!0).attr("transform",y).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(q){var N=S.select(this),H=D[q[0]].marker,$=w(void 0,H.line,5,2);N.attr("d",q[1]).style("stroke-width",$+"px").call(d.fill,H.color),$&&N.call(d.stroke,H.line.color)})}).each(function(T){f(T,this,"funnel")}).each(function(T){f(T,this)}).each(function(T){var D=T[0].trace,R=S.select(this).select("g.legendpoints").selectAll("path.legendbox").data(D.visible&&A.traceIs(D,"box-violin")?[T]:[]);R.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",y),R.exit().remove(),R.each(function(){var P=S.select(this);if("all"!==D.boxpoints&&"all"!==D.points||0!==d.opacity(D.fillcolor)||0!==d.opacity((D.line||{}).color)){var O=w(void 0,D.line,5,2);P.style("stroke-width",O+"px").call(d.fill,D.fillcolor),O&&d.stroke(P,D.line.color)}else{var B=a.minExtend(D,{marker:{size:m?12:a.constrain(D.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});R.call(_.pointStyle,B,c)}})}).each(function(T){C(T,this,"funnelarea")}).each(function(T){C(T,this,"pie")}).each(function(T){var D,R,P=u(T),O=P.showFill,B=P.showLine,q=P.showGradientLine,N=P.showGradientFill,H=P.anyFill,$=P.anyLine,j=T[0],W=j.trace,G=s(W),ae=G.colorscale,te=G.reversescale,Q=t.hasMarkers(W)||!H?"M5,0":$?"M5,-2":"M5,-3",ee=S.select(this),re=ee.select(".legendfill").selectAll("path").data(O||N?[T]:[]);if(re.enter().append("path").classed("js-fill",!0),re.exit().remove(),re.attr("d",Q+"h"+v+"v6h-"+v+"z").call(function(fe){fe.size()&&(O?_.fillGroupStyle(fe,c,!0):_.gradient(fe,c,"legendfill-"+W.uid,o(te),ae,"fill"))}),B||q){var J=w(void 0,W.line,10,5);R=a.minExtend(W,{line:{width:J}}),D=[a.minExtend(j,{trace:R})]}var le=ee.select(".legendlines").selectAll("path").data(B||q?[D]:[]);le.enter().append("path").classed("js-line",!0),le.exit().remove(),le.attr("d",Q+(q?"l"+v+",0.0001":"h"+v)).call(B?_.lineGroupStyle:function(fe){if(fe.size()){var ce="legendline-"+W.uid;_.lineGroupStyle(fe),_.gradient(fe,c,ce,o(te),ae,"stroke")}})}).each(function(T){var D,R,P=u(T),q=P.showLine,N=P.showMarker,H=T[0],$=H.trace,j=!N&&!P.anyLine&&!P.anyFill&&t.hasText($);function W(le,fe,ce,ge){var Te=a.nestedProperty($,le).get(),Me=a.isArrayOrTypedArray(Te)&&fe?fe(Te):Te;if(m&&Me&&void 0!==ge&&(Me=ge),ce){if(Me<ce[0])return ce[0];if(Me>ce[1])return ce[1]}return Me}function G(le){return H._distinct&&H.index&&le[H.index]?le[H.index]:le[0]}if(N||j||q){var ae={},te={};if(N){ae.mc=W("marker.color",G),ae.mx=W("marker.symbol",G),ae.mo=W("marker.opacity",a.mean,[.2,1]),ae.mlc=W("marker.line.color",G),ae.mlw=W("marker.line.width",a.mean,[0,5],2),te.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Q=W("marker.size",a.mean,[2,16],12);ae.ms=Q,te.marker.size=Q}q&&(te.line={width:W("line.width",G,[0,10],5)}),j&&(ae.tx="Aa",ae.tp=W("textposition",G),ae.ts=10,ae.tc=W("textfont.color",G),ae.tf=W("textfont.family",G),ae.tw=W("textfont.weight",G),ae.ty=W("textfont.style",G),ae.tv=W("textfont.variant",G)),D=[a.minExtend(H,ae)],(R=a.minExtend($,te)).selectedpoints=null,R.texttemplate=null}var ee=S.select(this).select("g.legendpoints"),re=ee.selectAll("path.scatterpts").data(N?D:[]);re.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",y),re.exit().remove(),re.call(_.pointStyle,R,c),N&&(D[0].mrc=3);var J=ee.selectAll("g.pointtext").data(j?D:[]);J.enter().append("g").classed("pointtext",!0).append("text").attr("transform",y),J.exit().remove(),J.selectAll("text").call(_.textPointStyle,R,c)}).each(function(T){var D=T[0].trace,R=S.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(D.visible&&"candlestick"===D.type?[T,T]:[]);R.enter().append("path").classed("legendcandle",!0).attr("d",function(P,O){return O?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",y).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(P,O){var B=S.select(this),q=D[O?"increasing":"decreasing"],N=w(void 0,q.line,5,2);B.style("stroke-width",N+"px").call(d.fill,q.fillcolor),N&&d.stroke(B,q.line.color)})}).each(function(T){var D=T[0].trace,R=S.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(D.visible&&"ohlc"===D.type?[T,T]:[]);R.enter().append("path").classed("legendohlc",!0).attr("d",function(P,O){return O?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",y).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(P,O){var B=S.select(this),q=D[O?"increasing":"decreasing"],N=w(void 0,q.line,5,2);B.style("fill","none").call(_.dashLine,q.line.dash,N),N&&d.stroke(B,q.line.color)})})}},66540:function(ie,z,e){"use strict";e(76052),ie.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(ie,z,e){"use strict";var S=e(24040),A=e(7316),a=e(79811),M=e(9224),_=e(4016).eraseActiveShape,d=e(3400),s=d._,t=ie.exports={};function i(p,m){var v,x,y=m.currentTarget,w=y.getAttribute("data-attr"),f=y.getAttribute("data-val")||!0,C=p._fullLayout,T={},D=a.list(p,null,!0),R=C._cartesianSpikesEnabled;if("zoom"===w){var P,O="in"===f?.5:2,B=(1+O)/2,q=(1-O)/2;for(x=0;x<D.length;x++)if(!(v=D[x]).fixedrange)if(P=v._name,"auto"===f)T[P+".autorange"]=!0;else if("reset"===f)void 0===v._rangeInitial0&&void 0===v._rangeInitial1?T[P+".autorange"]=!0:void 0===v._rangeInitial0?(T[P+".autorange"]=v._autorangeInitial,T[P+".range"]=[null,v._rangeInitial1]):void 0===v._rangeInitial1?(T[P+".range"]=[v._rangeInitial0,null],T[P+".autorange"]=v._autorangeInitial):T[P+".range"]=[v._rangeInitial0,v._rangeInitial1],void 0!==v._showSpikeInitial&&(T[P+".showspikes"]=v._showSpikeInitial,"on"!==R||v._showSpikeInitial||(R="off"));else{var N=[v.r2l(v.range[0]),v.r2l(v.range[1])],H=[B*N[0]+q*N[1],B*N[1]+q*N[0]];T[P+".range[0]"]=v.l2r(H[0]),T[P+".range[1]"]=v.l2r(H[1])}}else"hovermode"!==w||"x"!==f&&"y"!==f||y.setAttribute("data-val",f=C._isHoriz?"y":"x"),T[w]=f;C._cartesianSpikesEnabled=R,S.call("_guiRelayout",p,T)}function n(p,m){for(var v=m.currentTarget,x=v.getAttribute("data-attr"),y=v.getAttribute("data-val")||!0,w=p._fullLayout._subplots.gl3d||[],f={},C=x.split("."),T=0;T<w.length;T++)f[w[T]+"."+C[1]]=y;f.dragmode="pan"===y?y:"zoom",S.call("_guiRelayout",p,f)}function r(p,m){for(var v=m.currentTarget.getAttribute("data-attr"),x="resetLastSave"===v,y="resetDefault"===v,w=p._fullLayout,f=w._subplots.gl3d||[],C={},T=0;T<f.length;T++){var D,R=f[T],P=R+".camera",O=R+".aspectratio",B=R+".aspectmode",q=w[R]._scene;x?(C[P+".up"]=q.viewInitial.up,C[P+".eye"]=q.viewInitial.eye,C[P+".center"]=q.viewInitial.center,D=!0):y&&(C[P+".up"]=null,C[P+".eye"]=null,C[P+".center"]=null,D=!0),D&&(C[O+".x"]=q.viewInitial.aspectratio.x,C[O+".y"]=q.viewInitial.aspectratio.y,C[O+".z"]=q.viewInitial.aspectratio.z,C[B]=q.viewInitial.aspectmode)}S.call("_guiRelayout",p,C)}function o(p,m){var v=m.currentTarget,x=v._previousVal,y=p._fullLayout,w=y._subplots.gl3d||[],f=["xaxis","yaxis","zaxis"],C={},T={};if(x)T=x,v._previousVal=null;else{for(var D=0;D<w.length;D++){var R=w[D],P=y[R],O=R+".hovermode";C[O]=P.hovermode,T[O]=!1;for(var B=0;B<3;B++){var q=f[B],N=R+"."+q+".showspikes";T[N]=!1,C[N]=P[q].showspikes}}v._previousVal=C}return T}function u(p,m){for(var v=m.currentTarget,x=v.getAttribute("data-attr"),y=v.getAttribute("data-val")||!0,w=p._fullLayout,f=w._subplots.geo||[],C=0;C<f.length;C++){var T=f[C];if("zoom"===x){var R=w[T].projection.scale;S.call("_guiRelayout",p,T+".projection.scale","in"===y?2*R:.5*R)}}"reset"===x&&b(p,"geo")}function l(p){var m=p._fullLayout;return!m.hovermode&&(m._has("cartesian")?m._isHoriz?"y":"x":"closest")}function h(p){var m=l(p);S.call("_guiRelayout",p,"hovermode",m)}function c(p,m){for(var v=m.currentTarget.getAttribute("data-val"),x=p._fullLayout,y=x._subplots.mapbox||[],w={},f=0;f<y.length;f++){var C=y[f],T=x[C].zoom;w[C+".zoom"]="in"===v?1.05*T:T/1.05}S.call("_guiRelayout",p,w)}function b(p,m){for(var v=p._fullLayout,x=v._subplots[m]||[],y={},w=0;w<x.length;w++)for(var f=x[w],C=v[f]._subplot.viewInitial,T=Object.keys(C),D=0;D<T.length;D++){var R=T[D];y[f+"."+R]=C[R]}S.call("_guiRelayout",p,y)}t.toImage={name:"toImage",title:function(p){return s(p,"png"===((p._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:M.camera,click:function(p){var m=p._context.toImageButtonOptions,v={format:m.format||"png"};d.notifier(s(p,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==v.format&&d.isIE()&&(d.notifier(s(p,"IE only supports svg.  Changing format to svg."),"long"),v.format="svg"),["filename","width","height","scale"].forEach(function(x){x in m&&(v[x]=m[x])}),S.call("downloadImage",p,v).then(function(x){d.notifier(s(p,"Snapshot succeeded")+" - "+x,"long")}).catch(function(){d.notifier(s(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(p){return s(p,"Edit in Chart Studio")},icon:M.disk,click:function(p){A.sendDataToCloud(p)}},t.editInChartStudio={name:"editInChartStudio",title:function(p){return s(p,"Edit in Chart Studio")},icon:M.pencil,click:function(p){A.sendDataToCloud(p)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return s(p,"Zoom")},attr:"dragmode",val:"zoom",icon:M.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(p){return s(p,"Pan")},attr:"dragmode",val:"pan",icon:M.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(p){return s(p,"Box Select")},attr:"dragmode",val:"select",icon:M.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return s(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:M.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(p){return s(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:M.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(p){return s(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:M.drawopenpath,click:i},t.drawline={name:"drawline",title:function(p){return s(p,"Draw line")},attr:"dragmode",val:"drawline",icon:M.drawline,click:i},t.drawrect={name:"drawrect",title:function(p){return s(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:M.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(p){return s(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:M.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(p){return s(p,"Erase active shape")},icon:M.eraseshape,click:_},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return s(p,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return s(p,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return s(p,"Autoscale")},attr:"zoom",val:"auto",icon:M.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return s(p,"Reset axes")},attr:"zoom",val:"reset",icon:M.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return s(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:M.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return s(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:M.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return s(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:M.zoombox,click:n},t.pan3d={name:"pan3d",_cat:"pan",title:function(p){return s(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:M.pan,click:n},t.orbitRotation={name:"orbitRotation",title:function(p){return s(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:M["3d_rotate"],click:n},t.tableRotation={name:"tableRotation",title:function(p){return s(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:M["z-axis"],click:n},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return s(p,"Reset camera to default")},attr:"resetDefault",icon:M.home,click:r},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return s(p,"Reset camera to last save")},attr:"resetLastSave",icon:M.movie,click:r},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:function(p,m){var v=o(p,m);S.call("_guiRelayout",p,v)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return s(p,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:u},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return s(p,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:u},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return s(p,"Reset")},attr:"reset",val:null,icon:M.autoscale,click:u},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:h},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:h},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:M.tooltip_basic,gravity:"ne",click:h},t.resetViewSankey={name:"resetSankeyGroup",title:function(p){return s(p,"Reset view")},icon:M.home,click:function(p){for(var m={"node.groups":[],"node.x":[],"node.y":[]},v=0;v<p._fullData.length;v++){var x=p._fullData[v]._viewInitial;m["node.groups"].push(x.node.groups.slice()),m["node.x"].push(x.node.x.slice()),m["node.y"].push(x.node.y.slice())}S.call("restyle",p,m)}},t.toggleHover={name:"toggleHover",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:function(p,m){var v=o(p,m);v.hovermode=l(p),S.call("_guiRelayout",p,v)}},t.resetViews={name:"resetViews",title:function(p){return s(p,"Reset views")},icon:M.home,click:function(p,m){var v=m.currentTarget;v.setAttribute("data-attr","zoom"),v.setAttribute("data-val","reset"),i(p,m),v.setAttribute("data-attr","resetLastSave"),r(p,m),b(p,"geo"),b(p,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(p){return s(p,"Toggle Spike Lines")},icon:M.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var m=p._fullLayout;m._cartesianSpikesEnabled="on"===m._cartesianSpikesEnabled?"off":"on",S.call("_guiRelayout",p,function(x){for(var y="on"===x._fullLayout._cartesianSpikesEnabled,w=a.list(x,null,!0),f={},C=0;C<w.length;C++){var T=w[C];f[T._name+".showspikes"]=!!y||T._showSpikeInitial}return f}(p))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return s(p,"Reset view")},attr:"reset",icon:M.home,click:function(p){b(p,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return s(p,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return s(p,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:c}},76052:function(ie,z,e){"use strict";var S=e(44248),A=Object.keys(S),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],M=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),_=[];A.forEach(function(d){!function(s){if(-1===M.indexOf(s._cat||s.name)){var t=s.name,i=(s._cat||s.name).toLowerCase();-1===_.indexOf(t)&&_.push(t),-1===_.indexOf(i)&&_.push(i)}}(S[d])}),_.sort(),ie.exports={DRAW_MODES:a,backButtons:M,foreButtons:_}},90824:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(31780),M=e(66540);ie.exports=function(_,d){var s=_.modebar||{},t=a.newContainer(d,"modebar");function i(r,o){return S.coerce(s,t,M,r,o)}i("orientation"),i("bgcolor",A.addOpacity(d.paper_bgcolor,.5));var n=A.contrast(A.rgb(d.modebar.bgcolor));i("color",A.addOpacity(n,.3)),i("activecolor",A.addOpacity(n,.7)),i("uirevision",d.uirevision),i("add"),i("remove")}},45460:function(ie,z,e){"use strict";ie.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(ie,z,e){"use strict";var S=e(79811),A=e(43028),a=e(24040),M=e(10624).isUnifiedHover,_=e(66400),d=e(44248),s=e(76052).DRAW_MODES,t=e(3400).extendDeep;ie.exports=function(i){var n=i._fullLayout,r=i._context,o=n._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,l=r.modeBarButtons;u=Array.isArray(l)&&l.length?function(h){for(var c=t([],h),b=0;b<c.length;b++)for(var p=c[b],m=0;m<p.length;m++){var v=p[m];if("string"==typeof v){if(void 0===d[v])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[b][m]=d[v]}}return c}(l):!r.displayModeBar&&r.watermark?[]:function(h){var c=h._fullLayout,b=h._fullData,p=h._context;function m(Te,Me){if("string"==typeof Me){if(Me.toLowerCase()===Te.toLowerCase())return!0}else if(Me.name===Te||(Me._cat||Me.name)===Te.toLowerCase())return!0;return!1}var v=c.modebar.add;"string"==typeof v&&(v=[v]);var x=c.modebar.remove;"string"==typeof x&&(x=[x]);var y=p.modeBarButtonsToAdd.concat(v.filter(function(Te){for(var Me=0;Me<p.modeBarButtonsToRemove.length;Me++)if(m(Te,p.modeBarButtonsToRemove[Me]))return!1;return!0})),w=p.modeBarButtonsToRemove.concat(x.filter(function(Te){for(var Me=0;Me<p.modeBarButtonsToAdd.length;Me++)if(m(Te,p.modeBarButtonsToAdd[Me]))return!1;return!0})),f=c._has("cartesian"),C=c._has("gl3d"),T=c._has("geo"),D=c._has("pie"),R=c._has("funnelarea"),P=c._has("gl2d"),O=c._has("ternary"),B=c._has("mapbox"),q=c._has("polar"),N=c._has("smith"),H=c._has("sankey"),$=function(Te){for(var Me=S.list({_fullLayout:Te},null,!0),we=0;we<Me.length;we++)if(!Me[we].fixedrange)return!1;return!0}(c),j=M(c.hovermode),W=[];function G(Te){if(Te.length){for(var Me=[],we=0;we<Te.length;we++){for(var xe=Te[we],be=d[xe],ye=be.name.toLowerCase(),Se=(be._cat||be.name).toLowerCase(),Ee=!1,he=0;he<w.length;he++){var ue=w[he].toLowerCase();if(ue===ye||ue===Se){Ee=!0;break}}Ee||Me.push(d[xe])}W.push(Me)}}var ae=["toImage"];p.showEditInChartStudio?ae.push("editInChartStudio"):p.showSendToCloud&&ae.push("sendDataToCloud"),G(ae);var te=[],Q=[],ee=[],re=[];(f||P||D||R||O)+T+C+B+q+N>1?(Q=["toggleHover"],ee=["resetViews"]):T?(te=["zoomInGeo","zoomOutGeo"],Q=["hoverClosestGeo"],ee=["resetGeo"]):C?(Q=["hoverClosest3d"],ee=["resetCameraDefault3d","resetCameraLastSave3d"]):B?(te=["zoomInMapbox","zoomOutMapbox"],Q=["toggleHover"],ee=["resetViewMapbox"]):P?Q=["hoverClosestGl2d"]:D?Q=["hoverClosestPie"]:H?(Q=["hoverClosestCartesian","hoverCompareCartesian"],ee=["resetViewSankey"]):Q=["toggleHover"],f&&(Q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(Te){for(var Me=0;Me<Te.length;Me++)if(!a.traceIs(Te[Me],"noHover"))return!1;return!0}(b)||j)&&(Q=[]),!f&&!P||$||(te=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==ee[0]&&(ee=["resetScale2d"])),C?re=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||P)&&!$||O?re=["zoom2d","pan2d"]:B||T?re=["pan2d"]:q&&(re=["zoom2d"]),function(Te){for(var Me=!1,we=0;we<Te.length&&!Me;we++){var xe=Te[we];xe._module&&xe._module.selectPoints&&(a.traceIs(xe,"scatter-like")?(A.hasMarkers(xe)||A.hasText(xe))&&(Me=!0):a.traceIs(xe,"box-violin")&&"all"!==xe.boxpoints&&"all"!==xe.points||(Me=!0))}return Me}(b)&&re.push("select2d","lasso2d");var J=[],le=function(Te){-1===J.indexOf(Te)&&-1!==Q.indexOf(Te)&&J.push(Te)};if(Array.isArray(y)){for(var fe=[],ce=0;ce<y.length;ce++){var ge=y[ce];"string"==typeof ge?(ge=ge.toLowerCase(),-1!==s.indexOf(ge)?(c._has("mapbox")||c._has("cartesian"))&&re.push(ge):"togglespikelines"===ge?le("toggleSpikelines"):"togglehover"===ge?le("toggleHover"):"hovercompare"===ge?le("hoverCompareCartesian"):"hoverclosest"===ge?(le("hoverClosestCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie")):"v1hovermode"===ge&&(le("toggleHover"),le("hoverClosestCartesian"),le("hoverCompareCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie"))):fe.push(ge)}y=fe}return G(re),G(te.concat(ee)),G(J),function(Te,Me){if(Me.length)if(Array.isArray(Me[0]))for(var we=0;we<Me.length;we++)Te.push(Me[we]);else Te.push(Me);return Te}(W,y)}(i),o?o.update(i,u):n._modeBar=_(i,u)}else o&&(o.destroy(),delete n._modeBar)}},66400:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(3400),M=e(9224),_=e(25788).version,d=new DOMParser;function s(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=s.prototype;t.update=function(i,n){this.graphInfo=i;var r=this.graphInfo._context,o=this.graphInfo._fullLayout,u="modebar-"+o._uid;this.element.setAttribute("id",u),this._uid=u,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===o.modebar.orientation&&(this.element.className+=" vertical",n=n.reverse());var l=o.modebar,h="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(u),a.addRelatedStyleRule(u,h+"#"+u+" .modebar-group","background-color: "+l.bgcolor),a.addRelatedStyleRule(u,"#"+u+" .modebar-btn .icon path","fill: "+l.color),a.addRelatedStyleRule(u,"#"+u+" .modebar-btn:hover .icon path","fill: "+l.activecolor),a.addRelatedStyleRule(u,"#"+u+" .modebar-btn.active .icon path","fill: "+l.activecolor);var c=!this.hasButtons(n),b=this.hasLogo!==r.displaylogo,p=this.locale!==r.locale;if(this.locale=r.locale,(c||b||p)&&(this.removeAllButtons(),this.updateButtons(n),r.watermark||r.displaylogo)){var m=this.getLogo();r.watermark&&(m.className=m.className+" watermark"),"v"===o.modebar.orientation?this.element.insertBefore(m,this.element.childNodes[0]):this.element.appendChild(m),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var n=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(r){var o=n.createGroup();r.forEach(function(u){var l=u.name;if(!l)throw new Error("must provide button 'name' in button config");if(-1!==n.buttonsNames.indexOf(l))throw new Error("button name '"+l+"' is taken");n.buttonsNames.push(l);var h=n.createButton(u);n.buttonElements.push(h),o.appendChild(h)}),n.element.appendChild(o)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var n=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var o=i.title;void 0===o?o=i.name:"function"==typeof o&&(o=o(this.graphInfo)),(o||0===o)&&r.setAttribute("data-title",o),void 0!==i.attr&&r.setAttribute("data-attr",i.attr);var u=i.val;if(void 0!==u&&("function"==typeof u&&(u=u(this.graphInfo)),r.setAttribute("data-val",u)),"function"!=typeof i.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(h){i.click(n.graphInfo,h),n.updateActiveButton(h.currentTarget)}),r.setAttribute("data-toggle",i.toggle||!1),i.toggle&&S.select(r).classed("active",!0);var l=i.icon;return r.appendChild("function"==typeof l?l():this.createIcon(l||M.question)),r.setAttribute("data-gravity",i.gravity||"n"),r},t.createIcon=function(i){var n,r=A(i.height)?Number(i.height):i.ascent-i.descent,o="http://www.w3.org/2000/svg";if(i.path){(n=document.createElementNS(o,"svg")).setAttribute("viewBox",[0,0,i.width,r].join(" ")),n.setAttribute("class","icon");var u=document.createElementNS(o,"path");u.setAttribute("d",i.path),i.transform?u.setAttribute("transform",i.transform):void 0!==i.ascent&&u.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),n.appendChild(u)}return i.svg&&(n=d.parseFromString(i.svg,"application/xml").childNodes[0]),n.setAttribute("height","1em"),n.setAttribute("width","1em"),n},t.updateActiveButton=function(i){var n=this.graphInfo._fullLayout,r=void 0!==i?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(o){var u=o.getAttribute("data-val")||!0,l=o.getAttribute("data-attr"),h="true"===o.getAttribute("data-toggle"),c=S.select(o);if(h)l===r&&c.classed("active",!c.classed("active"));else{var b=null===l?l:a.nestedProperty(n,l).get();c.classed("active",b===u)}})},t.hasButtons=function(i){var n=this.buttons;if(!n||i.length!==n.length)return!1;for(var r=0;r<i.length;++r){if(i[r].length!==n[r].length)return!1;for(var o=0;o<i[r].length;o++)if(i[r][o].name!==n[r][o].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),n=document.createElement("a");return n.href="https://plotly.com/",n.target="_blank",n.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+_+")"),n.className="modebar-btn plotlyjsicon modebar-btn--logo",n.appendChild(this.createIcon(M.newplotlylogo)),i.appendChild(n),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},ie.exports=function(i,n){var r=i._fullLayout,o=new s({graphInfo:i,container:r._modebardiv.node(),buttons:n});return r._privateplot&&S.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},26680:function(ie,z,e){"use strict";var S=e(25376),A=e(22548),a=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ie.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:S({editType:"plot"}),bgcolor:{valType:"color",dflt:A.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(ie){"use strict";ie.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(31780),M=e(51272),_=e(26680),d=e(85984);function s(t,i,n,r){var o=r.calendar;function u(h,c){return S.coerce(t,i,_.buttons,h,c)}if(u("visible")){var l=u("step");"all"!==l&&(!o||"gregorian"===o||"month"!==l&&"year"!==l?u("stepmode"):i.stepmode="backward",u("count")),u("label")}}ie.exports=function(t,i,n,r,o){var u=t.rangeselector||{},l=a.newContainer(i,"rangeselector");function h(p,m){return S.coerce(u,l,_,p,m)}if(h("visible",M(u,l,{name:"buttons",handleItemDefaults:s,calendar:o}).length>0)){var c=function(p,m,v){for(var x=v.filter(function(C){return m[C].anchor===p._id}),y=0,w=0;w<x.length;w++){var f=m[x[w]].domain;f&&(y=Math.max(f[1],y))}return[p.domain[0],y+d.yPad]}(i,n,r);h("x",c[0]),h("y",c[1]),S.noneOrAll(t,i,["x","y"]),h("xanchor"),h("yanchor"),S.coerceFont(h,"font",n.font);var b=h("bgcolor");h("activecolor",A.contrast(b,d.lightAmount,d.darkAmount)),h("bordercolor"),h("borderwidth")}}},50216:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(7316),M=e(76308),_=e(43616),d=e(3400),s=d.strTranslate,t=e(72736),i=e(79811),n=e(84284),r=n.LINE_SPACING,o=n.FROM_TL,u=n.FROM_BR,l=e(85984),h=e(48040);function c(m){return m._id}function b(m,v,x){var w,f,y=d.ensureSingle(m,"rect","selector-rect",function(w){w.attr("shape-rendering","crispEdges")});y.attr({rx:l.rx,ry:l.ry}),y.call(M.stroke,v.bordercolor).call(M.fill,(w=v,f=x,f._isActive||f._isHovered?w.activecolor:w.bgcolor)).style("stroke-width",v.borderwidth+"px")}function p(m,v,x,y){var w,f;d.ensureSingle(m,"text","selector-text",function(C){C.attr("text-anchor","middle")}).call(_.font,v.font).text((w=x,f=y._fullLayout._meta,w.label?f?d.templateString(w.label,f):w.label:"all"===w.step?"all":w.count+w.step.charAt(0))).call(function(C){t.convertToTspans(C,y)})}ie.exports=function(m){var v=m._fullLayout._infolayer.selectAll(".rangeselector").data(function(x){for(var y=i.list(x,"x",!0),w=[],f=0;f<y.length;f++){var C=y[f];C.rangeselector&&C.rangeselector.visible&&w.push(C)}return w}(m),c);v.enter().append("g").classed("rangeselector",!0),v.exit().remove(),v.style({cursor:"pointer","pointer-events":"all"}),v.each(function(x){var y=S.select(this),w=x,f=w.rangeselector,C=y.selectAll("g.button").data(d.filterVisible(f.buttons));C.enter().append("g").classed("button",!0),C.exit().remove(),C.each(function(T){var D=S.select(this),R=h(w,T);T._isActive=function(P,O,B){if("all"===O.step)return!0===P.autorange;var q=Object.keys(B);return P.range[0]===B[q[0]]&&P.range[1]===B[q[1]]}(w,T,R),D.call(b,f,T),D.call(p,f,T,m),D.on("click",function(){m._dragged||A.call("_guiRelayout",m,R)}),D.on("mouseover",function(){T._isHovered=!0,D.call(b,f,T)}),D.on("mouseout",function(){T._isHovered=!1,D.call(b,f,T)})}),function(T,D,R,P,O){var B=0,q=0,N=R.borderwidth;D.each(function(){var ae=S.select(this).select(".selector-text"),Q=Math.max(R.font.size*r*t.lineCount(ae),16)+3;q=Math.max(q,Q)}),D.each(function(){var ae=S.select(this),te=ae.select(".selector-rect"),Q=ae.select(".selector-text"),ee=Q.node()&&_.bBox(Q.node()).width,re=R.font.size*r,J=t.lineCount(Q),le=Math.max(ee+10,l.minButtonWidth);ae.attr("transform",s(N+B,N)),te.attr({x:0,y:0,width:le,height:q}),t.positionText(Q,le/2,q/2-(J-1)*re/2+3),B+=le+5});var H=T._fullLayout._size,$=H.l+H.w*R.x,j=H.t+H.h*(1-R.y),W="left";d.isRightAnchor(R)&&($-=B,W="right"),d.isCenterAnchor(R)&&($-=B/2,W="center");var G="top";d.isBottomAnchor(R)&&(j-=q,G="bottom"),d.isMiddleAnchor(R)&&(j-=q/2,G="middle"),B=Math.ceil(B),q=Math.ceil(q),$=Math.round($),j=Math.round(j),a.autoMargin(T,P+"-range-selector",{x:R.x,y:R.y,l:B*o[W],r:B*u[W],b:q*u[G],t:q*o[G]}),O.attr("transform",s($,j))}(m,C,f,w._name,y)})}},48040:function(ie,z,e){"use strict";var S=e(73220),A=e(3400).titleCase;ie.exports=function(a,M){var _=a._name,d={};if("all"===M.step)d[_+".autorange"]=!0;else{var s=function(t,i){var n,r=t.range,o=new Date(t.r2l(r[1])),l=S["utc"+A(i.step)],h=i.count;switch(i.stepmode){case"backward":n=t.l2r(+l.offset(o,-h));break;case"todate":var c=l.offset(o,-h);n=t.l2r(+l.ceil(c))}return[n,r[1]]}(a,M);d[_+".range[0]"]=s[0],d[_+".range[1]"]=s[1]}return d}},41152:function(ie,z,e){"use strict";ie.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(ie,z,e){"use strict";var S=e(22548);ie.exports={bgcolor:{valType:"color",dflt:S.background,editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(ie,z,e){"use strict";var S=e(79811).list,A=e(19280).getAutoRange,a=e(74636);ie.exports=function(M){for(var _=S(M,"x",!0),d=0;d<_.length;d++){var s=_[d],t=s[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=A(M,s))}}},74636:function(ie){"use strict";ie.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(ie,z,e){"use strict";var S=e(3400),A=e(31780),a=e(79811),M=e(11200),_=e(10936);ie.exports=function(d,s,t){var i=d[t],n=s[t];if(i.rangeslider||s._requestRangeslider[n._id]){S.isPlainObject(i.rangeslider)||(i.rangeslider={});var r,o,u=i.rangeslider,l=A.newContainer(n,"rangeslider");if(y("visible")){y("bgcolor",s.plot_bgcolor),y("bordercolor"),y("borderwidth"),y("thickness"),y("autorange",!n.isValidRange(u.range)),y("range");var h=s._subplots;if(h)for(var c=h.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===a.name2id(t)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),b=S.simpleMap(c,a.id2name),p=0;p<b.length;p++){var m=b[p];r=u[m]||{},o=A.newContainer(l,m,"yaxis");var v,x=s[m];r.range&&x.isValidRange(r.range)&&(v="fixed"),"match"!==w("rangemode",v)&&w("range",x.range.slice())}l._input=u}}function y(f,C){return S.coerce(u,l,M,f,C)}function w(f,C){return S.coerce(r,o,_,f,C)}}},20060:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(7316),M=e(3400),_=M.strTranslate,d=e(43616),s=e(76308),t=e(81668),i=e(57952),n=e(79811),r=e(86476),o=e(93972),u=e(74636);function l(x){return"number"==typeof x.clientX?x.clientX:x.touches&&x.touches.length>0?x.touches[0].clientX:0}function h(x,y,w,f){var C=M.ensureSingle(x,"rect",u.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),T=f.borderwidth%2==0?f.borderwidth:f.borderwidth-1,D=-f._offsetShift,R=d.crispRound(y,f.borderwidth);C.attr({width:f._width+T,height:f._height+T,transform:_(D,D),"stroke-width":R}).call(s.stroke,f.bordercolor).call(s.fill,f.bgcolor)}function c(x,y,w,f){M.ensureSingleById(y._fullLayout._topdefs,"clipPath",f._clipId,function(T){T.append("rect").attr({x:0,y:0})}).select("rect").attr({width:f._width,height:f._height})}function b(x,y,w,f){var C,T=y.calcdata,D=x.selectAll("g."+u.rangePlotClassName).data(w._subplotsWith,M.identity);D.enter().append("g").attr("class",function(R){return u.rangePlotClassName+" "+R}).call(d.setClipUrl,f._clipId,y),D.order(),D.exit().remove(),D.each(function(R,P){var O=S.select(this),B=0===P,q=n.getFromId(y,R,"y"),N=q._name,H=f[N],$={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:f.range.slice(),calendar:w.calendar},width:f._width,height:f._height,margin:{t:0,b:0,l:0,r:0}},_context:y._context};w.rangebreaks&&($.layout.xaxis.rangebreaks=w.rangebreaks),$.layout[N]={type:q.type,domain:[0,1],range:"match"!==H.rangemode?H.range.slice():q.range.slice(),calendar:q.calendar},q.rangebreaks&&($.layout[N].rangebreaks=q.rangebreaks),a.supplyDefaults($);var j=$._fullLayout.xaxis,W=$._fullLayout[N];j.clearCalc(),j.setScale(),W.clearCalc(),W.setScale();var G={id:R,plotgroup:O,xaxis:j,yaxis:W,isRangePlot:!0};B?C=G:(G.mainplot="xy",G.mainplotinfo=C),i.rangePlot(y,G,function(ae,te){for(var Q=[],ee=0;ee<ae.length;ee++){var re=ae[ee],J=re[0].trace;J.xaxis+J.yaxis===te&&Q.push(re)}return Q}(T,R))})}function p(x,y,w,f,C){M.ensureSingle(x,"rect",u.maskMinClassName,function(T){T.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(s.fill,u.maskColor),M.ensureSingle(x,"rect",u.maskMaxClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(s.fill,u.maskColor),"match"!==C.rangemode&&(M.ensureSingle(x,"rect",u.maskMinOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).call(s.fill,u.maskOppAxisColor),M.ensureSingle(x,"rect",u.maskMaxOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).style("border-top",u.maskOppBorder).call(s.fill,u.maskOppAxisColor))}function m(x,y,w,f){y._context.staticPlot||M.ensureSingle(x,"rect",u.slideBoxClassName,function(C){C.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:f._height,fill:u.slideBoxFill})}function v(x,y,w,f){var C=M.ensureSingle(x,"g",u.grabberMinClassName),T=M.ensureSingle(x,"g",u.grabberMaxClassName),D={x:0,width:u.handleWidth,rx:u.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},R={y:Math.round(f._height/4),height:Math.round(f._height/2)};M.ensureSingle(C,"rect",u.handleMinClassName,function(O){O.attr(D)}).attr(R),M.ensureSingle(T,"rect",u.handleMaxClassName,function(O){O.attr(D)}).attr(R);var P={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:y._context.staticPlot?void 0:u.grabAreaCursor};M.ensureSingle(C,"rect",u.grabAreaMinClassName,function(O){O.attr(P)}).attr("height",f._height),M.ensureSingle(T,"rect",u.grabAreaMaxClassName,function(O){O.attr(P)}).attr("height",f._height)}ie.exports=function(x){for(var y=x._fullLayout,w=y._rangeSliderData,f=0;f<w.length;f++){var C=w[f][u.name];C._clipId=C._id+"-"+y._uid}var T=y._infolayer.selectAll("g."+u.containerClassName).data(w,function(D){return D._name});T.exit().each(function(D){y._topdefs.select("#"+D[u.name]._clipId).remove()}).remove(),0!==w.length&&(T.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),T.each(function(D){var R=S.select(this),P=D[u.name],O=y[n.id2name(D.anchor)],B=P[n.id2name(D.anchor)];if(P.range){var q,N=M.simpleMap(P.range,D.r2l),H=M.simpleMap(D.range,D.r2l);q=H[0]<H[1]?[Math.min(N[0],H[0]),Math.max(N[1],H[1])]:[Math.max(N[0],H[0]),Math.min(N[1],H[1])],P.range=P._input.range=M.simpleMap(q,D.l2r)}D.cleanRange("rangeslider.range");var $=y._size,j=D.domain;P._width=$.w*(j[1]-j[0]);var W=Math.round($.l+$.w*j[0]),G=Math.round($.t+$.h*(1-D._counterDomainMin)+("bottom"===D.side?D._depth:0)+P._offsetShift+u.extraPad);R.attr("transform",_(W,G)),P._rl=M.simpleMap(P.range,D.r2l);var ae=P._rl[0],te=P._rl[1],Q=te-ae;if(P.p2d=function(Me){return Me/P._width*Q+ae},P.d2p=function(Me){return(Me-ae)/Q*P._width},D.rangebreaks){var ee=D.locateBreaks(ae,te);if(ee.length){var re,J,le=0;for(re=0;re<ee.length;re++)le+=(J=ee[re]).max-J.min;var fe=P._width/(te-ae-le),ce=[-fe*ae];for(re=0;re<ee.length;re++)ce.push(ce[ce.length-1]-fe*((J=ee[re]).max-J.min));for(P.d2p=function(Me){for(var we=ce[0],xe=0;xe<ee.length;xe++){var be=ee[xe];if(Me>=be.max)we=ce[xe+1];else if(Me<be.min)break}return we+fe*Me},re=0;re<ee.length;re++)(J=ee[re]).pmin=P.d2p(J.min),J.pmax=P.d2p(J.max);P.p2d=function(Me){for(var we=ce[0],xe=0;xe<ee.length;xe++){var be=ee[xe];if(Me>=be.pmax)we=ce[xe+1];else if(Me<be.pmin)break}return(Me-we)/fe}}}if("match"!==B.rangemode){var ge=O.r2l(B.range[0]),Te=O.r2l(B.range[1])-ge;P.d2pOppAxis=function(Me){return(Me-ge)/Te*P._height}}R.call(h,x,D,P).call(c,x,D,P).call(b,x,D,P).call(p,x,D,P,B).call(m,x,D,P).call(v,x,D,P),function(Me,we,xe,be){if(!we._context.staticPlot){var ye=Me.select("rect."+u.slideBoxClassName).node(),Se=Me.select("rect."+u.grabAreaMinClassName).node(),Ee=Me.select("rect."+u.grabAreaMaxClassName).node();Me.on("mousedown",he),Me.on("touchstart",he)}function he(){var ue=S.event,me=ue.target,Pe=l(ue),Ce=Pe-Me.node().getBoundingClientRect().left,Ie=be.d2p(xe._rl[0]),Oe=be.d2p(xe._rl[1]),ze=r.coverSlip();function je(Ae){var Le,Ve,Ne,We=+l(Ae)-Pe;switch(me){case ye:if(Ne="ew-resize",Ie+We>xe._length||Oe+We<0)return;Le=Ie+We,Ve=Oe+We;break;case Se:if(Ne="col-resize",Ie+We>xe._length)return;Le=Ie+We,Ve=Oe;break;case Ee:if(Ne="col-resize",Oe+We<0)return;Le=Ie,Ve=Oe+We;break;default:Ne="ew-resize",Le=Ce,Ve=Ce+We}if(Ve<Le){var Xe=Ve;Ve=Le,Le=Xe}be._pixelMin=Le,be._pixelMax=Ve,o(S.select(ze),Ne),function(nt,dt,ht,Mt){function kt(st){return ht.l2r(M.constrain(st,Mt._rl[0],Mt._rl[1]))}var _t=kt(Mt.p2d(Mt._pixelMin)),ut=kt(Mt.p2d(Mt._pixelMax));window.requestAnimationFrame(function(){A.call("_guiRelayout",dt,ht._name+".range",[_t,ut])})}(0,we,xe,be)}function ve(){ze.removeEventListener("mousemove",je),ze.removeEventListener("mouseup",ve),this.removeEventListener("touchmove",je),this.removeEventListener("touchend",ve),M.removeElement(ze)}this.addEventListener("touchmove",je),this.addEventListener("touchend",ve),ze.addEventListener("mousemove",je),ze.addEventListener("mouseup",ve)}}(R,x,D,P),function(Me,we,xe,be,ye,Se){var Ee=u.handleWidth/2;function he(Ae){return M.constrain(Ae,0,be._width)}function ue(Ae){return M.constrain(Ae,0,be._height)}function me(Ae){return M.constrain(Ae,-Ee,be._width+Ee)}var Pe=he(be.d2p(xe._rl[0])),Ce=he(be.d2p(xe._rl[1]));if(Me.select("rect."+u.slideBoxClassName).attr("x",Pe).attr("width",Ce-Pe),Me.select("rect."+u.maskMinClassName).attr("width",Pe),Me.select("rect."+u.maskMaxClassName).attr("x",Ce).attr("width",be._width-Ce),"match"!==Se.rangemode){var Ie=be._height-ue(be.d2pOppAxis(ye._rl[1])),Oe=be._height-ue(be.d2pOppAxis(ye._rl[0]));Me.select("rect."+u.maskMinOppAxisClassName).attr("x",Pe).attr("height",Ie).attr("width",Ce-Pe),Me.select("rect."+u.maskMaxOppAxisClassName).attr("x",Pe).attr("y",Oe).attr("height",be._height-Oe).attr("width",Ce-Pe),Me.select("rect."+u.slideBoxClassName).attr("y",Ie).attr("height",Oe-Ie)}var je=Math.round(me(Pe-Ee))-.5,ve=Math.round(me(Ce-Ee))+.5;Me.select("g."+u.grabberMinClassName).attr("transform",_(je,.5)),Me.select("g."+u.grabberMaxClassName).attr("transform",_(ve,.5))}(R,0,D,P,O,B),"bottom"===D.side&&t.draw(x,D._id+"title",{propContainer:D,propName:D._name+".title",placeholder:y._dfltTitle.x,attributes:{x:D._offset+D._length/2,y:G+P._height+P._offsetShift+10+1.5*D.title.font.size,"text-anchor":"middle"}})}))}},97944:function(ie,z,e){"use strict";var S=e(79811),A=e(72736),a=e(74636),M=e(84284).LINE_SPACING,_=a.name;function d(s){var t=s&&s[_];return t&&t.visible}z.isVisible=d,z.makeData=function(s){var t=S.list({_fullLayout:s},"x",!0),i=s.margin,n=[];if(!s._has("gl2d"))for(var r=0;r<t.length;r++){var o=t[r];if(d(o)){n.push(o);var u=o[_];u._id=_+o._id,u._height=(s.height-i.b-i.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}s._rangeSliderData=n},z.autoMarginOpts=function(s,t){var i=s._fullLayout,n=t[_],r=t._id.charAt(0),o=0,u=0;return"bottom"===t.side&&(o=t._depth,t.title.text!==i._dfltTitle[r]&&(u=1.5*t.title.font.size+10+n._offsetShift,u+=(t.title.text.match(A.BR_TAG_ALL)||[]).length*t.title.font.size*M)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(i.margin.b,u),pad:a.extraPad+2*n._offsetShift}}},49692:function(ie,z,e){"use strict";var S=e(3400),A=e(11200),a=e(10936),M=e(97944);ie.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:S.extendFlat({},A,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:M.isVisible,makeData:M.makeData,autoMarginOpts:M.autoMarginOpts}},10936:function(ie){"use strict";ie.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(ie,z,e){"use strict";var S=e(13916),A=e(52904).line,a=e(98192).u,M=e(92880).extendFlat,_=e(67824).overrideAll,d=e(31780).templatedArray;e(36208),ie.exports=_(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:M({},S.xref,{}),yref:M({},S.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:A.color,width:M({},A.width,{min:1,dflt:1}),dash:M({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(ie){"use strict";ie.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(51272),M=e(93956),_=e(65152);function d(s,t,i){function n(D,R){return S.coerce(s,t,M,D,R)}var r=n("path"),o="path"!==n("type",r?"path":"rect");o&&delete t.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var u=["x","y"],l=0;l<2;l++){var h,c,b,p=u[l],m={_fullLayout:i},v=A.coerceRef(s,t,m,p);if((h=A.getFromId(m,v))._selectionIndices.push(t._index),b=_.rangeToShapePosition(h),c=_.shapePositionToRange(h),o){var x=p+"0",y=p+"1",w=s[x],f=s[y];s[x]=c(s[x],!0),s[y]=c(s[y],!0),A.coercePosition(t,m,n,v,x),A.coercePosition(t,m,n,v,y);var C=t[x],T=t[y];void 0!==C&&void 0!==T&&(t[x]=b(C),t[y]=b(T),s[x]=w,s[y]=f)}}o&&S.noneOrAll(s,t,["x0","x1","y0","y1"])}ie.exports=function(s,t){a(s,t,{name:"selections",handleItemDefaults:d});for(var i=t.selections,n=0;n<i.length;n++){var r=i[n];r&&void 0===r.path&&(void 0!==r.x0&&void 0!==r.x1&&void 0!==r.y0&&void 0!==r.y1||(t.selections[n]=null))}}},23640:function(ie,z,e){"use strict";var S=e(9856).readPaths,A=e(55496),a=e(1936).clearOutlineControllers,M=e(76308),_=e(43616),d=e(31780).arrayEditor,s=e(65152),t=s.getPathString;function i(l){var h=l._fullLayout;for(var c in a(l),h._selectionLayer.selectAll("path").remove(),h._plots){var b=h._plots[c].selectionLayer;b&&b.selectAll("path").remove()}for(var p=0;p<h.selections.length;p++)r(l,p)}function n(l){return l._context.editSelection}function r(l,h){l._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+h+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(l,h),b=c.options,p=c.plotinfo;b._input&&function(m){var v=t(l,b),x={"data-index":h,"fill-rule":"evenodd",d:v},y=b.opacity,w="rgba(0,0,0,0)",f=b.line.color||M.contrast(l._fullLayout.plot_bgcolor),C=b.line.width,T=b.line.dash;C||(C=5,T="solid");var D=n(l)&&l._fullLayout._activeSelectionIndex===h;D&&(w=l._fullLayout.activeselection.fillcolor,y=l._fullLayout.activeselection.opacity);for(var R=[],P=1;P>=0;P--){var O=m.append("path").attr(x).style("opacity",P?.1:y).call(M.stroke,f).call(M.fill,w).call(_.dashLine,P?"solid":T,P?4+C:C);if(o(O,l,b),D){var B=d(l.layout,"selections",b);O.style({cursor:"move"});var q={element:O.node(),plotinfo:p,gd:l,editHelpers:B,isActiveSelection:!0},N=S(v,l);A(N,O,q)}else O.style("pointer-events",P?"all":"none");R[P]=O}var H=R[0];R[1].node().addEventListener("click",function(){return function($,j){if(n($)){var W=+j.node().getAttribute("data-index");if(W>=0){if(W===$._fullLayout._activeSelectionIndex)return void u($);$._fullLayout._activeSelectionIndex=W,$._fullLayout._deactivateSelection=u,i($)}}}(l,H)})}(l._fullLayout._selectionLayer)}function o(l,h,c){_.setClipUrl(l,"clip"+h._fullLayout._uid+(c.xref+c.yref),h)}function u(l){n(l)&&l._fullLayout._activeSelectionIndex>=0&&(a(l),delete l._fullLayout._activeSelectionIndex,i(l))}ie.exports={draw:i,drawOne:r,activateLastSelection:function(l){n(l)&&(l._fullLayout._activeSelectionIndex=l._fullLayout.selections.length-1,l._fullLayout._deactivateSelection=u,i(l))}}},34200:function(ie,z,e){"use strict";var S=e(98192).u,A=e(92880).extendFlat;ie.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:A({},S,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(ie){"use strict";ie.exports=function(z,e,S){S("newselection.mode"),S("newselection.line.width")&&(S("newselection.line.color"),S("newselection.line.dash")),S("activeselection.fillcolor"),S("activeselection.opacity")}},5968:function(ie,z,e){"use strict";var S=e(72760).selectMode,A=e(1936).clearOutline,a=e(9856),M=a.readPaths,_=a.writePaths,d=a.fixDatesForPaths;ie.exports=function(s,t){if(s.length){var i=s[0][0];if(i){var n=i.getAttribute("d"),r=t.gd,o=r._fullLayout.newselection,u=t.plotinfo,l=u.xaxis,h=u.yaxis,c=t.isActiveSelection,b=t.dragmode,p=(r.layout||{}).selections||[];if(!S(b)&&void 0!==c){var m=r._fullLayout._activeSelectionIndex;if(m<p.length)switch(r._fullLayout.selections[m].type){case"rect":b="select";break;case"path":b="lasso"}}var v,x=M(n,r,u,c),y={xref:l._id,yref:h._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};1===x.length&&(v=x[0]),v&&5===v.length&&"select"===b?(y.type="rect",y.x0=v[0][1],y.y0=v[0][2],y.x1=v[2][1],y.y1=v[2][2]):(y.type="path",l&&h&&d(x,l,h),y.path=_(x),v=null),A(r);for(var w=t.editHelpers,f=(w||{}).modifyItem,C=[],T=0;T<p.length;T++){var D=r._fullLayout.selections[T];if(D){if(C[T]=D._input,void 0!==c&&T===r._fullLayout._activeSelectionIndex){var R=y;switch(D.type){case"rect":f("x0",R.x0),f("x1",R.x1),f("y0",R.y0),f("y1",R.y1);break;case"path":f("path",R.path)}}}else C[T]=D}return void 0===c?(C.push(y),C):w?w.getUpdateObj():{}}}}},5840:function(ie,z,e){"use strict";var S=e(3400).strTranslate;function A(a,M){switch(a.type){case"log":return a.p2d(M);case"date":return a.p2r(M,0,a.calendar);default:return a.p2r(M)}}ie.exports={p2r:A,r2p:function(a,M){switch(a.type){case"log":return a.d2p(M);case"date":return a.r2p(M,0,a.calendar);default:return a.r2p(M)}},axValue:function(a){var M="y"===a._id.charAt(0)?1:0;return function(_){return A(a,_[M])}},getTransform:function(a){return S(a.xaxis._offset,a.yaxis._offset)}}},22676:function(ie,z,e){"use strict";var S=e(23640),A=e(43156);ie.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:S.draw,drawOne:S.drawOne,reselect:A.reselect,prepSelect:A.prepSelect,clearOutline:A.clearOutline,clearSelectionsCache:A.clearSelectionsCache,selectOnClick:A.selectOnClick}},43156:function(ie,z,e){"use strict";var S=e(14756),A=e(61456),a=e(24040),M=e(43616).dashStyle,_=e(76308),d=e(93024),s=e(10624).makeEventData,t=e(72760),i=t.freeMode,n=t.rectMode,r=t.drawMode,o=t.openMode,u=t.selectMode,l=e(65152),h=e(85448),c=e(55496),b=e(1936).clearOutline,p=e(9856),m=p.handleEllipse,v=p.readPaths,x=e(93940).newShapes,y=e(5968),w=e(23640).activateLastSelection,f=e(3400),C=f.sorterAsc,T=e(92065),D=e(91200),R=e(79811).getFromId,P=e(73696),O=e(39172).redrawReglTraces,B=e(83280),q=B.MINSELECT,N=T.filter,H=T.tester,$=e(5840),j=$.p2r,W=$.axValue,G=$.getTransform;function ae(je){return void 0!==je.subplot}function te(je,ve,Ae,Le,Ve,Ne,We){var Xe,nt,dt,ht,Mt,kt,_t,ut,st,Qe,Lt=ve._hoverdata,Ut=ve._fullLayout.clickmode.indexOf("event")>-1,Ht=[];if((Qe=Lt)&&Array.isArray(Qe)&&!0!==Qe[0].hoverOnBox){J(je,ve,Ne);var Pt=function(Qe,pt){var ct,He,qe=Qe[0],ft=-1,et=[];for(He=0;He<pt.length;He++)if(qe.fullData._expandedIndex===(ct=pt[He]).cd[0].trace._expandedIndex){if(!0===qe.hoverOnBox)break;void 0!==qe.pointNumber?ft=qe.pointNumber:void 0!==qe.binNumber&&(ft=qe.binNumber,et=qe.pointNumbers);break}return{pointNumber:ft,pointNumbers:et,searchInfo:ct}}(Lt,Xe=ce(ve,Ae,Le,Ve));if(Pt.pointNumbers.length>0?function(Qe,pt){var ct,He,qe,ft=[];for(qe=0;qe<Qe.length;qe++)(ct=Qe[qe]).cd[0].trace.selectedpoints&&ct.cd[0].trace.selectedpoints.length>0&&ft.push(ct);if(1===ft.length&&ft[0]===pt.searchInfo&&(He=pt.searchInfo.cd[0].trace).selectedpoints.length===pt.pointNumbers.length){for(qe=0;qe<pt.pointNumbers.length;qe++)if(He.selectedpoints.indexOf(pt.pointNumbers[qe])<0)return!1;return!0}return!1}(Xe,Pt):function(Qe){var pt,ct,He=0;for(ct=0;ct<Qe.length;ct++)if((pt=Qe[ct].cd[0].trace).selectedpoints&&(pt.selectedpoints.length>1||(He+=pt.selectedpoints.length)>1))return!1;return 1===He}(Xe)&&(kt=Te(Pt))){for(We&&We.remove(),st=0;st<Xe.length;st++)(nt=Xe[st])._module.selectPoints(nt,!1);Me(ve,Xe),le(Ne),Ut&&ze(ve)}else{for(_t=je.shiftKey&&(void 0!==kt?kt:Te(Pt)),dt=function(Qe,pt,ct){return{pointNumber:Qe,searchInfo:pt,subtract:!!ct}}(Pt.pointNumber,Pt.searchInfo,_t),ht=re(Ne.selectionDefs.concat([dt])),st=0;st<Xe.length;st++)if(Mt=xe(Xe[st]._module.selectPoints(Xe[st],ht),Xe[st]),Ht.length)for(var Je=0;Je<Mt.length;Je++)Ht.push(Mt[Je]);else Ht=Mt;if(Me(ve,Xe,ut={points:Ht}),dt&&Ne&&Ne.selectionDefs.push(dt),We){var tt=Ne.mergedPolygons,Ge=o(Ne.dragmode);c(be(tt,Ge),We,Ne)}Ut&&Oe(ve,ut)}}}function Q(je){return"pointNumber"in je&&"searchInfo"in je}function ee(je){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ve,Ae,Le,Ve){return Ve.cd[0].trace._expandedIndex===je.searchInfo.cd[0].trace._expandedIndex&&Le===je.pointNumber},isRect:!1,degenerate:!1,subtract:!!je.subtract}}function re(je){if(je.length){for(var ve=[],Ae=Q(je[0])?0:je[0][0][0],Le=Ae,Ve=Q(je[0])?0:je[0][0][1],Ne=Ve,We=0;We<je.length;We++)if(Q(je[We]))ve.push(ee(je[We]));else{var Xe=H(je[We]);Xe.subtract=!!je[We].subtract,ve.push(Xe),Ae=Math.min(Ae,Xe.xmin),Le=Math.max(Le,Xe.xmax),Ve=Math.min(Ve,Xe.ymin),Ne=Math.max(Ne,Xe.ymax)}return{xmin:Ae,xmax:Le,ymin:Ve,ymax:Ne,pts:[],contains:function(nt,dt,ht,Mt){for(var kt=!1,_t=0;_t<ve.length;_t++)ve[_t].contains(nt,dt,ht,Mt)&&(kt=!ve[_t].subtract);return kt},isRect:!1,degenerate:!1}}}function J(je,ve,Ae){var Le=ve._fullLayout,Ve=Ae.plotinfo,Ne=Ae.dragmode,We=Le._lastSelectedSubplot&&Le._lastSelectedSubplot===Ve.id,Xe=(je.shiftKey||je.altKey)&&!(r(Ne)&&o(Ne));We&&Xe&&Ve.selection&&Ve.selection.selectionDefs&&!Ae.selectionDefs?(Ae.selectionDefs=Ve.selection.selectionDefs,Ae.mergedPolygons=Ve.selection.mergedPolygons):Xe&&Ve.selection||le(Ae),We||(b(ve),Le._lastSelectedSubplot=Ve.id)}function le(je,ve){var Ae=je.dragmode,Le=je.plotinfo,Ve=je.gd;Ve._fullLayout._activeShapeIndex>=0&&Ve._fullLayout._deactivateShape(Ve),Ve._fullLayout._activeSelectionIndex>=0&&Ve._fullLayout._deactivateSelection(Ve);var Ne=Ve._fullLayout._zoomlayer,We=r(Ae),Xe=u(Ae);if(We||Xe){var nt,dt,ht=Ne.selectAll(".select-outline-"+Le.id);ht&&Ve._fullLayout._outlining&&(We&&(nt=x(ht,je)),nt&&a.call("_guiRelayout",Ve,{shapes:nt}),Xe&&!ae(je)&&(dt=y(ht,je)),dt&&(Ve._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Ve,{selections:dt}).then(function(){ve&&w(Ve)})),Ve._fullLayout._outlining=!1)}Le.selection={},Le.selection.selectionDefs=je.selectionDefs=[],Le.selection.mergedPolygons=je.mergedPolygons=[]}function fe(je){return je._id}function ce(je,ve,Ae,Le){if(!je.calcdata)return[];var Ve,Ne,We,Xe=[],nt=ve.map(fe),dt=Ae.map(fe);for(We=0;We<je.calcdata.length;We++)if(!0===(Ne=(Ve=je.calcdata[We])[0].trace).visible&&Ne._module&&Ne._module.selectPoints)if(!ae({subplot:Le})||Ne.subplot!==Le&&Ne.geo!==Le)if("splom"===Ne.type){if(Ne._xaxes[nt[0]]&&Ne._yaxes[dt[0]]){var ht=ge(Ne._module,Ve,ve[0],Ae[0]);ht.scene=je._fullLayout._splomScenes[Ne.uid],Xe.push(ht)}}else if("sankey"===Ne.type){var Mt=ge(Ne._module,Ve,ve[0],Ae[0]);Xe.push(Mt)}else{if(!(-1!==nt.indexOf(Ne.xaxis)||Ne._xA&&Ne._xA.overlaying)||!(-1!==dt.indexOf(Ne.yaxis)||Ne._yA&&Ne._yA.overlaying))continue;Xe.push(ge(Ne._module,Ve,R(je,Ne.xaxis),R(je,Ne.yaxis)))}else Xe.push(ge(Ne._module,Ve,ve[0],Ae[0]));return Xe}function ge(je,ve,Ae,Le){return{_module:je,cd:ve,xaxis:Ae,yaxis:Le}}function Te(je){var ve=je.searchInfo.cd[0].trace,Le=je.pointNumbers;return!!ve.selectedpoints&&ve.selectedpoints.indexOf(Le.length>0?Le[0]:je.pointNumber)>-1}function Me(je,ve,Ae){var Le,Ve;for(Le=0;Le<ve.length;Le++){var Ne=ve[Le].cd[0].trace._fullInput,We=je._fullLayout._tracePreGUI[Ne.uid]||{};void 0===We.selectedpoints&&(We.selectedpoints=Ne._input.selectedpoints||null)}if(Ae){var Xe=Ae.points||[];for(Le=0;Le<ve.length;Le++)(Ve=ve[Le].cd[0].trace)._input.selectedpoints=Ve._fullInput.selectedpoints=[],Ve._fullInput!==Ve&&(Ve.selectedpoints=[]);for(var nt=0;nt<Xe.length;nt++){var dt=Xe[nt],ht=dt.data,Mt=dt.fullData,kt=dt.pointIndex,_t=dt.pointIndices;_t?([].push.apply(ht.selectedpoints,_t),Ve._fullInput!==Ve&&[].push.apply(Mt.selectedpoints,_t)):(ht.selectedpoints.push(kt),Ve._fullInput!==Ve&&Mt.selectedpoints.push(kt))}}else for(Le=0;Le<ve.length;Le++)delete(Ve=ve[Le].cd[0].trace).selectedpoints,delete Ve._input.selectedpoints,Ve._fullInput!==Ve&&delete Ve._fullInput.selectedpoints;!function(ut,st){for(var Lt=!1,Ut=0;Ut<st.length;Ut++){var Ht=st[Ut],Pt=Ht.cd;a.traceIs(Pt[0].trace,"regl")&&(Lt=!0);var Je=Ht._module,tt=Je.styleOnSelect||Je.style;tt&&(tt(ut,Pt,Pt[0].node3),Pt[0].nodeRangePlot3&&tt(ut,Pt,Pt[0].nodeRangePlot3))}Lt&&(P(ut),O(ut))}(je,ve)}function we(je,ve,Ae){for(var Le=(Ae?S.difference:S.union)({regions:je},{regions:[ve]}).regions.reverse(),Ve=0;Ve<Le.length;Ve++){var Ne=Le[Ve];Ne.subtract=me(Ne,Le.slice(0,Ve))}return Le}function xe(je,ve){if(Array.isArray(je))for(var Ae=ve.cd,Le=ve.cd[0].trace,Ve=0;Ve<je.length;Ve++)je[Ve]=s(je[Ve],Le,Ae);return je}function be(je,ve){for(var Ae=[],Le=0;Le<je.length;Le++){Ae[Le]=[];for(var Ve=0;Ve<je[Le].length;Ve++){Ae[Le][Ve]=[],Ae[Le][Ve][0]=Ve?"L":"M";for(var Ne=0;Ne<je[Le][Ve].length;Ne++)Ae[Le][Ve].push(je[Le][Ve][Ne])}ve||Ae[Le].push(["Z",Ae[Le][0][1],Ae[Le][0][2]])}return Ae}function ye(je,ve){for(var Ae,Le,Ve=[],Ne=[],We=0;We<ve.length;We++){var Xe=ve[We];Le=Xe._module.selectPoints(Xe,je),Ne.push(Le),Ae=xe(Le,Xe),Ve=Ve.concat(Ae)}return Ve}function Se(je,ve,Ae,Le,Ve){var Ne,We,Xe,nt=!!Le;Ve&&(Ne=Ve.plotinfo,We=Ve.xaxes[0]._id,Xe=Ve.yaxes[0]._id);var dt=[],ht=[],Mt=ue(je),kt=je._fullLayout;if(Ne){var _t=kt._zoomlayer,ut=kt.dragmode,st=r(ut),Lt=u(ut);if(st||Lt){var Ut=R(je,We,"x"),Ht=R(je,Xe,"y");if(Ut&&Ht){var Pt=_t.selectAll(".select-outline-"+Ne.id);if(Pt&&je._fullLayout._outlining&&Pt.length){for(var Je=Pt[0][0].getAttribute("d"),tt=v(Je,je,Ne),Ge=[],Qe=0;Qe<tt.length;Qe++){for(var pt=tt[Qe],ct=[],He=0;He<pt.length;He++)ct.push([Pe(Ut,pt[He][1]),Pe(Ht,pt[He][2])]);ct.xref=We,ct.yref=Xe,ct.subtract=me(ct,Ge),Ge.push(ct)}Mt=Mt.concat(Ge)}}}}var qe=We&&Xe?[We+Xe]:kt._subplots.cartesian;!function(Yn){var jn=Yn.calcdata;if(jn)for(var Fn=0;Fn<jn.length;Fn++){var $n=Yn._fullLayout._splomScenes;if($n){var nr=$n[jn[Fn][0].trace.uid];nr&&(nr.selectBatch=[])}}}(je);for(var ft={},et=0;et<qe.length;et++){var xt=qe[et],wt=xt.indexOf("y"),At=xt.slice(0,wt),yt=xt.slice(wt),Ot=We&&Xe?Ae:void 0;if(Ot=he(Mt,At,yt,Ot)){var Ct=Le;if(!nt){var Rt=R(je,At,"x"),Bt=R(je,yt,"y");Ct=ce(je,[Rt],[Bt],xt);for(var jt=0;jt<Ct.length;jt++){var Gt=Ct[jt],on=Gt.cd[0],Jt=on.trace;if("scattergl"===Gt._module.name&&!on.t.xpx){var $t=Jt.x,tn=Jt.y,dn=Jt._length;on.t.xpx=[],on.t.ypx=[];for(var Gn=0;Gn<dn;Gn++)on.t.xpx[Gn]=Rt.c2p($t[Gn]),on.t.ypx[Gn]=Bt.c2p(tn[Gn])}"splom"===Gt._module.name&&(ft[Jt.uid]||(ft[Jt.uid]=!0))}}var zn=ye(Ot,Ct);dt=dt.concat(zn),ht=ht.concat(Ct)}}var Mn={points:dt};Me(je,ht,Mn);var ln=kt.clickmode.indexOf("event")>-1&&ve;if(!Ne&&ve){var vn=ue(je,!0);if(vn.length){var hn=vn[0].xref,_n=vn[0].yref;if(hn&&_n){var Dn=Ce(vn);Ie([R(je,hn,"x"),R(je,_n,"y")])(Mn,Dn)}}je._fullLayout._noEmitSelectedAtStart?je._fullLayout._noEmitSelectedAtStart=!1:ln&&Oe(je,Mn),kt._reselect=!1}if(!Ne&&kt._deselect){var Pn=kt._deselect;(function(Yn,jn,Fn){for(var Jn=0;Jn<Fn.length;Jn++){var $n=Fn[Jn];if($n.xaxis&&$n.xaxis._id===Yn&&$n.yaxis&&$n.yaxis._id===jn)return!0}return!1})(We=Pn.xref,Xe=Pn.yref,ht)||Ee(je,We,Xe,Le),ln&&(Mn.points.length?Oe(je,Mn):ze(je)),kt._deselect=!1}return{eventData:Mn,selectionTesters:Ae}}function Ee(je,ve,Ae,Le){Le=ce(je,[R(je,ve,"x")],[R(je,Ae,"y")],ve+Ae);for(var Ve=0;Ve<Le.length;Ve++){var Ne=Le[Ve];Ne._module.selectPoints(Ne,!1)}Me(je,Le)}function he(je,ve,Ae,Le){for(var Ve,Ne=0;Ne<je.length;Ne++){var We=je[Ne];ve===We.xref&&Ae===We.yref&&(Ve?Le=re(Ve=we(Ve,We,!!We.subtract)):(Ve=[We],Le=H(We)))}return Le}function ue(je,ve){for(var Ae=[],Le=je._fullLayout,Ve=Le.selections,Ne=Ve.length,We=0;We<Ne;We++)if(!ve||We===Le._activeSelectionIndex){var Xe=Ve[We];if(Xe){var nt,dt,ht,Mt,kt,_t=Xe.xref,ut=Xe.yref,st=R(je,_t,"x"),Lt=R(je,ut,"y");if("rect"===Xe.type){kt=[];var Ut=Pe(st,Xe.x0),Ht=Pe(st,Xe.x1),Pt=Pe(Lt,Xe.y0),Je=Pe(Lt,Xe.y1);kt=[[Ut,Pt],[Ut,Je],[Ht,Je],[Ht,Pt]],nt=Math.min(Ut,Ht),dt=Math.max(Ut,Ht),ht=Math.min(Pt,Je),Mt=Math.max(Pt,Je),kt.xmin=nt,kt.xmax=dt,kt.ymin=ht,kt.ymax=Mt,kt.xref=_t,kt.yref=ut,kt.subtract=!1,kt.isRect=!0,Ae.push(kt)}else if("path"===Xe.type)for(var tt=Xe.path.split("Z"),Ge=[],Qe=0;Qe<tt.length;Qe++){var pt=tt[Qe];if(pt){var ct=l.extractPathCoords(pt+="Z",h.paramIsX,"raw"),He=l.extractPathCoords(pt,h.paramIsY,"raw");nt=1/0,dt=-1/0,ht=1/0,Mt=-1/0,kt=[];for(var qe=0;qe<ct.length;qe++){var ft=Pe(st,ct[qe]),et=Pe(Lt,He[qe]);kt.push([ft,et]),nt=Math.min(ft,nt),dt=Math.max(ft,dt),ht=Math.min(et,ht),Mt=Math.max(et,Mt)}kt.xmin=nt,kt.xmax=dt,kt.ymin=ht,kt.ymax=Mt,kt.xref=_t,kt.yref=ut,kt.subtract=me(kt,Ge),Ge.push(kt),Ae.push(kt)}}}}return Ae}function me(je,ve){for(var Ae=!1,Le=0;Le<ve.length;Le++)for(var Ve=ve[Le],Ne=0;Ne<je.length;Ne++)if(A(je[Ne],Ve)){Ae=!Ae;break}return Ae}function Pe(je,ve){return"date"===je.type&&(ve=ve.replace("_"," ")),"log"===je.type?je.c2p(ve):je.r2p(ve,null,je.calendar)}function Ce(je){for(var ve=je.length,Ae=[],Le=0;Le<ve;Le++){var Ve=je[Le];Ae=(Ae=Ae.concat(Ve)).concat([Ve[0]])}return(Ne=Ae).isRect=5===Ne.length&&Ne[0][0]===Ne[4][0]&&Ne[0][1]===Ne[4][1]&&Ne[0][0]===Ne[1][0]&&Ne[2][0]===Ne[3][0]&&Ne[0][1]===Ne[3][1]&&Ne[1][1]===Ne[2][1]||Ne[0][1]===Ne[1][1]&&Ne[2][1]===Ne[3][1]&&Ne[0][0]===Ne[3][0]&&Ne[1][0]===Ne[2][0],Ne.isRect&&(Ne.xmin=Math.min(Ne[0][0],Ne[2][0]),Ne.xmax=Math.max(Ne[0][0],Ne[2][0]),Ne.ymin=Math.min(Ne[0][1],Ne[2][1]),Ne.ymax=Math.max(Ne[0][1],Ne[2][1])),Ne;var Ne}function Ie(je){return function(ve,Ae){for(var Le,Ve,Ne=0;Ne<je.length;Ne++){var We=je[Ne],Xe=We._id,nt=Xe.charAt(0);if(Ae.isRect){Le||(Le={});var dt=Ae[nt+"min"],ht=Ae[nt+"max"];void 0!==dt&&void 0!==ht&&(Le[Xe]=[j(We,dt),j(We,ht)].sort(C))}else Ve||(Ve={}),Ve[Xe]=Ae.map(W(We))}Le&&(ve.range=Le),Ve&&(ve.lassoPoints=Ve)}}function Oe(je,ve){ve&&(ve.selections=(je.layout||{}).selections||[]),je.emit("plotly_selected",ve)}function ze(je){je.emit("plotly_deselect",null)}ie.exports={reselect:Se,prepSelect:function(je,ve,Ae,Le,Ve){var Ne=!ae(Le),We=i(Ve),Xe=n(Ve),nt=o(Ve),dt=r(Ve),ht=u(Ve),Mt="drawcircle"===Ve,kt="drawline"===Ve||Mt,_t=Le.gd,ut=_t._fullLayout,st=ht&&"immediate"===ut.newselection.mode&&Ne,Lt=ut._zoomlayer,Ut=Le.element.getBoundingClientRect(),Ht=Le.plotinfo,Pt=G(Ht),Je=ve-Ut.left,tt=Ae-Ut.top;ut._calcInverseTransform(_t);var Qe,pt,ct,He,qe,ft,et,Ge=f.apply3DTransform(ut._invTransform)(Je,tt),xt=ut._invScaleX,wt=ut._invScaleY,At=Je=Ge[0],yt=tt=Ge[1],Ot="M"+Je+","+tt,Ct=Le.xaxes[0],Rt=Le.yaxes[0],Bt=Ct._length,jt=Rt._length,Gt=je.altKey&&!(r(Ve)&&nt);J(je,_t,Le),We&&(Qe=N([[Je,tt]],B.BENDPX));var on=Lt.selectAll("path.select-outline-"+Ht.id).data([1]),Jt=dt?ut.newshape:ut.newselection;dt&&(Le.hasText=Jt.label.text||Jt.label.texttemplate);var $t=dt&&!nt?Jt.fillcolor:"rgba(0,0,0,0)",tn=Jt.line.color||(Ne?_.contrast(_t._fullLayout.plot_bgcolor):"#7f7f7f");on.enter().append("path").attr("class","select-outline select-outline-"+Ht.id).style({opacity:dt?Jt.opacity/2:1,"stroke-dasharray":M(Jt.line.dash,Jt.line.width),"stroke-width":Jt.line.width+"px","shape-rendering":"crispEdges"}).call(_.stroke,tn).call(_.fill,$t).attr("fill-rule","evenodd").classed("cursor-move",!!dt).attr("transform",Pt).attr("d",Ot+"Z");var dn=Lt.append("path").attr("class","zoombox-corners").style({fill:_.background,stroke:_.defaultLine,"stroke-width":1}).attr("transform",Pt).attr("d","M0,0Z");if(dt&&Le.hasText){var Gn=Lt.select(".label-temp");Gn.empty()&&(Gn=Lt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var zn=ut._uid+B.SELECTID,Mn=[],ln=ce(_t,Le.xaxes,Le.yaxes,Le.subplot);st&&!je.shiftKey&&(Le._clearSubplotSelections=function(){if(Ne){var hn=Ct._id,_n=Rt._id;Ee(_t,hn,_n,ln);for(var Dn=(_t.layout||{}).selections||[],Pn=[],Yn=!1,jn=0;jn<Dn.length;jn++){var Fn=ut.selections[jn];Fn.xref!==hn||Fn.yref!==_n?Pn.push(Dn[jn]):Yn=!0}Yn&&(_t._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",_t,{selections:Pn}))}});var hn,vn=(hn=Le).plotinfo.fillRangeItems||Ie(hn.xaxes.concat(hn.yaxes));Le.moveFn=function(hn,_n){Le._clearSubplotSelections&&(Le._clearSubplotSelections(),Le._clearSubplotSelections=void 0),At=Math.max(0,Math.min(Bt,xt*hn+Je)),yt=Math.max(0,Math.min(jt,wt*_n+tt));var Dn=Math.abs(At-Je),Pn=Math.abs(yt-tt);if(Xe){var Yn,jn,Fn;if(ht){var Jn=ut.selectdirection;switch(Yn="any"===Jn?Pn<Math.min(.6*Dn,q)?"h":Dn<Math.min(.6*Pn,q)?"v":"d":Jn){case"h":jn=Mt?jt/2:0,Fn=jt;break;case"v":jn=Mt?Bt/2:0,Fn=Bt}}if(dt)switch(ut.newshape.drawdirection){case"vertical":Yn="h",jn=Mt?jt/2:0,Fn=jt;break;case"horizontal":Yn="v",jn=Mt?Bt/2:0,Fn=Bt;break;case"ortho":Dn<Pn?(Yn="h",jn=tt,Fn=yt):(Yn="v",jn=Je,Fn=At);break;default:Yn="d"}"h"===Yn?((He=kt?m(Mt,[At,jn],[At,Fn]):[[Je,jn],[Je,Fn],[At,Fn],[At,jn]]).xmin=kt?At:Math.min(Je,At),He.xmax=kt?At:Math.max(Je,At),He.ymin=Math.min(jn,Fn),He.ymax=Math.max(jn,Fn),dn.attr("d","M"+He.xmin+","+(tt-q)+"h-4v"+2*q+"h4ZM"+(He.xmax-1)+","+(tt-q)+"h4v"+2*q+"h-4Z")):"v"===Yn?((He=kt?m(Mt,[jn,yt],[Fn,yt]):[[jn,tt],[jn,yt],[Fn,yt],[Fn,tt]]).xmin=Math.min(jn,Fn),He.xmax=Math.max(jn,Fn),He.ymin=kt?yt:Math.min(tt,yt),He.ymax=kt?yt:Math.max(tt,yt),dn.attr("d","M"+(Je-q)+","+He.ymin+"v-4h"+2*q+"v4ZM"+(Je-q)+","+(He.ymax-1)+"v4h"+2*q+"v-4Z")):"d"===Yn&&((He=kt?m(Mt,[Je,tt],[At,yt]):[[Je,tt],[Je,yt],[At,yt],[At,tt]]).xmin=Math.min(Je,At),He.xmax=Math.max(Je,At),He.ymin=Math.min(tt,yt),He.ymax=Math.max(tt,yt),dn.attr("d","M0,0Z"))}else We&&(Qe.addPt([At,yt]),He=Qe.filtered);if(Le.selectionDefs&&Le.selectionDefs.length?(ct=we(Le.mergedPolygons,He,Gt),He.subtract=Gt,pt=re(Le.selectionDefs.concat([He]))):(ct=[He],pt=H(He)),c(be(ct,nt),on,Le),ht){var $n,nr=Se(_t,!1),or=nr.eventData?nr.eventData.points.slice():[];nr=Se(_t,!1,pt,ln,Le),pt=nr.selectionTesters,et=nr.eventData,$n=Qe?Qe.filtered:Ce(ct),D.throttle(zn,B.SELECTDELAY,function(){for(var lr=(Mn=ye(pt,ln)).slice(),cr=0;cr<or.length;cr++){for(var Ar=or[cr],fn=!1,an=0;an<lr.length;an++)if(lr[an].curveNumber===Ar.curveNumber&&lr[an].pointNumber===Ar.pointNumber){fn=!0;break}fn||lr.push(Ar)}lr.length&&(et||(et={}),et.points=lr),vn(et,$n),_t.emit("plotly_selecting",et)})}},Le.clickFn=function(hn,_n){if(dn.remove(),_t._fullLayout._activeShapeIndex>=0)_t._fullLayout._deactivateShape(_t);else if(!dt){var Dn=ut.clickmode;D.done(zn).then(function(){if(D.clear(zn),2===hn){for(on.remove(),qe=0;qe<ln.length;qe++)(ft=ln[qe])._module.selectPoints(ft,!1);if(Me(_t,ln),le(Le),ze(_t),ln.length){var Pn=ln[0].xaxis,Yn=ln[0].yaxis;if(Pn&&Yn){for(var jn=[],Fn=_t._fullLayout.selections,Jn=0;Jn<Fn.length;Jn++){var $n=Fn[Jn];$n&&($n.xref===Pn._id&&$n.yref===Yn._id||jn.push($n))}jn.length<Fn.length&&(_t._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",_t,{selections:jn}))}}}else Dn.indexOf("select")>-1&&te(_n,_t,Le.xaxes,Le.yaxes,Le.subplot,Le,on),"event"===Dn&&Oe(_t,void 0);d.click(_t,_n,Ht.id)}).catch(f.error)}},Le.doneFn=function(){dn.remove(),D.done(zn).then(function(){D.clear(zn),!st&&He&&Le.selectionDefs&&(He.subtract=Gt,Le.selectionDefs.push(He),Le.mergedPolygons.length=0,[].push.apply(Le.mergedPolygons,ct)),(st||dt)&&le(Le,st),Le.doneFnCompleted&&Le.doneFnCompleted(Mn),ht&&Oe(_t,et)}).catch(f.error)}},clearOutline:b,clearSelectionsCache:le,selectOnClick:te}},46056:function(ie,z,e){"use strict";var S=e(13916),A=e(25376),a=e(52904).line,M=e(98192).u,_=e(92880).extendFlat,d=e(31780).templatedArray,s=(e(36208),e(45464)),t=e(21776).ye,i=e(97728);ie.exports=d("shape",{visible:_({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:_({},s.legend,{editType:"calc+arraydraw"}),legendgroup:_({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:_({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:A({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:_({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:_({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:_({},S.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:_({},S.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:_({},a.color,{editType:"arraydraw"}),width:_({},a.width,{editType:"calc+arraydraw"}),dash:_({},M,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:A({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(85448),M=e(65152);function _(i){return s(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function d(i){return s(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function s(i,n,r,o,u,l){var h=i/2,c=l;if("pixel"===n){var b=u?M.extractPathCoords(u,l?a.paramIsY:a.paramIsX):[r,o],p=S.aggNums(Math.max,null,b),m=S.aggNums(Math.min,null,b),v=m<0?Math.abs(m)+h:h,x=p>0?p+h:h;return{ppad:h,ppadplus:c?v:x,ppadminus:c?x:v}}return{ppad:h}}function t(i,n,r,o,u){var l="category"===i.type||"multicategory"===i.type?i.r2c:i.d2c;if(void 0!==n)return[l(n),l(r)];if(o){var h,c,b,p,m=1/0,v=-1/0,x=o.match(a.segmentRE);for("date"===i.type&&(l=M.decodeDate(l)),h=0;h<x.length;h++)void 0!==(c=u[x[h].charAt(0)].drawn)&&(!(b=x[h].substr(1).match(a.paramRE))||b.length<c||((p=l(b[c]))<m&&(m=p),p>v&&(v=p)));return v>=m?[m,v]:void 0}}ie.exports=function(i){var r=S.filterVisible(i._fullLayout.shapes);if(r.length&&i._fullData.length)for(var o=0;o<r.length;o++){var u,l,h=r[o];h._extremes={};var c=A.getRefType(h.xref),b=A.getRefType(h.yref);if("paper"!==h.xref&&"domain"!==c){var p="pixel"===h.xsizemode?h.xanchor:h.x0,m="pixel"===h.xsizemode?h.xanchor:h.x1;(l=t(u=A.getFromId(i,h.xref),p,m,h.path,a.paramIsX))&&(h._extremes[u._id]=A.findExtremes(u,l,_(h)))}if("paper"!==h.yref&&"domain"!==b){var v="pixel"===h.ysizemode?h.yanchor:h.y0,x="pixel"===h.ysizemode?h.yanchor:h.y1;(l=t(u=A.getFromId(i,h.yref),v,x,h.path,a.paramIsY))&&(h._extremes[u._id]=A.findExtremes(u,l,d(h)))}}}},85448:function(ie){"use strict";ie.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(51272),M=e(46056),_=e(65152);function d(s,t,i){function n($,j){return S.coerce(s,t,M,$,j)}if(t._isShape=!0,n("visible")){n("showlegend")&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),S.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var r=n("path"),o=n("type",r?"path":"rect"),u="path"!==o;u&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule"),n("line.width")&&(n("line.color"),n("line.dash"));for(var l=n("xsizemode"),h=n("ysizemode"),c=["x","y"],b=0;b<2;b++){var p,m,v,x=c[b],y=x+"anchor",w="x"===x?l:h,f={_fullLayout:i},C=A.coerceRef(s,t,f,x,void 0,"paper");if("range"===A.getRefType(C)?((p=A.getFromId(f,C))._shapeIndices.push(t._index),v=_.rangeToShapePosition(p),m=_.shapePositionToRange(p)):m=v=S.identity,u){var T=x+"0",D=x+"1",R=s[T],P=s[D];s[T]=m(s[T],!0),s[D]=m(s[D],!0),"pixel"===w?(n(T,0),n(D,10)):(A.coercePosition(t,f,n,C,T,.25),A.coercePosition(t,f,n,C,D,.75)),t[T]=v(t[T]),t[D]=v(t[D]),s[T]=R,s[D]=P}if("pixel"===w){var O=s[y];s[y]=m(s[y],!0),A.coercePosition(t,f,n,C,y,.25),t[y]=v(t[y]),s[y]=O}}u&&S.noneOrAll(s,t,["x0","x1","y0","y1"]);var B,q,N="line"===o;if(u&&(B=n("label.texttemplate")),B||(q=n("label.text")),q||B){n("label.textangle");var H=n("label.textposition",N?"middle":"middle center");n("label.xanchor"),n("label.yanchor",(j=H,N?"bottom":-1!==j.indexOf("top")?"top":-1!==j.indexOf("bottom")?"bottom":"middle")),n("label.padding"),S.coerceFont(n,"label.font",i.font)}}var j}ie.exports=function(s,t){a(s,t,{name:"shapes",handleItemDefaults:d})}},60728:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(72736),M=e(43616),_=e(9856).readPaths,d=e(65152),s=d.getPathString,t=e(97728),i=e(84284).FROM_TL;ie.exports=function(n,r,o,u){if(u.selectAll(".shape-label").remove(),o.label.text||o.label.texttemplate){var l;if(o.label.texttemplate){var h={};if("path"!==o.type){var c=A.getFromId(n,o.xref),b=A.getFromId(n,o.yref);for(var p in t){var m=t[p](o,c,b);void 0!==m&&(h[p]=m)}}l=S.texttemplateStringForShapes(o.label.texttemplate,{},n._fullLayout._d3locale,h)}else l=o.label.text;var v,x,y,w,f={"data-index":r},C=o.label.font,T=u.append("g").attr(f).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(l);if(o.path){var D=s(n,o),R=_(D,n);v=1/0,y=1/0,x=-1/0,w=-1/0;for(var P=0;P<R.length;P++)for(var O=0;O<R[P].length;O++)for(var B=R[P][O],q=1;q<B.length;q+=2){var N=B[q],H=B[q+1];v=Math.min(v,N),x=Math.max(x,N),y=Math.min(y,H),w=Math.max(w,H)}}else{var $=A.getFromId(n,o.xref),j=A.getRefType(o.xref),W=A.getFromId(n,o.yref),G=A.getRefType(o.yref),ae=d.getDataToPixel(n,$,!1,j),te=d.getDataToPixel(n,W,!0,G);v=ae(o.x0),x=ae(o.x1),y=te(o.y0),w=te(o.y1)}var Q=o.label.textangle;"auto"===Q&&(Q="line"===o.type?(fe=v,ce=y,ge=x,Te=w,we=Math.abs(ge-fe),-180/Math.PI*Math.atan2(ge>=fe?ce-Te:Te-ce,we)):0),T.call(function(fe){return fe.call(M.font,C).attr({}),a.convertToTspans(fe,n),fe});var ee=function(fe,ce,ge,Te,Me,we,xe){var be,ye,Se,Ee,he=Me.label.textposition,ue=Me.label.textangle,me=Me.label.padding,Pe=Me.type,Ce=Math.PI/180*we,Ie=Math.sin(Ce),Oe=Math.cos(Ce),ze=Me.label.xanchor,je=Me.label.yanchor;if("line"===Pe){"start"===he?(be=fe,ye=ce):"end"===he?(be=ge,ye=Te):(be=(fe+ge)/2,ye=(ce+Te)/2),"auto"===ze&&(ze="start"===he?"auto"===ue?ge>fe?"left":ge<fe?"right":"center":ge>fe?"right":ge<fe?"left":"center":"end"===he?"auto"===ue?ge>fe?"right":ge<fe?"left":"center":ge>fe?"left":ge<fe?"right":"center":"center");var ve={bottom:-1,middle:0,top:1};if("auto"===ue){var Ae=ve[je];Se=-me*Ie*Ae,Ee=me*Oe*Ae}else Se=me*{left:1,center:0,right:-1}[ze],Ee=me*ve[je];be+=Se,ye+=Ee}else Se=me+3,-1!==he.indexOf("right")?(be=Math.max(fe,ge)-Se,"auto"===ze&&(ze="right")):-1!==he.indexOf("left")?(be=Math.min(fe,ge)+Se,"auto"===ze&&(ze="left")):(be=(fe+ge)/2,"auto"===ze&&(ze="center")),ye=-1!==he.indexOf("top")?Math.min(ce,Te):-1!==he.indexOf("bottom")?Math.max(ce,Te):(ce+Te)/2,Ee=me,"bottom"===je?ye-=Ee:"top"===je&&(ye+=Ee);var Le=i[je],Ve=Me.label.font.size,Ne=xe.height;return{textx:be+(Ne*Le-Ve)*Ie,texty:ye+-(Ne*Le-Ve)*Oe,xanchor:ze}}(v,y,x,w,o,Q,M.bBox(T.node())),re=ee.textx,J=ee.texty;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ee.xanchor],y:J,x:re,transform:"rotate("+Q+","+re+","+J+")"}).call(a.positionText,re,J)}var fe,ce,ge,Te,we}},55496:function(ie,z,e){"use strict";var S=e(3400).strTranslate,A=e(86476),a=e(72760),M=a.drawMode,_=a.selectMode,d=e(24040),s=e(76308),t=e(7e3),i=t.i000,n=t.i090,r=t.i180,o=t.i270,u=e(1936).clearOutlineControllers,l=e(9856),h=l.pointsOnRectangle,c=l.pointsOnEllipse,b=l.writePaths,p=e(93940).newShapes,m=e(93940).createShapeObj,v=e(5968),x=e(60728);function y(w,f){var C,T,D,O=w.length;return T=w[C=(f+1)%O][1],D=w[C][2],T===w[f][1]&&D===w[f][2]&&(T=w[C=(f+2)%O][1],D=w[C][2]),[C,T,D]}ie.exports=function w(f,C,T,D){D||(D=0);var R=T.gd;function P(){w(f,C,T,D++),(c(f[0])||T.hasText)&&O({redrawing:!0})}function O(Me){var we={};void 0!==T.isActiveShape&&(T.isActiveShape=!1,we=p(C,T)),void 0!==T.isActiveSelection&&(T.isActiveSelection=!1,we=v(C,T),R._fullLayout._reselect=!0),Object.keys(we).length&&d.call((Me||{}).redrawing?"relayout":"_guiRelayout",R,we)}var B,q,N,H,$,j=R._fullLayout._zoomlayer,W=T.dragmode,G=M(W),ae=_(W);if((G||ae)&&(R._fullLayout._outlining=!0),u(R),C.attr("d",b(f)),D||!T.isActiveShape&&!T.isActiveSelection||($=function(Me,we){for(var xe=0;xe<we.length;xe++){var be=we[xe];Me[xe]=[];for(var ye=0;ye<be.length;ye++){Me[xe][ye]=[];for(var Se=0;Se<be[ye].length;Se++)Me[xe][ye][Se]=be[ye][Se]}}return Me}([],f),function(Me){B=[];for(var we=0;we<f.length;we++){var xe=f[we],be=h(xe),ye=!be&&c(xe);B[we]=[];for(var Se=xe.length,Ee=0;Ee<Se;Ee++)if("Z"!==xe[Ee][0]&&(!ye||Ee===i||Ee===n||Ee===r||Ee===o)){var he,ue=be&&T.isActiveSelection;ue&&(he=y(xe,Ee));var me=xe[Ee][1],Pe=xe[Ee][2],Ce=Me.append(ue?"rect":"circle").attr("data-i",we).attr("data-j",Ee).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ue){var Ie=he[1]-me,Oe=he[2]-Pe,ze=Oe?5:Math.max(Math.min(25,Math.abs(Ie)-5),5),je=Ie?5:Math.max(Math.min(25,Math.abs(Oe)-5),5);Ce.classed(Oe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ze).attr("height",je).attr("x",me-ze/2).attr("y",Pe-je/2).attr("transform",S(Ie/2,Oe/2))}else Ce.classed("cursor-grab",!0).attr("r",5).attr("cx",me).attr("cy",Pe);B[we][Ee]={element:Ce.node(),gd:R,prepFn:ee,doneFn:J,clickFn:le},A.init(B[we][Ee])}}}(j.append("g").attr("class","outline-controllers")),q=[],f.length&&(q[0]={element:C[0][0],gd:R,prepFn:function ce(Me){(N=+Me.srcElement.getAttribute("data-i"))||(N=0),q[N].moveFn=fe},doneFn:function ge(){O()},clickFn:function Te(Me){2===Me&&function(we){if(_(we._fullLayout.dragmode)){u(we);var xe=we._fullLayout._activeSelectionIndex,be=(we.layout||{}).selections||[];if(xe<be.length){for(var ye=[],Se=0;Se<be.length;Se++)Se!==xe&&ye.push(be[Se]);delete we._fullLayout._activeSelectionIndex;var Ee=we._fullLayout.selections[xe];we._fullLayout._deselect={xref:Ee.xref,yref:Ee.yref},d.call("_guiRelayout",we,{selections:ye})}}}(R)}},A.init(q[0]))),G&&T.hasText){var te=j.select(".label-temp"),Q=m(C,T,T.dragmode);x(R,"label-temp",Q,te)}function ee(Me){N=+Me.srcElement.getAttribute("data-i"),H=+Me.srcElement.getAttribute("data-j"),B[N][H].moveFn=re}function re(Me,we){if(f.length){var xe=$[N][H][1],be=$[N][H][2],ye=f[N],Se=ye.length;if(h(ye)){var Ee=Me,he=we;T.isActiveSelection&&(y(ye,H)[1]===ye[H][1]?he=0:Ee=0);for(var ue=0;ue<Se;ue++)if(ue!==H){var me=ye[ue];me[1]===ye[H][1]&&(me[1]=xe+Ee),me[2]===ye[H][2]&&(me[2]=be+he)}if(ye[H][1]=xe+Ee,ye[H][2]=be+he,!h(ye))for(var Pe=0;Pe<Se;Pe++)for(var Ce=0;Ce<ye[Pe].length;Ce++)ye[Pe][Ce]=$[N][Pe][Ce]}else ye[H][1]=xe+Me,ye[H][2]=be+we;P()}}function J(){O()}function le(Me,we){if(2===Me){N=+we.srcElement.getAttribute("data-i"),H=+we.srcElement.getAttribute("data-j");var xe=f[N];h(xe)||c(xe)||function(){if(f.length&&f[N]&&f[N].length){for(var be=[],ye=0;ye<f[N].length;ye++)ye!==H&&be.push(f[N][ye]);be.length>1&&(2!==be.length||"Z"!==be[1][0])&&(0===H&&(be[0][0]="M"),f[N]=be,P(),O())}}()}}function fe(Me,we){(function(xe,be){if(f.length)for(var ye=0;ye<f.length;ye++)for(var Se=0;Se<f[ye].length;Se++)for(var Ee=0;Ee+2<f[ye][Se].length;Ee+=2)f[ye][Se][Ee+1]=$[ye][Se][Ee+1]+xe,f[ye][Se][Ee+2]=$[ye][Se][Ee+2]+be})(Me,we),P()}}},4016:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(3400),M=e(54460),_=e(9856).readPaths,d=e(55496),s=e(60728),t=e(1936).clearOutlineControllers,i=e(76308),n=e(43616),r=e(31780).arrayEditor,o=e(86476),u=e(93972),l=e(85448),h=e(65152),c=h.getPathString;function b(f){var C=f._fullLayout;for(var T in C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove(),C._plots){var D=C._plots[T].shapelayer;D&&(D.selectAll("path").remove(),D.selectAll("text").remove())}for(var R=0;R<C.shapes.length;R++)!0===C.shapes[R].visible&&v(f,R)}function p(f){return!!f._fullLayout._outlining}function m(f){return!f._context.edits.shapePosition}function v(f,C){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var T=h.makeShapesOptionsAndPlotinfo(f,C),D=T.options,R=T.plotinfo;D._input&&!0===D.visible&&function P(O){var B=c(f,D),q={"data-index":C,"fill-rule":D.fillrule,d:B},N=D.opacity,H=D.fillcolor,$=D.line.width?D.line.color:"rgba(0,0,0,0)",j=D.line.width,W=D.line.dash;j||!0!==D.editable||(j=5,W="solid");var G="Z"!==B[B.length-1],ae=m(f)&&D.editable&&f._fullLayout._activeShapeIndex===C;ae&&(H=G?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,N=f._fullLayout.activeshape.opacity);var te,Q=O.append("g").classed("shape-group",!0).attr({"data-index":C}),ee=Q.append("path").attr(q).style("opacity",N).call(i.stroke,$).call(i.fill,H).call(n.dashLine,W,j);if(x(Q,f,D),s(f,C,D,Q),(ae||f._context.edits.shapePosition)&&(te=r(f.layout,"shapes",D)),ae){ee.style({cursor:"move"});var re={element:ee.node(),plotinfo:R,gd:f,editHelpers:te,hasText:D.label.text||D.label.texttemplate,isActiveShape:!0},J=_(B,f);d(J,ee,re)}else f._context.edits.shapePosition?function(le,fe,ce,ge,Te,Me){var we,xe,be,ye,Se,Ee,he,ue,me,Pe,Ce,Ie,Oe,ze,je,ve,Ve="pixel"===ce.xsizemode,Ne="pixel"===ce.ysizemode,We="line"===ce.type,Xe="path"===ce.type,nt=Me.modifyItem,dt=S.select(fe.node().parentNode),ht=M.getFromId(le,ce.xref),Mt=M.getRefType(ce.xref),kt=M.getFromId(le,ce.yref),_t=M.getRefType(ce.yref),ut=h.getDataToPixel(le,ht,!1,Mt),st=h.getDataToPixel(le,kt,!0,_t),Lt=h.getPixelToData(le,ht,!1,Mt),Ut=h.getPixelToData(le,kt,!0,_t),Ht=We?function(){var He=Math.max(ce.line.width,10),qe=Te.append("g").attr("data-index",ge).attr("drag-helper",!0);qe.append("path").attr("d",fe.attr("d")).style({cursor:"move","stroke-width":He,"stroke-opacity":"0"});var ft={"fill-opacity":"0"},et=Math.max(He/2,10);return qe.append("circle").attr({"data-line-point":"start-point",cx:Ve?ut(ce.xanchor)+ce.x0:ut(ce.x0),cy:Ne?st(ce.yanchor)-ce.y0:st(ce.y0),r:et}).style(ft).classed("cursor-grab",!0),qe.append("circle").attr({"data-line-point":"end-point",cx:Ve?ut(ce.xanchor)+ce.x1:ut(ce.x1),cy:Ne?st(ce.yanchor)-ce.y1:st(ce.y1),r:et}).style(ft).classed("cursor-grab",!0),qe}():fe,Pt={element:Ht.node(),gd:le,prepFn:function(ct){var He,qe,ft,et,xt,wt,At,yt;p(le)||(Ve&&(Se=ut(ce.xanchor)),Ne&&(Ee=st(ce.yanchor)),"path"===ce.type?je=ce.path:(we=Ve?ce.x0:ut(ce.x0),xe=Ne?ce.y0:st(ce.y0),be=Ve?ce.x1:ut(ce.x1),ye=Ne?ce.y1:st(ce.y1)),we<be?(me=we,Oe="x0",Pe=be,ze="x1"):(me=be,Oe="x1",Pe=we,ze="x0"),!Ne&&xe<ye||Ne&&xe>ye?(he=xe,Ce="y0",ue=ye,Ie="y1"):(he=ye,Ce="y1",ue=xe,Ie="y0"),Je(ct),Qe(Te,ce),He=fe,xt=(qe=ce).yref,wt=M.getFromId(ft=le,et=qe.xref),At=M.getFromId(ft,xt),yt="","paper"===et||wt.autorange||(yt+=et),"paper"===xt||At.autorange||(yt+=xt),n.setClipUrl(He,yt?"clip"+ft._fullLayout._uid+yt:null,ft),Pt.moveFn="move"===ve?tt:Ge,Pt.altKey=ct.altKey)},doneFn:function(){p(le)||(u(fe),pt(Te),x(fe,le,ce),A.call("_guiRelayout",le,Me.getUpdateObj()))},clickFn:function(){p(le)||pt(Te)}};function Je(ct){if(p(le))ve=null;else if(We)ve="path"===ct.target.tagName?"move":"start-point"===ct.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var He=Pt.element.getBoundingClientRect(),qe=He.right-He.left,ft=He.bottom-He.top,wt=!Xe&&qe>10&&ft>10&&!ct.shiftKey?o.getCursor((ct.clientX-He.left)/qe,1-(ct.clientY-He.top)/ft):"move";u(fe,wt),ve=wt.split("-")[0]}}function tt(ct,He){if("path"===ce.type){var qe=function(xt){return xt},ft=qe,et=qe;Ve?nt("xanchor",ce.xanchor=Lt(Se+ct)):(ft=function(xt){return Lt(ut(xt)+ct)},ht&&"date"===ht.type&&(ft=h.encodeDate(ft))),Ne?nt("yanchor",ce.yanchor=Ut(Ee+He)):(et=function(xt){return Ut(st(xt)+He)},kt&&"date"===kt.type&&(et=h.encodeDate(et))),nt("path",ce.path=y(je,ft,et))}else Ve?nt("xanchor",ce.xanchor=Lt(Se+ct)):(nt("x0",ce.x0=Lt(we+ct)),nt("x1",ce.x1=Lt(be+ct))),Ne?nt("yanchor",ce.yanchor=Ut(Ee+He)):(nt("y0",ce.y0=Ut(xe+He)),nt("y1",ce.y1=Ut(ye+He)));fe.attr("d",c(le,ce)),Qe(Te,ce),s(le,ge,ce,dt)}function Ge(ct,He){if(Xe){var qe=function(tn){return tn},ft=qe,et=qe;Ve?nt("xanchor",ce.xanchor=Lt(Se+ct)):(ft=function(tn){return Lt(ut(tn)+ct)},ht&&"date"===ht.type&&(ft=h.encodeDate(ft))),Ne?nt("yanchor",ce.yanchor=Ut(Ee+He)):(et=function(tn){return Ut(st(tn)+He)},kt&&"date"===kt.type&&(et=h.encodeDate(et))),nt("path",ce.path=y(je,ft,et))}else if(We){if("resize-over-start-point"===ve){var xt=we+ct,wt=Ne?xe-He:xe+He;nt("x0",ce.x0=Ve?xt:Lt(xt)),nt("y0",ce.y0=Ne?wt:Ut(wt))}else if("resize-over-end-point"===ve){var At=be+ct,yt=Ne?ye-He:ye+He;nt("x1",ce.x1=Ve?At:Lt(At)),nt("y1",ce.y1=Ne?yt:Ut(yt))}}else{var Ot=function(tn){return-1!==ve.indexOf(tn)},Ct=Ot("n"),Rt=Ot("s"),Bt=Ot("w"),jt=Ot("e"),Gt=Ct?he+He:he,on=Rt?ue+He:ue,Jt=Bt?me+ct:me,$t=jt?Pe+ct:Pe;Ne&&(Ct&&(Gt=he-He),Rt&&(on=ue-He)),(!Ne&&on-Gt>10||Ne&&Gt-on>10)&&(nt(Ce,ce[Ce]=Ne?Gt:Ut(Gt)),nt(Ie,ce[Ie]=Ne?on:Ut(on))),$t-Jt>10&&(nt(Oe,ce[Oe]=Ve?Jt:Lt(Jt)),nt(ze,ce[ze]=Ve?$t:Lt($t)))}fe.attr("d",c(le,ce)),Qe(Te,ce),s(le,ge,ce,dt)}function Qe(ct,He){(Ve||Ne)&&function(){var qe="path"!==He.type,ft=ct.selectAll(".visual-cue").data([0]);ft.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var et=ut(Ve?He.xanchor:a.midRange(qe?[He.x0,He.x1]:h.extractPathCoords(He.path,l.paramIsX))),xt=st(Ne?He.yanchor:a.midRange(qe?[He.y0,He.y1]:h.extractPathCoords(He.path,l.paramIsY)));et=h.roundPositionForSharpStrokeRendering(et,1),xt=h.roundPositionForSharpStrokeRendering(xt,1),ft.attr("d",Ve&&Ne?"M"+(et-1-1)+","+(xt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Ve?"M"+(et-1-1)+","+(xt-9-1)+"v18 h2 v-18 Z":"M"+(et-9-1)+","+(xt-1-1)+"h18 v2 h-18 Z")}()}function pt(ct){ct.selectAll(".visual-cue").remove()}o.init(Pt),Ht.node().onmousemove=Je}(f,ee,D,C,O,te):!0===D.editable&&ee.style("pointer-events",G||i.opacity(H)*N<=.5?"stroke":"all");ee.node().addEventListener("click",function(){return function(le,fe){if(m(le)){var ce=+fe.node().getAttribute("data-index");if(ce>=0){if(ce===le._fullLayout._activeShapeIndex)return void w(le);le._fullLayout._activeShapeIndex=ce,le._fullLayout._deactivateShape=w,b(le)}}}(f,ee)})}("above"===D.layer?f._fullLayout._shapeUpperLayer:"paper"===D.xref||"paper"===D.yref?f._fullLayout._shapeLowerLayer:"between"===D.layer?R.shapelayerBetween:R._hadPlotinfo?(R.mainplotinfo||R).shapelayer:f._fullLayout._shapeLowerLayer)}function x(f,C,T){var D=(T.xref+T.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");n.setClipUrl(f,D?"clip"+C._fullLayout._uid+D:null,C)}function y(f,C,T){return f.replace(l.segmentRE,function(D){var R=0,P=D.charAt(0),O=l.paramIsX[P],B=l.paramIsY[P],q=l.numParams[P];return P+D.substr(1).replace(l.paramRE,function(N){return R>=q||(O[R]?N=C(N):B[R]&&(N=T(N)),R++),N})})}function w(f){m(f)&&f._fullLayout._activeShapeIndex>=0&&(t(f),delete f._fullLayout._activeShapeIndex,b(f))}ie.exports={draw:b,drawOne:v,eraseActiveShape:function(f){if(m(f)){t(f);var C=f._fullLayout._activeShapeIndex,T=(f.layout||{}).shapes||[];if(C<T.length){for(var D=[],R=0;R<T.length;R++)R!==C&&D.push(T[R]);return delete f._fullLayout._activeShapeIndex,A.call("_guiRelayout",f,{shapes:D})}}},drawLabel:s}},92872:function(ie,z,e){"use strict";var S=e(67824).overrideAll,A=e(45464),a=e(25376),M=e(98192).u,_=e(92880).extendFlat,d=e(21776).ye,s=e(97728);ie.exports=S({newshape:{visible:_({},A.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:_({},A.legend,{}),legendgroup:_({},A.legendgroup,{}),legendgrouptitle:{text:_({},A.legendgrouptitle.text,{}),font:a({})},legendrank:_({},A.legendrank,{}),legendwidth:_({},A.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:_({},M,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:_({},A.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(s)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(ie){"use strict";ie.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(ie,z,e){"use strict";var S=e(76308),A=e(3400);ie.exports=function(a,M,_){_("newshape.visible"),_("newshape.name"),_("newshape.showlegend"),_("newshape.legend"),_("newshape.legendwidth"),_("newshape.legendgroup"),_("newshape.legendgrouptitle.text"),A.coerceFont(_,"newshape.legendgrouptitle.font"),_("newshape.legendrank"),_("newshape.drawdirection"),_("newshape.layer"),_("newshape.fillcolor"),_("newshape.fillrule"),_("newshape.opacity"),_("newshape.line.width")&&(_("newshape.line.color",S.contrast((a||{}).plot_bgcolor||"#FFF")),_("newshape.line.dash"));var o,s="drawline"===a.dragmode,t=_("newshape.label.text"),i=_("newshape.label.texttemplate");if(t||i){_("newshape.label.textangle");var n=_("newshape.label.textposition",s?"middle":"middle center");_("newshape.label.xanchor"),_("newshape.label.yanchor",(o=n,s?"bottom":-1!==o.indexOf("top")?"top":-1!==o.indexOf("bottom")?"bottom":"middle")),_("newshape.label.padding"),A.coerceFont(_,"newshape.label.font",M.font)}_("activeshape.fillcolor"),_("activeshape.opacity")}},9856:function(ie,z,e){"use strict";var S=e(21984),A=e(7e3),a=A.CIRCLE_SIDES,M=A.SQRT2,_=e(5840),d=_.p2r,s=_.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function n(o,u){return Math.abs(o-u)<=1e-6}function r(o,u){var l=u[1]-o[1],h=u[2]-o[2];return Math.sqrt(l*l+h*h)}z.writePaths=function(o){var u=o.length;if(!u)return"M0,0Z";for(var l="",h=0;h<u;h++)for(var c=o[h].length,b=0;b<c;b++){var p=o[h][b][0];if("Z"===p)l+="Z";else for(var m=o[h][b].length,v=0;v<m;v++){var x=v;"Q"===p||"S"===p?x=i[v]:"C"===p&&(x=t[v]),l+=o[h][b][x],v>0&&v<m-1&&(l+=",")}}return l},z.readPaths=function(o,u,l,h){var c,b,p,m=S(o),v=[],x=-1,y=0,w=0,f=function(){b=y,p=w};f();for(var C=0;C<m.length;C++){var O=[],B=m[C][0],q=B;switch(B){case"M":v[++x]=[],O.push([q,y=+m[C][1],w=+m[C][2]]),f();break;case"Q":case"S":O.push([q,y=+m[C][3],w=+m[C][4],+m[C][1],+m[C][2]]);break;case"C":O.push([q,y=+m[C][5],w=+m[C][6],+m[C][1],+m[C][2],+m[C][3],+m[C][4]]);break;case"T":case"L":O.push([q,y=+m[C][1],w=+m[C][2]]);break;case"H":O.push([q="L",y=+m[C][1],w]);break;case"V":O.push([q="L",y,w=+m[C][1]]);break;case"A":q="L";var N=+m[C][1],H=+m[C][2];+m[C][4]||(N=-N,H=-H);var $=y-N,j=w;for(c=1;c<=a/2;c++){var W=2*Math.PI*c/a;O.push([q,$+N*Math.cos(W),j+H*Math.sin(W)])}break;case"Z":y===b&&w===p||O.push([q,y=b,w=p])}for(var G=(l||{}).domain,ae=u._fullLayout._size,te=l&&"pixel"===l.xsizemode,Q=l&&"pixel"===l.ysizemode,ee=!1===h,re=0;re<O.length;re++){for(c=0;c+2<7;c+=2){var J=O[re][c+1],le=O[re][c+2];void 0!==J&&void 0!==le&&(y=J,w=le,l&&(l.xaxis&&l.xaxis.p2r?(ee&&(J-=l.xaxis._offset),J=te?s(l.xaxis,l.xanchor)+J:d(l.xaxis,J)):(ee&&(J-=ae.l),G?J=G.x[0]+J/ae.w:J/=ae.w),l.yaxis&&l.yaxis.p2r?(ee&&(le-=l.yaxis._offset),le=Q?s(l.yaxis,l.yanchor)-le:d(l.yaxis,le)):(ee&&(le-=ae.t),le=G?G.y[1]-le/ae.h:1-le/ae.h)),O[re][c+1]=J,O[re][c+2]=le)}v[x].push(O[re].slice())}}return v},z.pointsOnRectangle=function(o){if(5!==o.length)return!1;for(var u=1;u<3;u++)if(!n(o[0][u]-o[1][u],o[3][u]-o[2][u])||!n(o[0][u]-o[3][u],o[1][u]-o[2][u]))return!1;return!(!n(o[0][1],o[1][1])&&!n(o[0][1],o[3][1])||!(r(o[0],o[1])*r(o[0],o[3])))},z.pointsOnEllipse=function(o){var u=o.length;if(u!==a+1)return!1;u=a;for(var l=0;l<u;l++){var h=(2*u-l)%u,c=(u/2+h)%u;if(!n(r(o[l],o[(u/2+l)%u]),r(o[h],o[c])))return!1}return!0},z.handleEllipse=function(o,u,l){if(!o)return[u,l];var h=z.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),c=(h.x1+h.x0)/2,b=(h.y1+h.y0)/2,p=(h.x1-h.x0)/2,m=(h.y1-h.y0)/2;p||(p=m/=M),m||(m=p/=M);for(var v=[],x=0;x<a;x++){var y=2*x*Math.PI/a;v.push([c+p*Math.cos(y),b+m*Math.sin(y)])}return v},z.ellipseOver=function(o){var u=o.x0,l=o.y0,h=o.x1,c=o.y1,b=h-u,p=c-l,m=((u-=b)+h)/2,v=((l-=p)+c)/2;return{x0:m-(b*=M),y0:v-(p*=M),x1:m+b,y1:v+p}},z.fixDatesForPaths=function(o,u,l){var h="date"===u.type,c="date"===l.type;if(!h&&!c)return o;for(var b=0;b<o.length;b++)for(var p=0;p<o[b].length;p++)for(var m=0;m+2<o[b][p].length;m+=2)h&&(o[b][p][m+1]=o[b][p][m+1].replace(" ","_")),c&&(o[b][p][m+2]=o[b][p][m+2].replace(" ","_"));return o}},93940:function(ie,z,e){"use strict";var S=e(72760),A=S.drawMode,a=S.openMode,M=e(7e3),_=M.i000,d=M.i090,s=M.i180,t=M.i270,i=M.cos45,n=M.sin45,r=e(5840),o=r.p2r,u=r.r2p,l=e(1936).clearOutline,h=e(9856),c=h.readPaths,b=h.writePaths,p=h.ellipseOver,m=h.fixDatesForPaths;function v(x,y,w){var f,T=y.gd,D=x[0][0].getAttribute("d"),R=T._fullLayout.newshape,P=y.plotinfo,O=y.isActiveShape,B=P.xaxis,q=P.yaxis,N=!!P.domain||!P.xaxis,H=!!P.domain||!P.yaxis,$=a(w),j=c(D,T,P,O),W={editable:!0,visible:R.visible,name:R.name,showlegend:R.showlegend,legend:R.legend,legendwidth:R.legendwidth,legendgroup:R.legendgroup,legendgrouptitle:{text:R.legendgrouptitle.text,font:R.legendgrouptitle.font},legendrank:R.legendrank,label:R.label,xref:N?"paper":B._id,yref:H?"paper":q._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};if($||(W.fillcolor=R.fillcolor,W.fillrule=R.fillrule),1===j.length&&(f=j[0]),f&&5===f.length&&"drawrect"===w)W.type="rect",W.x0=f[0][1],W.y0=f[0][2],W.x1=f[2][1],W.y1=f[2][2];else if(f&&"drawline"===w)W.type="line",W.x0=f[0][1],W.y0=f[0][2],W.x1=f[1][1],W.y1=f[1][2];else if(f&&"drawcircle"===w){W.type="circle";var G=f[_][1],ae=f[d][1],te=f[s][1],Q=f[t][1],ee=f[_][2],re=f[d][2],J=f[s][2],le=f[t][2],fe=P.xaxis&&("date"===P.xaxis.type||"log"===P.xaxis.type),ce=P.yaxis&&("date"===P.yaxis.type||"log"===P.yaxis.type);fe&&(G=u(P.xaxis,G),ae=u(P.xaxis,ae),te=u(P.xaxis,te),Q=u(P.xaxis,Q)),ce&&(ee=u(P.yaxis,ee),re=u(P.yaxis,re),J=u(P.yaxis,J),le=u(P.yaxis,le));var ge=(ae+Q)/2,Te=(ee+J)/2,Me=p({x0:ge,y0:Te,x1:ge+(Q-ae+te-G)/2*i,y1:Te+(le-re+J-ee)/2*n});fe&&(Me.x0=o(P.xaxis,Me.x0),Me.x1=o(P.xaxis,Me.x1)),ce&&(Me.y0=o(P.yaxis,Me.y0),Me.y1=o(P.yaxis,Me.y1)),W.x0=Me.x0,W.y0=Me.y0,W.x1=Me.x1,W.y1=Me.y1}else W.type="path",B&&q&&m(j,B,q),W.path=b(j),f=null;return W}ie.exports={newShapes:function(x,y){if(x.length&&x[0][0]){var w=y.gd,f=y.isActiveShape,C=y.dragmode,T=(w.layout||{}).shapes||[];if(!A(C)&&void 0!==f){var D=w._fullLayout._activeShapeIndex;if(D<T.length)switch(w._fullLayout.shapes[D].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var R=T[D].path||"";C="Z"===R[R.length-1]?"drawclosedpath":"drawopenpath"}}var P=v(x,y,C);l(w);for(var O=y.editHelpers,B=(O||{}).modifyItem,q=[],N=0;N<T.length;N++){var H=w._fullLayout.shapes[N];if(q[N]=H._input,void 0!==f&&N===w._fullLayout._activeShapeIndex){var $=P;switch(H.type){case"line":case"rect":case"circle":B("x0",$.x0),B("x1",$.x1),B("y0",$.y0),B("y1",$.y1);break;case"path":B("path",$.path)}}}return void 0===f?(q.push(P),q):O?O.getUpdateObj():{}}},createShapeObj:v}},1936:function(ie){"use strict";ie.exports={clearOutlineControllers:function(z){var e=z._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(z){var e=z._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),z._fullLayout._outlining=!1}}},65152:function(ie,z,e){"use strict";var S=e(85448),A=e(3400),a=e(54460);z.rangeToShapePosition=function(M){return"log"===M.type?M.r2d:function(_){return _}},z.shapePositionToRange=function(M){return"log"===M.type?M.d2r:function(_){return _}},z.decodeDate=function(M){return function(_){return _.replace&&(_=_.replace("_"," ")),M(_)}},z.encodeDate=function(M){return function(_){return M(_).replace(" ","_")}},z.extractPathCoords=function(M,_,d){var s=[];return M.match(S.segmentRE).forEach(function(t){var i=_[t.charAt(0)].drawn;if(void 0!==i){var n=t.substr(1).match(S.paramRE);if(n&&!(n.length<i)){var r=n[i],o=d?r:A.cleanNumber(r);s.push(o)}}}),s},z.getDataToPixel=function(M,_,d,s){var t,i=M._fullLayout._size;if(_)if("domain"===s)t=function(r){return _._length*(d?1-r:r)+_._offset};else{var n=z.shapePositionToRange(_);t=function(r){return _._offset+_.r2p(n(r,!0))},"date"===_.type&&(t=z.decodeDate(t))}else t=d?function(r){return i.t+i.h*(1-r)}:function(r){return i.l+i.w*r};return t},z.getPixelToData=function(M,_,d,s){var t,i=M._fullLayout._size;if(_)if("domain"===s)t=function(r){var o=(r-_._offset)/_._length;return d?1-o:o};else{var n=z.rangeToShapePosition(_);t=function(r){return n(_.p2r(r-_._offset))}}else t=d?function(r){return 1-(r-i.t)/i.h}:function(r){return(r-i.l)/i.w};return t},z.roundPositionForSharpStrokeRendering=function(M,_){var d=1===Math.round(_%2),s=Math.round(M);return d?s+.5:s},z.makeShapesOptionsAndPlotinfo=function(M,_){var d=M._fullLayout.shapes[_]||{},s=M._fullLayout._plots[d.xref+d.yref];return s?s._hadPlotinfo=!0:(s={},d.xref&&"paper"!==d.xref&&(s.xaxis=M._fullLayout[d.xref+"axis"]),d.yref&&"paper"!==d.yref&&(s.yaxis=M._fullLayout[d.yref+"axis"])),s.xsizemode=d.xsizemode,s.ysizemode=d.ysizemode,s.xanchor=d.xanchor,s.yanchor=d.yanchor,{options:d,plotinfo:s}},z.makeSelectionsOptionsAndPlotinfo=function(M,_){var d=M._fullLayout.selections[_]||{},s=M._fullLayout._plots[d.xref+d.yref];return s?s._hadPlotinfo=!0:(s={},d.xref&&(s.xaxis=M._fullLayout[d.xref+"axis"]),d.yref&&(s.yaxis=M._fullLayout[d.yref+"axis"])),{options:d,plotinfo:s}},z.getPathString=function(M,_){var d,s,t,i,n,r,o,u,R,P,O,q,N,H,$,l=_.type,h=a.getRefType(_.xref),c=a.getRefType(_.yref),b=a.getFromId(M,_.xref),p=a.getFromId(M,_.yref),m=M._fullLayout._size;if(b?"domain"===h?s=function(R){return b._offset+b._length*R}:(d=z.shapePositionToRange(b),s=function(R){return b._offset+b.r2p(d(R,!0))}):s=function(R){return m.l+m.w*R},p?"domain"===c?i=function(R){return p._offset+p._length*(1-R)}:(t=z.shapePositionToRange(p),i=function(R){return p._offset+p.r2p(t(R,!0))}):i=function(R){return m.t+m.h*(1-R)},"path"===l)return b&&"date"===b.type&&(s=z.decodeDate(s)),p&&"date"===p.type&&(i=z.decodeDate(i)),P=s,O=i,q=(R=_).xsizemode,N=R.ysizemode,H=R.xanchor,$=R.yanchor,R.path.replace(S.segmentRE,function(j){var W=0,G=j.charAt(0),ae=S.paramIsX[G],te=S.paramIsY[G],Q=S.numParams[G],ee=j.substr(1).replace(S.paramRE,function(re){return ae[W]?re="pixel"===q?P(H)+Number(re):P(re):te[W]&&(re="pixel"===N?O($)-Number(re):O(re)),++W>Q&&(re="X"),re});return W>Q&&(ee=ee.replace(/[\s,]*X.*/,""),A.log("Ignoring extra params in segment "+j)),G+ee});if("pixel"===_.xsizemode){var v=s(_.xanchor);n=v+_.x0,r=v+_.x1}else n=s(_.x0),r=s(_.x1);if("pixel"===_.ysizemode){var x=i(_.yanchor);o=x-_.y0,u=x-_.y1}else o=i(_.y0),u=i(_.y1);if("line"===l)return"M"+n+","+o+"L"+r+","+u;if("rect"===l)return"M"+n+","+o+"H"+r+"V"+u+"H"+n+"Z";var y=(n+r)/2,w=(o+u)/2,f=Math.abs(y-n),C=Math.abs(w-o),T="A"+f+","+C,D=y+f+","+w;return"M"+D+T+" 0 1,1 "+y+","+(w-C)+T+" 0 0,1 "+D+"Z"}},41592:function(ie,z,e){"use strict";var S=e(4016);ie.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:S.draw,drawOne:S.drawOne}},97728:function(ie){"use strict";function z(a,M){return M?M.d2l(a):a}function e(a,M){return M?M.l2d(a):a}function S(a,M){return z(a.x1,M)-z(a.x0,M)}function A(a,M,_){return z(a.y1,_)-z(a.y0,_)}ie.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,M,_){return"line"!==a.type?void 0:A(a,0,_)/S(a,M)},dx:S,dy:A,width:function(a,M){return Math.abs(S(a,M))},height:function(a,M,_){return Math.abs(A(a,0,_))},length:function(a,M,_){return"line"!==a.type?void 0:Math.sqrt(Math.pow(S(a,M),2)+Math.pow(A(a,0,_),2))},xcenter:function(a,M){return e((z(a.x1,M)+z(a.x0,M))/2,M)},ycenter:function(a,M,_){return e((z(a.y1,_)+z(a.y0,_))/2,_)}}},89861:function(ie,z,e){"use strict";var S=e(25376),A=e(66741),a=e(92880).extendDeepAll,M=e(67824).overrideAll,_=e(85656),d=e(31780).templatedArray,s=e(60876),t=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ie.exports=M(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(A({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:_.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:S({})},font:S({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},60876:function(ie){"use strict";ie.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(ie,z,e){"use strict";var S=e(3400),A=e(51272),a=e(89861),M=e(60876).name,_=a.steps;function d(t,i,n){function r(c,b){return S.coerce(t,i,a,c,b)}for(var o=A(t,i,{name:"steps",handleItemDefaults:s}),u=0,l=0;l<o.length;l++)o[l].visible&&u++;if(u<2?i.visible=!1:r("visible")){i._stepCount=u;var h=i._visibleSteps=S.filterVisible(o);(o[r("active")]||{}).visible||(i.active=h[0]._index),r("x"),r("y"),S.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),S.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),S.coerceFont(r,"currentvalue.font",i.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function s(t,i){function n(o,u){return S.coerce(t,i,_,o,u)}if("skip"===t.method||Array.isArray(t.args)?n("visible"):i.visible=!1){n("method"),n("args");var r=n("label","step-"+i._index);n("value",r),n("execute")}}ie.exports=function(t,i){A(t,i,{name:M,handleItemDefaults:d})}},79664:function(ie,z,e){"use strict";var S=e(33428),A=e(7316),a=e(76308),M=e(43616),_=e(3400),d=_.strTranslate,s=e(72736),t=e(31780).arrayEditor,i=e(60876),n=e(84284),r=n.LINE_SPACING,o=n.FROM_TL,u=n.FROM_BR;function l(O){return i.autoMarginIdRoot+O._index}function h(O){return O._index}function c(O,B){var q=M.tester.selectAll("g."+i.labelGroupClass).data(B._visibleSteps);q.enter().append("g").classed(i.labelGroupClass,!0);var N=0,H=0;q.each(function(re){var J=m(S.select(this),{step:re},B).node();if(J){var le=M.bBox(J);H=Math.max(H,le.height),N=Math.max(N,le.width)}}),q.remove();var $=B._dims={};$.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var j=O._fullLayout._size;if($.lx=j.l+j.w*B.x,$.ly=j.t+j.h*(1-B.y),$.outerLength="fraction"===B.lenmode?Math.round(j.w*B.len):B.len,$.inputAreaStart=0,$.inputAreaLength=Math.round($.outerLength-B.pad.l-B.pad.r),$.labelStride=Math.max(1,Math.ceil((N+i.labelPadding)/(($.inputAreaLength-2*i.stepInset)/(B._stepCount-1)))),$.labelHeight=H,$.currentValueMaxWidth=0,$.currentValueHeight=0,$.currentValueTotalHeight=0,$.currentValueMaxLines=1,B.currentvalue.visible){var ae=M.tester.append("g");q.each(function(re){var J=b(ae,B,re.label),le=J.node()&&M.bBox(J.node())||{width:0,height:0},fe=s.lineCount(J);$.currentValueMaxWidth=Math.max($.currentValueMaxWidth,Math.ceil(le.width)),$.currentValueHeight=Math.max($.currentValueHeight,Math.ceil(le.height)),$.currentValueMaxLines=Math.max($.currentValueMaxLines,fe)}),$.currentValueTotalHeight=$.currentValueHeight+B.currentvalue.offset,ae.remove()}$.height=$.currentValueTotalHeight+i.tickOffset+B.ticklen+i.labelOffset+$.labelHeight+B.pad.t+B.pad.b;var te="left";_.isRightAnchor(B)&&($.lx-=$.outerLength,te="right"),_.isCenterAnchor(B)&&($.lx-=$.outerLength/2,te="center");var Q="top";_.isBottomAnchor(B)&&($.ly-=$.height,Q="bottom"),_.isMiddleAnchor(B)&&($.ly-=$.height/2,Q="middle"),$.outerLength=Math.ceil($.outerLength),$.height=Math.ceil($.height),$.lx=Math.round($.lx),$.ly=Math.round($.ly);var ee={y:B.y,b:$.height*u[Q],t:$.height*o[Q]};"fraction"===B.lenmode?(ee.l=0,ee.xl=B.x-B.len*o[te],ee.r=0,ee.xr=B.x+B.len*u[te]):(ee.x=B.x,ee.l=$.outerLength*o[te],ee.r=$.outerLength*u[te]),A.autoMargin(O,l(B),ee)}function b(O,B,q){if(B.currentvalue.visible){var N,H,$=B._dims;switch(B.currentvalue.xanchor){case"right":N=$.inputAreaLength-i.currentValueInset-$.currentValueMaxWidth,H="left";break;case"center":N=.5*$.inputAreaLength,H="middle";break;default:N=i.currentValueInset,H="left"}var j=_.ensureSingle(O,"text",i.labelClass,function(ee){ee.attr({"text-anchor":H,"data-notex":1})}),W=B.currentvalue.prefix?B.currentvalue.prefix:"";if("string"==typeof q)W+=q;else{var G=B.steps[B.active].label,ae=B._gd._fullLayout._meta;ae&&(G=_.templateString(G,ae)),W+=G}B.currentvalue.suffix&&(W+=B.currentvalue.suffix),j.call(M.font,B.currentvalue.font).text(W).call(s.convertToTspans,B._gd);var te=s.lineCount(j);return s.positionText(j,N,($.currentValueMaxLines+1-te)*B.currentvalue.font.size*r),j}}function p(O,B,q){_.ensureSingle(O,"rect",i.gripRectClass,function(N){N.call(w,B,O,q).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(a.stroke,q.bordercolor).call(a.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px")}function m(O,B,q){var N=_.ensureSingle(O,"text",i.labelClass,function(j){j.attr({"text-anchor":"middle","data-notex":1})}),H=B.step.label,$=q._gd._fullLayout._meta;return $&&(H=_.templateString(H,$)),N.call(M.font,q.font).text(H).call(s.convertToTspans,q._gd),N}function v(O,B){var q=_.ensureSingle(O,"g",i.labelsClass),N=B._dims,H=q.selectAll("g."+i.labelGroupClass).data(N.labelSteps);H.enter().append("g").classed(i.labelGroupClass,!0),H.exit().remove(),H.each(function($){var j=S.select(this);j.call(m,$,B),M.setTranslate(j,T(B,$.fraction),i.tickOffset+B.ticklen+B.font.size*r+i.labelOffset+N.currentValueTotalHeight)})}function x(O,B,q,N,H){var $=Math.round(N*(q._stepCount-1)),j=q._visibleSteps[$]._index;j!==q.active&&y(O,B,q,j,!0,H)}function y(O,B,q,N,H,$){var j=q.active;q.active=N,t(O.layout,i.name,q).applyUpdate("active",N);var W=q.steps[q.active];B.call(C,q,$),B.call(b,q),O.emit("plotly_sliderchange",{slider:q,step:q.steps[q.active],interaction:H,previousActive:j}),W&&W.method&&H&&(B._nextMethod?(B._nextMethod.step=W,B._nextMethod.doCallback=H,B._nextMethod.doTransition=$):(B._nextMethod={step:W,doCallback:H,doTransition:$},B._nextMethodRaf=window.requestAnimationFrame(function(){var G=B._nextMethod.step;G.method&&(G.execute&&A.executeAPICommand(O,G.method,G.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function w(O,B,q){if(!B._context.staticPlot){var N=q.node(),H=S.select(B);O.on("mousedown",j),O.on("touchstart",j)}function $(){return q.data()[0]}function j(){var W=$();B.emit("plotly_sliderstart",{slider:W});var G=q.select("."+i.gripRectClass);S.event.stopPropagation(),S.event.preventDefault(),G.call(a.fill,W.activebgcolor);var ae=D(W,S.mouse(N)[0]);function te(){var ee=$(),re=D(ee,S.mouse(N)[0]);x(B,q,ee,re,!1)}function Q(){var ee=$();ee._dragging=!1,G.call(a.fill,ee.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),B.emit("plotly_sliderend",{slider:ee,step:ee.steps[ee.active]})}x(B,q,W,ae,!0),W._dragging=!0,H.on("mousemove",te),H.on("touchmove",te),H.on("mouseup",Q),H.on("touchend",Q)}}function f(O,B){var q=O.selectAll("rect."+i.tickRectClass).data(B._visibleSteps),N=B._dims;q.enter().append("rect").classed(i.tickRectClass,!0),q.exit().remove(),q.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),q.each(function(H,$){var j=$%N.labelStride==0,W=S.select(this);W.attr({height:j?B.ticklen:B.minorticklen}).call(a.fill,B.tickcolor),M.setTranslate(W,T(B,$/(B._stepCount-1))-.5*B.tickwidth,(j?i.tickOffset:i.minorTickOffset)+N.currentValueTotalHeight)})}function C(O,B,q){for(var N=O.select("rect."+i.gripRectClass),H=0,$=0;$<B._stepCount;$++)if(B._visibleSteps[$]._index===B.active){H=$;break}var j=T(B,H/(B._stepCount-1));if(!B._invokingCommand){var W=N;q&&B.transition.duration>0&&(W=W.transition().duration(B.transition.duration).ease(B.transition.easing)),W.attr("transform",d(j-.5*i.gripWidth,B._dims.currentValueTotalHeight))}}function T(O,B){var q=O._dims;return q.inputAreaStart+i.stepInset+(q.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,B))}function D(O,B){var q=O._dims;return Math.min(1,Math.max(0,(B-i.stepInset-q.inputAreaStart)/(q.inputAreaLength-2*i.stepInset-2*q.inputAreaStart)))}function R(O,B,q){var N=q._dims,H=_.ensureSingle(O,"rect",i.railTouchRectClass,function($){$.call(w,B,O,q).style("pointer-events","all")});H.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,i.tickOffset+q.ticklen+N.labelHeight)}).call(a.fill,q.bgcolor).attr("opacity",0),M.setTranslate(H,0,N.currentValueTotalHeight)}function P(O,B){var q=B._dims,N=q.inputAreaLength-2*i.railInset,H=_.ensureSingle(O,"rect",i.railRectClass);H.attr({width:N,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),M.setTranslate(H,i.railInset,.5*(q.inputAreaWidth-i.railWidth)+q.currentValueTotalHeight)}ie.exports=function(O){var B=O._context.staticPlot,q=O._fullLayout,N=function(ae,te){for(var Q=ae[i.name],ee=[],re=0;re<Q.length;re++){var J=Q[re];J.visible&&(J._gd=te,ee.push(J))}return ee}(q,O),H=q._infolayer.selectAll("g."+i.containerClassName).data(N.length>0?[0]:[]);function $(ae){ae._commandObserver&&(ae._commandObserver.remove(),delete ae._commandObserver),A.autoMargin(O,l(ae))}if(H.enter().append("g").classed(i.containerClassName,!0).style("cursor",B?null:"ew-resize"),H.exit().each(function(){S.select(this).selectAll("g."+i.groupClassName).each($)}).remove(),0!==N.length){var j=H.selectAll("g."+i.groupClassName).data(N,h);j.enter().append("g").classed(i.groupClassName,!0),j.exit().each($).remove();for(var W=0;W<N.length;W++)c(O,N[W]);j.each(function(ae){var te=S.select(this);(function(Q){var ee=Q._dims;ee.labelSteps=[];for(var re=Q._stepCount,J=0;J<re;J+=ee.labelStride)ee.labelSteps.push({fraction:J/(re-1),step:Q._visibleSteps[J]})})(ae),A.manageCommandObserver(O,ae,ae._visibleSteps,function(Q){var ee=te.data()[0];ee.active!==Q.index&&(ee._dragging||y(O,te,ee,Q.index,!1,!0))}),function(Q,ee,re){(re.steps[re.active]||{}).visible||(re.active=re._visibleSteps[0]._index),ee.call(b,re).call(P,re).call(v,re).call(f,re).call(R,Q,re).call(p,Q,re);var J=re._dims;M.setTranslate(ee,J.lx+re.pad.l,J.ly+re.pad.t),ee.call(C,re,!1),ee.call(b,re)}(O,S.select(this),ae)})}}},97544:function(ie,z,e){"use strict";var S=e(60876);ie.exports={moduleType:"component",name:S.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(7316),M=e(24040),_=e(3400),d=_.strTranslate,s=e(43616),t=e(76308),i=e(72736),n=e(13448),r=e(84284).OPPOSITE_SIDE,o=/ [XY][0-9]* /;ie.exports={draw:function(u,l,h){var c,b=h.propContainer,p=h.propName,m=h.placeholder,v=h.traceIndex,x=h.avoid||{},y=h.attributes,w=h.transform,f=h.containerGroup,C=u._fullLayout,T=1,D=!1,R=b.title,P=(R&&R.text?R.text:"").trim(),O=R&&R.font?R.font:{},B=O.family,q=O.size,N=O.color,H=O.weight,$=O.style,j=O.variant;"title.text"===p?c="titleText":-1!==p.indexOf("axis")?c="axisTitleText":p.indexOf(!0)&&(c="colorbarTitleText");var W=u._context.edits[c];""===P?T=0:P.replace(o," % ")===m.replace(o," % ")&&(T=.2,D=!0,W||(P="")),h._meta?P=_.templateString(P,h._meta):C._meta&&(P=_.templateString(P,C._meta));var G,ae=P||W;f||(f=_.ensureSingle(C._infolayer,"g","g-"+l),G=C._hColorbarMoveTitle);var te=f.selectAll("text").data(ae?[0]:[]);if(te.enter().append("text"),te.text(P).attr("class",l),te.exit().remove(),!ae)return f;function Q(J){_.syncOrAsync([ee,re],J)}function ee(J){var le;return!w&&G&&(w={}),w?(le="",w.rotate&&(le+="rotate("+[w.rotate,y.x,y.y]+")"),(w.offset||G)&&(le+=d(0,(w.offset||0)-(G||0)))):le=null,J.attr("transform",le),J.style({"font-family":B,"font-size":S.round(q,2)+"px",fill:t.rgb(N),opacity:T*t.opacity(N),"font-weight":H,"font-style":$,"font-variant":j}).attr(y).call(i.convertToTspans,u),a.previousPromises(u)}function re(J){var le=S.select(J.node().parentNode);if(x&&x.selection&&x.side&&P){le.attr("transform",null);var fe=r[x.side],ce="left"===x.side||"top"===x.side?-1:1,ge=A(x.pad)?x.pad:2,Te=s.bBox(le.node()),Me={t:0,b:0,l:0,r:0},we=u._fullLayout._reservedMargin;for(var xe in we)for(var be in we[xe])Me[be]=Math.max(Me[be],we[xe][be]);var Ee=x.maxShift||ce*({left:Me.l,top:Me.t,right:C.width-Me.r,bottom:C.height-Me.b}[x.side]-Te[x.side]),he=0;if(Ee<0)he=Ee;else{var ue=x.offsetLeft||0,me=x.offsetTop||0;Te.left-=ue,Te.right-=ue,Te.top-=me,Te.bottom-=me,x.selection.each(function(){var Ce=s.bBox(this);_.bBoxIntersect(Te,Ce,ge)&&(he=Math.max(he,ce*(Ce[x.side]-Te[fe])+ge))}),he=Math.min(Ee,he),b._titleScoot=Math.abs(he)}if(he>0||Ee<0){var Pe={left:[-he,0],right:[he,0],top:[0,-he],bottom:[0,he]}[x.side];le.attr("transform",d(Pe[0],Pe[1]))}}}return te.call(Q),W&&(P?te.on(".opacity",null):(T=0,D=!0,te.text(m).on("mouseover.opacity",function(){S.select(this).transition().duration(n.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){S.select(this).transition().duration(n.HIDE_PLACEHOLDER).style("opacity",0)})),te.call(i.makeEditable,{gd:u}).on("edit",function(J){void 0!==v?M.call("_guiRestyle",u,p,J,v):M.call("_guiRelayout",u,p,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Q)}).on("input",function(J){this.text(J||" ").call(i.positionText,y.x,y.y)})),te.classed("js-placeholder",D),f}}},88444:function(ie,z,e){"use strict";var S=e(25376),A=e(22548),a=e(92880).extendFlat,M=e(67824).overrideAll,_=e(66741),d=e(31780).templatedArray,s=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ie.exports=M(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(_({editType:"arraydraw"}),{}),font:S({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:A.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(ie){"use strict";ie.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},91384:function(ie,z,e){"use strict";var S=e(3400),A=e(51272),a=e(88444),M=e(73712).name,_=a.buttons;function d(t,i,n){function r(o,u){return S.coerce(t,i,a,o,u)}r("visible",A(t,i,{name:"buttons",handleItemDefaults:s}).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),S.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),S.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function s(t,i){function n(r,o){return S.coerce(t,i,_,r,o)}n("visible","skip"===t.method||Array.isArray(t.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}ie.exports=function(t,i){A(t,i,{name:M,handleItemDefaults:d})}},14420:function(ie,z,e){"use strict";var S=e(33428),A=e(7316),a=e(76308),M=e(43616),_=e(3400),d=e(72736),s=e(31780).arrayEditor,t=e(84284).LINE_SPACING,i=e(73712),n=e(37400);function r(T){return T._index}function o(T,D){return+T.attr(i.menuIndexAttrName)===D._index}function u(T,D,R,P,O,B,q,N){D.active=q,s(T.layout,i.name,D).applyUpdate("active",q),"buttons"===D.type?h(T,P,null,null,D):"dropdown"===D.type&&(O.attr(i.menuIndexAttrName,"-1"),l(T,P,O,B,D),N||h(T,P,O,B,D))}function l(T,D,R,P,O){var B=_.ensureSingle(D,"g",i.headerClassName,function(W){W.style("pointer-events","all")}),q=O._dims,$={y:O.pad.t,yPad:0,x:O.pad.l,xPad:0,index:0},j={width:q.headerWidth,height:q.headerHeight};B.call(c,O,O.buttons[O.active]||i.blankHeaderOpts,T).call(f,O,$,j),_.ensureSingle(D,"text",i.headerArrowClassName,function(W){W.attr("text-anchor","end").call(M.font,O.font).text(i.arrowSymbol[O.direction])}).attr({x:q.headerWidth-i.arrowOffsetX+O.pad.l,y:q.headerHeight/2+i.textOffsetY+O.pad.t}),B.on("click",function(){R.call(C,String(o(R,O)?-1:O._index)),h(T,D,R,P,O)}),B.on("mouseover",function(){B.call(v)}),B.on("mouseout",function(){B.call(x,O)}),M.setTranslate(D,q.lx,q.ly)}function h(T,D,R,P,O){R||(R=D).attr("pointer-events","all");var B=-1==+R.attr(i.menuIndexAttrName)&&"buttons"!==O.type?[]:O.buttons,q="dropdown"===O.type?i.dropdownButtonClassName:i.buttonClassName,N=R.selectAll("g."+q).data(_.filterVisible(B)),H=N.enter().append("g").classed(q,!0),$=N.exit();"dropdown"===O.type?(H.attr("opacity","0").transition().attr("opacity","1"),$.transition().attr("opacity","0").remove()):$.remove();var j=0,W=0,G=O._dims,ae=-1!==["up","down"].indexOf(O.direction);"dropdown"===O.type&&(ae?W=G.headerHeight+i.gapButtonHeader:j=G.headerWidth+i.gapButtonHeader),"dropdown"===O.type&&"up"===O.direction&&(W=-i.gapButtonHeader+i.gapButton-G.openHeight),"dropdown"===O.type&&"left"===O.direction&&(j=-i.gapButtonHeader+i.gapButton-G.openWidth);var ee,re,J,te={x:G.lx+j+O.pad.l,y:G.ly+W+O.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},Q={l:te.x+O.borderwidth,t:te.y+O.borderwidth};N.each(function(ee,re){var J=S.select(this);J.call(c,O,ee,T).call(f,O,te),J.on("click",function(){S.event.defaultPrevented||(ee.execute&&(ee.args2&&O.active===re?(u(T,O,0,D,R,P,-1),A.executeAPICommand(T,ee.method,ee.args2)):(u(T,O,0,D,R,P,re),A.executeAPICommand(T,ee.method,ee.args))),T.emit("plotly_buttonclicked",{menu:O,button:ee,active:O.active}))}),J.on("mouseover",function(){J.call(v)}),J.on("mouseout",function(){J.call(x,O),N.call(m,O)})}),N.call(m,O),ae?(Q.w=Math.max(G.openWidth,G.headerWidth),Q.h=te.y-Q.t):(Q.w=te.x-Q.l,Q.h=Math.max(G.openHeight,G.headerHeight)),Q.direction=O.direction,P&&(N.size()?function(ee,re,J,le,fe,ce){var ge,Te,Me,we=fe.direction,be=fe._dims,ye=fe.active;if("up"===we||"down"===we)for(Te=0,Me=0;Me<ye;Me++)Te+=be.heights[Me]+i.gapButton;else for(ge=0,Me=0;Me<ye;Me++)ge+=be.widths[Me]+i.gapButton;le.enable(ce,ge,Te),le.hbar&&le.hbar.attr("opacity","0").transition().attr("opacity","1"),le.vbar&&le.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,P,O,Q):(J=!!(ee=P).vbar,(re=!!ee.hbar)&&ee.hbar.transition().attr("opacity","0").each("end",function(){re=!1,J||ee.disable()}),J&&ee.vbar.transition().attr("opacity","0").each("end",function(){J=!1,re||ee.disable()})))}function c(T,D,R,P){T.call(b,D).call(p,D,R,P)}function b(T,D){_.ensureSingle(T,"rect",i.itemRectClassName,function(R){R.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,D.bordercolor).call(a.fill,D.bgcolor).style("stroke-width",D.borderwidth+"px")}function p(T,D,R,P){var O=_.ensureSingle(T,"text",i.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),B=R.label,q=P._fullLayout._meta;q&&(B=_.templateString(B,q)),O.call(M.font,D.font).text(B).call(d.convertToTspans,P)}function m(T,D){var R=D.active;T.each(function(P,O){var B=S.select(this);O===R&&D.showactive&&B.select("rect."+i.itemRectClassName).call(a.fill,i.activeColor)})}function v(T){T.select("rect."+i.itemRectClassName).call(a.fill,i.hoverColor)}function x(T,D){T.select("rect."+i.itemRectClassName).call(a.fill,D.bgcolor)}function y(T,D){var R=D._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},P=M.tester.selectAll("g."+i.dropdownButtonClassName).data(_.filterVisible(D.buttons));P.enter().append("g").classed(i.dropdownButtonClassName,!0);var O=-1!==["up","down"].indexOf(D.direction);P.each(function(j,W){var G=S.select(this);G.call(c,D,j,T);var ae=G.select("."+i.itemTextClassName),te=ae.node()&&M.bBox(ae.node()).width,Q=Math.max(te+i.textPadX,i.minWidth),ee=D.font.size*t,re=d.lineCount(ae),J=Math.max(ee*re,i.minHeight)+i.textOffsetY;J=Math.ceil(J),Q=Math.ceil(Q),R.widths[W]=Q,R.heights[W]=J,R.height1=Math.max(R.height1,J),R.width1=Math.max(R.width1,Q),O?(R.totalWidth=Math.max(R.totalWidth,Q),R.openWidth=R.totalWidth,R.totalHeight+=J+i.gapButton,R.openHeight+=J+i.gapButton):(R.totalWidth+=Q+i.gapButton,R.openWidth+=Q+i.gapButton,R.totalHeight=Math.max(R.totalHeight,J),R.openHeight=R.totalHeight)}),O?R.totalHeight-=i.gapButton:R.totalWidth-=i.gapButton,R.headerWidth=R.width1+i.arrowPadX,R.headerHeight=R.height1,"dropdown"===D.type&&(O?(R.width1+=i.arrowPadX,R.totalHeight=R.height1):R.totalWidth=R.width1,R.totalWidth+=i.arrowPadX),P.remove();var B=R.totalWidth+D.pad.l+D.pad.r,q=R.totalHeight+D.pad.t+D.pad.b,N=T._fullLayout._size;R.lx=N.l+N.w*D.x,R.ly=N.t+N.h*(1-D.y);var H="left";_.isRightAnchor(D)&&(R.lx-=B,H="right"),_.isCenterAnchor(D)&&(R.lx-=B/2,H="center");var $="top";_.isBottomAnchor(D)&&(R.ly-=q,$="bottom"),_.isMiddleAnchor(D)&&(R.ly-=q/2,$="middle"),R.totalWidth=Math.ceil(R.totalWidth),R.totalHeight=Math.ceil(R.totalHeight),R.lx=Math.round(R.lx),R.ly=Math.round(R.ly),A.autoMargin(T,w(D),{x:D.x,y:D.y,l:B*({right:1,center:.5}[H]||0),r:B*({left:1,center:.5}[H]||0),b:q*({top:1,middle:.5}[$]||0),t:q*({bottom:1,middle:.5}[$]||0)})}function w(T){return i.autoMarginIdRoot+T._index}function f(T,D,R,P){P=P||{};var O=T.select("."+i.itemRectClassName),B=T.select("."+i.itemTextClassName),q=D.borderwidth,N=R.index,H=D._dims;M.setTranslate(T,q+R.x,q+R.y);var $=-1!==["up","down"].indexOf(D.direction),j=P.height||($?H.heights[N]:H.height1);O.attr({x:0,y:0,width:P.width||($?H.width1:H.widths[N]),height:j});var W=D.font.size*t,G=(d.lineCount(B)-1)*W/2;d.positionText(B,i.textOffsetX,j/2-G+i.textOffsetY),$?R.y+=H.heights[N]+R.yPad:R.x+=H.widths[N]+R.xPad,R.index++}function C(T,D){T.attr(i.menuIndexAttrName,D||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}ie.exports=function(T){var D=T._fullLayout,R=_.filterVisible(D[i.name]);function P(W){A.autoMargin(T,w(W))}var O=D._menulayer.selectAll("g."+i.containerClassName).data(R.length>0?[0]:[]);if(O.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){S.select(this).selectAll("g."+i.headerGroupClassName).each(P)}).remove(),0!==R.length){var B=O.selectAll("g."+i.headerGroupClassName).data(R,r);B.enter().append("g").classed(i.headerGroupClassName,!0);for(var q=_.ensureSingle(O,"g",i.dropdownButtonGroupClassName,function(W){W.style("pointer-events","all")}),N=0;N<R.length;N++)y(T,R[N]);var j=new n(T,q,"updatemenus"+D._uid);B.enter().size()&&(q.node().parentNode.appendChild(q.node()),q.call(C)),B.exit().each(function(W){q.call(C),P(W)}).remove(),B.each(function(W){var G=S.select(this),ae="dropdown"===W.type?q:null;A.manageCommandObserver(T,W,W.buttons,function(te){u(T,W,0,G,ae,j,te.index,!0)}),"dropdown"===W.type?(l(T,G,q,j,W),o(q,W)&&h(T,G,q,j,W)):h(T,G,null,null,W)})}}},76908:function(ie,z,e){"use strict";var S=e(73712);ie.exports={moduleType:"component",name:S.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(ie,z,e){"use strict";ie.exports=_;var S=e(33428),A=e(76308),a=e(43616),M=e(3400);function _(d,s,t){this.gd=d,this.container=s,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}_.barWidth=2,_.barLength=20,_.barRadius=2,_.barPad=1,_.barColor="#808BA4",_.prototype.enable=function(d,s,t){var i=this.gd._fullLayout,n=i.width,r=i.height;this.position=d;var o,u,l,h,c=this.position.l,b=this.position.w,p=this.position.t,m=this.position.h,v=this.position.direction,x="down"===v,y="left"===v,w="up"===v,f=b,C=m;x||y||"right"===v||w||(this.position.direction="down",x=!0),x||w?(u=(o=c)+f,x?(l=p,C=(h=Math.min(l+C,r))-l):C=(h=p+C)-(l=Math.max(h-C,0))):(h=(l=p)+C,y?f=(u=c+f)-(o=Math.max(u-f,0)):(o=c,f=(u=Math.min(o+f,n))-o)),this._box={l:o,t:l,w:f,h:C};var T=b>f,D=_.barLength+2*_.barPad,R=_.barWidth+2*_.barPad,P=c,O=p+m;O+R>r&&(O=r-R);var B=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(A.fill,_.barColor),T?(this.hbar=B.attr({rx:_.barRadius,ry:_.barRadius,x:P,y:O,width:D,height:R}),this._hbarXMin=P+D/2,this._hbarTranslateMax=f-D):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var q=m>C,N=_.barWidth+2*_.barPad,H=_.barLength+2*_.barPad,$=c+b,j=p;$+N>n&&($=n-N);var W=this.container.selectAll("rect.scrollbar-vertical").data(q?[0]:[]);W.exit().on(".drag",null).remove(),W.enter().append("rect").classed("scrollbar-vertical",!0).call(A.fill,_.barColor),q?(this.vbar=W.attr({rx:_.barRadius,ry:_.barRadius,x:$,y:j,width:N,height:H}),this._vbarYMin=j+H/2,this._vbarTranslateMax=C-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var G=this.id,ae=o-.5,te=q?u+N+.5:u+.5,Q=l-.5,ee=T?h+R+.5:h+.5,re=i._topdefs.selectAll("#"+G).data(T||q?[0]:[]);if(re.exit().remove(),re.enter().append("clipPath").attr("id",G).append("rect"),T||q?(this._clipRect=re.select("rect").attr({x:Math.floor(ae),y:Math.floor(Q),width:Math.ceil(te)-Math.floor(ae),height:Math.ceil(ee)-Math.floor(Q)}),this.container.call(a.setClipUrl,G,this.gd),this.bg.attr({x:c,y:p,width:b,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),T||q){var J=S.behavior.drag().on("dragstart",function(){S.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(J);var le=S.behavior.drag().on("dragstart",function(){S.event.sourceEvent.preventDefault(),S.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(le),q&&this.vbar.on(".drag",null).call(le)}this.setTranslate(s,t)},_.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},_.prototype._onBoxDrag=function(){var d=this.translateX,s=this.translateY;this.hbar&&(d-=S.event.dx),this.vbar&&(s-=S.event.dy),this.setTranslate(d,s)},_.prototype._onBoxWheel=function(){var d=this.translateX,s=this.translateY;this.hbar&&(d+=S.event.deltaY),this.vbar&&(s+=S.event.deltaY),this.setTranslate(d,s)},_.prototype._onBarDrag=function(){var d=this.translateX,s=this.translateY;if(this.hbar){var t=d+this._hbarXMin,i=t+this._hbarTranslateMax;d=(M.constrain(S.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var n=s+this._vbarYMin,r=n+this._vbarTranslateMax;s=(M.constrain(S.event.y,n,r)-n)/(r-n)*(this.position.h-this._box.h)}this.setTranslate(d,s)},_.prototype.setTranslate=function(d,s){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;d=M.constrain(d||0,0,t),s=M.constrain(s||0,0,i),this.translateX=d,this.translateY=s,this.container.call(a.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar&&this.hbar.call(a.setTranslate,d+d/t*this._hbarTranslateMax,s),this.vbar&&this.vbar.call(a.setTranslate,d,s+s/i*this._vbarTranslateMax)}},84284:function(ie){"use strict";ie.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(ie){"use strict";ie.exports={axisRefDescription:function(z,e,S){return["If set to a",z,"axis id (e.g. *"+z+"* or","*"+z+"2*), the `"+z+"` position refers to a",z,"coordinate. If set to *paper*, the `"+z+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+S+"). If set to a",z,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+z+"2 domain* refers to the domain of the second",z," axis and a",z,"position of 0.5 refers to the","point between the",e,"and the",S,"of the domain of the","second",z,"axis."].join(" ")}}},48164:function(ie){"use strict";ie.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},26880:function(ie){"use strict";ie.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(ie){"use strict";ie.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(ie){"use strict";ie.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(ie){"use strict";ie.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},13448:function(ie){"use strict";ie.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(ie){"use strict";ie.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2264:function(ie,z){"use strict";z.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],z.STYLE=z.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(ie,z){"use strict";z.xmlns="http://www.w3.org/2000/xmlns/",z.svg="http://www.w3.org/2000/svg",z.xlink="http://www.w3.org/1999/xlink",z.svgAttrs={xmlns:z.svg,"xmlns:xlink":z.xlink}},64884:function(ie,z,e){"use strict";z.version=e(25788).version,e(88324),e(79288);for(var S=e(24040),A=z.register=S.register,a=e(22448),M=Object.keys(a),_=0;_<M.length;_++){var d=M[_];"_"!==d.charAt(0)&&(z[d]=a[d]),A({moduleType:"apiMethod",name:d,fn:a[d]})}A(e(65875)),A([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),A([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(A(window.PlotlyLocales),delete window.PlotlyLocales),z.Icons=e(9224);var s=e(93024),t=e(7316);z.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},z.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},z.Snapshot=e(78904),z.PlotSchema=e(73060)},9224:function(ie){"use strict";ie.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(ie,z){"use strict";z.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=.3333333333333333},z.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>.3333333333333333&&e.x<.6666666666666666},z.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=.6666666666666666},z.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=.6666666666666666},z.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>.3333333333333333&&e.y<.6666666666666666},z.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=.3333333333333333}},11864:function(ie,z,e){"use strict";var S=e(20435),A=S.mod,a=S.modHalf,M=Math.PI,_=2*M;function d(n){return Math.abs(n[1]-n[0])>_-1e-14}function s(n,r){return a(r-n,_)}function t(n,r){if(d(r))return!0;var o,u;r[0]<r[1]?(o=r[0],u=r[1]):(o=r[1],u=r[0]),(o=A(o,_))>(u=A(u,_))&&(u+=_);var l=A(n,_),h=l+_;return l>=o&&l<=u||h>=o&&h<=u}function i(n,r,o,u,l,h,c){l=l||0,h=h||0;var b,p,m,v,x,y=d([o,u]);function w(D,R){return[D*Math.cos(R)+l,h-D*Math.sin(R)]}y?(b=0,p=M,m=_):o<u?(b=o,m=u):(b=u,m=o),n<r?(v=n,x=r):(v=r,x=n);var f,C=Math.abs(m-b)<=M?0:1;function T(D,R,P){return"A"+[D,D]+" "+[0,C,P]+" "+w(D,R)}return y?f=null===v?"M"+w(x,b)+T(x,p,0)+T(x,m,0)+"Z":"M"+w(v,b)+T(v,p,0)+T(v,m,0)+"ZM"+w(x,b)+T(x,p,1)+T(x,m,1)+"Z":null===v?(f="M"+w(x,b)+T(x,m,0),c&&(f+="L0,0Z")):f="M"+w(v,b)+"L"+w(x,b)+T(x,m,0)+"L"+w(v,m)+T(v,b,1)+"Z",f}ie.exports={deg2rad:function(n){return n/180*M},rad2deg:function(n){return n/M*180},angleDelta:s,angleDist:function(n,r){return Math.abs(s(n,r))},isFullCircle:d,isAngleInsideSector:t,isPtInsideSector:function(n,r,o,u){return!!t(r,u)&&(o[0]<o[1]?(l=o[0],h=o[1]):(l=o[1],h=o[0]),n>=l&&n<=h);var l,h},pathArc:function(n,r,o,u,l){return i(null,n,r,o,u,l,0)},pathSector:function(n,r,o,u,l){return i(null,n,r,o,u,l,1)},pathAnnulus:function(n,r,o,u,l,h){return i(n,r,o,u,l,h,1)}}},38116:function(ie,z,e){"use strict";var S=e(83160).decode,A=e(63620),a=Array.isArray,M=ArrayBuffer,_=DataView;function d(r){return M.isView(r)&&!(r instanceof _)}function s(r){return a(r)||d(r)}z.isTypedArray=d,z.isArrayOrTypedArray=s,z.isArray1D=function(r){return!s(r[0])},z.ensureArray=function(r,o){return a(r)||(r=[]),r.length=o,r};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(r){return r.constructor===ArrayBuffer}function n(r,o,u){if(s(r)){if(s(r[0])){for(var l=u,h=0;h<r.length;h++)l=o(l,r[h].length);return l}return r.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,z.isArrayBuffer=i,z.decodeTypedArraySpec=function(r){var D,o=[],u={bdata:(D=r).bdata,dtype:D.dtype,shape:D.shape},l=u.dtype,h=t[l];if(!h)throw new Error('Error in dtype: "'+l+'"');var c=h.BYTES_PER_ELEMENT,b=u.bdata;i(b)||(b=S(b));var p=void 0===u.shape?[b.byteLength/c]:(""+u.shape).split(",");p.reverse();var m,v,x=p.length,y=+p[0],w=c*y,f=0;if(1===x)o=new h(b);else if(2===x)for(m=+p[1],v=0;v<m;v++)o[v]=new h(b,f,y),f+=w;else{if(3!==x)throw new Error("ndim: "+x+'is not supported with the shape:"'+u.shape+'"');m=+p[1];for(var C=+p[2],T=0;T<C;T++)for(o[T]=[],v=0;v<m;v++)o[T][v]=new h(b,f,y),f+=w}return o.bdata=u.bdata,o.dtype=u.dtype,o.shape=p.reverse().join(","),r._inputArray=o,o},z.isTypedArraySpec=function(r){return A(r)&&r.hasOwnProperty("dtype")&&"string"==typeof r.dtype&&r.hasOwnProperty("bdata")&&("string"==typeof r.bdata||i(r.bdata))&&(void 0===r.shape||r.hasOwnProperty("shape")&&("string"==typeof r.shape||"number"==typeof r.shape))},z.concat=function(){var r,o,u,l,h,c,b,p,m=[],v=!0,x=0;for(u=0;u<arguments.length;u++)(c=(l=arguments[u]).length)&&(o?m.push(l):(o=l,h=c),a(l)?r=!1:(v=!1,x?r!==l.constructor&&(r=!1):r=l.constructor),x+=c);if(!x)return[];if(!m.length)return o;if(v)return o.concat.apply(o,m);if(r){for((b=new r(x)).set(o),u=0;u<m.length;u++)b.set(l=m[u],h),h+=l.length;return b}for(b=new Array(x),p=0;p<o.length;p++)b[p]=o[p];for(u=0;u<m.length;u++){for(l=m[u],p=0;p<l.length;p++)b[h+p]=l[p];h+=p}return b},z.maxRowLength=function(r){return n(r,Math.max,0)},z.minRowLength=function(r){return n(r,Math.min,1/0)}},54037:function(ie,z,e){"use strict";var S=e(38248),A=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ie.exports=function(M){return"string"==typeof M&&(M=M.replace(a,"")),S(M)?Number(M):A}},73696:function(ie){"use strict";ie.exports=function(z){var e=z._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(S){S.regl&&S.regl.clear({color:!0,depth:!0})})}},75352:function(ie){"use strict";ie.exports=function(z){z._responsiveChartHandler&&(window.removeEventListener("resize",z._responsiveChartHandler),delete z._responsiveChartHandler)}},63064:function(ie,z,e){"use strict";var S=e(38248),A=e(49760),a=e(45464),M=e(88304),_=e(76308),d=e(13448).DESELECTDIM,s=e(22296),t=e(53756).counter,i=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,r=e(38116).isTypedArraySpec,o=e(38116).decodeTypedArraySpec;function u(l,h){var c=z.valObjectMeta[h.valType];if(h.arrayOk&&n(l))return!0;if(c.validateFunction)return c.validateFunction(l,h);var b={},p=b;return c.coerceFunction(l,{set:function(v){p=v}},b,h),p!==b}z.valObjectMeta={data_array:{coerceFunction:function(l,h,c){h.set(n(l)?l:r(l)?o(l):c)}},enumerated:{coerceFunction:function(l,h,c,b){b.coerceNumber&&(l=+l),-1===b.values.indexOf(l)?h.set(c):h.set(l)},validateFunction:function(l,h){h.coerceNumber&&(l=+l);for(var c=h.values,b=0;b<c.length;b++){var p=String(c[b]);if("/"===p.charAt(0)&&"/"===p.charAt(p.length-1)){if(new RegExp(p.substr(1,p.length-2)).test(l))return!0}else if(l===c[b])return!0}return!1}},boolean:{coerceFunction:function(l,h,c){h.set(!0===l||!1===l?l:c)}},number:{coerceFunction:function(l,h,c,b){!S(l)||void 0!==b.min&&l<b.min||void 0!==b.max&&l>b.max?h.set(c):h.set(+l)}},integer:{coerceFunction:function(l,h,c,b){l%1||!S(l)||void 0!==b.min&&l<b.min||void 0!==b.max&&l>b.max?h.set(c):h.set(+l)}},string:{coerceFunction:function(l,h,c,b){h.set("string"!=typeof l?!0!==b.strict&&"number"==typeof l?String(l):c:b.noBlank&&!l?c:l)}},color:{coerceFunction:function(l,h,c){A(l).isValid()?h.set(l):h.set(c)}},colorlist:{coerceFunction:function(l,h,c){Array.isArray(l)&&l.length&&l.every(function(b){return A(b).isValid()})?h.set(l):h.set(c)}},colorscale:{coerceFunction:function(l,h,c){h.set(M.get(l,c))}},angle:{coerceFunction:function(l,h,c){"auto"===l?h.set("auto"):S(l)?h.set(i(+l,360)):h.set(c)}},subplotid:{coerceFunction:function(l,h,c,b){var p=b.regex||t(c);"string"==typeof l&&p.test(l)?h.set(l):h.set(c)},validateFunction:function(l,h){var c=h.dflt;return l===c||"string"==typeof l&&!!t(c).test(l)}},flaglist:{coerceFunction:function(l,h,c,b){if(-1===(b.extras||[]).indexOf(l))if("string"==typeof l){for(var p=l.split("+"),m=0;m<p.length;){var v=p[m];-1===b.flags.indexOf(v)||p.indexOf(v)<m?p.splice(m,1):m++}h.set(p.length?p.join("+"):c)}else h.set(c);else h.set(l)}},any:{coerceFunction:function(l,h,c){h.set(void 0===l?c:r(l)?o(l):l)}},info_array:{coerceFunction:function(l,h,c,b){function p(q,N,H){var $;return void 0===H&&(H=N.dflt),z.valObjectMeta[N.valType].coerceFunction(q,{set:function(W){$=W}},H,N),$}if(r(l)&&(l=o(l)),n(l)){var m,v,x,w,f,C=2===b.dimensions||"1-2"===b.dimensions&&Array.isArray(l)&&n(l[0]),T=b.items,D=[],R=Array.isArray(T),P=R&&C&&n(T[0]),O=C&&R&&!P,B=R&&!O?T.length:l.length;if(c=Array.isArray(c)?c:[],C)for(m=0;m<B;m++)for(D[m]=[],x=n(l[m])?l[m]:[],w=O?T.length:R?T[m].length:x.length,v=0;v<w;v++)void 0!==(f=p(x[v],O?T[v]:R?T[m][v]:T,(c[m]||[])[v]))&&(D[m][v]=f);else for(m=0;m<B;m++)void 0!==(f=p(l[m],R?T[m]:T,c[m]))&&(D[m]=f);h.set(D)}else h.set(c)},validateFunction:function(l,h){if(!n(l))return!1;var c=h.items,b=Array.isArray(c),p=2===h.dimensions;if(!h.freeLength&&l.length!==c.length)return!1;for(var m=0;m<l.length;m++)if(p){if(!n(l[m])||!h.freeLength&&l[m].length!==c[m].length)return!1;for(var v=0;v<l[m].length;v++)if(!u(l[m][v],b?c[m][v]:c))return!1}else if(!u(l[m],b?c[m]:c))return!1;return!0}}},z.coerce=function(l,h,c,b,p){var m=s(c,b).get(),v=s(l,b),x=s(h,b),y=v.get(),w=h._template;if(void 0===y&&w&&(y=s(w,b).get(),w=0),void 0===p&&(p=m.dflt),m.arrayOk){if(n(y))return x.set(y),y;if(r(y))return y=o(y),x.set(y),y}var f=z.valObjectMeta[m.valType].coerceFunction;f(y,x,p,m);var C=x.get();return w&&C===p&&!u(y,m)&&(f(y=s(w,b).get(),x,p,m),C=x.get()),C},z.coerce2=function(l,h,c,b,p){var m=s(l,b),v=z.coerce(l,h,c,b,p);return null!=m.get()&&v},z.coerceFont=function(l,h,c,b){b||(b={});var p={};return p.family=l(h+".family",(c=c||{}).family),p.size=l(h+".size",c.size),p.color=l(h+".color",c.color),p.weight=l(h+".weight",c.weight),p.style=l(h+".style",c.style),b.noFontVariant||(p.variant=l(h+".variant",c.variant)),p},z.coercePattern=function(l,h,c,b){if(l(h+".shape")){l(h+".solidity"),l(h+".size");var p="overlay"===l(h+".fillmode");if(!b){var m=l(h+".bgcolor",p?c:void 0);l(h+".fgcolor",p?_.contrast(m):c)}l(h+".fgopacity",p?.5:1)}},z.coerceHoverinfo=function(l,h,c){var b,p=h._module.attributes,m=p.hoverinfo?p:a,v=m.hoverinfo;if(1===c._dataLength){var x="all"===v.dflt?v.flags.slice():v.dflt.split("+");x.splice(x.indexOf("name"),1),b=x.join("+")}return z.coerce(l,h,m,"hoverinfo",b)},z.coerceSelectionMarkerOpacity=function(l,h){if(l.marker){var c,b,p=l.marker.opacity;void 0!==p&&(n(p)||l.selected||l.unselected||(c=p,b=d*p),h("selected.marker.opacity",c),h("unselected.marker.opacity",b))}},z.validate=u},67555:function(ie,z,e){"use strict";var S,A,a=e(94336).Yn,M=e(38248),_=e(24248),d=e(20435).mod,s=e(39032),t=s.BADNUM,i=s.ONEDAY,n=s.ONEHOUR,r=s.ONEMIN,o=s.ONESEC,u=s.EPOCHJD,l=e(24040),h=e(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,p=(new Date).getFullYear()-70;function m(B){return B&&l.componentsRegistry.calendars&&"string"==typeof B&&"gregorian"!==B}function v(B,q){return String(B+Math.pow(10,q)).substr(1)}z.dateTick0=function(B,q){var $,j,N=(j=!!q,m($=B)?j?l.getComponentMethod("calendars","CANONICAL_SUNDAY")[$]:l.getComponentMethod("calendars","CANONICAL_TICK")[$]:j?"2000-01-02":"2000-01-01");if(q<2)return N;var H=z.dateTime2ms(N,B);return z.ms2DateTime(H+=i*(q-1),0,B)},z.dfltRange=function(B){return m(B)?l.getComponentMethod("calendars","DFLTRANGE")[B]:["2000-01-01","2001-01-01"]},z.isJSDate=function(B){return"object"==typeof B&&null!==B&&"function"==typeof B.getTime},z.dateTime2ms=function(B,q){if(z.isJSDate(B)){var N=B.getTimezoneOffset()*r,H=(B.getUTCMinutes()-B.getMinutes())*r+(B.getUTCSeconds()-B.getSeconds())*o+(B.getUTCMilliseconds()-B.getMilliseconds());if(H){var $=3*r;N=N-$/2+d(H-N+$/2,$)}return(B=Number(B)-N)>=S&&B<=A?B:t}if("string"!=typeof B&&"number"!=typeof B)return t;B=String(B);var j=m(q),W=B.charAt(0);!j||"G"!==W&&"g"!==W||(B=B.substr(1),q="");var G=j&&"chinese"===q.substr(0,7),ae=B.match(G?b:c);if(!ae)return t;var te=ae[1],Q=ae[3]||"1",ee=Number(ae[5]||1),re=Number(ae[7]||0),J=Number(ae[9]||0),le=Number(ae[11]||0);if(j){if(2===te.length)return t;var fe;te=Number(te);try{var ce=l.getComponentMethod("calendars","getCal")(q);if(G){var ge="i"===Q.charAt(Q.length-1);Q=parseInt(Q,10),fe=ce.newDate(te,ce.toMonthIndex(te,Q,ge),ee)}else fe=ce.newDate(te,Number(Q),ee)}catch{return t}return fe?(fe.toJD()-u)*i+re*n+J*r+le*o:t}te=2===te.length?(Number(te)+2e3-p)%100+p:Number(te),Q-=1;var Te=new Date(Date.UTC(2e3,Q,ee,re,J));return Te.setUTCFullYear(te),Te.getUTCMonth()!==Q||Te.getUTCDate()!==ee?t:Te.getTime()+le*o},S=z.MIN_MS=z.dateTime2ms("-9999"),A=z.MAX_MS=z.dateTime2ms("9999-12-31 23:59:59.9999"),z.isDateTime=function(B,q){return z.dateTime2ms(B,q)!==t};var x=90*i,y=3*n,w=5*r;function f(B,q,N,H,$){if((q||N||H||$)&&(B+=" "+v(q,2)+":"+v(N,2),(H||$)&&(B+=":"+v(H,2),$))){for(var j=4;$%10==0;)j-=1,$/=10;B+="."+v($,j)}return B}z.ms2DateTime=function(B,q,N){if("number"!=typeof B||!(B>=S&&B<=A))return t;q||(q=0);var H,$,j,W,G,ae,te=Math.floor(10*d(B+.05,1)),Q=Math.round(B-te/10);if(m(N)){var ee=Math.floor(Q/i)+u,re=Math.floor(d(B,i));try{H=l.getComponentMethod("calendars","getCal")(N).fromJD(ee).formatDate("yyyy-mm-dd")}catch{H=h("G%Y-%m-%d")(new Date(Q))}if("-"===H.charAt(0))for(;H.length<11;)H="-0"+H.substr(1);else for(;H.length<10;)H="0"+H;$=q<x?Math.floor(re/n):0,j=q<x?Math.floor(re%n/r):0,W=q<y?Math.floor(re%r/o):0,G=q<w?re%o*10+te:0}else ae=new Date(Q),H=h("%Y-%m-%d")(ae),$=q<x?ae.getUTCHours():0,j=q<x?ae.getUTCMinutes():0,W=q<y?ae.getUTCSeconds():0,G=q<w?10*ae.getUTCMilliseconds()+te:0;return f(H,$,j,W,G)},z.ms2DateTimeLocal=function(B){if(!(B>=S+i&&B<=A-i))return t;var q=Math.floor(10*d(B+.05,1)),N=new Date(Math.round(B-q/10));return f(a("%Y-%m-%d")(N),N.getHours(),N.getMinutes(),N.getSeconds(),10*N.getUTCMilliseconds()+q)},z.cleanDate=function(B,q,N){if(B===t)return q;if(z.isJSDate(B)||"number"==typeof B&&isFinite(B)){if(m(N))return _.error("JS Dates and milliseconds are incompatible with world calendars",B),q;if(!(B=z.ms2DateTimeLocal(+B))&&void 0!==q)return q}else if(!z.isDateTime(B,N))return _.error("unrecognized date",B),q;return B};var C=/%\d?f/g,T=/%h/g,D={1:"1",2:"1",3:"2",4:"2"};function R(B,q,N,H){B=B.replace(C,function(j){var W=Math.min(+j.charAt(1)||6,6);return(q/1e3%1+2).toFixed(W).substr(2).replace(/0+$/,"")||"0"});var $=new Date(Math.floor(q+.05));if(B=B.replace(T,function(){return D[N("%q")($)]}),m(H))try{B=l.getComponentMethod("calendars","worldCalFmt")(B,q,H)}catch{return"Invalid"}return N(B)($)}var P=[59,59.9,59.99,59.999,59.9999];z.formatDate=function(B,q,N,H,$,j){if($=m($)&&$,!q)if("y"===N)q=j.year;else if("m"===N)q=j.month;else{if("d"!==N)return function(W,G){var ae=d(W+.05,i),te=v(Math.floor(ae/n),2)+":"+v(d(Math.floor(ae/r),60),2);if("M"!==G){M(G)||(G=0);var Q=(100+Math.min(d(W/o,60),P[G])).toFixed(G).substr(1);G>0&&(Q=Q.replace(/0+$/,"").replace(/[\.]$/,"")),te+=":"+Q}return te}(B,N)+"\n"+R(j.dayMonthYear,B,H,$);q=j.dayMonth+"\n"+j.year}return R(q,B,H,$)};var O=3*i;z.incrementMonth=function(B,q,N){N=m(N)&&N;var H=d(B,i);if(B=Math.round(B-H),N)try{var $=Math.round(B/i)+u,j=l.getComponentMethod("calendars","getCal")(N),W=j.fromJD($);return q%12?j.add(W,q,"m"):j.add(W,q/12,"y"),(W.toJD()-u)*i+H}catch{_.error("invalid ms "+B+" in calendar "+N)}var G=new Date(B+O);return G.setUTCMonth(G.getUTCMonth()+q)+H-O},z.findExactDates=function(B,q){for(var N,H,$=0,j=0,W=0,G=0,ae=m(q)&&l.getComponentMethod("calendars","getCal")(q),te=0;te<B.length;te++)if(M(H=B[te])){if(!(H%i))if(ae)try{1===(N=ae.fromJD(H/i+u)).day()?1===N.month()?$++:j++:W++}catch{}else 1===(N=new Date(H)).getUTCDate()?0===N.getUTCMonth()?$++:j++:W++}else G++;W+=j+=$;var Q=B.length-G;return{exactYears:$/Q,exactMonths:j/Q,exactDays:W/Q}}},52200:function(ie,z,e){"use strict";var S=e(33428),A=e(24248),a=e(52248),M=e(36524);function _(n){var r=n&&n.parentNode;r&&r.removeChild(n)}function d(n,r,o){var u="plotly.js-style-"+n,l=document.getElementById(u);l||((l=document.createElement("style")).setAttribute("id",u),l.appendChild(document.createTextNode("")),document.head.appendChild(l));var h=l.sheet;h.insertRule?h.insertRule(r+"{"+o+"}",0):h.addRule?h.addRule(r,o,0):A.warn("addStyleRule failed")}function s(n){var r=window.getComputedStyle(n,null),o=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return"none"===o?null:o.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(u){return+u})}function t(n){for(var r=[];i(n);)r.push(n),n=n.parentNode;return r}function i(n){return n&&(n instanceof Element||n instanceof HTMLElement)}ie.exports={getGraphDiv:function(n){var r;if("string"==typeof n){if(null===(r=document.getElementById(n)))throw new Error("No DOM element with id '"+n+"' exists on the page.");return r}if(null==n)throw new Error("DOM element provided is null or undefined");return n},isPlotDiv:function(n){var r=S.select(n);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")},removeElement:_,addStyleRule:function(n,r){d("global",n,r)},addRelatedStyleRule:d,deleteRelatedStyleRule:function(n){var o=document.getElementById("plotly.js-style-"+n);o&&_(o)},getFullTransformMatrix:function(n){var r=t(n),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(u){var l=s(u);if(l){var h=a.convertCssMatrix(l);o=M.multiply(o,o,h)}}),o},getElementTransformMatrix:s,getElementAndAncestors:t,equalDomRects:function(n,r){return n&&r&&n.top===r.top&&n.left===r.left&&n.right===r.right&&n.bottom===r.bottom}}},95924:function(ie,z,e){"use strict";var S=e(61252).EventEmitter;ie.exports={init:function(a){if(a._ev instanceof S)return a;var M=new S,_=new S;return a._ev=M,a._internalEv=_,a.on=M.on.bind(M),a.once=M.once.bind(M),a.removeListener=M.removeListener.bind(M),a.removeAllListeners=M.removeAllListeners.bind(M),a._internalOn=_.on.bind(_),a._internalOnce=_.once.bind(_),a._removeInternalListener=_.removeListener.bind(_),a._removeAllInternalListeners=_.removeAllListeners.bind(_),a.emit=function(d,s){typeof jQuery<"u"&&jQuery(a).trigger(d,s),M.emit(d,s),_.emit(d,s)},a},triggerHandler:function(a,M,_){var d,s;typeof jQuery<"u"&&(d=jQuery(a).triggerHandler(M,_));var t=a._ev;if(!t)return d;var i,n=t._events[M];if(!n)return d;function r(o){return o.listener?(t.removeListener(M,o.listener),o.fired?void 0:(o.fired=!0,o.listener.apply(t,[_]))):o.apply(t,[_])}for(n=Array.isArray(n)?n:[n],i=0;i<n.length-1;i++)r(n[i]);return s=r(n[i]),void 0!==d?d:s},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}}},92880:function(ie,z,e){"use strict";var S=e(63620),A=Array.isArray;function a(M,_,d,s){var t,i,n,r,o,u,h=M[0],c=M.length;if(2===c&&A(h)&&A(M[1])&&0===h.length){if(function(p,m){var v,x;for(v=0;v<p.length;v++){if(null!==(x=p[v])&&"object"==typeof x)return!1;void 0!==x&&(m[v]=x)}return!0}(M[1],h))return h;h.splice(0,h.length)}for(var b=1;b<c;b++)for(i in t=M[b])n=h[i],r=t[i],s&&A(r)?h[i]=r:_&&r&&(S(r)||(o=A(r)))?(o?(o=!1,u=n&&A(n)?n:[]):u=n&&S(n)?n:{},h[i]=a([u,r],_,d,s)):(void 0!==r||d)&&(h[i]=r);return h}z.extendFlat=function(){return a(arguments,!1,!1,!1)},z.extendDeep=function(){return a(arguments,!0,!1,!1)},z.extendDeepAll=function(){return a(arguments,!0,!0,!1)},z.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},68944:function(ie){"use strict";ie.exports=function(z){for(var e={},S=[],A=0,a=0;a<z.length;a++){var M=z[a];1!==e[M]&&(e[M]=1,S[A++]=M)}return S}},43880:function(ie){"use strict";function z(S){return!0===S.visible}function e(S){var A=S[0].trace;return!0===A.visible&&0!==A._length}ie.exports=function(S){for(var A,a=(A=S,Array.isArray(A)&&Array.isArray(A[0])&&A[0][0]&&A[0][0].trace?e:z),M=[],_=0;_<S.length;_++){var d=S[_];a(d)&&M.push(d)}return M}},27144:function(ie,z,e){"use strict";var S=e(33428),A=e(36116),a=e(40440),M=e(77844),_=e(42428),d=e(35536),s=e(24248),t=e(63620),i=e(22296),n=e(92065),r=Object.keys(A),o={"ISO-3":d,"USA-states":d,"country names":function(l){for(var h=0;h<r.length;h++){var c=r[h];if(new RegExp(A[c]).test(l.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+l+"."),!1}};function u(l){var h=l.geojson,c=window.PlotlyGeoAssets||{},b="string"==typeof h?c[h]:h;return t(b)?b:(s.error("Oops ... something went wrong when fetching "+h),!1)}ie.exports={locationToFeature:function(l,h,c){if(!h||"string"!=typeof h)return!1;var b,p,m,v=o[l](h);if(v){if("USA-states"===l)for(b=[],m=0;m<c.length;m++)(p=c[m]).properties&&p.properties.gu&&"USA"===p.properties.gu&&b.push(p);else b=c;for(m=0;m<b.length;m++)if((p=b[m]).id===v)return p;s.log(["Location with id",v,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(l){var h,c,b,p,m=l.geometry,v=m.coordinates,x=l.id,y=[];function w(f){for(var C=0;C<f.length-1;C++)if(f[C][0]>0&&f[C+1][0]<0)return C;return null}switch(h="RUS"===x||"FJI"===x?function(f){var C;if(null===w(f))C=f;else for(C=new Array(f.length),p=0;p<f.length;p++)C[p]=[f[p][0]<0?f[p][0]+360:f[p][0],f[p][1]];y.push(n.tester(C))}:"ATA"===x?function(f){var C=w(f);if(null===C)return y.push(n.tester(f));var T=new Array(f.length+1),D=0;for(p=0;p<f.length;p++)p>C?T[D++]=[f[p][0]+360,f[p][1]]:p===C?(T[D++]=f[p],T[D++]=[f[p][0],-90]):T[D++]=f[p];var R=n.tester(T);R.pts.pop(),y.push(R)}:function(f){y.push(n.tester(f))},m.type){case"MultiPolygon":for(c=0;c<v.length;c++)for(b=0;b<v[c].length;b++)h(v[c][b]);break;case"Polygon":for(c=0;c<v.length;c++)h(v[c])}return y},getTraceGeojson:u,extractTraceFeature:function(l){var h=l[0].trace,c=u(h);if(!c)return!1;var b,p={},m=[];for(b=0;b<h._length;b++){var v=l[b];(v.loc||0===v.loc)&&(p[v.loc]=v)}function x(f){var C=i(f,h.featureidkey||"id").get(),T=p[C];if(T){var D=f.geometry;if("Polygon"===D.type||"MultiPolygon"===D.type){var R={type:"Feature",id:C,geometry:D,properties:{}};R.properties.ct=function(P){var O,B=P.geometry;if("MultiPolygon"===B.type)for(var q=B.coordinates,N=0,H=0;H<q.length;H++){var $={type:"Polygon",coordinates:q[H]},j=a.default($);j>N&&(N=j,O=$)}else O=B;return M.default(O).geometry.coordinates}(R),T.fIn=f,T.fOut=R,m.push(R)}else s.log(["Location",T.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete p[C]}switch(c.type){case"FeatureCollection":var y=c.features;for(b=0;b<y.length;b++)x(y[b]);break;case"Feature":x(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var w in p)s.log(["Location *"+w+"*","does not have a matching feature with id-key","*"+h.featureidkey+"*."].join(" "));return m},fetchTraceGeoData:function(l){var h=window.PlotlyGeoAssets||{},c=[];function b(x){return new Promise(function(y,w){S.json(x,function(f,C){return f?(delete h[x],w(new Error(404===f.status?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x))):(h[x]=C,y(C))})})}function p(x){return new Promise(function(y,w){var f=0,C=setInterval(function(){return h[x]&&"pending"!==h[x]?(clearInterval(C),y(h[x])):f>100?(clearInterval(C),w("Unexpected error while fetching from "+x)):void f++},50)})}for(var m=0;m<l.length;m++){var v=l[m][0].trace.geojson;"string"==typeof v&&(h[v]?"pending"===h[v]&&c.push(p(v)):(h[v]="pending",c.push(b(v))))}return c},computeBbox:function(l){return _.default(l)}}},44808:function(ie,z,e){"use strict";var S=e(39032).BADNUM;z.calcTraceToLineCoords=function(A){for(var a=A[0].trace.connectgaps,M=[],_=[],d=0;d<A.length;d++){var s=A[d].lonlat;s[0]!==S?_.push(s):!a&&_.length>0&&(M.push(_),_=[])}return _.length>0&&M.push(_),M},z.makeLine=function(A){return 1===A.length?{type:"LineString",coordinates:A[0]}:{type:"MultiLineString",coordinates:A}},z.makePolygon=function(A){if(1===A.length)return{type:"Polygon",coordinates:A};for(var a=new Array(A.length),M=0;M<A.length;M++)a[M]=[A[M]];return{type:"MultiPolygon",coordinates:a}},z.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(ie,z,e){"use strict";var S,A,a,M=e(20435).mod;function _(s,t,i,n,r,o,u,l){var h=i-s,c=r-s,b=u-r,p=n-t,m=o-t,v=l-o,x=h*v-b*p;if(0===x)return null;var y=(c*v-b*m)/x,w=(c*p-h*m)/x;return w<0||w>1||y<0||y>1?null:{x:s+h*y,y:t+p*y}}function d(s,t,i,n,r){var o=n*s+r*t;if(o<0)return n*n+r*r;if(o>i){var u=n-s,l=r-t;return u*u+l*l}var h=n*t-r*s;return h*h/i}z.segmentsIntersect=_,z.segmentDistance=function(s,t,i,n,r,o,u,l){if(_(s,t,i,n,r,o,u,l))return 0;var h=i-s,c=n-t,b=u-r,p=l-o,m=h*h+c*c,v=b*b+p*p,x=Math.min(d(h,c,m,r-s,o-t),d(h,c,m,u-s,l-t),d(b,p,v,s-r,t-o),d(b,p,v,i-r,n-o));return Math.sqrt(x)},z.getTextLocation=function(s,t,i,n){if(s===A&&n===a||(S={},A=s,a=n),S[i])return S[i];var r=s.getPointAtLength(M(i-n/2,t)),o=s.getPointAtLength(M(i+n/2,t)),u=Math.atan((o.y-r.y)/(o.x-r.x)),l=s.getPointAtLength(M(i,t)),h={x:(4*l.x+r.x+o.x)/6,y:(4*l.y+r.y+o.y)/6,theta:u};return S[i]=h,h},z.clearLocationCache=function(){A=null},z.getVisibleSegment=function(s,t,i){var n,r,o=t.left,u=t.right,l=t.top,h=t.bottom,c=0,b=s.getTotalLength(),p=b;function m(x){var y=s.getPointAtLength(x);0===x?n=y:x===b&&(r=y);var w=y.x<o?o-y.x:y.x>u?y.x-u:0,f=y.y<l?l-y.y:y.y>h?y.y-h:0;return Math.sqrt(w*w+f*f)}for(var v=m(c);v;){if((c+=v+i)>p)return;v=m(c)}for(v=m(p);v;){if(c>(p-=v+i))return;v=m(p)}return{min:c,max:p,len:p-c,total:b,isClosed:0===c&&p===b&&Math.abs(n.x-r.x)<.1&&Math.abs(n.y-r.y)<.1}},z.findPointOnPath=function(s,t,i,n){for(var r,o,u,l=(n=n||{}).pathLength||s.getTotalLength(),h=n.tolerance||.001,c=n.iterationLimit||30,b=s.getPointAtLength(0)[i]>s.getPointAtLength(l)[i]?-1:1,p=0,m=0,v=l;p<c;){if(u=(o=s.getPointAtLength(r=(m+v)/2))[i]-t,Math.abs(u)<h)return o;b*u>0?v=r:m=r,p++}return o}},33040:function(ie,z,e){"use strict";var S=e(38248),A=e(49760),a=e(72160),M=e(8932),_=e(22548).defaultLine,d=e(38116).isArrayOrTypedArray,s=a(_);function t(r,o){var u=r;return u[3]*=o,u}function i(r){if(S(r))return s;var o=a(r);return o.length?o:s}function n(r){return S(r)?r:1}ie.exports={formatColor:function(r,o,u){var l=r.color;l&&l._inputArray&&(l=l._inputArray);var h,c,b,p,m,v=d(l),x=d(o),y=M.extractOpts(r),w=[];if(h=void 0!==y.colorscale?M.makeColorScaleFuncFromTrace(r):i,c=v?function(C,T){return void 0===C[T]?s:a(h(C[T]))}:i,b=x?function(C,T){return void 0===C[T]?1:n(C[T])}:n,v||x)for(var f=0;f<u;f++)p=c(l,f),m=b(o,f),w[f]=t(p,m);else w=t(a(l),o);return w},parseColorScale:function(r){var o=M.extractOpts(r),u=o.colorscale;return o.reversescale&&(u=M.flipScale(o.colorscale)),u.map(function(l){var h=l[0],c=A(l[1]).toRgb();return{index:h,rgb:[c.r,c.g,c.b,c.a]}})}}},71688:function(ie,z,e){"use strict";var S=e(35536);function A(a){return[a]}ie.exports={keyFun:function(a){return a.key},repeat:A,descend:S,wrap:A,unwrap:function(a){return a[0]}}},35536:function(ie){"use strict";ie.exports=function(z){return z}},1396:function(ie){"use strict";ie.exports=function(z,e){if(!e)return z;var S=1/Math.abs(e),A=S>1?(S*z+S*e)/S:z+e,a=String(A).length;if(a>16){var M=String(e).length;if(a>=String(z).length+M){var _=parseFloat(A).toPrecision(12);-1===_.indexOf("e+")&&(A=+_)}}return A}},3400:function(ie,z,e){"use strict";var S=e(33428),A=e(94336).E9,a=e(57624).E9,M=e(38248),_=e(39032),d=_.FP_SAFE,s=-d,t=_.BADNUM,i=ie.exports={};i.adjustFormat=function(re){return!re||/^\d[.]\df/.test(re)||/[.]\d%/.test(re)?re:"0.f"===re?"~f":/^\d%/.test(re)?"~%":/^\ds/.test(re)?"~s":!/^[~,.0$]/.test(re)&&/[&fps]/.test(re)?"~"+re:re};var n={};i.warnBadFormat=function(re){var J=String(re);n[J]||(n[J]=1,i.warn('encountered bad format: "'+J+'"'))},i.noFormat=function(re){return String(re)},i.numberFormat=function(re){var J;try{J=a(i.adjustFormat(re))}catch{return i.warnBadFormat(re),i.noFormat}return J},i.nestedProperty=e(22296),i.keyedContainer=e(37804),i.relativeAttr=e(23193),i.isPlainObject=e(63620),i.toLogRange=e(36896),i.relinkPrivateKeys=e(51528);var r=e(38116);i.isArrayBuffer=r.isArrayBuffer,i.isTypedArray=r.isTypedArray,i.isArrayOrTypedArray=r.isArrayOrTypedArray,i.isArray1D=r.isArray1D,i.ensureArray=r.ensureArray,i.concat=r.concat,i.maxRowLength=r.maxRowLength,i.minRowLength=r.minRowLength;var o=e(20435);i.mod=o.mod,i.modHalf=o.modHalf;var u=e(63064);i.valObjectMeta=u.valObjectMeta,i.coerce=u.coerce,i.coerce2=u.coerce2,i.coerceFont=u.coerceFont,i.coercePattern=u.coercePattern,i.coerceHoverinfo=u.coerceHoverinfo,i.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,i.validate=u.validate;var l=e(67555);i.dateTime2ms=l.dateTime2ms,i.isDateTime=l.isDateTime,i.ms2DateTime=l.ms2DateTime,i.ms2DateTimeLocal=l.ms2DateTimeLocal,i.cleanDate=l.cleanDate,i.isJSDate=l.isJSDate,i.formatDate=l.formatDate,i.incrementMonth=l.incrementMonth,i.dateTick0=l.dateTick0,i.dfltRange=l.dfltRange,i.findExactDates=l.findExactDates,i.MIN_MS=l.MIN_MS,i.MAX_MS=l.MAX_MS;var h=e(14952);i.findBin=h.findBin,i.sorterAsc=h.sorterAsc,i.sorterDes=h.sorterDes,i.distinctVals=h.distinctVals,i.roundUp=h.roundUp,i.sort=h.sort,i.findIndexOfMin=h.findIndexOfMin,i.sortObjectKeys=e(95376);var c=e(63084);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var b=e(52248);i.init2dArray=b.init2dArray,i.transposeRagged=b.transposeRagged,i.dot=b.dot,i.translationMatrix=b.translationMatrix,i.rotationMatrix=b.rotationMatrix,i.rotationXYMatrix=b.rotationXYMatrix,i.apply3DTransform=b.apply3DTransform,i.apply2DTransform=b.apply2DTransform,i.apply2DTransform2=b.apply2DTransform2,i.convertCssMatrix=b.convertCssMatrix,i.inverseTransformMatrix=b.inverseTransformMatrix;var p=e(11864);i.deg2rad=p.deg2rad,i.rad2deg=p.rad2deg,i.angleDelta=p.angleDelta,i.angleDist=p.angleDist,i.isFullCircle=p.isFullCircle,i.isAngleInsideSector=p.isAngleInsideSector,i.isPtInsideSector=p.isPtInsideSector,i.pathArc=p.pathArc,i.pathSector=p.pathSector,i.pathAnnulus=p.pathAnnulus;var m=e(98308);i.isLeftAnchor=m.isLeftAnchor,i.isCenterAnchor=m.isCenterAnchor,i.isRightAnchor=m.isRightAnchor,i.isTopAnchor=m.isTopAnchor,i.isMiddleAnchor=m.isMiddleAnchor,i.isBottomAnchor=m.isBottomAnchor;var v=e(92348);i.segmentsIntersect=v.segmentsIntersect,i.segmentDistance=v.segmentDistance,i.getTextLocation=v.getTextLocation,i.clearLocationCache=v.clearLocationCache,i.getVisibleSegment=v.getVisibleSegment,i.findPointOnPath=v.findPointOnPath;var x=e(92880);i.extendFlat=x.extendFlat,i.extendDeep=x.extendDeep,i.extendDeepAll=x.extendDeepAll,i.extendDeepNoArrays=x.extendDeepNoArrays;var y=e(24248);i.log=y.log,i.warn=y.warn,i.error=y.error;var w=e(53756);i.counterRegex=w.counter;var f=e(91200);i.throttle=f.throttle,i.throttleDone=f.done,i.clearThrottle=f.clear;var C=e(52200);function T(re){var J={};for(var le in re)for(var fe=re[le],ce=0;ce<fe.length;ce++)J[fe[ce]]=+le;return J}i.getGraphDiv=C.getGraphDiv,i.isPlotDiv=C.isPlotDiv,i.removeElement=C.removeElement,i.addStyleRule=C.addStyleRule,i.addRelatedStyleRule=C.addRelatedStyleRule,i.deleteRelatedStyleRule=C.deleteRelatedStyleRule,i.getFullTransformMatrix=C.getFullTransformMatrix,i.getElementTransformMatrix=C.getElementTransformMatrix,i.getElementAndAncestors=C.getElementAndAncestors,i.equalDomRects=C.equalDomRects,i.clearResponsive=e(75352),i.preserveDrawingBuffer=e(34296),i.makeTraceGroups=e(30988),i._=e(98356),i.notifier=e(41792),i.filterUnique=e(68944),i.filterVisible=e(43880),i.pushUnique=e(52416),i.increment=e(1396),i.cleanNumber=e(54037),i.ensureNumber=function(re){return M(re)?(re=Number(re))>d||re<s?t:re:t},i.isIndex=function(re,J){return!(void 0!==J&&re>=J)&&M(re)&&re>=0&&re%1==0},i.noop=e(16628),i.identity=e(35536),i.repeat=function(re,J){for(var le=new Array(J),fe=0;fe<J;fe++)le[fe]=re;return le},i.swapAttrs=function(re,J,le,fe){le||(le="x"),fe||(fe="y");for(var ce=0;ce<J.length;ce++){var ge=J[ce],Te=i.nestedProperty(re,ge.replace("?",le)),Me=i.nestedProperty(re,ge.replace("?",fe)),we=Te.get();Te.set(Me.get()),Me.set(we)}},i.raiseToTop=function(re){re.parentNode.appendChild(re)},i.cancelTransition=function(re){return re.transition().duration(0)},i.constrain=function(re,J,le){return J>le?Math.max(le,Math.min(J,re)):Math.max(J,Math.min(le,re))},i.bBoxIntersect=function(re,J,le){return re.left<=J.right+(le=le||0)&&J.left<=re.right+le&&re.top<=J.bottom+le&&J.top<=re.bottom+le},i.simpleMap=function(re,J,le,fe,ce){for(var ge=re.length,Te=new Array(ge),Me=0;Me<ge;Me++)Te[Me]=J(re[Me],le,fe,ce);return Te},i.randstr=function re(J,le,fe,ce){if(fe||(fe=16),void 0===le&&(le=24),le<=0)return"0";var ge,Te,Me=Math.log(Math.pow(2,le))/Math.log(fe),we="";for(ge=2;Me===1/0;ge*=2)Me=Math.log(Math.pow(2,le/ge))/Math.log(fe)*ge;var xe=Me-Math.floor(Me);for(ge=0;ge<Math.floor(Me);ge++)we=Math.floor(Math.random()*fe).toString(fe)+we;xe&&(Te=Math.pow(fe,xe),we=Math.floor(Math.random()*Te).toString(fe)+we);var be=parseInt(we,fe);return J&&J[we]||be!==1/0&&be>=Math.pow(2,le)?ce>10?(i.warn("randstr failed uniqueness"),we):re(J,le,fe,(ce||0)+1):we},i.OptionControl=function(re,J){re||(re={}),J||(J="opt");var le={optionList:[],_newoption:function(fe){fe[J]=re,le[fe.name]=fe,le.optionList.push(fe)}};return le["_"+J]=re,le},i.smooth=function(re,J){if((J=Math.round(J)||0)<2)return re;var le,fe,ce,ge,Te=re.length,Me=2*Te,we=2*J-1,xe=new Array(we),be=new Array(Te);for(le=0;le<we;le++)xe[le]=(1-Math.cos(Math.PI*(le+1)/J))/(2*J);for(le=0;le<Te;le++){for(ge=0,fe=0;fe<we;fe++)(ce=le+fe+1-J)<-Te?ce-=Me*Math.round(ce/Me):ce>=Me&&(ce-=Me*Math.floor(ce/Me)),ce<0?ce=-1-ce:ce>=Te&&(ce=Me-1-ce),ge+=re[ce]*xe[fe];be[le]=ge}return be},i.syncOrAsync=function(re,J,le){var fe;function ce(){return i.syncOrAsync(re,J,le)}for(;re.length;)if((fe=(0,re.splice(0,1)[0])(J))&&fe.then)return fe.then(ce);return le&&le(J)},i.stripTrailingSlash=function(re){return"/"===re.substr(-1)?re.substr(0,re.length-1):re},i.noneOrAll=function(re,J,le){if(re){var fe,ce=!1,ge=!0;for(fe=0;fe<le.length;fe++)null!=re[le[fe]]?ce=!0:ge=!1;if(ce&&!ge)for(fe=0;fe<le.length;fe++)re[le[fe]]=J[le[fe]]}},i.mergeArray=function(re,J,le,fe){var ce="function"==typeof fe;if(i.isArrayOrTypedArray(re))for(var ge=Math.min(re.length,J.length),Te=0;Te<ge;Te++){var Me=re[Te];J[Te][le]=ce?fe(Me):Me}},i.mergeArrayCastPositive=function(re,J,le){return i.mergeArray(re,J,le,function(fe){var ce=+fe;return isFinite(ce)&&ce>0?ce:0})},i.fillArray=function(re,J,le,fe){if(fe=fe||i.identity,i.isArrayOrTypedArray(re))for(var ce=0;ce<J.length;ce++)J[ce][le]=fe(re[ce])},i.castOption=function(re,J,le,fe){fe=fe||i.identity;var ce=i.nestedProperty(re,le).get();return i.isArrayOrTypedArray(ce)?Array.isArray(J)&&i.isArrayOrTypedArray(ce[J[0]])?fe(ce[J[0]][J[1]]):fe(ce[J]):ce},i.extractOption=function(re,J,le,fe){if(le in re)return re[le];var ce=i.nestedProperty(J,fe).get();return Array.isArray(ce)?void 0:ce},i.tagSelected=function(re,J,le){var fe,ce,ge=J.selectedpoints,Te=J._indexToPoints;Te&&(fe=T(Te));for(var Me=0;Me<ge.length;Me++){var we=ge[Me];if(i.isIndex(we)||i.isArrayOrTypedArray(we)&&i.isIndex(we[0])&&i.isIndex(we[1])){var xe=fe?fe[we]:we,be=le?le[xe]:xe;void 0!==(ce=be)&&ce<re.length&&(re[be].selected=1)}}},i.selIndices2selPoints=function(re){var J=re.selectedpoints,le=re._indexToPoints;if(le){for(var fe=T(le),ce=[],ge=0;ge<J.length;ge++){var Te=J[ge];if(i.isIndex(Te)){var Me=fe[Te];i.isIndex(Me)&&ce.push(Me)}}return ce}return J},i.getTargetArray=function(re,J){var le=J.target;if("string"==typeof le&&le){var fe=i.nestedProperty(re,le).get();return!!i.isArrayOrTypedArray(fe)&&fe}return!!i.isArrayOrTypedArray(le)&&le},i.minExtend=function re(J,le,fe){var ce={};"object"!=typeof le&&(le={});var ge,Te,Me,we="pieLike"===fe?-1:3,xe=Object.keys(J);for(ge=0;ge<xe.length;ge++)Me=J[Te=xe[ge]],"_"!==Te.charAt(0)&&"function"!=typeof Me&&(ce[Te]="module"===Te?Me:Array.isArray(Me)?"colorscale"===Te||-1===we?Me.slice():Me.slice(0,we):i.isTypedArray(Me)?-1===we?Me.subarray():Me.subarray(0,we):Me&&"object"==typeof Me?re(J[Te],le[Te],fe):Me);for(xe=Object.keys(le),ge=0;ge<xe.length;ge++)"object"==typeof(Me=le[Te=xe[ge]])&&Te in ce&&"object"==typeof ce[Te]||(ce[Te]=Me);return ce},i.titleCase=function(re){return re.charAt(0).toUpperCase()+re.substr(1)},i.containsAny=function(re,J){for(var le=0;le<J.length;le++)if(-1!==re.indexOf(J[le]))return!0;return!1},i.isIE=function(){return void 0!==window.navigator.msSaveBlob};var D=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return D.test(window.navigator.userAgent)};var R=/iPad|iPhone|iPod/;i.isIOS=function(){return R.test(window.navigator.userAgent)};var P=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var re=P.exec(window.navigator.userAgent);if(re&&2===re.length){var J=parseInt(re[1]);if(!isNaN(J))return J}return null},i.isD3Selection=function(re){return re instanceof S.selection},i.ensureSingle=function(re,J,le,fe){var ce=re.select(J+(le?"."+le:""));if(ce.size())return ce;var ge=re.append(J);return le&&ge.classed(le,!0),fe&&ge.call(fe),ge},i.ensureSingleById=function(re,J,le,fe){var ce=re.select(J+"#"+le);if(ce.size())return ce;var ge=re.append(J).attr("id",le);return fe&&ge.call(fe),ge},i.objectFromPath=function(re,J){for(var le,fe=re.split("."),ce=le={},ge=0;ge<fe.length;ge++){var Te=fe[ge],Me=null,we=fe[ge].match(/(.*)\[([0-9]+)\]/);we?(Me=we[2],(le=le[Te=we[1]]=[])[Me]=ge===fe.length-1?J:{},le=le[Me]):(le[Te]=ge===fe.length-1?J:{},le=le[Te])}return ce};var O=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function q(re){return"__"===re.slice(0,2)}i.expandObjectPaths=function(re){var J,le,fe,ce,ge,Te,Me;if("object"==typeof re&&!Array.isArray(re))for(le in re)if(re.hasOwnProperty(le))if(J=le.match(O)){if(ce=re[le],q(fe=J[1]))continue;delete re[le],re[fe]=i.extendDeepNoArrays(re[fe]||{},i.objectFromPath(le,i.expandObjectPaths(ce))[fe])}else if(J=le.match(B)){if(ce=re[le],q(fe=J[1]))continue;if(ge=parseInt(J[2]),delete re[le],re[fe]=re[fe]||[],"."===J[3])Me=J[4],Te=re[fe][ge]=re[fe][ge]||{},i.extendDeepNoArrays(Te,i.objectFromPath(Me,i.expandObjectPaths(ce)));else{if(q(fe))continue;re[fe][ge]=i.expandObjectPaths(ce)}}else{if(q(le))continue;re[le]=i.expandObjectPaths(re[le])}return re},i.numSeparate=function(re,J,le){if(le||(le=!1),"string"!=typeof J||0===J.length)throw new Error("Separator string required for formatting!");"number"==typeof re&&(re=String(re));var fe=/(\d+)(\d{3})/,ce=J.charAt(0),ge=J.charAt(1),Te=re.split("."),Me=Te[0],we=Te.length>1?ce+Te[1]:"";if(ge&&(Te.length>1||Me.length>4||le))for(;fe.test(Me);)Me=Me.replace(fe,"$1"+ge+"$2");return Me+we},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var N=/^\w*$/;i.templateString=function(re,J){var le={};return re.replace(i.TEMPLATE_STRING_REGEX,function(fe,ce){var ge;return N.test(ce)?ge=J[ce]:(le[ce]=le[ce]||i.nestedProperty(J,ce).get,ge=le[ce]()),i.isValidTextValue(ge)?ge:""})};var H={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return ae.apply(H,arguments)};var $={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return ae.apply($,arguments)};var j=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,W={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return ae.apply(W,arguments)};var G=/^[:|\|]/;function ae(re,J,le){var fe=this,ce=arguments;J||(J={});var ge={};return re.replace(i.TEMPLATE_STRING_REGEX,function(Te,Me,we){var xe="_xother"===Me||"_yother"===Me,be="_xother_"===Me||"_yother_"===Me,ye="xother_"===Me||"yother_"===Me,Se="xother"===Me||"yother"===Me||xe||ye||be,Ee=Me;(xe||be)&&(Ee=Ee.substring(1)),(ye||be)&&(Ee=Ee.substring(0,Ee.length-1));var he,ue,me,ve,Ae,Pe=null,Ce=null;if(fe.parseMultDiv){var Ie=(Ae=(ve=Ee).match(j))?{key:Ae[1],op:Ae[2],number:Number(Ae[3])}:{key:ve,op:null,number:null};Ee=Ie.key,Pe=Ie.op,Ce=Ie.number}if(Se){if(void 0===(he=J[Ee]))return""}else for(me=3;me<ce.length;me++)if(ue=ce[me]){if(ue.hasOwnProperty(Ee)){he=ue[Ee];break}if(N.test(Ee)||(he=i.nestedProperty(ue,Ee).get(),(he=ge[Ee]||i.nestedProperty(ue,Ee).get())&&(ge[Ee]=he)),void 0!==he)break}if(void 0!==he&&("*"===Pe&&(he*=Ce),"/"===Pe&&(he/=Ce)),void 0===he&&fe)return fe.count<fe.max&&(i.warn("Variable '"+Ee+"' in "+fe.name+" could not be found!"),he=Te),fe.count===fe.max&&i.warn("Too many "+fe.name+" warnings - additional warnings will be suppressed"),fe.count++,Te;if(we){var Oe;if(":"===we[0]&&(Oe=le?le.numberFormat:i.numberFormat,""!==he&&(he=Oe(we.replace(G,""))(he))),"|"===we[0]){Oe=le?le.timeFormat:A;var ze=i.dateTime2ms(he);he=i.formatDate(ze,we.replace(G,""),!1,Oe)}}else{var je=Ee+"Label";J.hasOwnProperty(je)&&(he=J[je])}return Se&&(he="("+he+")",(xe||be)&&(he=" "+he),(ye||be)&&(he+=" ")),he})}i.subplotSort=function(re,J){for(var le=Math.min(re.length,J.length)+1,fe=0,ce=0,ge=0;ge<le;ge++){var Te=re.charCodeAt(ge)||0,Me=J.charCodeAt(ge)||0,we=Te>=48&&Te<=57,xe=Me>=48&&Me<=57;if(we&&(fe=10*fe+Te-48),xe&&(ce=10*ce+Me-48),!we||!xe){if(fe!==ce)return fe-ce;if(Te!==Me)return Te-Me}}return ce-fe};var te=2e9;i.seedPseudoRandom=function(){te=2e9},i.pseudoRandom=function(){var re=te;return te=(69069*te+1)%4294967296,Math.abs(te-re)<429496729?i.pseudoRandom():te/4294967296},i.fillText=function(re,J,le){var fe=Array.isArray(le)?function(Te){le.push(Te)}:function(Te){le.text=Te},ce=i.extractOption(re,J,"htx","hovertext");if(i.isValidTextValue(ce))return fe(ce);var ge=i.extractOption(re,J,"tx","text");return i.isValidTextValue(ge)?fe(ge):void 0},i.isValidTextValue=function(re){return re||0===re},i.formatPercent=function(re,J){J=J||0;for(var le=(Math.round(100*re*Math.pow(10,J))*Math.pow(.1,J)).toFixed(J)+"%",fe=0;fe<J;fe++)-1!==le.indexOf(".")&&(le=(le=le.replace("0%","%")).replace(".%","%"));return le},i.isHidden=function(re){var J=window.getComputedStyle(re).display;return!J||"none"===J},i.strTranslate=function(re,J){return re||J?"translate("+re+","+J+")":""},i.strRotate=function(re){return re?"rotate("+re+")":""},i.strScale=function(re){return 1!==re?"scale("+re+")":""},i.getTextTransform=function(re){var J=re.noCenter,le=re.textX,fe=re.textY,we=re.rotate,xe=re.scale;return xe?xe>1&&(xe=1):xe=0,i.strTranslate(re.targetX-xe*(le+(re.anchorX||0)),re.targetY-xe*(fe+(re.anchorY||0)))+i.strScale(xe)+(we?"rotate("+we+(J?"":" "+le+" "+fe)+")":"")},i.setTransormAndDisplay=function(re,J){re.attr("transform",i.getTextTransform(J)),re.style("display",J.scale?null:"none")},i.ensureUniformFontSize=function(re,J){var le=i.extendFlat({},J);return le.size=Math.max(J.size,re._fullLayout.uniformtext.minsize||0),le},i.join2=function(re,J,le){var fe=re.length;return fe>1?re.slice(0,-1).join(J)+le+re[fe-1]:re.join(J)},i.bigFont=function(re){return Math.round(1.2*re)};var Q=i.getFirefoxVersion(),ee=null!==Q&&Q<86;i.getPositionFromD3Event=function(){return ee?[S.event.layerX,S.event.layerY]:[S.event.offsetX,S.event.offsetY]}},63620:function(ie){"use strict";ie.exports=function(z){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(z):"[object Object]"===Object.prototype.toString.call(z)&&Object.getPrototypeOf(z).hasOwnProperty("hasOwnProperty")}},37804:function(ie,z,e){"use strict";var S=e(22296),A=/^\w*$/;ie.exports=function(a,M,_,d){var s,t,i;_=_||"name",d=d||"value";var n={};M&&M.length?(i=S(a,M),t=i.get()):t=a,M=M||"";var r={};if(t)for(s=0;s<t.length;s++)r[t[s][_]]=s;var o=A.test(d),u={set:function(l,h){var c=null===h?4:0;if(!t){if(!i||4===c)return;i.set(t=[])}var b=r[l];if(void 0===b){if(4===c)return;c|=3,r[l]=b=t.length}else h!==(o?t[b][d]:S(t[b],d).get())&&(c|=2);var p=t[b]=t[b]||{};return p[_]=l,o?p[d]=h:S(p,d).set(h),null!==h&&(c&=-5),n[b]=n[b]|c,u},get:function(l){if(t){var h=r[l];return void 0===h?void 0:o?t[h][d]:S(t[h],d).get()}},rename:function(l,h){var c=r[l];return void 0===c||(n[c]=1|n[c],r[h]=c,delete r[l],t[c][_]=h),u},remove:function(l){var h=r[l];if(void 0===h)return u;var c=t[h];if(Object.keys(c).length>2)return n[h]=2|n[h],u.set(l,null);if(o){for(s=h;s<t.length;s++)n[s]=3|n[s];for(s=h;s<t.length;s++)r[t[s][_]]--;t.splice(h,1),delete r[l]}else S(c,d).set(null),n[h]=6|n[h];return u},constructUpdate:function(){for(var l,h,c={},b=Object.keys(n),p=0;p<b.length;p++)l=M+"["+(h=b[p])+"]",t[h]?(1&n[h]&&(c[l+"."+_]=t[h][_]),2&n[h]&&(c[l+"."+d]=o?4&n[h]?null:t[h][d]:4&n[h]?null:S(t[h],d).get())):c[l]=null;return c}};return u}},98356:function(ie,z,e){"use strict";var S=e(24040);ie.exports=function(A,a){for(var M=A._context.locale,_=0;_<2;_++){for(var d=A._context.locales,s=0;s<2;s++){var t=(d[M]||{}).dictionary;if(t){var i=t[a];if(i)return i}d=S.localeRegistry}var n=M.split("-")[0];if(n===M)break;M=n}return a}},24248:function(ie,z,e){"use strict";var S=e(20556).dfltConfig,A=e(41792),a=ie.exports={};a.log=function(){var M;if(S.logging>1){var _=["LOG:"];for(M=0;M<arguments.length;M++)_.push(arguments[M]);console.trace.apply(console,_)}if(S.notifyOnLogging>1){var d=[];for(M=0;M<arguments.length;M++)d.push(arguments[M]);A(d.join("<br>"),"long")}},a.warn=function(){var M;if(S.logging>0){var _=["WARN:"];for(M=0;M<arguments.length;M++)_.push(arguments[M]);console.trace.apply(console,_)}if(S.notifyOnLogging>0){var d=[];for(M=0;M<arguments.length;M++)d.push(arguments[M]);A(d.join("<br>"),"stick")}},a.error=function(){var M;if(S.logging>0){var _=["ERROR:"];for(M=0;M<arguments.length;M++)_.push(arguments[M]);console.error.apply(console,_)}if(S.notifyOnLogging>0){var d=[];for(M=0;M<arguments.length;M++)d.push(arguments[M]);A(d.join("<br>"),"stick")}}},30988:function(ie,z,e){"use strict";var S=e(33428);ie.exports=function(A,a,M){var _=A.selectAll("g."+M.replace(/\s/g,".")).data(a,function(s){return s[0].trace.uid});_.exit().remove(),_.enter().append("g").attr("class",M),_.order();var d=A.classed("rangeplot")?"nodeRangePlot3":"node3";return _.each(function(s){s[0][d]=S.select(this)}),_}},52248:function(ie,z,e){"use strict";var S=e(36524);z.init2dArray=function(A,a){for(var M=new Array(A),_=0;_<A;_++)M[_]=new Array(a);return M},z.transposeRagged=function(A){var a,M,_=0,d=A.length;for(a=0;a<d;a++)_=Math.max(_,A[a].length);var s=new Array(_);for(a=0;a<_;a++)for(s[a]=new Array(d),M=0;M<d;M++)s[a][M]=A[M][a];return s},z.dot=function(A,a){if(!A.length||!a.length||A.length!==a.length)return null;var M,_,d=A.length;if(A[0].length)for(M=new Array(d),_=0;_<d;_++)M[_]=z.dot(A[_],a);else if(a[0].length){var s=z.transposeRagged(a);for(M=new Array(s.length),_=0;_<s.length;_++)M[_]=z.dot(A,s[_])}else for(M=0,_=0;_<d;_++)M+=A[_]*a[_];return M},z.translationMatrix=function(A,a){return[[1,0,A],[0,1,a],[0,0,1]]},z.rotationMatrix=function(A){var a=A*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},z.rotationXYMatrix=function(A,a,M){return z.dot(z.dot(z.translationMatrix(a,M),z.rotationMatrix(A)),z.translationMatrix(-a,-M))},z.apply3DTransform=function(A){return function(){var a=arguments,M=1===arguments.length?a[0]:[a[0],a[1],a[2]||0];return z.dot(A,[M[0],M[1],M[2],1]).slice(0,3)}},z.apply2DTransform=function(A){return function(){var a=arguments;3===a.length&&(a=a[0]);var M=1===arguments.length?a[0]:[a[0],a[1]];return z.dot(A,[M[0],M[1],1]).slice(0,2)}},z.apply2DTransform2=function(A){var a=z.apply2DTransform(A);return function(M){return a(M.slice(0,2)).concat(a(M.slice(2,4)))}},z.convertCssMatrix=function(A){if(A){var a=A.length;if(16===a)return A;if(6===a)return[A[0],A[1],0,0,A[2],A[3],0,0,0,0,1,0,A[4],A[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},z.inverseTransformMatrix=function(A){var a=[];return S.invert(a,A),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(ie){"use strict";ie.exports={mod:function(z,e){var S=z%e;return S<0?S+e:S},modHalf:function(z,e){return Math.abs(z)>e/2?z-Math.round(z/e)*e:z}}},22296:function(ie,z,e){"use strict";var S=e(38248),A=e(38116).isArrayOrTypedArray;function a(n,r){return function(){var o,u,l,h,c,b=n;for(h=0;h<r.length-1;h++){if(-1===(o=r[h])){for(u=!0,l=[],c=0;c<b.length;c++)l[c]=a(b[c],r.slice(h+1))(),l[c]!==l[0]&&(u=!1);return u?l[0]:l}if("number"==typeof o&&!A(b)||"object"!=typeof(b=b[o])||null===b)return}if("object"==typeof b&&null!==b&&null!==(l=b[r[h]]))return l}}ie.exports=function(n,r){if(S(r))r=String(r);else if("string"!=typeof r||"[-1]"===r.substr(r.length-4))throw"bad property string";var o,u,l,h,c=r.split(".");for(h=0;h<c.length;h++)if("__"===String(c[h]).slice(0,2))throw"bad property string";for(h=0;h<c.length;){if(o=String(c[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(o[1])c[h]=o[1];else{if(0!==h)throw"bad property string";c.splice(0,1)}for(u=o[2].substr(1,o[2].length-2).split("]["),l=0;l<u.length;l++)h++,c.splice(h,0,Number(u[l]))}h++}return"object"!=typeof n?{set:function(){throw"bad container"},get:function(){},astr:r,parts:c,obj:n}:{set:d(n,c,r),get:a(n,c),astr:r,parts:c,obj:n}};var M=/(^|\.)args\[/;function _(n,r){return void 0===n||null===n&&!r.match(M)}function d(n,r,o){return function(u){var l,h,c=n,b="",p=[[n,b]],m=_(u,o);for(h=0;h<r.length-1;h++){if("number"==typeof(l=r[h])&&!A(c))throw"array index but container is not an array";if(-1===l){if(m=!t(c,r.slice(h+1),u,o))break;return}if(!i(c,l,r[h+1],m))break;if("object"!=typeof(c=c[l])||null===c)throw"container is not an object";b=s(b,l),p.push([c,b])}if(m){if(h===r.length-1&&(delete c[r[h]],Array.isArray(c)&&+r[h]==c.length-1))for(;c.length&&void 0===c[c.length-1];)c.pop()}else c[r[h]]=u}}function s(n,r){var o=r;return S(r)?o="["+r+"]":n&&(o="."+r),n+o}function t(n,r,o,u){var l,h=A(o),c=!0,b=o,p=u.replace("-1",0),m=!h&&_(o,p),v=r[0];for(l=0;l<n.length;l++)p=u.replace("-1",l),h&&(m=_(b=o[l%o.length],p)),m&&(c=!1),i(n,l,v,m)&&d(n[l],r,u.replace("-1",l))(b);return c}function i(n,r,o,u){if(void 0===n[r]){if(u)return!1;n[r]="number"==typeof o?[]:{}}return!0}},16628:function(ie){"use strict";ie.exports=function(){}},41792:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=[];ie.exports=function(M,_){if(-1===a.indexOf(M)){a.push(M);var d=1e3;A(_)?d=_:"long"===_&&(d=3e3);var s=S.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=S.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var r=n.append("p"),o=i.split(/<br\s*\/?>/g),u=0;u<o.length;u++)u&&r.append("br"),r.append("span").text(o[u]);"stick"===_?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(d).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(n){var r=a.indexOf(n);-1!==r&&a.splice(r,1),S.select(this).remove()})}}},72213:function(ie,z,e){"use strict";var S=e(93972),A="data-savedcursor";ie.exports=function(a,M){var _=a.attr(A);if(M){if(!_){for(var d=(a.attr("class")||"").split(" "),s=0;s<d.length;s++){var t=d[s];0===t.indexOf("cursor-")&&a.attr(A,t.substr(7)).classed(t,!1)}a.attr(A)||a.attr(A,"!!")}S(a,M)}else _&&(a.attr(A,null),"!!"===_?S(a):S(a,_))}},92065:function(ie,z,e){"use strict";var S=e(52248).dot,A=e(39032).BADNUM,a=ie.exports={};a.tester=function(M){var _,d=M.slice(),s=d[0][0],t=s,i=d[0][1],n=i;for(d[d.length-1][0]===d[0][0]&&d[d.length-1][1]===d[0][1]||d.push(d[0]),_=1;_<d.length;_++)s=Math.min(s,d[_][0]),t=Math.max(t,d[_][0]),i=Math.min(i,d[_][1]),n=Math.max(n,d[_][1]);var r,o=!1;5===d.length&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(o=!0,r=function(h){return h[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(o=!0,r=function(h){return h[1]===d[0][1]}));var u=!0,l=d[0];for(_=1;_<d.length;_++)if(l[0]!==d[_][0]||l[1]!==d[_][1]){u=!1;break}return{xmin:s,xmax:t,ymin:i,ymax:n,pts:d,contains:o?function(h,c){var b=h[0],p=h[1];return!(b===A||b<s||b>t||p===A||p<i||p>n||c&&r(h))}:function(h,c){var b=h[0],p=h[1];if(b===A||b<s||b>t||p===A||p<i||p>n)return!1;var m,v,x,y,w,f=d.length,C=d[0][0],T=d[0][1],D=0;for(m=1;m<f;m++)if(v=C,x=T,C=d[m][0],T=d[m][1],!(b<(y=Math.min(v,C))||b>Math.max(v,C)||p>Math.max(x,T)))if(p<Math.min(x,T))b!==y&&D++;else{if(p===(w=C===v?p:x+(b-v)*(T-x)/(C-v)))return 1!==m||!c;p<=w&&b!==y&&D++}return D%2==1},isRect:o,degenerate:u}},a.isSegmentBent=function(M,_,d,s){var t,i,n,r=M[_],o=[M[d][0]-r[0],M[d][1]-r[1]],u=S(o,o),l=Math.sqrt(u),h=[-o[1]/l,o[0]/l];for(t=_+1;t<d;t++)if((n=S(i=[M[t][0]-r[0],M[t][1]-r[1]],o))<0||n>u||Math.abs(S(i,h))>s)return!0;return!1},a.filter=function(M,_){var d=[M[0]],s=0,t=0;function i(n){M.push(n);var r=d.length,o=s;d.splice(t+1);for(var u=o+1;u<M.length;u++)(u===M.length-1||a.isSegmentBent(M,o,u+1,_))&&(d.push(M[u]),d.length<r-2&&(s=u,t=d.length-1),o=u)}return M.length>1&&i(M.pop()),{addPt:i,raw:M,filtered:d}}},5048:function(ie,z,e){"use strict";var S=e(16576),A=e(28624);ie.exports=function(a,M,_){var d=a._fullLayout,s=!0;return d._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(_);else if(!t.pick||d._has("parcoords")){try{t.regl=A({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:a._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:M||[],cachedCode:_||{}})}catch{s=!1}t.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(i){a&&a.emit&&a.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),s||S({container:d._glcontainer.node()}),s}},34296:function(ie,z,e){"use strict";var S=e(38248),A=e(25928);ie.exports=function(a){var M,r;if("string"!=typeof(M=a&&a.hasOwnProperty("userAgent")?a.userAgent:(typeof navigator<"u"&&(r=navigator.userAgent),r&&r.headers&&"string"==typeof r.headers["user-agent"]&&(r=r.headers["user-agent"]),r)))return!0;var _=A({ua:{headers:{"user-agent":M}},tablet:!0,featureDetect:!1});if(!_)for(var d=M.split(" "),s=1;s<d.length;s++)if(-1!==d[s].indexOf("Safari"))for(var t=s-1;t>-1;t--){var i=d[t];if("Version/"===i.substr(0,8)){var n=i.substr(8).split(".")[0];if(S(n)&&(n=+n),n>=13)return!0}}return _}},52416:function(ie){"use strict";ie.exports=function(z,e){if(e instanceof RegExp){for(var S=e.toString(),A=0;A<z.length;A++)if(z[A]instanceof RegExp&&z[A].toString()===S)return z;z.push(e)}else!e&&0!==e||-1!==z.indexOf(e)||z.push(e);return z}},94552:function(ie,z,e){"use strict";var S=e(3400),A=e(20556).dfltConfig,a={add:function(M,_,d,s,t){var i,n;M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},n=M.undoQueue.index,M.autoplay?M.undoQueue.inSequence||(M.autoplay=!1):(!M.undoQueue.sequence||M.undoQueue.beginSequence?(M.undoQueue.queue.splice(n,M.undoQueue.queue.length-n,i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),M.undoQueue.index+=1):i=M.undoQueue.queue[n-1],M.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(_),i.undo.args.unshift(d),i.redo.calls.push(s),i.redo.args.push(t)),M.undoQueue.queue.length>A.queueLength&&(M.undoQueue.queue.shift(),M.undoQueue.index--))},startSequence:function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!0,M.undoQueue.beginSequence=!0},stopSequence:function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!1,M.undoQueue.beginSequence=!1},undo:function(M){var _,d;if(!(void 0===M.undoQueue||isNaN(M.undoQueue.index)||M.undoQueue.index<=0)){for(M.undoQueue.index--,_=M.undoQueue.queue[M.undoQueue.index],M.undoQueue.inSequence=!0,d=0;d<_.undo.calls.length;d++)a.plotDo(M,_.undo.calls[d],_.undo.args[d]);M.undoQueue.inSequence=!1,M.autoplay=!1}},redo:function(M){var _,d;if(!(void 0===M.undoQueue||isNaN(M.undoQueue.index)||M.undoQueue.index>=M.undoQueue.queue.length)){for(_=M.undoQueue.queue[M.undoQueue.index],M.undoQueue.inSequence=!0,d=0;d<_.redo.calls.length;d++)a.plotDo(M,_.redo.calls[d],_.redo.args[d]);M.undoQueue.inSequence=!1,M.autoplay=!1,M.undoQueue.index++}},plotDo:function(M,_,d){M.autoplay=!0,d=function(s,t){for(var i,n=[],r=0;r<t.length;r++)n[r]=(i=t[r])===s?i:"object"==typeof i?Array.isArray(i)?S.extendDeep([],i):S.extendDeepAll({},i):i;return n}(M,d),_.apply(null,d)}};ie.exports=a},53756:function(ie,z){"use strict";z.counter=function(e,S,A,a){var M=(S||"")+(A?"":"$"),_=!1===a?"":"^";return"xy"===e?new RegExp(_+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+M):new RegExp(_+e+"([2-9]|[1-9][0-9]+)?"+M)}},23193:function(ie){"use strict";var z=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;ie.exports=function(S,A){for(;A;){var a=S.match(z);if(a)S=a[1];else{if(!S.match(e))throw new Error("bad relativeAttr call:"+[S,A]);S=""}if("^"!==A.charAt(0))break;A=A.slice(1)}return S&&"["!==A.charAt(0)?S+"."+A:S+A}},51528:function(ie,z,e){"use strict";var S=e(38116).isArrayOrTypedArray,A=e(63620);ie.exports=function a(M,_){for(var d in _){var s=_[d],t=M[d];if(t!==s)if("_"===d.charAt(0)||"function"==typeof s){if(d in M)continue;M[d]=s}else if(S(s)&&S(t)&&A(s[0])){if("customdata"===d||"ids"===d)continue;for(var i=Math.min(s.length,t.length),n=0;n<i;n++)t[n]!==s[n]&&A(s[n])&&A(t[n])&&a(t[n],s[n])}else A(s)&&A(t)&&(a(t,s),Object.keys(t).length||delete M[d])}}},14952:function(ie,z,e){"use strict";var S=e(38248),A=e(24248),a=e(35536),M=e(39032).BADNUM,_=1e-9;function d(n,r){return n<r}function s(n,r){return n<=r}function t(n,r){return n>r}function i(n,r){return n>=r}z.findBin=function(n,r,o){if(S(r.start))return o?Math.ceil((n-r.start)/r.size-_)-1:Math.floor((n-r.start)/r.size+_);var u,l,h=0,c=r.length,b=0,p=c>1?(r[c-1]-r[0])/(c-1):1;for(l=p>=0?o?d:s:o?i:t,n+=p*_*(o?-1:1)*(p>=0?1:-1);h<c&&b++<100;)l(r[u=Math.floor((h+c)/2)],n)?h=u+1:c=u;return b>90&&A.log("Long binary search..."),h-1},z.sorterAsc=function(n,r){return n-r},z.sorterDes=function(n,r){return r-n},z.distinctVals=function(n){var r,o=n.slice();for(o.sort(z.sorterAsc),r=o.length-1;r>-1&&o[r]===M;r--);for(var u,l=o[r]-o[0]||1,h=l/(r||1)/1e4,c=[],b=0;b<=r;b++){var p=o[b],m=p-u;void 0===u?(c.push(p),u=p):m>h&&(l=Math.min(l,m),c.push(p),u=p)}return{vals:c,minDiff:l}},z.roundUp=function(n,r,o){for(var u,l=0,h=r.length-1,c=0,b=o?0:1,p=o?1:0,m=o?Math.ceil:Math.floor;l<h&&c++<100;)r[u=m((l+h)/2)]<=n?l=u+b:h=u-p;return r[l]},z.sort=function(n,r){for(var o=0,u=0,l=1;l<n.length;l++){var h=r(n[l],n[l-1]);if(h<0?o=1:h>0&&(u=1),o&&u)return n.sort(r)}return u?n:n.reverse()},z.findIndexOfMin=function(n,r){r=r||a;for(var o,u=1/0,l=0;l<n.length;l++){var h=r(n[l]);h<u&&(u=h,o=l)}return o}},93972:function(ie){"use strict";ie.exports=function(z,e){(z.attr("class")||"").split(" ").forEach(function(S){0===S.indexOf("cursor-")&&z.classed(S,!1)}),e&&z.classed("cursor-"+e,!0)}},16576:function(ie,z,e){"use strict";var S=e(76308),A=function(){};ie.exports=function(a){for(var M in a)"function"==typeof a[M]&&(a[M]=A);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var _=document.createElement("div");_.className="no-webgl",_.style.cursor="pointer",_.style.fontSize="24px",_.style.color=S.defaults[0],_.style.position="absolute",_.style.left=_.style.top="0px",_.style.width=_.style.height="100%",_.style["background-color"]=S.lightLine,_.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",_.appendChild(d),a.container.appendChild(_),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(ie){"use strict";ie.exports=function(z){return Object.keys(z).sort()}},63084:function(ie,z,e){"use strict";var S=e(38248),A=e(38116).isArrayOrTypedArray;z.aggNums=function(a,M,_,d){var s,t;if((!d||d>_.length)&&(d=_.length),S(M)||(M=!1),A(_[0])){for(t=new Array(d),s=0;s<d;s++)t[s]=z.aggNums(a,M,_[s]);_=t}for(s=0;s<d;s++)S(M)?S(_[s])&&(M=a(+M,+_[s])):M=_[s];return M},z.len=function(a){return z.aggNums(function(M){return M+1},0,a)},z.mean=function(a,M){return M||(M=z.len(a)),z.aggNums(function(_,d){return _+d},0,a)/M},z.midRange=function(a){if(void 0!==a&&0!==a.length)return(z.aggNums(Math.max,null,a)+z.aggNums(Math.min,null,a))/2},z.variance=function(a,M,_){return M||(M=z.len(a)),S(_)||(_=z.mean(a,M)),z.aggNums(function(d,s){return d+Math.pow(s-_,2)},0,a)/M},z.stdev=function(a,M,_){return Math.sqrt(z.variance(a,M,_))},z.median=function(a){var M=a.slice().sort();return z.interp(M,.5)},z.interp=function(a,M){if(!S(M))throw"n should be a finite number";if((M=M*a.length-.5)<0)return a[0];if(M>a.length-1)return a[a.length-1];var _=M%1;return _*a[Math.ceil(M)]+(1-_)*a[Math.floor(M)]}},43080:function(ie,z,e){"use strict";var S=e(72160);ie.exports=function(A){return A?S(A):[0,0,0,1]}},9188:function(ie,z,e){"use strict";var S=e(2264),A=e(43616),a=e(3400),M=null;ie.exports=function(){if(null!==M)return M;M=!1;var _=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!_){var d=Array.from(S.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof s)M=d.some(function(n){return s.apply(null,n)});else{var t=A.tester.append("image").attr("style",S.STYLE),i=window.getComputedStyle(t.node()).imageRendering;M=d.some(function(n){var r=n[1];return i===r||i===r.toLowerCase()}),t.remove()}}return M}},72736:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=A.strTranslate,M=e(9616),_=e(84284).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;z.convertToTspans=function(B,q,N){var H=B.text(),$=!B.attr("data-notex")&&q&&q._context.typesetMath&&typeof MathJax<"u"&&H.match(d),j=S.select(B.node().parentNode);if(!j.empty()){var W=B.attr("class")?B.attr("class").split(" ")[0]:"text";return j.selectAll("svg."+(W+="-math")).remove(),j.selectAll("g."+W+"-group").remove(),B.style("display",null).attr({"data-unformatted":H,"data-math":"N"}),$?(q&&q._promises||[]).push(new Promise(function(ae){B.style("display","none");var te=parseInt(B.node().style.fontSize,10);!function(ee,re,J){var le,fe,ce,ge,Te=parseInt((MathJax.version||"").split(".")[0]);if(2===Te||3===Te){var Me=function(){var xe="math-output-"+A.randstr({},64),be=(ge=S.select("body").append("div").attr({id:xe}).style({visibility:"hidden",position:"absolute","font-size":re.fontSize+"px"}).text(ee.replace(s,"\\lt ").replace(t,"\\gt "))).node();return 2===Te?MathJax.Hub.Typeset(be):MathJax.typeset([be])},we=function(){var xe=ge.select(2===Te?".MathJax_SVG":".MathJax"),be=!xe.empty()&&ge.select("svg").node();if(be){var ye,Se=be.getBoundingClientRect();ye=2===Te?S.select("body").select("#MathJax_SVG_glyphs"):xe.select("defs"),J(xe,ye,Se)}else A.log("There was an error in the tex syntax.",ee),J();ge.remove()};2===Te?MathJax.Hub.Queue(function(){return fe=A.extendDeepAll({},MathJax.Hub.config),ce=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if("SVG"!==(le=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Me,we,function(){if("SVG"!==le)return MathJax.Hub.setRenderer(le)},function(){return void 0!==ce&&(MathJax.Hub.processSectionDelay=ce),MathJax.Hub.Config(fe)}):3===Te&&(fe=A.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,"svg"!==(le=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Me(),we(),"svg"!==le&&(MathJax.config.startup.output=le),MathJax.config=fe}))}else A.warn("No MathJax version:",MathJax.version)}($[2],{fontSize:te},function(ee,re,J){j.selectAll("svg."+W).remove(),j.selectAll("g."+W+"-group").remove();var le=ee&&ee.select("svg");if(!le||!le.node())return G(),void ae();var fe=j.append("g").classed(W+"-group",!0).attr({"pointer-events":"none","data-unformatted":H,"data-math":"Y"});fe.node().appendChild(le.node()),re&&re.node()&&le.node().insertBefore(re.node().cloneNode(!0),le.node().firstChild);var ce=J.width,ge=J.height;le.attr({class:W,height:ge,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var Te=B.node().style.fill||"black",Me=le.select("g");Me.attr({fill:Te,stroke:Te});var we=Me.node().getBoundingClientRect(),xe=we.width,be=we.height;(xe>ce||be>ge)&&(le.style("overflow","hidden"),xe=(we=le.node().getBoundingClientRect()).width,be=we.height);var ye=+B.attr("x"),Se=+B.attr("y"),Ee=-(te||B.node().getBoundingClientRect().height)/4;if("y"===W[0])fe.attr({transform:"rotate("+[-90,ye,Se]+")"+a(-xe/2,Ee-be/2)});else if("l"===W[0])Se=Ee-be/2;else if("a"===W[0]&&0!==W.indexOf("atitle"))ye=0,Se=Ee;else{var he=B.attr("text-anchor");ye-=xe*("middle"===he?.5:"end"===he?1:0),Se=Se+Ee-be/2}le.attr({x:ye,y:Se}),N&&N.call(B,fe),ae(fe)})})):G(),B}function G(){j.empty()||(W=B.attr("class")+"-math",j.select("svg."+W).remove()),B.text("").style("white-space","pre"),function(te,Q){Q=Q.replace(h," ");var ee,re=!1,J=[],le=-1;function fe(){le++;var Ce=document.createElementNS(M.svg,"tspan");S.select(Ce).attr({class:"line",dy:le*_+"em"}),te.appendChild(Ce),ee=Ce;var Ie=J;if(J=[{node:Ce}],Ie.length>1)for(var Oe=1;Oe<Ie.length;Oe++)ce(Ie[Oe])}function ce(Ce){var Ie,Oe=Ce.type,ze={};if("a"===Oe){Ie="a";var je=Ce.target,ve=Ce.href,Ae=Ce.popup;ve&&(ze={"xlink:xlink:show":"_blank"===je||"_"!==je.charAt(0)?"new":"replace",target:je,"xlink:xlink:href":ve},Ae&&(ze.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ae+'");return false;'))}else Ie="tspan";Ce.style&&(ze.style=Ce.style);var Le=document.createElementNS(M.svg,Ie);if("sup"===Oe||"sub"===Oe){ge(ee,u),ee.appendChild(Le);var Ve=document.createElementNS(M.svg,"tspan");ge(Ve,u),S.select(Ve).attr("dy",o[Oe]),ze.dy=r[Oe],ee.appendChild(Le),ee.appendChild(Ve)}else ee.appendChild(Le);S.select(Le).attr(ze),ee=Ce.node=Le,J.push(Ce)}function ge(Ce,Ie){Ce.appendChild(document.createTextNode(Ie))}function Te(Ce){if(1!==J.length){var Ie=J.pop();Ce!==Ie.type&&A.log("Start tag <"+Ie.type+"> doesnt match end tag <"+Ce+">. Pretending it did match.",Q),ee=J[J.length-1].node}else A.log("Ignoring unexpected end tag </"+Ce+">.",Q)}p.test(Q)?fe():(ee=te,J=[{node:te}]);for(var Me=Q.split(c),we=0;we<Me.length;we++){var xe=Me[we],be=xe.match(b),ye=be&&be[2].toLowerCase(),Se=n[ye];if("br"===ye)fe();else if(void 0===Se)ge(ee,D(xe));else if(be[1])Te(ye);else{var Ee=be[4],he={type:ye},ue=w(Ee,m);if(ue?(ue=ue.replace(f,"$1 fill:"),Se&&(ue+=";"+Se)):Se&&(ue=Se),ue&&(he.style=ue),"a"===ye){re=!0;var me=w(Ee,v);if(me){var Pe=R(me);Pe&&(he.href=Pe,he.target=w(Ee,x)||"_blank",he.popup=w(Ee,y))}}ce(he)}}return re}(B.node(),H)&&B.style("pointer-events","all"),z.positionText(B),N&&N.call(B)}};var s=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],n={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},r={sub:"0.3em",sup:"-0.6em"},o={sub:"-0.21em",sup:"0.42em"},u="\u200b",l=["http:","https:","mailto:","",void 0,":"],h=z.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;z.BR_TAG_ALL=/<br(\s+.*)?>/gi;var m=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,v=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,x=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function w(B,q){if(!B)return null;var N=B.match(q),H=N&&(N[3]||N[4]);return H&&D(H)}var f=/(^|;)\s*color:/;z.plainText=function(B,q){for(var N=void 0!==(q=q||{}).len&&-1!==q.len?q.len:1/0,H=void 0!==q.allowedTags?q.allowedTags:["br"],$=B.split(c),j=[],W="",G=0,ae=0;ae<$.length;ae++){var te=$[ae],Q=te.match(b),ee=Q&&Q[2].toLowerCase();if(ee)-1!==H.indexOf(ee)&&(j.push(te),W=ee);else{var re=te.length;if(G+re<N)j.push(te),G+=re;else if(G<N){var J=N-G;W&&("br"!==W||J<=3||re<=3)&&j.pop(),j.push(N>3?te.substr(0,J-3)+"...":te.substr(0,J));break}W=""}}return j.join("")};var C={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},T=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function D(B){return B.replace(T,function(q,N){return("#"===N.charAt(0)?function(H){if(!(H>1114111)){var $=String.fromCodePoint;if($)return $(H);var j=String.fromCharCode;return H<=65535?j(H):j(55232+(H>>10),H%1024+56320)}}("x"===N.charAt(1)?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):C[N])||q})}function R(B){var q=encodeURI(decodeURI(B)),N=document.createElement("a"),H=document.createElement("a");N.href=B,H.href=q;var j=H.protocol;return-1!==l.indexOf(N.protocol)&&-1!==l.indexOf(j)?q:""}function P(B,q,N){var H,$,j,W=N.horizontalAlign,G=N.verticalAlign||"top",ae=B.node().getBoundingClientRect(),te=q.node().getBoundingClientRect();return $="bottom"===G?function(){return ae.bottom-H.height}:"middle"===G?function(){return ae.top+(ae.height-H.height)/2}:function(){return ae.top},j="right"===W?function(){return ae.right-H.width}:"center"===W?function(){return ae.left+(ae.width-H.width)/2}:function(){return ae.left},function(){H=this.node().getBoundingClientRect();var Q=j()-te.left,ee=$()-te.top,re=N.gd||{};if(N.gd){re._fullLayout._calcInverseTransform(re);var J=A.apply3DTransform(re._fullLayout._invTransform)(Q,ee);Q=J[0],ee=J[1]}return this.style({top:ee+"px",left:Q+"px","z-index":1e3}),this}}z.convertEntities=D,z.sanitizeHTML=function(B){B=B.replace(h," ");for(var q=document.createElement("p"),N=q,H=[],$=B.split(c),j=0;j<$.length;j++){var W=$[j],G=W.match(b),ae=G&&G[2].toLowerCase();if(ae in n)if(G[1])H.length&&(N=H.pop());else{var te=G[4],Q=w(te,m),ee=Q?{style:Q}:{};if("a"===ae){var re=w(te,v);if(re){var J=R(re);if(J){ee.href=J;var le=w(te,x);le&&(ee.target=le)}}}var fe=document.createElement(ae);N.appendChild(fe),S.select(fe).attr(ee),N=fe,H.push(fe)}else N.appendChild(document.createTextNode(D(W)))}return q.innerHTML},z.lineCount=function(B){return B.selectAll("tspan.line").size()||1},z.positionText=function(B,q,N){return B.each(function(){var H=S.select(this);function $(G,ae){return void 0===ae?null===(ae=H.attr(G))&&(H.attr(G,0),ae=0):H.attr(G,ae),ae}var j=$("x",q),W=$("y",N);"text"===this.nodeName&&H.selectAll("tspan.line").attr({x:j,y:W})})};var O="1px ";z.makeTextShadow=function(B){return O+O+O+B+", -"+O+"-"+O+O+B+", "+O+"-"+O+O+B+", -"+O+O+O+B},z.makeEditable=function(B,q){var N=q.gd,H=q.delegate,$=S.dispatch("edit","input","cancel"),j=H||B;if(B.style({"pointer-events":H?"none":"all"}),1!==B.size())throw new Error("boo");function W(){var ae,te,Q,ee,re;ae=S.select(N).select(".svg-container"),te=ae.append("div"),Q=B.node().style,ee=parseFloat(Q.fontSize||12),void 0===(re=q.text)&&(re=B.attr("data-unformatted")),te.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":ee,color:q.fill||Q.fill||"black",opacity:1,"background-color":q.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ee/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(re).call(P(B,ae,q)).on("blur",function(){N._editing=!1,B.text(this.textContent).style({opacity:1});var fe,ce=S.select(this).attr("class");(fe=ce?"."+ce.split(" ")[0]+"-math-group":"[class*=-math-group]")&&S.select(B.node().parentNode).select(fe).style({opacity:0});var ge=this.textContent;S.select(this).transition().duration(0).remove(),S.select(document).on("mouseup",null),$.edit.call(B,ge)}).on("focus",function(){var fe=this;N._editing=!0,S.select(document).on("mouseup",function(){if(S.event.target===fe)return!1;document.activeElement===te.node()&&te.node().blur()})}).on("keyup",function(){27===S.event.which?(N._editing=!1,B.style({opacity:1}),S.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),$.cancel.call(B,this.textContent)):($.input.call(B,this.textContent),S.select(this).call(P(B,ae,q)))}).on("keydown",function(){13===S.event.which&&this.blur()}).call(G),B.style({opacity:0});var J,le=j.attr("class");(J=le?"."+le.split(" ")[0]+"-math-group":"[class*=-math-group]")&&S.select(B.node().parentNode).select(J).style({opacity:0})}function G(ae){var te=ae.node(),Q=document.createRange();Q.selectNodeContents(te);var ee=window.getSelection();ee.removeAllRanges(),ee.addRange(Q),te.focus()}return q.immediate?W():j.on("click",W),S.rebind(B,$,"on")}},91200:function(ie,z){"use strict";var e={};function S(A){A&&null!==A.timer&&(clearTimeout(A.timer),A.timer=null)}z.throttle=function(A,a,M){var _=e[A],d=Date.now();if(!_){for(var s in e)e[s].ts<d-6e4&&delete e[s];_=e[A]={ts:0,timer:null}}function t(){M(),_.ts=Date.now(),_.onDone&&(_.onDone(),_.onDone=null)}S(_),d>_.ts+a?t():_.timer=setTimeout(function(){t(),_.timer=null},a)},z.done=function(A){var a=e[A];return a&&a.timer?new Promise(function(M){var _=a.onDone;a.onDone=function(){_&&_(),M(),a.onDone=null}}):Promise.resolve()},z.clear=function(A){if(A)S(e[A]),delete e[A];else for(var a in e)z.clear(a)}},36896:function(ie,z,e){"use strict";var S=e(38248);ie.exports=function(A,a){if(A>0)return Math.log(A)/Math.LN10;var M=Math.log(Math.min(a[0],a[1]))/Math.LN10;return S(M)||(M=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),M}},59972:function(ie,z,e){"use strict";var S=ie.exports={},A=e(79552).locationmodeToLayer,a=e(55712).NO;S.getTopojsonName=function(M){return[M.scope.replace(/ /g,"-"),"_",M.resolution.toString(),"m"].join("")},S.getTopojsonPath=function(M,_){return M+_+".json"},S.getTopojsonFeatures=function(M,_){return a(_,_.objects[A[M.locationmode]]).features}},11680:function(ie){"use strict";ie.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(ie){"use strict";ie.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(ie,z,e){"use strict";var S=e(24040);ie.exports=function(A){for(var a,M,_=S.layoutArrayContainers,d=S.layoutArrayRegexes,s=A.split("[")[0],t=0;t<d.length;t++)if((M=A.match(d[t]))&&0===M.index){a=M[0];break}if(a||(a=_[_.indexOf(s)]),!a)return!1;var i=A.substr(a.length);return i?!!(M=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(M[1]),property:M[3]||""}:{array:a,index:"",property:""}}},67824:function(ie,z,e){"use strict";var S=e(92880).extendFlat,A=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},M={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},_=a.flags.slice().concat(["fullReplot"]),d=M.flags.slice().concat("layoutReplot");function s(n){for(var r={},o=0;o<n.length;o++)r[n[o]]=!1;return r}function t(n,r,o){var u=S({},n);for(var l in u){var h=u[l];A(h)&&(u[l]=i(h,r,0,l))}return"from-root"===o&&(u.editType=r),u}function i(n,r,o,u){if(n.valType){var l=S({},n);if(l.editType=r,Array.isArray(n.items)){l.items=new Array(n.items.length);for(var h=0;h<n.items.length;h++)l.items[h]=i(n.items[h],r)}return l}return t(n,r,"_"===u.charAt(0)?"nested":"from-root")}ie.exports={traces:a,layout:M,traceFlags:function(){return s(_)},layoutFlags:function(){return s(d)},update:function(n,r){var o=r.editType;if(o&&"none"!==o)for(var u=o.split("+"),l=0;l<u.length;l++)n[u[l]]=!0},overrideAll:t}},93404:function(ie,z,e){"use strict";var S=e(38248),A=e(61784),a=e(24040),M=e(3400),_=e(7316),d=e(79811),s=e(76308),t=d.cleanId,i=d.getFromTrace,n=a.traceIs;function r(v,x){var y=v[x],w=x.charAt(0);y&&"paper"!==y&&(v[x]=t(y,w,!0))}function o(v){function x(y,w){v[y]&&(!v.title||!v.title[w])&&(v.title||(v.title={}),v.title[w]=v[y],delete v[y])}v&&("string"!=typeof v.title&&"number"!=typeof v.title||(v.title={text:v.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"))}function u(v){if(!M.isPlainObject(v))return!1;var x=v.name;return delete v.name,delete v.showlegend,("string"==typeof x||"number"==typeof x)&&String(x)}function l(v,x,y,w){if(y&&!w)return v;if(w&&!y||!v.trim())return x;if(!x.trim())return v;var f,C=Math.min(v.length,x.length);for(f=0;f<C&&v.charAt(f)===x.charAt(f);f++);return v.substr(0,f).trim()}function h(v){var x="middle",y="center";return"string"==typeof v&&(-1!==v.indexOf("top")?x="top":-1!==v.indexOf("bottom")&&(x="bottom"),-1!==v.indexOf("left")?y="left":-1!==v.indexOf("right")&&(y="right")),x+" "+y}function c(v,x){return x in v&&"object"==typeof v[x]&&0===Object.keys(v[x]).length}z.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&M.log("Clearing previous rejected promises from queue."),v._promises=[]},z.cleanLayout=function(v){var x,y;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var w=(_.subplotsRegistry.cartesian||{}).attrRegex,f=(_.subplotsRegistry.polar||{}).attrRegex,C=(_.subplotsRegistry.ternary||{}).attrRegex,T=(_.subplotsRegistry.gl3d||{}).attrRegex,D=Object.keys(v);for(x=0;x<D.length;x++){var R=D[x];if(w&&w.test(R)){var P=v[R];P.anchor&&"free"!==P.anchor&&(P.anchor=t(P.anchor)),P.overlaying&&(P.overlaying=t(P.overlaying)),P.type||(P.isdate?P.type="date":P.islog?P.type="log":!1===P.isdate&&!1===P.islog&&(P.type="linear")),"withzero"!==P.autorange&&"tozero"!==P.autorange||(P.autorange=!0,P.rangemode="tozero"),P.insiderange&&delete P.range,delete P.islog,delete P.isdate,delete P.categories,c(P,"domain")&&delete P.domain,void 0!==P.autotick&&(void 0===P.tickmode&&(P.tickmode=P.autotick?"auto":"linear"),delete P.autotick),o(P)}else if(f&&f.test(R))o(v[R].radialaxis);else if(C&&C.test(R)){var O=v[R];o(O.aaxis),o(O.baxis),o(O.caxis)}else if(T&&T.test(R)){var B=v[R],q=B.cameraposition;if(Array.isArray(q)&&4===q[0].length){var H=q[1],$=q[2],j=A([],q[0]),W=[];for(y=0;y<3;++y)W[y]=H[y]+$*j[2+4*y];B.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:H[0],y:H[1],z:H[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}o(B.xaxis),o(B.yaxis),o(B.zaxis)}}var G=Array.isArray(v.annotations)?v.annotations.length:0;for(x=0;x<G;x++){var ae=v.annotations[x];M.isPlainObject(ae)&&(ae.ref&&("paper"===ae.ref?(ae.xref="paper",ae.yref="paper"):"data"===ae.ref&&(ae.xref="x",ae.yref="y"),delete ae.ref),r(ae,"xref"),r(ae,"yref"))}var te=Array.isArray(v.shapes)?v.shapes.length:0;for(x=0;x<te;x++){var Q=v.shapes[x];M.isPlainObject(Q)&&(r(Q,"xref"),r(Q,"yref"))}var ee=Array.isArray(v.images)?v.images.length:0;for(x=0;x<ee;x++){var re=v.images[x];M.isPlainObject(re)&&(r(re,"xref"),r(re,"yref"))}var J=v.legend;return J&&(J.x>3?(J.x=1.02,J.xanchor="left"):J.x<-2&&(J.x=-.02,J.xanchor="right"),J.y>3?(J.y=1.02,J.yanchor="bottom"):J.y<-2&&(J.y=-.02,J.yanchor="top")),o(v),"rotate"===v.dragmode&&(v.dragmode="orbit"),s.clean(v),v.template&&v.template.layout&&z.cleanLayout(v.template.layout),v},z.cleanData=function(v){for(var x=0;x<v.length;x++){var y,w=v[x];if("histogramy"===w.type&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var f=s.defaults,C=w.error_y.color||(n(w,"bar")?s.defaultLine:f[x%f.length]);w.error_y.color=s.addOpacity(s.rgb(C),s.opacity(C)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&("h"!==w.bardir||!n(w,"bar")&&"histogram"!==w.type.substr(0,9)||(w.orientation="h",z.swapXYData(w)),delete w.bardir),"histogramy"===w.type&&z.swapXYData(w),"histogramx"!==w.type&&"histogramy"!==w.type||(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=t(w.xaxis,"x")),w.yaxis&&(w.yaxis=t(w.yaxis,"y")),n(w,"gl3d")&&w.scene&&(w.scene=_.subplotsRegistry.gl3d.cleanId(w.scene)),!n(w,"pie-like")&&!n(w,"bar-like"))if(Array.isArray(w.textposition))for(y=0;y<w.textposition.length;y++)w.textposition[y]=h(w.textposition[y]);else w.textposition&&(w.textposition=h(w.textposition));var T=a.getModule(w);if(T&&T.colorbar){var D=T.colorbar.container,R=D?w[D]:w;R&&R.colorscale&&("YIGnBu"===R.colorscale&&(R.colorscale="YlGnBu"),"YIOrRd"===R.colorscale&&(R.colorscale="YlOrRd"))}if("surface"===w.type&&M.isPlainObject(w.contours)){var P=["x","y","z"];for(y=0;y<P.length;y++){var O=w.contours[P[y]];M.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if("candlestick"===w.type||"ohlc"===w.type){var B=!1!==(w.increasing||{}).showlegend,q=!1!==(w.decreasing||{}).showlegend,N=u(w.increasing),H=u(w.decreasing);if(!1!==N&&!1!==H){var $=l(N,H,B,q);$&&(w.name=$)}else!N&&!H||w.name||(w.name=N||H)}if(Array.isArray(w.transforms)){var j=w.transforms;for(y=0;y<j.length;y++){var W=j[y];if(M.isPlainObject(W))switch(W.type){case"filter":W.filtersrc&&(W.target=W.filtersrc,delete W.filtersrc),W.calendar&&(W.valuecalendar||(W.valuecalendar=W.calendar),delete W.calendar);break;case"groupby":if(W.styles=W.styles||W.style,W.styles&&!Array.isArray(W.styles)){var G=W.styles,ae=Object.keys(G);W.styles=[];for(var te=0;te<ae.length;te++)W.styles.push({target:ae[te],value:G[ae[te]]})}}}}c(w,"line")&&delete w.line,"marker"in w&&(c(w.marker,"line")&&delete w.marker.line,c(w,"marker")&&delete w.marker),s.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),o(w),w.colorbar&&o(w.colorbar),w.marker&&w.marker.colorbar&&o(w.marker.colorbar),w.line&&w.line.colorbar&&o(w.line.colorbar),w.aaxis&&o(w.aaxis),w.baxis&&o(w.baxis)}},z.swapXYData=function(v){var x;if(M.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var y=v.error_y,w="copy_ystyle"in y?y.copy_ystyle:!(y.color||y.thickness||y.width);M.swapAttrs(v,["error_?.copy_ystyle"]),w&&M.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof v.hoverinfo){var f=v.hoverinfo.split("+");for(x=0;x<f.length;x++)"x"===f[x]?f[x]="y":"y"===f[x]&&(f[x]="x");v.hoverinfo=f.join("+")}},z.coerceTraceIndices=function(v,x){if(S(x))return[x];if(!Array.isArray(x)||!x.length)return v.data.map(function(f,C){return C});if(Array.isArray(x)){for(var y=[],w=0;w<x.length;w++)M.isIndex(x[w],v.data.length)?y.push(x[w]):M.warn("trace index (",x[w],") is not a number or is out of bounds");return y}return x},z.manageArrayContainers=function(v,x,y){var w=v.obj,f=v.parts,C=f.length,T=f[C-1],D=S(T);if(D&&null===x){var R=f.slice(0,C-1).join(".");M.nestedProperty(w,R).get().splice(T,1)}else D&&void 0===v.get()&&void 0===v.get()&&(y[v.astr]=null),v.set(x)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function p(v){var x=v.search(b);if(x>0)return v.substr(0,x)}z.hasParent=function(v,x){for(var y=p(x);y;){if(y in v)return!0;y=p(y)}return!1};var m=["x","y","z"];z.clearAxisTypes=function(v,x,y){for(var w=0;w<x.length;w++)for(var f=v._fullData[w],C=0;C<3;C++){var T=i(v,f,m[C]);if(T&&"log"!==T.type){var D=T._name,R=T._id.substr(1);if("scene"===R.substr(0,5)){if(void 0!==y[R])continue;D=R+"."+D}var P=D+".type";void 0===y[D]&&void 0===y[P]&&M.nestedProperty(v.layout,P).set(null)}}}},22448:function(ie,z,e){"use strict";var S=e(36424);z._doPlot=S._doPlot,z.newPlot=S.newPlot,z.restyle=S.restyle,z.relayout=S.relayout,z.redraw=S.redraw,z.update=S.update,z._guiRestyle=S._guiRestyle,z._guiRelayout=S._guiRelayout,z._guiUpdate=S._guiUpdate,z._storeDirectGUIEdit=S._storeDirectGUIEdit,z.react=S.react,z.extendTraces=S.extendTraces,z.prependTraces=S.prependTraces,z.addTraces=S.addTraces,z.deleteTraces=S.deleteTraces,z.moveTraces=S.moveTraces,z.purge=S.purge,z.addFrames=S.addFrames,z.deleteFrames=S.deleteFrames,z.animate=S.animate,z.setPlotConfig=S.setPlotConfig;var A=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;z.deleteActiveShape=function(_){return a(A(_))},z.toImage=e(67024),z.validate=e(21480),z.downloadImage=e(39792);var M=e(94828);z.makeTemplate=M.makeTemplate,z.validateTemplate=M.validateTemplate},17680:function(ie,z,e){"use strict";var S=e(63620),A=e(16628),a=e(24248),M=e(14952).sorterAsc,_=e(24040);z.containerArrayMatch=e(69820);var d=z.isAddVal=function(t){return"add"===t||S(t)},s=z.isRemoveVal=function(t){return null===t||"remove"===t};z.applyContainerArrayChanges=function(t,i,n,r,o){var u=i.astr,l=_.getComponentMethod(u,"supplyLayoutDefaults"),h=_.getComponentMethod(u,"draw"),c=_.getComponentMethod(u,"drawOne"),b=r.replot||r.recalc||l===A||h===A,p=t.layout,m=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",u);var v=n[""][""];if(s(v))i.set(null);else{if(!Array.isArray(v))return a.warn("Unrecognized full array edit value",u,v),!0;i.set(v)}return!b&&(l(p,m),h(t),!0)}var x,y,w,f,C,T,D,P=Object.keys(n).map(Number).sort(M),O=i.get(),B=O||[],q=o(m,u).get(),N=[],H=-1,$=B.length;for(x=0;x<P.length;x++)if(f=n[w=P[x]],C=Object.keys(f),D=d(T=f[""]),w<0||w>B.length-(D?0:1))a.warn("index out of range",u,w);else if(void 0!==T)C.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",u,w),s(T)?N.push(w):D?("add"===T&&(T={}),B.splice(w,0,T),q&&q.splice(w,0,{})):a.warn("Unrecognized full object edit value",u,w,T),-1===H&&(H=w);else for(y=0;y<C.length;y++)o(B[w],C[y],u+"["+w+"].").set(f[C[y]]);for(x=N.length-1;x>=0;x--)B.splice(N[x],1),q&&q.splice(N[x],1);if(B.length?O||i.set(B):i.set(null),b)return!1;if(l(p,m),c!==A){var j;if(-1===H)j=P;else{for($=Math.max(B.length,$),j=[],x=0;x<P.length&&!((w=P[x])>=H);x++)j.push(w);for(x=H;x<$;x++)j.push(x)}for(x=0;x<j.length;x++)c(t,j[x])}else h(t);return!0}},36424:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(52264),M=e(3400),_=M.nestedProperty,d=e(95924),s=e(94552),t=e(24040),i=e(73060),n=e(7316),r=e(54460),o=e(96312),u=e(94724),l=e(43616),h=e(76308),c=e(42464).initInteractions,b=e(9616),p=e(22676).clearOutline,m=e(20556).dfltConfig,v=e(17680),x=e(93404),y=e(39172),w=e(67824),f=e(33816).AX_NAME_PATTERN,C=0;function T(Ce){var Ie=Ce._fullLayout;Ie._redrawFromAutoMarginCount?Ie._redrawFromAutoMarginCount--:Ce.emit("plotly_afterplot")}function D(Ce,Ie){try{Ce._fullLayout._paper.style("background",Ie)}catch(Oe){M.error(Oe)}}function R(Ce,Ie){D(Ce,h.combine(Ie,"white"))}function P(Ce,Ie){if(!Ce._context){Ce._context=M.extendDeep({},m);var Oe=S.select("base");Ce._context._baseUrl=Oe.size()&&Oe.attr("href")?window.location.href.split("#")[0]:""}var ze,je,ve,Ae=Ce._context;if(Ie){for(je=Object.keys(Ie),ze=0;ze<je.length;ze++)"editable"!==(ve=je[ze])&&"edits"!==ve&&ve in Ae&&(Ae[ve]="setBackground"===ve&&"opaque"===Ie[ve]?R:Ie[ve]);Ie.plot3dPixelRatio&&!Ae.plotGlPixelRatio&&(Ae.plotGlPixelRatio=Ae.plot3dPixelRatio);var Le=Ie.editable;if(void 0!==Le)for(Ae.editable=Le,je=Object.keys(Ae.edits),ze=0;ze<je.length;ze++)Ae.edits[je[ze]]=Le;if(Ie.edits)for(je=Object.keys(Ie.edits),ze=0;ze<je.length;ze++)(ve=je[ze])in Ae.edits&&(Ae.edits[ve]=Ie.edits[ve]);Ae._exportedPlot=Ie._exportedPlot}Ae.staticPlot&&(Ae.editable=!1,Ae.edits={},Ae.autosizable=!1,Ae.scrollZoom=!1,Ae.doubleClick=!1,Ae.showTips=!1,Ae.showLink=!1,Ae.displayModeBar=!1),"hover"!==Ae.displayModeBar||a||(Ae.displayModeBar=!0),"transparent"!==Ae.setBackground&&"function"==typeof Ae.setBackground||(Ae.setBackground=D),Ae._hasZeroHeight=Ae._hasZeroHeight||0===Ce.clientHeight,Ae._hasZeroWidth=Ae._hasZeroWidth||0===Ce.clientWidth;var Ve=Ae.scrollZoom,Ne=Ae._scrollZoom={};if(!0===Ve)Ne.cartesian=1,Ne.gl3d=1,Ne.geo=1,Ne.mapbox=1;else if("string"==typeof Ve){var We=Ve.split("+");for(ze=0;ze<We.length;ze++)Ne[We[ze]]=1}else!1!==Ve&&(Ne.gl3d=1,Ne.geo=1,Ne.mapbox=1)}function O(Ce,Ie){var Oe,ze,je=Ie+1,ve=[];for(Oe=0;Oe<Ce.length;Oe++)(ze=Ce[Oe])<0?ve.push(je+ze):ve.push(ze);return ve}function B(Ce,Ie,Oe){var ze,je;for(ze=0;ze<Ie.length;ze++){if((je=Ie[ze])!==parseInt(je,10))throw new Error("all values in "+Oe+" must be integers");if(je>=Ce.data.length||je<-Ce.data.length)throw new Error(Oe+" must be valid indices for gd.data.");if(Ie.indexOf(je,ze+1)>-1||je>=0&&Ie.indexOf(-Ce.data.length+je)>-1||je<0&&Ie.indexOf(Ce.data.length+je)>-1)throw new Error("each index in "+Oe+" must be unique.")}}function q(Ce,Ie,Oe){if(!Array.isArray(Ce.data))throw new Error("gd.data must be an array.");if(void 0===Ie)throw new Error("currentIndices is a required argument.");if(Array.isArray(Ie)||(Ie=[Ie]),B(Ce,Ie,"currentIndices"),void 0===Oe||Array.isArray(Oe)||(Oe=[Oe]),void 0!==Oe&&B(Ce,Oe,"newIndices"),void 0!==Oe&&Ie.length!==Oe.length)throw new Error("current and new indices must be of equal length.")}function N(Ce,Ie,Oe,ze,je){!function(nt,dt,ht,Mt){var kt=M.isPlainObject(Mt);if(!Array.isArray(nt.data))throw new Error("gd.data must be an array");if(!M.isPlainObject(dt))throw new Error("update must be a key:value object");if(void 0===ht)throw new Error("indices must be an integer or array of integers");for(var _t in B(nt,ht,"indices"),dt){if(!Array.isArray(dt[_t])||dt[_t].length!==ht.length)throw new Error("attribute "+_t+" must be an array of length equal to indices array length");if(kt&&(!(_t in Mt)||!Array.isArray(Mt[_t])||Mt[_t].length!==dt[_t].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(Ce,Ie,Oe,ze);for(var ve=function(nt,dt,ht,Mt){var _t,ut,st,Lt,Ut=M.isPlainObject(Mt),Ht=[];for(var Pt in Array.isArray(ht)||(ht=[ht]),ht=O(ht,nt.data.length-1),dt)for(var Je=0;Je<ht.length;Je++){if(_t=(ut=_(nt.data[ht[Je]],Pt)).get(),!M.isArrayOrTypedArray(st=dt[Pt][Je]))throw new Error("attribute: "+Pt+" index: "+Je+" must be an array");if(!M.isArrayOrTypedArray(_t))throw new Error("cannot extend missing or non-array attribute: "+Pt);if(_t.constructor!==st.constructor)throw new Error("cannot extend array with an array of a different type: "+Pt);A(Lt=Ut?Mt[Pt][Je]:Mt)||(Lt=-1),Ht.push({prop:ut,target:_t,insert:st,maxp:Math.floor(Lt)})}return Ht}(Ce,Ie,Oe,ze),Ae={},Le={},Ve=0;Ve<ve.length;Ve++){var Ne=ve[Ve].prop,Xe=je(ve[Ve].target,ve[Ve].insert,ve[Ve].maxp);Ne.set(Xe[0]),Array.isArray(Ae[Ne.astr])||(Ae[Ne.astr]=[]),Ae[Ne.astr].push(Xe[1]),Array.isArray(Le[Ne.astr])||(Le[Ne.astr]=[]),Le[Ne.astr].push(ve[Ve].target.length)}return{update:Ae,maxPoints:Le}}function H(Ce,Ie){var Oe=new Ce.constructor(Ce.length+Ie.length);return Oe.set(Ce),Oe.set(Ie,Ce.length),Oe}function $(Ce,Ie,Oe,ze){Ce=M.getGraphDiv(Ce),x.clearPromiseQueue(Ce);var je={};if("string"==typeof Ie)je[Ie]=Oe;else{if(!M.isPlainObject(Ie))return M.warn("Restyle fail.",Ie,Oe,ze),Promise.reject();je=M.extendFlat({},Ie),void 0===ze&&(ze=Oe)}Object.keys(je).length&&(Ce.changed=!0);var ve=x.coerceTraceIndices(Ce,ze),Ae=ae(Ce,je,ve),Le=Ae.flags;Le.calc&&(Ce.calcdata=void 0),Le.clearAxisTypes&&x.clearAxisTypes(Ce,ve,{});var Ve=[];Le.fullReplot?Ve.push(z._doPlot):(Ve.push(n.previousPromises),n.supplyDefaults(Ce),Le.markerSize&&(n.doCalcdata(Ce),re(Ve)),Le.style&&Ve.push(y.doTraceStyle),Le.colorbars&&Ve.push(y.doColorBars),Ve.push(T)),Ve.push(n.rehover,n.redrag,n.reselect),s.add(Ce,$,[Ce,Ae.undoit,Ae.traces],$,[Ce,Ae.redoit,Ae.traces]);var Ne=M.syncOrAsync(Ve,Ce);return Ne&&Ne.then||(Ne=Promise.resolve()),Ne.then(function(){return Ce.emit("plotly_restyle",Ae.eventData),Ce})}function j(Ce){return void 0===Ce?null:Ce}function W(Ce,Ie){return Ie?function(Oe,ze,je){var ve=_(Oe,ze),Ae=ve.set;return ve.set=function(Le){G((je||"")+ze,ve.get(),Le,Ce),Ae(Le)},ve}:_}function G(Ce,Ie,Oe,ze){if(Array.isArray(Ie)||Array.isArray(Oe))for(var je=Array.isArray(Ie)?Ie:[],ve=Array.isArray(Oe)?Oe:[],Ae=Math.max(je.length,ve.length),Le=0;Le<Ae;Le++)G(Ce+"["+Le+"]",je[Le],ve[Le],ze);else if(M.isPlainObject(Ie)||M.isPlainObject(Oe)){var Ve=M.isPlainObject(Ie)?Ie:{},Ne=M.isPlainObject(Oe)?Oe:{},We=M.extendFlat({},Ve,Ne);for(var Xe in We)G(Ce+"."+Xe,Ve[Xe],Ne[Xe],ze)}else void 0===ze[Ce]&&(ze[Ce]=j(Ie))}function ae(Ce,Ie,Oe){var ze,je=Ce._fullLayout,ve=Ce._fullData,Ae=Ce.data,Le=je._guiEditing,Ve=W(je._preGUI,Le),Ne=M.extendDeepAll({},Ie);te(Ie);var We,Xe=w.traceFlags(),nt={},dt={};function ht(){return Oe.map(function(){})}function Mt($t){var tn=r.id2name($t);-1===We.indexOf(tn)&&We.push(tn)}function kt($t){return"LAYOUT"+$t+".autorange"}function _t($t){return"LAYOUT"+$t+".range"}function ut($t){for(var tn=$t;tn<ve.length;tn++)if(ve[tn]._input===Ae[$t])return ve[tn]}function st($t,tn,dn){if(Array.isArray($t))$t.forEach(function(Mn){st(Mn,tn,dn)});else if(!($t in Ie)&&!x.hasParent(Ie,$t)){var Gn;if("LAYOUT"===$t.substr(0,6))Gn=Ve(Ce.layout,$t.replace("LAYOUT",""));else{var zn=Oe[dn];Gn=W(je._tracePreGUI[ut(zn)._fullInput.uid],Le)(Ae[zn],$t)}$t in dt||(dt[$t]=ht()),void 0===dt[$t][dn]&&(dt[$t][dn]=j(Gn.get())),void 0!==tn&&Gn.set(tn)}}function Lt($t){return function(tn){return ve[tn][$t]}}function Ut($t){return function(tn,dn){return!1===tn?ve[Oe[dn]][$t]:null}}for(var Ht in Ie){if(x.hasParent(Ie,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Pt,Je,tt,Ge,Qe,pt,ct=Ie[Ht];if("autobinx"!==Ht&&"autobiny"!==Ht||(Ht=Ht.charAt(Ht.length-1)+"bins",ct=Array.isArray(ct)?ct.map(Ut(Ht)):!1===ct?Oe.map(Lt(Ht)):null),nt[Ht]=ct,"LAYOUT"!==Ht.substr(0,6)){for(dt[Ht]=ht(),ze=0;ze<Oe.length;ze++)if(Pt=Ae[Oe[ze]],Je=ut(Oe[ze]),Ge=(tt=W(je._tracePreGUI[Je._fullInput.uid],Le)(Pt,Ht)).get(),void 0!==(Qe=Array.isArray(ct)?ct[ze%ct.length]:ct)){var He=tt.parts[tt.parts.length-1],qe=Ht.substr(0,Ht.length-He.length-1),ft=qe?qe+".":"",et=qe?_(Je,qe).get():Je;if((pt=i.getTraceValObject(Je,tt.parts))&&pt.impliedEdits&&null!==Qe)for(var xt in pt.impliedEdits)st(M.relativeAttr(Ht,xt),pt.impliedEdits[xt],ze);else if("thicknessmode"!==He&&"lenmode"!==He||Ge===Qe||"fraction"!==Qe&&"pixels"!==Qe||!et){if("type"===Ht&&("pie"===Qe!=("pie"===Ge)||"funnelarea"===Qe!=("funnelarea"===Ge))){var wt="x",At="y";"bar"!==Qe&&"bar"!==Ge||"h"!==Pt.orientation||(wt="y",At="x"),M.swapAttrs(Pt,["?","?src"],"labels",wt),M.swapAttrs(Pt,["d?","?0"],"label",wt),M.swapAttrs(Pt,["?","?src"],"values",At),"pie"===Ge||"funnelarea"===Ge?(_(Pt,"marker.color").set(_(Pt,"marker.colors").get()),je._pielayer.selectAll("g.trace").remove()):t.traceIs(Pt,"cartesian")&&_(Pt,"marker.colors").set(_(Pt,"marker.color").get())}}else{var yt=je._size,Ot=et.orient,Ct="top"===Ot||"bottom"===Ot;if("thicknessmode"===He){var Rt=Ct?yt.h:yt.w;st(ft+"thickness",et.thickness*("fraction"===Qe?1/Rt:Rt),ze)}else{var Bt=Ct?yt.w:yt.h;st(ft+"len",et.len*("fraction"===Qe?1/Bt:Bt),ze)}}if(dt[Ht][ze]=j(Ge),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ht)){if("orientation"===Ht){tt.set(Qe);var jt=Pt.x&&!Pt.y?"h":"v";if((tt.get()||jt)===Je.orientation)continue}else"orientationaxes"===Ht&&(Pt.orientation={v:"h",h:"v"}[Je.orientation]);x.swapXYData(Pt),Xe.calc=Xe.clearAxisTypes=!0}else-1!==n.dataArrayContainers.indexOf(tt.parts[0])?(x.manageArrayContainers(tt,Qe,dt),Xe.calc=!0):(pt?pt.arrayOk&&!t.traceIs(Je,"regl")&&(M.isArrayOrTypedArray(Qe)||M.isArrayOrTypedArray(Ge))?Xe.calc=!0:w.update(Xe,pt):Xe.calc=!0,tt.set(Qe))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Ht)&&r.swap(Ce,Oe),"orientationaxes"===Ht){var Gt=_(Ce.layout,"hovermode"),on=Gt.get();"x"===on?Gt.set("y"):"y"===on?Gt.set("x"):"x unified"===on?Gt.set("y unified"):"y unified"===on&&Gt.set("x unified")}if(-1!==["orientation","type"].indexOf(Ht)){for(We=[],ze=0;ze<Oe.length;ze++){var Jt=Ae[Oe[ze]];t.traceIs(Jt,"cartesian")&&(Mt(Jt.xaxis||"x"),Mt(Jt.yaxis||"y"))}st(We.map(kt),!0,0),st(We.map(_t),[0,1],0)}}else tt=Ve(Ce.layout,Ht.replace("LAYOUT","")),dt[Ht]=[j(tt.get())],tt.set(Array.isArray(ct)?ct[0]:ct),Xe.calc=!0}return(Xe.calc||Xe.plot)&&(Xe.fullReplot=!0),{flags:Xe,undoit:dt,redoit:nt,traces:Oe,eventData:M.extendDeepNoArrays([],[Ne,Oe])}}function te(Ce){var Ie,Oe,ze,je=M.counterRegex("axis",".title",!1,!1),ve=/colorbar\.title$/,Ae=Object.keys(Ce);for(Ie=0;Ie<Ae.length;Ie++)ze=Ce[Oe=Ae[Ie]],"title"!==Oe&&!je.test(Oe)&&!ve.test(Oe)||"string"!=typeof ze&&"number"!=typeof ze?Oe.indexOf("titlefont")>-1&&-1===Oe.indexOf("grouptitlefont")?Le(Oe,Oe.replace("titlefont","title.font")):Oe.indexOf("titleposition")>-1?Le(Oe,Oe.replace("titleposition","title.position")):Oe.indexOf("titleside")>-1?Le(Oe,Oe.replace("titleside","title.side")):Oe.indexOf("titleoffset")>-1&&Le(Oe,Oe.replace("titleoffset","title.offset")):Le(Oe,Oe.replace("title","title.text"));function Le(Ve,Ne){Ce[Ne]=Ce[Ve],delete Ce[Ve]}}function Q(Ce,Ie,Oe){Ce=M.getGraphDiv(Ce),x.clearPromiseQueue(Ce);var ze={};if("string"==typeof Ie)ze[Ie]=Oe;else{if(!M.isPlainObject(Ie))return M.warn("Relayout fail.",Ie,Oe),Promise.reject();ze=M.extendFlat({},Ie)}Object.keys(ze).length&&(Ce.changed=!0);var je=ce(Ce,ze),ve=je.flags;ve.calc&&(Ce.calcdata=void 0);var Ae=[n.previousPromises];ve.layoutReplot?Ae.push(y.layoutReplot):Object.keys(ze).length&&(ee(Ce,ve,je)||n.supplyDefaults(Ce),ve.legend&&Ae.push(y.doLegend),ve.layoutstyle&&Ae.push(y.layoutStyles),ve.axrange&&re(Ae,je.rangesAltered),ve.ticks&&Ae.push(y.doTicksRelayout),ve.modebar&&Ae.push(y.doModeBar),ve.camera&&Ae.push(y.doCamera),ve.colorbars&&Ae.push(y.doColorBars),Ae.push(T)),Ae.push(n.rehover,n.redrag,n.reselect),s.add(Ce,Q,[Ce,je.undoit],Q,[Ce,je.redoit]);var Le=M.syncOrAsync(Ae,Ce);return Le&&Le.then||(Le=Promise.resolve(Ce)),Le.then(function(){return Ce.emit("plotly_relayout",je.eventData),Ce})}function ee(Ce,Ie,Oe){var ze,je,ve=Ce._fullLayout;if(!Ie.axrange)return!1;for(var Ae in Ie)if("axrange"!==Ae&&Ie[Ae])return!1;var Le=function(dt,ht){return M.coerce(ze,je,u,dt,ht)},Ve={};for(var Ne in Oe.rangesAltered){var We=r.id2name(Ne);if(o(ze=Ce.layout[We],je=ve[We],Le,Ve),je._matchGroup)for(var Xe in je._matchGroup)if(Xe!==Ne){var nt=ve[r.id2name(Xe)];nt.autorange=je.autorange,nt.range=je.range.slice(),nt._input.range=je.range.slice()}}return!0}function re(Ce,Ie){Ce.push(p,y.doAutoRangeAndConstraints,Ie?function(ze){var je=[];for(var ve in Ie){var Ae=r.getFromId(ze,ve);if(je.push(ve),-1!==(Ae.ticklabelposition||"").indexOf("inside")&&Ae._anchorAxis&&je.push(Ae._anchorAxis._id),Ae._matchGroup)for(var Le in Ae._matchGroup)Ie[Le]||je.push(Le)}return r.draw(ze,je,{skipTitle:!0})}:function(ze){return r.draw(ze,"redraw")},y.drawData,y.finalDraw)}var J=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,le=/^[xyz]axis[0-9]*\.autorange$/,fe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ce(Ce,Ie){var Oe,ze,je,ve=Ce.layout,Ae=Ce._fullLayout,Ve=W(Ae._preGUI,Ae._guiEditing),Ne=Object.keys(Ie),We=r.list(Ce),Xe=M.extendDeepAll({},Ie),nt={};for(te(Ie),Ne=Object.keys(Ie),ze=0;ze<Ne.length;ze++)if(0===Ne[ze].indexOf("allaxes")){for(je=0;je<We.length;je++){var dt=We[je]._id.substr(1),ht=-1!==dt.indexOf("scene")?dt+".":"",Mt=Ne[ze].replace("allaxes",ht+We[je]._name);Ie[Mt]||(Ie[Mt]=Ie[Ne[ze]])}delete Ie[Ne[ze]]}var kt=w.layoutFlags(),_t={},ut={};function st(Mn,ln){if(Array.isArray(Mn))Mn.forEach(function(hn){st(hn,ln)});else if(!(Mn in Ie)&&!x.hasParent(Ie,Mn)){var vn=Ve(ve,Mn);Mn in ut||(ut[Mn]=j(vn.get())),void 0!==ln&&vn.set(ln)}}var Lt,Ut={};function Ht(Mn){var ln=r.name2id(Mn.split(".")[0]);return Ut[ln]=1,ln}for(var Pt in Ie){if(x.hasParent(Ie,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");for(var Je=Ve(ve,Pt),tt=Ie[Pt],Ge=Je.parts.length-1;Ge>0&&"string"!=typeof Je.parts[Ge];)Ge--;var Qe=Je.parts[Ge],pt=Je.parts[Ge-1]+"."+Qe,ct=Je.parts.slice(0,Ge).join("."),He=_(Ce.layout,ct).get(),qe=_(Ae,ct).get(),ft=Je.get();if(void 0!==tt){_t[Pt]=tt,ut[Pt]="reverse"===Qe?tt:j(ft);var et=i.getLayoutValObject(Ae,Je.parts);if(et&&et.impliedEdits&&null!==tt)for(var xt in et.impliedEdits)st(M.relativeAttr(Pt,xt),et.impliedEdits[xt]);if(-1!==["width","height"].indexOf(Pt))if(tt){st("autosize",null);var wt="height"===Pt?"width":"height";st(wt,Ae[wt])}else Ae[Pt]=Ce._initialAutoSize[Pt];else if("autosize"===Pt)st("width",tt?null:Ae.width),st("height",tt?null:Ae.height);else if(pt.match(J))Ht(pt),_(Ae,ct+"._inputRange").set(null);else if(pt.match(le)){Ht(pt),_(Ae,ct+"._inputRange").set(null);var At=_(Ae,ct).get();At._inputDomain&&(At._input.domain=At._inputDomain.slice())}else pt.match(fe)&&_(Ae,ct+"._inputDomain").set(null);if("type"===Qe){Lt=He;var yt="linear"===qe.type&&"log"===tt;if(yt||"log"===qe.type&&"linear"===tt){if(Lt&&Lt.range)if(qe.autorange)yt&&(Lt.range=Lt.range[1]>Lt.range[0]?[1,2]:[2,1]);else{var Ct=Lt.range[0],Rt=Lt.range[1];yt?(Ct<=0&&Rt<=0&&st(ct+".autorange",!0),Ct<=0?Ct=Rt/1e6:Rt<=0&&(Rt=Ct/1e6),st(ct+".range[0]",Math.log(Ct)/Math.LN10),st(ct+".range[1]",Math.log(Rt)/Math.LN10)):(st(ct+".range[0]",Math.pow(10,Ct)),st(ct+".range[1]",Math.pow(10,Rt)))}else st(ct+".autorange",!0);Array.isArray(Ae._subplots.polar)&&Ae._subplots.polar.length&&Ae[Je.parts[0]]&&"radialaxis"===Je.parts[1]&&delete Ae[Je.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Ce,qe,tt,st),t.getComponentMethod("images","convertCoords")(Ce,qe,tt,st)}else st(ct+".autorange",!0),st(ct+".range",null);_(Ae,ct+"._inputRange").set(null)}else if(Qe.match(f)){var Bt=_(Ae,Pt).get(),jt=(tt||{}).type;jt&&"-"!==jt||(jt="linear"),t.getComponentMethod("annotations","convertCoords")(Ce,Bt,jt,st),t.getComponentMethod("images","convertCoords")(Ce,Bt,jt,st)}var Gt=v.containerArrayMatch(Pt);if(Gt){Oe=Gt.array;var on=Gt.property,Jt=et||{editType:"calc"};""!==(ze=Gt.index)&&""===on&&(v.isAddVal(tt)?ut[Pt]=null:v.isRemoveVal(tt)?ut[Pt]=(_(ve,Oe).get()||[])[ze]:M.warn("unrecognized full object value",Ie)),w.update(kt,Jt),nt[Oe]||(nt[Oe]={});var $t=nt[Oe][ze];$t||($t=nt[Oe][ze]={}),$t[on]=tt,delete Ie[Pt]}else"reverse"===Qe?(He.range?He.range.reverse():(st(ct+".autorange",!0),He.range=[1,0]),qe.autorange?kt.calc=!0:kt.plot=!0):("dragmode"===Pt&&(!1===tt&&!1!==ft||!1!==tt&&!1===ft)||Ae._has("scatter-like")&&Ae._has("regl")&&"dragmode"===Pt&&("lasso"===tt||"select"===tt)&&"lasso"!==ft&&"select"!==ft||Ae._has("gl2d")?kt.plot=!0:et?w.update(kt,et):kt.calc=!0,Je.set(tt))}}for(Oe in nt)v.applyContainerArrayChanges(Ce,Ve(ve,Oe),nt[Oe],kt,Ve)||(kt.plot=!0);for(var tn in Ut){var dn=(Lt=r.getFromId(Ce,tn))&&Lt._constraintGroup;if(dn)for(var Gn in kt.calc=!0,dn)Ut[Gn]||(r.getFromId(Ce,Gn)._constraintShrinkable=!0)}(ge(Ce)||Ie.height||Ie.width)&&(kt.plot=!0);var zn=Ae.shapes;for(ze=0;ze<zn.length;ze++)if(zn[ze].showlegend){kt.calc=!0;break}return(kt.plot||kt.calc)&&(kt.layoutReplot=!0),{flags:kt,rangesAltered:Ut,undoit:ut,redoit:_t,eventData:Xe}}function ge(Ce){var Ie=Ce._fullLayout,Oe=Ie.width,ze=Ie.height;return Ce.layout.autosize&&n.plotAutoSize(Ce,Ce.layout,Ie),Ie.width!==Oe||Ie.height!==ze}function Te(Ce,Ie,Oe,ze){Ce=M.getGraphDiv(Ce),x.clearPromiseQueue(Ce),M.isPlainObject(Ie)||(Ie={}),M.isPlainObject(Oe)||(Oe={}),Object.keys(Ie).length&&(Ce.changed=!0),Object.keys(Oe).length&&(Ce.changed=!0);var je=x.coerceTraceIndices(Ce,ze),ve=ae(Ce,M.extendFlat({},Ie),je),Ae=ve.flags,Le=ce(Ce,M.extendFlat({},Oe)),Ve=Le.flags;(Ae.calc||Ve.calc)&&(Ce.calcdata=void 0),Ae.clearAxisTypes&&x.clearAxisTypes(Ce,je,Oe);var Ne=[];Ve.layoutReplot?Ne.push(y.layoutReplot):Ae.fullReplot?Ne.push(z._doPlot):(Ne.push(n.previousPromises),ee(Ce,Ve,Le)||n.supplyDefaults(Ce),Ae.style&&Ne.push(y.doTraceStyle),(Ae.colorbars||Ve.colorbars)&&Ne.push(y.doColorBars),Ve.legend&&Ne.push(y.doLegend),Ve.layoutstyle&&Ne.push(y.layoutStyles),Ve.axrange&&re(Ne,Le.rangesAltered),Ve.ticks&&Ne.push(y.doTicksRelayout),Ve.modebar&&Ne.push(y.doModeBar),Ve.camera&&Ne.push(y.doCamera),Ne.push(T)),Ne.push(n.rehover,n.redrag,n.reselect),s.add(Ce,Te,[Ce,ve.undoit,Le.undoit,ve.traces],Te,[Ce,ve.redoit,Le.redoit,ve.traces]);var We=M.syncOrAsync(Ne,Ce);return We&&We.then||(We=Promise.resolve(Ce)),We.then(function(){return Ce.emit("plotly_update",{data:ve.eventData,layout:Le.eventData}),Ce})}function Me(Ce){return function(Ie){Ie._fullLayout._guiEditing=!0;var Oe=Ce.apply(null,arguments);return Ie._fullLayout._guiEditing=!1,Oe}}var we=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],xe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function be(Ce,Ie){for(var Oe=0;Oe<Ie.length;Oe++){var ze=Ie[Oe],je=Ce.match(ze.pattern);if(je){var ve=je[1]||"";return{head:ve,tail:Ce.substr(ve.length+1),attr:ze.attr}}}}function ye(Ce,Ie){var Oe=_(Ie,Ce).get();if(void 0!==Oe)return Oe;var ze=Ce.split(".");for(ze.pop();ze.length>1;)if(ze.pop(),void 0!==(Oe=_(Ie,ze.join(".")+".uirevision").get()))return Oe;return Ie.uirevision}function Se(Ce,Ie){for(var Oe=0;Oe<Ie.length;Oe++)if(Ie[Oe]._fullInput.uid===Ce)return Oe;return-1}function Ee(Ce,Ie,Oe){for(var ze=0;ze<Ie.length;ze++)if(Ie[ze].uid===Ce)return ze;return!Ie[Oe]||Ie[Oe].uid?-1:Oe}function he(Ce,Ie){var Oe=M.isPlainObject(Ce),ze=Array.isArray(Ce);return Oe||ze?(Oe&&M.isPlainObject(Ie)||ze&&Array.isArray(Ie))&&JSON.stringify(Ce)===JSON.stringify(Ie):Ce===Ie}function ue(Ce,Ie,Oe,ze){var je,ve,Ae,Le=ze.getValObject,Ve=ze.flags,Ne=ze.immutable,We=ze.inArray,Xe=ze.arrayIndex;function nt(){var He=je.editType;We&&-1!==He.indexOf("arraydraw")?M.pushUnique(Ve.arrays[We],Xe):(w.update(Ve,je),"none"!==He&&Ve.nChanges++,ze.transition&&je.anim&&Ve.nChangesAnim++,(J.test(Ae)||le.test(Ae))&&(Ve.rangesAltered[Oe[0]]=1),fe.test(Ae)&&_(Ie,"_inputDomain").set(null),"datarevision"===ve&&(Ve.newDataRevision=1))}function dt(He){return"data_array"===He.valType||He.arrayOk}for(ve in Ce){if(Ve.calc&&!ze.transition)return;var ht=Ce[ve],Mt=Ie[ve],kt=Oe.concat(ve);if(Ae=kt.join("."),"_"!==ve.charAt(0)&&"function"!=typeof ht&&ht!==Mt){if(("tick0"===ve||"dtick"===ve)&&"geo"!==Oe[0]){var _t=Ie.tickmode;if("auto"===_t||"array"===_t||!_t)continue}if(("range"!==ve||!Ie.autorange)&&("zmin"!==ve&&"zmax"!==ve||"contourcarpet"!==Ie.type)&&(je=Le(kt))&&(!je._compareAsJSON||JSON.stringify(ht)!==JSON.stringify(Mt))){var ut,st=je.valType,Lt=dt(je),Ut=Array.isArray(ht),Ht=Array.isArray(Mt);if(Ut&&Ht){var Pt="_input_"+ve,Je=Ce[Pt],tt=Ie[Pt];if(Array.isArray(Je)&&Je===tt)continue}if(void 0===Mt)Lt&&Ut?Ve.calc=!0:nt();else if(je._isLinkedToArray){var Ge=[],Qe=!1;We||(Ve.arrays[ve]=Ge);var pt=Math.min(ht.length,Mt.length),ct=Math.max(ht.length,Mt.length);if(pt!==ct){if("arraydraw"!==je.editType){nt();continue}Qe=!0}for(ut=0;ut<pt;ut++)ue(ht[ut],Mt[ut],kt.concat(ut),M.extendFlat({inArray:ve,arrayIndex:ut},ze));if(Qe)for(ut=pt;ut<ct;ut++)Ge.push(ut)}else!st&&M.isPlainObject(ht)?ue(ht,Mt,kt,ze):Lt?Ut&&Ht?(Ne&&(Ve.calc=!0),(Ne||ze.newDataRevision)&&nt()):Ut!==Ht?Ve.calc=!0:nt():Ut&&Ht&&ht.length===Mt.length&&String(ht)===String(Mt)||nt()}}}for(ve in Ie)if(!(ve in Ce)&&"_"!==ve.charAt(0)&&"function"!=typeof Ie[ve]){if(dt(je=Le(Oe.concat(ve)))&&Array.isArray(Ie[ve]))return void(Ve.calc=!0);nt()}}function me(Ce,Ie){var Oe;for(Oe in Ce)if("_"!==Oe.charAt(0)){var ze=Ce[Oe],je=Ie[Oe];if(ze!==je)if(M.isPlainObject(ze)&&M.isPlainObject(je)){if(me(ze,je))return!0}else{if(!Array.isArray(ze)||!Array.isArray(je)||ze.length!==je.length)return!0;for(var ve=0;ve<ze.length;ve++)if(ze[ve]!==je[ve]&&(!M.isPlainObject(ze[ve])||!M.isPlainObject(je[ve])||me(ze[ve],je[ve])))return!0}}}function Pe(Ce){var Ie=Ce._fullLayout,Oe=Ce.getBoundingClientRect();if(!M.equalDomRects(Oe,Ie._lastBBox)){var ze=Ie._invTransform=M.inverseTransformMatrix(M.getFullTransformMatrix(Ce));Ie._invScaleX=Math.sqrt(ze[0][0]*ze[0][0]+ze[0][1]*ze[0][1]+ze[0][2]*ze[0][2]),Ie._invScaleY=Math.sqrt(ze[1][0]*ze[1][0]+ze[1][1]*ze[1][1]+ze[1][2]*ze[1][2]),Ie._lastBBox=Oe}}z.animate=function(Ce,Ie,Oe){if(Ce=M.getGraphDiv(Ce),!M.isPlotDiv(Ce))throw new Error("This element is not a Plotly plot: "+Ce+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ze=Ce._transitionData;ze._frameQueue||(ze._frameQueue=[]);var je=(Oe=n.supplyAnimationDefaults(Oe)).transition,ve=Oe.frame;function Ae(Ne){return Array.isArray(je)?Ne>=je.length?je[0]:je[Ne]:je}function Le(Ne){return Array.isArray(ve)?Ne>=ve.length?ve[0]:ve[Ne]:ve}function Ve(Ne,We){var Xe=0;return function(){if(Ne&&++Xe===We)return Ne()}}return void 0===ze._frameWaitingCnt&&(ze._frameWaitingCnt=0),new Promise(function(Ne,We){var nt,dt,ht=0;function Mt(Pt){return Pt.transitionOpts=Array.isArray(je)?ht>=je.length?je[ht]:je[0]:je,ht++,Pt}var kt=[],_t=null==Ie,ut=Array.isArray(Ie);if(_t||ut||!M.isPlainObject(Ie)){if(_t||-1!==["string","number"].indexOf(typeof Ie))for(nt=0;nt<ze._frames.length;nt++)(dt=ze._frames[nt])&&(_t||String(dt.group)===String(Ie))&&kt.push({type:"byname",name:String(dt.name),data:Mt({name:dt.name})});else if(ut)for(nt=0;nt<Ie.length;nt++){var st=Ie[nt];-1!==["number","string"].indexOf(typeof st)?(st=String(st),kt.push({type:"byname",name:st,data:Mt({name:st})})):M.isPlainObject(st)&&kt.push({type:"object",data:Mt(M.extendFlat({},st))})}}else kt.push({type:"object",data:Mt(M.extendFlat({},Ie))});for(nt=0;nt<kt.length;nt++)if("byname"===(dt=kt[nt]).type&&!ze._frameHash[dt.data.name])return M.warn('animate failure: frame not found: "'+dt.data.name+'"'),void We();-1!==["next","immediate"].indexOf(Oe.mode)&&function(){if(0!==ze._frameQueue.length){for(;ze._frameQueue.length;){var Pt=ze._frameQueue.pop();Pt.onInterrupt&&Pt.onInterrupt()}Ce.emit("plotly_animationinterrupted",[])}}(),"reverse"===Oe.direction&&kt.reverse();var Lt=Ce._fullLayout._currentFrame;if(Lt&&Oe.fromcurrent){var Ut=-1;for(nt=0;nt<kt.length;nt++)if("byname"===(dt=kt[nt]).type&&dt.name===Lt){Ut=nt;break}if(Ut>0&&Ut<kt.length-1){var Ht=[];for(nt=0;nt<kt.length;nt++)dt=kt[nt],("byname"!==kt[nt].type||nt>Ut)&&Ht.push(dt);kt=Ht}}kt.length>0?function(Pt){if(0!==Pt.length){for(var Je=0;Je<Pt.length;Je++){var tt;tt="byname"===Pt[Je].type?n.computeFrame(Ce,Pt[Je].name):Pt[Je].data;var Ge=Le(Je),Qe=Ae(Je);Qe.duration=Math.min(Qe.duration,Ge.duration);var pt={frame:tt,name:Pt[Je].name,frameOpts:Ge,transitionOpts:Qe};Je===Pt.length-1&&(pt.onComplete=Ve(Ne,2),pt.onInterrupt=We),ze._frameQueue.push(pt)}"immediate"===Oe.mode&&(ze._lastFrameAt=-1/0),ze._animationRaf||function Xe(){Ce.emit("plotly_animating"),ze._lastFrameAt=-1/0,ze._timeToNext=0,ze._runningTransitions=0,ze._currentFrame=null;var Pt=function(){ze._animationRaf=window.requestAnimationFrame(Pt),Date.now()-ze._lastFrameAt>ze._timeToNext&&function(){ze._currentFrame&&ze._currentFrame.onComplete&&ze._currentFrame.onComplete();var Je=ze._currentFrame=ze._frameQueue.shift();if(Je){var tt=Je.name?Je.name.toString():null;Ce._fullLayout._currentFrame=tt,ze._lastFrameAt=Date.now(),ze._timeToNext=Je.frameOpts.duration,n.transition(Ce,Je.frame.data,Je.frame.layout,x.coerceTraceIndices(Ce,Je.frame.traces),Je.frameOpts,Je.transitionOpts).then(function(){Je.onComplete&&Je.onComplete()}),Ce.emit("plotly_animatingframe",{name:tt,frame:Je.frame,animation:{frame:Je.frameOpts,transition:Je.transitionOpts}})}else Ce.emit("plotly_animated"),window.cancelAnimationFrame(ze._animationRaf),ze._animationRaf=null}()};Pt()}()}}(kt):(Ce.emit("plotly_animated"),Ne())})},z.addFrames=function(Ce,Ie,Oe){if(Ce=M.getGraphDiv(Ce),null==Ie)return Promise.resolve();if(!M.isPlotDiv(Ce))throw new Error("This element is not a Plotly plot: "+Ce+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ze,je,ve,Ae,Le=Ce._transitionData._frames,Ve=Ce._transitionData._frameHash;if(!Array.isArray(Ie))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ie);var Ne=Le.length+2*Ie.length,We=[],Xe={};for(ze=Ie.length-1;ze>=0;ze--)if(M.isPlainObject(Ie[ze])){var nt=Ie[ze].name,dt=(Ve[nt]||Xe[nt]||{}).name,ht=Ie[ze].name;dt&&ht&&"number"==typeof ht&&(Ve[dt]||Xe[dt])&&C<5&&(C++,M.warn('addFrames: overwriting frame "'+(Ve[dt]||Xe[dt]).name+'" with a frame whose name of type "number" also equates to "'+dt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===C&&M.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Xe[nt]={name:nt},We.push({frame:n.supplyFrameDefaults(Ie[ze]),index:Oe&&null!=Oe[ze]?Oe[ze]:Ne+ze})}We.sort(function(Pt,Je){return Pt.index>Je.index?-1:Pt.index<Je.index?1:0});var kt=[],_t=[],ut=Le.length;for(ze=We.length-1;ze>=0;ze--){if("number"==typeof(je=We[ze].frame).name&&M.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!je.name)for(;Ve[je.name="frame "+Ce._transitionData._counter++];);if(Ve[je.name]){for(ve=0;ve<Le.length&&(Le[ve]||{}).name!==je.name;ve++);kt.push({type:"replace",index:ve,value:je}),_t.unshift({type:"replace",index:ve,value:Le[ve]})}else Ae=Math.max(0,Math.min(We[ze].index,ut)),kt.push({type:"insert",index:Ae,value:je}),_t.unshift({type:"delete",index:Ae}),ut++}return s&&s.add(Ce,n.modifyFrames,[Ce,_t],n.modifyFrames,[Ce,kt]),n.modifyFrames(Ce,kt)},z.deleteFrames=function(Ce,Ie){if(Ce=M.getGraphDiv(Ce),!M.isPlotDiv(Ce))throw new Error("This element is not a Plotly plot: "+Ce);var Oe,ze,je=Ce._transitionData._frames,ve=[],Ae=[];if(!Ie)for(Ie=[],Oe=0;Oe<je.length;Oe++)Ie.push(Oe);for((Ie=Ie.slice()).sort(),Oe=Ie.length-1;Oe>=0;Oe--)ve.push({type:"delete",index:ze=Ie[Oe]}),Ae.unshift({type:"insert",index:ze,value:je[ze]});return s&&s.add(Ce,n.modifyFrames,[Ce,Ae],n.modifyFrames,[Ce,ve]),n.modifyFrames(Ce,ve)},z.addTraces=function Ce(Ie,Oe,ze){Ie=M.getGraphDiv(Ie);var je,ve,Ae=[],Le=z.deleteTraces,Ve=Ce,Ne=[Ie,Ae],We=[Ie,Oe];for(function(Xe,nt,dt){var ht,Mt;if(!Array.isArray(Xe.data))throw new Error("gd.data must be an array.");if(void 0===nt)throw new Error("traces must be defined.");for(Array.isArray(nt)||(nt=[nt]),ht=0;ht<nt.length;ht++)if("object"!=typeof(Mt=nt[ht])||Array.isArray(Mt)||null===Mt)throw new Error("all values in traces array must be non-array objects");if(void 0===dt||Array.isArray(dt)||(dt=[dt]),void 0!==dt&&dt.length!==nt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Ie,Oe,ze),Array.isArray(Oe)||(Oe=[Oe]),Oe=Oe.map(function(Xe){return M.extendFlat({},Xe)}),x.cleanData(Oe),je=0;je<Oe.length;je++)Ie.data.push(Oe[je]);for(je=0;je<Oe.length;je++)Ae.push(-Oe.length+je);if(void 0===ze)return ve=z.redraw(Ie),s.add(Ie,Le,Ne,Ve,We),ve;Array.isArray(ze)||(ze=[ze]);try{q(Ie,Ae,ze)}catch(Xe){throw Ie.data.splice(Ie.data.length-Oe.length,Oe.length),Xe}return s.startSequence(Ie),s.add(Ie,Le,Ne,Ve,We),ve=z.moveTraces(Ie,Ae,ze),s.stopSequence(Ie),ve},z.deleteTraces=function Ce(Ie,Oe){Ie=M.getGraphDiv(Ie);var ze,je,ve=[],Ae=z.addTraces,Le=Ce,Ve=[Ie,ve,Oe],Ne=[Ie,Oe];if(void 0===Oe)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Oe)||(Oe=[Oe]),B(Ie,Oe,"indices"),(Oe=O(Oe,Ie.data.length-1)).sort(M.sorterDes),ze=0;ze<Oe.length;ze+=1)je=Ie.data.splice(Oe[ze],1)[0],ve.push(je);var We=z.redraw(Ie);return s.add(Ie,Ae,Ve,Le,Ne),We},z.extendTraces=function Ce(Ie,Oe,ze,je){var ve=N(Ie=M.getGraphDiv(Ie),Oe,ze,je,function(Ve,Ne,We){var Xe,nt;if(M.isTypedArray(Ve))if(We<0){var dt=new Ve.constructor(0),ht=H(Ve,Ne);We<0?(Xe=ht,nt=dt):(Xe=dt,nt=ht)}else if(Xe=new Ve.constructor(We),nt=new Ve.constructor(Ve.length+Ne.length-We),We===Ne.length)Xe.set(Ne),nt.set(Ve);else if(We<Ne.length){var Mt=Ne.length-We;Xe.set(Ne.subarray(Mt)),nt.set(Ve),nt.set(Ne.subarray(0,Mt),Ve.length)}else{var kt=We-Ne.length,_t=Ve.length-kt;Xe.set(Ve.subarray(_t)),Xe.set(Ne,kt),nt.set(Ve.subarray(0,_t))}else Xe=Ve.concat(Ne),nt=We>=0&&We<Xe.length?Xe.splice(0,Xe.length-We):[];return[Xe,nt]}),Ae=z.redraw(Ie);return s.add(Ie,z.prependTraces,[Ie,ve.update,ze,ve.maxPoints],Ce,arguments),Ae},z.moveTraces=function Ce(Ie,Oe,ze){var je,ve=[],Ae=[],Le=Ce,Ve=Ce,Ne=[Ie=M.getGraphDiv(Ie),ze,Oe],We=[Ie,Oe,ze];if(q(Ie,Oe,ze),Oe=Array.isArray(Oe)?Oe:[Oe],void 0===ze)for(ze=[],je=0;je<Oe.length;je++)ze.push(-Oe.length+je);for(ze=Array.isArray(ze)?ze:[ze],Oe=O(Oe,Ie.data.length-1),ze=O(ze,Ie.data.length-1),je=0;je<Ie.data.length;je++)-1===Oe.indexOf(je)&&ve.push(Ie.data[je]);for(je=0;je<Oe.length;je++)Ae.push({newIndex:ze[je],trace:Ie.data[Oe[je]]});for(Ae.sort(function(nt,dt){return nt.newIndex-dt.newIndex}),je=0;je<Ae.length;je+=1)ve.splice(Ae[je].newIndex,0,Ae[je].trace);Ie.data=ve;var Xe=z.redraw(Ie);return s.add(Ie,Le,Ne,Ve,We),Xe},z.prependTraces=function Ce(Ie,Oe,ze,je){var ve=N(Ie=M.getGraphDiv(Ie),Oe,ze,je,function(Ve,Ne,We){var Xe,nt;if(M.isTypedArray(Ve))if(We<=0){var dt=new Ve.constructor(0),ht=H(Ne,Ve);We<0?(Xe=ht,nt=dt):(Xe=dt,nt=ht)}else if(Xe=new Ve.constructor(We),nt=new Ve.constructor(Ve.length+Ne.length-We),We===Ne.length)Xe.set(Ne),nt.set(Ve);else if(We<Ne.length){var Mt=Ne.length-We;Xe.set(Ne.subarray(0,Mt)),nt.set(Ne.subarray(Mt)),nt.set(Ve,Mt)}else{var kt=We-Ne.length;Xe.set(Ne),Xe.set(Ve.subarray(0,kt),Ne.length),nt.set(Ve.subarray(kt))}else Xe=Ne.concat(Ve),nt=We>=0&&We<Xe.length?Xe.splice(We,Xe.length):[];return[Xe,nt]}),Ae=z.redraw(Ie);return s.add(Ie,z.extendTraces,[Ie,ve.update,ze,ve.maxPoints],Ce,arguments),Ae},z.newPlot=function(Ce,Ie,Oe,ze){return Ce=M.getGraphDiv(Ce),n.cleanPlot([],{},Ce._fullData||[],Ce._fullLayout||{}),n.purge(Ce),z._doPlot(Ce,Ie,Oe,ze)},z._doPlot=function(Ce,Ie,Oe,ze){var je;if(Ce=M.getGraphDiv(Ce),d.init(Ce),M.isPlainObject(Ie)){var ve=Ie;Ie=ve.data,Oe=ve.layout,ze=ve.config,je=ve.frames}if(!1===d.triggerHandler(Ce,"plotly_beforeplot",[Ie,Oe,ze]))return Promise.reject();Ie||Oe||M.isPlotDiv(Ce)||M.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ce),P(Ce,ze),Oe||(Oe={}),S.select(Ce).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Ce._promises)||(Ce._promises=[]);var Ae=0===(Ce.data||[]).length&&Array.isArray(Ie);Array.isArray(Ie)&&(x.cleanData(Ie),Ae?Ce.data=Ie:Ce.data.push.apply(Ce.data,Ie),Ce.empty=!1),Ce.layout&&!Ae||(Ce.layout=x.cleanLayout(Oe)),n.supplyDefaults(Ce);var Le=Ce._fullLayout,Ve=Le._has("cartesian");Le._replotting=!0,(Ae||Le._shouldCreateBgLayer)&&(function(_t){var ut=S.select(_t),st=_t._fullLayout;if(st._calcInverseTransform=Pe,st._calcInverseTransform(_t),st._container=ut.selectAll(".plot-container").data([0]),st._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),st._paperdiv=st._container.selectAll(".svg-container").data([0]),st._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),st._glcontainer=st._paperdiv.selectAll(".gl-container").data([{}]),st._glcontainer.enter().append("div").classed("gl-container",!0),st._paperdiv.selectAll(".main-svg").remove(),st._paperdiv.select(".modebar-container").remove(),st._paper=st._paperdiv.insert("svg",":first-child").classed("main-svg",!0),st._toppaper=st._paperdiv.append("svg").classed("main-svg",!0),st._modebardiv=st._paperdiv.append("div"),delete st._modeBar,st._hoverpaper=st._paperdiv.append("svg").classed("main-svg",!0),!st._uid){var Lt={};S.selectAll("defs").each(function(){this.id&&(Lt[this.id.split("-")[1]]=1)}),st._uid=M.randstr(Lt)}st._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),st._defs=st._paper.append("defs").attr("id","defs-"+st._uid),st._clips=st._defs.append("g").classed("clips",!0),st._topdefs=st._toppaper.append("defs").attr("id","topdefs-"+st._uid),st._topclips=st._topdefs.append("g").classed("clips",!0),st._bgLayer=st._paper.append("g").classed("bglayer",!0),st._draggers=st._paper.append("g").classed("draglayer",!0);var Ut=st._paper.append("g").classed("layer-below",!0);st._imageLowerLayer=Ut.append("g").classed("imagelayer",!0),st._shapeLowerLayer=Ut.append("g").classed("shapelayer",!0),st._cartesianlayer=st._paper.append("g").classed("cartesianlayer",!0),st._polarlayer=st._paper.append("g").classed("polarlayer",!0),st._smithlayer=st._paper.append("g").classed("smithlayer",!0),st._ternarylayer=st._paper.append("g").classed("ternarylayer",!0),st._geolayer=st._paper.append("g").classed("geolayer",!0),st._funnelarealayer=st._paper.append("g").classed("funnelarealayer",!0),st._pielayer=st._paper.append("g").classed("pielayer",!0),st._iciclelayer=st._paper.append("g").classed("iciclelayer",!0),st._treemaplayer=st._paper.append("g").classed("treemaplayer",!0),st._sunburstlayer=st._paper.append("g").classed("sunburstlayer",!0),st._indicatorlayer=st._toppaper.append("g").classed("indicatorlayer",!0),st._glimages=st._paper.append("g").classed("glimages",!0);var Ht=st._toppaper.append("g").classed("layer-above",!0);st._imageUpperLayer=Ht.append("g").classed("imagelayer",!0),st._shapeUpperLayer=Ht.append("g").classed("shapelayer",!0),st._selectionLayer=st._toppaper.append("g").classed("selectionlayer",!0),st._infolayer=st._toppaper.append("g").classed("infolayer",!0),st._menulayer=st._toppaper.append("g").classed("menulayer",!0),st._zoomlayer=st._toppaper.append("g").classed("zoomlayer",!0),st._hoverlayer=st._hoverpaper.append("g").classed("hoverlayer",!0),st._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),_t.emit("plotly_framework")}(Ce),Le._shouldCreateBgLayer&&delete Le._shouldCreateBgLayer),l.initGradients(Ce),l.initPatterns(Ce),Ae&&r.saveShowSpikeInitial(Ce);var Ne=!Ce.calcdata||Ce.calcdata.length!==(Ce._fullData||[]).length;Ne&&n.doCalcdata(Ce);for(var We=0;We<Ce.calcdata.length;We++)Ce.calcdata[We][0].trace=Ce._fullData[We];Ce._context.responsive?Ce._responsiveChartHandler||(Ce._responsiveChartHandler=function(){M.isHidden(Ce)||n.resize(Ce)},window.addEventListener("resize",Ce._responsiveChartHandler)):M.clearResponsive(Ce);var Xe=M.extendFlat({},Le._size),nt=0;function dt(){if(n.clearAutoMarginIds(Ce),y.drawMarginPushers(Ce),r.allowAutoMargin(Ce),Ce._fullLayout.title.text&&Ce._fullLayout.title.automargin&&n.allowAutoMargin(Ce,"title.automargin"),Le._has("pie"))for(var _t=Ce._fullData,ut=0;ut<_t.length;ut++){var st=_t[ut];"pie"===st.type&&st.automargin&&n.allowAutoMargin(Ce,"pie."+st.uid+".automargin")}return n.doAutoMargin(Ce),n.previousPromises(Ce)}function ht(){Ce._transitioning||(y.doAutoRangeAndConstraints(Ce),Ae&&r.saveRangeInitial(Ce),t.getComponentMethod("rangeslider","calcAutorange")(Ce))}var Mt=[n.previousPromises,function(){if(je)return z.addFrames(Ce,je)},function _t(){for(var ut=Le._basePlotModules,st=0;st<ut.length;st++)ut[st].drawFramework&&ut[st].drawFramework(Ce);!Le._glcanvas&&Le._has("gl")&&(Le._glcanvas=Le._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Pt){return Pt.key}),Le._glcanvas.enter().append("canvas").attr("class",function(Pt){return"gl-canvas gl-canvas-"+Pt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Lt=Ce._context.plotGlPixelRatio;if(Le._glcanvas){Le._glcanvas.attr("width",Le.width*Lt).attr("height",Le.height*Lt).style("width",Le.width+"px").style("height",Le.height+"px");var Ut=Le._glcanvas.data()[0].regl;if(Ut&&(Math.floor(Le.width*Lt)!==Ut._gl.drawingBufferWidth||Math.floor(Le.height*Lt)!==Ut._gl.drawingBufferHeight)){var Ht="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!nt)return M.log(Ht+" Clearing graph and plotting again."),n.cleanPlot([],{},Ce._fullData,Le),n.supplyDefaults(Ce),Le=Ce._fullLayout,n.doCalcdata(Ce),nt++,_t();M.error(Ht)}}return"h"===Le.modebar.orientation?Le._modebardiv.style("height",null).style("width","100%"):Le._modebardiv.style("width",null).style("height",Le.height+"px"),n.previousPromises(Ce)},dt,function(){if(n.didMarginChange(Xe,Le._size))return M.syncOrAsync([dt,y.layoutStyles],Ce)}];Ve&&Mt.push(function(){if(Ne)return M.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ht],Ce);ht()}),Mt.push(y.layoutStyles),Ve&&Mt.push(function(){return r.draw(Ce,Ae?"":"redraw")},function(_t){var ut=_t._fullLayout._insideTickLabelsUpdaterange;if(ut)return _t._fullLayout._insideTickLabelsUpdaterange=void 0,Q(_t,ut).then(function(){r.saveRangeInitial(_t,!0)})}),Mt.push(y.drawData,y.finalDraw,c,n.addLinks,n.rehover,n.redrag,n.reselect,n.doAutoMargin,n.previousPromises);var kt=M.syncOrAsync(Mt,Ce);return kt&&kt.then||(kt=Promise.resolve()),kt.then(function(){return T(Ce),Ce})},z.purge=function(Ce){var Ie=(Ce=M.getGraphDiv(Ce))._fullLayout||{};return n.cleanPlot([],{},Ce._fullData||[],Ie),n.purge(Ce),d.purge(Ce),Ie._container&&Ie._container.remove(),delete Ce._context,Ce},z.react=function(Ce,Ie,Oe,ze){var je,ve;Ce=M.getGraphDiv(Ce),x.clearPromiseQueue(Ce);var ct,He,qe,ft,et,xt,Ae=Ce._fullData,Le=Ce._fullLayout;if(M.isPlotDiv(Ce)&&Ae&&Le){if(M.isPlainObject(Ie)){var Ve=Ie;Ie=Ve.data,Oe=Ve.layout,ze=Ve.config,je=Ve.frames}var Ne=!1;if(ze){var We=M.extendDeep({},Ce._context);Ce._context=void 0,P(Ce,ze),Ne=me(We,Ce._context)}Ce.data=Ie||[],x.cleanData(Ce.data),Ce.layout=Oe||{},x.cleanLayout(Ce.layout),function(ct,He,qe,ft){var et,xt,wt,At,yt,Ot,Ct,Rt,Bt,jt,Gt=ft._preGUI,on=[],Jt={},$t={};for(et in Gt){if(yt=be(et,we)){if(Bt=yt.head,jt=yt.tail,(At=(wt=_(ft,xt=yt.attr||Bt+".uirevision").get())&&ye(xt,He))&&At===wt){if(null===(Ot=Gt[et])&&(Ot=void 0),he(Rt=(Ct=_(He,et)).get(),Ot)){void 0===Rt&&"autorange"===jt&&on.push(Bt),Ct.set(j(_(ft,et).get()));continue}if("autorange"===jt||"range["===jt.substr(0,6)){var Gn=Gt[Bt+".autorange"];if(Gn||null===Gn&&null===Gt[Bt+".range[0]"]&&null===Gt[Bt+".range[1]"]){if(!(Bt in Jt)){var zn=_(He,Bt).get();Jt[Bt]=zn&&(zn.autorange||!1!==zn.autorange&&(!zn.range||2!==zn.range.length))}if(Jt[Bt]){Ct.set(j(_(ft,et).get()));continue}}}}}else M.warn("unrecognized GUI edit: "+et);delete Gt[et],yt&&"range["===yt.tail.substr(0,6)&&($t[yt.head]=1)}for(var Mn=0;Mn<on.length;Mn++){var ln=on[Mn];if($t[ln]){var vn=_(He,ln).get();vn&&delete vn.autorange}}var hn=ft._tracePreGUI;for(var _n in hn){var Dn,Pn=hn[_n],Yn=null;for(et in Pn){if(!Yn){var jn=Se(_n,qe);if(jn<0){delete hn[_n];break}var Fn=Ee(_n,ct,(Dn=qe[jn]._fullInput).index);if(Fn<0){delete hn[_n];break}Yn=ct[Fn]}if(yt=be(et,xe)){if(yt.attr?At=(wt=_(ft,yt.attr).get())&&ye(yt.attr,He):(wt=Dn.uirevision,void 0===(At=Yn.uirevision)&&(At=He.uirevision)),At&&At===wt&&(null===(Ot=Pn[et])&&(Ot=void 0),he(Rt=(Ct=_(Yn,et)).get(),Ot))){Ct.set(j(_(Dn,et).get()));continue}}else M.warn("unrecognized GUI edit: "+et+" in trace uid "+_n);delete Pn[et]}}}(Ce.data,Ce.layout,Ae,Le),n.supplyDefaults(Ce,{skipUpdateCalc:!0});var Xe=Ce._fullData,nt=Ce._fullLayout,dt=void 0===nt.datarevision,ht=nt.transition,Mt=(ct=Ce,He=Le,qe=nt,ft=dt,et=ht,(xt=w.layoutFlags()).arrays={},xt.rangesAltered={},xt.nChanges=0,xt.nChangesAnim=0,ue(He,qe,[],{getValObject:function(wt){return i.getLayoutValObject(qe,wt)},flags:xt,immutable:ft,transition:et,gd:ct}),(xt.plot||xt.calc)&&(xt.layoutReplot=!0),et&&xt.nChanges&&xt.nChangesAnim&&(xt.anim=xt.nChanges===xt.nChangesAnim?"all":"some"),xt),_t=function(ct,He,qe,ft,et,xt){var wt=He.length===qe.length;if(!et&&!wt)return{fullReplot:!0,calc:!0};var At,yt,Ot=w.traceFlags();Ot.arrays={},Ot.nChanges=0,Ot.nChangesAnim=0;var Ct={getValObject:function(Bt){var jt=i.getTraceValObject(yt,Bt);return!yt._module.animatable&&jt.anim&&(jt.anim=!1),jt},flags:Ot,immutable:ft,transition:et,newDataRevision:xt,gd:ct},Rt={};for(At=0;At<He.length;At++)if(qe[At]){if(n.hasMakesDataTransform(yt=qe[At]._fullInput)&&(yt=qe[At]),Rt[yt.uid])continue;Rt[yt.uid]=1,ue(He[At]._fullInput,yt,[],Ct)}return(Ot.calc||Ot.plot)&&(Ot.fullReplot=!0),et&&Ot.nChanges&&Ot.nChangesAnim&&(Ot.anim=Ot.nChanges===Ot.nChangesAnim&&wt?"all":"some"),Ot}(Ce,Ae,Xe,dt,ht,Mt.newDataRevision);if(ge(Ce)&&(Mt.layoutReplot=!0),_t.calc||Mt.calc){Ce.calcdata=void 0;for(var ut=Object.getOwnPropertyNames(nt),st=0;st<ut.length;st++){var Lt=ut[st],Ut=Lt.substring(0,5);if("xaxis"===Ut||"yaxis"===Ut){var Ht=nt[Lt]._emptyCategories;Ht&&Ht()}}}else n.supplyDefaultsUpdateCalc(Ce.calcdata,Xe);var Pt=[];if(je&&(Ce._transitionData={},n.createTransitionData(Ce),Pt.push(function(){return z.addFrames(Ce,je)})),nt.transition&&!Ne&&(_t.anim||Mt.anim))Mt.ticks&&Pt.push(y.doTicksRelayout),n.doCalcdata(Ce),y.doAutoRangeAndConstraints(Ce),Pt.push(function(){return n.transitionFromReact(Ce,_t,Mt,Le)});else if(_t.fullReplot||Mt.layoutReplot||Ne)Ce._fullLayout._skipDefaults=!0,Pt.push(z._doPlot);else{for(var Je in Mt.arrays){var tt=Mt.arrays[Je];if(tt.length){var Ge=t.getComponentMethod(Je,"drawOne");if(Ge!==M.noop)for(var Qe=0;Qe<tt.length;Qe++)Ge(Ce,tt[Qe]);else{var pt=t.getComponentMethod(Je,"draw");if(pt===M.noop)throw new Error("cannot draw components: "+Je);pt(Ce)}}}Pt.push(n.previousPromises),_t.style&&Pt.push(y.doTraceStyle),(_t.colorbars||Mt.colorbars)&&Pt.push(y.doColorBars),Mt.legend&&Pt.push(y.doLegend),Mt.layoutstyle&&Pt.push(y.layoutStyles),Mt.axrange&&re(Pt),Mt.ticks&&Pt.push(y.doTicksRelayout),Mt.modebar&&Pt.push(y.doModeBar),Mt.camera&&Pt.push(y.doCamera),Pt.push(T)}Pt.push(n.rehover,n.redrag,n.reselect),(ve=M.syncOrAsync(Pt,Ce))&&ve.then||(ve=Promise.resolve(Ce))}else ve=z.newPlot(Ce,Ie,Oe,ze);return ve.then(function(){return Ce.emit("plotly_react",{data:Ie,layout:Oe}),Ce})},z.redraw=function(Ce){if(Ce=M.getGraphDiv(Ce),!M.isPlotDiv(Ce))throw new Error("This element is not a Plotly plot: "+Ce);return x.cleanData(Ce.data),x.cleanLayout(Ce.layout),Ce.calcdata=void 0,z._doPlot(Ce).then(function(){return Ce.emit("plotly_redraw"),Ce})},z.relayout=Q,z.restyle=$,z.setPlotConfig=function(Ce){return M.extendFlat(m,Ce)},z.update=Te,z._guiRelayout=Me(Q),z._guiRestyle=Me($),z._guiUpdate=Me(Te),z._storeDirectGUIEdit=function(Ce,Ie,Oe){for(var ze in Oe)G(ze,_(Ce,ze).get(),Oe[ze],Ie)}},20556:function(ie){"use strict";var z={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function S(A,a){for(var M in A){var _=A[M];_.valType?a[M]=_.dflt:(a[M]||(a[M]={}),S(_,a[M]))}})(z,e),ie.exports={configAttributes:z,dfltConfig:e}},73060:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(45464),M=e(64859),_=e(16672),d=e(85656),s=e(20556).configAttributes,t=e(67824),i=A.extendDeepAll,n=A.isPlainObject,r=A.isArrayOrTypedArray,o=A.nestedProperty,u=A.valObjectMeta,l="_isSubplotObj",h="_isLinkedToArray",c="_deprecated",b=[l,h,"_arrayAttrRegexps",c];function p(f,C,T){if(!f)return!1;if(f._isLinkedToArray)if(m(C[T]))T++;else if(T<C.length)return!1;for(;T<C.length;T++){var D=f[C[T]];if(!n(D)||(f=D,T===C.length-1))break;if(f._isLinkedToArray){if(!m(C[++T]))return!1}else if("info_array"===f.valType){var R=C[++T];if(!m(R))return!1;var P=f.items;if(Array.isArray(P)){if(R>=P.length)return!1;if(2===f.dimensions){if(T++,C.length===T)return f;var O=C[T];if(!m(O))return!1;f=P[R][O]}else f=P[R]}else f=P}}return f}function m(f){return f===Math.round(f)&&f>=0}function v(){var f,C,T={};for(f in i(T,M),S.subplotsRegistry)if((C=S.subplotsRegistry[f]).layoutAttributes)if(Array.isArray(C.attr))for(var D=0;D<C.attr.length;D++)y(T,C,C.attr[D]);else y(T,C,"subplot"===C.attr?C.name:C.attr);for(f in S.componentsRegistry){var R=(C=S.componentsRegistry[f]).schema;if(R&&(R.subplots||R.layout)){var P=R.subplots;if(P&&P.xaxis&&!P.yaxis)for(var O in P.xaxis)delete T.yaxis[O];delete T.xaxis.shift,delete T.xaxis.autoshift}else"colorscale"===C.name?i(T,C.layoutAttributes):C.layoutAttributes&&w(T,C.layoutAttributes,C.name)}return{layoutAttributes:x(T)}}function x(f){return z.crawl(f,function(T,D,R){z.isValObject(T)?!0!==T.arrayOk&&"data_array"!==T.valType||(R[D+"src"]={valType:"string",editType:"none"}):n(T)&&(T.role="object")}),z.crawl(f,function(T,D,R){if(T){var P=T[h];P&&(delete T[h],R[D]={items:{}},R[D].items[P]=T,R[D].role="object")}}),function(C){!function T(D){for(var R in D)if(n(D[R]))T(D[R]);else if(Array.isArray(D[R]))for(var P=0;P<D[R].length;P++)T(D[R][P]);else D[R]instanceof RegExp&&(D[R]=D[R].toString())}(C)}(f),f}function y(f,C,T){var D=o(f,T),R=i({},C.layoutAttributes);R[l]=!0,D.set(R)}function w(f,C,T){var D=o(f,T);D.set(i(D.get()||{},C))}z.IS_SUBPLOT_OBJ=l,z.IS_LINKED_TO_ARRAY=h,z.DEPRECATED=c,z.UNDERSCORE_ATTRS=b,z.get=function(){var f={};S.allTypes.forEach(function(D){f[D]=function(R){var P,O;O=(P=S.modules[R]._module).basePlotModule;var B={type:null},q=i({},a),N=i({},P.attributes);z.crawl(N,function(j,W,G,ae,te){o(q,te).set(void 0),void 0===j&&o(N,te).set(void 0)}),i(B,q),S.traceIs(R,"noOpacity")&&delete B.opacity,S.traceIs(R,"showLegend")||(delete B.showlegend,delete B.legendgroup),S.traceIs(R,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),P.selectPoints||delete B.selectedpoints,i(B,N),O.attributes&&i(B,O.attributes),B.type=R;var H={meta:P.meta||{},categories:P.categories||{},animatable:!!P.animatable,type:R,attributes:x(B)};if(P.layoutAttributes){var $={};i($,P.layoutAttributes),H.layoutAttributes=x($)}return P.animatable||z.crawl(H,function(j){z.isValObject(j)&&"anim"in j&&delete j.anim}),H}(D)});var C,T={};return Object.keys(S.transformsRegistry).forEach(function(D){var R,O;T[D]=(O=i({},S.transformsRegistry[R=D].attributes),Object.keys(S.componentsRegistry).forEach(function(B){var q=S.componentsRegistry[B];q.schema&&q.schema.transforms&&q.schema.transforms[R]&&Object.keys(q.schema.transforms[R]).forEach(function(N){w(O,q.schema.transforms[R][N],N)})}),{attributes:x(O)})}),{defs:{valObjects:u,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:f,layout:v(),transforms:T,frames:(C={frames:i({},_)},x(C),C.frames),animation:x(d),config:x(s)}},z.crawl=function(f,C,T,D){var R=T||0;D=D||"",Object.keys(f).forEach(function(P){var O=f[P];if(-1===b.indexOf(P)){var B=(D?D+".":"")+P;C(O,P,f,R,B),z.isValObject(O)||n(O)&&"impliedEdits"!==P&&z.crawl(O,C,R+1,B)}})},z.isValObject=function(f){return f&&void 0!==f.valType},z.findArrayAttributes=function(f){var C,T,D=[],R=[],P=[];function O(j,W,G,ae){R=R.slice(0,ae).concat([W]),P=P.slice(0,ae).concat([j&&j._isLinkedToArray]),j&&("data_array"===j.valType||!0===j.arrayOk)&&("colorbar"!==R[ae-1]||"ticktext"!==W&&"tickvals"!==W)&&B(C,0,"")}function B(j,W,G){var ae=j[R[W]],te=G+R[W];if(W===R.length-1)r(ae)&&D.push(T+te);else if(P[W]){if(Array.isArray(ae))for(var Q=0;Q<ae.length;Q++)n(ae[Q])&&B(ae[Q],W+1,te+"["+Q+"].")}else n(ae)&&B(ae,W+1,te+".")}C=f,T="",z.crawl(a,O),f._module&&f._module.attributes&&z.crawl(f._module.attributes,O);var q=f.transforms;if(q)for(var N=0;N<q.length;N++){var H=q[N],$=H._module;$&&(T="transforms["+N+"].",C=H,z.crawl($.attributes,O))}return D},z.getTraceValObject=function(f,C){var T,D,R=C[0],P=1;if("transforms"===R){if(1===C.length)return a.transforms;var O=f.transforms;if(!Array.isArray(O)||!O.length)return!1;var B=C[1];if(!m(B)||B>=O.length)return!1;D=(T=(S.transformsRegistry[O[B].type]||{}).attributes)&&T[C[2]],P=3}else{var q=f._module;if(q||(q=(S.modules[f.type||a.type.dflt]||{})._module),!q)return!1;if(!(D=(T=q.attributes)&&T[R])){var N=q.basePlotModule;N&&N.attributes&&(D=N.attributes[R])}D||(D=a[R])}return p(D,C,P)},z.getLayoutValObject=function(f,C){return p(function(D,R){var P,O,B,q,N=D._basePlotModules;if(N){var H;for(P=0;P<N.length;P++){if((B=N[P]).attrRegex&&B.attrRegex.test(R)){if(B.layoutAttrOverrides)return B.layoutAttrOverrides;!H&&B.layoutAttributes&&(H=B.layoutAttributes)}var $=B.baseLayoutAttrOverrides;if($&&R in $)return $[R]}if(H)return H}var j=D._modules;if(j)for(P=0;P<j.length;P++)if((q=j[P].layoutAttributes)&&R in q)return q[R];for(O in S.componentsRegistry){if("colorscale"===(B=S.componentsRegistry[O]).name&&0===R.indexOf("coloraxis"))return B.layoutAttributes[R];if(!B.schema&&R===B.name)return B.layoutAttributes}return R in M&&M[R]}(f,C[0]),C,1)}},31780:function(ie,z,e){"use strict";var S=e(3400),A=e(45464),a="templateitemname",M={name:{valType:"string",editType:"none"}};function _(s){return s&&"string"==typeof s}function d(s){return"s"!==s.charAt(s.length-1)&&S.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}M[a]={valType:"string",editType:"calc"},z.templatedArray=function(s,t){return t._isLinkedToArray=s,t.name=M.name,t[a]=M[a],t},z.traceTemplater=function(s){var t,i,n={};for(t in s)i=s[t],Array.isArray(i)&&i.length&&(n[t]=0);return{newTrace:function(r){var o={type:t=S.coerce(r,{},A,"type"),_template:null};if(t in n){var u=n[t]%(i=s[t]).length;n[t]++,o._template=i[u]}return o}}},z.newContainer=function(s,t,i){var n=s._template,r=n&&(n[t]||i&&n[i]);return S.isPlainObject(r)||(r=null),s[t]={_template:r}},z.arrayTemplater=function(s,t,i){var n=s._template,r=n&&n[d(t)],o=n&&n[t];Array.isArray(o)&&o.length||(o=[]);var u={};return{newItem:function(l){var h={name:l.name,_input:l},c=h[a]=l[a];if(!_(c))return h._template=r,h;for(var b=0;b<o.length;b++){var p=o[b];if(p.name===c)return u[c]=1,h._template=p,h}return h[i]=l[i]||!1,h._template=!1,h},defaultItems:function(){for(var l=[],h=0;h<o.length;h++){var c=o[h],b=c.name;if(_(b)&&!u[b]){var p={_template:c,name:b,_input:{_templateitemname:b}};p[a]=c[a],l.push(p),u[b]=1}}return l}}},z.arrayDefaultKey=d,z.arrayEditor=function(s,t,i){var n=(S.nestedProperty(s,t).get()||[]).length,r=i._index,o=r>=n&&(i._input||{})._templateitemname;o&&(r=n);var u,l=t+"["+r+"]";function h(){u={},o&&(u[l]={},u[l][a]=o)}function c(p,m){o?S.nestedProperty(u[l],p).set(m):u[l+"."+p]=m}function b(){var p=u;return h(),p}return h(),{modifyBase:function(p,m){u[p]=m},modifyItem:c,getUpdateObj:b,applyUpdate:function(p,m){p&&c(p,m);var v=b();for(var x in v)S.nestedProperty(s,x).set(v[x])}}}},39172:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(7316),M=e(3400),_=e(72736),d=e(73696),s=e(76308),t=e(43616),i=e(81668),n=e(45460),r=e(54460),o=e(84284),u=e(71888),l=u.enforce,h=u.clean,c=e(19280).doAutoRange,b="start";function p(w,f,C){for(var T=0;T<C.length;T++){var D=C[T][0],R=C[T][1];if(!(D[0]>=w[1]||D[1]<=w[0])&&R[0]<f[1]&&R[1]>f[0])return!0}return!1}function m(w){var f,C,T,D,R,P,O=w._fullLayout,B=O._size,q=B.p,N=r.list(w,"",!0);if(O._paperdiv.style({width:w._context.responsive&&O.autosize&&!w._context._hasZeroWidth&&!w.layout.width?"100%":O.width+"px",height:w._context.responsive&&O.autosize&&!w._context._hasZeroHeight&&!w.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(t.setSize,O.width,O.height),w._context.setBackground(w,O.paper_bgcolor),z.drawMainTitle(w),n.manage(w),!O._has("cartesian"))return a.previousPromises(w);function H(Ne,We,Xe){var nt=Ne._lw/2;return"x"===Ne._id.charAt(0)?We?"top"===Xe?We._offset-q-nt:We._offset+We._length+q+nt:B.t+B.h*(1-(Ne.position||0))+nt%1:We?"right"===Xe?We._offset+We._length+q+nt:We._offset-q-nt:B.l+B.w*(Ne.position||0)+nt%1}for(f=0;f<N.length;f++){var $=(D=N[f])._anchorAxis;D._linepositions={},D._lw=t.crispRound(w,D.linewidth,1),D._mainLinePosition=H(D,$,D.side),D._mainMirrorPosition=D.mirror&&$?H(D,$,o.OPPOSITE_SIDE[D.side]):null}var j=[],W=[],G=[],ae=1===s.opacity(O.paper_bgcolor)&&1===s.opacity(O.plot_bgcolor)&&O.paper_bgcolor===O.plot_bgcolor;for(C in O._plots)if((T=O._plots[C]).mainplot)T.bg&&T.bg.remove(),T.bg=void 0;else{var te=T.xaxis.domain,Q=T.yaxis.domain,ee=T.plotgroup;if(p(te,Q,G)){var re=ee.node(),J=T.bg=M.ensureSingle(ee,"rect","bg");re.insertBefore(J.node(),re.childNodes[0]),W.push(C)}else ee.select("rect.bg").remove(),G.push([te,Q]),ae||(j.push(C),W.push(C))}var le,fe,ce,ge,Te,Me,we,xe,be,ye,Se,Ee,he,ue=O._bgLayer.selectAll(".bg").data(j);for(ue.enter().append("rect").classed("bg",!0),ue.exit().remove(),ue.each(function(Ne){O._plots[Ne].bg=S.select(this)}),f=0;f<W.length;f++)R=(T=O._plots[W[f]]).xaxis,P=T.yaxis,T.bg&&void 0!==R._offset&&void 0!==P._offset&&T.bg.call(t.setRect,R._offset-q,P._offset-q,R._length+2*q,P._length+2*q).call(s.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(C in O._plots){R=(T=O._plots[C]).xaxis,P=T.yaxis;var me,Pe,Ce=T.clipId="clip"+O._uid+C+"plot",Ie=M.ensureSingleById(O._clips,"clipPath",Ce,function(Ne){Ne.classed("plotclip",!0).append("rect")});T.clipRect=Ie.select("rect").attr({width:R._length,height:P._length}),t.setTranslate(T.plot,R._offset,P._offset),T._hasClipOnAxisFalse?(me=null,Pe=Ce):(me=Ce,Pe=null),t.setClipUrl(T.plot,me,w),T.layerClipId=Pe}function Oe(Ne){return"M"+le+","+Ne+"H"+fe}function ze(Ne){return"M"+R._offset+","+Ne+"h"+R._length}function je(Ne){return"M"+Ne+","+xe+"V"+we}function ve(Ne){return void 0!==P._shift&&(Ne+=P._shift),"M"+Ne+","+P._offset+"v"+P._length}function Ae(Ne,We,Xe){if(!Ne.showline||C!==Ne._mainSubplot)return"";if(!Ne._anchorAxis)return Xe(Ne._mainLinePosition);var nt=We(Ne._mainLinePosition);return Ne.mirror&&(nt+=We(Ne._mainMirrorPosition)),nt}for(C in O._plots){P=(T=O._plots[C]).yaxis;var Le="M0,0";v(R=T.xaxis,C)&&(Te=y(R,"left",P,N),le=R._offset-(Te?q+Te:0),Me=y(R,"right",P,N),fe=R._offset+R._length+(Me?q+Me:0),ce=H(R,P,"bottom"),ge=H(R,P,"top"),!(he=!R._anchorAxis||C!==R._mainSubplot)||"allticks"!==R.mirror&&"all"!==R.mirror||(R._linepositions[C]=[ce,ge]),Le=Ae(R,Oe,ze),he&&R.showline&&("all"===R.mirror||"allticks"===R.mirror)&&(Le+=Oe(ce)+Oe(ge)),T.xlines.style("stroke-width",R._lw+"px").call(s.stroke,R.showline?R.linecolor:"rgba(0,0,0,0)")),T.xlines.attr("d",Le);var Ve="M0,0";v(P,C)&&(Se=y(P,"bottom",R,N),we=P._offset+P._length+(Se?q:0),Ee=y(P,"top",R,N),xe=P._offset-(Ee?q:0),be=H(P,R,"left"),ye=H(P,R,"right"),!(he=!P._anchorAxis||C!==P._mainSubplot)||"allticks"!==P.mirror&&"all"!==P.mirror||(P._linepositions[C]=[be,ye]),Ve=Ae(P,je,ve),he&&P.showline&&("all"===P.mirror||"allticks"===P.mirror)&&(Ve+=je(be)+je(ye)),T.ylines.style("stroke-width",P._lw+"px").call(s.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),T.ylines.attr("d",Ve)}return r.makeClipPaths(w),a.previousPromises(w)}function v(w,f){return(w.ticks||w.showline)&&(f===w._mainSubplot||"all"===w.mirror||"allticks"===w.mirror)}function x(w,f,C){if(!C.showline||!C._lw)return!1;if("all"===C.mirror||"allticks"===C.mirror)return!0;var T=C._anchorAxis;if(!T)return!1;var D=o.FROM_BL[f];return C.side===f?T.domain[D]===w.domain[D]:C.mirror&&T.domain[1-D]===w.domain[1-D]}function y(w,f,C,T){if(x(w,f,C))return C._lw;for(var D=0;D<T.length;D++){var R=T[D];if(R._mainAxis===C._mainAxis&&x(w,f,R))return R._lw}return 0}z.layoutStyles=function(w){return M.syncOrAsync([a.doAutoMargin,m],w)},z.drawMainTitle=function(w){var f,W,G,C=w._fullLayout.title,T=w._fullLayout,D=(G="middle",M.isRightAnchor(W=T.title)?G="end":M.isLeftAnchor(W)&&(G=b),G),R=function(j){var W=j.title,G="0em";return M.isTopAnchor(W)?G=o.CAP_SHIFT+"em":M.isMiddleAnchor(W)&&(G=o.MID_SHIFT+"em"),G}(T),P=function(j,W){var G=j.title,ae=j._size,te=0;return"0em"!==W&&W?W===o.CAP_SHIFT+"em"&&(te=G.pad.t):te=-G.pad.b,"auto"===G.y?ae.t/2:"paper"===G.yref?ae.t+ae.h-ae.h*G.y+te:j.height-j.height*G.y+te}(T,R),O=function(j,W){var G=j.title,ae=j._size,te=0;return W===b?te=G.pad.l:"end"===W&&(te=-G.pad.r),"paper"===G.xref?ae.l+ae.w*G.x+te:j.width*G.x+te}(T,D);if(i.draw(w,"gtitle",{propContainer:T,propName:"title.text",placeholder:T._dfltTitle.plot,attributes:{x:O,y:P,"text-anchor":D,dy:R}}),C.text&&C.automargin){var B=S.selectAll(".gtitle"),q=t.bBox(B.node()).height,N=function(j,W,G){var le,fe,ce,ge,Te,ae=W.y,Q=ae>.5?"t":"b",re=0;return"paper"===W.yref?re=G+W.pad.t+W.pad.b:"container"===W.yref&&(le=ae,ce=j._fullLayout.height,ge=G,Te=0,"middle"===(fe=W.yanchor)&&(Te+=ge/2),"t"===Q?("top"===fe&&(Te+=ge),Te+=ce-le*ce):("bottom"===fe&&(Te+=ge),Te+=le*ce),re=Te+W.pad.t+W.pad.b),re>j._fullLayout.margin[Q]?re:0}(w,C,q);if(N>0){(function(j,W,G,ae){var le,fe,ce,ge,Te,Me,we,xe,te="title.automargin",Q=j._fullLayout.title,ee=Q.y>.5?"t":"b",re={x:Q.x,y:Q.y,t:0,b:0},J={};"paper"===Q.yref&&(le=j,ce=ee,ge=W,Te=ae,Me="paper"===(fe=Q).yref?le._fullLayout._size.h:le._fullLayout.height,we=M.isTopAnchor(fe)?ge:ge-Te,xe="b"===ce?Me-we:we,!(M.isTopAnchor(fe)&&"t"===ce||M.isBottomAnchor(fe)&&"b"===ce)&&xe<Te)?re[ee]=G:"container"===Q.yref&&(J[ee]=G,j._fullLayout._reservedMargin[te]=J),a.allowAutoMargin(j,te),a.autoMargin(j,te,re)})(w,P,N,q),B.attr({x:O,y:P,"text-anchor":D,dy:(f=C.yanchor,"top"===f?o.CAP_SHIFT+.3+"em":"bottom"===f?"-0.3em":o.MID_SHIFT+"em")}).call(_.positionText,O,P);var H=(C.text.match(_.BR_TAG_ALL)||[]).length;if(H){var $=o.LINE_SPACING*H+o.MID_SHIFT;0===C.y&&($=-$),B.selectAll(".line").each(function(){var j=+this.getAttribute("dy").slice(0,-2)-$+"em";this.setAttribute("dy",j)})}}}},z.doTraceStyle=function(w){var f,C=w.calcdata,T=[];for(f=0;f<C.length;f++){var D=C[f],R=D[0]||{},P=R.trace||{},O=P._module||{},B=O.arraysToCalcdata;B&&B(D,P);var q=O.editStyle;q&&T.push({fn:q,cd0:R})}if(T.length){for(f=0;f<T.length;f++){var N=T[f];N.fn(w,N.cd0)}d(w),z.redrawReglTraces(w)}return a.style(w),A.getComponentMethod("legend","draw")(w),a.previousPromises(w)},z.doColorBars=function(w){return A.getComponentMethod("colorbar","draw")(w),a.previousPromises(w)},z.layoutReplot=function(w){var f=w.layout;return w.layout=void 0,A.call("_doPlot",w,"",f)},z.doLegend=function(w){return A.getComponentMethod("legend","draw")(w),a.previousPromises(w)},z.doTicksRelayout=function(w){return r.draw(w,"redraw"),w._fullLayout._hasOnlyLargeSploms&&(A.subplotsRegistry.splom.updateGrid(w),d(w),z.redrawReglTraces(w)),z.drawMainTitle(w),a.previousPromises(w)},z.doModeBar=function(w){var f=w._fullLayout;n.manage(w);for(var C=0;C<f._basePlotModules.length;C++){var T=f._basePlotModules[C].updateFx;T&&T(w)}return a.previousPromises(w)},z.doCamera=function(w){for(var f=w._fullLayout,C=f._subplots.gl3d,T=0;T<C.length;T++){var D=f[C[T]];D._scene.setViewport(D)}},z.drawData=function(w){var f=w._fullLayout;d(w);for(var C=f._basePlotModules,T=0;T<C.length;T++)C[T].plot(w);return z.redrawReglTraces(w),a.style(w),A.getComponentMethod("selections","draw")(w),A.getComponentMethod("shapes","draw")(w),A.getComponentMethod("annotations","draw")(w),A.getComponentMethod("images","draw")(w),f._replotting=!1,a.previousPromises(w)},z.redrawReglTraces=function(w){var f=w._fullLayout;if(f._has("regl")){var C,T,D=w._fullData,R=[],P=[];for(f._hasOnlyLargeSploms&&f._splomGrid.draw(),C=0;C<D.length;C++){var O=D[C];!0===O.visible&&0!==O._length&&("splom"===O.type?f._splomScenes[O.uid].draw():"scattergl"===O.type?M.pushUnique(R,O.xaxis+O.yaxis):"scatterpolargl"===O.type&&M.pushUnique(P,O.subplot))}for(C=0;C<R.length;C++)(T=f._plots[R[C]])._scene&&T._scene.draw();for(C=0;C<P.length;C++)(T=f[P[C]]._subplot)._scene&&T._scene.draw()}},z.doAutoRangeAndConstraints=function(w){for(var f,C=r.list(w,"",!0),T={},D=0;D<C.length;D++)if(!T[(f=C[D])._id]){T[f._id]=1,h(w,f),c(w,f);var R=f._matchGroup;if(R)for(var P in R){var O=r.getFromId(w,P);c(w,O,f.range),T[P]=1}}l(w)},z.finalDraw=function(w){A.getComponentMethod("rangeslider","draw")(w),A.getComponentMethod("rangeselector","draw")(w)},z.drawMarginPushers=function(w){A.getComponentMethod("legend","draw")(w),A.getComponentMethod("rangeselector","draw")(w),A.getComponentMethod("sliders","draw")(w),A.getComponentMethod("updatemenus","draw")(w),A.getComponentMethod("colorbar","draw")(w)}},94828:function(ie,z,e){"use strict";var S=e(3400),A=S.isPlainObject,a=e(73060),M=e(7316),_=e(45464),d=e(31780),s=e(20556).dfltConfig;function t(c,b){c=S.extendDeep({},c);var p,m,v=Object.keys(c).sort();function x(T,D,R){if(A(D)&&A(T))t(T,D);else if(Array.isArray(D)&&Array.isArray(T)){var P=d.arrayTemplater({_template:c},R);for(m=0;m<D.length;m++){var O=D[m],B=P.newItem(O)._template;B&&t(B,O)}var q=P.defaultItems();for(m=0;m<q.length;m++)D.push(q[m]._template);for(m=0;m<D.length;m++)delete D[m].templateitemname}}for(p=0;p<v.length;p++){var y=v[p],w=c[y];if(y in b?x(w,b[y],y):b[y]=w,i(y)===y)for(var f in b){var C=i(f);f===C||C!==y||f in c||x(w,b[f],y)}}}function i(c){return c.replace(/[0-9]+$/,"")}function n(c,b,p,m,v){var x=v&&p(v);for(var y in c){var w=c[y],f=u(c,y,m),C=u(c,y,v),T=p(C);if(!T){var D=i(y);D!==y&&(T=p(C=u(c,D,v)))}if(!(x&&x===T||!T||T._noTemplating||"data_array"===T.valType||T.arrayOk&&Array.isArray(w)))if(!T.valType&&A(w))n(w,b,p,f,C);else if(T._isLinkedToArray&&Array.isArray(w))for(var R=!1,P=0,O={},B=0;B<w.length;B++){var q=w[B];if(A(q)){var N=q.name;if(N)O[N]||(n(q,b,p,u(w,P,f),u(w,P,C)),P++,O[N]=1);else if(!R){var H=u(c,d.arrayDefaultKey(y),m),$=u(w,P,f);n(q,b,p,$,u(w,P,C));var j=S.nestedProperty(b,$);S.nestedProperty(b,H).set(j.get()),j.set(null),R=!0}}}else S.nestedProperty(b,f).set(w)}}function r(c,b){return a.getLayoutValObject(c,S.nestedProperty({},b).parts)}function o(c,b){return a.getTraceValObject(c,S.nestedProperty({},b).parts)}function u(c,b,p){return p?Array.isArray(c)?p+"["+b+"]":p+"."+b:b}function l(c){for(var b=0;b<c.length;b++)if(A(c[b]))return!0}function h(c){var b;switch(c.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":b=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":b=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=b,c}z.makeTemplate=function(c){c=S.isPlainObject(c)?c:S.getGraphDiv(c),c=S.extendDeep({_context:s},{data:c.data,layout:c.layout}),M.supplyDefaults(c);var b=c.data||[],p=c.layout||{};p._basePlotModules=c._fullLayout._basePlotModules,p._modules=c._fullLayout._modules;var m={data:{},layout:{}};b.forEach(function(P){var O={};n(P,O,o.bind(null,P));var B=S.coerce(P,{},_,"type"),q=m.data[B];q||(q=m.data[B]=[]),q.push(O)}),n(p,m.layout,r.bind(null,p)),delete m.layout.template;var v=p.template;if(A(v)){var x,y,w,f,C,T,D=v.layout;A(D)&&t(D,m.layout);var R=v.data;if(A(R)){for(y in m.data)if(w=R[y],Array.isArray(w)){for(T=(C=m.data[y]).length,f=w.length,x=0;x<T;x++)t(w[x%f],C[x]);for(x=T;x<f;x++)C.push(S.extendDeep({},w[x]))}for(y in R)y in m.data||(m.data[y]=S.extendDeep([],R[y]))}}return m},z.validateTemplate=function(c,b){var p=S.extendDeep({},{_context:s,data:c.data,layout:c.layout}),m=p.layout||{};A(b)||(b=m.template||{});var v=b.layout,x=b.data,y=[];p.layout=m,p.layout.template=b,M.supplyDefaults(p);var w=p._fullLayout,f=p._fullData,C={};if(A(v)?(function q(N,H){for(var $ in N)if("_"!==$.charAt(0)&&A(N[$])){var j,W=i($),G=[];for(j=0;j<H.length;j++)G.push(u(N,$,H[j])),W!==$&&G.push(u(N,W,H[j]));for(j=0;j<G.length;j++)C[G[j]]=1;q(N[$],G)}}(w,["layout"]),function q(N,H){for(var $ in N)if(-1===$.indexOf("defaults")&&A(N[$])){var j=u(N,$,H);C[j]?q(N[$],j):y.push({code:"unused",path:j})}}(v,"layout")):y.push({code:"layout"}),A(x)){for(var T,D={},R=0;R<f.length;R++){var P=f[R];D[T=P.type]=(D[T]||0)+1,P._fullInput._template||y.push({code:"missing",index:P._fullInput.index,traceType:T})}for(T in x){var O=x[T].length,B=D[T]||0;O>B?y.push({code:"unused",traceType:T,templateCount:O,dataCount:B}):B>O&&y.push({code:"reused",traceType:T,templateCount:O,dataCount:B})}}else y.push({code:"data"});if(function q(N,H){for(var $ in N)if("_"!==$.charAt(0)){var j=N[$],W=u(N,$,H);A(j)?(Array.isArray(N)&&!1===j._template&&j.templateitemname&&y.push({code:"missing",path:W,templateitemname:j.templateitemname}),q(j,W)):Array.isArray(j)&&l(j)&&q(j,W)}}({data:f,layout:w},""),y.length)return y.map(h)}},67024:function(ie,z,e){"use strict";var S=e(38248),A=e(36424),a=e(7316),M=e(3400),_=e(81792),d=e(37164),s=e(63268),t=e(25788).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ie.exports=function(n,r){var o,u,l,h;function c(B){return!(B in r)||M.validate(r[B],i[B])}if(r=r||{},M.isPlainObject(n)?(o=n.data||[],u=n.layout||{},l=n.config||{},h={}):(n=M.getGraphDiv(n),o=M.extendDeep([],n.data),u=M.extendDeep({},n.layout),l=n._context,h=n._fullLayout||{}),!c("width")&&null!==r.width||!c("height")&&null!==r.height)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+M.join2(i.format.values,", "," or ")+".");var b={};function p(B,q){return M.coerce(r,b,i,B,q)}var m=p("format"),v=p("width"),x=p("height"),y=p("scale"),w=p("setBackground"),f=p("imageDataOnly"),C=document.createElement("div");C.style.position="absolute",C.style.left="-5000px",document.body.appendChild(C);var T=M.extendFlat({},u);v?T.width=v:null===r.width&&S(h.width)&&(T.width=h.width),x?T.height=x:null===r.height&&S(h.height)&&(T.height=h.height);var D=M.extendFlat({},l,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),R=_.getRedrawFunc(C);function P(){return new Promise(function(B){setTimeout(B,_.getDelay(C._fullLayout))})}function O(){return new Promise(function(B,q){var N=d(C,m,y),H=C._fullLayout.width,$=C._fullLayout.height;function j(){A.purge(C),document.body.removeChild(C)}if("full-json"===m){var W=a.graphJson(C,!1,"keepdata","object",!0,!0);return W.version=t,W=JSON.stringify(W),j(),B(f?W:_.encodeJSON(W))}if(j(),"svg"===m)return B(f?N:_.encodeSVG(N));var G=document.createElement("canvas");G.id=M.randstr(),s({format:m,width:H,height:$,scale:y,canvas:G,svg:N,promise:!0}).then(B).catch(q)})}return new Promise(function(B,q){A.newPlot(C,o,T,D).then(R).then(P).then(O).then(function(N){var H;B((H=N,f?H.replace(_.IMAGE_URL_PREFIX,""):H))}).catch(function(N){q(N)})})}},21480:function(ie,z,e){"use strict";var S=e(3400),A=e(7316),a=e(73060),M=e(20556).dfltConfig,_=S.isPlainObject,d=Array.isArray,s=S.isArrayOrTypedArray;function t(c,b,p,m,v,x){x=x||[];for(var y=Object.keys(c),w=0;w<y.length;w++){var f=y[w];if("transforms"!==f){var C=x.slice();C.push(f);var T=c[f],D=b[f],R=u(p,f),P=(R||{}).valType,O="info_array"===P,B="colorscale"===P,q=(R||{}).items;if(o(p,f))if(_(T)&&_(D)&&"any"!==P)t(T,D,R,m,v,C);else if(O&&d(T)){T.length>D.length&&m.push(r("unused",v,C.concat(D.length)));var N,H,j,W,G=D.length,ae=Array.isArray(q);if(ae&&(G=Math.min(G,q.length)),2===R.dimensions)for(H=0;H<G;H++)if(d(T[H])){T[H].length>D[H].length&&m.push(r("unused",v,C.concat(H,D[H].length)));var te=D[H].length;for(N=0;N<(ae?Math.min(te,q[H].length):te);N++)W=D[H][N],S.validate(j=T[H][N],ae?q[H][N]:q)?W!==j&&W!==+j&&m.push(r("dynamic",v,C.concat(H,N),j,W)):m.push(r("value",v,C.concat(H,N),j))}else m.push(r("array",v,C.concat(H),T[H]));else for(H=0;H<G;H++)W=D[H],S.validate(j=T[H],ae?q[H]:q)?W!==j&&W!==+j&&m.push(r("dynamic",v,C.concat(H),j,W)):m.push(r("value",v,C.concat(H),j))}else if(R.items&&!O&&d(T)){var Q,ee,re=q[Object.keys(q)[0]],J=[];for(Q=0;Q<D.length;Q++){var le=D[Q]._index||Q;if((ee=C.slice()).push(le),_(T[le])&&_(D[Q])){J.push(le);var fe=T[le],ce=D[Q];_(fe)&&!1!==fe.visible&&!1===ce.visible?m.push(r("invisible",v,ee)):t(fe,ce,re,m,v,ee)}}for(Q=0;Q<T.length;Q++)(ee=C.slice()).push(Q),_(T[Q])?-1===J.indexOf(Q)&&m.push(r("unused",v,ee)):m.push(r("object",v,ee,T[Q]))}else!_(T)&&_(D)?m.push(r("object",v,C,T)):s(T)||!s(D)||O||B?f in b?S.validate(T,R)?"enumerated"===R.valType&&(R.coerceNumber&&T!==+D||T!==D)&&m.push(r("dynamic",v,C,T,D)):m.push(r("value",v,C,T)):m.push(r("unused",v,C,T)):m.push(r("array",v,C,T));else m.push(r("schema",v,C))}}return m}ie.exports=function(c,b){void 0===c&&(c=[]),void 0===b&&(b={});var p,m,v=a.get(),x=[],y={_context:S.extendFlat({},M)};d(c)?(y.data=S.extendDeep([],c),p=c):(y.data=[],p=[],x.push(r("array","data"))),_(b)?(y.layout=S.extendDeep({},b),m=b):(y.layout={},m={},arguments.length>1&&x.push(r("object","layout"))),A.supplyDefaults(y);for(var w=y._fullData,f=p.length,C=0;C<f;C++){var T=p[C],D=["data",C];if(_(T)){var R=w[C],P=R.type,O=v.traces[P].attributes;O.type={valType:"enumerated",values:[P]},!1===R.visible&&!1!==T.visible&&x.push(r("invisible",D)),t(T,R,O,x,D);var B=T.transforms,q=R.transforms;if(B){d(B)||x.push(r("array",D,["transforms"])),D.push("transforms");for(var N=0;N<B.length;N++){var H=["transforms",N],$=B[N].type;if(_(B[N])){var j=v.transforms[$]?v.transforms[$].attributes:{};j.type={valType:"enumerated",values:Object.keys(v.transforms)},t(B[N],q[N],j,x,D,H)}else x.push(r("object",D,H))}}}else x.push(r("object",D))}return t(m,y._fullLayout,function(ae,te){for(var Q=ae.layout.layoutAttributes,ee=0;ee<te.length;ee++){var re=te[ee],J=ae.traces[re.type],le=J.layoutAttributes;le&&S.extendFlat(re.subplot?Q[J.attributes.subplot.dflt]:Q,le)}return Q}(v,w),x,"layout"),0===x.length?void 0:x};var i={object:function(c,b){return("layout"===c&&""===b?"The layout argument":"data"===c[0]&&""===b?"Trace "+c[1]+" in the data argument":n(c)+"key "+b)+" must be linked to an object container"},array:function(c,b){return("data"===c?"The data argument":n(c)+"key "+b)+" must be linked to an array container"},schema:function(c,b){return n(c)+"key "+b+" is not part of the schema"},unused:function(c,b,p){var m=_(p)?"container":"key";return n(c)+m+" "+b+" did not get coerced"},dynamic:function(c,b,p,m){return[n(c)+"key",b,"(set to '"+p+"')","got reset to","'"+m+"'","during defaults."].join(" ")},invisible:function(c,b){return(b?n(c)+"item "+b:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,b,p){return[n(c)+"key "+b,"is set to an invalid value ("+p+")"].join(" ")}};function n(c){return d(c)?"In data trace "+c[1]+", ":"In "+c+", "}function r(c,b,p,m,v){var x,y;p=p||"",d(b)?(x=b[0],y=b[1]):(x=b,y=null);var w=function(C){if(!d(C))return String(C);for(var T="",D=0;D<C.length;D++){var R=C[D];"number"==typeof R?T=T.substr(0,T.length-1)+"["+R+"]":T+=R,D<C.length-1&&(T+=".")}return T}(p),f=i[c](b,w,m,v);return S.log(f),{code:c,container:x,trace:y,path:p,astr:w,msg:f}}function o(c,b){var p=h(b),m=p.keyMinusId;return!!(m in c&&c[m]._isSubplotObj&&p.id)||b in c}function u(c,b){return b in c?c[b]:c[h(b).keyMinusId]}var l=S.counterRegex("([a-z]+)");function h(c){var b=c.match(l);return{keyMinusId:b&&b[1],id:b&&b[2]}}},85656:function(ie){"use strict";ie.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(ie,z,e){"use strict";var S=e(3400),A=e(31780);ie.exports=function(a,M,_){var d,s,t=_.name,i=_.inclusionAttr||"visible",n=M[t],r=S.isArrayOrTypedArray(a[t])?a[t]:[],o=M[t]=[],u=A.arrayTemplater(M,t,i);for(d=0;d<r.length;d++){var l=r[d];S.isPlainObject(l)?s=u.newItem(l):(s=u.newItem({}))[i]=!1,s._index=d,!1!==s[i]&&_.handleItemDefaults(l,s,M,_),o.push(s)}var h=u.defaultItems();for(d=0;d<h.length;d++)(s=h[d])._index=o.length,_.handleItemDefaults({},s,M,_,{}),o.push(s);if(S.isArrayOrTypedArray(n)){var c=Math.min(n.length,o.length);for(d=0;d<c;d++)S.relinkPrivateKeys(o[d],n[d])}return o}},45464:function(ie,z,e){"use strict";var S=e(25376),A=e(55756);ie.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:S({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:A.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=A.dateTime2ms,M=A.incrementMonth,_=e(39032).ONEAVGMONTH;ie.exports=function(d,s,t,i){if("date"!==s.type)return{vals:i};var n=d[t+"periodalignment"];if(!n)return{vals:i};var r,o=d[t+"period"];if(S(o)){if((o=+o)<=0)return{vals:i}}else if("string"==typeof o&&"M"===o.charAt(0)){var u=+o.substring(1);if(!(u>0&&Math.round(u)===u))return{vals:i};r=u}for(var l=s.calendar,h="start"===n,c="end"===n,p=a(d[t+"period0"],l)||0,m=[],v=[],x=[],y=i.length,w=0;w<y;w++){var f,C,T,D=i[w];if(r){for(f=Math.round((D-p)/(r*_)),T=M(p,r*f,l);T>D;)T=M(T,-r,l);for(;T<=D;)T=M(T,r,l);C=M(T,-r,l)}else{for(T=p+(f=Math.round((D-p)/o))*o;T>D;)T-=o;for(;T<=D;)T+=o;C=T-o}m[w]=h?C:c?T:(C+T)/2,v[w]=C,x[w]=T}return{vals:m,starts:v,ends:x}}},26720:function(ie){"use strict";ie.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(3400),M=e(39032).FP_SAFE,_=e(24040),d=e(43616),s=e(79811),t=s.getFromId,i=s.isLinked;function n(w,f){var C,T,D=[],R=w._fullLayout,P=o(R,f,0),O=o(R,f,1),B=l(w,f),q=B.min,N=B.max;if(0===q.length||0===N.length)return a.simpleMap(f.range,f.r2l);var H=q[0].val,$=N[0].val;for(C=1;C<q.length&&H===$;C++)H=Math.min(H,q[C].val);for(C=1;C<N.length&&H===$;C++)$=Math.max($,N[C].val);var j=f.autorange,W="reversed"===j||"min reversed"===j||"max reversed"===j;if(!W&&f.range){var G=a.simpleMap(f.range,f.r2l);W=G[1]<G[0]}"reversed"===f.autorange&&(f.autorange=!0);var ae,te,Q,ee,re,J,le=f.rangemode,fe="tozero"===le,ce="nonnegative"===le,ge=f._length,Te=ge/10,Me=0;for(C=0;C<q.length;C++)for(ae=q[C],T=0;T<N.length;T++)(J=(te=N[T]).val-ae.val-r(f,ae.val,te.val))>0&&((re=ge-P(ae)-O(te))>Te?J/re>Me&&(Q=ae,ee=te,Me=J/re):J/ge>Me&&(Q={val:ae.val,nopad:1},ee={val:te.val,nopad:1},Me=J/ge));if(H===$){var we=H-1,xe=H+1;if(fe)if(0===H)D=[0,1];else{var be=(H>0?N:q).reduce(function(Se,Ee){return Math.max(Se,O(Ee))},0),ye=H/(1-Math.min(.5,be/ge));D=H>0?[0,ye]:[ye,0]}else D=ce?[Math.max(0,we),Math.max(1,xe)]:[we,xe]}else fe?(Q.val>=0&&(Q={val:0,nopad:1}),ee.val<=0&&(ee={val:0,nopad:1})):ce&&(Q.val-Me*P(Q)<0&&(Q={val:0,nopad:1}),ee.val<=0&&(ee={val:1,nopad:1})),Me=(ee.val-Q.val-r(f,ae.val,te.val))/(ge-P(Q)-O(ee)),D=[Q.val-Me*P(Q),ee.val+Me*O(ee)];return D=y(D,f),f.limitRange&&f.limitRange(),W&&D.reverse(),a.simpleMap(D,f.l2r||Number)}function r(w,f,C){var T=0;if(w.rangebreaks)for(var D=w.locateBreaks(f,C),R=0;R<D.length;R++){var P=D[R];T+=P.max-P.min}return T}function o(w,f,C){var T=.05*f._length,D=f._anchorAxis||{};if(-1!==(f.ticklabelposition||"").indexOf("inside")||-1!==(D.ticklabelposition||"").indexOf("inside")){var R=f.isReversed();if(!R){var P=a.simpleMap(f.range,f.r2l);R=P[1]<P[0]}R&&(C=!C)}var O=0;return i(w,f._id)||(O=function(B,q,N){var H=0,$="x"===q._id.charAt(0);for(var j in B._plots){var W=B._plots[j];if(q._id===W.xaxis._id||q._id===W.yaxis._id){var G=($?W.yaxis:W.xaxis)||{};if(-1!==(G.ticklabelposition||"").indexOf("inside")&&(!N&&("left"===G.side||"bottom"===G.side)||N&&("top"===G.side||"right"===G.side))){if(G._vals){var ae=a.deg2rad(G._tickAngles[G._id+"tick"]||0),te=Math.abs(Math.cos(ae)),Q=Math.abs(Math.sin(ae));G._vals[0].bb||G._selections[G._id+"tick"].each(function(ce){var ge=S.select(this);ge.select(".text-math-group").empty()&&(ce.bb=d.bBox(ge.node()))});for(var re=0;re<G._vals.length;re++){var J=G._vals[re].bb;if(J){var le=2*u+J.width,fe=2*u+J.height;H=Math.max(H,$?Math.max(le*te,fe*Q):Math.max(fe*te,le*Q))}}}"inside"===G.ticks&&"inside"===G.ticklabelposition&&(H+=G.ticklen||0)}}}return H}(w,f,C)),T=Math.max(O,T),"domain"===f.constrain&&f._inputDomain&&(T*=(f._inputDomain[1]-f._inputDomain[0])/(f.domain[1]-f.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?T:O)}}ie.exports={applyAutorangeOptions:y,getAutoRange:n,makePadFn:o,doAutoRange:function(w,f,C){if(f.setScale(),f.autorange){f.range=C?C.slice():n(w,f),f._r=f.range.slice(),f._rl=a.simpleMap(f._r,f.r2l);var T=f._input,D={};D[f._attr+".range"]=f.range,D[f._attr+".autorange"]=f.autorange,_.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,D),T.range=f.range.slice(),T.autorange=f.autorange}var R=f._anchorAxis;if(R&&R.rangeslider){var P=R.rangeslider[f._name];P&&"auto"===P.rangemode&&(P.range=n(w,f)),R._input.rangeslider[f._name]=a.extendFlat({},P)}},findExtremes:function(w,f,C){C||(C={}),w._m||w.setScale();var T,D,R,P,O,B,q,N,H,$=[],j=[],W=f.length,G=C.padded||!1,ae=C.tozero&&("linear"===w.type||"-"===w.type),te="log"===w.type,Q=!1,ee=C.vpadLinearized||!1;function re(we){if(Array.isArray(we))return Q=!0,function(be){return Math.max(Number(we[be]||0),0)};var xe=Math.max(Number(we||0),0);return function(){return xe}}var J=re((w._m>0?C.ppadplus:C.ppadminus)||C.ppad||0),le=re((w._m>0?C.ppadminus:C.ppadplus)||C.ppad||0),fe=re(C.vpadplus||C.vpad),ce=re(C.vpadminus||C.vpad);if(!Q){if(N=1/0,H=-1/0,te)for(T=0;T<W;T++)(D=f[T])<N&&D>0&&(N=D),D>H&&D<M&&(H=D);else for(T=0;T<W;T++)(D=f[T])<N&&D>-M&&(N=D),D>H&&D<M&&(H=D);f=[N,H],W=2}var ge={tozero:ae,extrapad:G};function Te(we){A(R=f[we])&&(B=J(we),q=le(we),ee?(P=w.c2l(R)-ce(we),O=w.c2l(R)+fe(we)):(N=R-ce(we),H=R+fe(we),te&&N<H/10&&(N=H/10),P=w.c2l(N),O=w.c2l(H)),ae&&(P=Math.min(0,P),O=Math.max(0,O)),p(P)&&h($,P,q,ge),p(O)&&c(j,O,B,ge))}var Me=Math.min(6,W);for(T=0;T<Me;T++)Te(T);for(T=W-1;T>=Me;T--)Te(T);return{min:$,max:j,opts:C}},concatExtremes:l};var u=3;function l(w,f,C){var T,D,R,P=f._id,B=w._fullLayout,q=[],N=[];function H(ae,te){for(T=0;T<te.length;T++){var Q=ae[te[T]],ee=(Q._extremes||{})[P];if(!0===Q.visible&&ee){for(D=0;D<ee.min.length;D++)h(q,(R=ee.min[D]).val,R.pad,{extrapad:R.extrapad});for(D=0;D<ee.max.length;D++)c(N,(R=ee.max[D]).val,R.pad,{extrapad:R.extrapad})}}}if(H(w._fullData,f._traceIndices),H(B.annotations||[],f._annIndices||[]),H(B.shapes||[],f._shapeIndices||[]),f._matchGroup&&!C)for(var $ in f._matchGroup)if($!==f._id){var j=t(w,$),W=l(w,j,!0),G=f._length/j._length;for(D=0;D<W.min.length;D++)h(q,(R=W.min[D]).val,R.pad*G,{extrapad:R.extrapad});for(D=0;D<W.max.length;D++)c(N,(R=W.max[D]).val,R.pad*G,{extrapad:R.extrapad})}return{min:q,max:N}}function h(w,f,C,T){b(w,f,C,T,m)}function c(w,f,C,T){b(w,f,C,T,v)}function b(w,f,C,T,D){for(var R=T.tozero,P=T.extrapad,O=!0,B=0;B<w.length&&O;B++){var q=w[B];if(D(q.val,f)&&q.pad>=C&&(q.extrapad||!P)){O=!1;break}D(f,q.val)&&q.pad<=C&&(P||!q.extrapad)&&(w.splice(B,1),B--)}if(O){var N=R&&0===f;w.push({val:f,pad:N?0:C,extrapad:!N&&P})}}function p(w){return A(w)&&Math.abs(w)<M}function m(w,f){return w<=f}function v(w,f){return w>=f}function x(w,f,C){return void 0===f||void 0===C||(f=w.d2l(f))<w.d2l(C)}function y(w,f){if(!f||!f.autorangeoptions)return w;var q,N,H,C=w[0],T=w[1],D=f.autorangeoptions.include;if(void 0!==D){var R=f.d2l(C),P=f.d2l(T);a.isArrayOrTypedArray(D)||(D=[D]);for(var O=0;O<D.length;O++){var B=f.d2l(D[O]);R>=B&&(R=B,C=B),P<=B&&(P=B,T=B)}}return q=C,C=(H=(N=f).autorangeoptions)&&void 0!==H.minallowed&&x(N,H.minallowed,H.maxallowed)?H.minallowed:H&&void 0!==H.clipmin&&x(N,H.clipmin,H.clipmax)?Math.max(q,N.d2l(H.clipmin)):q,T=function(q,N){var H=N.autorangeoptions;return H&&void 0!==H.maxallowed&&x(N,H.minallowed,H.maxallowed)?H.maxallowed:H&&void 0!==H.clipmax&&x(N,H.clipmin,H.clipmax)?Math.min(q,N.d2l(H.clipmax)):q}(T,f),[C,T]}},76808:function(ie){"use strict";ie.exports=function(z,e,S){var A,a;if(S){var M="reversed"===e||"min reversed"===e||"max reversed"===e;A=S[M?1:0],a=S[M?0:1]}var _=z("autorangeoptions.minallowed",null===a?A:void 0),d=z("autorangeoptions.maxallowed",null===A?a:void 0);void 0===_&&z("autorangeoptions.clipmin"),void 0===d&&z("autorangeoptions.clipmax"),z("autorangeoptions.include")}},54460:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(7316),M=e(24040),_=e(3400),d=_.strTranslate,s=e(72736),t=e(81668),i=e(76308),n=e(43616),r=e(94724),o=e(98728),u=e(39032),l=u.ONEMAXYEAR,h=u.ONEAVGYEAR,c=u.ONEMINYEAR,b=u.ONEMAXQUARTER,p=u.ONEAVGQUARTER,m=u.ONEMINQUARTER,v=u.ONEMAXMONTH,x=u.ONEAVGMONTH,y=u.ONEMINMONTH,w=u.ONEWEEK,f=u.ONEDAY,C=f/2,T=u.ONEHOUR,D=u.ONEMIN,R=u.ONESEC,P=u.MINUS_SIGN,O=u.BADNUM,B={K:"zeroline"},q={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},H={K:"tick",L:"path"},$={K:"tick",L:"text"},j={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},W=e(84284),G=W.MID_SHIFT,ae=W.CAP_SHIFT,te=W.LINE_SPACING,Q=W.OPPOSITE_SIDE,ee=ie.exports={};ee.setConvert=e(78344);var re=e(52976),J=e(79811),le=J.idSort,fe=J.isLinked;ee.id2name=J.id2name,ee.name2id=J.name2id,ee.cleanId=J.cleanId,ee.list=J.list,ee.listIds=J.listIds,ee.getFromId=J.getFromId,ee.getFromTrace=J.getFromTrace;var ce=e(19280);ee.getAutoRange=ce.getAutoRange,ee.findExtremes=ce.findExtremes;var ge=1e-4;function Te(He){var qe=(He[1]-He[0])*ge;return[He[0]-qe,He[1]+qe]}ee.coerceRef=function(He,qe,ft,et,xt,wt){var At=et.charAt(et.length-1),yt=ft._fullLayout._subplots[At+"axis"],Ot=et+"ref",Ct={};return xt||(xt=yt[0]||("string"==typeof wt?wt:wt[0])),wt||(wt=xt),yt=yt.concat(yt.map(function(Rt){return Rt+" domain"})),Ct[Ot]={valType:"enumerated",values:yt.concat(wt?"string"==typeof wt?[wt]:wt:[]),dflt:xt},_.coerce(He,qe,Ct,Ot)},ee.getRefType=function(He){return void 0===He?He:"paper"===He?"paper":"pixel"===He?"pixel":/( domain)$/.test(He)?"domain":"range"},ee.coercePosition=function(He,qe,ft,et,xt,wt){var At,yt;if("range"!==ee.getRefType(et))At=_.ensureNumber,yt=ft(xt,wt);else{var Ot=ee.getFromId(qe,et);yt=ft(xt,wt=Ot.fraction2r(wt)),At=Ot.cleanPos}He[xt]=At(yt)},ee.cleanPosition=function(He,qe,ft){return("paper"===ft||"pixel"===ft?_.ensureNumber:ee.getFromId(qe,ft).cleanPos)(He)},ee.redrawComponents=function(He,qe){qe=qe||ee.listIds(He);var ft=He._fullLayout;function et(xt,wt,At,yt){for(var Ot=M.getComponentMethod(xt,wt),Ct={},Rt=0;Rt<qe.length;Rt++)for(var Bt=ft[ee.id2name(qe[Rt])][At],jt=0;jt<Bt.length;jt++){var Gt=Bt[jt];if(!Ct[Gt]&&(Ot(He,Gt),Ct[Gt]=1,yt))return}}et("annotations","drawOne","_annIndices"),et("shapes","drawOne","_shapeIndices"),et("images","draw","_imgIndices",!0),et("selections","drawOne","_selectionIndices")};var Me=ee.getDataConversions=function(He,qe,ft,et){var xt,wt="x"===ft||"y"===ft||"z"===ft?ft:et;if(_.isArrayOrTypedArray(wt)){if(xt={type:re(et,void 0,{autotypenumbers:He._fullLayout.autotypenumbers}),_categories:[]},ee.setConvert(xt),"category"===xt.type)for(var At=0;At<et.length;At++)xt.d2c(et[At])}else xt=ee.getFromTrace(He,qe,wt);return xt?{d2c:xt.d2c,c2d:xt.c2d}:"ids"===wt?{d2c:xe,c2d:xe}:{d2c:we,c2d:we}};function we(He){return+He}function xe(He){return String(He)}function be(He,qe){return Math.abs((He/qe+.5)%1-.5)<.001}function ye(He,qe){return Math.abs(He/qe-1)<.001}function Se(He){return+He.substring(1)}function Ee(He,qe){return He.rangebreaks&&(qe=qe.filter(function(ft){return He.maskBreaks(ft.x)!==O})),qe}function he(He){var qe=He._mainAxis,ft=[];if(qe._vals)for(var et=0;et<qe._vals.length;et++)if(!qe._vals[et].noTick){var xt=qe.l2p(qe._vals[et].x),wt=He.p2l(xt),At=ee.tickText(He,wt);qe._vals[et].minor&&(At.minor=!0,At.text=""),ft.push(At)}return Ee(He,ft)}function ue(He,qe){var ft=Te(_.simpleMap(He.range,He.r2l)),et=Math.min(ft[0],ft[1]),xt=Math.max(ft[0],ft[1]),wt="category"===He.type?He.d2l_noadd:He.d2l;"log"===He.type&&"L"!==String(He.dtick).charAt(0)&&(He.dtick="L"+Math.pow(10,Math.floor(Math.min(He.range[0],He.range[1]))-1));for(var At=[],yt=0;yt<=1;yt++)if((void 0===qe||!(qe&&yt||!1===qe&&!yt))&&(!yt||He.minor)){var Ot=yt?He.minor.tickvals:He.tickvals,Ct=yt?[]:He.ticktext;if(Ot){_.isArrayOrTypedArray(Ct)||(Ct=[]);for(var Rt=0;Rt<Ot.length;Rt++){var Bt=wt(Ot[Rt]);if(Bt>et&&Bt<xt){var jt=ee.tickText(He,Bt,!1,String(Ct[Rt]));yt&&(jt.minor=!0,jt.text=""),At.push(jt)}}}}return Ee(He,At)}ee.getDataToCoordFunc=function(He,qe,ft,et){return Me(He,qe,ft,et).d2c},ee.counterLetter=function(He){var qe=He.charAt(0);return"x"===qe?"y":"y"===qe?"x":void 0},ee.minDtick=function(He,qe,ft,et){-1===["log","category","multicategory"].indexOf(He.type)&&et?void 0===He._minDtick?(He._minDtick=qe,He._forceTick0=ft):He._minDtick&&((He._minDtick/qe+1e-6)%1<2e-6&&((ft-He._forceTick0)/qe%1+1.000001)%1<2e-6?(He._minDtick=qe,He._forceTick0=ft):((qe/He._minDtick+1e-6)%1>2e-6||((ft-He._forceTick0)/He._minDtick%1+1.000001)%1>2e-6)&&(He._minDtick=0)):He._minDtick=0},ee.saveRangeInitial=function(He,qe){for(var ft=ee.list(He,"",!0),et=!1,xt=0;xt<ft.length;xt++){var wt=ft[xt],At=void 0===wt._rangeInitial0&&void 0===wt._rangeInitial1,Ot=wt.autorange;(At&&!0!==Ot||qe&&(At||wt.range[0]!==wt._rangeInitial0||wt.range[1]!==wt._rangeInitial1))&&(wt._rangeInitial0="min"===Ot||"max reversed"===Ot?void 0:wt.range[0],wt._rangeInitial1="max"===Ot||"min reversed"===Ot?void 0:wt.range[1],wt._autorangeInitial=Ot,et=!0)}return et},ee.saveShowSpikeInitial=function(He,qe){for(var ft=ee.list(He,"",!0),et=!1,xt="on",wt=0;wt<ft.length;wt++){var At=ft[wt],yt=void 0===At._showSpikeInitial;(yt||qe&&(yt||At.showspikes!==At._showspikes))&&(At._showSpikeInitial=At.showspikes,et=!0),"on"!==xt||At.showspikes||(xt="off")}return He._fullLayout._cartesianSpikesEnabled=xt,et},ee.autoBin=function(He,qe,ft,et,xt,wt){var At,yt=_.aggNums(Math.min,null,He),Ot=_.aggNums(Math.max,null,He);if("category"===qe.type||"multicategory"===qe.type)return{start:yt-.5,end:Ot+.5,size:Math.max(1,Math.round(wt)||1),_dataSpan:Ot-yt};if(xt||(xt=qe.calendar),At="log"===qe.type?{type:"linear",range:[yt,Ot]}:{type:qe.type,range:_.simpleMap([yt,Ot],qe.c2r,0,xt),calendar:xt},ee.setConvert(At),wt=wt&&o.dtick(wt,At.type))At.dtick=wt,At.tick0=o.tick0(void 0,At.type,xt);else{var Ct;if(ft)Ct=(Ot-yt)/ft;else{var Rt=_.distinctVals(He),Bt=Math.pow(10,Math.floor(Math.log(Rt.minDiff)/Math.LN10)),jt=Bt*_.roundUp(Rt.minDiff/Bt,[.9,1.9,4.9,9.9],!0);Ct=Math.max(jt,2*_.stdev(He)/Math.pow(He.length,et?.25:.4)),A(Ct)||(Ct=1)}ee.autoTicks(At,Ct)}var Gt,on=At.dtick,Jt=ee.tickIncrement(ee.tickFirst(At),on,"reverse",xt);if("number"==typeof on)Gt=(Jt=function($t,tn,dn,Gn,zn){var Mn=0,ln=0,vn=0,hn=0;function _n(jn){return(1+100*(jn-$t)/dn.dtick)%100<2}for(var Dn=0;Dn<tn.length;Dn++)tn[Dn]%1==0?vn++:A(tn[Dn])||hn++,_n(tn[Dn])&&Mn++,_n(tn[Dn]+dn.dtick/2)&&ln++;var Pn=tn.length-hn;if(vn===Pn&&"date"!==dn.type)dn.dtick<1?$t=Gn-.5*dn.dtick:($t-=.5)+dn.dtick<Gn&&($t+=dn.dtick);else if(ln<.1*Pn&&(Mn>.3*Pn||_n(Gn)||_n(zn))){var Yn=dn.dtick/2;$t+=$t+Yn<Gn?Yn:-Yn}return $t}(Jt,He,At,yt,Ot))+(1+Math.floor((Ot-Jt)/on))*on;else for("M"===At.dtick.charAt(0)&&(Jt=function($t,tn,dn,Gn,zn){var Mn=_.findExactDates(tn,zn);if(Mn.exactDays>.8){var ln=Number(dn.substr(1));Mn.exactYears>.8&&ln%12==0?$t=ee.tickIncrement($t,"M6","reverse")+1.5*f:Mn.exactMonths>.8?$t=ee.tickIncrement($t,"M1","reverse")+15.5*f:$t-=C;var vn=ee.tickIncrement($t,dn);if(vn<=Gn)return vn}return $t}(Jt,He,on,yt,xt)),Gt=Jt;Gt<=Ot;)Gt=ee.tickIncrement(Gt,on,!1,xt);return{start:qe.c2r(Jt,0,xt),end:qe.c2r(Gt,0,xt),size:on,_dataSpan:Ot-yt}},ee.prepMinorTicks=function(He,qe,ft){if(!qe.minor.dtick){delete He.dtick;var et,xt=qe.dtick&&A(qe._tmin);if(xt){var wt=ee.tickIncrement(qe._tmin,qe.dtick,!0);et=[qe._tmin,.99*wt+.01*qe._tmin]}else{var At=_.simpleMap(qe.range,qe.r2l);et=[At[0],.8*At[0]+.2*At[1]]}if(He.range=_.simpleMap(et,qe.l2r),He._isMinor=!0,ee.prepTicks(He,ft),xt){var yt=A(qe.dtick),Ot=A(He.dtick),Ct=yt?qe.dtick:+qe.dtick.substring(1),Rt=Ot?He.dtick:+He.dtick.substring(1);yt&&Ot?be(Ct,Rt)?Ct===2*w&&Rt===2*f&&(He.dtick=w):He.dtick=Ct===2*w&&Rt===3*f?w:Ct!==w||(qe._input.minor||{}).nticks?ye(Ct/Rt,2.5)?Ct/2:Ct:f:"M"===String(qe.dtick).charAt(0)?Ot?He.dtick="M1":be(Ct,Rt)?Ct>=12&&2===Rt&&(He.dtick="M3"):He.dtick=qe.dtick:"L"===String(He.dtick).charAt(0)?"L"===String(qe.dtick).charAt(0)?be(Ct,Rt)||(He.dtick=ye(Ct/Rt,2.5)?qe.dtick/2:qe.dtick):He.dtick="D1":"D2"===He.dtick&&+qe.dtick>1&&(He.dtick=1)}He.range=qe.range}void 0===qe.minor._tick0Init&&(He.tick0=qe.tick0)},ee.prepTicks=function(He,qe){var ft=_.simpleMap(He.range,He.r2l,void 0,void 0,qe);if("auto"===He.tickmode||!He.dtick){var et,xt=He.nticks;xt||("category"===He.type||"multicategory"===He.type?(et=He.tickfont?_.bigFont(He.tickfont.size||12):15,xt=He._length/et):(et="y"===He._id.charAt(0)?40:80,xt=_.constrain(He._length/et,4,9)+1),"radialaxis"===He._name&&(xt*=2)),He.minor&&"array"!==He.minor.tickmode||"array"===He.tickmode&&(xt*=100),He._roughDTick=Math.abs(ft[1]-ft[0])/xt,ee.autoTicks(He,He._roughDTick),He._minDtick>0&&He.dtick<2*He._minDtick&&(He.dtick=He._minDtick,He.tick0=He.l2r(He._forceTick0))}"period"===He.ticklabelmode&&function(wt){var At;function yt(){return!(A(wt.dtick)||"M"!==wt.dtick.charAt(0))}var Ot=yt(),Ct=ee.getTickFormat(wt);if(Ct){var Rt=wt._dtickInit!==wt.dtick;/%[fLQsSMX]/.test(Ct)||(/%[HI]/.test(Ct)?(At=T,Rt&&!Ot&&wt.dtick<T&&(wt.dtick=T)):/%p/.test(Ct)?(At=C,Rt&&!Ot&&wt.dtick<C&&(wt.dtick=C)):/%[Aadejuwx]/.test(Ct)?(At=f,Rt&&!Ot&&wt.dtick<f&&(wt.dtick=f)):/%[UVW]/.test(Ct)?(At=w,Rt&&!Ot&&wt.dtick<w&&(wt.dtick=w)):/%[Bbm]/.test(Ct)?(At=x,Rt&&(Ot?Se(wt.dtick)<1:wt.dtick<y)&&(wt.dtick="M1")):/%[q]/.test(Ct)?(At=p,Rt&&(Ot?Se(wt.dtick)<3:wt.dtick<m)&&(wt.dtick="M3")):/%[Yy]/.test(Ct)&&(At=h,Rt&&(Ot?Se(wt.dtick)<12:wt.dtick<c)&&(wt.dtick="M12")))}(Ot=yt())&&wt.tick0===wt._dowTick0&&(wt.tick0=wt._rawTick0),wt._definedDelta=At}(He),He.tick0||(He.tick0="date"===He.type?"2000-01-01":0),"date"===He.type&&He.dtick<.1&&(He.dtick=.1),Ae(He)},ee.calcTicks=function(He,qe){for(var ft,et,xt=He.type,wt=He.calendar,At=He.ticklabelstep,yt="period"===He.ticklabelmode,Ot=_.simpleMap(He.range,He.r2l,void 0,void 0,qe),Ct=Ot[1]<Ot[0],Rt=Math.min(Ot[0],Ot[1]),Bt=Math.max(Ot[0],Ot[1]),jt=Math.max(1e3,He._length||0),Gt=[],on=[],Jt=[],$t=[],tn=He.minor&&(He.minor.ticks||He.minor.showgrid),dn=1;dn>=(tn?0:1);dn--){var Gn=!dn;dn?(He._dtickInit=He.dtick,He._tick0Init=He.tick0):(He.minor._dtickInit=He.minor.dtick,He.minor._tick0Init=He.minor.tick0);var zn=dn?He:_.extendFlat({},He,He.minor);if(Gn?ee.prepMinorTicks(zn,He,qe):ee.prepTicks(zn,qe),"array"!==zn.tickmode)if("sync"!==zn.tickmode){var Mn=Te(Ot),ln=Mn[0],vn=Mn[1],hn=A(zn.dtick),_n="log"===xt&&!(hn||"L"===zn.dtick.charAt(0)),Dn=ee.tickFirst(zn,qe);if(dn){if(He._tmin=Dn,Dn<ln!==Ct)break;"category"!==xt&&"multicategory"!==xt||(vn=Ct?Math.max(-.5,vn):Math.min(He._categories.length-.5,vn))}var Pn,Yn,jn=null,Fn=Dn;dn&&(hn?Yn=He.dtick:"date"===xt?"string"==typeof He.dtick&&"M"===He.dtick.charAt(0)&&(Yn=x*He.dtick.substring(1)):Yn=He._roughDTick,Pn=Math.round((He.r2l(Fn)-He.r2l(He.tick0))/Yn)-1);var Jn=zn.dtick;for(zn.rangebreaks&&zn._tick0Init!==zn.tick0&&(Fn=Ge(Fn,He),Ct||(Fn=ee.tickIncrement(Fn,Jn,!Ct,wt))),dn&&yt&&(Fn=ee.tickIncrement(Fn,Jn,!Ct,wt),Pn--);Ct?Fn>=vn:Fn<=vn;Fn=ee.tickIncrement(Fn,Jn,Ct,wt)){if(dn&&Pn++,zn.rangebreaks&&!Ct){if(Fn<ln)continue;if(zn.maskBreaks(Fn)===O&&Ge(Fn,zn)>=Bt)break}if(Jt.length>jt||Fn===jn)break;jn=Fn;var $n={value:Fn};dn?(_n&&Fn!==(0|Fn)&&($n.simpleLabel=!0),At>1&&Pn%At&&($n.skipLabel=!0),Jt.push($n)):($n.minor=!0,$t.push($n))}}else Jt=[],Gt=he(He);else dn?(Jt=[],Gt=ue(He,!Gn)):($t=[],on=ue(He,!Gn))}if(tn&&!("inside"===He.minor.ticks&&"outside"===He.ticks||"outside"===He.minor.ticks&&"inside"===He.ticks)){for(var nr=Jt.map(function(Nt){return Nt.value}),or=[],lr=0;lr<$t.length;lr++){var cr=$t[lr],Ar=cr.value;if(-1===nr.indexOf(Ar)){for(var fn=!1,an=0;!fn&&an<Jt.length;an++)1e7+Jt[an].value===1e7+Ar&&(fn=!0);fn||or.push(cr)}}$t=or}if(yt&&function(Nt,Yt,cn){for(var xn=0;xn<Nt.length;xn++){var wn=Nt[xn].value,Cn=xn,mn=xn+1;xn<Nt.length-1?(Cn=xn,mn=xn+1):xn>0?(Cn=xn-1,mn=xn):(Cn=xn,mn=xn);var nn,yn=Math.abs(Nt[mn].value-Nt[Cn].value),Nn=cn||yn,Un=0;Nn>=c?Un=yn>=c&&yn<=l?yn:h:cn===p&&Nn>=m?Un=yn>=m&&yn<=b?yn:p:Nn>=y?Un=yn>=y&&yn<=v?yn:x:cn===w&&Nn>=w?Un=w:Nn>=f?Un=f:cn===C&&Nn>=C?Un=C:cn===T&&Nn>=T&&(Un=T),Un>=yn&&(Un=yn,nn=!0);var Xn=wn+Un;if(Yt.rangebreaks&&Un>0){for(var er=0,pr=0;pr<84;pr++){var Qn=(pr+.5)/84;Yt.maskBreaks(wn*(1-Qn)+Qn*Xn)!==O&&er++}(Un*=er/84)||(Nt[xn].drop=!0),nn&&yn>w&&(Un=yn)}(Un>0||0===xn)&&(Nt[xn].periodX=wn+Un/2)}}(Jt,He,He._definedDelta),He.rangebreaks){var Vn="y"===He._id.charAt(0),En=1;"auto"===He.tickmode&&(En=He.tickfont?He.tickfont.size:12);var Wn=NaN;for(ft=Jt.length-1;ft>-1;ft--)if(Jt[ft].drop)Jt.splice(ft,1);else{Jt[ft].value=Ge(Jt[ft].value,He);var ar=He.c2p(Jt[ft].value);(Vn?Wn>ar-En:Wn<ar+En)?Jt.splice(Ct?ft+1:ft,1):Wn=ar}}tt(He)&&360===Math.abs(Ot[1]-Ot[0])&&Jt.pop(),He._tmax=(Jt[Jt.length-1]||{}).value,He._prevDateHead="",He._inCalcTicks=!0;var In,fr,ur=function(Nt){Nt.text="",He._prevDateHead=et};for(Jt=Jt.concat($t),ft=0;ft<Jt.length;ft++){var An=Jt[ft].value;Jt[ft].minor?on.push({x:An,minor:!0}):(et=He._prevDateHead,In=ee.tickText(He,An,!1,Jt[ft].simpleLabel),void 0!==(fr=Jt[ft].periodX)&&(In.periodX=fr,(fr>Bt||fr<Rt)&&(fr>Bt&&(In.periodX=Bt),fr<Rt&&(In.periodX=Rt),ur(In))),Jt[ft].skipLabel&&ur(In),Gt.push(In))}return Gt=Gt.concat(on),He._inCalcTicks=!1,yt&&Gt.length&&(Gt[0].noTick=!0),Gt};var me=[2,5,10],Pe=[1,2,3,6,12],Ce=[1,2,5,10,15,30],Ie=[1,2,3,7,14],Oe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ze=[-.301,0,.301,.699,1],je=[15,30,45,90,180];function ve(He,qe,ft){return qe*_.roundUp(He/qe,ft)}function Ae(He){var qe=He.dtick;if(He._tickexponent=0,A(qe)||"string"==typeof qe||(qe=1),"category"!==He.type&&"multicategory"!==He.type||(He._tickround=null),"date"===He.type){var ft=He.r2l(He.tick0),et=He.l2r(ft).replace(/(^-|i)/g,""),xt=et.length;if("M"===String(qe).charAt(0))He._tickround=xt>10||"01-01"!==et.substr(5)?"d":+qe.substr(1)%12==0?"y":"m";else if(qe>=f&&xt<=10||qe>=15*f)He._tickround="d";else if(qe>=D&&xt<=16||qe>=T)He._tickround="M";else if(qe>=R&&xt<=19||qe>=D)He._tickround="S";else{var wt=He.l2r(ft+qe).replace(/^-/,"").length;He._tickround=Math.max(xt,wt)-20,He._tickround<0&&(He._tickround=4)}}else if(A(qe)||"L"===qe.charAt(0)){var At=He.range.map(He.r2d||Number);A(qe)||(qe=Number(qe.substr(1))),He._tickround=2-Math.floor(Math.log(qe)/Math.LN10+.01);var yt=Math.max(Math.abs(At[0]),Math.abs(At[1])),Ot=Math.floor(Math.log(yt)/Math.LN10+.01),Ct=void 0===He.minexponent?3:He.minexponent;Math.abs(Ot)>Ct&&(He._tickexponent=Ne(He.exponentformat)&&!We(Ot)?3*Math.round((Ot-1)/3):Ot)}else He._tickround=null}function Le(He,qe,ft){var et=He.tickfont||{};return{x:qe,dx:0,dy:0,text:ft||"",fontSize:et.size,font:et.family,fontWeight:et.weight,fontStyle:et.style,fontVariant:et.variant,fontColor:et.color}}ee.autoTicks=function(He,qe,ft){var et;function xt(Bt){return Math.pow(Bt,Math.floor(Math.log(qe)/Math.LN10))}if("date"===He.type){He.tick0=_.dateTick0(He.calendar,0);var wt=2*qe;if(wt>h)qe/=h,et=xt(10),He.dtick="M"+12*ve(qe,et,me);else if(wt>x)He.dtick="M"+ve(qe/=x,1,Pe);else if(wt>f){if(He.dtick=ve(qe,f,He._hasDayOfWeekBreaks?[1,2,7,14]:Ie),!ft){var At=ee.getTickFormat(He),yt="period"===He.ticklabelmode;yt&&(He._rawTick0=He.tick0),He.tick0=/%[uVW]/.test(At)?_.dateTick0(He.calendar,2):_.dateTick0(He.calendar,1),yt&&(He._dowTick0=He.tick0)}}else wt>T?He.dtick=ve(qe,T,Pe):wt>D?He.dtick=ve(qe,D,Ce):wt>R?He.dtick=ve(qe,R,Ce):(et=xt(10),He.dtick=ve(qe,et,me))}else if("log"===He.type){He.tick0=0;var Ot=_.simpleMap(He.range,He.r2l);if(He._isMinor&&(qe*=1.5),qe>.7)He.dtick=Math.ceil(qe);else if(Math.abs(Ot[1]-Ot[0])<1){var Ct=1.5*Math.abs((Ot[1]-Ot[0])/qe);qe=Math.abs(Math.pow(10,Ot[1])-Math.pow(10,Ot[0]))/Ct,et=xt(10),He.dtick="L"+ve(qe,et,me)}else He.dtick=qe>.3?"D2":"D1"}else"category"===He.type||"multicategory"===He.type?(He.tick0=0,He.dtick=Math.ceil(Math.max(qe,1))):tt(He)?(He.tick0=0,He.dtick=ve(qe,et=1,je)):(He.tick0=0,et=xt(10),He.dtick=ve(qe,et,me));if(0===He.dtick&&(He.dtick=1),!A(He.dtick)&&"string"!=typeof He.dtick){var Rt=He.dtick;throw He.dtick=1,"ax.dtick error: "+String(Rt)}},ee.tickIncrement=function(He,qe,ft,et){var xt=ft?-1:1;if(A(qe))return _.increment(He,xt*qe);var wt=qe.charAt(0),At=xt*Number(qe.substr(1));if("M"===wt)return _.incrementMonth(He,At,et);if("L"===wt)return Math.log(Math.pow(10,He)+At)/Math.LN10;if("D"===wt){var yt="D2"===qe?ze:Oe,Ot=He+.01*xt,Ct=_.roundUp(_.mod(Ot,1),yt,ft);return Math.floor(Ot)+Math.log(S.round(Math.pow(10,Ct),1))/Math.LN10}throw"unrecognized dtick "+String(qe)},ee.tickFirst=function(He,qe){var ft=He.r2l||Number,et=_.simpleMap(He.range,ft,void 0,void 0,qe),xt=et[1]<et[0],wt=xt?Math.floor:Math.ceil,At=Te(et)[0],yt=He.dtick,Ot=ft(He.tick0);if(A(yt)){var Ct=wt((At-Ot)/yt)*yt+Ot;return"category"!==He.type&&"multicategory"!==He.type||(Ct=_.constrain(Ct,0,He._categories.length-1)),Ct}var Rt=yt.charAt(0),Bt=Number(yt.substr(1));if("M"===Rt){for(var jt,Gt,on,Jt=0,$t=Ot;Jt<10;){if(((jt=ee.tickIncrement($t,yt,xt,He.calendar))-At)*($t-At)<=0)return xt?Math.min($t,jt):Math.max($t,jt);Gt=(At-($t+jt)/2)/(jt-$t),on=Rt+(Math.abs(Math.round(Gt))||1)*Bt,$t=ee.tickIncrement($t,on,Gt<0?!xt:xt,He.calendar),Jt++}return _.error("tickFirst did not converge",He),$t}if("L"===Rt)return Math.log(wt((Math.pow(10,At)-Ot)/Bt)*Bt+Ot)/Math.LN10;if("D"===Rt){var tn="D2"===yt?ze:Oe,dn=_.roundUp(_.mod(At,1),tn,xt);return Math.floor(At)+Math.log(S.round(Math.pow(10,dn),1))/Math.LN10}throw"unrecognized dtick "+String(yt)},ee.tickText=function(He,qe,ft,et){var xt,wt=Le(He,qe),At="array"===He.tickmode,yt=ft||At,Ot=He.type,Ct="category"===Ot?He.d2l_noadd:He.d2l,Rt=function($t){var tn=He.l2p($t);return tn>=0&&tn<=He._length?$t:null};if(At&&_.isArrayOrTypedArray(He.ticktext)){var Bt=_.simpleMap(He.range,He.r2l),jt=(Math.abs(Bt[1]-Bt[0])-(He._lBreaks||0))/1e4;for(xt=0;xt<He.ticktext.length&&!(Math.abs(qe-Ct(He.tickvals[xt]))<jt);xt++);if(xt<He.ticktext.length)return wt.text=String(He.ticktext[xt]),wt.xbnd=[Rt(wt.x-.5),Rt(wt.x+He.dtick-.5)],wt}function Gt($t){return void 0===$t||(ft?"none"===$t:"all"!==$t&&qe!=={first:He._tmin,last:He._tmax}[$t])}var tn,dn,on=ft?"never":"none"!==He.exponentformat&&Gt(He.showexponent)?"hide":"";if("date"===Ot?function($t,tn,dn,Gn){var zn=$t._tickround,Mn=dn&&$t.hoverformat||ee.getTickFormat($t);(Gn=!Mn&&Gn)&&(zn=A(zn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[zn]);var ln,vn=_.formatDate(tn.x,Mn,zn,$t._dateFormat,$t.calendar,$t._extraFormat),hn=vn.indexOf("\n");if(-1!==hn&&(ln=vn.substr(hn+1),vn=vn.substr(0,hn)),Gn&&(void 0===ln||"00:00:00"!==vn&&"00:00"!==vn?8===vn.length&&(vn=vn.replace(/:00$/,"")):(vn=ln,ln="")),ln)if(dn)"d"===zn?vn+=", "+ln:vn=ln+(vn?", "+vn:"");else if($t._inCalcTicks&&$t._prevDateHead===ln){var _n=Qe($t),Dn=$t._trueSide||$t.side;(!_n&&"top"===Dn||_n&&"bottom"===Dn)&&(vn+="<br> ")}else $t._prevDateHead=ln,vn+="<br>"+ln;tn.text=vn}(He,wt,ft,yt):"log"===Ot?function($t,tn,dn,Gn,zn){var Mn=$t.dtick,ln=tn.x,vn=$t.tickformat,hn="string"==typeof Mn&&Mn.charAt(0);if("never"===zn&&(zn=""),Gn&&"L"!==hn&&(Mn="L3",hn="L"),vn||"L"===hn)tn.text=Xe(Math.pow(10,ln),$t,zn,Gn);else if(A(Mn)||"D"===hn&&_.mod(ln+.01,1)<.1){var _n=Math.round(ln),Dn=Math.abs(_n),Pn=$t.exponentformat;"power"===Pn||Ne(Pn)&&We(_n)?(tn.text=0===_n?1:1===_n?"10":"10<sup>"+(_n>1?"":P)+Dn+"</sup>",tn.fontSize*=1.25):("e"===Pn||"E"===Pn)&&Dn>2?tn.text="1"+Pn+(_n>0?"+":P)+Dn:(tn.text=Xe(Math.pow(10,ln),$t,"","fakehover"),"D1"===Mn&&"y"===$t._id.charAt(0)&&(tn.dy-=tn.fontSize/6))}else{if("D"!==hn)throw"unrecognized dtick "+String(Mn);tn.text=String(Math.round(Math.pow(10,_.mod(ln,1)))),tn.fontSize*=.75}if("D1"===$t.dtick){var Yn=String(tn.text).charAt(0);"0"!==Yn&&"1"!==Yn||("y"===$t._id.charAt(0)?tn.dx-=tn.fontSize/4:(tn.dy+=tn.fontSize/2,tn.dx+=($t.range[1]>$t.range[0]?1:-1)*tn.fontSize*(ln<0?.5:.25)))}}(He,wt,0,yt,on):"category"===Ot?(tn=wt,void 0===(dn=He._categories[Math.round(tn.x)])&&(dn=""),tn.text=String(dn)):"multicategory"===Ot?function($t,tn,dn){var Gn=Math.round(tn.x),zn=$t._categories[Gn]||[],Mn=void 0===zn[1]?"":String(zn[1]),ln=void 0===zn[0]?"":String(zn[0]);dn?tn.text=ln+" - "+Mn:(tn.text=Mn,tn.text2=ln)}(He,wt,ft):tt(He)?function($t,tn,dn,Gn,zn){if("radians"!==$t.thetaunit||dn)tn.text=Xe(tn.x,$t,zn,Gn);else{var Mn=tn.x/180;if(0===Mn)tn.text="0";else{var ln=function(hn){function _n(jn,Fn){return Math.abs(jn-Fn)<=1e-6}var Dn=function(jn){for(var Fn=1;!_n(Math.round(jn*Fn)/Fn,jn);)Fn*=10;return Fn}(hn),Pn=hn*Dn,Yn=Math.abs(function jn(Fn,Jn){return _n(Jn,0)?Fn:jn(Jn,Fn%Jn)}(Pn,Dn));return[Math.round(Pn/Yn),Math.round(Dn/Yn)]}(Mn);if(ln[1]>=100)tn.text=Xe(_.deg2rad(tn.x),$t,zn,Gn);else{var vn=tn.x<0;tn.text=1===ln[1]?1===ln[0]?"\u03c0":ln[0]+"\u03c0":["<sup>",ln[0],"</sup>","\u2044","<sub>",ln[1],"</sub>","\u03c0"].join(""),vn&&(tn.text=P+tn.text)}}}}(He,wt,ft,yt,on):function($t,tn,dn,Gn,zn){"never"===zn?zn="":"all"===$t.showexponent&&Math.abs(tn.x/$t.dtick)<1e-6&&(zn="hide"),tn.text=Xe(tn.x,$t,zn,Gn)}(He,wt,0,yt,on),et||(He.tickprefix&&!Gt(He.showtickprefix)&&(wt.text=He.tickprefix+wt.text),He.ticksuffix&&!Gt(He.showticksuffix)&&(wt.text+=He.ticksuffix)),He.labelalias&&He.labelalias.hasOwnProperty(wt.text)){var Jt=He.labelalias[wt.text];"string"==typeof Jt&&(wt.text=Jt)}return("boundaries"===He.tickson||He.showdividers)&&(wt.xbnd=[Rt(wt.x-.5),Rt(wt.x+He.dtick-.5)]),wt},ee.hoverLabelText=function(He,qe,ft){ft&&(He=_.extendFlat({},He,{hoverformat:ft}));var et=_.isArrayOrTypedArray(qe)?qe[0]:qe,xt=_.isArrayOrTypedArray(qe)?qe[1]:void 0;if(void 0!==xt&&xt!==et)return ee.hoverLabelText(He,et,ft)+" - "+ee.hoverLabelText(He,xt,ft);var wt="log"===He.type&&et<=0,At=ee.tickText(He,He.c2l(wt?-et:et),"hover").text;return wt?0===et?"0":P+At:At};var Ve=["f","p","n","\u03bc","m","","k","M","G","T"];function Ne(He){return"SI"===He||"B"===He}function We(He){return He>14||He<-15}function Xe(He,qe,ft,et){var xt=He<0,wt=qe._tickround,At=ft||qe.exponentformat||"B",yt=qe._tickexponent,Ot=ee.getTickFormat(qe),Ct=qe.separatethousands;if(et){var Rt={exponentformat:At,minexponent:qe.minexponent,dtick:"none"===qe.showexponent?qe.dtick:A(He)&&Math.abs(He)||1,range:"none"===qe.showexponent?qe.range.map(qe.r2d):[0,He||1]};Ae(Rt),wt=(Number(Rt._tickround)||0)+4,yt=Rt._tickexponent,qe.hoverformat&&(Ot=qe.hoverformat)}if(Ot)return qe._numFormat(Ot)(He).replace(/-/g,P);var Bt,jt=Math.pow(10,-wt)/2;if("none"===At&&(yt=0),(He=Math.abs(He))<jt)He="0",xt=!1;else{if(He+=jt,yt&&(He*=Math.pow(10,-yt),wt+=yt),0===wt)He=String(Math.floor(He));else if(wt<0){He=(He=String(Math.round(He))).substr(0,He.length+wt);for(var Gt=wt;Gt<0;Gt++)He+="0"}else{var on=(He=String(He)).indexOf(".")+1;on&&(He=He.substr(0,on+wt).replace(/\.?0+$/,""))}He=_.numSeparate(He,qe._separators,Ct)}return yt&&"hide"!==At&&(Ne(At)&&We(yt)&&(At="power"),Bt=yt<0?P+-yt:"power"!==At?"+"+yt:String(yt),"e"===At||"E"===At?He+=At+Bt:"power"===At?He+="\xd710<sup>"+Bt+"</sup>":"B"===At&&9===yt?He+="B":Ne(At)&&(He+=Ve[yt/3+5])),xt?P+He:He}function nt(He,qe){if(He){var ft=Object.keys(j).reduce(function(et,xt){return-1!==qe.indexOf(xt)&&j[xt].forEach(function(wt){et[wt]=1}),et},{});Object.keys(He).forEach(function(et){ft[et]||(1===et.length?He[et]=0:delete He[et])})}}function dt(He,qe){for(var ft=[],et={},xt=0;xt<qe.length;xt++){var wt=qe[xt];et[wt.text2]?et[wt.text2].push(wt.x):et[wt.text2]=[wt.x]}for(var At in et)ft.push(Le(He,_.interp(et[At],.5),At));return ft}function ht(He){return void 0!==He.periodX?He.periodX:He.x}function Mt(He){return[He.text,He.x,He.axInfo,He.font,He.fontSize,He.fontColor].join("_")}function kt(He){var qe=He.title.font.size,ft=(He.title.text.match(s.BR_TAG_ALL)||[]).length;return He.title.hasOwnProperty("standoff")?qe*(ae+ft*te):ft?qe*(ft+1)*te:qe}function _t(He,qe){var ft=He.l2p(qe);return ft>1&&ft<He._length-1}function ut(He){var qe=S.select(He),ft=qe.select(".text-math-group");return ft.empty()?qe.select("text"):ft}function st(He){return He._id+".automargin"}function Lt(He){return st(He)+".mirror"}function Ut(He){return He._id+".rangeslider"}function Ht(He,qe){for(var ft=0;ft<qe.length;ft++)-1===He.indexOf(qe[ft])&&He.push(qe[ft])}function Pt(He,qe,ft){var et,xt,wt=[],At=[],yt=He.layout;for(et=0;et<qe.length;et++)wt.push(ee.getFromId(He,qe[et]));for(et=0;et<ft.length;et++)At.push(ee.getFromId(He,ft[et]));var Ot=Object.keys(r),Ct=["anchor","domain","overlaying","position","side","tickangle","editType"],Rt=["linear","log"];for(et=0;et<Ot.length;et++){var Bt=Ot[et],jt=wt[0][Bt],Gt=At[0][Bt],on=!0,Jt=!1,$t=!1;if("_"!==Bt.charAt(0)&&"function"!=typeof jt&&-1===Ct.indexOf(Bt)){for(xt=1;xt<wt.length&&on;xt++){var tn=wt[xt][Bt];"type"===Bt&&-1!==Rt.indexOf(jt)&&-1!==Rt.indexOf(tn)&&jt!==tn?Jt=!0:tn!==jt&&(on=!1)}for(xt=1;xt<At.length&&on;xt++){var dn=At[xt][Bt];"type"===Bt&&-1!==Rt.indexOf(Gt)&&-1!==Rt.indexOf(dn)&&Gt!==dn?$t=!0:At[xt][Bt]!==Gt&&(on=!1)}on&&(Jt&&(yt[wt[0]._name].type="linear"),$t&&(yt[At[0]._name].type="linear"),Je(yt,Bt,wt,At,He._fullLayout._dfltTitle))}}for(et=0;et<He._fullLayout.annotations.length;et++){var Gn=He._fullLayout.annotations[et];-1!==qe.indexOf(Gn.xref)&&-1!==ft.indexOf(Gn.yref)&&_.swapAttrs(yt.annotations[et],["?"])}}function Je(He,qe,ft,et,xt){var wt,At=_.nestedProperty,yt=At(He[ft[0]._name],qe).get(),Ot=At(He[et[0]._name],qe).get();for("title"===qe&&(yt&&yt.text===xt.x&&(yt.text=xt.y),Ot&&Ot.text===xt.y&&(Ot.text=xt.x)),wt=0;wt<ft.length;wt++)At(He,ft[wt]._name+"."+qe).set(Ot);for(wt=0;wt<et.length;wt++)At(He,et[wt]._name+"."+qe).set(yt)}function tt(He){return"angularaxis"===He._id}function Ge(He,qe){for(var ft=qe._rangebreaks.length,et=0;et<ft;et++){var xt=qe._rangebreaks[et];if(He>=xt.min&&He<xt.max)return xt.max}return He}function Qe(He){return-1!==(He.ticklabelposition||"").indexOf("inside")}function pt(He,qe){Qe(He._anchorAxis||{})&&He._hideCounterAxisInsideTickLabels&&He._hideCounterAxisInsideTickLabels(qe)}function ct(He,qe,ft,et){var xt,wt="free"===He.anchor||void 0!==He.overlaying&&!1!==He.overlaying?He.overlaying:He._id;xt=et?"right"===He.side?qe:-qe:qe,wt in ft||(ft[wt]={}),He.side in ft[wt]||(ft[wt][He.side]=0),ft[wt][He.side]+=xt}ee.getTickFormat=function(He){var qe,ft,et,xt,wt,At,yt,Ot,jt,Gt,on,Jt,$t,tn;function Ct(jt){return"string"!=typeof jt?jt:Number(jt.replace("M",""))*x}function Rt(jt,Gt){var on=["L","D"];if(typeof jt==typeof Gt){if("number"==typeof jt)return jt-Gt;var Jt=on.indexOf(jt.charAt(0)),$t=on.indexOf(Gt.charAt(0));return Jt===$t?Number(jt.replace(/(L|D)/g,""))-Number(Gt.replace(/(L|D)/g,"")):Jt-$t}return"number"==typeof jt?1:-1}if(He.tickformatstops&&He.tickformatstops.length>0)switch(He.type){case"date":case"linear":for(qe=0;qe<He.tickformatstops.length;qe++)if((et=He.tickformatstops[qe]).enabled&&(xt=He.dtick,At=void 0,void 0,void 0,At=Ct||function(jt){return jt},Ot=(wt=et.dtickrange)[1],(!(yt=wt[0])&&"number"!=typeof yt||At(yt)<=At(xt))&&(!Ot&&"number"!=typeof Ot||At(Ot)>=At(xt)))){ft=et;break}break;case"log":for(qe=0;qe<He.tickformatstops.length;qe++)if((et=He.tickformatstops[qe]).enabled&&(on=void 0,Jt=void 0,$t=void 0,tn=void 0,on=null===(Gt=et.dtickrange)[0],Jt=null===Gt[1],$t=Rt(jt=He.dtick,Gt[0])>=0,tn=Rt(jt,Gt[1])<=0,(on||$t)&&(Jt||tn))){ft=et;break}}return ft?ft.value:He.tickformat},ee.getSubplots=function(He,qe){var ft=He._fullLayout._subplots,et=ft.cartesian.concat(ft.gl2d||[]),xt=qe?ee.findSubplotsWithAxis(et,qe):et;return xt.sort(function(wt,At){var yt=wt.substr(1).split("y"),Ot=At.substr(1).split("y");return yt[0]===Ot[0]?+yt[1]-+Ot[1]:+yt[0]-+Ot[0]}),xt},ee.findSubplotsWithAxis=function(He,qe){for(var ft=new RegExp("x"===qe._id.charAt(0)?"^"+qe._id+"y":qe._id+"$"),et=[],xt=0;xt<He.length;xt++){var wt=He[xt];ft.test(wt)&&et.push(wt)}return et},ee.makeClipPaths=function(He){var qe=He._fullLayout;if(!qe._hasOnlyLargeSploms){var ft,et,xt={_offset:0,_length:qe.width,_id:""},wt={_offset:0,_length:qe.height,_id:""},At=ee.list(He,"x",!0),yt=ee.list(He,"y",!0),Ot=[];for(ft=0;ft<At.length;ft++)for(Ot.push({x:At[ft],y:wt}),et=0;et<yt.length;et++)0===ft&&Ot.push({x:xt,y:yt[et]}),Ot.push({x:At[ft],y:yt[et]});var Ct=qe._clips.selectAll(".axesclip").data(Ot,function(Rt){return Rt.x._id+Rt.y._id});Ct.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Rt){return"clip"+qe._uid+Rt.x._id+Rt.y._id}).append("rect"),Ct.exit().remove(),Ct.each(function(Rt){S.select(this).select("rect").attr({x:Rt.x._offset||0,y:Rt.y._offset||0,width:Rt.x._length||1,height:Rt.y._length||1})})}},ee.draw=function(He,qe,ft){var et=He._fullLayout;"redraw"===qe&&et._paper.selectAll("g.subplot").each(function(yt){var Ct=et._plots[yt[0]];if(Ct){var Rt=Ct.xaxis,Bt=Ct.yaxis;Ct.xaxislayer.selectAll("."+Rt._id+"tick").remove(),Ct.yaxislayer.selectAll("."+Bt._id+"tick").remove(),Ct.xaxislayer.selectAll("."+Rt._id+"tick2").remove(),Ct.yaxislayer.selectAll("."+Bt._id+"tick2").remove(),Ct.xaxislayer.selectAll("."+Rt._id+"divider").remove(),Ct.yaxislayer.selectAll("."+Bt._id+"divider").remove(),Ct.minorGridlayer&&Ct.minorGridlayer.selectAll("path").remove(),Ct.gridlayer&&Ct.gridlayer.selectAll("path").remove(),Ct.zerolinelayer&&Ct.zerolinelayer.selectAll("path").remove(),et._infolayer.select(".g-"+Rt._id+"title").remove(),et._infolayer.select(".g-"+Bt._id+"title").remove()}});var xt=qe&&"redraw"!==qe?qe:ee.listIds(He),wt=ee.list(He).filter(function(yt){return yt.autoshift}).map(function(yt){return yt.overlaying});xt.map(function(yt){var Ot=ee.getFromId(He,yt);if("sync"===Ot.tickmode&&Ot.overlaying){var Ct=xt.findIndex(function(Rt){return Rt===Ot.overlaying});Ct>=0&&xt.unshift(xt.splice(Ct,1).shift())}});var At={false:{left:0,right:0}};return _.syncOrAsync(xt.map(function(yt){return function(){if(yt){var Ot=ee.getFromId(He,yt);ft||(ft={}),ft.axShifts=At,ft.overlayingShiftedAx=wt;var Ct=ee.drawOne(He,Ot,ft);return Ot._shiftPusher&&ct(Ot,Ot._fullDepth||0,At,!0),Ot._r=Ot.range.slice(),Ot._rl=_.simpleMap(Ot._r,Ot.r2l),Ct}}}))},ee.drawOne=function(He,qe,ft){var et,xt,wt,At=(ft=ft||{}).axShifts||{},yt=ft.overlayingShiftedAx||[];qe.setScale();var mn,Ot=He._fullLayout,Ct=qe._id,Rt=Ct.charAt(0),Bt=ee.counterLetter(Ct),jt=Ot._plots[qe._mainSubplot];if(jt){if(qe._shiftPusher=qe.autoshift||-1!==yt.indexOf(qe._id)||-1!==yt.indexOf(qe.overlaying),qe._shiftPusher&"free"===qe.anchor){var Gt=qe.linewidth/2||0;"inside"===qe.ticks&&(Gt+=qe.ticklen),ct(qe,Gt,At,!0),ct(qe,qe.shift||0,At,!1)}!0===ft.skipTitle&&void 0!==qe._shift||(qe._shift=(mn=qe).autoshift?At[mn.overlaying][mn.side]:mn.shift||0);var on=jt[Rt+"axislayer"],Jt=qe._mainLinePosition,$t=Jt+=qe._shift,tn=qe._mainMirrorPosition,dn=qe._vals=ee.calcTicks(qe),Gn=[qe.mirror,$t,tn].join("_");for(et=0;et<dn.length;et++)dn[et].axInfo=Gn;qe._selections={},qe._tickAngles&&(qe._prevTickAngles=qe._tickAngles),qe._tickAngles={},qe._depth=null;var zn={};if(qe.visible){var Mn,ln,vn=ee.makeTransTickFn(qe),hn=ee.makeTransTickLabelFn(qe),_n="inside"===qe.ticks,Dn="outside"===qe.ticks;if("boundaries"===qe.tickson){var Pn=function(mn,nn){var rn,pn=[],yn=function(Nn,Un){var Xn=Nn.xbnd[Un];null!==Xn&&pn.push(_.extendFlat({},Nn,{x:Xn}))};if(nn.length){for(rn=0;rn<nn.length;rn++)yn(nn[rn],0);yn(nn[rn-1],1)}return pn}(0,dn);ln=ee.clipEnds(qe,Pn),Mn=_n?ln:Pn}else ln=ee.clipEnds(qe,dn),Mn=_n&&"period"!==qe.ticklabelmode?ln:dn;var Yn,jn=qe._gridVals=ln,Fn=function(mn,nn){var rn,pn,yn=[],Nn=nn.length&&nn[nn.length-1].x<nn[0].x,Un=function(er,pr){var Qn=er.xbnd[pr];null!==Qn&&yn.push(_.extendFlat({},er,{x:Qn}))};if(mn.showdividers&&nn.length){for(rn=0;rn<nn.length;rn++){var Xn=nn[rn];Xn.text2!==pn&&Un(Xn,Nn?1:0),pn=Xn.text2}Un(nn[rn-1],Nn?0:1)}return yn}(qe,dn);if(!Ot._hasOnlyLargeSploms){var Jn=qe._subplotsWith,$n={};for(et=0;et<Jn.length;et++){var nr=(wt=Ot._plots[xt=Jn[et]])[Bt+"axis"],or=nr._mainAxis._id;if(!$n[or]){$n[or]=1;var lr="x"===Rt?"M0,"+nr._offset+"v"+nr._length:"M"+nr._offset+",0h"+nr._length;ee.drawGrid(He,qe,{vals:jn,counterAxis:nr,layer:wt.gridlayer.select("."+Ct),minorLayer:wt.minorGridlayer.select("."+Ct),path:lr,transFn:vn}),ee.drawZeroLine(He,qe,{counterAxis:nr,layer:wt.zerolinelayer,path:lr,transFn:vn})}}}var cr=ee.getTickSigns(qe),Ar=ee.getTickSigns(qe,"minor");if(qe.ticks||qe.minor&&qe.minor.ticks){var fn,an,Vn,En,Wn=ee.makeTickPath(qe,$t,cr[2]),ar=ee.makeTickPath(qe,$t,Ar[2],{minor:!0});if(qe._anchorAxis&&qe.mirror&&!0!==qe.mirror?(fn=ee.makeTickPath(qe,tn,cr[3]),an=ee.makeTickPath(qe,tn,Ar[3],{minor:!0}),Vn=Wn+fn,En=ar+an):(fn="",an="",Vn=Wn,En=ar),qe.showdividers&&Dn&&"boundaries"===qe.tickson){var In={};for(et=0;et<Fn.length;et++)In[Fn[et].x]=1;Yn=function(mn){return In[mn.x]?fn:Vn}}else Yn=function(mn){return mn.minor?En:Vn}}if(ee.drawTicks(He,qe,{vals:Mn,layer:on,path:Yn,transFn:vn}),"allticks"===qe.mirror){var fr=Object.keys(qe._linepositions||{});for(et=0;et<fr.length;et++){wt=Ot._plots[xt=fr[et]];var ur=qe._linepositions[xt]||[],An=ur[1],Nt=ur[2],Yt=ee.makeTickPath(qe,ur[0],Nt?cr[0]:Ar[0],{minor:Nt})+ee.makeTickPath(qe,An,Nt?cr[1]:Ar[1],{minor:Nt});ee.drawTicks(He,qe,{vals:Mn,layer:wt[Rt+"axislayer"],path:Yt,transFn:vn})}}var cn=[];if(cn.push(function(){return ee.drawLabels(He,qe,{vals:dn,layer:on,plotinfo:wt,transFn:hn,labelFns:ee.makeLabelFns(qe,$t)})}),"multicategory"===qe.type){var xn={x:2,y:10}[Rt];cn.push(function(){var mn={x:"height",y:"width"}[Rt],nn=Cn()[mn]+xn+(qe._tickAngles[Ct+"tick"]?qe.tickfont.size*te:0);return ee.drawLabels(He,qe,{vals:dt(qe,dn),layer:on,cls:Ct+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:vn,labelFns:ee.makeLabelFns(qe,$t+nn*cr[4])})}),cn.push(function(){return qe._depth=cr[4]*(Cn("tick2")[qe.side]-$t),function(mn,nn,rn){var pn=nn._id+"divider",yn=rn.vals,Nn=rn.layer.selectAll("path."+pn).data(yn,Mt);Nn.exit().remove(),Nn.enter().insert("path",":first-child").classed(pn,1).classed("crisp",1).call(i.stroke,nn.dividercolor).style("stroke-width",n.crispRound(mn,nn.dividerwidth,1)+"px"),Nn.attr("transform",rn.transFn).attr("d",rn.path)}(He,qe,{vals:Fn,layer:on,path:ee.makeTickPath(qe,$t,cr[4],{len:qe._depth}),transFn:vn})})}else qe.title.hasOwnProperty("standoff")&&cn.push(function(){qe._depth=cr[4]*(Cn()[qe.side]-$t)});var wn=M.getComponentMethod("rangeslider","isVisible")(qe);return ft.skipTitle||wn&&"bottom"===qe.side||cn.push(function(){return function(mn,nn){var rn,pn=mn._fullLayout,yn=nn._id,Nn=yn.charAt(0),Un=nn.title.font.size,Xn=(nn.title.text.match(s.BR_TAG_ALL)||[]).length;if(nn.title.hasOwnProperty("standoff"))"bottom"===nn.side||"right"===nn.side?rn=nn._depth+nn.title.standoff+Un*ae:"top"!==nn.side&&"left"!==nn.side||(rn=nn._depth+nn.title.standoff+Un*(G+Xn*te));else{var er=Qe(nn);if("multicategory"===nn.type)rn=nn._depth;else{var pr=1.5*Un;er&&(pr=.5*Un,"outside"===nn.ticks&&(pr+=nn.ticklen)),rn=10+pr+(nn.linewidth?nn.linewidth-1:0)}er||(rn+="x"===Nn?"top"===nn.side?Un*(nn.showticklabels?1:0):Un*(nn.showticklabels?1.5:.5):"right"===nn.side?Un*(nn.showticklabels?1:.5):Un*(nn.showticklabels?.5:0))}var Qn,qn,vr,dr,Dr=ee.getPxPosition(mn,nn);if("x"===Nn?(qn=nn._offset+nn._length/2,vr="top"===nn.side?Dr-rn:Dr+rn):(vr=nn._offset+nn._length/2,qn="right"===nn.side?Dr+rn:Dr-rn,Qn={rotate:"-90",offset:0}),"multicategory"!==nn.type){var kr=nn._selections[nn._id+"tick"];if(dr={selection:kr,side:nn.side},kr&&kr.node()&&kr.node().parentNode){var Lr=n.getTranslate(kr.node().parentNode);dr.offsetLeft=Lr.x,dr.offsetTop=Lr.y}nn.title.hasOwnProperty("standoff")&&(dr.pad=0)}return nn._titleStandoff=rn,t.draw(mn,yn+"title",{propContainer:nn,propName:nn._name+".title.text",placeholder:pn._dfltTitle[Nn],avoid:dr,transform:Qn,attributes:{x:qn,y:vr,"text-anchor":"middle"}})}(He,qe)}),cn.push(function(){var mn,nn,rn,pn,yn=qe.side.charAt(0),Nn=Q[qe.side].charAt(0),Un=ee.getPxPosition(He,qe),Xn=Dn?qe.ticklen:0;(qe.automargin||wn||qe._shiftPusher)&&("multicategory"===qe.type?mn=Cn("tick2"):(mn=Cn(),"x"===Rt&&"b"===yn&&(qe._depth=Math.max(mn.width>0?mn.bottom-Un:0,Xn))));var er=0,pr=0;if(qe._shiftPusher&&(er=Math.max(Xn,mn.height>0?"l"===yn?Un-mn.left:mn.right-Un:0),qe.title.text!==Ot._dfltTitle[Rt]&&(pr=(qe._titleStandoff||0)+(qe._titleScoot||0),"l"===yn&&(pr+=kt(qe))),qe._fullDepth=Math.max(er,pr)),qe.automargin){nn={x:0,y:0,r:0,l:0,t:0,b:0};var Qn=[0,1],qn="number"==typeof qe._shift?qe._shift:0;if("x"===Rt){if("b"===yn?nn[yn]=qe._depth:(nn[yn]=qe._depth=Math.max(mn.width>0?Un-mn.top:0,Xn),Qn.reverse()),mn.width>0){var vr=mn.right-(qe._offset+qe._length);vr>0&&(nn.xr=1,nn.r=vr);var dr=qe._offset-mn.left;dr>0&&(nn.xl=0,nn.l=dr)}}else if("l"===yn?(qe._depth=Math.max(mn.height>0?Un-mn.left:0,Xn),nn[yn]=qe._depth-qn):(qe._depth=Math.max(mn.height>0?mn.right-Un:0,Xn),nn[yn]=qe._depth+qn,Qn.reverse()),mn.height>0){var Dr=mn.bottom-(qe._offset+qe._length);Dr>0&&(nn.yb=0,nn.b=Dr);var kr=qe._offset-mn.top;kr>0&&(nn.yt=1,nn.t=kr)}nn[Bt]="free"===qe.anchor?qe.position:qe._anchorAxis.domain[Qn[0]],qe.title.text!==Ot._dfltTitle[Rt]&&(nn[yn]+=kt(qe)+(qe.title.standoff||0)),qe.mirror&&"free"!==qe.anchor&&((rn={x:0,y:0,r:0,l:0,t:0,b:0})[Nn]=qe.linewidth,qe.mirror&&!0!==qe.mirror&&(rn[Nn]+=Xn),!0===qe.mirror||"ticks"===qe.mirror?rn[Bt]=qe._anchorAxis.domain[Qn[1]]:"all"!==qe.mirror&&"allticks"!==qe.mirror||(rn[Bt]=[qe._counterDomainMin,qe._counterDomainMax][Qn[1]]))}wn&&(pn=M.getComponentMethod("rangeslider","autoMarginOpts")(He,qe)),"string"==typeof qe.automargin&&(nt(nn,qe.automargin),nt(rn,qe.automargin)),a.autoMargin(He,st(qe),nn),a.autoMargin(He,Lt(qe),rn),a.autoMargin(He,Ut(qe),pn)}),_.syncOrAsync(cn)}}function Cn(mn){var nn=Ct+(mn||"tick");return zn[nn]||(zn[nn]=function(rn,pn,yn){var Nn,Un,Xn,er;if(rn._selections[pn].size())Nn=1/0,Un=-1/0,Xn=1/0,er=-1/0,rn._selections[pn].each(function(){var Qn=ut(this),qn=n.bBox(Qn.node().parentNode);Nn=Math.min(Nn,qn.top),Un=Math.max(Un,qn.bottom),Xn=Math.min(Xn,qn.left),er=Math.max(er,qn.right)});else{var pr=ee.makeLabelFns(rn,yn);Nn=Un=pr.yFn({dx:0,dy:0,fontSize:0}),Xn=er=pr.xFn({dx:0,dy:0,fontSize:0})}return{top:Nn,bottom:Un,left:Xn,right:er,height:Un-Nn,width:er-Xn}}(qe,nn,$t)),zn[nn]}},ee.getTickSigns=function(He,qe){var ft=He._id.charAt(0),xt=He.side==={x:"top",y:"right"}[ft]?1:-1,wt=[-1,1,xt,-xt];return"inside"!==(qe?(He.minor||{}).ticks:He.ticks)==("x"===ft)&&(wt=wt.map(function(At){return-At})),He.side&&wt.push({l:-1,t:-1,r:1,b:1}[He.side.charAt(0)]),wt},ee.makeTransTickFn=function(He){return"x"===He._id.charAt(0)?function(qe){return d(He._offset+He.l2p(qe.x),0)}:function(qe){return d(0,He._offset+He.l2p(qe.x))}},ee.makeTransTickLabelFn=function(He){var qe=function(xt){var wt=xt.ticklabelposition||"",At=function(tn){return-1!==wt.indexOf(tn)},yt=At("top"),Ot=At("left"),Ct=At("right"),Rt=At("bottom"),Bt=At("inside"),jt=Rt||Ot||yt||Ct;if(!jt&&!Bt)return[0,0];var Gt=xt.side,on=jt?(xt.tickwidth||0)/2:0,Jt=3,$t=xt.tickfont?xt.tickfont.size:12;return(Rt||yt)&&(on+=$t*ae,Jt+=(xt.linewidth||0)/2),(Ot||Ct)&&(on+=(xt.linewidth||0)/2,Jt+=3),Bt&&"top"===Gt&&(Jt-=$t*(1-ae)),(Ot||yt)&&(on=-on),"bottom"!==Gt&&"right"!==Gt||(Jt=-Jt),[jt?on:0,Bt?Jt:0]}(He),ft=qe[0],et=qe[1];return"x"===He._id.charAt(0)?function(xt){return d(ft+He._offset+He.l2p(ht(xt)),et)}:function(xt){return d(et,ft+He._offset+He.l2p(ht(xt)))}},ee.makeTickPath=function(He,qe,ft,et){et||(et={});var xt=et.minor;if(xt&&!He.minor)return"";var wt=void 0!==et.len?et.len:xt?He.minor.ticklen:He.ticklen,At=He._id.charAt(0),yt=(He.linewidth||1)/2;return"x"===At?"M0,"+(qe+yt*ft)+"v"+wt*ft:"M"+(qe+yt*ft)+",0h"+wt*ft},ee.makeLabelFns=function(He,qe,ft){var et=He.ticklabelposition||"",xt=function(Pn){return-1!==et.indexOf(Pn)},wt=xt("top"),At=xt("left"),yt=xt("right"),Ot=xt("bottom")||At||wt||yt,Ct=xt("inside"),Rt="inside"===et&&"inside"===He.ticks||!Ct&&"outside"===He.ticks&&"boundaries"!==He.tickson,Bt=0,jt=0,Gt=Rt?He.ticklen:0;if(Ct?Gt*=-1:Ot&&(Gt=0),Rt&&(Bt+=Gt,ft)){var on=_.deg2rad(ft);Bt=Gt*Math.cos(on)+1,jt=Gt*Math.sin(on)}He.showticklabels&&(Rt||He.showline)&&(Bt+=.2*He.tickfont.size);var Jt,$t,tn,dn,Gn,zn={labelStandoff:Bt+=(He.linewidth||1)/2*(Ct?-1:1),labelShift:jt},Mn=0,ln=He.side,vn=He._id.charAt(0),hn=He.tickangle;if("x"===vn)dn=(Gn=!Ct&&"bottom"===ln||Ct&&"top"===ln)?1:-1,Ct&&(dn*=-1),Jt=jt*dn,$t=qe+Bt*dn,tn=Gn?1:-.2,90===Math.abs(hn)&&(Ct?tn+=G:tn=-90===hn&&"bottom"===ln?ae:90===hn&&"top"===ln?G:.5,Mn=G/2*(hn/90)),zn.xFn=function(Pn){return Pn.dx+Jt+Mn*Pn.fontSize},zn.yFn=function(Pn){return Pn.dy+$t+Pn.fontSize*tn},zn.anchorFn=function(Pn,Yn){if(Ot){if(At)return"end";if(yt)return"start"}return A(Yn)&&0!==Yn&&180!==Yn?Yn*dn<0!==Ct?"end":"start":"middle"},zn.heightFn=function(Pn,Yn,jn){return Yn<-60||Yn>60?-.5*jn:"top"===He.side!==Ct?-jn:0};else if("y"===vn){if(dn=(Gn=!Ct&&"left"===ln||Ct&&"right"===ln)?1:-1,Ct&&(dn*=-1),Jt=Bt,$t=jt*dn,tn=0,Ct||90!==Math.abs(hn)||(tn=-90===hn&&"left"===ln||90===hn&&"right"===ln?ae:.5),Ct){var _n=A(hn)?+hn:0;if(0!==_n){var Dn=_.deg2rad(_n);Mn=Math.abs(Math.sin(Dn))*ae*dn,tn=0}}zn.xFn=function(Pn){return Pn.dx+qe-(Jt+Pn.fontSize*tn)*dn+Mn*Pn.fontSize},zn.yFn=function(Pn){return Pn.dy+$t+Pn.fontSize*G},zn.anchorFn=function(Pn,Yn){return A(Yn)&&90===Math.abs(Yn)?"middle":Gn?"end":"start"},zn.heightFn=function(Pn,Yn,jn){return"right"===He.side&&(Yn*=-1),Yn<-30?-jn:Yn<30?-.5*jn:0}}return zn},ee.drawTicks=function(He,qe,ft){ft=ft||{};var et=qe._id+"tick",xt=[].concat(qe.minor&&qe.minor.ticks?ft.vals.filter(function(At){return At.minor&&!At.noTick}):[]).concat(qe.ticks?ft.vals.filter(function(At){return!At.minor&&!At.noTick}):[]),wt=ft.layer.selectAll("path."+et).data(xt,Mt);wt.exit().remove(),wt.enter().append("path").classed(et,1).classed("ticks",1).classed("crisp",!1!==ft.crisp).each(function(At){return i.stroke(S.select(this),At.minor?qe.minor.tickcolor:qe.tickcolor)}).style("stroke-width",function(At){return n.crispRound(He,At.minor?qe.minor.tickwidth:qe.tickwidth,1)+"px"}).attr("d",ft.path).style("display",null),pt(qe,[H]),wt.attr("transform",ft.transFn)},ee.drawGrid=function(He,qe,ft){if(ft=ft||{},"sync"!==qe.tickmode){var et=qe._id+"grid",xt=qe.minor&&qe.minor.showgrid,wt=xt?ft.vals.filter(function(tn){return tn.minor}):[],At=qe.showgrid?ft.vals.filter(function(tn){return!tn.minor}):[],yt=ft.counterAxis;if(yt&&ee.shouldShowZeroLine(He,qe,yt))for(var Ot="array"===qe.tickmode,Ct=0;Ct<At.length;Ct++){var Rt=At[Ct].x;if(Ot?!Rt:Math.abs(Rt)<qe.dtick/100){if(At=At.slice(0,Ct).concat(At.slice(Ct+1)),!Ot)break;Ct--}}qe._gw=n.crispRound(He,qe.gridwidth,1);for(var Bt=xt?n.crispRound(He,qe.minor.gridwidth,1):0,jt=ft.layer,Gt=ft.minorLayer,on=1;on>=0;on--){var Jt=on?jt:Gt;if(Jt){var $t=Jt.selectAll("path."+et).data(on?At:wt,Mt);$t.exit().remove(),$t.enter().append("path").classed(et,1).classed("crisp",!1!==ft.crisp),$t.attr("transform",ft.transFn).attr("d",ft.path).each(function(tn){return i.stroke(S.select(this),tn.minor?qe.minor.gridcolor:qe.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return n.dashStyle(tn.minor?qe.minor.griddash:qe.griddash,tn.minor?qe.minor.gridwidth:qe.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?Bt:qe._gw)+"px"}).style("display",null),"function"==typeof ft.path&&$t.attr("d",ft.path)}}pt(qe,[q,N])}},ee.drawZeroLine=function(He,qe,ft){var et=qe._id+"zl",xt=ee.shouldShowZeroLine(He,qe,(ft=ft||ft).counterAxis),wt=ft.layer.selectAll("path."+et).data(xt?[{x:0,id:qe._id}]:[]);wt.exit().remove(),wt.enter().append("path").classed(et,1).classed("zl",1).classed("crisp",!1!==ft.crisp).each(function(){ft.layer.selectAll("path").sort(function(At,yt){return le(At.id,yt.id)})}),wt.attr("transform",ft.transFn).attr("d",ft.path).call(i.stroke,qe.zerolinecolor||i.defaultLine).style("stroke-width",n.crispRound(He,qe.zerolinewidth,qe._gw||1)+"px").style("display",null),pt(qe,[B])},ee.drawLabels=function(He,qe,ft){var et=He._fullLayout,wt=(ft=ft||{}).cls||qe._id+"tick",At=ft.vals.filter(function($n){return $n.text}),yt=ft.labelFns,Ot=ft.secondary?0:qe.tickangle,Ct=(qe._prevTickAngles||{})[wt],Rt=ft.layer.selectAll("g."+wt).data(qe.showticklabels?At:[],Mt),Bt=[];function jt($n,nr){$n.each(function(or){var lr=S.select(this),cr=lr.select(".text-math-group"),Ar=yt.anchorFn(or,nr),fn=ft.transFn.call(lr.node(),or)+(A(nr)&&0!=+nr?" rotate("+nr+","+yt.xFn(or)+","+(yt.yFn(or)-or.fontSize/2)+")":""),an=s.lineCount(lr),Vn=te*or.fontSize,En=yt.heightFn(or,A(nr)?+nr:0,(an-1)*Vn);if(En&&(fn+=d(0,En)),cr.empty()){var Wn=lr.select("text");Wn.attr({transform:fn,"text-anchor":Ar}),Wn.style("opacity",1),qe._adjustTickLabelsOverflow&&qe._adjustTickLabelsOverflow()}else{var ar=n.bBox(cr.node()).width*{end:-.5,start:.5}[Ar];cr.attr("transform",fn+d(ar,0))}})}Rt.enter().append("g").classed(wt,1).append("text").attr("text-anchor","middle").each(function($n){var nr=S.select(this),or=He._promises.length;nr.call(s.positionText,yt.xFn($n),yt.yFn($n)).call(n.font,{family:$n.font,size:$n.fontSize,color:$n.fontColor,weight:$n.fontWeight,style:$n.fontStyle,variant:$n.fontVariant}).text($n.text).call(s.convertToTspans,He),He._promises[or]?Bt.push(He._promises.pop().then(function(){jt(nr,Ot)})):jt(nr,Ot)}),pt(qe,[$]),Rt.exit().remove(),ft.repositionOnUpdate&&Rt.each(function($n){S.select(this).select("text").call(s.positionText,yt.xFn($n),yt.yFn($n))}),qe._adjustTickLabelsOverflow=function(){var $n=qe.ticklabeloverflow;if($n&&"allow"!==$n){var nr=-1!==$n.indexOf("hide"),or="x"===qe._id.charAt(0),lr=0,cr=or?He._fullLayout.width:He._fullLayout.height;if(-1!==$n.indexOf("domain")){var Ar=_.simpleMap(qe.range,qe.r2l);lr=qe.l2p(Ar[0])+qe._offset,cr=qe.l2p(Ar[1])+qe._offset}var fn=Math.min(lr,cr),an=Math.max(lr,cr),Vn=qe.side,En=1/0,Wn=-1/0;for(var ar in Rt.each(function(ur){var Kt=S.select(this);if(Kt.select(".text-math-group").empty()){var An=n.bBox(Kt.node()),Nt=0;or?(An.right>an||An.left<fn)&&(Nt=1):(An.bottom>an||An.top+(qe.tickangle?0:ur.fontSize/4)<fn)&&(Nt=1);var Yt=Kt.select("text");Nt?nr&&Yt.style("opacity",0):(Yt.style("opacity",1),En="bottom"===Vn||"right"===Vn?Math.min(En,or?An.top:An.left):-1/0,Wn="top"===Vn||"left"===Vn?Math.max(Wn,or?An.bottom:An.right):1/0)}}),et._plots){var In=et._plots[ar];if(qe._id===In.xaxis._id||qe._id===In.yaxis._id){var fr=or?In.yaxis:In.xaxis;fr&&(fr["_visibleLabelMin_"+qe._id]=En,fr["_visibleLabelMax_"+qe._id]=Wn)}}}},qe._hideCounterAxisInsideTickLabels=function($n){var nr="x"===qe._id.charAt(0),or=[];for(var lr in et._plots){var cr=et._plots[lr];qe._id!==cr.xaxis._id&&qe._id!==cr.yaxis._id||or.push(nr?cr.yaxis:cr.xaxis)}or.forEach(function(Ar,fn){Ar&&Qe(Ar)&&($n||[B,N,q,H,$]).forEach(function(an){var Vn="tick"===an.K&&"text"===an.L&&"period"===qe.ticklabelmode,En=et._plots[qe._mainSubplot];(an.K===B.K?En.zerolinelayer.selectAll("."+qe._id+"zl"):an.K===N.K?En.minorGridlayer.selectAll("."+qe._id):an.K===q.K?En.gridlayer.selectAll("."+qe._id):En[qe._id.charAt(0)+"axislayer"]).each(function(){var Wn=S.select(this);an.L&&(Wn=Wn.selectAll(an.L)),Wn.each(function(ar){var In=qe.l2p(Vn?ht(ar):ar.x)+qe._offset,fr=S.select(this);In<qe["_visibleLabelMax_"+Ar._id]&&In>qe["_visibleLabelMin_"+Ar._id]?fr.style("display","none"):"tick"!==an.K||fn||fr.style("display",null)})})})})},jt(Rt,Ct+1?Ct:Ot);var Gt=null;qe._selections&&(qe._selections[wt]=Rt);var on=[function(){return Bt.length&&Promise.all(Bt)}];qe.automargin&&et._redrawFromAutoMarginCount&&90===Ct?(Gt=Ct,on.push(function(){jt(Rt,Ct)})):on.push(function(){if(jt(Rt,Ot),At.length&&qe.autotickangles&&("log"!==qe.type||"D"!==String(qe.dtick).charAt(0))){Gt=qe.autotickangles[0];var $n,nr=0,or=[],lr=1;Rt.each(function(Cn){nr=Math.max(nr,Cn.fontSize);var mn=qe.l2p(Cn.x),nn=ut(this),rn=n.bBox(nn.node());lr=Math.max(lr,s.lineCount(nn)),or.push({top:0,bottom:10,height:10,left:mn-rn.width/2,right:mn+rn.width/2+2,width:rn.width+2})});var cr=("boundaries"===qe.tickson||qe.showdividers)&&!ft.secondary,Ar=At.length,fn=Math.abs((At[Ar-1].x-At[0].x)*qe._m)/(Ar-1),an=cr?fn/2:fn,Vn=cr?qe.ticklen:1.25*nr*lr,En=an/Math.sqrt(Math.pow(an,2)+Math.pow(Vn,2)),Wn=qe.autotickangles.map(function(Cn){return Cn*Math.PI/180}),ar=Wn.find(function(Cn){return Math.abs(Math.cos(Cn))<=En});void 0===ar&&(ar=Wn.reduce(function(Cn,mn){return Math.abs(Math.cos(Cn))<Math.abs(Math.cos(mn))?Cn:mn},Wn[0]));var In=ar*(180/Math.PI);if(cr){var fr=2;for(qe.ticks&&(fr+=qe.tickwidth/2),$n=0;$n<or.length;$n++){var ur=At[$n].xbnd,Kt=or[$n];if(null!==ur[0]&&Kt.left-qe.l2p(ur[0])<fr||null!==ur[1]&&qe.l2p(ur[1])-Kt.right<fr){Gt=In;break}}}else{var An=qe.ticklabelposition||"",Nt=function(Cn){return-1!==An.indexOf(Cn)},Yt=Nt("top"),cn=Nt("left"),xn=Nt("right"),wn=Nt("bottom")||cn||Yt||xn?(qe.tickwidth||0)+6:0;for($n=0;$n<or.length-1;$n++)if(_.bBoxIntersect(or[$n],or[$n+1],wn)){Gt=In;break}}Gt&&jt(Rt,Gt)}}),qe._tickAngles&&on.push(function(){qe._tickAngles[wt]=null===Gt?A(Ot)?Ot:0:Gt});var Jt=function(){var $n=0,nr=0;return Rt.each(function(or,lr){var cr,Ar=ut(this);Ar.select(".text-math-group").empty()&&(qe._vals[lr]&&(cr=qe._vals[lr].bb||n.bBox(Ar.node()),qe._vals[lr].bb=cr),$n=Math.max($n,cr.width),nr=Math.max(nr,cr.height))}),{labelsMaxW:$n,labelsMaxH:nr}},$t=qe._anchorAxis;if($t&&($t.autorange||$t.insiderange)&&Qe(qe)&&!fe(et,qe._id)&&(et._insideTickLabelsUpdaterange||(et._insideTickLabelsUpdaterange={}),$t.autorange&&(et._insideTickLabelsUpdaterange[$t._name+".autorange"]=$t.autorange,on.push(Jt)),$t.insiderange)){var tn=Jt(),dn="y"===qe._id.charAt(0)?tn.labelsMaxW:tn.labelsMaxH;dn+=6,"inside"===qe.ticklabelposition&&(dn+=qe.ticklen||0);var Gn="right"===qe.side||"top"===qe.side?1:-1,zn=1===Gn?1:0,Mn=1===Gn?0:1,ln=[];ln[Mn]=$t.range[Mn];var vn=$t.range,hn=$t.r2p(vn[zn]),_n=$t.r2p(vn[Mn]),Dn=et._insideTickLabelsUpdaterange[$t._name+".range"];if(Dn){var Pn=$t.r2p(Dn[zn]),Yn=$t.r2p(Dn[Mn]),jn=Gn*("y"===qe._id.charAt(0)?1:-1);jn*hn<jn*Pn&&(hn=Pn,ln[zn]=vn[zn]=Dn[zn]),jn*_n>jn*Yn&&(_n=Yn,ln[Mn]=vn[Mn]=Dn[Mn])}var Fn=Math.abs(_n-hn);Fn-dn>0?dn*=1+dn/(Fn-=dn):dn=0,"y"!==qe._id.charAt(0)&&(dn=-dn),ln[zn]=$t.p2r($t.r2p(vn[zn])+Gn*dn),"min"===$t.autorange||"max reversed"===$t.autorange?(ln[0]=null,$t._rangeInitial0=void 0,$t._rangeInitial1=void 0):"max"!==$t.autorange&&"min reversed"!==$t.autorange||(ln[1]=null,$t._rangeInitial0=void 0,$t._rangeInitial1=void 0),et._insideTickLabelsUpdaterange[$t._name+".range"]=ln}var Jn=_.syncOrAsync(on);return Jn&&Jn.then&&He._promises.push(Jn),Jn},ee.getPxPosition=function(He,qe){var ft,et=He._fullLayout._size,xt=qe._id.charAt(0),wt=qe.side;return"free"!==qe.anchor?ft=qe._anchorAxis:"x"===xt?ft={_offset:et.t+(1-(qe.position||0))*et.h,_length:0}:"y"===xt&&(ft={_offset:et.l+(qe.position||0)*et.w+qe._shift,_length:0}),"top"===wt||"left"===wt?ft._offset:"bottom"===wt||"right"===wt?ft._offset+ft._length:void 0},ee.shouldShowZeroLine=function(He,qe,ft){var et=_.simpleMap(qe.range,qe.r2l);return et[0]*et[1]<=0&&qe.zeroline&&("linear"===qe.type||"-"===qe.type)&&!(qe.rangebreaks&&qe.maskBreaks(0)===O)&&(_t(qe,0)||!function(xt,wt,At,yt){var Ot=At._mainAxis;if(Ot){var Ct=xt._fullLayout,Rt=wt._id.charAt(0),Bt=ee.counterLetter(wt._id),jt=wt._offset+(Math.abs(yt[0])<Math.abs(yt[1])==("x"===Rt)?0:wt._length),Gt=Ct._plots[At._mainSubplot];if(!(Gt.mainplotinfo||Gt).overlays.length)return tn(At);for(var on=ee.list(xt,Bt),Jt=0;Jt<on.length;Jt++){var $t=on[Jt];if($t._mainAxis===Ot&&tn($t))return!0}}function tn(dn){if(!dn.showline||!dn.linewidth)return!1;var Gn=Math.max((dn.linewidth+wt.zerolinewidth)/2,1);function zn(vn){return"number"==typeof vn&&Math.abs(vn-jt)<Gn}if(zn(dn._mainLinePosition)||zn(dn._mainMirrorPosition))return!0;var Mn=dn._linepositions||{};for(var ln in Mn)if(zn(Mn[ln][0])||zn(Mn[ln][1]))return!0}}(He,qe,ft,et)||function(xt,wt){for(var At=xt._fullData,yt=wt._mainSubplot,Ot=wt._id.charAt(0),Ct=0;Ct<At.length;Ct++){var Rt=At[Ct];if(!0===Rt.visible&&Rt.xaxis+Rt.yaxis===yt&&(M.traceIs(Rt,"bar-like")&&Rt.orientation==={x:"h",y:"v"}[Ot]||Rt.fill&&Rt.fill.charAt(Rt.fill.length-1)===Ot))return!0}return!1}(He,qe))},ee.clipEnds=function(He,qe){return qe.filter(function(ft){return _t(He,ft.x)})},ee.allowAutoMargin=function(He){for(var qe=ee.list(He,"",!0),ft=0;ft<qe.length;ft++){var et=qe[ft];et.automargin&&(a.allowAutoMargin(He,st(et)),et.mirror&&a.allowAutoMargin(He,Lt(et))),M.getComponentMethod("rangeslider","isVisible")(et)&&a.allowAutoMargin(He,Ut(et))}},ee.swap=function(He,qe){for(var ft=function(xt,wt){var At,yt,Ot=[];for(At=0;At<wt.length;At++){var Ct=[],Rt=xt._fullData[wt[At]].xaxis,Bt=xt._fullData[wt[At]].yaxis;if(Rt&&Bt){for(yt=0;yt<Ot.length;yt++)-1===Ot[yt].x.indexOf(Rt)&&-1===Ot[yt].y.indexOf(Bt)||Ct.push(yt);if(Ct.length){var jt,Gt=Ot[Ct[0]];if(Ct.length>1)for(yt=1;yt<Ct.length;yt++)Ht(Gt.x,(jt=Ot[Ct[yt]]).x),Ht(Gt.y,jt.y);Ht(Gt.x,[Rt]),Ht(Gt.y,[Bt])}else Ot.push({x:[Rt],y:[Bt]})}}return Ot}(He,qe),et=0;et<ft.length;et++)Pt(He,ft[et].x,ft[et].y)}},52976:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(39032).BADNUM,M=A.isArrayOrTypedArray,_=A.isDateTime,d=A.cleanNumber,s=Math.round;function t(n,r){return r?S(n):"number"==typeof n}function i(n){return Math.max(1,(n-1)/1e3)}ie.exports=function(n,r,o){var m,u=n,l=o.noMultiCategory;if(M(u)&&!u.length)return"-";if(!l&&M((m=u)[0])&&M(m[1]))return"multicategory";if(l&&Array.isArray(u[0])){for(var h=[],c=0;c<u.length;c++)if(M(u[c]))for(var b=0;b<u[c].length;b++)h.push(u[c][b]);u=h}if(function(m,v){for(var x=m.length,y=i(x),w=0,f=0,C={},T=0;T<x;T+=y){var D=m[s(T)],R=String(D);C[R]||(C[R]=1,_(D,v)&&w++,S(D)&&f++)}return w>2*f}(u,r))return"date";var p="strict"!==o.autotypenumbers;return function(m,v){for(var x=m.length,y=i(x),w=0,f=0,C={},T=0;T<x;T+=y){var D=m[s(T)],R=String(D);if(!C[R]){C[R]=1;var P=typeof D;"boolean"===P?f++:(v?d(D)!==a:"number"===P)?w++:"string"===P&&f++}}return f>2*w}(u,p)?"category":function(m,v){for(var x=m.length,y=0;y<x;y++)if(t(m[y],v))return!0;return!1}(u,p)?"linear":"-"}},28336:function(ie,z,e){"use strict";var S=e(38248),A=e(24040),a=e(3400),M=e(31780),_=e(51272),d=e(94724),s=e(26332),t=e(25404),i=e(95936),n=e(42568),r=e(22416),o=e(42136),u=e(96312),l=e(78344),h=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;function b(v,x,y){function w(B,q){return a.coerce(v,x,d.rangebreaks,B,q)}if(w("enabled")){var f=w("bounds");if(f&&f.length>=2){var C,T,D="";if(2===f.length)for(C=0;C<2;C++)if(T=m(f[C])){D=h;break}var R=w("pattern",D);if(R===h)for(C=0;C<2;C++)(T=m(f[C]))&&(x.bounds[C]=f[C]=T-1);if(R)for(C=0;C<2;C++)switch(T=f[C],R){case h:if(!S(T)||(T=+T)!==Math.floor(T)||T<0||T>=7)return void(x.enabled=!1);x.bounds[C]=f[C]=T;break;case c:if(!S(T)||(T=+T)<0||T>24)return void(x.enabled=!1);x.bounds[C]=f[C]=T}if(!1===y.autorange){var P=y.range;if(P[0]<P[1]){if(f[0]<P[0]&&f[1]>P[1])return void(x.enabled=!1)}else if(f[0]>P[0]&&f[1]<P[1])return void(x.enabled=!1)}}else{var O=w("values");if(!O||!O.length)return void(x.enabled=!1);w("dvalue")}}}ie.exports=function(v,x,y,w,f){var C,T=w.letter,D=w.font||{},R=w.splomStash||{},P=y("visible",!w.visibleDflt),B=x.type||(x._template||{}).type||"-";"date"===B&&(A.getComponentMethod("calendars","handleDefaults")(v,x,"calendar",w.calendar),w.noTicklabelmode||(C=y("ticklabelmode")));var q="";w.noTicklabelposition&&"multicategory"!==B||(q=a.coerce(v,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===C?["outside","inside"]:"x"===T?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),w.noTicklabeloverflow||y("ticklabeloverflow",-1!==q.indexOf("inside")?"hide past domain":"category"===B||"multicategory"===B?"allow":"hide past div"),l(x,f),u(v,x,y,w),r(v,x,y,w),"category"===B||w.noHover||y("hoverformat");var N=y("color"),H=N!==d.color.dflt?N:D.color,$=R.label||f._dfltTitle[T];if(n(v,x,y,B,w),!P)return x;y("title.text",$),a.coerceFont(y,"title.font",{family:D.family,weight:D.weight,style:D.style,variant:D.variant,size:a.bigFont(D.size),color:H}),s(v,x,y,B);var j=w.hasMinor;if(j&&(M.newContainer(x,"minor"),s(v,x,y,B,{isMinor:!0})),i(v,x,y,B,w),t(v,x,y,w),j){var W=w.isMinor;w.isMinor=!0,t(v,x,y,w),w.isMinor=W}o(v,x,y,{dfltColor:N,bgColor:w.bgColor,showGrid:w.showGrid,hasMinor:j,attributes:d}),!j||x.minor.ticks||x.minor.showgrid||delete x.minor,(x.showline||x.ticks)&&y("mirror");var G,ae="multicategory"===B;if(w.noTickson||"category"!==B&&!ae||!x.ticks&&!x.showgrid||(ae&&(G="boundaries"),"boundaries"===y("tickson",G)&&delete x.ticklabelposition),ae&&y("showdividers")&&(y("dividercolor"),y("dividerwidth")),"date"===B)if(_(v,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),x.rangebreaks.length){for(var te=0;te<x.rangebreaks.length;te++)if(x.rangebreaks[te].pattern===h){x._hasDayOfWeekBreaks=!0;break}if(l(x,f),f._has("scattergl")||f._has("splom"))for(var Q=0;Q<w.data.length;Q++){var ee=w.data[Q];"scattergl"!==ee.type&&"splom"!==ee.type||(ee.visible=!1,a.warn(ee.type+" traces do not work on axes with rangebreaks. Setting trace "+ee.index+" to `visible: false`."))}}else delete x.rangebreaks;return x};var p={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(v){if("string"==typeof v)return p[v.substr(0,3).toLowerCase()]}},29736:function(ie,z,e){"use strict";var S=e(26880),A=S.FORMAT_LINK,a=S.DATE_FORMAT_LINK;function M(d,s){return["Sets the "+d+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+A+"."].join(" ")}function _(d,s){return M(d,s)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ie.exports={axisHoverFormat:function(d,s){return{valType:"string",dflt:"",editType:"none",description:(s?M:_)("hover text",d)+["By default the values are formatted using "+(s?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:M,descriptionWithDates:_}},79811:function(ie,z,e){"use strict";var S=e(24040),A=e(33816);function a(M,_){if(_&&_.length)for(var d=0;d<_.length;d++)if(_[d][M])return!0;return!1}z.id2name=function(M){if("string"==typeof M&&M.match(A.AX_ID_PATTERN)){var _=M.split(" ")[0].substr(1);return"1"===_&&(_=""),M.charAt(0)+"axis"+_}},z.name2id=function(M){if(M.match(A.AX_NAME_PATTERN)){var _=M.substr(5);return"1"===_&&(_=""),M.charAt(0)+_}},z.cleanId=function(M,_,d){var s=/( domain)$/.test(M);if("string"==typeof M&&M.match(A.AX_ID_PATTERN)&&(!_||M.charAt(0)===_)&&(!s||d)){var t=M.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===t&&(t=""),M.charAt(0)+t+(s&&d?" domain":"")}},z.list=function(M,_,d){var s=M._fullLayout;if(!s)return[];var t,i=z.listIds(M,_),n=new Array(i.length);for(t=0;t<i.length;t++){var r=i[t];n[t]=s[r.charAt(0)+"axis"+r.substr(1)]}if(!d){var o=s._subplots.gl3d||[];for(t=0;t<o.length;t++){var u=s[o[t]];_?n.push(u[_+"axis"]):n.push(u.xaxis,u.yaxis,u.zaxis)}}return n},z.listIds=function(M,_){var d=M._fullLayout;if(!d)return[];var s=d._subplots;return _?s[_+"axis"]:s.xaxis.concat(s.yaxis)},z.getFromId=function(M,_,d){var s=M._fullLayout;return _=void 0===_||"string"!=typeof _?_:_.replace(" domain",""),"x"===d?_=_.replace(/y[0-9]*/,""):"y"===d&&(_=_.replace(/x[0-9]*/,"")),s[z.id2name(_)]},z.getFromTrace=function(M,_,d){var s=M._fullLayout,t=null;if(S.traceIs(_,"gl3d")){var i=_.scene;"scene"===i.substr(0,5)&&(t=s[i][d+"axis"])}else t=z.getFromId(M,_[d+"axis"]||d);return t},z.idSort=function(M,_){var d=M.charAt(0),s=_.charAt(0);return d!==s?d>s?1:-1:+(M.substr(1)||1)-+(_.substr(1)||1)},z.ref2id=function(M){return!!/^[xyz]/.test(M)&&M.split(" ")[0]},z.isLinked=function(M,_){return a(_,M._axisMatchGroups)||a(_,M._axisConstraintGroups)}},22416:function(ie,z,e){"use strict";var S=e(38116).isTypedArraySpec;ie.exports=function(A,a,M,_){if("category"===a.type){var d,s=A.categoryarray,t=Array.isArray(s)&&s.length>0||S(s);t&&(d="array");var i,n=M("categoryorder",d);"array"===n&&(i=M("categoryarray")),t||"array"!==n||(n=a.categoryorder="trace"),"trace"===n?a._initialCategories=[]:"array"===n?a._initialCategories=i.slice():(i=function(r,o){var u,l,h,c=o.dataAttr||r._id.charAt(0),b={};if(o.axData)u=o.axData;else for(u=[],l=0;l<o.data.length;l++){var p=o.data[l];p[c+"axis"]===r._id&&u.push(p)}for(l=0;l<u.length;l++){var m=u[l][c];for(h=0;h<m.length;h++){var v=m[h];null!=v&&(b[v]=1)}}return Object.keys(b)}(a,_).sort(),"category ascending"===n?a._initialCategories=i:"category descending"===n&&(a._initialCategories=i.reverse()))}}},98728:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(39032),M=a.ONEDAY,_=a.ONEWEEK;z.dtick=function(d,s){var t="log"===s,i="date"===s,n="category"===s,r=i?M:1;if(!d)return r;if(S(d))return(d=Number(d))<=0?r:n?Math.max(1,Math.round(d)):i?Math.max(.1,d):d;if("string"!=typeof d||!i&&!t)return r;var o=d.charAt(0),u=d.substr(1);return(u=S(u)?Number(u):0)<=0||!(i&&"M"===o&&u===Math.round(u)||t&&"L"===o||t&&"D"===o&&(1===u||2===u))?r:d},z.tick0=function(d,s,t,i){return"date"===s?A.cleanDate(d,A.dateTick0(t,i%_==0?1:0)):"D1"!==i&&"D2"!==i?S(d)?Number(d):0:void 0}},33816:function(ie,z,e){"use strict";var S=e(53756).counter;ie.exports={idRegex:{x:S("x","( domain)?"),y:S("y","( domain)?")},attrRegex:S("[xy]axis"),xAxisMatch:S("xaxis"),yAxisMatch:S("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(ie,z,e){"use strict";var S=e(3400),A=e(19280),a=e(79811).id2name,M=e(94724),_=e(21160),d=e(78344),s=e(39032).ALMOST_EQUAL,t=e(84284).FROM_BL;function i(c,b,p){var m=p.axIds,v=p.layoutOut,x=p.hasImage,y=v._axisConstraintGroups,w=v._axisMatchGroups,f=b._id,C=f.charAt(0),T=((v._splomAxes||{})[C]||{})[f]||{},D=b._id,R="x"===D.charAt(0);function P(re,J){return S.coerce(c,b,M,re,J)}b._matchGroup=null,b._constraintGroup=null,P("constrain",x?"domain":"range"),S.coerce(c,b,{constraintoward:{valType:"enumerated",values:R?["left","center","right"]:["bottom","middle","top"],dflt:R?"center":"middle"}},"constraintoward");var O,B,q=b.type,N=[];for(O=0;O<m.length;O++)(B=m[O])!==D&&v[a(B)].type===q&&N.push(B);var H=r(y,D);if(H){var $=[];for(O=0;O<N.length;O++)H[B=N[O]]||$.push(B);N=$}var j,W,G=N.length;G&&(c.matches||T.matches)&&(j=S.coerce(c,b,{matches:{valType:"enumerated",values:N,dflt:-1!==N.indexOf(T.matches)?T.matches:void 0}},"matches"));var ae=x&&!R?b.anchor:void 0;if(G&&!j&&(c.scaleanchor||ae)&&(W=S.coerce(c,b,{scaleanchor:{valType:"enumerated",values:N.concat([!1])}},"scaleanchor",ae)),j){b._matchGroup=o(w,D,j,1);var te=v[a(j)],Q=n(v,b)/n(v,te);R!==("x"===j.charAt(0))&&(Q=(R?"x":"y")+Q),o(y,D,j,Q)}else c.matches&&-1!==m.indexOf(c.matches)&&S.warn("ignored "+b._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(W){var ee=P("scaleratio");ee||(ee=b.scaleratio=1),o(y,D,W,ee)}else c.scaleanchor&&-1!==m.indexOf(c.scaleanchor)&&S.warn("ignored "+b._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function n(c,b){var p=b.domain;return p||(p=c[a(b.overlaying)].domain),p[1]-p[0]}function r(c,b){for(var p=0;p<c.length;p++)if(c[p][b])return c[p];return null}function o(c,b,p,m){var v,x,y,w,f,C=r(c,b);null===C?((C={})[b]=1,f=c.length,c.push(C)):f=c.indexOf(C);var T=Object.keys(C);for(v=0;v<c.length;v++)if(y=c[v],v!==f&&y[p]){var D=y[p];for(x=0;x<T.length;x++)y[w=T[x]]=u(D,u(m,C[w]));return void c.splice(f,1)}if(1!==m)for(x=0;x<T.length;x++){var R=T[x];C[R]=u(m,C[R])}C[p]=1}function u(c,b){var p,m,v="",x="";"string"==typeof c&&(p=(v=c.match(/^[xy]*/)[0]).length,c=+c.substr(p)),"string"==typeof b&&(m=(x=b.match(/^[xy]*/)[0]).length,b=+b.substr(m));var y=c*b;return p||m?p&&m&&v.charAt(0)!==x.charAt(0)?p===m?y:(p>m?v.substr(m):x.substr(p))+y:v+x+c*b:y}function l(c,b){for(var p=b._size,m=p.h/p.w,v={},x=Object.keys(c),y=0;y<x.length;y++){var w=x[y],f=c[w];if("string"==typeof f){var C=f.match(/^[xy]*/)[0],T=C.length;f=+f.substr(T);for(var D="y"===C.charAt(0)?m:1/m,R=0;R<T;R++)f*=D}v[w]=f}return v}function h(c,b){var p=c._inputDomain,v=p[0]+(p[1]-p[0])*t[c.constraintoward];c.domain=c._input.domain=[v+(p[0]-v)/b,v+(p[1]-v)/b],c.setScale()}z.handleDefaults=function(c,b,p){var m,v,x,y,w,f,C,T,D=p.axIds,R=p.axHasImage,P=b._axisConstraintGroups=[],O=b._axisMatchGroups=[];for(m=0;m<D.length;m++)i(w=c[y=a(D[m])],f=b[y],{axIds:D,layoutOut:b,hasImage:R[y]});function B(te,Q){for(m=0;m<te.length;m++)for(x in v=te[m])b[a(x)][Q]=v}for(B(O,"_matchGroup"),m=0;m<P.length;m++)for(x in v=P[m])if((f=b[a(x)]).fixedrange){for(var q in v){var N=a(q);!1===(c[N]||{}).fixedrange&&S.warn("fixedrange was specified as false for axis "+N+" but was overridden because another axis in its constraint group has fixedrange true"),b[N].fixedrange=!0}break}for(m=0;m<P.length;){for(x in v=P[m]){(f=b[a(x)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(v).length&&(P.splice(m,1),m--);break}m++}B(P,"_constraintGroup");var H=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],$=!1,j=!1;function W(){T=f[C],"rangebreaks"===C&&(j=f._hasDayOfWeekBreaks)}for(m=0;m<O.length;m++){v=O[m];for(var G=0;G<H.length;G++){var ae;for(x in C=H[G],T=null,v)if(w=c[y=a(x)],C in(f=b[y])){if(!f.matches&&(ae=f,C in w)){W();break}null===T&&C in w&&W()}if("range"===C&&T&&w.range&&2===w.range.length&&null!==w.range[0]&&null!==w.range[1]&&($=!0),"autorange"===C&&null===T&&$&&(T=!1),null===T&&C in ae&&(T=ae[C]),null!==T)for(x in v)(f=b[a(x)])[C]="range"===C?T.slice():T,"rangebreaks"===C&&(f._hasDayOfWeekBreaks=j,d(f,b))}}},z.enforce=function(c){var b,p,m,v,x,y,w,f,C=c._fullLayout,T=C._axisConstraintGroups||[];for(b=0;b<T.length;b++){m=l(T[b],C);var D=Object.keys(m),R=1/0,P=0,O=1/0,B={},q={},N=!1;for(p=0;p<D.length;p++)q[v=D[p]]=x=C[a(v)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),B[v]=y=Math.abs(x._m)/m[v],R=Math.min(R,y),"domain"!==x.constrain&&x._constraintShrinkable||(O=Math.min(O,y)),delete x._constraintShrinkable,P=Math.max(P,y),"domain"===x.constrain&&(N=!0);if(!(R>s*P)||N)for(p=0;p<D.length;p++)if(y=B[v=D[p]],w=(x=q[v]).constrain,y!==O||"domain"===w)if(f=y/O,"range"===w)_(x,f);else{var H=x._inputDomain,$=(x.domain[1]-x.domain[0])/(H[1]-H[0]),j=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((f/=$)*j<1){x.domain=x._input.domain=H.slice(),_(x,f);continue}if(j<1&&(x.range=x._input.range=x._inputRange.slice(),f*=j),x.autorange){var W=x.r2l(x.range[0]),G=x.r2l(x.range[1]),ae=(W+G)/2,te=ae,Q=ae,ee=Math.abs(G-ae),re=ae-ee*f*1.0001,J=ae+ee*f*1.0001,le=A.makePadFn(C,x,0),fe=A.makePadFn(C,x,1);h(x,f);var ce,ge,Te=Math.abs(x._m),Me=A.concatExtremes(c,x),we=Me.min,xe=Me.max;for(ge=0;ge<we.length;ge++)(ce=we[ge].val-le(we[ge])/Te)>re&&ce<te&&(te=ce);for(ge=0;ge<xe.length;ge++)(ce=xe[ge].val+fe(xe[ge])/Te)<J&&ce>Q&&(Q=ce);f/=(Q-te)/(2*ee),te=x.l2r(te),Q=x.l2r(Q),x.range=x._input.range=W<G?[te,Q]:[Q,te]}h(x,f)}}},z.getAxisGroup=function(c,b){for(var p=c._axisMatchGroups,m=0;m<p.length;m++)if(p[m][b])return"g"+m;return b},z.clean=function(c,b){if(b._inputDomain){for(var p=!1,m=b._id,v=c._fullLayout._axisConstraintGroups,x=0;x<v.length;x++)if(v[x][m]){p=!0;break}p&&"domain"===b.constrain||(b._input.domain=b.domain=b._inputDomain,delete b._inputDomain)}}},51184:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=A.numberFormat,M=e(49760),_=e(89184),d=e(24040),s=A.strTranslate,t=e(72736),i=e(76308),n=e(43616),r=e(93024),o=e(54460),u=e(93972),l=e(86476),h=e(72760),c=h.selectingOrDrawing,b=h.freeMode,p=e(84284).FROM_TL,m=e(73696),v=e(39172).redrawReglTraces,x=e(7316),y=e(79811).getFromId,w=e(22676).prepSelect,f=e(22676).clearOutline,C=e(22676).selectOnClick,T=e(21160),D=e(33816),R=D.MINDRAG,P=D.MINZOOM,O=!0;function B(ce,ge,Te,Me){var we=A.ensureSingle(ce.draglayer,ge,Te,function(xe){xe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ce.id)});return we.call(u,Me),we.node()}function q(ce,ge,Te,Me,we,xe,be){var ye=B(ce,"rect",ge,Te);return S.select(ye).call(n.setRect,Me,we,xe,be),ye}function N(ce,ge){for(var Te=0;Te<ce.length;Te++)if(!ce[Te].fixedrange)return ge;return""}function H(ce,ge,Te,Me,we){for(var xe=0;xe<ce.length;xe++){var be=ce[xe];if(!be.fixedrange)if(be.rangebreaks){var ye="y"===be._id.charAt(0),Ee=ye?1-Te:Te;Me[be._name+".range[0]"]=be.l2r(be.p2l((ye?1-ge:ge)*be._length)),Me[be._name+".range[1]"]=be.l2r(be.p2l(Ee*be._length))}else{var he=be._rl[0],ue=be._rl[1]-he;Me[be._name+".range[0]"]=be.l2r(he+ue*ge),Me[be._name+".range[1]"]=be.l2r(he+ue*Te)}}if(we&&we.length){var me=(ge+(1-Te))/2;H(we,me,1-me,Me,[])}}function $(ce,ge){for(var Te=0;Te<ce.length;Te++){var Me=ce[Te];if(!Me.fixedrange){if(Me.rangebreaks){var we=Me._length,xe=(Me.p2l(0+ge)-Me.p2l(0)+(Me.p2l(we+ge)-Me.p2l(we)))/2;Me.range=[Me.l2r(Me._rl[0]-xe),Me.l2r(Me._rl[1]-xe)]}else Me.range=[Me.l2r(Me._rl[0]-ge/Me._m),Me.l2r(Me._rl[1]-ge/Me._m)];Me.limitRange&&Me.limitRange()}}}function j(ce){return 1-(ce>=0?Math.min(ce,.9):1/(1/Math.max(ce,-.3)+3.222))}function W(ce,ge,Te,Me,we){return ce.append("path").attr("class","zoombox").style({fill:ge>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(Te,Me)).attr("d",we+"Z")}function G(ce,ge,Te){return ce.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(ge,Te)).attr("d","M0,0Z")}function ae(ce,ge,Te,Me,we,xe){ce.attr("d",Me+"M"+Te.l+","+Te.t+"v"+Te.h+"h"+Te.w+"v-"+Te.h+"h-"+Te.w+"Z"),te(ce,ge,we,xe)}function te(ce,ge,Te,Me){Te||(ce.transition().style("fill",Me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ge.transition().style("opacity",1).duration(200))}function Q(ce){S.select(ce).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ee(ce){O&&ce.data&&ce._context.showTips&&(A.notifier(A._(ce,"Double-click to zoom back out"),"long"),O=!1)}function re(ce){var ge=Math.floor(Math.min(ce.b-ce.t,ce.r-ce.l,P)/2);return"M"+(ce.l-3.5)+","+(ce.t-.5+ge)+"h3v"+-ge+"h"+ge+"v-3h-"+(ge+3)+"ZM"+(ce.r+3.5)+","+(ce.t-.5+ge)+"h-3v"+-ge+"h"+-ge+"v-3h"+(ge+3)+"ZM"+(ce.r+3.5)+","+(ce.b+.5-ge)+"h-3v"+ge+"h"+-ge+"v3h"+(ge+3)+"ZM"+(ce.l-3.5)+","+(ce.b+.5-ge)+"h3v"+ge+"h"+ge+"v3h-"+(ge+3)+"Z"}function J(ce,ge,Te,Me,we){for(var xe,be,ye,Se,Ee=!1,he={},ue={},me=(we||{}).xaHash,Pe=(we||{}).yaHash,Ce=0;Ce<ge.length;Ce++){var Ie=ge[Ce];for(xe in Te)if(Ie[xe]){for(ye in Ie)we&&(me[ye]||Pe[ye])||("x"===ye.charAt(0)?Te:Me)[ye]||(he[ye]=xe);for(be in Me)we&&(me[be]||Pe[be])||!Ie[be]||(Ee=!0)}for(be in Me)if(Ie[be])for(Se in Ie)we&&(me[Se]||Pe[Se])||("x"===Se.charAt(0)?Te:Me)[Se]||(ue[Se]=be)}Ee&&(A.extendFlat(he,ue),ue={});var Oe={},ze=[];for(ye in he){var je=y(ce,ye);ze.push(je),Oe[je._id]=je}var ve={},Ae=[];for(Se in ue){var Le=y(ce,Se);Ae.push(Le),ve[Le._id]=Le}return{xaHash:Oe,yaHash:ve,xaxes:ze,yaxes:Ae,xLinks:he,yLinks:ue,isSubplotConstrained:Ee}}function le(ce,ge){if(_){var Te=void 0!==ce.onwheel?"wheel":"mousewheel";ce._onwheel&&ce.removeEventListener(Te,ce._onwheel),ce._onwheel=ge,ce.addEventListener(Te,ge,{passive:!1})}else void 0!==ce.onwheel?ce.onwheel=ge:void 0!==ce.onmousewheel?ce.onmousewheel=ge:ce.isAddedWheelEvent||(ce.isAddedWheelEvent=!0,ce.addEventListener("wheel",ge,{passive:!1}))}function fe(ce){var ge=[];for(var Te in ce)ge.push(ce[Te]);return ge}ie.exports={makeDragBox:function(ce,ge,Te,Me,we,xe,be,ye){var Se,Ee,he,ue,me,Pe,Ce,Ie,Oe,ze,je,ve,Ae,Le,Ve,Ne,We,Xe,nt,dt,ht,Mt,kt,_t=ce._fullLayout._zoomlayer,ut=be+ye==="nsew",st=1===(be+ye).length;function Lt(){if(Oe=(Se=ge.xaxis)._length,ze=(Ee=ge.yaxis)._length,Ce=Se._offset,Ie=Ee._offset,(he={})[Se._id]=Se,(ue={})[Ee._id]=Ee,be&&ye)for(var ln=ge.overlays,vn=0;vn<ln.length;vn++){var hn=ln[vn].xaxis;he[hn._id]=hn;var _n=ln[vn].yaxis;ue[_n._id]=_n}me=fe(he),Pe=fe(ue),Ae=N(me,ye),Le=N(Pe,be),Ve=!Le&&!Ae,ve=J(ce,ce._fullLayout._axisMatchGroups,he,ue);var Dn=(je=J(ce,ce._fullLayout._axisConstraintGroups,he,ue,ve)).isSubplotConstrained||ve.isSubplotConstrained;Ne=ye||Dn,We=be||Dn;var Pn=ce._fullLayout;Xe=Pn._has("scattergl"),nt=Pn._has("splom"),dt=Pn._has("svg")}Te+=ge.yaxis._shift,Lt();var ln,Ut=(ln=Le+Ae)?"nsew"===ln?ut?"":"pan"===ce._fullLayout.dragmode?"move":"crosshair":ln.toLowerCase()+"-resize":"pointer",Ht=q(ge,be+ye+"drag",Ut,Te,Me,we,xe);if(Ve&&!ut)return Ht.onmousedown=null,Ht.style.pointerEvents="none",Ht;var Pt,Je,tt,Ge,Qe,pt,ct,He,qe,ft,et={element:Ht,gd:ce,plotinfo:ge};function xt(){et.plotinfo.selection=!1,f(ce)}function wt(ln,vn){var $n,nr,or,lr,cr,hn=et.gd;if(hn._fullLayout._activeShapeIndex>=0)hn._fullLayout._deactivateShape(hn);else{var _n=hn._fullLayout.clickmode;if(Q(hn),2!==ln||st||function $t(){if(!ce._transitioningWithDuration){var ln=ce._context.doubleClick,vn=[];Ae&&(vn=vn.concat(me)),Le&&(vn=vn.concat(Pe)),ve.xaxes&&(vn=vn.concat(ve.xaxes)),ve.yaxes&&(vn=vn.concat(ve.yaxes));var hn,_n,Dn={};if("reset+autosize"===ln)for(ln="autosize",_n=0;_n<vn.length;_n++){var Pn=(hn=vn[_n])._rangeInitial0,Yn=hn._rangeInitial1,jn=void 0!==Pn||void 0!==Yn;if(jn&&(void 0!==Pn&&Pn!==hn.range[0]||void 0!==Yn&&Yn!==hn.range[1])||!jn&&!0!==hn.autorange){ln="reset";break}}if("autosize"===ln)for(_n=0;_n<vn.length;_n++)(hn=vn[_n]).fixedrange||(Dn[hn._name+".autorange"]=!0);else if("reset"===ln)for((Ae||je.isSubplotConstrained)&&(vn=vn.concat(je.xaxes)),Le&&!je.isSubplotConstrained&&(vn=vn.concat(je.yaxes)),je.isSubplotConstrained&&(Ae?Le||(vn=vn.concat(Pe)):vn=vn.concat(me)),_n=0;_n<vn.length;_n++)if(!(hn=vn[_n]).fixedrange){var Fn=hn._name,Jn=hn._autorangeInitial;void 0===hn._rangeInitial0&&void 0===hn._rangeInitial1?Dn[Fn+".autorange"]=!0:void 0===hn._rangeInitial0?(Dn[Fn+".autorange"]=Jn,Dn[Fn+".range"]=[null,hn._rangeInitial1]):void 0===hn._rangeInitial1?(Dn[Fn+".range"]=[hn._rangeInitial0,null],Dn[Fn+".autorange"]=Jn):Dn[Fn+".range"]=[hn._rangeInitial0,hn._rangeInitial1]}ce.emit("plotly_doubleclick",null),d.call("_guiRelayout",ce,Dn)}}(),ut)_n.indexOf("select")>-1&&C(vn,hn,me,Pe,ge.id,et),_n.indexOf("event")>-1&&r.click(hn,vn,ge.id);else if(1===ln&&st){var Dn=be?Ee:Se,Pn="s"===be||"w"===ye?0:1,Yn=Dn._name+".range["+Pn+"]",jn=(lr=($n=Dn).range[nr=Pn],cr=Math.abs(lr-$n.range[1-nr]),"date"===$n.type?lr:"log"===$n.type?(or=Math.ceil(Math.max(0,-Math.log(cr)/Math.LN10))+3,a("."+or+"g")(Math.pow(10,lr))):(or=Math.floor(Math.log(Math.abs(lr))/Math.LN10)-Math.floor(Math.log(cr)/Math.LN10)+4,a("."+String(or)+"g")(lr))),Fn="left",Jn="middle";if(Dn.fixedrange)return;be?(Jn="n"===be?"top":"bottom","right"===Dn.side&&(Fn="right")):"e"===ye&&(Fn="right"),hn._context.showAxisRangeEntryBoxes&&S.select(Ht).call(t.makeEditable,{gd:hn,immediate:!0,background:hn._fullLayout.paper_bgcolor,text:String(jn),fill:Dn.tickfont?Dn.tickfont.color:"#444",horizontalAlign:Fn,verticalAlign:Jn}).on("edit",function($n){var nr=Dn.d2r($n);void 0!==nr&&d.call("_guiRelayout",hn,Yn,nr)})}}}function At(ln,vn){if(ce._transitioningWithDuration)return!1;var Jn,$n,hn=Math.max(0,Math.min(Oe,Mt*ln+Pt)),_n=Math.max(0,Math.min(ze,kt*vn+Je)),Dn=Math.abs(hn-Pt),Pn=Math.abs(_n-Je);function Yn(){ct="",tt.r=tt.l,tt.t=tt.b,qe.attr("d","M0,0Z")}if(tt.l=Math.min(Pt,hn),tt.r=Math.max(Pt,hn),tt.t=Math.min(Je,_n),tt.b=Math.max(Je,_n),je.isSubplotConstrained)Dn>P||Pn>P?(ct="xy",Dn/Oe>Pn/ze?(Pn=Dn*ze/Oe,Je>_n?tt.t=Je-Pn:tt.b=Je+Pn):(Dn=Pn*Oe/ze,Pt>hn?tt.l=Pt-Dn:tt.r=Pt+Dn),qe.attr("d",re(tt))):Yn();else if(ve.isSubplotConstrained)if(Dn>P||Pn>P){ct="xy";var jn=Math.min(tt.l/Oe,(ze-tt.b)/ze),Fn=Math.max(tt.r/Oe,(ze-tt.t)/ze);tt.l=jn*Oe,tt.r=Fn*Oe,tt.b=(1-jn)*ze,tt.t=(1-Fn)*ze,qe.attr("d",re(tt))}else Yn();else!Le||Pn<Math.min(Math.max(.6*Dn,R),P)?Dn<R||!Ae?Yn():(tt.t=0,tt.b=ze,ct="x",qe.attr("d","M"+((Jn=tt).l-.5)+","+(($n=Je)-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(Jn.r+.5)+","+($n-P-.5)+"h3v"+(2*P+1)+"h-3Z")):!Ae||Dn<Math.min(.6*Pn,P)?(tt.l=0,tt.r=Oe,ct="y",qe.attr("d",function(Jn,$n){return"M"+($n-P-.5)+","+(Jn.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+($n-P-.5)+","+(Jn.b+.5)+"v3h"+(2*P+1)+"v-3Z"}(tt,Pt))):(ct="xy",qe.attr("d",re(tt)));tt.w=tt.r-tt.l,tt.h=tt.b-tt.t,ct&&(ft=!0),ce._dragged=ft,ae(He,qe,tt,Qe,pt,Ge),yt(),ce.emit("plotly_relayouting",ht),pt=!0}function yt(){ht={},"xy"!==ct&&"x"!==ct||(H(me,tt.l/Oe,tt.r/Oe,ht,je.xaxes),on("x",ht)),"xy"!==ct&&"y"!==ct||(H(Pe,(ze-tt.b)/ze,(ze-tt.t)/ze,ht,je.yaxes),on("y",ht))}function Ot(){yt(),Q(ce),tn(),ee(ce)}et.prepFn=function(ln,vn,hn){var _n=et.dragmode,Dn=ce._fullLayout.dragmode;Dn!==_n&&(et.dragmode=Dn),Lt(),Mt=ce._fullLayout._invScaleX,kt=ce._fullLayout._invScaleY,Ve||(ut?ln.shiftKey?"pan"===Dn?Dn="zoom":c(Dn)||(Dn="pan"):ln.ctrlKey&&(Dn="pan"):Dn="pan"),et.minDrag=b(Dn)?1:void 0,c(Dn)?(et.xaxes=me,et.yaxes=Pe,w(ln,vn,hn,et,Dn)):(et.clickFn=wt,c(_n)&&xt(),Ve||("zoom"===Dn?(et.moveFn=At,et.doneFn=Ot,et.minDrag=1,function(Pn,Yn,jn){var Fn=Ht.getBoundingClientRect();Pt=Yn-Fn.left,Je=jn-Fn.top,ce._fullLayout._calcInverseTransform(ce);var Jn=A.apply3DTransform(ce._fullLayout._invTransform)(Pt,Je);tt={l:Pt=Jn[0],r:Pt,w:0,t:Je=Jn[1],b:Je,h:0},Ge=ce._hmpixcount?ce._hmlumcount/ce._hmpixcount:M(ce._fullLayout.plot_bgcolor).getLuminance(),pt=!1,ct="xy",ft=!1,He=W(_t,Ge,Ce,Ie,Qe="M0,0H"+Oe+"V"+ze+"H0V0"),qe=G(_t,Ce,Ie)}(0,vn,hn)):"pan"===Dn&&(et.moveFn=Gt,et.doneFn=tn))),ce._fullLayout._redrag=function(){var Pn=ce._dragdata;Pn&&Pn.element===Ht&&(c(ce._fullLayout.dragmode)||(Lt(),dn([0,0,Oe,ze]),et.moveFn(Pn.dx,Pn.dy)))}},l.init(et);var Ct=[0,0,Oe,ze],Rt=null,Bt=D.REDRAWDELAY,jt=ge.mainplot?ce._fullLayout._plots[ge.mainplot]:ge;function Gt(ln,vn){if(ln*=Mt,vn*=kt,!ce._transitioningWithDuration){if(ce._fullLayout._replotting=!0,"ew"===Ae||"ns"===Le){var hn=Ae?-ln:0,_n=Le?-vn:0;if(ve.isSubplotConstrained){if(Ae&&Le){var Dn=(ln/Oe-vn/ze)/2;hn=-(ln=Dn*Oe),_n=-(vn=-Dn*ze)}Le?hn=-_n*Oe/ze:_n=-hn*ze/Oe}return Ae&&($(me,ln),on("x")),Le&&($(Pe,vn),on("y")),dn([hn,_n,Oe,ze]),Jt(),void ce.emit("plotly_relayouting",ht)}var Pn,Yn,jn="w"===Ae==("n"===Le)?1:-1;if(Ae&&Le&&(je.isSubplotConstrained||ve.isSubplotConstrained)){var Fn=(ln/Oe+jn*vn/ze)/2;ln=Fn*Oe,vn=jn*Fn*ze}if("w"===Ae?ln=or(me,0,ln):"e"===Ae?ln=or(me,1,-ln):Ae||(ln=0),"n"===Le?vn=or(Pe,1,vn):"s"===Le?vn=or(Pe,0,-vn):Le||(vn=0),Pn="w"===Ae?ln:0,Yn="n"===Le?vn:0,je.isSubplotConstrained&&!ve.isSubplotConstrained||ve.isSubplotConstrained&&Ae&&Le&&jn>0){var Jn;if(ve.isSubplotConstrained||!Ae&&1===Le.length){for(Jn=0;Jn<me.length;Jn++)me[Jn].range=me[Jn]._r.slice(),T(me[Jn],1-vn/ze);Pn=(ln=vn*Oe/ze)/2}if(ve.isSubplotConstrained||!Le&&1===Ae.length){for(Jn=0;Jn<Pe.length;Jn++)Pe[Jn].range=Pe[Jn]._r.slice(),T(Pe[Jn],1-ln/Oe);Yn=(vn=ln*ze/Oe)/2}}ve.isSubplotConstrained&&Le||on("x"),ve.isSubplotConstrained&&Ae||on("y");var $n=Oe-ln,nr=ze-vn;!ve.isSubplotConstrained||Ae&&Le||(Ae?(Yn=Pn?0:ln*ze/Oe,nr=$n*ze/Oe):(Pn=Yn?0:vn*Oe/ze,$n=nr*Oe/ze)),dn([Pn,Yn,$n,nr]),Jt(),ce.emit("plotly_relayouting",ht)}function or(lr,cr,Ar){for(var fn,an,Vn=1-cr,En=0;En<lr.length;En++){var Wn=lr[En];if(!Wn.fixedrange){fn=Wn,an=Wn._rl[Vn]+(Wn._rl[cr]-Wn._rl[Vn])/j(Ar/Wn._length);var ar=Wn.l2r(an);!1!==ar&&void 0!==ar&&(Wn.range[cr]=ar)}}return fn._length*(fn._rl[cr]-an)/(fn._rl[cr]-fn._rl[Vn])}}function on(ln,vn){for(var hn=ve.isSubplotConstrained?{x:Pe,y:me}[ln]:ve[ln+"axes"],_n=ve.isSubplotConstrained?{x:me,y:Pe}[ln]:[],Dn=0;Dn<hn.length;Dn++){var Pn=hn[Dn],Yn=Pn._id,jn=ve.xLinks[Yn]||ve.yLinks[Yn],Fn=_n[0]||he[jn]||ue[jn];Fn&&(vn?(vn[Pn._name+".range[0]"]=vn[Fn._name+".range[0]"],vn[Pn._name+".range[1]"]=vn[Fn._name+".range[1]"]):Pn.range=Fn.range.slice())}}function Jt(){var ln,vn=[];function hn(Yn){for(ln=0;ln<Yn.length;ln++)Yn[ln].fixedrange||vn.push(Yn[ln]._id)}function _n(Yn,jn){for(ln=0;ln<Yn.length;ln++){var Fn=Yn[ln],Jn=Fn[jn];Fn.fixedrange||"sync"!==Jn.tickmode||vn.push(Jn._id)}}for(Ne&&(hn(me),hn(je.xaxes),hn(ve.xaxes),_n(ge.overlays,"xaxis")),We&&(hn(Pe),hn(je.yaxes),hn(ve.yaxes),_n(ge.overlays,"yaxis")),ht={},ln=0;ln<vn.length;ln++){var Pn=y(ce,vn[ln]);o.drawOne(ce,Pn,{skipTitle:!0}),ht[Pn._name+".range[0]"]=Pn.range[0],ht[Pn._name+".range[1]"]=Pn.range[1]}o.redrawComponents(ce,vn)}function tn(){dn([0,0,Oe,ze]),A.syncOrAsync([x.previousPromises,function(){ce._fullLayout._replotting=!1,d.call("_guiRelayout",ce,ht)}],ce)}function dn(ln){var vn,hn,_n,Dn,Pn=ce._fullLayout,Yn=Pn._plots,jn=Pn._subplots.cartesian;if(nt&&d.subplotsRegistry.splom.drag(ce),Xe)for(vn=0;vn<jn.length;vn++)if(_n=(hn=Yn[jn[vn]]).xaxis,Dn=hn.yaxis,hn._scene){var Fn=A.simpleMap(_n.range,_n.r2l),Jn=A.simpleMap(Dn.range,Dn.r2l);_n.limitRange&&_n.limitRange(),Dn.limitRange&&Dn.limitRange(),hn._scene.update({range:[(Fn=_n.range)[0],(Jn=Dn.range)[0],Fn[1],Jn[1]]})}if((nt||Xe)&&(m(ce),v(ce)),dt){var $n=ln[2]/Se._length,nr=ln[3]/Ee._length;for(vn=0;vn<jn.length;vn++){_n=(hn=Yn[jn[vn]]).xaxis,Dn=hn.yaxis;var or,lr,cr,Ar,an=(We||ve.isSubplotConstrained)&&!Dn.fixedrange&&ue[Dn._id];if((Ne||ve.isSubplotConstrained)&&!_n.fixedrange&&he[_n._id]?(or=$n,cr=ye||ve.isSubplotConstrained?ln[0]:Mn(_n,or)):ve.xaHash[_n._id]?(or=$n,cr=ln[0]*_n._length/Se._length):ve.yaHash[_n._id]?(or=nr,cr="ns"===Le?-ln[1]*_n._length/Ee._length:Mn(_n,or,{n:"top",s:"bottom"}[Le])):cr=zn(_n,or=Gn(_n,$n,nr)),or>1&&(void 0!==_n.maxallowed&&Ne===(_n.range[0]<_n.range[1]?"e":"w")||void 0!==_n.minallowed&&Ne===(_n.range[0]<_n.range[1]?"w":"e"))&&(or=1,cr=0),an?(lr=nr,Ar=be||ve.isSubplotConstrained?ln[1]:Mn(Dn,lr)):ve.yaHash[Dn._id]?(lr=nr,Ar=ln[1]*Dn._length/Ee._length):ve.xaHash[Dn._id]?(lr=$n,Ar="ew"===Ae?-ln[0]*Dn._length/Se._length:Mn(Dn,lr,{e:"right",w:"left"}[Ae])):Ar=zn(Dn,lr=Gn(Dn,$n,nr)),lr>1&&(void 0!==Dn.maxallowed&&We===(Dn.range[0]<Dn.range[1]?"n":"s")||void 0!==Dn.minallowed&&We===(Dn.range[0]<Dn.range[1]?"s":"n"))&&(lr=1,Ar=0),or||lr){or||(or=1),lr||(lr=1);var Vn=_n._offset-cr/or,En=Dn._offset-Ar/lr;hn.clipRect.call(n.setTranslate,cr,Ar).call(n.setScale,or,lr),hn.plot.call(n.setTranslate,Vn,En).call(n.setScale,1/or,1/lr),or===hn.xScaleFactor&&lr===hn.yScaleFactor||(n.setPointGroupScale(hn.zoomScalePts,or,lr),n.setTextPointsScale(hn.zoomScaleTxt,or,lr)),n.hideOutsideRangePoints(hn.clipOnAxisFalseTraces,hn),hn.xScaleFactor=or,hn.yScaleFactor=lr}}}}function Gn(ln,vn,hn){return ln.fixedrange?0:Ne&&je.xaHash[ln._id]?vn:We&&(je.isSubplotConstrained?je.xaHash:je.yaHash)[ln._id]?hn:0}function zn(ln,vn){return vn?(ln.range=ln._r.slice(),T(ln,vn),Mn(ln,vn)):0}function Mn(ln,vn,hn){return ln._length*(1-vn)*p[hn||ln.constraintoward||"middle"]}return be.length*ye.length!=1&&le(Ht,function(ln){if(ce._context._scrollZoom.cartesian||ce._fullLayout._enablescrollzoom){if(xt(),ce._transitioningWithDuration)return ln.preventDefault(),void ln.stopPropagation();Lt(),clearTimeout(Rt);var vn=-ln.deltaY;if(isFinite(vn)||(vn=ln.wheelDelta/10),isFinite(vn)){var hn,_n=Math.exp(-Math.min(Math.max(vn,-20),20)/200),Dn=jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Pn=(ln.clientX-Dn.left)/Dn.width,Yn=(Dn.bottom-ln.clientY)/Dn.height;if(Ne){for(ye||(Pn=.5),hn=0;hn<me.length;hn++)jn(me[hn],Pn,_n);on("x"),Ct[2]*=_n,Ct[0]+=Ct[2]*Pn*(1/_n-1)}if(We){for(be||(Yn=.5),hn=0;hn<Pe.length;hn++)jn(Pe[hn],Yn,_n);on("y"),Ct[3]*=_n,Ct[1]+=Ct[3]*(1-Yn)*(1/_n-1)}dn(Ct),Jt(),ce.emit("plotly_relayouting",ht),Rt=setTimeout(function(){ce._fullLayout&&(Ct=[0,0,Oe,ze],tn())},Bt),ln.preventDefault()}else A.log("Did not find wheel motion attributes: ",ln)}function jn(Fn,Jn,$n){if(!Fn.fixedrange){var nr=A.simpleMap(Fn.range,Fn.r2l),or=nr[0]+(nr[1]-nr[0])*Jn;Fn.range=nr.map(function(lr){return Fn.l2r(or+(lr-or)*$n)})}}}),Ht},makeDragger:B,makeRectDragger:q,makeZoombox:W,makeCorners:G,updateZoombox:ae,xyCorners:re,transitionZoombox:te,removeZoombox:Q,showDoubleClickNotifier:ee,attachWheelEventHandler:le}},42464:function(ie,z,e){"use strict";var S=e(33428),A=e(93024),a=e(86476),M=e(93972),_=e(51184).makeDragBox,d=e(33816).DRAGGERSIZE;z.initInteractions=function(s){var t=s._fullLayout;if(s._context.staticPlot)S.select(s).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(n,r){if((t._plots[n].mainplot&&!0)===(t._plots[r].mainplot&&!0)){var o=n.split("y"),u=r.split("y");return o[0]===u[0]?Number(o[1]||1)-Number(u[1]||1):Number(o[0]||1)-Number(u[0]||1)}return t._plots[n].mainplot?1:-1}).forEach(function(n){var r=t._plots[n],o=r.xaxis,u=r.yaxis;if(!r.mainplot){var l=_(s,r,o._offset,u._offset,o._length,u._length,"ns","ew");l.onmousemove=function(b){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===n&&s._fullLayout._plots[n]&&A.hover(s,b,n)},A.hover(s,b,n),s._fullLayout._lasthover=l,s._fullLayout._hoversubplot=n},l.onmouseout=function(b){s._dragging||(s._fullLayout._hoversubplot=null,a.unhover(s,b))},s._context.showAxisDragHandles&&(_(s,r,o._offset-d,u._offset-d,d,d,"n","w"),_(s,r,o._offset+o._length,u._offset-d,d,d,"n","e"),_(s,r,o._offset-d,u._offset+u._length,d,d,"s","w"),_(s,r,o._offset+o._length,u._offset+u._length,d,d,"s","e"))}if(s._context.showAxisDragHandles){if(n===o._mainSubplot){var h=o._mainLinePosition;"top"===o.side&&(h-=d),_(s,r,o._offset+.1*o._length,h,.8*o._length,d,"","ew"),_(s,r,o._offset,h,.1*o._length,d,"","w"),_(s,r,o._offset+.9*o._length,h,.1*o._length,d,"","e")}if(n===u._mainSubplot){var c=u._mainLinePosition;"right"!==u.side&&(c-=d),_(s,r,c,u._offset+.1*u._length,d,.8*u._length,"ns",""),_(s,r,c,u._offset+.9*u._length,d,.1*u._length,"s",""),_(s,r,c,u._offset,d,.1*u._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(n){n.target=s._fullLayout._lasthover,A.hover(s,n,t._hoversubplot)},i.onclick=function(n){n.target=s._fullLayout._lasthover,A.click(s,n)},i.onmousedown=function(n){s._fullLayout._lasthover.onmousedown(n)},z.updateFx(s)}},z.updateFx=function(s){var t=s._fullLayout;M(t._draggers,"pan"===t.dragmode?"move":"crosshair")}},36632:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(79811);ie.exports=function(M){return function(_,d){var s=_[M];if(Array.isArray(s))for(var t=S.subplotsRegistry.cartesian,i=t.idRegex,n=d._subplots,r=n.xaxis,o=n.yaxis,u=n.cartesian,l=d._has("cartesian")||d._has("gl2d"),h=0;h<s.length;h++){var c=s[h];if(A.isPlainObject(c)){var b=a.cleanId(c.xref,"x",!1),p=a.cleanId(c.yref,"y",!1),m=i.x.test(b),v=i.y.test(p);if(m||v){l||A.pushUnique(d._basePlotModules,t);var x=!1;m&&-1===r.indexOf(b)&&(r.push(b),x=!0),v&&-1===o.indexOf(p)&&(o.push(p),x=!0),x&&m&&v&&u.push(b+p)}}}}}},57952:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(3400),M=e(7316),_=e(43616),d=e(84888)._M,s=e(79811),t=e(33816),i=e(9616),n=a.ensureSingle;function r(c,b,p){return a.ensureSingle(c,b,p,function(m){m.datum(p)})}function o(c,b,p,m,v){for(var x,y,w,f=t.traceLayerClasses,C=c._fullLayout,T=C._modules,D={},R=0;R<p.length;R++){var P=p[R][0].trace.zorder||0;D[P]||(D[P]=[]),D[P].push(p[R])}for(var O=[],B=[],q=Object.keys(D).map(Number).sort(a.sorterAsc),N=0;N<q.length;N++)for(var H=q[N],$=0;$<T.length;$++){var j=(x=T[$]).name,W=A.modules[j].categories;if(W.svg){var G=x.layerName||j+"layer",ae=G+(N?Number(N)+1:""),te=x.plot;w=(y=d(p,te,H))[0],p=y[1],w.length&&O.push({i:f.indexOf(G),zorder:N,className:ae,plotMethod:te,cdModule:w}),W.zoomScale&&B.push("."+ae)}}O.sort(function(re,J){return(re.zorder||0)-(J.zorder||0)||re.i-J.i});var Q=b.plot.selectAll("g.mlayer").data(O,function(re){return re.className});if(Q.enter().append("g").attr("class",function(re){return re.className}).classed("mlayer",!0).classed("rangeplot",b.isRangePlot),Q.exit().remove(),Q.order(),Q.each(function(re){var J=S.select(this),le=re.className;re.plotMethod(c,b,re.cdModule,J,m,v),-1===t.clipOnAxisFalseQuery.indexOf("."+le)&&_.setClipUrl(J,b.layerClipId,c)}),C._has("scattergl")&&(x=A.getModule("scattergl"),w=d(p,x)[0],x.plot(c,b,w)),!c._context.staticPlot&&(b._hasClipOnAxisFalse&&(b.clipOnAxisFalseTraces=b.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),B.length)){var ee=b.plot.selectAll(B.join(",")).selectAll(".trace");b.zoomScalePts=ee.selectAll("path.point"),b.zoomScaleTxt=ee.selectAll(".textpoint")}}function u(c,b){var p=b.plotgroup,m=b.id,v=t.layerValue2layerClass[b.xaxis.layer],x=t.layerValue2layerClass[b.yaxis.layer],y=c._fullLayout._hasOnlyLargeSploms;if(b.mainplot){var w=b.mainplotinfo,f=w.plotgroup,C=m+"-x",T=m+"-y";b.minorGridlayer=w.minorGridlayer,b.gridlayer=w.gridlayer,b.zerolinelayer=w.zerolinelayer,n(w.overlinesBelow,"path",C),n(w.overlinesBelow,"path",T),n(w.overaxesBelow,"g",C),n(w.overaxesBelow,"g",T),b.plot=n(w.overplot,"g",m),n(w.overlinesAbove,"path",C),n(w.overlinesAbove,"path",T),n(w.overaxesAbove,"g",C),n(w.overaxesAbove,"g",T),b.xlines=f.select(".overlines-"+v).select("."+C),b.ylines=f.select(".overlines-"+x).select("."+T),b.xaxislayer=f.select(".overaxes-"+v).select("."+C),b.yaxislayer=f.select(".overaxes-"+x).select("."+T)}else if(y)b.xlines=n(p,"path","xlines-above"),b.ylines=n(p,"path","ylines-above"),b.xaxislayer=n(p,"g","xaxislayer-above"),b.yaxislayer=n(p,"g","yaxislayer-above");else{var D=n(p,"g","layer-subplot");b.shapelayer=n(D,"g","shapelayer"),b.imagelayer=n(D,"g","imagelayer"),b.minorGridlayer=n(p,"g","minor-gridlayer"),b.gridlayer=n(p,"g","gridlayer"),b.zerolinelayer=n(p,"g","zerolinelayer");var R=n(p,"g","layer-between");b.shapelayerBetween=n(R,"g","shapelayer"),b.imagelayerBetween=n(R,"g","imagelayer"),n(p,"path","xlines-below"),n(p,"path","ylines-below"),b.overlinesBelow=n(p,"g","overlines-below"),n(p,"g","xaxislayer-below"),n(p,"g","yaxislayer-below"),b.overaxesBelow=n(p,"g","overaxes-below"),b.plot=n(p,"g","plot"),b.overplot=n(p,"g","overplot"),b.xlines=n(p,"path","xlines-above"),b.ylines=n(p,"path","ylines-above"),b.overlinesAbove=n(p,"g","overlines-above"),n(p,"g","xaxislayer-above"),n(p,"g","yaxislayer-above"),b.overaxesAbove=n(p,"g","overaxes-above"),b.xlines=p.select(".xlines-"+v),b.ylines=p.select(".ylines-"+x),b.xaxislayer=p.select(".xaxislayer-"+v),b.yaxislayer=p.select(".yaxislayer-"+x)}y||(r(b.minorGridlayer,"g",b.xaxis._id),r(b.minorGridlayer,"g",b.yaxis._id),b.minorGridlayer.selectAll("g").map(function(P){return P[0]}).sort(s.idSort),r(b.gridlayer,"g",b.xaxis._id),r(b.gridlayer,"g",b.yaxis._id),b.gridlayer.selectAll("g").map(function(P){return P[0]}).sort(s.idSort)),b.xlines.style("fill","none").classed("crisp",!0),b.ylines.style("fill","none").classed("crisp",!0)}function l(c,b){if(c){var p={};for(var m in c.each(function(w){var f=w[0];S.select(this).remove(),h(f,b),p[f]=!0}),b._plots)for(var v=b._plots[m].overlays||[],x=0;x<v.length;x++){var y=v[x];p[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(c,b){b._draggers.selectAll("g."+c).remove(),b._defs.select("#clip"+b._uid+c+"plot").remove()}z.name="cartesian",z.attr=["xaxis","yaxis"],z.idRoot=["x","y"],z.idRegex=t.idRegex,z.attrRegex=t.attrRegex,z.attributes=e(26720),z.layoutAttributes=e(94724),z.supplyLayoutDefaults=e(67352),z.transitionAxes=e(73736),z.finalizeSubplots=function(c,b){var p,m,v,x=b._subplots,y=x.xaxis,w=x.yaxis,f=x.cartesian,C=f.concat(x.gl2d||[]),T={},D={};for(p=0;p<C.length;p++){var R=C[p].split("y");T[R[0]]=1,D["y"+R[1]]=1}for(p=0;p<y.length;p++)T[m=y[p]]||(v=(c[s.id2name(m)]||{}).anchor,t.idRegex.y.test(v)||(v="y"),f.push(m+v),C.push(m+v),D[v]||(D[v]=1,a.pushUnique(w,v)));for(p=0;p<w.length;p++)D[v=w[p]]||(m=(c[s.id2name(v)]||{}).anchor,t.idRegex.x.test(m)||(m="x"),f.push(m+v),C.push(m+v),T[m]||(T[m]=1,a.pushUnique(y,m)));if(!C.length){for(var P in m="",v="",c)t.attrRegex.test(P)&&("x"===P.charAt(0)?(!m||+P.substr(5)<+m.substr(5))&&(m=P):(!v||+P.substr(5)<+v.substr(5))&&(v=P));m=m?s.name2id(m):"x",v=v?s.name2id(v):"y",y.push(m),w.push(v),f.push(m+v)}},z.plot=function(c,b,p,m){var v,x=c._fullLayout,y=x._subplots.cartesian,w=c.calcdata;if(!Array.isArray(b))for(b=[],v=0;v<w.length;v++)b.push(v);for(v=0;v<y.length;v++){for(var f,C=y[v],T=x._plots[C],D=[],R=0;R<w.length;R++){var P=w[R],O=P[0].trace;O.xaxis+O.yaxis===C&&((-1!==b.indexOf(O.index)||O.carpet)&&(f&&f[0].trace.xaxis+f[0].trace.yaxis===C&&-1!==["tonextx","tonexty","tonext"].indexOf(O.fill)&&-1===D.indexOf(f)&&D.push(f),D.push(P)),f=P)}o(c,T,D,p,m)}},z.clean=function(c,b,p,m){var v,x,y,w=m._plots||{},f=b._plots||{},C=m._subplots||{};if(m._hasOnlyLargeSploms&&!b._hasOnlyLargeSploms)for(y in w)(v=w[y]).plotgroup&&v.plotgroup.remove();var T=m._has&&m._has("gl"),D=b._has&&b._has("gl");if(T&&!D)for(y in w)(v=w[y])._scene&&v._scene.destroy();if(C.xaxis&&C.yaxis){var R=s.listIds({_fullLayout:m});for(x=0;x<R.length;x++){var P=R[x];b[s.id2name(P)]||m._infolayer.selectAll(".g-"+P+"title").remove()}}var O=m._has&&m._has("cartesian"),B=b._has&&b._has("cartesian");if(O&&!B)l(m._cartesianlayer.selectAll(".subplot"),m),m._defs.selectAll(".axesclip").remove(),delete m._axisConstraintGroups,delete m._axisMatchGroups;else if(C.cartesian)for(x=0;x<C.cartesian.length;x++){var q=C.cartesian[x];f[q]||(m._cartesianlayer.selectAll("."+q+",."+q+"-x,."+q+"-y").remove(),h(q,m))}},z.drawFramework=function(c){var b=c._fullLayout,p=function(v){var x,y,w,f,C,T,D=v._fullLayout,R=D._subplots.cartesian,P=R.length,O=[],B=[];for(x=0;x<P;x++){var H=(C=(f=D._plots[w=R[x]]).xaxis)._mainAxis._id+(T=f.yaxis)._mainAxis._id,$=D._plots[H];f.overlays=[],H!==w&&$?(f.mainplot=H,f.mainplotinfo=$,B.push(w)):(f.mainplot=void 0,f.mainplotinfo=void 0,O.push(w))}for(x=0;x<B.length;x++)(f=D._plots[w=B[x]]).mainplotinfo.overlays.push(f);var j=O.concat(B),W=new Array(P);for(x=0;x<P;x++){var G=[w=j[x],(C=(f=D._plots[w]).xaxis).layer,(T=f.yaxis).layer,C.overlaying||"",T.overlaying||""];for(y=0;y<f.overlays.length;y++)G.push(f.overlays[y].id);W[x]=G}return W}(c),m=b._cartesianlayer.selectAll(".subplot").data(p,String);m.enter().append("g").attr("class",function(v){return"subplot "+v[0]}),m.order(),m.exit().call(l,b),m.each(function(v){var x=v[0],y=b._plots[x];y.plotgroup=S.select(this),u(c,y),y.draglayer=n(b._draggers,"g",x)})},z.rangePlot=function(c,b,p){u(c,b),o(c,b,p),M.style(c)},z.toSVG=function(c){var b=c._fullLayout._glimages,p=S.select(c).selectAll(".svg-container");p.filter(function(m,v){return v===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var m=this,v=m.toDataURL("image/png");b.append("svg:image").attr({xmlns:i.svg,"xlink:href":v,preserveAspectRatio:"none",x:0,y:0,width:m.style.width,height:m.style.height})})},z.updateFx=e(42464).updateFx},94724:function(ie,z,e){"use strict";var S=e(25376),A=e(22548),a=e(98192).u,M=e(92880).extendFlat,_=e(31780).templatedArray,d=e(29736).descriptionWithDates,s=e(39032).ONEDAY,t=e(33816),i=t.HOUR_PATTERN,n=t.WEEKDAY_PATTERN,r={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},o=M({},r,{values:r.values.slice().concat(["sync"])});function u(C){return{valType:"integer",min:0,dflt:C?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function p(C){var T={valType:"number",min:0,editType:"ticks"};return C||(T.dflt=5),T}function m(C){var T={valType:"number",min:0,editType:"ticks"};return C||(T.dflt=1),T}var v={valType:"color",dflt:A.defaultLine,editType:"ticks"},x={valType:"color",dflt:A.lightLine,editType:"ticks"};function y(C){var T={valType:"number",min:0,editType:"ticks"};return C||(T.dflt=1),T}var w=M({},a,{editType:"ticks"}),f={valType:"boolean",editType:"ticks"};ie.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:A.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:S({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:_("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[n,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:o,nticks:u(),tick0:l,dtick:h,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:p(),tickwidth:m(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:M({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:S({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:_("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:A.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:f,gridcolor:x,gridwidth:y(),griddash:w,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:A.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:A.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:r,nticks:u("minor"),tick0:l,dtick:h,tickvals:c,ticks:b,ticklen:p("minor"),tickwidth:m("minor"),tickcolor:v,gridcolor:x,gridwidth:y("minor"),griddash:w,showgrid:f,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:S({editType:"ticks"})}}},67352:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(10624).isUnifiedHover,M=e(41008),_=e(31780),d=e(64859),s=e(94724),t=e(14944),i=e(28336),n=e(71888),r=e(37668),o=e(79811),u=o.id2name,l=o.name2id,h=e(33816).AX_ID_PATTERN,c=e(24040),b=c.traceIs,p=c.getComponentMethod;function m(v,x,y){Array.isArray(v[x])?v[x].push(y):v[x]=[y]}ie.exports=function(v,x,y){var w,f,C=x.autotypenumbers,T={},D={},R={},P={},O={},B={},q={},N={},H={},$={};for(w=0;w<y.length;w++){var j=y[w];if(b(j,"cartesian")||b(j,"gl2d")){var W,G;if(j.xaxis)W=u(j.xaxis),m(T,W,j);else if(j.xaxes)for(f=0;f<j.xaxes.length;f++)m(T,u(j.xaxes[f]),j);if(j.yaxis)G=u(j.yaxis),m(T,G,j);else if(j.yaxes)for(f=0;f<j.yaxes.length;f++)m(T,u(j.yaxes[f]),j);"funnel"===j.type?"h"===j.orientation?(W&&(D[W]=!0),G&&(q[G]=!0)):G&&(R[G]=!0):"image"===j.type?(G&&(N[G]=!0),W&&(N[W]=!0)):(G&&(O[G]=!0,B[G]=!0),b(j,"carpet")&&("carpet"!==j.type||j._cheater)||W&&(P[W]=!0)),"carpet"===j.type&&j._cheater&&W&&(D[W]=!0),b(j,"2dMap")&&(H[W]=!0,H[G]=!0),b(j,"oriented")&&($["h"===j.orientation?G:W]=!0)}}var ae=x._subplots,te=ae.xaxis,Q=ae.yaxis,ee=S.simpleMap(te,u),re=S.simpleMap(Q,u),J=ee.concat(re),le=A.background;te.length&&Q.length&&(le=S.coerce(v,x,d,"plot_bgcolor"));var fe,ce,ge,Te,Me,we=A.combine(le,x.paper_bgcolor);function xe(){Me._traceIndices=(T[fe]||[]).map(function(Lt){return Lt._expandedIndex}),Me._annIndices=[],Me._shapeIndices=[],Me._selectionIndices=[],Me._imgIndices=[],Me._subplotsWith=[],Me._counterAxes=[],Me._name=Me._attr=fe,Me._id=ce}function be(st,Lt){return S.coerce(Te,Me,s,st,Lt)}function ye(st,Lt){return S.coerce2(Te,Me,s,st,Lt)}function Se(st){return"x"===st?Q:te}function Ee(st,Lt){for(var Ut="x"===st?ee:re,Ht=[],Pt=0;Pt<Ut.length;Pt++){var Je=Ut[Pt];Je===Lt||(v[Je]||{}).overlaying||Ht.push(l(Je))}return Ht}var he={x:Se("x"),y:Se("y")},ue=he.x.concat(he.y),me={},Pe=[];function Ce(){var st=Te.matches;h.test(st)&&-1===ue.indexOf(st)&&(me[st]=Te.type,Pe=Object.keys(me))}var Ie=M(v,x),Oe=a(Ie);for(w=0;w<J.length;w++){ce=l(fe=J[w]),ge=fe.charAt(0),S.isPlainObject(v[fe])||(v[fe]={}),Te=v[fe],Me=_.newContainer(x,fe,ge+"axis"),xe();var ve={hasMinor:!0,letter:ge,font:x.font,outerTicks:H[fe],showGrid:!$[fe],data:T[fe]||[],bgColor:we,calendar:x.calendar,automargin:!0,visibleDflt:"x"===ge&&!P[fe]&&D[fe]||"y"===ge&&!O[fe]&&R[fe],reverseDflt:"y"===ge&&(!B[fe]&&q[fe]||N[fe]),autotypenumbersDflt:C,splomStash:((x._splomAxes||{})[ge]||{})[ce],noAutotickangles:"y"===ge};be("uirevision",x.uirevision),t(Te,Me,be,ve),i(Te,Me,be,ve,x);var Ae=Oe&&ge===Ie.charAt(0),Le=ye("spikecolor",Oe?Me.color:void 0),Ve=ye("spikethickness",Oe?1.5:void 0),Ne=ye("spikedash",Oe?"dot":void 0),We=ye("spikemode",Oe?"across":void 0),Xe=ye("spikesnap");be("showspikes",!!(Ae||Le||Ve||Ne||We||Xe))||(delete Me.spikecolor,delete Me.spikethickness,delete Me.spikedash,delete Me.spikemode,delete Me.spikesnap);var nt=u(Te.overlaying),dt=[0,1];if(void 0!==x[nt]){var ht=u(x[nt].anchor);void 0!==x[ht]&&(dt=x[ht].domain)}r(Te,Me,be,{letter:ge,counterAxes:he[ge],overlayableAxes:Ee(ge,fe),grid:x.grid,overlayingDomain:dt}),be("title.standoff"),Ce(),Me._input=Te}for(w=0;w<Pe.length;){ce=Pe[w++],ge=(fe=u(ce)).charAt(0),S.isPlainObject(v[fe])||(v[fe]={}),Te=v[fe],Me=_.newContainer(x,fe,ge+"axis"),xe();var Mt={letter:ge,font:x.font,outerTicks:H[fe],showGrid:!$[fe],data:[],bgColor:we,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:C,splomStash:((x._splomAxes||{})[ge]||{})[ce]};be("uirevision",x.uirevision),Me.type=me[ce]||"linear",i(Te,Me,be,Mt,x),r(Te,Me,be,{letter:ge,counterAxes:he[ge],overlayableAxes:Ee(ge,fe),grid:x.grid}),be("fixedrange"),Ce(),Me._input=Te}var kt=p("rangeslider","handleDefaults"),_t=p("rangeselector","handleDefaults");for(w=0;w<ee.length;w++)Te=v[fe=ee[w]],Me=x[fe],kt(v,x,fe),"date"===Me.type&&_t(Te,Me,x,re,Me.calendar),be("fixedrange");for(w=0;w<re.length;w++){Te=v[fe=re[w]];var ut=x[u((Me=x[fe]).anchor)];be("fixedrange",p("rangeslider","isVisible")(ut))}n.handleDefaults(v,x,{axIds:ue.concat(Pe).sort(o.idSort),axHasImage:N})}},42136:function(ie,z,e){"use strict";var S=e(49760).mix,A=e(22548),a=e(3400);ie.exports=function(M,_,d,s){var t=(s=s||{}).dfltColor;function i(v,x){return a.coerce2(M,_,s.attributes,v,x)}var n=i("linecolor",t),r=i("linewidth");d("showline",s.showLine||!!n||!!r)||(delete _.linecolor,delete _.linewidth);var o=i("gridcolor",S(t,s.bgColor,s.blend||A.lightFraction).toRgbString()),u=i("gridwidth"),l=i("griddash");if(d("showgrid",s.showGrid||!!o||!!u||!!l)||(delete _.gridcolor,delete _.gridwidth,delete _.griddash),s.hasMinor){var h=i("minor.gridcolor",S(_.gridcolor,s.bgColor,67).toRgbString()),c=i("minor.gridwidth",_.gridwidth||1),b=i("minor.griddash",_.griddash||"solid");d("minor.showgrid",!!h||!!c||!!b)||(delete _.minor.gridcolor,delete _.minor.gridwidth,delete _.minor.griddash)}if(!s.noZeroLine){var p=i("zerolinecolor",t),m=i("zerolinewidth");d("zeroline",s.showGrid||!!p||!!m)||(delete _.zerolinecolor,delete _.zerolinewidth)}}},37668:function(ie,z,e){"use strict";var S=e(38248),A=e(3400);ie.exports=function(a,M,_,d){var s,t,i,n,r,o,u=d.counterAxes||[],l=d.overlayableAxes||[],h=d.letter,c=d.grid,b=d.overlayingDomain;c&&(s=c._anchors[M._id],(t=c._domains[h][c._axisMap[M._id]])&&(i=c[h+"side"].split(" ")[0],n=c.domain[h]["right"===i||"top"===i?1:0])),t=t||[0,1],s=s||(S(a.position)?"free":u[0]||"free"),i=i||("x"===h?"bottom":"left"),n=n||0,r=0,o=!1;var p=A.coerce(a,M,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:s}},"anchor"),m=A.coerce(a,M,{side:{valType:"enumerated",values:"x"===h?["bottom","top"]:["left","right"],dflt:i}},"side");"free"===p&&("y"===h&&(_("autoshift")&&(n="left"===m?b[0]:b[1],o=!M.automargin||M.automargin,r="left"===m?-3:3),_("shift",r)),_("position",n)),_("automargin",o);var v=!1;if(l.length&&(v=A.coerce(a,M,{overlaying:{valType:"enumerated",values:[!1].concat(l),dflt:!1}},"overlaying")),!v){var x=_("domain",t);x[0]>x[1]-.000244140625&&(M.domain=t),A.noneOrAll(a.domain,M.domain,t),"sync"===M.tickmode&&(M.tickmode="auto")}return _("layer"),M}},42568:function(ie,z,e){"use strict";var S=e(85024);ie.exports=function(A,a,M,_,d){d||(d={});var s=d.tickSuffixDflt,t=S(A);M("tickprefix")&&M("showtickprefix",t),M("ticksuffix",s)&&M("showticksuffix",t)}},96312:function(ie,z,e){"use strict";var S=e(76808);ie.exports=function(A,a,M,_){var s=a.type||(a._template||{}).type||"-";M("minallowed"),M("maxallowed");var t,i=M("range");i||_.noInsiderange||"log"===s||(!(t=M("insiderange"))||null!==t[0]&&null!==t[1]||(a.insiderange=!1,t=void 0),t&&(i=M("range",t)));var n,r=a.getAutorangeDflt(i,_),o=M("autorange",r);!i||(null!==i[0]||null!==i[1])&&(null!==i[0]&&null!==i[1]||"reversed"!==o&&!0!==o)&&(null===i[0]||"min"!==o&&"max reversed"!==o)&&(null===i[1]||"max"!==o&&"min reversed"!==o)||(i=void 0,delete a.range,a.autorange=!0,n=!0),n||(o=M("autorange",r=a.getAutorangeDflt(i,_))),o&&(S(M,o,i),"linear"!==s&&"-"!==s||M("rangemode")),a.cleanRange()}},21160:function(ie,z,e){"use strict";var S=e(84284).FROM_BL;ie.exports=function(A,a,M){void 0===M&&(M=S[A.constraintoward||"center"]);var _=[A.r2l(A.range[0]),A.r2l(A.range[1])],d=_[0]+(_[1]-_[0])*M;A.range=A._input.range=[A.l2r(d+(_[0]-d)*a),A.l2r(d+(_[1]-d)*a)],A.setScale()}},78344:function(ie,z,e){"use strict";var S=e(33428),A=e(94336).E9,a=e(3400),M=a.numberFormat,_=e(38248),d=a.cleanNumber,s=a.ms2DateTime,t=a.dateTime2ms,i=a.ensureNumber,n=a.isArrayOrTypedArray,r=e(39032),o=r.FP_SAFE,u=r.BADNUM,l=r.LOG_CLIP,h=r.ONEWEEK,c=r.ONEDAY,b=r.ONEHOUR,p=r.ONEMIN,m=r.ONESEC,v=e(79811),x=e(33816),y=x.HOUR_PATTERN,w=x.WEEKDAY_PATTERN;function f(T){return Math.pow(10,T)}function C(T){return null!=T}ie.exports=function(T,D){D=D||{};var R=T._id||"x",P=R.charAt(0);function O(J,le){if(J>0)return Math.log(J)/Math.LN10;if(J<=0&&le&&T.range&&2===T.range.length){var fe=T.range[0],ce=T.range[1];return.5*(fe+ce-2*l*Math.abs(fe-ce))}return u}function B(J,le,fe,ce){if((ce||{}).msUTC&&_(J))return+J;var ge=t(J,fe||T.calendar);if(ge===u){if(!_(J))return u;J=+J;var Te=Math.floor(10*a.mod(J+.05,1)),Me=Math.round(J-Te/10);ge=t(new Date(Me))+Te/10}return ge}function q(J,le,fe){return s(J,le,fe||T.calendar)}function N(J){return T._categories[Math.round(J)]}function H(J){if(C(J)){if(void 0===T._categoriesMap&&(T._categoriesMap={}),void 0!==T._categoriesMap[J])return T._categoriesMap[J];T._categories.push("number"==typeof J?String(J):J);var le=T._categories.length-1;return T._categoriesMap[J]=le,le}return u}function $(J){if(T._categoriesMap)return T._categoriesMap[J]}function j(J){var le=$(J);return void 0!==le?le:_(J)?+J:void 0}function W(J){return _(J)?+J:$(J)}function G(J,le,fe){return S.round(fe+le*J,2)}function ae(J,le,fe){return(J-fe)/le}var te=function(J){return _(J)?G(J,T._m,T._b):u},Q=function(J){return ae(J,T._m,T._b)};if(T.rangebreaks){var ee="y"===P;te=function(J){if(!_(J))return u;var le=T._rangebreaks.length;if(!le)return G(J,T._m,T._b);var fe=ee;T.range[0]>T.range[1]&&(fe=!fe);for(var ce=fe?-1:1,ge=ce*J,Te=0,Me=0;Me<le;Me++){var we=ce*T._rangebreaks[Me].min,xe=ce*T._rangebreaks[Me].max;if(ge<we)break;if(!(ge>xe)){Te=ge<(we+xe)/2?Me:Me+1;break}Te=Me+1}var be=T._B[Te]||0;return isFinite(be)?G(J,T._m2,be):0},Q=function(J){var le=T._rangebreaks.length;if(!le)return ae(J,T._m,T._b);for(var fe=0,ce=0;ce<le&&!(J<T._rangebreaks[ce].pmin);ce++)J>T._rangebreaks[ce].pmax&&(fe=ce+1);return ae(J,T._m2,T._B[fe])}}T.c2l="log"===T.type?O:i,T.l2c="log"===T.type?f:i,T.l2p=te,T.p2l=Q,T.c2p="log"===T.type?function(J,le){return te(O(J,le))}:te,T.p2c="log"===T.type?function(J){return f(Q(J))}:Q,-1!==["linear","-"].indexOf(T.type)?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=d,T.c2d=T.c2r=T.l2d=T.l2r=i,T.d2p=T.r2p=function(J){return T.l2p(d(J))},T.p2d=T.p2r=Q,T.cleanPos=i):"log"===T.type?(T.d2r=T.d2l=function(J,le){return O(d(J),le)},T.r2d=T.r2c=function(J){return f(d(J))},T.d2c=T.r2l=d,T.c2d=T.l2r=i,T.c2r=O,T.l2d=f,T.d2p=function(J,le){return T.l2p(T.d2r(J,le))},T.p2d=function(J){return f(Q(J))},T.r2p=function(J){return T.l2p(d(J))},T.p2r=Q,T.cleanPos=i):"date"===T.type?(T.d2r=T.r2d=a.identity,T.d2c=T.r2c=T.d2l=T.r2l=B,T.c2d=T.c2r=T.l2d=T.l2r=q,T.d2p=T.r2p=function(J,le,fe){return T.l2p(B(J,0,fe))},T.p2d=T.p2r=function(J,le,fe){return q(Q(J),le,fe)},T.cleanPos=function(J){return a.cleanDate(J,u,T.calendar)}):"category"===T.type?(T.d2c=T.d2l=H,T.r2d=T.c2d=T.l2d=N,T.d2r=T.d2l_noadd=j,T.r2c=function(J){var le=W(J);return void 0!==le?le:T.fraction2r(.5)},T.l2r=T.c2r=i,T.r2l=W,T.d2p=function(J){return T.l2p(T.r2c(J))},T.p2d=function(J){return N(Q(J))},T.r2p=T.d2p,T.p2r=Q,T.cleanPos=function(J){return"string"==typeof J&&""!==J?J:i(J)}):"multicategory"===T.type&&(T.r2d=T.c2d=T.l2d=N,T.d2r=T.d2l_noadd=j,T.r2c=function(J){var le=j(J);return void 0!==le?le:T.fraction2r(.5)},T.r2c_just_indices=$,T.l2r=T.c2r=i,T.r2l=j,T.d2p=function(J){return T.l2p(T.r2c(J))},T.p2d=function(J){return N(Q(J))},T.r2p=T.d2p,T.p2r=Q,T.cleanPos=function(J){return Array.isArray(J)||"string"==typeof J&&""!==J?J:i(J)},T.setupMultiCategory=function(J){var le,fe,ce=T._traceIndices,ge=T._matchGroup;if(ge&&0===T._categories.length)for(var Te in ge)if(Te!==R){var Me=D[v.id2name(Te)];ce=ce.concat(Me._traceIndices)}var we=[[0,{}],[0,{}]],xe=[];for(le=0;le<ce.length;le++){var be=J[ce[le]];if(P in be){var ye=be[P],Se=be._length||a.minRowLength(ye);if(n(ye[0])&&n(ye[1]))for(fe=0;fe<Se;fe++){var Ee=ye[0][fe],he=ye[1][fe];C(Ee)&&C(he)&&(xe.push([Ee,he]),Ee in we[0][1]||(we[0][1][Ee]=we[0][0]++),he in we[1][1]||(we[1][1][he]=we[1][0]++))}}}for(xe.sort(function(ue,me){var Pe=we[0][1],Ce=Pe[ue[0]]-Pe[me[0]];if(Ce)return Ce;var Ie=we[1][1];return Ie[ue[1]]-Ie[me[1]]}),le=0;le<xe.length;le++)H(xe[le])}),T.fraction2r=function(J){var le=T.r2l(T.range[0]),fe=T.r2l(T.range[1]);return T.l2r(le+J*(fe-le))},T.r2fraction=function(J){var le=T.r2l(T.range[0]),fe=T.r2l(T.range[1]);return(T.r2l(J)-le)/(fe-le)},T.limitRange=function(J){var le=T.minallowed,fe=T.maxallowed;if(void 0!==le||void 0!==fe){J||(J="range");var ce=a.nestedProperty(T,J).get(),ge=a.simpleMap(ce,T.r2l),Te=ge[1]<ge[0];Te&&ge.reverse();var Me=a.simpleMap([le,fe],T.r2l);if(void 0!==le&&ge[0]<Me[0]&&(ce[Te?1:0]=le),void 0!==fe&&ge[1]>Me[1]&&(ce[Te?0:1]=fe),ce[0]===ce[1]){var we=T.l2r(le),xe=T.l2r(fe);if(void 0!==le){var be=we+1;void 0!==fe&&(be=Math.min(be,xe)),ce[Te?1:0]=be}if(void 0!==fe){var ye=xe+1;void 0!==le&&(ye=Math.max(ye,we)),ce[Te?0:1]=ye}}}},T.cleanRange=function(J,le){T._cleanRange(J,le),T.limitRange(J)},T._cleanRange=function(J,le){le||(le={}),J||(J="range");var fe,ce,ge=a.nestedProperty(T,J).get();if(ce=(ce="date"===T.type?a.dfltRange(T.calendar):"y"===P?x.DFLTRANGEY:"realaxis"===T._name?[0,1]:le.dfltRange||x.DFLTRANGEX).slice(),"tozero"!==T.rangemode&&"nonnegative"!==T.rangemode||(ce[0]=0),ge&&2===ge.length){var Te=null===ge[0],Me=null===ge[1];for("date"!==T.type||T.autorange||(ge[0]=a.cleanDate(ge[0],u,T.calendar),ge[1]=a.cleanDate(ge[1],u,T.calendar)),fe=0;fe<2;fe++)if("date"===T.type){if(!a.isDateTime(ge[fe],T.calendar)){T[J]=ce;break}if(T.r2l(ge[0])===T.r2l(ge[1])){var we=a.constrain(T.r2l(ge[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ge[0]=T.l2r(we-1e3),ge[1]=T.l2r(we+1e3);break}}else{if(!_(ge[fe])){if(Te||Me||!_(ge[1-fe])){T[J]=ce;break}ge[fe]=ge[1-fe]*(fe?10:.1)}if(ge[fe]<-o?ge[fe]=-o:ge[fe]>o&&(ge[fe]=o),ge[0]===ge[1]){var xe=Math.max(1,Math.abs(1e-6*ge[0]));ge[0]-=xe,ge[1]+=xe}}}else a.nestedProperty(T,J).set(ce)},T.setScale=function(J){var le=D._size;if(T.overlaying){var fe=v.getFromId({_fullLayout:D},T.overlaying);T.domain=fe.domain}var ce=J&&T._r?"_r":"range",ge=T.calendar;T.cleanRange(ce);var Te,Me,we=T.r2l(T[ce][0],ge),xe=T.r2l(T[ce][1],ge),be="y"===P;if(be?(T._offset=le.t+(1-T.domain[1])*le.h,T._length=le.h*(T.domain[1]-T.domain[0]),T._m=T._length/(we-xe),T._b=-T._m*xe):(T._offset=le.l+T.domain[0]*le.w,T._length=le.w*(T.domain[1]-T.domain[0]),T._m=T._length/(xe-we),T._b=-T._m*we),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks&&(T._rangebreaks=T.locateBreaks(Math.min(we,xe),Math.max(we,xe)),T._rangebreaks.length)){for(Te=0;Te<T._rangebreaks.length;Te++)Me=T._rangebreaks[Te],T._lBreaks+=Math.abs(Me.max-Me.min);var ye=be;we>xe&&(ye=!ye),ye&&T._rangebreaks.reverse();var Se=ye?-1:1;for(T._m2=Se*T._length/(Math.abs(xe-we)-T._lBreaks),T._B.push(-T._m2*(be?xe:we)),Te=0;Te<T._rangebreaks.length;Te++)T._B.push(T._B[T._B.length-1]-Se*T._m2*((Me=T._rangebreaks[Te]).max-Me.min));for(Te=0;Te<T._rangebreaks.length;Te++)(Me=T._rangebreaks[Te]).pmin=te(Me.min),Me.pmax=te(Me.max)}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw D._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(J){var le,fe,ce,ge,Te,Me=T.rangebreaks||[];Me._cachedPatterns||(Me._cachedPatterns=Me.map(function(Ee){return Ee.enabled&&Ee.bounds?a.simpleMap(Ee.bounds,Ee.pattern?d:T.d2c):null})),Me._cachedValues||(Me._cachedValues=Me.map(function(Ee){return Ee.enabled&&Ee.values?a.simpleMap(Ee.values,T.d2c).sort(a.sorterAsc):null}));for(var we=0;we<Me.length;we++){var xe=Me[we];if(xe.enabled)if(xe.bounds){switch(fe=(le=Me._cachedPatterns[we])[0],ce=le[1],xe.pattern){case w:ge=(Te=new Date(J)).getUTCDay(),fe>ce&&(ce+=7,ge<fe&&(ge+=7));break;case y:ge=(Te=new Date(J)).getUTCHours()+(Te.getUTCMinutes()/60+Te.getUTCSeconds()/3600+Te.getUTCMilliseconds()/36e5),fe>ce&&(ce+=24,ge<fe&&(ge+=24));break;case"":ge=J}if(ge>=fe&&ge<ce)return u}else for(var ye=Me._cachedValues[we],Se=0;Se<ye.length;Se++)if(ce=(fe=ye[Se])+xe.dvalue,J>=fe&&J<ce)return u}return J},T.locateBreaks=function(J,le){var fe,ce,ge,Te,Me=[];if(!T.rangebreaks)return Me;var we=T.rangebreaks.slice().sort(function(Ie,Oe){return Ie.pattern===w&&Oe.pattern===y?-1:Oe.pattern===w&&Ie.pattern===y?1:0}),xe=function(Ie,Oe){if((Ie=a.constrain(Ie,J,le))!==(Oe=a.constrain(Oe,J,le))){for(var ze=!0,je=0;je<Me.length;je++){var ve=Me[je];Ie<ve.max&&Oe>=ve.min&&(Ie<ve.min&&(ve.min=Ie),Oe>ve.max&&(ve.max=Oe),ze=!1)}ze&&Me.push({min:Ie,max:Oe})}};for(fe=0;fe<we.length;fe++){var be=we[fe];if(be.enabled)if(be.bounds){var ye=J,Se=le;be.pattern&&(ye=Math.floor(ye)),ge=(ce=a.simpleMap(be.bounds,be.pattern?d:T.r2l))[0],Te=ce[1];var Ee,he,ue=new Date(ye);switch(be.pattern){case w:he=h,Ee=(Te-ge+(Te<ge?7:0))*c,ye+=ge*c-(ue.getUTCDay()*c+ue.getUTCHours()*b+ue.getUTCMinutes()*p+ue.getUTCSeconds()*m+ue.getUTCMilliseconds());break;case y:he=c,Ee=(Te-ge+(Te<ge?24:0))*b,ye+=ge*b-(ue.getUTCHours()*b+ue.getUTCMinutes()*p+ue.getUTCSeconds()*m+ue.getUTCMilliseconds());break;default:ye=Math.min(ce[0],ce[1]),Ee=he=(Se=Math.max(ce[0],ce[1]))-ye}for(var me=ye;me<Se;me+=he)xe(me,me+Ee)}else for(var Pe=a.simpleMap(be.values,T.d2c),Ce=0;Ce<Pe.length;Ce++)xe(ge=Pe[Ce],Te=ge+be.dvalue)}return Me.sort(function(Ie,Oe){return Ie.min-Oe.min}),Me},T.makeCalcdata=function(J,le,fe){var ce,ge,Te,Me,we=T.type,xe="date"===we&&J[le+"calendar"];if(le in J){if(ce=J[le],Me=J._length||a.minRowLength(ce),a.isTypedArray(ce)&&("linear"===we||"log"===we)){if(Me===ce.length)return ce;if(ce.subarray)return ce.subarray(0,Me)}if("multicategory"===we)return function(Se,Ee){for(var he=new Array(Ee),ue=0;ue<Ee;ue++)he[ue]=$([(Se[0]||[])[ue],(Se[1]||[])[ue]]);return he}(ce,Me);for(ge=new Array(Me),Te=0;Te<Me;Te++)ge[Te]=T.d2c(ce[Te],0,xe,fe)}else{var be=le+"0"in J?T.d2c(J[le+"0"],0,xe):0,ye=J["d"+le]?Number(J["d"+le]):1;for(ce=J[{x:"y",y:"x"}[le]],Me=J._length||ce.length,ge=new Array(Me),Te=0;Te<Me;Te++)ge[Te]=be+Te*ye}if(T.rangebreaks)for(Te=0;Te<Me;Te++)ge[Te]=T.maskBreaks(ge[Te]);return ge},T.isValidRange=function(J,le){return Array.isArray(J)&&2===J.length&&(le&&null===J[0]||_(T.r2l(J[0])))&&(le&&null===J[1]||_(T.r2l(J[1])))},T.getAutorangeDflt=function(J,le){var fe=!T.isValidRange(J,"nullOk");return fe&&le&&le.reverseDflt?fe="reversed":J&&(null===J[0]&&null===J[1]?fe=!0:null===J[0]&&null!==J[1]?fe="min":null!==J[0]&&null===J[1]&&(fe="max")),fe},T.isReversed=function(){var J=T.autorange;return"reversed"===J||"min reversed"===J||"max reversed"===J},T.isPtWithinRange=function(J,le){var fe=T.c2l(J[P],null,le),ce=T.r2l(T.range[0]),ge=T.r2l(T.range[1]);return ce<ge?ce<=fe&&fe<=ge:ge<=fe&&fe<=ce},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var J=T._matchGroup;if(J){var le=null,fe=null;for(var ce in J){var ge=D[v.id2name(ce)];if(ge._categories){le=ge._categories,fe=ge._categoriesMap;break}}le&&fe?(T._categories=le,T._categoriesMap=fe):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var Te=0;Te<T._initialCategories.length;Te++)H(T._initialCategories[Te])},T.sortByInitialCategories=function(){var J=[];if(T._emptyCategories(),T._initialCategories)for(var le=0;le<T._initialCategories.length;le++)H(T._initialCategories[le]);J=J.concat(T._traceIndices);var fe=T._matchGroup;for(var ce in fe)if(R!==ce){var ge=D[v.id2name(ce)];ge._categories=T._categories,ge._categoriesMap=T._categoriesMap,J=J.concat(ge._traceIndices)}return J};var re=D._d3locale;"date"===T.type&&(T._dateFormat=re?re.timeFormat:A,T._extraFormat=D._extraFormat),T._separators=D.separators,T._numFormat=re?re.numberFormat:M,delete T._minDtick,delete T._forceTick0}},85024:function(ie){"use strict";ie.exports=function(z){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(S){return void 0!==z[S]});if(e.every(function(S){return z[S]===z[e[0]]})||1===e.length)return z[e[0]]}},95936:function(ie,z,e){"use strict";var S=e(3400),A=e(76308).contrast,a=e(94724),M=e(85024),_=e(51272);function d(s,t){function i(n,r){return S.coerce(s,t,a.tickformatstops,n,r)}i("enabled")&&(i("dtickrange"),i("value"))}ie.exports=function(s,t,i,n,r){r||(r={});var o=i("labelalias");S.isPlainObject(o)||delete t.labelalias;var u=M(s);if(i("showticklabels")){var l=r.font||{},h=t.color,c=-1!==(t.ticklabelposition||"").indexOf("inside")?A(r.bgColor):h&&h!==a.color.dflt?h:l.color;if(S.coerceFont(i,"tickfont",{family:l.family,weight:l.weight,style:l.style,variant:l.variant,size:l.size,color:c}),r.noTicklabelstep||"multicategory"===n||"log"===n||i("ticklabelstep"),!r.noAng){var b=i("tickangle");r.noAutotickangles||"auto"!==b||i("autotickangles")}if("category"!==n){var p=i("tickformat");_(s,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),t.tickformatstops.length||delete t.tickformatstops,r.noExp||p||"date"===n||(i("showexponent",u),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},25404:function(ie,z,e){"use strict";var S=e(3400),A=e(94724);ie.exports=function(a,M,_,d){var s=d.isMinor,t=s?a.minor||{}:a,i=s?M.minor:M,n=s?A.minor:A,r=s?"minor.":"",o=S.coerce2(t,i,n,"ticklen",s?.6*(M.ticklen||5):void 0),u=S.coerce2(t,i,n,"tickwidth",s?M.tickwidth||1:void 0),l=S.coerce2(t,i,n,"tickcolor",(s?M.tickcolor:void 0)||i.color);_(r+"ticks",!s&&d.outerTicks||o||u||l?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(ie,z,e){"use strict";var S=e(98728),A=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,M=e(38116).decodeTypedArraySpec;ie.exports=function(_,d,s,t,i){i||(i={});var n=i.isMinor,r=n?_.minor||{}:_,o=n?d.minor:d,u=n?"minor.":"";function l(v){var x=r[v];return a(x)&&(x=M(x)),void 0!==x?x:(o._template||{})[v]}var h=l("tick0"),c=l("dtick"),b=l("tickvals"),p=s(u+"tickmode",A(b)?"array":c?"linear":"auto");if("auto"===p||"sync"===p)s(u+"nticks");else if("linear"===p){var m=o.dtick=S.dtick(c,t);o.tick0=S.tick0(h,t,d.calendar,m)}else"multicategory"!==t&&(void 0===s(u+"tickvals")?o.tickmode="auto":n||s("ticktext"))}},73736:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(3400),M=e(43616),_=e(54460);ie.exports=function(d,s,t,i){var n=d._fullLayout;if(0!==s.length){var r,o,u,l;i&&(r=i());var h=S.ease(t.easing);return d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(l),l=null,function(){for(var p={},m=0;m<s.length;m++){var v=s[m],y=v.plotinfo.yaxis;v.xr0&&(p[v.plotinfo.xaxis._name+".range"]=v.xr0.slice()),v.yr0&&(p[y._name+".range"]=v.yr0.slice())}return A.call("relayout",d,p).then(function(){for(var w=0;w<s.length;w++)c(s[w].plotinfo)})}()}),o=Date.now(),l=window.requestAnimationFrame(function p(){u=Date.now();for(var m=Math.min(1,(u-o)/t.duration),v=h(m),x=0;x<s.length;x++)b(s[x],v);u-o>t.duration?(function(){for(var y={},w=0;w<s.length;w++){var f=s[w],T=f.plotinfo.yaxis;f.xr1&&(y[f.plotinfo.xaxis._name+".range"]=f.xr1.slice()),f.yr1&&(y[T._name+".range"]=f.yr1.slice())}r&&r(),A.call("relayout",d,y).then(function(){for(var D=0;D<s.length;D++)c(s[D].plotinfo)})}(),l=window.cancelAnimationFrame(p)):l=window.requestAnimationFrame(p)}),Promise.resolve()}function c(p){var m=p.xaxis,v=p.yaxis;n._defs.select("#"+p.clipId+"> rect").call(M.setTranslate,0,0).call(M.setScale,1,1),p.plot.call(M.setTranslate,m._offset,v._offset).call(M.setScale,1,1);var x=p.plot.selectAll(".scatterlayer .trace");x.selectAll(".point").call(M.setPointGroupScale,1,1),x.selectAll(".textpoint").call(M.setTextPointsScale,1,1),x.call(M.hideOutsideRangePoints,p)}function b(p,m){var v=p.plotinfo,x=v.xaxis,y=v.yaxis,w=x._length,f=y._length,C=!!p.xr1,T=!!p.yr1,D=[];if(C){var R=a.simpleMap(p.xr0,x.r2l),P=a.simpleMap(p.xr1,x.r2l),O=R[1]-R[0],B=P[1]-P[0];D[0]=(R[0]*(1-m)+m*P[0]-R[0])/(R[1]-R[0])*w,D[2]=w*(1-m+m*B/O),x.range[0]=x.l2r(R[0]*(1-m)+m*P[0]),x.range[1]=x.l2r(R[1]*(1-m)+m*P[1])}else D[0]=0,D[2]=w;if(T){var q=a.simpleMap(p.yr0,y.r2l),N=a.simpleMap(p.yr1,y.r2l),H=q[1]-q[0],$=N[1]-N[0];D[1]=(q[1]*(1-m)+m*N[1]-q[1])/(q[0]-q[1])*f,D[3]=f*(1-m+m*$/H),y.range[0]=x.l2r(q[0]*(1-m)+m*N[0]),y.range[1]=y.l2r(q[1]*(1-m)+m*N[1])}else D[1]=0,D[3]=f;_.drawOne(d,x,{skipTitle:!0}),_.drawOne(d,y,{skipTitle:!0}),_.redrawComponents(d,[x._id,y._id]);var j=C?w/D[2]:1,W=T?f/D[3]:1,ee=x._offset-(C?D[0]/D[2]*w:0),re=y._offset-(T?D[1]/D[3]*f:0);v.clipRect.call(M.setTranslate,C?D[0]:0,T?D[1]:0).call(M.setScale,1/j,1/W),v.plot.call(M.setTranslate,ee,re).call(M.setScale,j,W),M.setPointGroupScale(v.zoomScalePts,1/j,1/W),M.setTextPointsScale(v.zoomScaleTxt,1/j,1/W)}_.redrawComponents(d)}},14944:function(ie,z,e){"use strict";var S=e(24040).traceIs,A=e(52976);function a(_){return{v:"x",h:"y"}[_.orientation||"v"]}function M(_,d){var s=a(_),t=S(_,"box-violin"),i=S(_._fullInput||{},"candlestick");return t&&!i&&d===s&&void 0===_[s]&&void 0===_[s+"0"]}ie.exports=function(_,d,s,t){s("autotypenumbers",t.autotypenumbersDflt),"-"===s("type",(t.splomStash||{}).type)&&(function(i,n){if("-"===i.type){var r,o=i._id,u=o.charAt(0);-1!==o.indexOf("scene")&&(o=u);var l=function(y,w,f){for(var C=0;C<y.length;C++){var T=y[C];if("splom"===T.type&&T._length>0&&(T["_"+f+"axes"]||{})[w]||(T[f+"axis"]||f)===w&&(M(T,f)||(T[f]||[]).length||T[f+"0"]))return T}}(n,o,u);if(l)if("histogram"!==l.type||u!=={v:"y",h:"x"}[l.orientation||"v"]){var h=u+"calendar",c=l[h],b={noMultiCategory:!S(l,"cartesian")||S(l,"noMultiCategory")};if("box"===l.type&&l._hasPreCompStats&&u==={h:"x",v:"y"}[l.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=i.autotypenumbers,M(l,u)){var p=a(l),m=[];for(r=0;r<n.length;r++){var v=n[r];S(v,"box-violin")&&(v[u+"axis"]||u)===o&&(m.push(void 0!==v[p]?v[p][0]:void 0!==v.name?v.name:"text"),v[h]!==c&&(c=void 0))}i.type=A(m,c,b)}else if("splom"===l.type){var x=l.dimensions[l._axesDim[o]];x.visible&&(i.type=A(x.values,c,b))}else i.type=A(l[u]||[l[u+"0"]],c,b)}else i.type="linear"}}(d,t.data),"-"===d.type?d.type="linear":_.type=d.type)}},62460:function(ie,z,e){"use strict";var S=e(24040),A=e(3400);function a(s,t,i){var n,r,o,u=!1;if("data"===t.type)n=s._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;n=s._fullLayout}return r=A.nestedProperty(n,t.prop).get(),(o=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&o[t.prop]!==r&&(u=!0),o[t.prop]=r,{changed:u,value:r}}function M(s,t){var i=[],n=t[0],r={};if("string"==typeof n)r[n]=t[1];else{if(!A.isPlainObject(n))return i;r=n}return d(r,function(o,u,l){i.push({type:"layout",prop:o,value:l})},"",0),i}function _(s,t){var i,n,r,o,u=[];if(r=t[1],i=t[2],o={},"string"==typeof(n=t[0]))o[n]=r;else{if(!A.isPlainObject(n))return u;o=n,void 0===i&&(i=r)}return void 0===i&&(i=null),d(o,function(l,h,c){var b,p;if(Array.isArray(c)){p=c.slice();var m=Math.min(p.length,s.data.length);i&&(m=Math.min(m,i.length)),b=[];for(var v=0;v<m;v++)b[v]=i?i[v]:v}else p=c,b=i?i.slice():null;if(null===b)Array.isArray(p)&&(p=p[0]);else if(Array.isArray(b)){if(!Array.isArray(p)){var x=p;p=[];for(var y=0;y<b.length;y++)p[y]=x}p.length=Math.min(b.length,p.length)}u.push({type:"data",prop:l,traces:b,value:p})},"",0),u}function d(s,t,i,n){Object.keys(s).forEach(function(r){var o=s[r];if("_"!==r[0]){var u=i+(n>0?".":"")+r;A.isPlainObject(o)?d(o,t,u,n+1):t(u,r,o)}})}z.manageCommandObserver=function(s,t,i,n){var r={},o=!0;t&&t._commandObserver&&(r=t._commandObserver),r.cache||(r.cache={}),r.lookupTable={};var u=z.hasSimpleAPICommandBindings(s,i,r.lookupTable);if(t&&t._commandObserver){if(u)return r;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,r}if(u){a(s,u,r.cache),r.check=function(){if(o){var c=a(s,u,r.cache);return c.changed&&n&&void 0!==r.lookupTable[c.value]&&(r.disable(),Promise.resolve(n({value:c.value,type:u.type,prop:u.prop,traces:u.traces,index:r.lookupTable[c.value]})).then(r.enable,r.enable)),c.changed}};for(var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<l.length;h++)s._internalOn(l[h],r.check);r.remove=function(){for(var c=0;c<l.length;c++)s._removeInternalListener(l[c],r.check)}}else A.log("Unable to automatically bind plot updates to API command"),r.lookupTable={},r.remove=function(){};return r.disable=function(){o=!1},r.enable=function(){o=!0},t&&(t._commandObserver=r),r},z.hasSimpleAPICommandBindings=function(s,t,i){var n,r,o=t.length;for(n=0;n<o;n++){var u,l=t[n],h=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!h)return!1;var b=z.computeAPICommandBindings(s,h,c);if(1!==b.length)return!1;if(r){if((u=b[0]).type!==r.type||u.prop!==r.prop)return!1;if(Array.isArray(r.traces)){if(!Array.isArray(u.traces))return!1;u.traces.sort();for(var p=0;p<r.traces.length;p++)if(r.traces[p]!==u.traces[p])return!1}else if(u.prop!==r.prop)return!1}else r=b[0],Array.isArray(r.traces)&&r.traces.sort();var m=(u=b[0]).value;if(Array.isArray(m)){if(1!==m.length)return!1;m=m[0]}i&&(i[m]=n)}return r},z.executeAPICommand=function(s,t,i){if("skip"===t)return Promise.resolve();var n=S.apiMethodRegistry[t],r=[s];Array.isArray(i)||(i=[]);for(var o=0;o<i.length;o++)r.push(i[o]);return n.apply(null,r).catch(function(u){return A.warn("API call to Plotly."+t+" rejected.",u),Promise.reject(u)})},z.computeAPICommandBindings=function(s,t,i){var n,o;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=_(s,i);break;case"relayout":n=M(0,i);break;case"update":n=_(s,[i[0],i[2]]).concat(M(0,[i[1]]));break;case"animate":o=i,n=Array.isArray(o[0])&&1===o[0].length&&-1!==["string","number"].indexOf(typeof o[0][0])?[{type:"layout",prop:"_currentFrame",value:o[0][0].toString()}]:[];break;default:n=[]}return n}},86968:function(ie,z,e){"use strict";var S=e(92880).extendFlat;z.u=function(A,a){a=a||{};var M={valType:"info_array",editType:(A=A||{}).editType,items:[{valType:"number",min:0,max:1,editType:A.editType},{valType:"number",min:0,max:1,editType:A.editType}],dflt:[0,1]},_={x:S({},M,{}),y:S({},M,{}),editType:A.editType};return A.noGridCell||(_.row={valType:"integer",min:0,dflt:0,editType:A.editType},_.column={valType:"integer",min:0,dflt:0,editType:A.editType}),_},z.Q=function(A,a,M,_){var d=_&&_.x||[0,1],s=_&&_.y||[0,1],t=a.grid;if(t){var i=M("domain.column");void 0!==i&&(i<t.columns?d=t._domains.x[i]:delete A.domain.column);var n=M("domain.row");void 0!==n&&(n<t.rows?s=t._domains.y[n]:delete A.domain.row)}var r=M("domain.x",d),o=M("domain.y",s);r[0]<r[1]||(A.domain.x=d.slice()),o[0]<o[1]||(A.domain.y=s.slice())}},25376:function(ie){"use strict";ie.exports=function(z){var S=z.editType,A=z.colorEditType;void 0===A&&(A=S);var a={family:{valType:"string",noBlank:!0,strict:!0,editType:S},size:{valType:"number",min:1,editType:S},color:{valType:"color",editType:A},weight:{editType:S,valType:"enumerated",values:["normal","bold"],dflt:"normal"},style:{editType:S,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:z.noFontVariant?void 0:{editType:S,valType:"enumerated",values:z.variantValues||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},editType:S};return z.autoSize&&(a.size.dflt="auto"),z.autoColor&&(a.color.dflt="auto"),z.arrayOk&&(a.family.arrayOk=!0,a.weight.arrayOk=!0,a.style.arrayOk=!0,a.variant.arrayOk=!0,a.size.arrayOk=!0,a.color.arrayOk=!0),a}},16672:function(ie){"use strict";ie.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(ie,z){"use strict";z.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},z.axesNames=["lonaxis","lataxis"],z.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},z.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},z.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},z.clipPad=.001,z.precision=.1,z.landColor="#F0DC82",z.waterColor="#3399FF",z.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},z.sphereSVG={type:"Sphere"},z.fillLayers={ocean:1,land:1,lakes:1},z.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},z.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],z.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],z.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(ie,z,e){"use strict";var S=e(33428),A=e(83356),a=A.geoPath,M=A.geoDistance,_=e(87108),d=e(24040),s=e(3400),t=s.strTranslate,i=e(76308),n=e(43616),r=e(93024),o=e(7316),u=e(54460),l=e(19280).getAutoRange,h=e(86476),c=e(22676).prepSelect,b=e(22676).clearOutline,p=e(22676).selectOnClick,m=e(79248),v=e(79552),x=e(27144),y=e(59972),w=e(55712).NO;function f(D){this.id=D.id,this.graphDiv=D.graphDiv,this.container=D.container,this.topojsonURL=D.topojsonURL,this.isStatic=D.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var C=f.prototype;function T(D,R){var P=v.clipPad,O=D[0]+P,B=D[1]-P,q=R[0]+P,N=R[1]-P;O>0&&B<0&&(B+=360);var H=(B-O)/4;return{type:"Polygon",coordinates:[[[O,q],[O,N],[O+H,N],[O+2*H,N],[O+3*H,N],[B,N],[B,q],[B-H,q],[B-2*H,q],[B-3*H,q],[O,q]]]}}ie.exports=function(D){return new f(D)},C.plot=function(D,R,P,O){var B=this;if(O)return B.update(D,R,!0);B._geoCalcData=D,B._fullLayout=R;var q=R[this.id],N=[],H=!1;for(var $ in v.layerNameToAdjective)if("frame"!==$&&q["show"+$]){H=!0;break}for(var j=!1,W=0;W<D.length;W++){var G=D[0][0].trace;G._geo=B,G.locationmode&&(H=!0);var ae=G.marker;if(ae){var Q=ae.angleref;(ae.angle||"north"===Q||"previous"===Q)&&(j=!0)}}if(this._hasMarkerAngles=j,H){var ee=y.getTopojsonName(q);null!==B.topojson&&ee===B.topojsonName||(B.topojsonName=ee,void 0===PlotlyGeoAssets.topojson[B.topojsonName]&&N.push(B.fetchTopojson()))}N=N.concat(x.fetchTraceGeoData(D)),P.push(new Promise(function(re,J){Promise.all(N).then(function(){B.topojson=PlotlyGeoAssets.topojson[B.topojsonName],B.update(D,R),re()}).catch(J)}))},C.fetchTopojson=function(){var D=this,R=y.getTopojsonPath(D.topojsonURL,D.topojsonName);return new Promise(function(P,O){S.json(R,function(B,q){if(B)return O(404===B.status?new Error(["plotly.js could not find topojson file at",R+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",R].join(" ")));PlotlyGeoAssets.topojson[D.topojsonName]=q,P()})})},C.update=function(D,R,P){var O=R[this.id];this.hasChoropleth=!1;for(var B=0;B<D.length;B++){var q=D[B],N=q[0].trace;"choropleth"===N.type&&(this.hasChoropleth=!0),!0===N.visible&&N._length>0&&N._module.calcGeoJSON(q,R)}if(!P){if(this.updateProjection(D,R))return;this.viewInitial&&this.scope===O.scope||this.saveViewInitial(O)}this.scope=O.scope,this.updateBaseLayers(R,O),this.updateDims(R,O),this.updateFx(R,O),o.generalUpdatePerTraceModule(this.graphDiv,this,D,O);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var $=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=$.selectAll("path"),this._render()},C.updateProjection=function(D,R){var P=this.graphDiv,O=R[this.id],B=R._size,q=O.domain,N=O.projection,H=O.lonaxis,$=O.lataxis,j=H._ax,W=$._ax,G=this.projection=function(ue){var me=ue.projection,Pe=me.type,Ce=v.projNames[Pe];Ce="geo"+s.titleCase(Ce);for(var Ie=(A[Ce]||_[Ce])(),Oe=ue._isSatellite?180*Math.acos(1/me.distance)/Math.PI:ue._isClipped?v.lonaxisSpan[Pe]/2:null,ze=["center","rotate","parallels","clipExtent"],je=function(Le){return Le?Ie:[]},ve=0;ve<ze.length;ve++){var Ae=ze[ve];"function"!=typeof Ie[Ae]&&(Ie[Ae]=je)}return Ie.isLonLatOverEdges=function(Le){if(null===Ie(Le))return!0;if(Oe){var Ve=Ie.rotate();return M(Le,[-Ve[0],-Ve[1]])>Oe*Math.PI/180}return!1},Ie.getPath=function(){return a().projection(Ie)},Ie.getBounds=function(Le){return Ie.getPath().bounds(Le)},Ie.precision(v.precision),ue._isSatellite&&Ie.tilt(me.tilt).distance(me.distance),Oe&&Ie.clipAngle(Oe-v.clipPad),Ie}(O),ae=[[B.l+B.w*q.x[0],B.t+B.h*(1-q.y[1])],[B.l+B.w*q.x[1],B.t+B.h*(1-q.y[0])]],te=O.center||{},Q=N.rotation||{},ee=H.range||[],re=$.range||[];if(O.fitbounds){j._length=ae[1][0]-ae[0][0],W._length=ae[1][1]-ae[0][1],j.range=l(P,j),W.range=l(P,W);var J=(j.range[0]+j.range[1])/2,le=(W.range[0]+W.range[1])/2;if(O._isScoped)te={lon:J,lat:le};else if(O._isClipped){te={lon:J,lat:le},Q={lon:J,lat:le,roll:Q.roll};var fe=N.type,ce=v.lonaxisSpan[fe]/2||180,ge=v.lataxisSpan[fe]/2||90;ee=[J-ce,J+ce],re=[le-ge,le+ge]}else te={lon:J,lat:le},Q={lon:J,lat:Q.lat,roll:Q.roll}}G.center([te.lon-Q.lon,te.lat-Q.lat]).rotate([-Q.lon,-Q.lat,Q.roll]).parallels(N.parallels);var Te=T(ee,re);G.fitExtent(ae,Te);var Me=this.bounds=G.getBounds(Te),we=this.fitScale=G.scale(),xe=G.translate();if(O.fitbounds){var be=G.getBounds(T(j.range,W.range)),ye=Math.min((Me[1][0]-Me[0][0])/(be[1][0]-be[0][0]),(Me[1][1]-Me[0][1])/(be[1][1]-be[0][1]));isFinite(ye)?G.scale(ye*we):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else G.scale(N.scale*we);var Se=this.midPt=[(Me[0][0]+Me[1][0])/2,(Me[0][1]+Me[1][1])/2];if(G.translate([xe[0]+(Se[0]-xe[0]),xe[1]+(Se[1]-xe[1])]).clipExtent(Me),O._isAlbersUsa){var Ee=G([te.lon,te.lat]),he=G.translate();G.translate([he[0]-(Ee[0]-he[0]),he[1]-(Ee[1]-he[1])])}},C.updateBaseLayers=function(D,R){var P=this,O=P.topojson,B=P.layers,q=P.basePaths;function N(G){return"lonaxis"===G||"lataxis"===G}function H(G){return!!v.lineLayers[G]}function $(G){return!!v.fillLayers[G]}var j=(this.hasChoropleth?v.layersForChoropleth:v.layers).filter(function(G){return H(G)||$(G)?R["show"+G]:!N(G)||R[G].showgrid}),W=P.framework.selectAll(".layer").data(j,String);W.exit().each(function(G){delete B[G],delete q[G],S.select(this).remove()}),W.enter().append("g").attr("class",function(G){return"layer "+G}).each(function(G){var ae=B[G]=S.select(this);"bg"===G?P.bgRect=ae.append("rect").style("pointer-events","all"):N(G)?q[G]=ae.append("path").style("fill","none"):"backplot"===G?ae.append("g").classed("choroplethlayer",!0):"frontplot"===G?ae.append("g").classed("scatterlayer",!0):H(G)?q[G]=ae.append("path").style("fill","none").style("stroke-miterlimit",2):$(G)&&(q[G]=ae.append("path").style("stroke","none"))}),W.order(),W.each(function(G){var ae=q[G],te=v.layerNameToAdjective[G];"frame"===G?ae.datum(v.sphereSVG):H(G)||$(G)?ae.datum(w(O,O.objects[G])):N(G)&&ae.datum(function(Q,ee,re){var J,le,fe,ce=ee[Q],ge=v.scopeDefaults[ee.scope];"lonaxis"===Q?(J=ge.lonaxisRange,le=ge.lataxisRange,fe=function(he,ue){return[he,ue]}):"lataxis"===Q&&(J=ge.lataxisRange,le=ge.lonaxisRange,fe=function(he,ue){return[ue,he]});var Te={type:"linear",range:[J[0],J[1]-1e-6],tick0:ce.tick0,dtick:ce.dtick};u.setConvert(Te,re);var Me=u.calcTicks(Te);ee.isScoped||"lonaxis"!==Q||Me.pop();for(var we=Me.length,xe=new Array(we),be=0;be<we;be++)for(var ye=Me[be].x,Se=xe[be]=[],Ee=le[0];Ee<le[1]+2.5;Ee+=2.5)Se.push(fe(ye,Ee));return{type:"MultiLineString",coordinates:xe}}(G,R,D)).call(i.stroke,R[G].gridcolor).call(n.dashLine,R[G].griddash,R[G].gridwidth),H(G)?ae.call(i.stroke,R[te+"color"]).call(n.dashLine,"",R[te+"width"]):$(G)&&ae.call(i.fill,R[te+"color"])})},C.updateDims=function(D,R){var P=this.bounds,O=(R.framewidth||0)/2,B=P[0][0]-O,q=P[0][1]-O,N=P[1][0]-B+O,H=P[1][1]-q+O;n.setRect(this.clipRect,B,q,N,H),this.bgRect.call(n.setRect,B,q,N,H).call(i.fill,R.bgcolor),this.xaxis._offset=B,this.xaxis._length=N,this.yaxis._offset=q,this.yaxis._length=H},C.updateFx=function(D,R){var P=this,O=P.graphDiv,B=P.bgRect,q=D.dragmode,N=D.clickmode;if(!P.isStatic){var H={element:P.bgRect.node(),gd:O,plotinfo:{id:P.id,xaxis:P.xaxis,yaxis:P.yaxis,fillRangeItems:function(j,W){W.isRect?(j.range={})[P.id]=[$([W.xmin,W.ymin]),$([W.xmax,W.ymax])]:(j.lassoPoints={})[P.id]=W.map($)}},xaxes:[P.xaxis],yaxes:[P.yaxis],subplot:P.id,clickFn:function(j){2===j&&b(O)}};"pan"===q?(B.node().onmousedown=null,B.call(m(P,R)),B.on("dblclick.zoom",function(){var j=P.viewInitial,W={};for(var G in j)W[P.id+"."+G]=j[G];d.call("_guiRelayout",O,W),O.emit("plotly_doubleclick",null)}),O._context._scrollZoom.geo||B.on("wheel.zoom",null)):"select"!==q&&"lasso"!==q||(B.on(".zoom",null),H.prepFn=function(j,W,G){c(j,W,G,H,q)},h.init(H)),B.on("mousemove",function(){var j=P.projection.invert(s.getPositionFromD3Event());if(!j)return h.unhover(O,S.event);P.xaxis.p2c=function(){return j[0]},P.yaxis.p2c=function(){return j[1]},r.hover(O,S.event,P.id)}),B.on("mouseout",function(){O._dragging||h.unhover(O,S.event)}),B.on("click",function(){"select"!==q&&"lasso"!==q&&(N.indexOf("select")>-1&&p(S.event,O,[P.xaxis],[P.yaxis],P.id,H),N.indexOf("event")>-1&&r.click(O,S.event))})}function $(j){return P.projection.invert([j[0]+P.xaxis._offset,j[1]+P.yaxis._offset])}},C.makeFramework=function(){var D=this,R=D.graphDiv,P=R._fullLayout,O="clip"+P._uid+D.id;D.clipDef=P._clips.append("clipPath").attr("id",O),D.clipRect=D.clipDef.append("rect"),D.framework=S.select(D.container).append("g").attr("class","geo "+D.id).call(n.setClipUrl,O,R),D.project=function(B){var q=D.projection(B);return q?[q[0]-D.xaxis._offset,q[1]-D.yaxis._offset]:[null,null]},D.xaxis={_id:"x",c2p:function(B){return D.project(B)[0]}},D.yaxis={_id:"y",c2p:function(B){return D.project(B)[1]}},D.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(D.mockAxis,P)},C.saveViewInitial=function(D){var P=D.center||{},O=D.projection,B=O.rotation||{};this.viewInitial={fitbounds:D.fitbounds,"projection.scale":O.scale},s.extendFlat(this.viewInitial,D._isScoped?{"center.lon":P.lon,"center.lat":P.lat}:D._isClipped?{"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:{"center.lon":P.lon,"center.lat":P.lat,"projection.rotation.lon":B.lon})},C.render=function(D){this._hasMarkerAngles&&D?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},C._render=function(){var D,R=this.projection,P=R.getPath();function O(q){var N=R(q.lonlat);return N?t(N[0],N[1]):null}function B(q){return R.isLonLatOverEdges(q.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",P);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(q){return P(q.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",B).attr("transform",O)}},10816:function(ie,z,e){"use strict";var S=e(84888).KY,A=e(3400).counterRegex,a=e(43520),M="geo",_=A(M),d={};d[M]={valType:"subplotid",dflt:M,editType:"calc"},ie.exports={attr:M,name:M,idRoot:M,idRegex:_,attrRegex:_,attributes:d,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(s){for(var t=s._fullLayout,i=s.calcdata,n=t._subplots[M],r=0;r<n.length;r++){var o=n[r],u=S(i,M,o),l=t[o]._subplot;l||(l=a({id:o,graphDiv:s,container:t._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),t[o]._subplot=l),l.plot(u,t,s._promises)}},updateFx:function(s){for(var t=s._fullLayout,i=t._subplots[M],n=0;n<i.length;n++){var r=t[i[n]];r._subplot.updateFx(t,r)}},clean:function(s,t,i,n){for(var r=n._subplots[M]||[],o=0;o<r.length;o++){var u=r[o],l=n[u]._subplot;!t[u]&&l&&(l.framework.remove(),l.clipDef.remove())}}}},40384:function(ie,z,e){"use strict";var S=e(22548),A=e(86968).u,a=e(98192).u,M=e(79552),_=e(67824).overrideAll,d=e(95376),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:S.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a};(ie.exports=_({domain:A({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:d(M.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:d(M.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:S.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:M.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:M.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:M.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:M.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:S.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:S.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:S.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:S.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(ie,z,e){"use strict";var S=e(3400),A=e(168),a=e(84888).op,M=e(79552),_=e(40384),d=M.axesNames;function s(t,i,n,r){var o=a(r.fullData,"geo",r.id).map(function(Q){return Q._expandedIndex}),u=n("resolution"),l=n("scope"),h=M.scopeDefaults[l],c=n("projection.type",h.projType),b=i._isAlbersUsa="albers usa"===c;b&&(l=i.scope="usa");var p=i._isScoped="world"!==l,m=i._isSatellite="satellite"===c,v=i._isConic=-1!==c.indexOf("conic")||"albers"===c,x=i._isClipped=!!M.lonaxisSpan[c];if(!1===t.visible){var y=S.extendDeep({},i._template);y.showcoastlines=!1,y.showcountries=!1,y.showframe=!1,y.showlakes=!1,y.showland=!1,y.showocean=!1,y.showrivers=!1,y.showsubunits=!1,y.lonaxis&&(y.lonaxis.showgrid=!1),y.lataxis&&(y.lataxis.showgrid=!1),i._template=y}for(var w=n("visible"),f=0;f<d.length;f++){var C,T=d[f],D=[30,10][f];if(p)C=h[T+"Range"];else{var R=M[T+"Span"],P=(R[c]||R["*"])/2,O=n("projection.rotation."+T.substr(0,3),h.projRotate[f]);C=[O-P,O+P]}var B=n(T+".range",C);n(T+".tick0"),n(T+".dtick",D),n(T+".showgrid",!!w&&void 0)&&(n(T+".gridcolor"),n(T+".gridwidth"),n(T+".griddash")),i[T]._ax={type:"linear",_id:T.slice(0,3),_traceIndices:o,setScale:S.identity,c2l:S.identity,r2l:S.identity,autorange:!0,range:B.slice(),_m:1,_input:{}}}var q=i.lonaxis.range,N=i.lataxis.range,H=q[0],$=q[1];H>0&&$<0&&($+=360);var j,W,G,ae=(H+$)/2;if(!b){var te=p?h.projRotate:[ae,0,0];j=n("projection.rotation.lon",te[0]),n("projection.rotation.lat",te[1]),n("projection.rotation.roll",te[2]),n("showcoastlines",!p&&w)&&(n("coastlinecolor"),n("coastlinewidth")),n("showocean",!!w&&void 0)&&n("oceancolor")}b?(W=-96.6,G=38.7):(W=p?ae:j,G=(N[0]+N[1])/2),n("center.lon",W),n("center.lat",G),m&&(n("projection.tilt"),n("projection.distance")),v&&n("projection.parallels",h.projParallels||[0,60]),n("projection.scale"),n("showland",!!w&&void 0)&&n("landcolor"),n("showlakes",!!w&&void 0)&&n("lakecolor"),n("showrivers",!!w&&void 0)&&(n("rivercolor"),n("riverwidth")),n("showcountries",p&&"usa"!==l&&w)&&(n("countrycolor"),n("countrywidth")),("usa"===l||"north america"===l&&50===u)&&(n("showsubunits",w),n("subunitcolor"),n("subunitwidth")),p||n("showframe",w)&&(n("framecolor"),n("framewidth")),n("bgcolor"),n("fitbounds")&&(delete i.projection.scale,p?(delete i.center.lon,delete i.center.lat):x?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}ie.exports=function(t,i,n){A(t,i,n,{type:"geo",attributes:_,handleDefaults:s,fullData:n,partition:"y"})}},79248:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(24040),M=Math.PI/180,_=180/Math.PI,d={cursor:"pointer"},s={cursor:"auto"};function t(p,m){return S.behavior.zoom().translate(m.translate()).scale(m.scale())}function i(p,m,v){var x=p.id,y=p.graphDiv,w=y.layout,f=w[x],C=y._fullLayout,T=C[x],D={},R={};function P(O,B){D[x+"."+O]=A.nestedProperty(f,O).get(),a.call("_storeDirectGUIEdit",w,C._preGUI,D);var q=A.nestedProperty(T,O);q.get()!==B&&(q.set(B),A.nestedProperty(f,O).set(B),R[x+"."+O]=B)}v(P),P("projection.scale",m.scale()/p.fitScale),P("fitbounds",!1),y.emit("plotly_relayout",R)}function n(p,m){var v=t(0,m);function x(y){var w=m.invert(p.midPt);y("center.lon",w[0]),y("center.lat",w[1])}return v.on("zoomstart",function(){S.select(this).style(d)}).on("zoom",function(){m.scale(S.event.scale).translate(S.event.translate),p.render(!0);var y=m.invert(p.midPt);p.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/p.fitScale,"geo.center.lon":y[0],"geo.center.lat":y[1]})}).on("zoomend",function(){S.select(this).style(s),i(p,m,x)}),v}function r(p,m){var v,x,y,w,f,C,T,D,R,P=t(0,m);function O(q){return m.invert(q)}function B(q){var N=m.rotate(),H=m.invert(p.midPt);q("projection.rotation.lon",-N[0]),q("center.lon",H[0]),q("center.lat",H[1])}return P.on("zoomstart",function(){S.select(this).style(d),v=S.mouse(this),x=m.rotate(),y=m.translate(),w=x,f=O(v)}).on("zoom",function(){if(C=S.mouse(this),function(H){var $=O(H);if(!$)return!0;var j=m($);return Math.abs(j[0]-H[0])>2||Math.abs(j[1]-H[1])>2}(v))return P.scale(m.scale()),void P.translate(m.translate());m.scale(S.event.scale),m.translate([y[0],S.event.translate[1]]),f?O(C)&&(D=O(C),m.rotate(T=[w[0]+(D[0]-f[0]),x[1],x[2]]),w=T):f=O(v=C),R=!0,p.render(!0);var q=m.rotate(),N=m.invert(p.midPt);p.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/p.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1],"geo.projection.rotation.lon":-q[0]})}).on("zoomend",function(){S.select(this).style(s),R&&i(p,m,B)}),P}function o(p,m){var v,x={r:m.rotate(),k:m.scale()},y=t(0,m),w=function(D){for(var R=0,P=arguments.length,O=[];++R<P;)O.push(arguments[R]);var B=S.dispatch.apply(null,O);return B.of=function(q,N){return function(H){var $;try{$=H.sourceEvent=S.event,H.target=D,S.event=H,B[H.type].apply(q,N)}finally{S.event=$}}},B}(y,"zoomstart","zoom","zoomend"),f=0,C=y.on;function T(D){var R=m.rotate();D("projection.rotation.lon",-R[0]),D("projection.rotation.lat",-R[1])}return y.on("zoomstart",function(){S.select(this).style(d);var D,R,P,O,B,q,N,H,$,j,W,G=S.mouse(this),ae=m.rotate(),te=ae,Q=m.translate(),ee=(R=.5*(D=ae)[0]*M,P=.5*D[1]*M,O=.5*D[2]*M,B=Math.sin(R),q=Math.cos(R),N=Math.sin(P),H=Math.cos(P),$=Math.sin(O),[q*H*(j=Math.cos(O))+B*N*$,B*H*j-q*N*$,q*N*j+B*H*$,q*H*$-B*N*j]);v=u(m,G),C.call(y,"zoom",function(){var re,J,le,fe,ce,ge,Te,Me,we,xe,ue,be=S.mouse(this);if(m.scale(x.k=S.event.scale),v){if(u(m,be)){m.rotate(ae).translate(Q);var ye=u(m,be),Se=function(ue,me){if(ue&&me){var Pe=[(ze=ue)[1]*(je=me)[2]-ze[2]*je[1],ze[2]*je[0]-ze[0]*je[2],ze[0]*je[1]-ze[1]*je[0]],Ce=Math.sqrt(b(Pe,Pe)),Ie=.5*Math.acos(Math.max(-1,Math.min(1,b(ue,me)))),Oe=Math.sin(Ie)/Ce;return Ce&&[Math.cos(Ie),Pe[2]*Oe,-Pe[1]*Oe,Pe[0]*Oe]}var ze,je}(v,ye),Ee=(ue=[(le=(re=ee)[0])*(Te=(J=Se)[0])-(fe=re[1])*(Me=J[1])-(ce=re[2])*(we=J[2])-(ge=re[3])*(xe=J[3]),le*Me+fe*Te+ce*xe-ge*we,le*we-fe*xe+ce*Te+ge*Me,le*xe+fe*we-ce*Me+ge*Te],[Math.atan2(2*(ue[0]*ue[1]+ue[2]*ue[3]),1-2*(ue[1]*ue[1]+ue[2]*ue[2]))*_,Math.asin(Math.max(-1,Math.min(1,2*(ue[0]*ue[2]-ue[3]*ue[1]))))*_,Math.atan2(2*(ue[0]*ue[3]+ue[1]*ue[2]),1-2*(ue[2]*ue[2]+ue[3]*ue[3]))*_]),he=x.r=function(ue,me,Pe){var Ce=c(me,2,ue[0]);Ce=c(Ce,1,ue[1]),Ce=c(Ce,0,ue[2]-Pe[2]);var Ie,Oe,ze=me[0],je=me[1],ve=me[2],Ae=Ce[0],Le=Ce[1],Ve=Ce[2],Ne=Math.atan2(je,ze)*_,We=Math.sqrt(ze*ze+je*je);Math.abs(Le)>We?(Oe=(Le>0?90:-90)-Ne,Ie=0):(Oe=Math.asin(Le/We)*_-Ne,Ie=Math.sqrt(We*We-Le*Le));var Xe=180-Oe-2*Ne,nt=(Math.atan2(Ve,Ae)-Math.atan2(ve,Ie))*_,dt=(Math.atan2(Ve,Ae)-Math.atan2(ve,-Ie))*_;return l(Pe[0],Pe[1],Oe,nt)<=l(Pe[0],Pe[1],Xe,dt)?[Oe,nt,Pe[2]]:[Xe,dt,Pe[2]]}(Ee,v,te);isFinite(he[0])&&isFinite(he[1])&&isFinite(he[2])||(he=te),m.rotate(he),te=he}}else v=u(m,G=be);w.of(this,arguments)({type:"zoom"})}),W=w.of(this,arguments),f++||W({type:"zoomstart"})}).on("zoomend",function(){var D;S.select(this).style(s),C.call(y,"zoom",null),D=w.of(this,arguments),--f||D({type:"zoomend"}),i(p,m,T)}).on("zoom.redraw",function(){p.render(!0);var D=m.rotate();p.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/p.fitScale,"geo.projection.rotation.lon":-D[0],"geo.projection.rotation.lat":-D[1]})}),S.rebind(y,w,"on")}function u(p,m){var x,y,w,f,v=p.invert(m);return v&&isFinite(v[0])&&isFinite(v[1])&&(y=(x=v)[0]*M,w=x[1]*M,[(f=Math.cos(w))*Math.cos(y),f*Math.sin(y),Math.sin(w)])}function l(p,m,v,x){var y=h(v-p),w=h(x-m);return Math.sqrt(y*y+w*w)}function h(p){return(p%360+540)%360-180}function c(p,m,v){var x=v*M,y=p.slice(),w=0===m?1:0,f=2===m?1:2,C=Math.cos(x),T=Math.sin(x);return y[w]=p[w]*C-p[f]*T,y[f]=p[f]*C+p[w]*T,y}function b(p,m){for(var v=0,x=0,y=p.length;x<y;++x)v+=p[x]*m[x];return v}ie.exports=function(p,m){return(m._isScoped?n:m._isClipped?o:r)(p,p.projection)}},84888:function(ie,z,e){"use strict";var S=e(24040),A=e(33816).SUBPLOT_PATTERN;z.KY=function(a,M,_){var d=S.subplotsRegistry[M];if(!d)return[];for(var s=d.attr,t=[],i=0;i<a.length;i++){var n=a[i];n[0].trace[s]===_&&t.push(n)}return t},z._M=function(a,M,_){var d,s=[],t=[];if(!(d="string"==typeof M?S.getModule(M).plot:"function"==typeof M?M:M.plot))return[s,a];for(var i=_,n=0;n<a.length;n++){var r=a[n],o=r[0].trace;!0===o.visible&&0!==o._length&&(!o._module||o._module.plot!==d||void 0!==o.zorder&&o.zorder!==i?t.push(r):s.push(r))}return[s,t]},z.op=function(a,M,_){if(!S.subplotsRegistry[M])return[];var d,s,t,i=S.subplotsRegistry[M].attr,n=[];if("gl2d"===M){var r=_.match(A);s="x"+r[1],t="y"+r[2]}for(var o=0;o<a.length;o++)d=a[o],"gl2d"===M&&S.traceIs(d,"gl2d")?d[i[0]]===s&&d[i[1]]===t&&n.push(d):d[i]===_&&n.push(d);return n}},2428:function(ie,z,e){"use strict";var S=e(62644),A=e(97264),a=e(29128),M=e(33816),_=e(89184);function d(s,t){this.element=s,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ie.exports=function(s){var t=s.mouseContainer,i=s.glplot,n=new d(t,i);function r(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function o(u,l,h){var c,b,p=s.calcDataBox(),m=i.viewBox,v=n.lastPos[0],x=n.lastPos[1],y=M.MINDRAG*i.pixelRatio,w=M.MINZOOM*i.pixelRatio;function f(O,B,q){var N=Math.min(B,q),H=Math.max(B,q);N!==H?(p[O]=N,p[O+2]=H,n.dataBox=p,s.setRanges(p)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(l*=i.pixelRatio,h=m[3]-m[1]-(h*=i.pixelRatio),s.fullLayout.dragmode){case"zoom":if(u){var C=l/(m[2]-m[0])*(p[2]-p[0])+p[0],T=h/(m[3]-m[1])*(p[3]-p[1])+p[1];n.boxInited||(n.boxStart[0]=C,n.boxStart[1]=T,n.dragStart[0]=l,n.dragStart[1]=h),n.boxEnd[0]=C,n.boxEnd[1]=T,n.boxInited=!0,n.boxEnabled||n.boxStart[0]===n.boxEnd[0]&&n.boxStart[1]===n.boxEnd[1]||(n.boxEnabled=!0);var D=Math.abs(n.dragStart[0]-l)<w,R=Math.abs(n.dragStart[1]-h)<w;if(!function(){for(var O=s.graphDiv._fullLayout._axisConstraintGroups,B=s.xaxis._id,q=s.yaxis._id,N=0;N<O.length;N++)if(-1!==O[N][B]){if(-1!==O[N][q])return!0;break}return!1}()||D&&R)D&&(n.boxEnd[0]=n.boxStart[0]),R&&(n.boxEnd[1]=n.boxStart[1]);else{c=n.boxEnd[0]-n.boxStart[0],b=n.boxEnd[1]-n.boxStart[1];var P=(p[3]-p[1])/(p[2]-p[0]);Math.abs(c*P)>Math.abs(b)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(c)*P*(b>=0?1:-1),n.boxEnd[1]<p[1]?(n.boxEnd[1]=p[1],n.boxEnd[0]=n.boxStart[0]+(p[1]-n.boxStart[1])/Math.abs(P)):n.boxEnd[1]>p[3]&&(n.boxEnd[1]=p[3],n.boxEnd[0]=n.boxStart[0]+(p[3]-n.boxStart[1])/Math.abs(P))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(b)/P*(c>=0?1:-1),n.boxEnd[0]<p[0]?(n.boxEnd[0]=p[0],n.boxEnd[1]=n.boxStart[1]+(p[0]-n.boxStart[0])*Math.abs(P)):n.boxEnd[0]>p[2]&&(n.boxEnd[0]=p[2],n.boxEnd[1]=n.boxStart[1]+(p[2]-n.boxStart[0])*Math.abs(P)))}}else n.boxEnabled?(b=n.boxStart[1]!==n.boxEnd[1],(c=n.boxStart[0]!==n.boxEnd[0])||b?(c&&(f(0,n.boxStart[0],n.boxEnd[0]),s.xaxis.autorange=!1),b&&(f(1,n.boxStart[1],n.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,u?(n.panning||(n.dragStart[0]=l,n.dragStart[1]=h),Math.abs(n.dragStart[0]-l)<y&&(l=n.dragStart[0]),Math.abs(n.dragStart[1]-h)<y&&(h=n.dragStart[1]),b=(x-h)*(p[3]-p[1])/(i.viewBox[3]-i.viewBox[1]),p[0]+=c=(v-l)*(p[2]-p[0])/(i.viewBox[2]-i.viewBox[0]),p[2]+=c,p[1]+=b,p[3]+=b,s.setRanges(p),n.panning=!0,n.lastInputTime=Date.now(),r(),s.cameraChanged(),s.handleAnnotations()):n.panning&&(n.panning=!1,s.relayoutCallback())}n.lastPos[0]=l,n.lastPos[1]=h}return n.mouseListener=S(t,o),t.addEventListener("touchstart",function(u){var l=a(u.changedTouches[0],t);o(0,l[0],l[1]),o(1,l[0],l[1]),u.preventDefault()},!!_&&{passive:!1}),t.addEventListener("touchmove",function(u){u.preventDefault();var l=a(u.changedTouches[0],t);o(1,l[0],l[1]),u.preventDefault()},!!_&&{passive:!1}),t.addEventListener("touchend",function(u){o(0,n.lastPos[0],n.lastPos[1]),u.preventDefault()},!!_&&{passive:!1}),n.wheelListener=A(t,function(u,l){if(!s.scrollZoom)return!1;var h=s.calcDataBox(),c=i.viewBox,b=n.lastPos[0],p=n.lastPos[1],m=Math.exp(5*l/(c[3]-c[1])),v=b/(c[2]-c[0])*(h[2]-h[0])+h[0],x=p/(c[3]-c[1])*(h[3]-h[1])+h[1];return h[0]=(h[0]-v)*m+v,h[2]=(h[2]-v)*m+v,h[1]=(h[1]-x)*m+x,h[3]=(h[3]-x)*m+x,s.setRanges(h),n.lastInputTime=Date.now(),r(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),n}},92568:function(ie,z,e){"use strict";var S=e(54460),A=e(43080);function a(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var M=a.prototype,_=["xaxis","yaxis"];M.merge=function(d){var s,t,i,n,r,o,u,l,h,c,b;for(this.titleEnable=!1,this.backgroundColor=A(d.plot_bgcolor),c=0;c<2;++c){var p=(s=_[c]).charAt(0);for(i=(t=d[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[p]?"":t.title.text,b=0;b<=2;b+=2)this.labelEnable[c+b]=!1,this.labels[c+b]=i,this.labelColor[c+b]=A(t.title.font.color),this.labelFont[c+b]=t.title.font.family,this.labelSize[c+b]=t.title.font.size,this.labelPad[c+b]=this.getLabelPad(s,t),this.tickEnable[c+b]=!1,this.tickColor[c+b]=A((t.tickfont||{}).color),this.tickAngle[c+b]="auto"===t.tickangle?0:Math.PI*-t.tickangle/180,this.tickPad[c+b]=this.getTickPad(t),this.tickMarkLength[c+b]=0,this.tickMarkWidth[c+b]=t.tickwidth||0,this.tickMarkColor[c+b]=A(t.tickcolor),this.borderLineEnable[c+b]=!1,this.borderLineColor[c+b]=A(t.linecolor),this.borderLineWidth[c+b]=t.linewidth||0;u=this.hasSharedAxis(t),r=this.hasAxisInDfltPos(s,t)&&!u,o=this.hasAxisInAltrPos(s,t)&&!u,n=t.mirror||!1,l=u?-1!==String(n).indexOf("all"):!!n,h=u?"allticks"===n:-1!==String(n).indexOf("ticks"),r?this.labelEnable[c]=!0:o&&(this.labelEnable[c+2]=!0),r?this.tickEnable[c]=t.showticklabels:o&&(this.tickEnable[c+2]=t.showticklabels),(r||l)&&(this.borderLineEnable[c]=t.showline),(o||l)&&(this.borderLineEnable[c+2]=t.showline),(r||h)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(o||h)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=A(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=A(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},M.hasSharedAxis=function(d){var s=this.scene;return 0!==S.findSubplotsWithAxis(s.fullLayout._subplots.gl2d,d).indexOf(s.id)},M.hasAxisInDfltPos=function(d,s){var t=s.side;return"xaxis"===d?"bottom"===t:"yaxis"===d?"left"===t:void 0},M.hasAxisInAltrPos=function(d,s){var t=s.side;return"xaxis"===d?"top"===t:"yaxis"===d?"right"===t:void 0},M.getLabelPad=function(d,s){var t=1.5,i=s.title.font.size,n=s.showticklabels;return"xaxis"===d?"top"===s.side?i*(t+(n?1:0))-10:i*(t+(n?.5:0))-10:"yaxis"===d?"right"===s.side?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0)):void 0},M.getTickPad=function(d){return"outside"===d.ticks?10+d.ticklen:15},M.getTickMarkLength=function(d){if(!d.ticks)return 0;var s=d.ticklen;return"inside"===d.ticks?-s:s},ie.exports=function(d){return new a(d)}},39952:function(ie,z,e){"use strict";var S=e(67824).overrideAll,A=e(17188),a=e(64859),M=e(9616),_=e(33816),d=e(57952),s=e(65460),t=e(84888).op;z.name="gl2d",z.attr=["xaxis","yaxis"],z.idRoot=["x","y"],z.idRegex=_.idRegex,z.attrRegex=_.attrRegex,z.attributes=e(26720),z.supplyLayoutDefaults=function(i,n,r){n._has("cartesian")||d.supplyLayoutDefaults(i,n,r)},z.layoutAttrOverrides=S(d.layoutAttributes,"plot","from-root"),z.baseLayoutAttrOverrides=S({plot_bgcolor:a.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),z.plot=function(i){for(var n=i._fullLayout,r=i._fullData,o=n._subplots.gl2d,u=0;u<o.length;u++){var l=o[u],h=n._plots[l],c=t(r,"gl2d",l),b=h._scene2d;void 0===b&&(b=new A({id:l,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),h._scene2d=b),b.plot(c,i.calcdata,n,i.layout)}},z.clean=function(i,n,r,o){for(var u=o._subplots.gl2d||[],l=0;l<u.length;l++){var h=u[l],c=o._plots[h];c._scene2d&&0===t(i,"gl2d",h).length&&(c._scene2d.destroy(),delete o._plots[h])}d.clean.apply(this,arguments)},z.drawFramework=function(i){i._context.staticPlot||d.drawFramework(i)},z.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,o=0;o<r.length;o++){var u=n._plots[r[o]]._scene2d,l=u.toImage("png");n._glimages.append("svg:image").attr({xmlns:M.svg,"xlink:href":l,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},z.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,o=0;o<r.length;o++)n._plots[r[o]]._scene2d.updateFx(n.dragmode)}},17188:function(ie,z,e){"use strict";var S,A,a=e(24040),M=e(54460),_=e(93024),d=e(67792).gl_plot2d,s=e(67792).gl_spikes2d,t=e(67792).gl_select_box,i=e(5408),n=e(92568),r=e(2428),o=e(16576),u=e(71888),l=u.enforce,h=u.clean,c=e(19280).doAutoRange,b=e(72760),p=b.drawMode,m=b.selectMode,v=["xaxis","yaxis"],x=e(33816).SUBPLOT_PATTERN;function y(f,C){this.container=f.container,this.graphDiv=f.graphDiv,this.pixelRatio=f.plotGlPixelRatio||window.devicePixelRatio,this.id=f.id,this.staticPlot=!!f.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(C),this.makeFramework(),this.stopped||(this.glplotOptions=n(this),this.glplotOptions.merge(C),this.glplot=d(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ie.exports=y;var w=y.prototype;w.makeFramework=function(){if(this.staticPlot){if(!(A||(S=document.createElement("canvas"),A=i({canvas:S,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=S,this.gl=A}else{var f=this.container.querySelector(".gl-canvas-focus"),C=i({canvas:f,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!C)return o(this),void(this.stopped=!0);this.canvas=f,this.gl=C}var T=this.canvas;T.style.width="100%",T.style.height="100%",T.style.position="absolute",T.style.top="0px",T.style.left="0px",T.style["pointer-events"]="none",this.updateSize(T);var D=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");D.style.position="absolute",D.style.top=D.style.left="0px",D.style.width=D.style.height="100%",D.style["z-index"]=20,D.style["pointer-events"]="none";var R=this.mouseContainer=document.createElement("div");R.style.position="absolute",R.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var P=this.container;P.appendChild(D),P.appendChild(R);var O=this;R.addEventListener("mouseout",function(){O.isMouseOver=!1,O.unhover()}),R.addEventListener("mouseover",function(){O.isMouseOver=!0})},w.toImage=function(f){f||(f="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(S),this.updateSize(this.canvas);var C=this.glplot.gl,T=C.drawingBufferWidth,D=C.drawingBufferHeight;C.clearColor(1,1,1,0),C.clear(C.COLOR_BUFFER_BIT|C.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),C.bindFramebuffer(C.FRAMEBUFFER,null);var R=new Uint8Array(T*D*4);C.readPixels(0,0,T,D,C.RGBA,C.UNSIGNED_BYTE,R);for(var P=0,O=D-1;P<O;++P,--O)for(var B=0;B<T;++B)for(var q=0;q<4;++q){var N=R[4*(T*P+B)+q];R[4*(T*P+B)+q]=R[4*(T*O+B)+q],R[4*(T*O+B)+q]=N}var H=document.createElement("canvas");H.width=T,H.height=D;var $,j=H.getContext("2d",{willReadFrequently:!0}),W=j.createImageData(T,D);switch(W.data.set(R),j.putImageData(W,0,0),f){case"jpeg":$=H.toDataURL("image/jpeg");break;case"webp":$=H.toDataURL("image/webp");break;default:$=H.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(S),$},w.updateSize=function(f){f||(f=this.canvas);var C=this.pixelRatio,T=this.fullLayout,R=T.height,P=0|Math.ceil(C*T.width),O=0|Math.ceil(C*R);return f.width===P&&f.height===O||(f.width=P,f.height=O),f},w.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var f=[M.calcTicks(this.xaxis),M.calcTicks(this.yaxis)],C=0;C<2;++C)for(var T=0;T<f[C].length;++T)f[C][T].text=f[C][T].text+"";return f},w.updateRefs=function(f){this.fullLayout=f;var C=this.id.match(x),D="yaxis"+C[2];this.xaxis=this.fullLayout["xaxis"+C[1]],this.yaxis=this.fullLayout[D]},w.relayoutCallback=function(){var f=this.graphDiv,C=this.xaxis,T=this.yaxis,D=f.layout,R={},P=R[C._name+".range"]=C.range.slice(),O=R[T._name+".range"]=T.range.slice();R[C._name+".autorange"]=C.autorange,R[T._name+".autorange"]=T.autorange,a.call("_storeDirectGUIEdit",f.layout,f._fullLayout._preGUI,R);var B=D[C._name];B.range=P,B.autorange=C.autorange;var q=D[T._name];q.range=O,q.autorange=T.autorange,R.lastInputTime=this.camera.lastInputTime,f.emit("plotly_relayout",R)},w.cameraChanged=function(){var f=this.camera;this.glplot.setDataBox(this.calcDataBox());var C=this.computeTickMarks();(function(T,D){for(var R=0;R<2;++R){var P=T[R],O=D[R];if(P.length!==O.length)return!0;for(var B=0;B<P.length;++B)if(P[B].x!==O[B].x)return!0}return!1})(C,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=C,this.glplotOptions.dataBox=f.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},w.handleAnnotations=function(){for(var f=this.graphDiv,C=this.fullLayout.annotations,T=0;T<C.length;T++){var D=C[T];D.xref===this.xaxis._id&&D.yref===this.yaxis._id&&a.getComponentMethod("annotations","drawOne")(f,T)}},w.destroy=function(){if(this.glplot){var f=this.traces;f&&Object.keys(f).map(function(C){f[C].dispose(),delete f[C]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},w.plot=function(f,C,T){var D=this.glplot;this.updateRefs(T),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(f,C),this.updateFx(T.dragmode);var R=T.width,P=T.height;this.updateSize(this.canvas);var O=this.glplotOptions;O.merge(T),O.screenBox=[0,0,R,P];var B={_fullLayout:{_axisConstraintGroups:T._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:T._size}};h(B,this.xaxis),h(B,this.yaxis);var q,N,H=T._size,$=this.xaxis.domain,j=this.yaxis.domain;for(O.viewBox=[H.l+$[0]*H.w,H.b+j[0]*H.h,R-H.r-(1-$[1])*H.w,P-H.t-(1-j[1])*H.h],this.mouseContainer.style.width=H.w*($[1]-$[0])+"px",this.mouseContainer.style.height=H.h*(j[1]-j[0])+"px",this.mouseContainer.height=H.h*(j[1]-j[0]),this.mouseContainer.style.left=H.l+$[0]*H.w+"px",this.mouseContainer.style.top=H.t+(1-j[1])*H.h+"px",N=0;N<2;++N)(q=this[v[N]])._length=O.viewBox[N+2]-O.viewBox[N],c(this.graphDiv,q),q.setScale();l(B),O.ticks=this.computeTickMarks(),O.dataBox=this.calcDataBox(),O.merge(T),D.update(O),this.glplot.draw()},w.calcDataBox=function(){var f=this.xaxis,C=this.yaxis,T=f.range,D=C.range,R=f.r2l,P=C.r2l;return[R(T[0]),P(D[0]),R(T[1]),P(D[1])]},w.setRanges=function(f){var C=this.xaxis,T=this.yaxis,D=C.l2r,R=T.l2r;C.range=[D(f[0]),D(f[2])],T.range=[R(f[1]),R(f[3])]},w.updateTraces=function(f,C){var T,D,R,P=Object.keys(this.traces);this.fullData=f;e:for(T=0;T<P.length;T++){var O=P[T],B=this.traces[O];for(D=0;D<f.length;D++)if((R=f[D]).uid===O&&R.type===B.type)continue e;B.dispose(),delete this.traces[O]}for(T=0;T<f.length;T++){var q=C[T],N=this.traces[(R=f[T]).uid];N?N.update(R,q):(N=R._module.plot(this,R,q),this.traces[R.uid]=N)}this.glplot.objects.sort(function(H,$){return H._trace.index-$._trace.index})},w.updateFx=function(f){m(f)||p(f)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===f?"move":"zoom"===f?"crosshair":null},w.emitPointAction=function(f,C){for(var T,D=f.trace.uid,R=f.pointIndex,P=0;P<this.fullData.length;P++)this.fullData[P].uid===D&&(T=this.fullData[P]);var O={x:f.traceCoord[0],y:f.traceCoord[1],curveNumber:T.index,pointNumber:R,data:T._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};_.appendArrayPointValue(O,T,R),this.graphDiv.emit(C,{points:[O]})},w.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var f=this.glplot,C=this.camera,T=C.mouseListener,D=1===this.lastButtonState&&0===T.buttons,R=this.fullLayout;this.lastButtonState=T.buttons,this.cameraChanged();var P,O=T.x*f.pixelRatio,B=this.canvas.height-f.pixelRatio*T.y;if(C.boxEnabled&&"zoom"===R.dragmode){this.selectBox.enabled=!0;for(var q=this.selectBox.selectBox=[Math.min(C.boxStart[0],C.boxEnd[0]),Math.min(C.boxStart[1],C.boxEnd[1]),Math.max(C.boxStart[0],C.boxEnd[0]),Math.max(C.boxStart[1],C.boxEnd[1])],N=0;N<2;N++)C.boxStart[N]===C.boxEnd[N]&&(q[N]=f.dataBox[N],q[N+2]=f.dataBox[N+2]);f.setDirty()}else if(!C.panning&&this.isMouseOver){this.selectBox.enabled=!1;var H=R._size,W=(P=f.pick(O/f.pixelRatio+H.l+this.xaxis.domain[0]*H.w,B/f.pixelRatio-(H.t+(1-this.yaxis.domain[1])*H.h)))&&P.object._trace.handlePick(P);if(W&&D&&this.emitPointAction(W,"plotly_click"),P&&"skip"!==P.object._trace.hoverinfo&&R.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var G=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:P.dataCoord}),G.screenCoord=[((f.viewBox[2]-f.viewBox[0])*(P.dataCoord[0]-f.dataBox[0])/(f.dataBox[2]-f.dataBox[0])+f.viewBox[0])/f.pixelRatio,(this.canvas.height-(f.viewBox[3]-f.viewBox[1])*(P.dataCoord[1]-f.dataBox[1])/(f.dataBox[3]-f.dataBox[1])-f.viewBox[1])/f.pixelRatio],this.emitPointAction(W,"plotly_hover");var ae=this.fullData[G.trace.index]||{},te=G.pointIndex,Q=_.castHoverinfo(ae,R,te);if(Q&&"all"!==Q){var ee=Q.split("+");-1===ee.indexOf("x")&&(G.traceCoord[0]=void 0),-1===ee.indexOf("y")&&(G.traceCoord[1]=void 0),-1===ee.indexOf("z")&&(G.traceCoord[2]=void 0),-1===ee.indexOf("text")&&(G.textLabel=void 0),-1===ee.indexOf("name")&&(G.name=void 0)}_.loneHover({x:G.screenCoord[0],y:G.screenCoord[1],xLabel:this.hoverFormatter("xaxis",G.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",G.traceCoord[1]),zLabel:G.traceCoord[2],text:G.textLabel,name:G.name,color:_.castHoverOption(ae,te,"bgcolor")||G.color,borderColor:_.castHoverOption(ae,te,"bordercolor"),fontFamily:_.castHoverOption(ae,te,"font.family"),fontSize:_.castHoverOption(ae,te,"font.size"),fontColor:_.castHoverOption(ae,te,"font.color"),nameLength:_.castHoverOption(ae,te,"namelength"),textAlign:_.castHoverOption(ae,te,"align")},{container:this.svgContainer,gd:this.graphDiv})}}P||this.unhover(),f.draw()}},w.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),_.loneUnhover(this.svgContainer))},w.hoverFormatter=function(f,C){if(void 0!==C){var T=this[f];return M.tickText(T,T.c2l(C),"hover").text}}},12536:function(ie,z,e){"use strict";var S=e(67824).overrideAll,A=e(65460),a=e(98432),M=e(84888).op,_=e(3400),d=e(9616),s="gl3d",t="scene";z.name=s,z.attr=t,z.idRoot=t,z.idRegex=z.attrRegex=_.counterRegex("scene"),z.attributes=e(6636),z.layoutAttributes=e(346),z.baseLayoutAttrOverrides=S({hoverlabel:A.hoverlabel},"plot","nested"),z.supplyLayoutDefaults=e(5208),z.plot=function(i){for(var n=i._fullLayout,r=i._fullData,o=n._subplots[s],u=0;u<o.length;u++){var l=o[u],h=M(r,s,l),c=n[l],b=c.camera,p=c._scene;p||(p=new a({id:l,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:b},n),c._scene=p),p.viewInitial||(p.viewInitial={up:{x:b.up.x,y:b.up.y,z:b.up.z},eye:{x:b.eye.x,y:b.eye.y,z:b.eye.z},center:{x:b.center.x,y:b.center.y,z:b.center.z}}),p.plot(h,n,i.layout)}},z.clean=function(i,n,r,o){for(var u=o._subplots[s]||[],l=0;l<u.length;l++){var h=u[l];!n[h]&&o[h]._scene&&(o[h]._scene.destroy(),o._infolayer&&o._infolayer.selectAll(".annotation-"+h).remove())}},z.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots[s],o=n._size,u=0;u<r.length;u++){var l=n[r[u]],h=l.domain,c=l._scene,b=c.toImage("png");n._glimages.append("svg:image").attr({xmlns:d.svg,"xlink:href":b,x:o.l+o.w*h.x[0],y:o.t+o.h*(1-h.y[1]),width:o.w*(h.x[1]-h.x[0]),height:o.h*(h.y[1]-h.y[0]),preserveAspectRatio:"none"}),c.destroy()}},z.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return"1"===n&&(n=""),t+n}},z.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots[s],o=0;o<r.length;o++)n[r[o]]._scene.updateFx(n.dragmode,n.hovermode)}},6636:function(ie){"use strict";ie.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(ie,z,e){"use strict";var S=e(76308),A=e(94724),a=e(92880).extendFlat,M=e(67824).overrideAll;ie.exports=M({visible:A.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:S.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:A.color,categoryorder:A.categoryorder,categoryarray:A.categoryarray,title:{text:A.title.text,font:A.title.font},type:a({},A.type,{values:["-","linear","log","date","category"]}),autotypenumbers:A.autotypenumbers,autorange:A.autorange,autorangeoptions:{minallowed:A.autorangeoptions.minallowed,maxallowed:A.autorangeoptions.maxallowed,clipmin:A.autorangeoptions.clipmin,clipmax:A.autorangeoptions.clipmax,include:A.autorangeoptions.include,editType:"plot"},rangemode:A.rangemode,minallowed:A.minallowed,maxallowed:A.maxallowed,range:a({},A.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:A.ticks,mirror:A.mirror,ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,showticklabels:A.showticklabels,labelalias:A.labelalias,tickfont:A.tickfont,tickangle:A.tickangle,tickprefix:A.tickprefix,showtickprefix:A.showtickprefix,ticksuffix:A.ticksuffix,showticksuffix:A.showticksuffix,showexponent:A.showexponent,exponentformat:A.exponentformat,minexponent:A.minexponent,separatethousands:A.separatethousands,tickformat:A.tickformat,tickformatstops:A.tickformatstops,hoverformat:A.hoverformat,showline:A.showline,linecolor:A.linecolor,linewidth:A.linewidth,showgrid:A.showgrid,gridcolor:a({},A.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:A.gridwidth,zeroline:A.zeroline,zerolinecolor:A.zerolinecolor,zerolinewidth:A.zerolinewidth,_deprecated:{title:A._deprecated.title,titlefont:A._deprecated.titlefont}},"plot","from-root")},64380:function(ie,z,e){"use strict";var S=e(49760).mix,A=e(3400),a=e(31780),M=e(86140),_=e(14944),d=e(28336),s=["xaxis","yaxis","zaxis"];ie.exports=function(t,i,n){var r,o;function u(c,b){return A.coerce(r,o,M,c,b)}for(var l=0;l<s.length;l++){var h=s[l];r=t[h]||{},(o=a.newContainer(i,h))._id=h[0]+n.scene,o._name=h,_(r,o,u,n),d(r,o,u,{font:n.font,letter:h[0],data:n.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),u("gridcolor",S(o.color,n.bgColor,72.72727272727273).toRgbString()),u("title.text",h[0]),o.setScale=A.noop,u("showspikes")&&(u("spikesides"),u("spikethickness"),u("spikecolor",o.color)),u("showaxeslabels"),u("showbackground")&&u("backgroundcolor")}}},44728:function(ie,z,e){"use strict";var S=e(43080),A=e(3400),a=["xaxis","yaxis","zaxis"];function M(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}M.prototype.merge=function(_,d){for(var s=this,t=0;t<3;++t){var i=d[a[t]];i.visible?(s.labels[t]=_._meta?A.templateString(i.title.text,_._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(s.labelColor[t]=S(i.title.font.color)),i.title.font.family&&(s.labelFont[t]=i.title.font.family),i.title.font.size&&(s.labelSize[t]=i.title.font.size),i.title.font.weight&&(s.labelFontWeight[t]=i.title.font.weight),i.title.font.style&&(s.labelFontStyle[t]=i.title.font.style),i.title.font.variant&&(s.labelFontVariant[t]=i.title.font.variant)),"showline"in i&&(s.lineEnable[t]=i.showline),"linecolor"in i&&(s.lineColor[t]=S(i.linecolor)),"linewidth"in i&&(s.lineWidth[t]=i.linewidth),"showgrid"in i&&(s.gridEnable[t]=i.showgrid),"gridcolor"in i&&(s.gridColor[t]=S(i.gridcolor)),"gridwidth"in i&&(s.gridWidth[t]=i.gridwidth),"log"===i.type?s.zeroEnable[t]=!1:"zeroline"in i&&(s.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(s.zeroLineColor[t]=S(i.zerolinecolor)),"zerolinewidth"in i&&(s.zeroLineWidth[t]=i.zerolinewidth),s.lineTickEnable[t]=!(!("ticks"in i)||!i.ticks),"ticklen"in i&&(s.lineTickLength[t]=s._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(s.lineTickColor[t]=S(i.tickcolor)),"tickwidth"in i&&(s.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(s.tickAngle[t]="auto"===i.tickangle?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(s.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(s.tickColor[t]=S(i.tickfont.color)),i.tickfont.family&&(s.tickFont[t]=i.tickfont.family),i.tickfont.size&&(s.tickSize[t]=i.tickfont.size),i.tickfont.weight&&(s.tickFontWeight[t]=i.tickfont.weight),i.tickfont.style&&(s.tickFontStyle[t]=i.tickfont.style),i.tickfont.variant&&(s.tickFontVariant[t]=i.tickfont.variant)),"mirror"in i?-1!==["ticks","all","allticks"].indexOf(i.mirror)?(s.lineTickMirror[t]=!0,s.lineMirror[t]=!0):!0===i.mirror?(s.lineTickMirror[t]=!1,s.lineMirror[t]=!0):(s.lineTickMirror[t]=!1,s.lineMirror[t]=!1):s.lineMirror[t]=!1,"showbackground"in i&&!1!==i.showbackground?(s.backgroundEnable[t]=!0,s.backgroundColor[t]=S(i.backgroundcolor)):s.backgroundEnable[t]=!1):(s.tickEnable[t]=!1,s.labelEnable[t]=!1,s.lineEnable[t]=!1,s.lineTickEnable[t]=!1,s.gridEnable[t]=!1,s.zeroEnable[t]=!1,s.backgroundEnable[t]=!1)}},ie.exports=function(_,d){var s=new M;return s.merge(_,d),s}},5208:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(24040),M=e(168),_=e(64380),d=e(346),s=e(84888).op,t="gl3d";function i(n,r,o,u){for(var l=o("bgcolor"),h=A.combine(l,u.paper_bgcolor),c=["up","center","eye"],b=0;b<c.length;b++)o("camera."+c[b]+".x"),o("camera."+c[b]+".y"),o("camera."+c[b]+".z");o("camera.projection.type");var p=!!o("aspectratio.x")&&!!o("aspectratio.y")&&!!o("aspectratio.z"),m=o("aspectmode",p?"manual":"auto");p||(n.aspectratio=r.aspectratio={x:1,y:1,z:1},"manual"===m&&(r.aspectmode="auto"),n.aspectmode=r.aspectmode);var v=s(u.fullData,t,u.id);_(n,r,{font:u.font,scene:u.id,data:v,bgColor:h,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(n,r,u);var x=u.getDfltFromLayout("dragmode");if(!1!==x&&!x)if(x="orbit",n.camera&&n.camera.up){var y=n.camera.up.x,w=n.camera.up.y,f=n.camera.up.z;0!==f&&(y&&w&&f?f/Math.sqrt(y*y+w*w+f*f)>.999&&(x="turntable"):x="turntable")}else x="turntable";o("dragmode",x),o("hovermode",u.getDfltFromLayout("hovermode"))}ie.exports=function(n,r,o){var u=r._basePlotModules.length>1;M(n,r,o,{type:t,attributes:d,handleDefaults:i,fullLayout:r,font:r.font,fullData:o,getDfltFromLayout:function(l){if(!u)return S.validate(n[l],d[l])?n[l]:void 0},autotypenumbersDflt:r.autotypenumbers,paper_bgcolor:r.paper_bgcolor,calendar:r.calendar})}},346:function(ie,z,e){"use strict";var S=e(86140),A=e(86968).u,a=e(92880).extendFlat,M=e(3400).counterRegex;function _(d,s,t){return{x:{valType:"number",dflt:d,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}ie.exports={_arrayAttrRegexps:[M("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(_(0,0,1),{}),center:a(_(0,0,0),{}),eye:a(_(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:A({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:S,yaxis:S,zaxis:S,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(ie,z,e){"use strict";var S=e(43080),A=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}a.prototype.merge=function(M){for(var _=0;_<3;++_){var d=M[A[_]];d.visible?(this.enabled[_]=d.showspikes,this.colors[_]=S(d.spikecolor),this.drawSides[_]=d.spikesides,this.lineWidth[_]=d.spikethickness):(this.enabled[_]=!1,this.drawSides[_]=!1)}},ie.exports=function(M){var _=new a;return _.merge(M),_}},87152:function(ie,z,e){"use strict";ie.exports=function(_){for(var d=_.axesOptions,s=_.glplot.axesPixels,t=_.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var r=t[a[n]];if(r._length=(s[n].hi-s[n].lo)*s[n].pixelsPerDataUnit/_.dataScale[n],Math.abs(r._length)===1/0||isNaN(r._length))i[n]=[];else{r._input_range=r.range.slice(),r.range[0]=s[n].lo/_.dataScale[n],r.range[1]=s[n].hi/_.dataScale[n],r._m=1/(_.dataScale[n]*s[n].pixelsPerDataUnit),r.range[0]===r.range[1]&&(r.range[0]-=1,r.range[1]+=1);var o=r.tickmode;if("auto"===r.tickmode){r.tickmode="linear";var u=r.nticks||A.constrain(r._length/40,4,9);S.autoTicks(r,Math.abs(r.range[1]-r.range[0])/u)}for(var l=S.calcTicks(r,{msUTC:!0}),h=0;h<l.length;++h)l[h].x=l[h].x*_.dataScale[n],"date"===r.type&&(l[h].text=l[h].text.replace(/\<br\>/g," "));i[n]=l,r.tickmode=o}}for(d.ticks=i,n=0;n<3;++n)for(M[n]=.5*(_.glplot.bounds[0][n]+_.glplot.bounds[1][n]),h=0;h<2;++h)d.bounds[h][n]=_.glplot.bounds[h][n];_.contourLevels=function(c){for(var b=new Array(3),p=0;p<3;++p){for(var m=c[p],v=new Array(m.length),x=0;x<m.length;++x)v[x]=m[x].x;b[p]=v}return b}(i)};var S=e(54460),A=e(3400),a=["xaxis","yaxis","zaxis"],M=[0,0,0]},94424:function(ie){"use strict";function z(e,S){var A,a,M=[0,0,0,0];for(A=0;A<4;++A)for(a=0;a<4;++a)M[a]+=e[4*A+a]*S[A];return M}ie.exports=function(e,S){return z(e.projection,z(e.view,z(e.model,[S[0],S[1],S[2],1])))}},98432:function(ie,z,e){"use strict";var S,A,a=e(67792).gl_plot3d,M=a.createCamera,_=a.createScene,d=e(5408),s=e(89184),t=e(24040),i=e(3400),n=i.preserveDrawingBuffer(),r=e(54460),o=e(93024),u=e(43080),l=e(16576),h=e(94424),c=e(44728),b=e(9020),p=e(87152),m=e(19280).applyAutorangeOptions,v=!1;function x(T,D){var R=document.createElement("div"),P=T.container;this.graphDiv=T.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",R.appendChild(O),this.svgContainer=O,R.id=T.id,R.style.position="absolute",R.style.top=R.style.left="0px",R.style.width=R.style.height="100%",P.appendChild(R),this.fullLayout=D,this.id=T.id||"scene",this.fullSceneLayout=D[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(D,D[this.id]),this.spikeOptions=b(D[this.id]),this.container=R,this.staticMode=!!T.staticPlot,this.pixelRatio=this.pixelRatio||T.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var y=x.prototype;y.prepareOptions=function(){var T=this,D={canvas:T.canvas,gl:T.gl,glOptions:{preserveDrawingBuffer:n,premultipliedAlpha:!0,antialias:!0},container:T.container,axes:T.axesOptions,spikes:T.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:T.camera,pixelRatio:T.pixelRatio};if(T.staticMode){if(!(A||(S=document.createElement("canvas"),A=d({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");D.gl=A,D.canvas=S}return D};var w=!0;y.tryCreatePlot=function(){var T=this,D=T.prepareOptions(),R=!0;try{T.glplot=_(D)}catch{if(T.staticMode||!w||n)R=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{n=D.glOptions.preserveDrawingBuffer=!0,T.glplot=_(D)}catch{n=D.glOptions.preserveDrawingBuffer=!1,R=!1}}}return w=!1,R},y.initializeGLCamera=function(){var T=this,D=T.fullSceneLayout.camera;T.camera=M(T.container,{center:[D.center.x,D.center.y,D.center.z],eye:[D.eye.x,D.eye.y,D.eye.z],up:[D.up.x,D.up.y,D.up.z],_ortho:"orthographic"===D.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},y.initializeGLPlot=function(){var T=this;if(T.initializeGLCamera(),!T.tryCreatePlot())return l(T);T.traces={},T.make4thDimension();var D=T.graphDiv,R=D.layout,P=function(){var B={};return T.isCameraChanged(R)&&(B[T.id+".camera"]=T.getCamera()),T.isAspectChanged(R)&&(B[T.id+".aspectratio"]=T.glplot.getAspectratio(),"manual"!==R[T.id].aspectmode&&(T.fullSceneLayout.aspectmode=R[T.id].aspectmode=B[T.id+".aspectmode"]="manual")),B},O=function(B){if(!1!==B.fullSceneLayout.dragmode){var q=P();B.saveLayout(R),B.graphDiv.emit("plotly_relayout",q)}};return T.glplot.canvas&&(T.glplot.canvas.addEventListener("mouseup",function(){O(T)}),T.glplot.canvas.addEventListener("touchstart",function(){v=!0}),T.glplot.canvas.addEventListener("wheel",function(B){if(D._context._scrollZoom.gl3d){if(T.camera._ortho){var q=B.deltaX>B.deltaY?1.1:.9090909090909091,N=T.glplot.getAspectratio();T.glplot.setAspectratio({x:q*N.x,y:q*N.y,z:q*N.z})}O(T)}},!!s&&{passive:!1}),T.glplot.canvas.addEventListener("mousemove",function(){if(!1!==T.fullSceneLayout.dragmode&&0!==T.camera.mouseListener.buttons){var B=P();T.graphDiv.emit("plotly_relayouting",B)}}),T.staticMode||T.glplot.canvas.addEventListener("webglcontextlost",function(B){D&&D.emit&&D.emit("plotly_webglcontextlost",{event:B,layer:T.id})},!1)),T.glplot.oncontextloss=function(){T.recoverContext()},T.glplot.onrender=function(){T.render()},!0},y.render=function(){var T,D=this,R=D.graphDiv,P=D.svgContainer,O=D.container.getBoundingClientRect();R._fullLayout._calcInverseTransform(R);var N=O.width*R._fullLayout._invScaleX,H=O.height*R._fullLayout._invScaleY;P.setAttributeNS(null,"viewBox","0 0 "+N+" "+H),P.setAttributeNS(null,"width",N),P.setAttributeNS(null,"height",H),p(D),D.glplot.axes.update(D.axesOptions);for(var $=Object.keys(D.traces),j=null,W=D.glplot.selection,G=0;G<$.length;++G)"skip"!==(T=D.traces[$[G]]).data.hoverinfo&&T.handlePick(W)&&(j=T),T.setContourLevels&&T.setContourLevels();function ae(xe,be,ye){var Se=D.fullSceneLayout[xe+"axis"];return"log"!==Se.type&&(be=Se.d2l(be)),r.hoverLabelText(Se,be,ye)}if(null!==j){var Q,te=h(D.glplot.cameraParams,W.dataCoordinate),ee=R._fullData[(T=j.data).index],re=W.index,J={xLabel:ae("x",W.traceCoordinate[0],T.xhoverformat),yLabel:ae("y",W.traceCoordinate[1],T.yhoverformat),zLabel:ae("z",W.traceCoordinate[2],T.zhoverformat)},le=o.castHoverinfo(ee,D.fullLayout,re),fe=(le||"").split("+"),ce=le&&"all"===le;ee.hovertemplate||ce||(-1===fe.indexOf("x")&&(J.xLabel=void 0),-1===fe.indexOf("y")&&(J.yLabel=void 0),-1===fe.indexOf("z")&&(J.zLabel=void 0),-1===fe.indexOf("text")&&(W.textLabel=void 0),-1===fe.indexOf("name")&&(j.name=void 0));var ge=[];"cone"===T.type||"streamtube"===T.type?(J.uLabel=ae("x",W.traceCoordinate[3],T.uhoverformat),(ce||-1!==fe.indexOf("u"))&&ge.push("u: "+J.uLabel),J.vLabel=ae("y",W.traceCoordinate[4],T.vhoverformat),(ce||-1!==fe.indexOf("v"))&&ge.push("v: "+J.vLabel),J.wLabel=ae("z",W.traceCoordinate[5],T.whoverformat),(ce||-1!==fe.indexOf("w"))&&ge.push("w: "+J.wLabel),J.normLabel=W.traceCoordinate[6].toPrecision(3),(ce||-1!==fe.indexOf("norm"))&&ge.push("norm: "+J.normLabel),"streamtube"===T.type&&(J.divergenceLabel=W.traceCoordinate[7].toPrecision(3),(ce||-1!==fe.indexOf("divergence"))&&ge.push("divergence: "+J.divergenceLabel)),W.textLabel&&ge.push(W.textLabel),Q=ge.join("<br>")):"isosurface"===T.type||"volume"===T.type?(J.valueLabel=r.hoverLabelText(D._mockAxis,D._mockAxis.d2l(W.traceCoordinate[3]),T.valuehoverformat),ge.push("value: "+J.valueLabel),W.textLabel&&ge.push(W.textLabel),Q=ge.join("<br>")):Q=W.textLabel;var Te={x:W.traceCoordinate[0],y:W.traceCoordinate[1],z:W.traceCoordinate[2],data:ee._input,fullData:ee,curveNumber:ee.index,pointNumber:re};o.appendArrayPointValue(Te,ee,re),T._module.eventData&&(Te=ee._module.eventData(Te,W,ee,{},re));var Me={points:[Te]};if(D.fullSceneLayout.hovermode){var we=[];o.loneHover({trace:ee,x:(.5+.5*te[0]/te[3])*N,y:(.5-.5*te[1]/te[3])*H,xLabel:J.xLabel,yLabel:J.yLabel,zLabel:J.zLabel,text:Q,name:j.name,color:o.castHoverOption(ee,re,"bgcolor")||j.color,borderColor:o.castHoverOption(ee,re,"bordercolor"),fontFamily:o.castHoverOption(ee,re,"font.family"),fontSize:o.castHoverOption(ee,re,"font.size"),fontColor:o.castHoverOption(ee,re,"font.color"),nameLength:o.castHoverOption(ee,re,"namelength"),textAlign:o.castHoverOption(ee,re,"align"),hovertemplate:i.castOption(ee,re,"hovertemplate"),hovertemplateLabels:i.extendFlat({},Te,J),eventData:[Te]},{container:P,gd:R,inOut_bbox:we}),Te.bbox=we[0]}R.emit(W.distance<5&&(W.buttons||v)?"plotly_click":"plotly_hover",Me),this.oldEventData=Me}else o.loneUnhover(P),this.oldEventData&&R.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},y.recoverContext=function(){var T=this;T.glplot.dispose();var D=function(){T.glplot.gl.isContextLost()?requestAnimationFrame(D):T.initializeGLPlot()?T.plot.apply(T,T.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(D)};var f=["xaxis","yaxis","zaxis"];function C(T,D,R){for(var P=T.fullSceneLayout,O=0;O<3;O++){var B=f[O],q=B.charAt(0),N=P[B],H=D[q],$=D[q+"calendar"],j=D["_"+q+"length"];if(i.isArrayOrTypedArray(H))for(var W,G=0;G<(j||H.length);G++)if(i.isArrayOrTypedArray(H[G]))for(var ae=0;ae<H[G].length;++ae)W=N.d2l(H[G][ae],0,$),!isNaN(W)&&isFinite(W)&&(R[0][O]=Math.min(R[0][O],W),R[1][O]=Math.max(R[1][O],W));else W=N.d2l(H[G],0,$),!isNaN(W)&&isFinite(W)&&(R[0][O]=Math.min(R[0][O],W),R[1][O]=Math.max(R[1][O],W));else R[0][O]=Math.min(R[0][O],0),R[1][O]=Math.max(R[1][O],j-1)}}y.plot=function(T,D,R){var P=this;if(P.plotArgs=[T,D,R],!P.glplot.contextLost){var O,B,q,N,H,$,j=D[P.id],W=R[P.id];P.fullLayout=D,P.fullSceneLayout=j,P.axesOptions.merge(D,j),P.spikeOptions.merge(j),P.setViewport(j),P.updateFx(j.dragmode,j.hovermode),P.camera.enableWheel=P.graphDiv._context._scrollZoom.gl3d,P.glplot.setClearColor(u(j.bgcolor)),P.setConvert(H),T?Array.isArray(T)||(T=[T]):T=[];var G=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(q=0;q<T.length;++q)!0===(O=T[q]).visible&&0!==O._length&&C(this,O,G);!function(Oe,ze){for(var je=Oe.fullSceneLayout,ve=je.annotations||[],Ae=0;Ae<3;Ae++)for(var Le=f[Ae],Ve=Le.charAt(0),Ne=je[Le],We=0;We<ve.length;We++){var Xe=ve[We];if(Xe.visible){var nt=Ne.r2l(Xe[Ve]);!isNaN(nt)&&isFinite(nt)&&(ze[0][Ae]=Math.min(ze[0][Ae],nt),ze[1][Ae]=Math.max(ze[1][Ae],nt))}}}(this,G);var ae=[1,1,1];for(N=0;N<3;++N)ae[N]=G[1][N]===G[0][N]?1:1/(G[1][N]-G[0][N]);for(P.dataScale=ae,P.convertAnnotations(this),q=0;q<T.length;++q)!0===(O=T[q]).visible&&0!==O._length&&((B=P.traces[O.uid])?B.data.type===O.type?B.update(O):(B.dispose(),B=O._module.plot(this,O),P.traces[O.uid]=B):(B=O._module.plot(this,O),P.traces[O.uid]=B),B.name=O.name);var te=Object.keys(P.traces);e:for(q=0;q<te.length;++q){for(N=0;N<T.length;++N)if(T[N].uid===te[q]&&!0===T[N].visible&&0!==T[N]._length)continue e;(B=P.traces[te[q]]).dispose(),delete P.traces[te[q]]}P.glplot.objects.sort(function(Oe,ze){return Oe._trace.data.index-ze._trace.data.index});var Q,ee=[[0,0,0],[0,0,0]],re=[],J={};for(q=0;q<3;++q){var le;if(($=(H=j[f[q]]).type)in J?(J[$].acc*=ae[q],J[$].count+=1):J[$]={acc:ae[q],count:1},H.autorange){ee[0][q]=1/0,ee[1][q]=-1/0;var fe=P.glplot.objects,ce=P.fullSceneLayout.annotations||[],ge=H._name.charAt(0);for(N=0;N<fe.length;N++){var Te=fe[N],Me=Te.bounds,we=Te._trace.data._pad||0;ee[0][q]="ErrorBars"===Te.constructor.name&&H._lowerLogErrorBound?Math.min(ee[0][q],H._lowerLogErrorBound):Math.min(ee[0][q],Me[0][q]/ae[q]-we),ee[1][q]=Math.max(ee[1][q],Me[1][q]/ae[q]+we)}for(N=0;N<ce.length;N++){var xe=ce[N];if(xe.visible){var be=H.r2l(xe[ge]);ee[0][q]=Math.min(ee[0][q],be),ee[1][q]=Math.max(ee[1][q],be)}}if("rangemode"in H&&"tozero"===H.rangemode&&(ee[0][q]=Math.min(ee[0][q],0),ee[1][q]=Math.max(ee[1][q],0)),ee[0][q]>ee[1][q])ee[0][q]=-1,ee[1][q]=1;else{var ye=ee[1][q]-ee[0][q];ee[0][q]-=ye/32,ee[1][q]+=ye/32}if(le=m(le=[ee[0][q],ee[1][q]],H),ee[0][q]=le[0],ee[1][q]=le[1],H.isReversed()){var Se=ee[0][q];ee[0][q]=ee[1][q],ee[1][q]=Se}}else ee[0][q]=H.r2l((le=H.range)[0]),ee[1][q]=H.r2l(le[1]);ee[0][q]===ee[1][q]&&(ee[0][q]-=1,ee[1][q]+=1),re[q]=ee[1][q]-ee[0][q],H.range=[ee[0][q],ee[1][q]],H.limitRange(),P.glplot.setBounds(q,{min:H.range[0]*ae[q],max:H.range[1]*ae[q]})}var Ee=j.aspectmode;if("cube"===Ee)Q=[1,1,1];else if("manual"===Ee){var he=j.aspectratio;Q=[he.x,he.y,he.z]}else{if("auto"!==Ee&&"data"!==Ee)throw new Error("scene.js aspectRatio was not one of the enumerated types");var ue=[1,1,1];for(q=0;q<3;++q){var me=J[$=(H=j[f[q]]).type];ue[q]=Math.pow(me.acc,1/me.count)/ae[q]}Q="data"===Ee||Math.max.apply(null,ue)/Math.min.apply(null,ue)<=4?ue:[1,1,1]}j.aspectratio.x=W.aspectratio.x=Q[0],j.aspectratio.y=W.aspectratio.y=Q[1],j.aspectratio.z=W.aspectratio.z=Q[2],P.glplot.setAspectratio(j.aspectratio),P.viewInitial.aspectratio||(P.viewInitial.aspectratio={x:j.aspectratio.x,y:j.aspectratio.y,z:j.aspectratio.z}),P.viewInitial.aspectmode||(P.viewInitial.aspectmode=j.aspectmode);var Pe=j.domain||null,Ce=D._size||null;if(Pe&&Ce){var Ie=P.container.style;Ie.position="absolute",Ie.left=Ce.l+Pe.x[0]*Ce.w+"px",Ie.top=Ce.t+(1-Pe.y[1])*Ce.h+"px",Ie.width=Ce.w*(Pe.x[1]-Pe.x[0])+"px",Ie.height=Ce.h*(Pe.y[1]-Pe.y[0])+"px"}P.glplot.redraw()}},y.destroy=function(){var T=this;T.glplot&&(T.camera.mouseListener.enabled=!1,T.container.removeEventListener("wheel",T.camera.wheelListener),T.camera=null,T.glplot.dispose(),T.container.parentNode.removeChild(T.container),T.glplot=null)},y.getCamera=function(){var T,D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),{up:{x:(T=D.camera).up[0],y:T.up[1],z:T.up[2]},center:{x:T.center[0],y:T.center[1],z:T.center[2]},eye:{x:T.eye[0],y:T.eye[1],z:T.eye[2]},projection:{type:!0===T._ortho?"orthographic":"perspective"}}},y.setViewport=function(T){var D,R=this,P=T.camera;R.camera.lookAt.apply(this,[[(D=P).eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]),R.glplot.setAspectratio(T.aspectratio),"orthographic"===P.projection.type!==R.camera._ortho&&(R.glplot.redraw(),R.glplot.clearRGBA(),R.glplot.dispose(),R.initializeGLPlot())},y.isCameraChanged=function(T){var D=this.getCamera(),R=i.nestedProperty(T,this.id+".camera").get();var N,H,$,j,W,G,O=!1;if(void 0===R)O=!0;else{for(var B=0;B<3;B++)for(var q=0;q<3;q++)if(N=D,j=q,W=void 0,G=void 0,G=["x","y","z"],!(H=R)[(W=["up","center","eye"])[$=B]]||N[W[$]][G[j]]!==H[W[$]][G[j]]){O=!0;break}(!R.projection||D.projection&&D.projection.type!==R.projection.type)&&(O=!0)}return O},y.isAspectChanged=function(T){var D=this.glplot.getAspectratio(),R=i.nestedProperty(T,this.id+".aspectratio").get();return void 0===R||R.x!==D.x||R.y!==D.y||R.z!==D.z},y.saveLayout=function(T){var D,R,P,O,B,q,N=this,H=N.fullLayout,$=N.isCameraChanged(T),j=N.isAspectChanged(T),W=$||j;if(W){var G={};$&&(D=N.getCamera(),P=(R=i.nestedProperty(T,N.id+".camera")).get(),G[N.id+".camera"]=P),j&&(O=N.glplot.getAspectratio(),q=(B=i.nestedProperty(T,N.id+".aspectratio")).get(),G[N.id+".aspectratio"]=q),t.call("_storeDirectGUIEdit",T,H._preGUI,G),$&&(R.set(D),i.nestedProperty(H,N.id+".camera").set(D)),j&&(B.set(O),i.nestedProperty(H,N.id+".aspectratio").set(O),N.glplot.redraw())}return W},y.updateFx=function(T,D){var R=this,P=R.camera;if(P)if("orbit"===T)P.mode="orbit",P.keyBindingMode="rotate";else if("turntable"===T){P.up=[0,0,1],P.mode="turntable",P.keyBindingMode="rotate";var O=R.graphDiv,B=O._fullLayout,q=R.fullSceneLayout.camera,N=q.up.x,H=q.up.y,$=q.up.z;if($/Math.sqrt(N*N+H*H+$*$)<.999){var j=R.id+".camera.up",W={x:0,y:0,z:1},G={};G[j]=W;var ae=O.layout;t.call("_storeDirectGUIEdit",ae,B._preGUI,G),q.up=W,i.nestedProperty(ae,j).set(W)}}else P.keyBindingMode=T;R.fullSceneLayout.hovermode=D},y.toImage=function(T){var D=this;T||(T="png"),D.staticMode&&D.container.appendChild(S),D.glplot.redraw();var R=D.glplot.gl,P=R.drawingBufferWidth,O=R.drawingBufferHeight;R.bindFramebuffer(R.FRAMEBUFFER,null);var B=new Uint8Array(P*O*4);R.readPixels(0,0,P,O,R.RGBA,R.UNSIGNED_BYTE,B),function(j,W,G){for(var ae=0,te=G-1;ae<te;++ae,--te)for(var Q=0;Q<W;++Q)for(var ee=0;ee<4;++ee){var re=4*(W*ae+Q)+ee,J=4*(W*te+Q)+ee,le=j[re];j[re]=j[J],j[J]=le}}(B,P,O),function(j,W,G){for(var ae=0;ae<G;++ae)for(var te=0;te<W;++te){var Q=4*(W*ae+te),ee=j[Q+3];if(ee>0)for(var re=255/ee,J=0;J<3;++J)j[Q+J]=Math.min(re*j[Q+J],255)}}(B,P,O);var q=document.createElement("canvas");q.width=P,q.height=O;var N,H=q.getContext("2d",{willReadFrequently:!0}),$=H.createImageData(P,O);switch($.data.set(B),H.putImageData($,0,0),T){case"jpeg":N=q.toDataURL("image/jpeg");break;case"webp":N=q.toDataURL("image/webp");break;default:N=q.toDataURL("image/png")}return D.staticMode&&D.container.removeChild(S),N},y.setConvert=function(){for(var T=0;T<3;T++){var D=this.fullSceneLayout[f[T]];r.setConvert(D,this.fullLayout),D.setScale=i.noop}},y.make4thDimension=function(){var T=this,D=T.graphDiv._fullLayout;T._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(T._mockAxis,D)},ie.exports=x},52094:function(ie){"use strict";ie.exports=function(z,e,S,A){A=A||z.length;for(var a=new Array(A),M=0;M<A;M++)a[M]=[z[M],e[M],S[M]];return a}},64859:function(ie,z,e){"use strict";var S=e(25376),A=e(85656),a=e(22548),M=e(92872),_=e(34200),d=e(66741),s=e(92880).extendFlat,t=S({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,ie.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:S({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:M.newshape,activeshape:M.activeshape,newselection:_.newselection,activeselection:_.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},A.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:S({editType:"layoutstyle"})}}},47552:function(ie,z,e){"use strict";var S=e(95376),A="1.13.4",a='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',M=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),_=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:M,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:M,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:_,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:_,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=S(d);ie.exports={requiredVersion:A,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+A+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},89032:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){var M=A.split(" "),_=M[0],d=M[1],s=S.isArrayOrTypedArray(a)?S.mean(a):a,t=.5+s/100,i=1.5+s/100,n=["",""],r=[0,0];switch(_){case"top":n[0]="top",r[1]=-i;break;case"bottom":n[0]="bottom",r[1]=i}switch(d){case"left":n[1]="right",r[0]=-t;break;case"right":n[1]="left",r[0]=t}return{anchor:n[0]&&n[1]?n.join("-"):n[0]?n[0]:n[1]?n[1]:"center",offset:r}}},33688:function(ie,z,e){"use strict";var S=e(3480),A=e(3400),a=A.strTranslate,M=A.strScale,_=e(84888).KY,d=e(9616),s=e(33428),t=e(43616),i=e(72736),n=e(14440),r="mapbox",o=z.constants=e(47552);function u(l){return"string"==typeof l&&(-1!==o.styleValuesMapbox.indexOf(l)||0===l.indexOf("mapbox://")||0===l.indexOf("stamen"))}z.name=r,z.attr="subplot",z.idRoot=r,z.idRegex=z.attrRegex=A.counterRegex(r),z.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},z.layoutAttributes=e(5232),z.supplyLayoutDefaults=e(5976),z.plot=function(l){var h=l._fullLayout,c=l.calcdata,b=h._subplots[r];if(S.version!==o.requiredVersion)throw new Error(o.wrongVersionErrorMsg);var p=function(f,C){var T=f._fullLayout;if(""===f._context.mapboxAccessToken)return"";for(var D=[],R=[],P=!1,O=!1,B=0;B<C.length;B++){var q=T[C[B]],N=q.accesstoken;u(q.style)&&(N?A.pushUnique(D,N):(u(q._input.style)&&(A.error("Uses Mapbox map style, but did not set an access token."),P=!0),O=!0)),N&&A.pushUnique(R,N)}if(O){var H=P?o.noAccessTokenErrorMsg:o.missingStyleErrorMsg;throw A.error(H),new Error(H)}return D.length?(D.length>1&&A.warn(o.multipleTokensErrorMsg),D[0]):(R.length&&A.log(["Listed mapbox access token(s)",R.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(l,b);S.accessToken=p;for(var m=0;m<b.length;m++){var v=b[m],x=_(c,r,v),y=h[v],w=y._subplot;w||(w=new n(l,v),h[v]._subplot=w),w.viewInitial||(w.viewInitial={center:A.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),w.plot(x,h,l._promises)}},z.clean=function(l,h,c,b){for(var p=b._subplots[r]||[],m=0;m<p.length;m++){var v=p[m];!h[v]&&b[v]._subplot&&b[v]._subplot.destroy()}},z.toSVG=function(l){for(var h=l._fullLayout,c=h._subplots[r],b=h._size,p=0;p<c.length;p++){var m=h[c[p]],v=m.domain,x=m._subplot.toImage("png");h._glimages.append("svg:image").attr({xmlns:d.svg,"xlink:href":x,x:b.l+b.w*v.x[0],y:b.t+b.h*(1-v.y[1]),width:b.w*(v.x[1]-v.x[0]),height:b.h*(v.y[1]-v.y[0]),preserveAspectRatio:"none"});var y=s.select(m._subplot.div);if(null!==y.select(".mapboxgl-ctrl-logo").node().offsetParent){var w=h._glimages.append("g");w.attr("transform",a(b.l+b.w*v.x[0]+10,b.t+b.h*(1-v.y[0])-31)),w.append("path").attr("d",o.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),w.append("path").attr("d",o.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),w.append("path").attr("d",o.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),w.append("polygon").attr("points",o.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var f=y.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),C=h._glimages.append("g"),T=C.append("text");T.text(f).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":f});var D=t.bBox(T.node()),R=b.w*(v.x[1]-v.x[0]);if(D.width>R/2){var P=f.split("|").join("<br>");T.text(P).attr("data-unformatted",P).call(i.convertToTspans,l),D=t.bBox(T.node())}T.attr("transform",a(-3,8-D.height)),C.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;D.width+6>R&&(O=R/(D.width+6));var B=[b.l+b.w*v.x[1],b.t+b.h*(1-v.y[0])];C.attr("transform",a(B[0],B[1])+M(O))}},z.updateFx=function(l){for(var h=l._fullLayout,c=h._subplots[r],b=0;b<c.length;b++)h[c[b]]._subplot.updateFx(h)}},22360:function(ie,z,e){"use strict";var S=e(3400),A=e(72736).sanitizeHTML,a=e(89032),M=e(47552);function _(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=M.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var d=_.prototype;function s(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var r=0;r<n.length;r++)if("string"!=typeof n[r]||0===n[r].length)return!1;return!0}return S.isPlainObject(n)||"string"==typeof n&&n.length>0}function t(i){var n={},r={};switch(i.type){case"circle":S.extendFlat(r,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":S.extendFlat(r,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":S.extendFlat(r,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var o=i.symbol,u=a(o.textposition,o.iconsize);S.extendFlat(n,{"icon-image":o.icon+"-15","icon-size":o.iconsize/10,"text-field":o.text,"text-size":o.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":o.placement}),S.extendFlat(r,{"icon-color":i.color,"text-color":o.textfont.color,"text-opacity":i.opacity});break;case"raster":S.extendFlat(r,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:n,paint:r}}d.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=s(i)},d.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===i.sourcetype&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},d.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},d.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},d.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},d.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var n=this.findFollowingMapboxLayerId(this.lookupBelow());null!==n&&this.subplot.map.moveLayer(this.idLayer,n)},d.updateSource=function(i){var o,u,l,h,c,n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,s(i)){var r=(h=(o=i).source,c={type:l=o.sourcetype},"geojson"===l?u="data":"vector"===l?u="string"==typeof h?"url":"tiles":"raster"===l?(u="tiles",c.tileSize=256):"image"===l&&(u="url",c.coordinates=o.coordinates),c[u]=h,o.sourceattribution&&(c.attribution=A(o.sourceattribution)),c);n.addSource(this.idSource,r)}},d.findFollowingMapboxLayerId=function(i){if("traces"===i)for(var n=this.subplot.getMapLayers(),r=0;r<n.length;r++){var o=n[r].id;if("string"==typeof o&&0===o.indexOf(M.traceLayerPrefix)){i=o;break}}return i},d.updateLayer=function(i){var n=this.subplot,r=t(i),o=this.lookupBelow(),u=this.findFollowingMapboxLayerId(o);this.removeLayer(),s(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:r.layout,paint:r.paint},u),this.layerType=i.type,this.below=o},d.updateStyle=function(i){if(s(i)){var n=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},d.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},d.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},ie.exports=function(i,n,r){var o=new _(i,n);return o.update(r),o}},5232:function(ie,z,e){"use strict";var S=e(3400),A=e(76308).defaultLine,a=e(86968).u,M=e(25376),_=e(52904).textposition,d=e(67824).overrideAll,s=e(31780).templatedArray,t=e(47552),i=M({noFontVariant:!0});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ie.exports=d({_arrayAttrRegexps:[S.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:A},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:A}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:S.extendFlat({},_,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(ie,z,e){"use strict";var S=e(3400),A=e(168),a=e(51272),M=e(5232);function _(s,t,i,n){i("accesstoken",n.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var r=i("bounds.west"),o=i("bounds.east"),u=i("bounds.south"),l=i("bounds.north");void 0!==r&&void 0!==o&&void 0!==u&&void 0!==l||delete t.bounds,a(s,t,{name:"layers",handleItemDefaults:d}),t._input=s}function d(s,t){function i(l,h){return S.coerce(s,t,M.layers,l,h)}if(i("visible")){var n,r=i("sourcetype"),o="raster"===r||"image"===r;i("source"),i("sourceattribution"),"vector"===r&&i("sourcelayer"),"image"===r&&i("coordinates"),o&&(n="raster");var u=i("type",n);o&&"raster"!==u&&(u=t.type="raster",S.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),"circle"===u&&i("circle.radius"),"line"===u&&(i("line.width"),i("line.dash")),"fill"===u&&i("fill.outlinecolor"),"symbol"===u&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),S.coerceFont(i,"symbol.textfont",void 0,{noFontVariant:!0}),i("symbol.textposition"),i("symbol.placement"))}}ie.exports=function(s,t,i){A(s,t,i,{type:"mapbox",attributes:M,handleDefaults:_,partition:"y",accessToken:t._mapboxAccessToken})}},14440:function(ie,z,e){"use strict";var S=e(3480),A=e(3400),a=e(27144),M=e(24040),_=e(54460),d=e(86476),s=e(93024),t=e(72760),i=t.drawMode,n=t.selectMode,r=e(22676).prepSelect,o=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,h=e(47552),c=e(22360);function b(w,f){this.id=f,this.gd=w;var C=w._fullLayout,T=w._context;this.container=C._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=C._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(C),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var p=b.prototype;p.plot=function(w,f,C){var T,D=this;D.map&&f[D.id].accesstoken!==D.accessToken&&(D.map.remove(),D.map=null,D.styleObj=null,D.traceHash={},D.layerList=[]),T=new Promise(D.map?function(P,O){D.updateMap(w,f,P,O)}:function(P,O){D.createMap(w,f,P,O)}),C.push(T)},p.createMap=function(w,f,C,T){var D=this,R=f[D.id],P=D.styleObj=v(R.style,f);D.accessToken=R.accesstoken;var O=R.bounds,B=O?[[O.west,O.south],[O.east,O.north]]:null,q=D.map=new S.Map({container:D.div,style:P.style,center:y(R.center),zoom:R.zoom,bearing:R.bearing,pitch:R.pitch,maxBounds:B,interactive:!D.isStatic,preserveDrawingBuffer:D.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new S.AttributionControl({compact:!0}));q._canvas.style.left="0px",q._canvas.style.top="0px",D.rejectOnError(T),D.isStatic||D.initFx(w,f);var N=[];N.push(new Promise(function(H){q.once("load",H)})),N=N.concat(a.fetchTraceGeoData(w)),Promise.all(N).then(function(){D.fillBelowLookup(w,f),D.updateData(w),D.updateLayout(f),D.resolveOnRender(C)}).catch(T)},p.updateMap=function(w,f,C,T){var D=this,R=D.map,P=f[this.id];D.rejectOnError(T);var O=[],B=v(P.style,f);JSON.stringify(D.styleObj)!==JSON.stringify(B)&&(D.styleObj=B,R.setStyle(B.style),D.traceHash={},O.push(new Promise(function(q){R.once("styledata",q)}))),O=O.concat(a.fetchTraceGeoData(w)),Promise.all(O).then(function(){D.fillBelowLookup(w,f),D.updateData(w),D.updateLayout(f),D.resolveOnRender(C)}).catch(T)},p.fillBelowLookup=function(w,f){var C,T,D=f[this.id].layers,R=this.belowLookup={},P=!1;for(C=0;C<w.length;C++){var O=w[C][0].trace,B=O._module;"string"==typeof O.below?T=O.below:B.getBelow&&(T=B.getBelow(O,this)),""===T&&(P=!0),R["trace-"+O.uid]=T||""}for(C=0;C<D.length;C++){var q=D[C];R["layout-"+C]=T="string"==typeof q.below?q.below:P?"traces":""}var N,H,$={};for(N in R)$[T=R[N]]?$[T].push(N):$[T]=[N];for(T in $){var j=$[T];if(j.length>1)for(C=0;C<j.length;C++)0===(N=j[C]).indexOf("trace-")?(H=N.split("trace-")[1],this.traceHash[H]&&(this.traceHash[H].below=null)):0===N.indexOf("layout-")&&(H=N.split("layout-")[1],this.layerList[H]&&(this.layerList[H].below=null))}};var m={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function v(w,f){var C={};if(A.isPlainObject(w))C.id=w.id,C.style=w;else if("string"==typeof w)if(C.id=w,-1!==h.styleValuesMapbox.indexOf(w))C.style=x(w);else if(h.stylesNonMapbox[w]){C.style=h.stylesNonMapbox[w];var T=C.style.sources["plotly-"+w],D=T?T.tiles:void 0;D&&D[0]&&"?api_key="===D[0].slice(-9)&&(D[0]+=f._mapboxAccessToken)}else C.style=w;else C.id=h.styleValueDflt,C.style=x(h.styleValueDflt);return C.transition={duration:0,delay:0},C}function x(w){return h.styleUrlPrefix+w+"-"+h.styleUrlSuffix}function y(w){return[w.lon,w.lat]}p.updateData=function(w){var f,C,T,D,R=this.traceHash,P=w.slice().sort(function(H,$){return m[H[0].trace.type]-m[$[0].trace.type]});for(T=0;T<P.length;T++){var O=P[T],B=!1;(f=R[(C=O[0].trace).uid])&&(f.type===C.type?(f.update(O),B=!0):f.dispose()),!B&&C._module&&(R[C.uid]=C._module.plot(this,O))}var q=Object.keys(R);e:for(T=0;T<q.length;T++){var N=q[T];for(D=0;D<w.length;D++)if(N===(C=w[D][0].trace).uid)continue e;(f=R[N]).dispose(),delete R[N]}},p.updateLayout=function(w){var f=this.map,C=w[this.id];this.dragging||this.wheeling||(f.setCenter(y(C.center)),f.setZoom(C.zoom),f.setBearing(C.bearing),f.setPitch(C.pitch)),this.updateLayers(w),this.updateFramework(w),this.updateFx(w),this.map.resize(),this.gd._context._scrollZoom.mapbox?f.scrollZoom.enable():f.scrollZoom.disable()},p.resolveOnRender=function(w){var f=this.map;f.on("render",function C(){f.loaded()&&(f.off("render",C),setTimeout(w,10))})},p.rejectOnError=function(w){var f=this.map;function C(){w(new Error(h.mapOnErrorMsg))}f.once("error",C),f.once("style.error",C),f.once("source.error",C),f.once("tile.error",C),f.once("layer.error",C)},p.createFramework=function(w){var f=this,C=f.div=document.createElement("div");C.id=f.uid,C.style.position="absolute",f.container.appendChild(C),f.xaxis={_id:"x",c2p:function(T){return f.project(T).x}},f.yaxis={_id:"y",c2p:function(T){return f.project(T).y}},f.updateFramework(w),f.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},_.setConvert(f.mockAxis,w)},p.initFx=function(w,f){var C=this,T=C.gd,D=C.map;function R(){s.loneUnhover(f._hoverlayer)}function P(){var O=C.getView();T.emit("plotly_relayouting",C.getViewEditsWithDerived(O))}D.on("moveend",function(O){if(C.map){var B=T._fullLayout;if(O.originalEvent||C.wheeling){var q=B[C.id];M.call("_storeDirectGUIEdit",T.layout,B._preGUI,C.getViewEdits(q));var N=C.getView();q._input.center=q.center=N.center,q._input.zoom=q.zoom=N.zoom,q._input.bearing=q.bearing=N.bearing,q._input.pitch=q.pitch=N.pitch,T.emit("plotly_relayout",C.getViewEditsWithDerived(N))}O.originalEvent&&"mouseup"===O.originalEvent.type?C.dragging=!1:C.wheeling&&(C.wheeling=!1),B._rehover&&B._rehover()}}),D.on("wheel",function(){C.wheeling=!0}),D.on("mousemove",function(O){var B=C.div.getBoundingClientRect(),q=[O.originalEvent.offsetX,O.originalEvent.offsetY];O.target.getBoundingClientRect=function(){return B},C.xaxis.p2c=function(){return D.unproject(q).lng},C.yaxis.p2c=function(){return D.unproject(q).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===C.id&&T._fullLayout[C.id]&&s.hover(T,O,C.id)},s.hover(T,O,C.id),T._fullLayout._hoversubplot=C.id}),D.on("dragstart",function(){C.dragging=!0,R()}),D.on("zoomstart",R),D.on("mouseout",function(){T._fullLayout._hoversubplot=null}),D.on("drag",P),D.on("zoom",P),D.on("dblclick",function(){var O=T._fullLayout[C.id];M.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,C.getViewEdits(O));var B=C.viewInitial;D.setCenter(y(B.center)),D.setZoom(B.zoom),D.setBearing(B.bearing),D.setPitch(B.pitch);var q=C.getView();O._input.center=O.center=q.center,O._input.zoom=O.zoom=q.zoom,O._input.bearing=O.bearing=q.bearing,O._input.pitch=O.pitch=q.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",C.getViewEditsWithDerived(q))}),C.clearOutline=function(){u(C.dragOptions),o(C.dragOptions.gd)},C.onClickInPanFn=function(O){return function(B){var q=T._fullLayout.clickmode;q.indexOf("select")>-1&&l(B.originalEvent,T,[C.xaxis],[C.yaxis],C.id,O),q.indexOf("event")>-1&&s.click(T,B.originalEvent)}}},p.updateFx=function(w){var f=this,C=f.map;if(!f.isStatic){var R=w.dragmode;f.dragOptions=A.extendDeep(f.dragOptions||{},{dragmode:w.dragmode,element:f.div,gd:f.gd,plotinfo:{id:f.id,domain:w[f.id].domain,xaxis:f.xaxis,yaxis:f.yaxis,fillRangeItems:function(B,q){q.isRect?(B.range={})[f.id]=[O([q.xmin,q.ymin]),O([q.xmax,q.ymax])]:(B.lassoPoints={})[f.id]=q.map(O)}},xaxes:[f.xaxis],yaxes:[f.yaxis],subplot:f.id}),C.off("click",f.onClickInPanHandler),n(R)||i(R)?(C.dragPan.disable(),C.on("zoomstart",f.clearOutline),f.dragOptions.prepFn=function(B,q,N){r(B,q,N,f.dragOptions,R)},d.init(f.dragOptions)):(C.dragPan.enable(),C.off("zoomstart",f.clearOutline),f.div.onmousedown=null,f.div.ontouchstart=null,f.div.removeEventListener("touchstart",f.div._ontouchstart),f.onClickInPanHandler=f.onClickInPanFn(f.dragOptions),C.on("click",f.onClickInPanHandler))}function O(B){var q=f.map.unproject(B);return[q.lng,q.lat]}},p.updateFramework=function(w){var f=w[this.id].domain,C=w._size,T=this.div.style;T.width=C.w*(f.x[1]-f.x[0])+"px",T.height=C.h*(f.y[1]-f.y[0])+"px",T.left=C.l+f.x[0]*C.w+"px",T.top=C.t+(1-f.y[1])*C.h+"px",this.xaxis._offset=C.l+f.x[0]*C.w,this.xaxis._length=C.w*(f.x[1]-f.x[0]),this.yaxis._offset=C.t+(1-f.y[1])*C.h,this.yaxis._length=C.h*(f.y[1]-f.y[0])},p.updateLayers=function(w){var f,C=w[this.id].layers,T=this.layerList;if(C.length!==T.length){for(f=0;f<T.length;f++)T[f].dispose();for(T=this.layerList=[],f=0;f<C.length;f++)T.push(c(this,f,C[f]))}else for(f=0;f<C.length;f++)T[f].update(C[f])},p.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},p.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},p.setOptions=function(w,f,C){for(var T in C)this.map[f](w,T,C[T])},p.getMapLayers=function(){return this.map.getStyle().layers},p.addLayer=function(w,f){var C=this.map;if("string"==typeof f){if(""===f)return void C.addLayer(w,f);for(var T=this.getMapLayers(),D=0;D<T.length;D++)if(f===T[D].id)return void C.addLayer(w,f);A.warn(["Trying to add layer with *below* value",f,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}C.addLayer(w)},p.project=function(w){return this.map.project(new S.LngLat(w[0],w[1]))},p.getView=function(){var w=this.map,f=w.getCenter(),C={lon:f.lng,lat:f.lat},T=w.getCanvas(),D=parseInt(T.style.width),R=parseInt(T.style.height);return{center:C,zoom:w.getZoom(),bearing:w.getBearing(),pitch:w.getPitch(),_derived:{coordinates:[w.unproject([0,0]).toArray(),w.unproject([D,0]).toArray(),w.unproject([D,R]).toArray(),w.unproject([0,R]).toArray()]}}},p.getViewEdits=function(w){for(var f=this.id,C=["center","zoom","bearing","pitch"],T={},D=0;D<C.length;D++){var R=C[D];T[f+"."+R]=w[R]}return T},p.getViewEditsWithDerived=function(w){var f=this.id,C=this.getViewEdits(w);return C[f+"._derived"]=w._derived,C},ie.exports=b},66741:function(ie){"use strict";ie.exports=function(z){var e=z.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(ie,z,e){"use strict";var S=e(33428),A=e(94336).m_,a=e(57624).SO,M=e(38248),_=e(83160),d=e(24040),s=e(73060),t=e(31780),i=e(3400),n=e(76308),r=e(39032).BADNUM,o=e(79811),u=e(1936).clearOutline,l=e(55308),h=e(85656),c=e(16672),b=e(84888)._M,p=i.relinkPrivateKeys,m=i._,v=ie.exports={};i.extendFlat(v,d),v.attributes=e(45464),v.attributes.type.values=v.allTypes,v.fontAttrs=e(25376),v.layoutAttributes=e(64859);var x=v.transformsRegistry,y=e(62460);v.executeAPICommand=y.executeAPICommand,v.computeAPICommandBindings=y.computeAPICommandBindings,v.manageCommandObserver=y.manageCommandObserver,v.hasSimpleAPICommandBindings=y.hasSimpleAPICommandBindings,v.redrawText=function(j){return j=i.getGraphDiv(j),new Promise(function(W){setTimeout(function(){j._fullLayout&&(d.getComponentMethod("annotations","draw")(j),d.getComponentMethod("legend","draw")(j),d.getComponentMethod("colorbar","draw")(j),W(v.previousPromises(j)))},300)})},v.resize=function(j){var W;j=i.getGraphDiv(j);var G=new Promise(function(ae,te){j&&!i.isHidden(j)||te(new Error("Resize must be passed a displayed plot div element.")),j._redrawTimer&&clearTimeout(j._redrawTimer),j._resolveResize&&(W=j._resolveResize),j._resolveResize=ae,j._redrawTimer=setTimeout(function(){if(!j.layout||j.layout.width&&j.layout.height||i.isHidden(j))ae(j);else{delete j.layout.width,delete j.layout.height;var Q=j.changed;j.autoplay=!0,d.call("relayout",j,{autosize:!0}).then(function(){j.changed=Q,j._resolveResize===ae&&(delete j._resolveResize,ae(j))})}},100)});return W&&W(G),G},v.previousPromises=function(j){if((j._promises||[]).length)return Promise.all(j._promises).then(function(){j._promises=[]})},v.addLinks=function(j){if(j._context.showLink||j._context.showSources){var W=j._fullLayout,G=i.ensureSingle(W._paper,"text","js-plot-link-container",function(J){J.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:n.defaultLine,"pointer-events":"all"}).each(function(){var le=S.select(this);le.append("tspan").classed("js-link-to-tool",!0),le.append("tspan").classed("js-link-spacer",!0),le.append("tspan").classed("js-sourcelinks",!0)})}),ae=G.node(),te={y:W._paper.attr("height")-9};document.body.contains(ae)&&ae.getComputedTextLength()>=W.width-20?(te["text-anchor"]="start",te.x=5):(te["text-anchor"]="end",te.x=W._paper.attr("width")-7),G.attr(te);var Q=G.select(".js-link-to-tool"),ee=G.select(".js-link-spacer"),re=G.select(".js-sourcelinks");j._context.showSources&&j._context.showSources(j),j._context.showLink&&function(J,le){le.text("");var fe=le.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(J._context.linkText+" "+String.fromCharCode(187));if(J._context.sendData)fe.on("click",function(){v.sendDataToCloud(J)});else{var ce=window.location.pathname.split("/"),ge=window.location.search;fe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ce[2].split(".")[0]+"/"+ce[1]+ge})}}(j,Q),ee.text(Q.text()&&re.text()?" - ":"")}},v.sendDataToCloud=function(j){var W=(window.PLOTLYENV||{}).BASE_URL||j._context.plotlyServerURL;if(W){j.emit("plotly_beforeexport");var G=S.select(j).append("div").attr("id","hiddenform").style("display","none"),ae=G.append("form").attr({action:W+"/external",method:"post",target:"_blank"});return ae.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(j,!1,"keepdata"),ae.node().submit(),G.remove(),j.emit("plotly_afterexport"),!1}};var w=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],f=["year","month","dayMonth","dayMonthYear"];function C(j,W){var G=j._context.locale;G||(G="en-US");var ae=!1,te={};function Q(ce){for(var ge=!0,Te=0;Te<W.length;Te++){var Me=W[Te];te[Me]||(ce[Me]?te[Me]=ce[Me]:ge=!1)}ge&&(ae=!0)}for(var ee=0;ee<2;ee++){for(var re=j._context.locales,J=0;J<2;J++){var le=(re[G]||{}).format;if(le&&(Q(le),ae))break;re=d.localeRegistry}var fe=G.split("-")[0];if(ae||fe===G)break;G=fe}return ae||Q(d.localeRegistry.en.format),te}function T(j,W){var G={_fullLayout:W},ae="x"===j._id.charAt(0),te=j._mainAxis._anchorAxis,Q="",ee="",re="";if(te&&(re=te._mainAxis._id,Q=ae?j._id+re:re+j._id),!Q||!W._plots[Q]){Q="";for(var J=j._counterAxes,le=0;le<J.length;le++){var fe=J[le],ce=ae?j._id+fe:fe+j._id;ee||(ee=ce);var ge=o.getFromId(G,fe);if(re&&ge.overlaying===re){Q=ce;break}}}return Q||ee}function D(j){var W=j.transforms;if(Array.isArray(W)&&W.length)for(var G=0;G<W.length;G++){var ae=W[G],te=ae._module||x[ae.type];if(te&&te.makesData)return!0}return!1}function R(j,W,G,ae){for(var te=j.transforms,Q=[j],ee=0;ee<te.length;ee++){var re=te[ee],J=x[re.type];J&&J.transform&&(Q=J.transform(Q,{transform:re,fullTrace:j,fullData:W,layout:G,fullLayout:ae,transformIndex:ee}))}return Q}function P(j){return"string"==typeof j&&"px"===j.substr(j.length-2)&&parseFloat(j)}function O(j){var W=j.margin;if(!j._size){var G=j._size={l:Math.round(W.l),r:Math.round(W.r),t:Math.round(W.t),b:Math.round(W.b),p:Math.round(W.pad)};G.w=Math.round(j.width)-G.l-G.r,G.h=Math.round(j.height)-G.t-G.b}j._pushmargin||(j._pushmargin={}),j._pushmarginIds||(j._pushmarginIds={}),j._reservedMargin||(j._reservedMargin={})}v.supplyDefaults=function(j,W){var Ne,We,G=W&&W.skipUpdateCalc,ae=j._fullLayout||{};if(ae._skipDefaults)delete ae._skipDefaults;else{var te,Q=j._fullLayout={},ee=j.layout||{},re=j._fullData||[],J=j._fullData=[],le=j.data||[],fe=j.calcdata||[],ce=j._context||{};j._transitionData||v.createTransitionData(j),Q._dfltTitle={plot:m(j,"Click to enter Plot title"),x:m(j,"Click to enter X axis title"),y:m(j,"Click to enter Y axis title"),colorbar:m(j,"Click to enter Colorscale title"),annotation:m(j,"new text")},Q._traceWord=m(j,"trace");var ge=C(j,w);if(Q._mapboxAccessToken=ce.mapboxAccessToken,ae._initialAutoSizeIsDone){var Te=ae.width,Me=ae.height;v.supplyLayoutGlobalDefaults(ee,Q,ge),ee.width||(Q.width=Te),ee.height||(Q.height=Me),v.sanitizeMargins(Q)}else{v.supplyLayoutGlobalDefaults(ee,Q,ge);var we=!ee.width||!ee.height,xe=Q.autosize;we&&(xe||ce.autosizable)?v.plotAutoSize(j,ee,Q):we&&v.sanitizeMargins(Q),!xe&&we&&(ee.width=Q.width,ee.height=Q.height)}Q._d3locale=((Ne=ge).decimal=(We=Q.separators).charAt(0),Ne.thousands=We.charAt(1),{numberFormat:function(Xe){try{Xe=a(Ne).format(i.adjustFormat(Xe))}catch{return i.warnBadFormat(Xe),i.noFormat}return Xe},timeFormat:A(Ne).utcFormat}),Q._extraFormat=C(j,f),Q._initialAutoSizeIsDone=!0,Q._dataLength=le.length,Q._modules=[],Q._visibleModules=[],Q._basePlotModules=[];var ye=Q._subplots=function(){var Ne,We,Xe=d.collectableSubplotTypes,nt={};if(!Xe){Xe=[];var dt=d.subplotsRegistry;for(var ht in dt){var Mt=dt[ht].attr;if(Mt&&(Xe.push(ht),Array.isArray(Mt)))for(We=0;We<Mt.length;We++)i.pushUnique(Xe,Mt[We])}}for(Ne=0;Ne<Xe.length;Ne++)nt[Xe[Ne]]=[];return nt}(),Se=Q._splomAxes={x:{},y:{}},Ee=Q._splomSubplots={};Q._splomGridDflt={},Q._scatterStackOpts={},Q._firstScatter={},Q._alignmentOpts={},Q._colorAxes={},Q._requestRangeslider={},Q._traceUids=function(Ne,We){var Xe,nt,dt=We.length,ht=[];for(Xe=0;Xe<Ne.length;Xe++){var Mt=Ne[Xe]._fullInput;Mt!==nt&&ht.push(Mt),nt=Mt}var kt=ht.length,_t=new Array(dt),ut={};function st(Ht,Pt){_t[Pt]=Ht,ut[Ht]=1}function Lt(Ht,Pt){if(Ht&&"string"==typeof Ht&&!ut[Ht])return st(Ht,Pt),!0}for(Xe=0;Xe<dt;Xe++){var Ut=We[Xe].uid;"number"==typeof Ut&&(Ut=String(Ut)),Lt(Ut,Xe)||Xe<kt&&Lt(ht[Xe].uid,Xe)||st(i.randstr(ut),Xe)}return _t}(re,le),Q._globalTransforms=(j._context||{}).globalTransforms,v.supplyDataDefaults(le,J,ee,Q);var he=Object.keys(Se.x),ue=Object.keys(Se.y);if(he.length>1&&ue.length>1){for(d.getComponentMethod("grid","sizeDefaults")(ee,Q),te=0;te<he.length;te++)i.pushUnique(ye.xaxis,he[te]);for(te=0;te<ue.length;te++)i.pushUnique(ye.yaxis,ue[te]);for(var me in Ee)i.pushUnique(ye.cartesian,me)}if(Q._has=v._hasPlotType.bind(Q),re.length===J.length)for(te=0;te<J.length;te++)p(J[te],re[te]);v.supplyLayoutModuleDefaults(ee,Q,J,j._transitionData);var Pe=Q._visibleModules,Ce=[];for(te=0;te<Pe.length;te++){var Ie=Pe[te].crossTraceDefaults;Ie&&i.pushUnique(Ce,Ie)}for(te=0;te<Ce.length;te++)Ce[te](J,Q);Q._hasOnlyLargeSploms=1===Q._basePlotModules.length&&"splom"===Q._basePlotModules[0].name&&he.length>15&&ue.length>15&&0===Q.shapes.length&&0===Q.images.length,v.linkSubplots(J,Q,re,ae),v.cleanPlot(J,Q,re,ae);var Oe=!(!ae._has||!ae._has("gl2d")),ze=!(!Q._has||!Q._has("gl2d")),je=!(!ae._has||!ae._has("cartesian"))||Oe,ve=!(!Q._has||!Q._has("cartesian"))||ze;je&&!ve?ae._bgLayer.remove():ve&&!je&&(Q._shouldCreateBgLayer=!0),ae._zoomlayer&&!j._dragging&&u({_fullLayout:ae}),function(Ne,We){var Xe,nt=[];We.meta&&(Xe=We._meta={meta:We.meta,layout:{meta:We.meta}});for(var dt=0;dt<Ne.length;dt++){var ht=Ne[dt];ht.meta?nt[ht.index]=ht._meta={meta:ht.meta}:We.meta&&(ht._meta={meta:We.meta}),We.meta&&(ht._meta.layout={meta:We.meta})}nt.length&&(Xe||(Xe=We._meta={}),Xe.data=nt)}(J,Q),p(Q,ae),d.getComponentMethod("colorscale","crossTraceDefaults")(J,Q),Q._preGUI||(Q._preGUI={}),Q._tracePreGUI||(Q._tracePreGUI={});var Ae,Le=Q._tracePreGUI,Ve={};for(Ae in Le)Ve[Ae]="old";for(te=0;te<J.length;te++)Ve[Ae=J[te]._fullInput.uid]||(Le[Ae]={}),Ve[Ae]="new";for(Ae in Ve)"old"===Ve[Ae]&&delete Le[Ae];O(Q),d.getComponentMethod("rangeslider","makeData")(Q),G||fe.length!==J.length||v.supplyDefaultsUpdateCalc(fe,J)}},v.supplyDefaultsUpdateCalc=function(j,W){for(var G=0;G<W.length;G++){var ae=W[G],te=(j[G]||[])[0];if(te&&te.trace){var Q=te.trace;if(Q._hasCalcTransform){var ee,re,J,le=Q._arrayAttrs;for(ee=0;ee<le.length;ee++)J=i.nestedProperty(Q,re=le[ee]).get().slice(),i.nestedProperty(ae,re).set(J)}te.trace=ae}}},v.createTransitionData=function(j){j._transitionData||(j._transitionData={}),j._transitionData._frames||(j._transitionData._frames=[]),j._transitionData._frameHash||(j._transitionData._frameHash={}),j._transitionData._counter||(j._transitionData._counter=0),j._transitionData._interruptCallbacks||(j._transitionData._interruptCallbacks=[])},v._hasPlotType=function(j){var W,G=this._basePlotModules||[];for(W=0;W<G.length;W++)if(G[W].name===j)return!0;var ae=this._modules||[];for(W=0;W<ae.length;W++){var te=ae[W].name;if(te===j)return!0;var Q=d.modules[te];if(Q&&Q.categories[j])return!0}return!1},v.cleanPlot=function(j,W,G,ae){var te,Q,ee=ae._basePlotModules||[];for(te=0;te<ee.length;te++){var re=ee[te];re.clean&&re.clean(j,W,G,ae)}var J=ae._has&&ae._has("gl"),le=W._has&&W._has("gl");J&&!le&&void 0!==ae._glcontainer&&(ae._glcontainer.selectAll(".gl-canvas").remove(),ae._glcontainer.selectAll(".no-webgl").remove(),ae._glcanvas=null);var fe=!!ae._infolayer;e:for(te=0;te<G.length;te++){var ce=G[te].uid;for(Q=0;Q<j.length;Q++)if(ce===j[Q].uid)continue e;fe&&ae._infolayer.select(".cb"+ce).remove()}},v.linkSubplots=function(j,W,G,ae){var te,Q,ee=ae._plots||{},re=W._plots={},J=W._subplots,le={_fullData:j,_fullLayout:W},fe=J.cartesian.concat(J.gl2d||[]);for(te=0;te<fe.length;te++){var ce,ge=fe[te],Te=ee[ge],Me=o.getFromId(le,ge,"x"),we=o.getFromId(le,ge,"y");for(Te?ce=re[ge]=Te:(ce=re[ge]={}).id=ge,Me._counterAxes.push(we._id),we._counterAxes.push(Me._id),Me._subplotsWith.push(ge),we._subplotsWith.push(ge),ce.xaxis=Me,ce.yaxis=we,ce._hasClipOnAxisFalse=!1,Q=0;Q<j.length;Q++){var xe=j[Q];if(xe.xaxis===ce.xaxis._id&&xe.yaxis===ce.yaxis._id&&!1===xe.cliponaxis){ce._hasClipOnAxisFalse=!0;break}}}var be,ye=o.list(le,null,!0);for(te=0;te<ye.length;te++){var Se=null;(be=ye[te]).overlaying&&(Se=o.getFromId(le,be.overlaying))&&Se.overlaying&&(be.overlaying=!1,Se=null),be._mainAxis=Se||be,Se&&(be.domain=Se.domain.slice()),be._anchorAxis="free"===be.anchor?null:o.getFromId(le,be.anchor)}for(te=0;te<ye.length;te++)if((be=ye[te])._counterAxes.sort(o.idSort),be._subplotsWith.sort(i.subplotSort),be._mainSubplot=T(be,W),be._counterAxes.length&&(be.spikemode&&-1!==be.spikemode.indexOf("across")||be.automargin&&be.mirror&&"free"!==be.anchor||d.getComponentMethod("rangeslider","isVisible")(be))){var Ee=1,he=0;for(Q=0;Q<be._counterAxes.length;Q++){var ue=o.getFromId(le,be._counterAxes[Q]);Ee=Math.min(Ee,ue.domain[0]),he=Math.max(he,ue.domain[1])}Ee<he&&(be._counterDomainMin=Ee,be._counterDomainMax=he)}},v.clearExpandedTraceDefaultColors=function(j){var W,G,ae;for(G=[],(W=j._module._colorAttrs)||(j._module._colorAttrs=W=[],s.crawl(j._module.attributes,function(te,Q,ee,re){G[re]=Q,G.length=re+1,"color"===te.valType&&void 0===te.dflt&&W.push(G.join("."))})),ae=0;ae<W.length;ae++)i.nestedProperty(j,"_input."+W[ae]).get()||i.nestedProperty(j,W[ae]).set(null)},v.supplyDataDefaults=function(j,W,G,ae){var te,Q,ee,re=ae._modules,J=ae._visibleModules,le=ae._basePlotModules,fe=0,ce=0;function ge(me){W.push(me);var Pe=me._module;Pe&&(i.pushUnique(re,Pe),!0===me.visible&&i.pushUnique(J,Pe),i.pushUnique(le,me._module.basePlotModule),fe++,!1!==me._input.visible&&ce++)}ae._transformModules=[];var Te={},Me=[],xe=t.traceTemplater((G.template||{}).data||{});for(te=0;te<j.length;te++){if((Q=xe.newTrace(ee=j[te])).uid=ae._traceUids[te],v.supplyTraceDefaults(ee,Q,ce,ae,te),Q.index=te,Q._input=ee,Q._expandedIndex=fe,Q.transforms&&Q.transforms.length)for(var be=!1!==ee.visible&&!1===Q.visible,ye=R(Q,W,G,ae),Se=0;Se<ye.length;Se++){var Ee=ye[Se],he={_template:Q._template,type:Q.type,uid:Q.uid+Se};be&&!1===Ee.visible&&delete Ee.visible,v.supplyTraceDefaults(Ee,he,fe,ae,te),p(he,Ee),he.index=te,he._input=ee,he._fullInput=Q,he._expandedIndex=fe,he._expandedInput=Ee,ge(he)}else Q._fullInput=Q,Q._expandedInput=Q,ge(Q);d.traceIs(Q,"carpetAxis")&&(Te[Q.carpet]=Q),d.traceIs(Q,"carpetDependent")&&Me.push(te)}for(te=0;te<Me.length;te++)if((Q=W[Me[te]]).visible){var ue=Te[Q.carpet];Q._carpet=ue,ue&&ue.visible?(Q.xaxis=ue.xaxis,Q.yaxis=ue.yaxis):Q.visible=!1}},v.supplyAnimationDefaults=function(j){var W;j=j||{};var G={};function ae(te,Q){return i.coerce(j||{},G,h,te,Q)}if(ae("mode"),ae("direction"),ae("fromcurrent"),Array.isArray(j.frame))for(G.frame=[],W=0;W<j.frame.length;W++)G.frame[W]=v.supplyAnimationFrameDefaults(j.frame[W]||{});else G.frame=v.supplyAnimationFrameDefaults(j.frame||{});if(Array.isArray(j.transition))for(G.transition=[],W=0;W<j.transition.length;W++)G.transition[W]=v.supplyAnimationTransitionDefaults(j.transition[W]||{});else G.transition=v.supplyAnimationTransitionDefaults(j.transition||{});return G},v.supplyAnimationFrameDefaults=function(j){var W={};function G(ae,te){return i.coerce(j||{},W,h.frame,ae,te)}return G("duration"),G("redraw"),W},v.supplyAnimationTransitionDefaults=function(j){var W={};function G(ae,te){return i.coerce(j||{},W,h.transition,ae,te)}return G("duration"),G("easing"),W},v.supplyFrameDefaults=function(j){var W={};function G(ae,te){return i.coerce(j,W,c,ae,te)}return G("group"),G("name"),G("traces"),G("baseframe"),G("data"),G("layout"),W},v.supplyTraceDefaults=function(j,W,G,ae,te){var Q,ee=ae.colorway||n.defaults,re=ee[G%ee.length];function J(Se,Ee){return i.coerce(j,W,v.attributes,Se,Ee)}var le=J("visible");J("type"),J("name",ae._traceWord+" "+te),J("uirevision",ae.uirevision);var fe=v.getModule(W);if(W._module=fe,fe){var ce=fe.basePlotModule,ge=ce.attr,Te=ce.attributes;if(ge&&Te){var Me=ae._subplots,we="";if(le||"gl2d"!==ce.name){if(Array.isArray(ge))for(Q=0;Q<ge.length;Q++){var xe=ge[Q],be=i.coerce(j,W,Te,xe);Me[xe]&&i.pushUnique(Me[xe],be),we+=be}else we=i.coerce(j,W,Te,ge);Me[ce.name]&&i.pushUnique(Me[ce.name],we)}}}if(le){if(J("customdata"),J("ids"),J("meta"),d.traceIs(W,"showLegend")?(i.coerce(j,W,fe.attributes.showlegend?fe.attributes:v.attributes,"showlegend"),J("legend"),J("legendwidth"),J("legendgroup"),J("legendgrouptitle.text"),J("legendrank"),W._dfltShowLegend=!0):W._dfltShowLegend=!1,fe&&fe.supplyDefaults(j,W,re,ae),d.traceIs(W,"noOpacity")||J("opacity"),d.traceIs(W,"notLegendIsolatable")&&(W.visible=!!W.visible),d.traceIs(W,"noHover")||(W.hovertemplate||i.coerceHoverinfo(j,W,ae),"parcats"!==W.type&&d.getComponentMethod("fx","supplyDefaults")(j,W,re,ae)),fe&&fe.selectPoints){var ye=J("selectedpoints");i.isTypedArray(ye)&&(W.selectedpoints=Array.from(ye))}v.supplyTransformDefaults(j,W,ae)}return W},v.hasMakesDataTransform=D,v.supplyTransformDefaults=function(j,W,G){if(W._length||D(j)){var ae=G._globalTransforms||[],te=G._transformModules||[];if(Array.isArray(j.transforms)||0!==ae.length)for(var ee=ae.concat(j.transforms||[]),re=W.transforms=[],J=0;J<ee.length;J++){var le,fe=ee[J],ce=fe.type,ge=x[ce],Te=!(fe._module&&fe._module===ge),Me=ge&&"function"==typeof ge.transform;ge||i.warn("Unrecognized transform type "+ce+"."),ge&&ge.supplyDefaults&&(Te||Me)?((le=ge.supplyDefaults(fe,W,G,j)).type=ce,le._module=ge,i.pushUnique(te,ge)):le=i.extendFlat({},fe),re.push(le)}}},v.supplyLayoutGlobalDefaults=function(j,W,G){function ae(fe,ce){return i.coerce(j,W,v.layoutAttributes,fe,ce)}var te=j.template;i.isPlainObject(te)&&(W.template=te,W._template=te.layout,W._dataTemplate=te.data),ae("autotypenumbers");var Q=i.coerceFont(ae,"font");i.coerceFont(ae,"title.font",i.extendFlat({},Q,{size:Math.round(1.4*Q.size)})),ae("title.text",W._dfltTitle.plot),ae("title.xref");var re=ae("title.yref");ae("title.pad.t"),ae("title.pad.r"),ae("title.pad.b"),ae("title.pad.l");var J=ae("title.automargin");ae("title.x"),ae("title.xanchor"),ae("title.y"),ae("title.yanchor"),J&&("paper"===re&&(0!==W.title.y&&(W.title.y=1),"auto"===W.title.yanchor&&(W.title.yanchor=0===W.title.y?"top":"bottom")),"container"===re&&("auto"===W.title.y&&(W.title.y=1),"auto"===W.title.yanchor&&(W.title.yanchor=W.title.y<.5?"bottom":"top"))),ae("uniformtext.mode")&&ae("uniformtext.minsize"),ae("autosize",!(j.width&&j.height)),ae("width"),ae("height"),ae("minreducedwidth"),ae("minreducedheight"),ae("margin.l"),ae("margin.r"),ae("margin.t"),ae("margin.b"),ae("margin.pad"),ae("margin.autoexpand"),j.width&&j.height&&v.sanitizeMargins(W),d.getComponentMethod("grid","sizeDefaults")(j,W),ae("paper_bgcolor"),ae("separators",G.decimal+G.thousands),ae("hidesources"),ae("colorway"),ae("datarevision");var le=ae("uirevision");ae("editrevision",le),ae("selectionrevision",le),d.getComponentMethod("modebar","supplyLayoutDefaults")(j,W),d.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(j,W,ae),d.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(j,W,ae),ae("meta"),i.isPlainObject(j.transition)&&(ae("transition.duration"),ae("transition.easing"),ae("transition.ordering")),d.getComponentMethod("calendars","handleDefaults")(j,W,"calendar"),d.getComponentMethod("fx","supplyLayoutGlobalDefaults")(j,W,ae),i.coerce(j,W,l,"scattermode")},v.plotAutoSize=function(j,W,G){var ae,te,Q=j._context||{},ee=Q.frameMargins,re=i.isPlotDiv(j);if(re&&j.emit("plotly_autosize"),Q.fillFrame)ae=window.innerWidth,te=window.innerHeight,document.body.style.overflow="hidden";else{var J=re?window.getComputedStyle(j):{};if(ae=P(J.width)||P(J.maxWidth)||G.width,te=P(J.height)||P(J.maxHeight)||G.height,M(ee)&&ee>0){var le=1-2*ee;ae=Math.round(le*ae),te=Math.round(le*te)}}var fe=v.layoutAttributes.width.min,ce=v.layoutAttributes.height.min;ae<fe&&(ae=fe),te<ce&&(te=ce);var ge=!W.width&&Math.abs(G.width-ae)>1,Te=!W.height&&Math.abs(G.height-te)>1;(Te||ge)&&(ge&&(G.width=ae),Te&&(G.height=te)),j._initialAutoSize||(j._initialAutoSize={width:ae,height:te}),v.sanitizeMargins(G)},v.supplyLayoutModuleDefaults=function(j,W,G,ae){var te,Q,ee,re=d.componentsRegistry,J=W._basePlotModules,le=d.subplotsRegistry.cartesian;for(te in re)(ee=re[te]).includeBasePlot&&ee.includeBasePlot(j,W);for(var fe in J.length||J.push(le),W._has("cartesian")&&(d.getComponentMethod("grid","contentDefaults")(j,W),le.finalizeSubplots(j,W)),W._subplots)W._subplots[fe].sort(i.subplotSort);for(Q=0;Q<J.length;Q++)(ee=J[Q]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,W,G);var ce=W._modules;for(Q=0;Q<ce.length;Q++)(ee=ce[Q]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,W,G);var ge=W._transformModules;for(Q=0;Q<ge.length;Q++)(ee=ge[Q]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,W,G,ae);for(te in re)(ee=re[te]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,W,G)},v.purge=function(j){var W=j._fullLayout||{};void 0!==W._glcontainer&&(W._glcontainer.selectAll(".gl-canvas").remove(),W._glcontainer.remove(),W._glcanvas=null),W._modeBar&&W._modeBar.destroy(),j._transitionData&&(j._transitionData._interruptCallbacks&&(j._transitionData._interruptCallbacks.length=0),j._transitionData._animationRaf&&window.cancelAnimationFrame(j._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(j),delete j.data,delete j.layout,delete j._fullData,delete j._fullLayout,delete j.calcdata,delete j.empty,delete j.fid,delete j.undoqueue,delete j.undonum,delete j.autoplay,delete j.changed,delete j._promises,delete j._redrawTimer,delete j._hmlumcount,delete j._hmpixcount,delete j._transitionData,delete j._transitioning,delete j._initialAutoSize,delete j._transitioningWithDuration,delete j._dragging,delete j._dragged,delete j._dragdata,delete j._hoverdata,delete j._snapshotInProgress,delete j._editing,delete j._mouseDownTime,delete j._legendMouseDownTime,j.removeAllListeners&&j.removeAllListeners()},v.style=function(j){var W,G=j._fullLayout._visibleModules,ae=[];for(W=0;W<G.length;W++){var te=G[W];te.style&&i.pushUnique(ae,te.style)}for(W=0;W<ae.length;W++)ae[W](j)},v.sanitizeMargins=function(j){if(j&&j.margin){var W,G=j.width,ae=j.height,te=j.margin,ee=ae-(te.t+te.b);G-(te.l+te.r)<0&&(W=(G-1)/(te.l+te.r),te.l=Math.floor(W*te.l),te.r=Math.floor(W*te.r)),ee<0&&(W=(ae-1)/(te.t+te.b),te.t=Math.floor(W*te.t),te.b=Math.floor(W*te.b))}},v.clearAutoMarginIds=function(j){j._fullLayout._pushmarginIds={}},v.allowAutoMargin=function(j,W){j._fullLayout._pushmarginIds[W]=1},v.autoMargin=function(j,W,G){var ae=j._fullLayout,te=ae.width,Q=ae.height,ee=ae.margin,J=ae.minreducedheight,le=i.constrain(te-ee.l-ee.r,2,ae.minreducedwidth),fe=i.constrain(Q-ee.t-ee.b,2,J),ce=Math.max(0,te-le),ge=Math.max(0,Q-fe),Te=ae._pushmargin,Me=ae._pushmarginIds;if(!1!==ee.autoexpand){if(G){var we=G.pad;if(void 0===we&&(we=Math.min(12,ee.l,ee.r,ee.t,ee.b)),ce){var xe=(G.l+G.r)/ce;xe>1&&(G.l/=xe,G.r/=xe)}if(ge){var be=(G.t+G.b)/ge;be>1&&(G.t/=be,G.b/=be)}Te[W]={l:{val:void 0!==G.xl?G.xl:G.x,size:G.l+we},r:{val:void 0!==G.xr?G.xr:G.x,size:G.r+we},b:{val:void 0!==G.yb?G.yb:G.y,size:G.b+we},t:{val:void 0!==G.yt?G.yt:G.y,size:G.t+we}},Me[W]=1}else delete Te[W],delete Me[W];if(!ae._replotting)return v.doAutoMargin(j)}},v.doAutoMargin=function(j){var W=j._fullLayout,G=W.width,ae=W.height;W._size||(W._size={}),O(W);var te=W._size,Q=W.margin,ee={t:0,b:0,l:0,r:0},re=i.extendFlat({},te),J=Q.l,le=Q.r,fe=Q.t,ce=Q.b,ge=W._pushmargin,Te=W._pushmarginIds,Me=W.minreducedwidth,we=W.minreducedheight;if(!1!==Q.autoexpand){for(var xe in ge)Te[xe]||delete ge[xe];var be=j._fullLayout._reservedMargin;for(var ye in be)for(var Se in be[ye])ee[Se]=Math.max(ee[Se],be[ye][Se]);for(var he in ge.base={l:{val:0,size:J},r:{val:1,size:le},t:{val:1,size:fe},b:{val:0,size:ce}},ee){var ue=0;for(var me in ge)"base"!==me&&M(ge[me][he].size)&&(ue=ge[me][he].size>ue?ge[me][he].size:ue);var Pe=Math.max(0,Q[he]-ue);ee[he]=Math.max(0,ee[he]-Pe)}for(var Ce in ge){var Ie=ge[Ce].l||{},Oe=ge[Ce].b||{},ze=Ie.val,je=Ie.size,ve=Oe.val,Ae=Oe.size,Le=G-ee.r-ee.l,Ve=ae-ee.t-ee.b;for(var Ne in ge){if(M(je)&&ge[Ne].r){var We=ge[Ne].r.val,Xe=ge[Ne].r.size;if(We>ze){var nt=(je*We+(Xe-Le)*ze)/(We-ze),dt=(Xe*(1-ze)+(je-Le)*(1-We))/(We-ze);nt+dt>J+le&&(J=nt,le=dt)}}if(M(Ae)&&ge[Ne].t){var ht=ge[Ne].t.val,Mt=ge[Ne].t.size;if(ht>ve){var kt=(Ae*ht+(Mt-Ve)*ve)/(ht-ve),_t=(Mt*(1-ve)+(Ae-Ve)*(1-ht))/(ht-ve);kt+_t>ce+fe&&(ce=kt,fe=_t)}}}}}var Ge,ut=i.constrain(G-Q.l-Q.r,2,Me),st=i.constrain(ae-Q.t-Q.b,2,we),Lt=Math.max(0,G-ut),Ut=Math.max(0,ae-st);if(Lt){var Ht=(J+le)/Lt;Ht>1&&(J/=Ht,le/=Ht)}if(Ut){var Pt=(ce+fe)/Ut;Pt>1&&(ce/=Pt,fe/=Pt)}if(te.l=Math.round(J)+ee.l,te.r=Math.round(le)+ee.r,te.t=Math.round(fe)+ee.t,te.b=Math.round(ce)+ee.b,te.p=Math.round(Q.pad),te.w=Math.round(G)-te.l-te.r,te.h=Math.round(ae)-te.t-te.b,!W._replotting&&(v.didMarginChange(re,te)||function(tt){if("_redrawFromAutoMarginCount"in tt._fullLayout)return!1;var Ge=o.list(tt,"",!0);for(var Qe in Ge)if(Ge[Qe].autoshift||Ge[Qe].shift)return!0;return!1}(j))){"_redrawFromAutoMarginCount"in W?W._redrawFromAutoMarginCount++:W._redrawFromAutoMarginCount=1;var Je=3*(1+Object.keys(Te).length);if(W._redrawFromAutoMarginCount<Je)return d.call("_doPlot",j);W._size=re,i.warn("Too many auto-margin redraws.")}Ge=o.list(j,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Qe){for(var pt=0;pt<Ge.length;pt++){var ct=Ge[pt][Qe];ct&&ct()}})};var B=["l","r","t","b","p","w","h"];function q(j,W,G){var ae=!1,Q=i.syncOrAsync([v.previousPromises,function(){if(j._transitionData)return j._transitioning=!1,function(ee){var re=Promise.resolve();if(!ee)return re;for(;ee.length;)re=re.then(ee.shift());return re}(j._transitionData._interruptCallbacks)},G.prepareFn,v.rehover,v.reselect,function(){return j.emit("plotly_transitioning",[]),new Promise(function(ee){j._transitioning=!0,W.duration>0&&(j._transitioningWithDuration=!0),j._transitionData._interruptCallbacks.push(function(){ae=!0}),G.redraw&&j._transitionData._interruptCallbacks.push(function(){return d.call("redraw",j)}),j._transitionData._interruptCallbacks.push(function(){j.emit("plotly_transitioninterrupted",[])});var re=0,J=0;function le(){return re++,function(){var fe;J++,ae||J!==re||(fe=ee,j._transitionData&&(function(ce){if(ce)for(;ce.length;)ce.shift()}(j._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(G.redraw)return d.call("redraw",j)}).then(function(){j._transitioning=!1,j._transitioningWithDuration=!1,j.emit("plotly_transitioned",[])}).then(fe)))}}G.runFn(le),setTimeout(le())})}],j);return Q&&Q.then||(Q=Promise.resolve()),Q.then(function(){return j})}v.didMarginChange=function(j,W){for(var G=0;G<B.length;G++){var ae=B[G],te=j[ae],Q=W[ae];if(!M(te)||Math.abs(Q-te)>1)return!0}return!1},v.graphJson=function(j,W,G,ae,te,Q){(te&&W&&!j._fullData||te&&!W&&!j._fullLayout)&&v.supplyDefaults(j);var re=te?j._fullLayout:j.layout,J=(j._transitionData||{})._frames;function le(ge,Te){if("function"==typeof ge)return Te?"_function_":null;if(i.isPlainObject(ge)){var Me,we={};return Object.keys(ge).sort().forEach(function(Se){if(-1===["_","["].indexOf(Se.charAt(0)))if("function"!=typeof ge[Se]){if("keepdata"===G){if("src"===Se.substr(Se.length-3))return}else if("keepstream"===G){if("string"==typeof(Me=ge[Se+"src"])&&Me.indexOf(":")>0&&!i.isPlainObject(ge.stream))return}else if("keepall"!==G&&"string"==typeof(Me=ge[Se+"src"])&&Me.indexOf(":")>0)return;we[Se]=le(ge[Se],Te)}else Te&&(we[Se]="_function")}),we}var xe=Array.isArray(ge),be=i.isTypedArray(ge);if((xe||be)&&ge.dtype&&ge.shape){var ye=ge.bdata;return le({dtype:ge.dtype,shape:ge.shape,bdata:i.isArrayBuffer(ye)?_.encode(ye):ye},Te)}return xe?ge.map(function(Se){return le(Se,Te)}):be?i.simpleMap(ge,i.identity):i.isJSDate(ge)?i.ms2DateTimeLocal(+ge):ge}var fe={data:((te?j._fullData:j.data)||[]).map(function(ge){var Te=le(ge);return W&&delete Te.fit,Te})};if(!W&&(fe.layout=le(re),te)){var ce=re._size;fe.layout.computed={margin:{b:ce.b,l:ce.l,r:ce.r,t:ce.t}}}return J&&(fe.frames=le(J)),Q&&(fe.config=le(j._context,!0)),"object"===ae?fe:JSON.stringify(fe)},v.modifyFrames=function(j,W){var G,ae,te,Q=j._transitionData._frames,ee=j._transitionData._frameHash;for(G=0;G<W.length;G++)switch((ae=W[G]).type){case"replace":var re=(Q[ae.index]||{}).name,J=(te=ae.value).name;Q[ae.index]=ee[J]=te,J!==re&&(delete ee[re],ee[J]=te);break;case"insert":ee[(te=ae.value).name]=te,Q.splice(ae.index,0,te);break;case"delete":delete ee[(te=Q[ae.index]).name],Q.splice(ae.index,1)}return Promise.resolve()},v.computeFrame=function(j,W){var G,ae,te,Q,ee=j._transitionData._frameHash;if(!W)throw new Error("computeFrame must be given a string frame name");var re=ee[W.toString()];if(!re)return!1;for(var J=[re],le=[re.name];re.baseframe&&(re=ee[re.baseframe.toString()])&&-1===le.indexOf(re.name);)J.push(re),le.push(re.name);for(var fe={};re=J.pop();)if(re.layout&&(fe.layout=v.extendLayout(fe.layout,re.layout)),re.data){if(fe.data||(fe.data=[]),!(ae=re.traces))for(ae=[],G=0;G<re.data.length;G++)ae[G]=G;for(fe.traces||(fe.traces=[]),G=0;G<re.data.length;G++)null!=(te=ae[G])&&(-1===(Q=fe.traces.indexOf(te))&&(fe.traces[Q=fe.data.length]=te),fe.data[Q]=v.extendTrace(fe.data[Q],re.data[G]))}return fe},v.recomputeFrameHash=function(j){for(var W=j._transitionData._frameHash={},G=j._transitionData._frames,ae=0;ae<G.length;ae++){var te=G[ae];te&&te.name&&(W[te.name]=te)}},v.extendObjectWithContainers=function(j,W,G){var ae,te,Q,ee,re,J,le,fe=i.extendDeepNoArrays({},W||{}),ce=i.expandObjectPaths(fe),ge={};if(G&&G.length)for(Q=0;Q<G.length;Q++)void 0===(te=(ae=i.nestedProperty(ce,G[Q])).get())?i.nestedProperty(ge,G[Q]).set(null):(ae.set(null),i.nestedProperty(ge,G[Q]).set(te));if(j=i.extendDeepNoArrays(j||{},ce),G&&G.length)for(Q=0;Q<G.length;Q++)if(J=i.nestedProperty(ge,G[Q]).get()){for(le=(re=i.nestedProperty(j,G[Q])).get(),Array.isArray(le)||re.set(le=[]),ee=0;ee<J.length;ee++){var Te=J[ee];le[ee]=null===Te?null:v.extendObjectWithContainers(le[ee],Te)}re.set(le)}return j},v.dataArrayContainers=["transforms","dimensions"],v.layoutArrayContainers=d.layoutArrayContainers,v.extendTrace=function(j,W){return v.extendObjectWithContainers(j,W,v.dataArrayContainers)},v.extendLayout=function(j,W){return v.extendObjectWithContainers(j,W,v.layoutArrayContainers)},v.transition=function(j,W,G,ae,te,Q){var ee={redraw:te.redraw},re={},J=[];return ee.prepareFn=function(){for(var le=Array.isArray(W)?W.length:0,fe=ae.slice(0,le),ce=0;ce<fe.length;ce++){var ge=fe[ce],Te=j._fullData[ge]._module;if(Te){if(Te.animatable){var Me=Te.basePlotModule.name;re[Me]||(re[Me]=[]),re[Me].push(ge)}j.data[fe[ce]]=v.extendTrace(j.data[fe[ce]],W[ce])}}var we=i.expandObjectPaths(i.extendDeepNoArrays({},G)),xe=/^[xy]axis[0-9]*$/;for(var be in we)xe.test(be)&&delete we[be].range;v.extendLayout(j.layout,we),delete j.calcdata,v.supplyDefaults(j),v.doCalcdata(j);var ye=i.expandObjectPaths(G);if(ye){var Se=j._fullLayout._plots;for(var Ee in Se){var he=Se[Ee],ue=he.xaxis,me=he.yaxis,Pe=ue.range.slice(),Ce=me.range.slice(),Ie=null,Oe=null,ze=null,je=null;Array.isArray(ye[ue._name+".range"])?Ie=ye[ue._name+".range"].slice():Array.isArray((ye[ue._name]||{}).range)&&(Ie=ye[ue._name].range.slice()),Array.isArray(ye[me._name+".range"])?Oe=ye[me._name+".range"].slice():Array.isArray((ye[me._name]||{}).range)&&(Oe=ye[me._name].range.slice()),Pe&&Ie&&(ue.r2l(Pe[0])!==ue.r2l(Ie[0])||ue.r2l(Pe[1])!==ue.r2l(Ie[1]))&&(ze={xr0:Pe,xr1:Ie}),Ce&&Oe&&(me.r2l(Ce[0])!==me.r2l(Oe[0])||me.r2l(Ce[1])!==me.r2l(Oe[1]))&&(je={yr0:Ce,yr1:Oe}),(ze||je)&&J.push(i.extendFlat({plotinfo:he},ze,je))}}return Promise.resolve()},ee.runFn=function(le){var fe,ce,ge=j._fullLayout._basePlotModules,Te=J.length;if(G)for(ce=0;ce<ge.length;ce++)ge[ce].transitionAxes&&ge[ce].transitionAxes(j,J,Q,le);for(var Me in Te?((fe=i.extendFlat({},Q)).duration=0,delete re.cartesian):fe=Q,re){var we=re[Me];j._fullData[we[0]]._module.basePlotModule.plot(j,we,fe,le)}},q(j,Q,ee)},v.transitionFromReact=function(j,W,G,ae){var te=j._fullLayout,Q=te.transition,ee={},re=[];return ee.prepareFn=function(){var J=te._plots;for(var le in ee.redraw=!1,"some"===W.anim&&(ee.redraw=!0),"some"===G.anim&&(ee.redraw=!0),J){var fe=J[le],ce=fe.xaxis,ge=fe.yaxis,Te=ae[ce._name].range.slice(),Me=ae[ge._name].range.slice(),we=ce.range.slice(),xe=ge.range.slice();ce.setScale(),ge.setScale();var be=null,ye=null;ce.r2l(Te[0])===ce.r2l(we[0])&&ce.r2l(Te[1])===ce.r2l(we[1])||(be={xr0:Te,xr1:we}),ge.r2l(Me[0])===ge.r2l(xe[0])&&ge.r2l(Me[1])===ge.r2l(xe[1])||(ye={yr0:Me,yr1:xe}),(be||ye)&&re.push(i.extendFlat({plotinfo:fe},be,ye))}return Promise.resolve()},ee.runFn=function(J){for(var le,fe,ce,ge=j._fullData,Te=j._fullLayout._basePlotModules,Me=[],we=0;we<ge.length;we++)Me.push(we);function xe(){if(j._fullLayout)for(var ye=0;ye<Te.length;ye++)Te[ye].transitionAxes&&Te[ye].transitionAxes(j,re,le,J)}function be(){if(j._fullLayout)for(var ye=0;ye<Te.length;ye++)Te[ye].plot(j,ce,fe,J)}re.length&&W.anim?"traces first"===Q.ordering?(le=i.extendFlat({},Q,{duration:0}),ce=Me,fe=Q,setTimeout(xe,Q.duration),be()):(le=Q,ce=null,fe=i.extendFlat({},Q,{duration:0}),setTimeout(be,le.duration),xe()):re.length?(le=Q,xe()):W.anim&&(ce=Me,fe=Q,be())},q(j,Q,ee)},v.doCalcdata=function(j,W){var G,ae,te,Q,ee=o.list(j),re=j._fullData,J=j._fullLayout,le=new Array(re.length),fe=(j.calcdata||[]).slice();for(j.calcdata=le,J._numBoxes=0,J._numViolins=0,J._violinScaleGroupStats={},j._hmpixcount=0,j._hmlumcount=0,J._piecolormap={},J._sunburstcolormap={},J._treemapcolormap={},J._iciclecolormap={},J._funnelareacolormap={},te=0;te<re.length;te++)Array.isArray(W)&&-1===W.indexOf(te)&&(le[te]=fe[te]);for(te=0;te<re.length;te++)(G=re[te])._arrayAttrs=s.findArrayAttributes(G),G._extremes={};var ce=J._subplots.polar||[];for(te=0;te<ce.length;te++)ee.push(J[ce[te]].radialaxis,J[ce[te]].angularaxis);for(var ge in J._colorAxes){var Te=J[ge];!1!==Te.cauto&&(delete Te.cmin,delete Te.cmax)}var Me=!1;function we(ye){if(ae=(G=re[ye])._module,!0===G.visible&&G.transforms){if(ae&&ae.calc){var Se=ae.calc(j,G);Se[0]&&Se[0].t&&Se[0].t._scene&&delete Se[0].t._scene.dirty}for(Q=0;Q<G.transforms.length;Q++){var Ee=G.transforms[Q];(ae=x[Ee.type])&&ae.calcTransform&&(G._hasCalcTransform=!0,Me=!0,ae.calcTransform(j,G,Ee))}}}function xe(ye,Se){if(!!(ae=(G=re[ye])._module).isContainer===Se){var Ee=[];if(!0===G.visible&&0!==G._length){delete G._indexToPoints;var he=G.transforms||[];for(Q=he.length-1;Q>=0;Q--)if(he[Q].enabled){G._indexToPoints=he[Q]._indexToPoints;break}ae&&ae.calc&&(Ee=ae.calc(j,G))}Array.isArray(Ee)&&Ee[0]||(Ee=[{x:r,y:r}]),Ee[0].t||(Ee[0].t={}),Ee[0].trace=G,le[ye]=Ee}}for(H(ee,re,J),te=0;te<re.length;te++)xe(te,!0);for(te=0;te<re.length;te++)we(te);for(Me&&H(ee,re,J),te=0;te<re.length;te++)xe(te,!0);for(te=0;te<re.length;te++)xe(te,!1);$(j);var be=function(ye,Se){var Ee,he,ue,me,Pe,Ce=[];function Ie(Qe,pt,ct){var He=pt._id.charAt(0);if("histogram2dcontour"===Qe){var qe=pt._counterAxes[0],ft=o.getFromId(Se,qe),et="x"===He||"x"===qe&&"category"===ft.type,xt="y"===He||"y"===qe&&"category"===ft.type;return function(wt,At){return 0===wt||0===At||et&&wt===ct[At].length-1||xt&&At===ct.length-1?-1:("y"===He?At:wt)-1}}return function(wt,At){return"y"===He?At:wt}}var Oe={min:function(Qe){return i.aggNums(Math.min,null,Qe)},max:function(Qe){return i.aggNums(Math.max,null,Qe)},sum:function(Qe){return i.aggNums(function(pt,ct){return pt+ct},null,Qe)},total:function(Qe){return i.aggNums(function(pt,ct){return pt+ct},null,Qe)},mean:function(Qe){return i.mean(Qe)},median:function(Qe){return i.median(Qe)}};function ze(Qe,pt){return Qe[1]-pt[1]}function je(Qe,pt){return pt[1]-Qe[1]}for(Ee=0;Ee<ye.length;Ee++){var ve=ye[Ee];if("category"===ve.type){var Ae=ve.categoryorder.match(N);if(Ae){var Le=Ae[1],Ve=Ae[2],Ne=ve._id.charAt(0),We="x"===Ne,Xe=[];for(he=0;he<ve._categories.length;he++)Xe.push([ve._categories[he],[]]);for(he=0;he<ve._traceIndices.length;he++){var nt=ve._traceIndices[he],dt=Se._fullData[nt];if(!0===dt.visible){var ht=dt.type;d.traceIs(dt,"histogram")&&(delete dt._xautoBinFinished,delete dt._yautoBinFinished);var Mt="splom"===ht,kt="scattergl"===ht,_t=Se.calcdata[nt];for(ue=0;ue<_t.length;ue++){var ut,st,Lt=_t[ue];if(Mt){var Ut=dt._axesDim[ve._id];if(!We){var Ht=dt._diag[Ut][0];Ht&&(ve=Se._fullLayout[o.id2name(Ht)])}var Pt=Lt.trace.dimensions[Ut].values;for(me=0;me<Pt.length;me++)for(ut=ve._categoriesMap[Pt[me]],Pe=0;Pe<Lt.trace.dimensions.length;Pe++)Pe!==Ut&&Xe[ut][1].push(Lt.trace.dimensions[Pe].values[me])}else if(kt){for(me=0;me<Lt.t.x.length;me++)We?(ut=Lt.t.x[me],st=Lt.t.y[me]):(ut=Lt.t.y[me],st=Lt.t.x[me]),Xe[ut][1].push(st);Lt.t&&Lt.t._scene&&delete Lt.t._scene.dirty}else if(Lt.hasOwnProperty("z")){var tt=Ie(dt.type,ve,st=Lt.z);for(me=0;me<st.length;me++)for(Pe=0;Pe<st[me].length;Pe++)(ut=tt(Pe,me))+1&&Xe[ut][1].push(st[me][Pe])}else for(void 0===(ut=Lt.p)&&(ut=Lt[Ne]),void 0===(st=Lt.s)&&(st=Lt.v),void 0===st&&(st=We?Lt.y:Lt.x),Array.isArray(st)||(st=void 0===st?[]:[st]),me=0;me<st.length;me++)Xe[ut][1].push(st[me])}}}ve._categoriesValue=Xe;var Ge=[];for(he=0;he<Xe.length;he++)Ge.push([Xe[he][0],Oe[Le](Xe[he][1])]);Ge.sort("descending"===Ve?je:ze),ve._categoriesAggregatedValue=Ge,ve._initialCategories=Ge.map(function(Qe){return Qe[0]}),Ce=Ce.concat(ve.sortByInitialCategories())}}}return Ce}(ee,j);if(be.length){for(J._numBoxes=0,J._numViolins=0,te=0;te<be.length;te++)xe(be[te],!0);for(te=0;te<be.length;te++)xe(be[te],!1);$(j)}d.getComponentMethod("fx","calc")(j),d.getComponentMethod("errorbars","calc")(j)};var N=/(total|sum|min|max|mean|median) (ascending|descending)/;function H(j,W,G){var ae={};function te(J){J.clearCalc(),"multicategory"===J.type&&J.setupMultiCategory(W),ae[J._id]=1}i.simpleMap(j,te);for(var Q=G._axisMatchGroups||[],ee=0;ee<Q.length;ee++)for(var re in Q[ee])ae[re]||te(G[o.id2name(re)])}function $(j){var W,G,ae,te=j._fullLayout,Q=te._visibleModules,ee={};for(G=0;G<Q.length;G++){var re=Q[G],J=re.crossTraceCalc;if(J){var le=re.basePlotModule.name;ee[le]?i.pushUnique(ee[le],J):ee[le]=[J]}}for(ae in ee){var fe=ee[ae],ce=te._subplots[ae];if(Array.isArray(ce))for(W=0;W<ce.length;W++){var ge=ce[W],Te="cartesian"===ae?te._plots[ge]:te[ge];for(G=0;G<fe.length;G++)fe[G](j,Te,ge)}else for(G=0;G<fe.length;G++)fe[G](j)}}v.rehover=function(j){j._fullLayout._rehover&&j._fullLayout._rehover()},v.redrag=function(j){j._fullLayout._redrag&&j._fullLayout._redrag()},v.reselect=function(j){var W=j._fullLayout,G=(j.layout||{}).selections,ae=W._previousSelections;W._previousSelections=G;var te=W._reselect||JSON.stringify(G)!==JSON.stringify(ae);d.getComponentMethod("selections","reselect")(j,te)},v.generalUpdatePerTraceModule=function(j,W,G,ae){var te,Q=W.traceHash,ee={};for(te=0;te<G.length;te++){var re=G[te],J=re[0].trace;J.visible&&(ee[J.type]=ee[J.type]||[],ee[J.type].push(re))}for(var le in Q)if(!ee[le]){var fe=Q[le][0];fe[0].trace.visible=!1,ee[le]=[fe]}for(var ce in ee){var ge=ee[ce];ge[0][0].trace._module.plot(j,W,i.filterVisible(ge),ae)}W.traceHash=ee},v.plotBasePlot=function(j,W,G,ae,te){var Q=d.getModule(j),ee=b(W.calcdata,Q)[0];Q.plot(W,ee,ae,te)},v.cleanBasePlot=function(j,W,G,ae,te){var Q=te._has&&te._has(j),ee=G._has&&G._has(j);Q&&!ee&&te["_"+j+"layer"].selectAll("g.trace").remove()}},39360:function(ie){"use strict";ie.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(ie,z,e){"use strict";var S=e(3400),A=e(92065).tester,a=S.findIndexOfMin,M=S.isAngleInsideSector,_=S.angleDelta,d=S.angleDist;function s(r,o,u,l){var h,c,b=l[0],p=l[1],m=i(Math.sin(o)-Math.sin(r)),v=i(Math.cos(o)-Math.cos(r)),x=Math.tan(u),y=i(1/x),w=m/v,f=p-w*b;return y?m&&v?c=x*(h=f/(x-w)):v?(h=p*y,c=p):(h=b,c=b*x):m&&v?(h=0,c=f):v?(h=0,c=p):h=c=NaN,[h,c]}function t(r,o,u,l){return S.isFullCircle([o,u])?function(h,c){var b,p=c.length,m=new Array(p+1);for(b=0;b<p;b++){var v=c[b];m[b]=[h*Math.cos(v),h*Math.sin(v)]}return m[b]=m[0].slice(),m}(r,l):function(h,c,b,p){var m,v,x=p.length,y=[];function w(q){return[h*Math.cos(q),h*Math.sin(q)]}function f(q,N,H){return s(q,N,H,w(q))}function C(q){return S.mod(q,x)}function T(q){return M(q,[c,b])}var D=a(p,function(q){return T(q)?d(q,c):1/0}),R=f(p[D],p[C(D-1)],c);for(y.push(R),m=D,v=0;v<x;m++,v++){var P=p[C(m)];if(!T(P))break;y.push(w(P))}var O=a(p,function(q){return T(q)?d(q,b):1/0}),B=f(p[O],p[C(O+1)],b);return y.push(B),y.push([0,0]),y.push(y[0].slice()),y}(r,o,u,l)}function i(r){return Math.abs(r)>1e-10?r:0}function n(r,o,u){o=o||0,u=u||0;for(var l=r.length,h=new Array(l),c=0;c<l;c++){var b=r[c];h[c]=[o+b[0],u-b[1]]}return h}ie.exports={isPtInsidePolygon:function(r,o,u,l,h){if(!M(o,l))return!1;var c,b;u[0]<u[1]?(c=u[0],b=u[1]):(c=u[1],b=u[0]);var p=A(t(c,l[0],l[1],h)),m=A(t(b,l[0],l[1],h)),v=[r*Math.cos(o),r*Math.sin(o)];return m.contains(v)&&!p.contains(v)},findPolygonOffset:function(r,o,u,l){for(var h=1/0,c=1/0,b=t(r,o,u,l),p=0;p<b.length;p++){var m=b[p];h=Math.min(h,m[0]),c=Math.min(c,-m[1])}return[h,c]},findEnclosingVertexAngles:function(r,o){var u=a(o,function(h){var c=_(h,r);return c>0?c:1/0}),l=S.mod(u+1,o.length);return[o[u],o[l]]},findIntersectionXY:s,findXYatLength:function(r,o,u,l){var h=-o*u,c=o*o+1,b=2*(o*h-u),m=Math.sqrt(b*b-4*c*(h*h+u*u-r*r)),v=(-b+m)/(2*c),x=(-b-m)/(2*c);return[[v,o*v+h+l],[x,o*x+h+l]]},clampTiny:i,pathPolygon:function(r,o,u,l,h,c){return"M"+n(t(r,o,u,l),h,c).join("L")},pathPolygonAnnulus:function(r,o,u,l,h,c,b){var p,m;r<o?(p=r,m=o):(p=o,m=r);var v=n(t(p,u,l,h),c,b);return"M"+n(t(m,u,l,h),c,b).reverse().join("L")+"M"+v.join("L")}}},40872:function(ie,z,e){"use strict";var S=e(84888).KY,A=e(3400).counterRegex,a=e(62400),M=e(39360),_=M.attr,d=M.name,s=A(d),t={};t[_]={valType:"subplotid",dflt:d,editType:"calc"},ie.exports={attr:_,name:d,idRoot:d,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,o=n._subplots[d],u=0;u<o.length;u++){var l=o[u],h=S(r,d,l),c=n[l]._subplot;c||(c=a(i,l),n[l]._subplot=c),c.plot(h,n,i._promises)}},clean:function(i,n,r,o){for(var u=o._subplots[d]||[],l=o._has&&o._has("gl"),h=n._has&&n._has("gl"),c=l&&!h,b=0;b<u.length;b++){var p=u[b],m=o[p]._subplot;if(!n[p]&&m)for(var v in m.framework.remove(),m.layers["radial-axis-title"].remove(),m.clipPaths)m.clipPaths[v].remove();c&&m._scene&&(m._scene.destroy(),m._scene=null)}},toSVG:e(57952).toSVG}},95300:function(ie,z,e){"use strict";var S=e(22548),A=e(94724),a=e(86968).u,M=e(3400).extendFlat,_=e(67824).overrideAll,d=_({color:A.color,showline:M({},A.showline,{dflt:!0}),linecolor:A.linecolor,linewidth:A.linewidth,showgrid:M({},A.showgrid,{dflt:!0}),gridcolor:A.gridcolor,gridwidth:A.gridwidth,griddash:A.griddash},"plot","from-root"),s=_({tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:A.ticks,ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,ticklabelstep:A.ticklabelstep,showticklabels:A.showticklabels,labelalias:A.labelalias,showtickprefix:A.showtickprefix,tickprefix:A.tickprefix,showticksuffix:A.showticksuffix,ticksuffix:A.ticksuffix,showexponent:A.showexponent,exponentformat:A.exponentformat,minexponent:A.minexponent,separatethousands:A.separatethousands,tickfont:A.tickfont,tickangle:A.tickangle,tickformat:A.tickformat,tickformatstops:A.tickformatstops,layer:A.layer},"plot","from-root"),t={visible:M({},A.visible,{dflt:!0}),type:M({},A.type,{values:["-","linear","log","date","category"]}),autotypenumbers:A.autotypenumbers,autorangeoptions:{minallowed:A.autorangeoptions.minallowed,maxallowed:A.autorangeoptions.maxallowed,clipmin:A.autorangeoptions.clipmin,clipmax:A.autorangeoptions.clipmax,include:A.autorangeoptions.include,editType:"plot"},autorange:M({},A.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:M({},A.minallowed,{editType:"plot"}),maxallowed:M({},A.maxallowed,{editType:"plot"}),range:M({},A.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:A.categoryorder,categoryarray:A.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:A.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:M({},A.title.text,{editType:"plot",dflt:""}),font:M({},A.title.font,{editType:"plot"}),editType:"plot"},hoverformat:A.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:A._deprecated.title,titlefont:A._deprecated.titlefont}};M(t,d,s);var i={visible:M({},A.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:A.autotypenumbers,categoryorder:A.categoryorder,categoryarray:A.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:A.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};M(i,d,s),ie.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:S.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(31780),M=e(168),_=e(84888).op,d=e(26332),s=e(25404),t=e(95936),i=e(42568),n=e(22416),r=e(42136),o=e(76808),u=e(52976),l=e(95300),h=e(57696),c=e(39360),b=c.axisNames;function p(v,x,y,w){var f=y("bgcolor");w.bgColor=A.combine(f,w.paper_bgcolor);var C=y("sector");y("hole");var T,D=_(w.fullData,c.name,w.id),R=w.layoutOut;function P(Me,we){return y(T+"."+Me,we)}for(var O=0;O<b.length;O++){S.isPlainObject(v[T=b[O]])||(v[T]={});var B=v[T],q=a.newContainer(x,T);q._id=q._name=T,q._attr=w.id+"."+T,q._traceIndices=D.map(function(Me){return Me._expandedIndex});var N=c.axisName2dataArray[T],H=m(B,q,P,D,N,w);n(B,q,P,{axData:D,dataAttr:N});var $=P("visible");switch(h(q,x,R),P("uirevision",x.uirevision),q._m=1,T){case"radialaxis":P("minallowed"),P("maxallowed");var j,W=P("range"),G=q.getAutorangeDflt(W),ae=P("autorange",G);!W||(null!==W[0]||null!==W[1])&&(null!==W[0]&&null!==W[1]||"reversed"!==ae&&!0!==ae)&&(null===W[0]||"min"!==ae&&"max reversed"!==ae)&&(null===W[1]||"max"!==ae&&"min reversed"!==ae)||(W=void 0,delete q.range,q.autorange=!0,j=!0),j||(ae=P("autorange",G=q.getAutorangeDflt(W))),B.autorange=ae,ae&&(o(P,ae,W),"linear"!==H&&"-"!==H||P("rangemode"),q.isReversed()&&(q._m=-1)),q.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===H){S.log("Polar plots do not support date angular axes yet.");for(var te=0;te<D.length;te++)D[te].visible=!1;H=B.type=q.type="linear"}P("linear"===H?"thetaunit":"period");var Q=P("direction");P("rotation",{counterclockwise:0,clockwise:90}[Q])}if(i(B,q,P,q.type,{tickSuffixDflt:"degrees"===q.thetaunit?"\xb0":void 0}),$){var ee,re,J,le,fe,ce,ge,Te=w.font||{};re=(ee=P("color"))===B.color?ee:Te.color,J=Te.size,le=Te.family,fe=Te.weight,ce=Te.style,ge=Te.variant,d(B,q,P,q.type),t(B,q,P,q.type,{font:{weight:fe,style:ce,variant:ge,color:re,size:J,family:le},noAutotickangles:"angularaxis"===T}),s(B,q,P,{outerTicks:!0}),r(B,q,P,{dfltColor:ee,bgColor:w.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[T]}),P("layer"),"radialaxis"===T&&(P("side"),P("angle",C[0]),P("title.text"),S.coerceFont(P,"title.font",{weight:fe,style:ce,variant:ge,color:re,size:S.bigFont(J),family:le}))}"category"!==H&&P("hoverformat"),q._input=B}"category"===x.angularaxis.type&&y("gridshape")}function m(v,x,y,w,f,C){var T=y("autotypenumbers",C.autotypenumbersDflt);if("-"===y("type")){for(var D,R=0;R<w.length;R++)if(w[R].visible){D=w[R];break}D&&D[f]&&(x.type=u(D[f],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),"-"===x.type?x.type="linear":v.type=x.type}return x.type}ie.exports=function(v,x,y){M(v,x,y,{type:c.name,attributes:l,handleDefaults:p,font:x.font,autotypenumbersDflt:x.autotypenumbers,paper_bgcolor:x.paper_bgcolor,fullData:y,layoutOut:x})}},62400:function(ie,z,e){"use strict";var S=e(33428),A=e(49760),a=e(24040),M=e(3400),_=M.strRotate,d=M.strTranslate,s=e(76308),t=e(43616),i=e(7316),n=e(54460),r=e(78344),o=e(57696),u=e(19280).doAutoRange,l=e(51184),h=e(86476),c=e(93024),b=e(81668),p=e(22676).prepSelect,m=e(22676).selectOnClick,v=e(22676).clearOutline,x=e(93972),y=e(73696),w=e(39172).redrawReglTraces,f=e(84284).MID_SHIFT,C=e(39360),T=e(57384),D=e(36416),R=D.smith,P=D.reactanceArc,O=D.resistanceArc,B=D.smithTransform,q=M._,N=M.mod,H=M.deg2rad,$=M.rad2deg;function j(Q,ee,re){this.isSmith=re||!1,this.id=ee,this.gd=Q,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var J=Q._fullLayout;this.clipIds.forTraces="clip"+J._uid+ee+"-for-traces",this.clipPaths.forTraces=J._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=J["_"+(re?"smith":"polar")+"layer"].append("g").attr("class",ee),this.getHole=function(fe){return this.isSmith?0:fe.hole},this.getSector=function(fe){return this.isSmith?[0,360]:fe.sector},this.getRadial=function(fe){return this.isSmith?fe.realaxis:fe.radialaxis},this.getAngular=function(fe){return this.isSmith?fe.imaginaryaxis:fe.angularaxis},re||(this.radialTickLayout=null,this.angularTickLayout=null)}var W=j.prototype;function G(Q){var ee=Q.ticks+String(Q.ticklen)+String(Q.showticklabels);return"side"in Q&&(ee+=Q.side),ee}function ae(Q,ee){return ee[M.findIndexOfMin(ee,function(re){return M.angleDist(Q,re)})]}function te(Q,ee,re){return ee?(Q.attr("display",null),Q.attr(re)):Q&&Q.attr("display","none"),Q}ie.exports=function(Q,ee,re){return new j(Q,ee,re)},W.plot=function(Q,ee){for(var re=this,J=ee[re.id],le=!1,fe=0;fe<Q.length;fe++)if(!1===Q[fe][0].trace.cliponaxis){le=!0;break}re._hasClipOnAxisFalse=le,re.updateLayers(ee,J),re.updateLayout(ee,J),i.generalUpdatePerTraceModule(re.gd,re,Q,J),re.updateFx(ee,J),re.isSmith&&(delete J.realaxis.range,delete J.imaginaryaxis.range)},W.updateLayers=function(Q,ee){var re=this,J=re.isSmith,le=re.layers,fe=re.getRadial(ee),ce=re.getAngular(ee),ge=C.layerNames,Te=ge.indexOf("frontplot"),Me=ge.slice(0,Te),we="below traces"===ce.layer,xe="below traces"===fe.layer;we&&Me.push("angular-line"),xe&&Me.push("radial-line"),we&&Me.push("angular-axis"),xe&&Me.push("radial-axis"),Me.push("frontplot"),we||Me.push("angular-line"),xe||Me.push("radial-line"),we||Me.push("angular-axis"),xe||Me.push("radial-axis");var be=(J?"smith":"polar")+"sublayer",ye=re.framework.selectAll("."+be).data(Me,String);ye.enter().append("g").attr("class",function(Se){return be+" "+Se}).each(function(Se){var Ee=le[Se]=S.select(this);switch(Se){case"frontplot":J||Ee.append("g").classed("barlayer",!0),Ee.append("g").classed("scatterlayer",!0);break;case"backplot":Ee.append("g").classed("maplayer",!0);break;case"plotbg":le.bg=Ee.append("path");break;case"radial-grid":case"angular-grid":Ee.style("fill","none");break;case"radial-line":Ee.append("line").style("fill","none");break;case"angular-line":Ee.append("path").style("fill","none")}}),ye.order()},W.updateLayout=function(Q,ee){var re=this,J=re.layers,le=Q._size,fe=re.getRadial(ee),ce=re.getAngular(ee),ge=ee.domain.x,Te=ee.domain.y;re.xOffset=le.l+le.w*ge[0],re.yOffset=le.t+le.h*(1-Te[1]);var Me=re.xLength=le.w*(ge[1]-ge[0]),we=re.yLength=le.h*(Te[1]-Te[0]),xe=re.getSector(ee);re.sectorInRad=xe.map(H);var be,ye,Se,Ee,he,dt,ht,Mt,kt,_t,ut,st,Lt,Ut,Ht,ue=re.sectorBBox=(kt=(dt=xe)[1]-(Mt=dt[0]),ut=(_t=N(Mt,360))+kt,st=Math.cos(H(_t)),Lt=Math.sin(H(_t)),Ut=Math.cos(H(ut)),Ht=Math.sin(H(ut)),ht=_t<=90&&ut>=90||_t>90&&ut>=450?1:Lt<=0&&Ht<=0?0:Math.max(Lt,Ht),[_t<=180&&ut>=180||_t>180&&ut>=540?-1:st>=0&&Ut>=0?0:Math.min(st,Ut),_t<=270&&ut>=270||_t>270&&ut>=630?-1:Lt>=0&&Ht>=0?0:Math.min(Lt,Ht),ut>=360?1:st<=0&&Ut<=0?0:Math.max(st,Ut),ht]),me=ue[2]-ue[0],Ce=we/Me,Ie=Math.abs((ue[3]-ue[1])/me);Ce>Ie?(be=Me,he=(we-(ye=Me*Ie))/le.h/2,Se=[ge[0],ge[1]],Ee=[Te[0]+he,Te[1]-he]):(ye=we,he=(Me-(be=we/Ie))/le.w/2,Se=[ge[0]+he,ge[1]-he],Ee=[Te[0],Te[1]]),re.xLength2=be,re.yLength2=ye,re.xDomain2=Se,re.yDomain2=Ee;var Oe,ze=re.xOffset2=le.l+le.w*Se[0],je=re.yOffset2=le.t+le.h*(1-Ee[1]),ve=re.radius=be/me,Ae=re.innerRadius=re.getHole(ee)*ve,Le=re.cx=ze-ve*ue[0],Ve=re.cy=je+ve*ue[3],Ne=re.cxx=Le-ze,We=re.cyy=Ve-je,Xe=fe.side;"counterclockwise"===Xe?(Oe=Xe,Xe="top"):"clockwise"===Xe&&(Oe=Xe,Xe="bottom"),re.radialAxis=re.mockAxis(Q,ee,fe,{_id:"x",side:Xe,_trueSide:Oe,domain:[Ae/le.w,ve/le.w]}),re.angularAxis=re.mockAxis(Q,ee,ce,{side:"right",domain:[0,Math.PI],autorange:!1}),re.doAutoRange(Q,ee),re.updateAngularAxis(Q,ee),re.updateRadialAxis(Q,ee),re.updateRadialAxisTitle(Q,ee),re.xaxis=re.mockCartesianAxis(Q,ee,{_id:"x",domain:Se}),re.yaxis=re.mockCartesianAxis(Q,ee,{_id:"y",domain:Ee});var nt=re.pathSubplot();re.clipPaths.forTraces.select("path").attr("d",nt).attr("transform",d(Ne,We)),J.frontplot.attr("transform",d(ze,je)).call(t.setClipUrl,re._hasClipOnAxisFalse?null:re.clipIds.forTraces,re.gd),J.bg.attr("d",nt).attr("transform",d(Le,Ve)).call(s.fill,ee.bgcolor)},W.mockAxis=function(Q,ee,re,J){var le=M.extendFlat({},re,J);return o(le,ee,Q),le},W.mockCartesianAxis=function(Q,ee,re){var J=this,le=J.isSmith,fe=re._id,ce=M.extendFlat({type:"linear"},re);r(ce,Q);var ge={x:[0,2],y:[1,3]};return ce.setRange=function(){var Te=J.sectorBBox,Me=ge[fe],we=J.radialAxis._rl,xe=(we[1]-we[0])/(1-J.getHole(ee));ce.range=[Te[Me[0]]*xe,Te[Me[1]]*xe]},ce.isPtWithinRange="x"!==fe||le?function(){return!0}:function(Te){return J.isPtInside(Te)},ce.setRange(),ce.setScale(),ce},W.doAutoRange=function(Q,ee){var J=this.gd,le=this.radialAxis,fe=this.getRadial(ee);u(J,le);var ce=le.range;if(fe.range=ce.slice(),fe._input.range=ce.slice(),le._rl=[le.r2l(ce[0],null,"gregorian"),le.r2l(ce[1],null,"gregorian")],void 0!==le.minallowed){var ge=le.r2l(le.minallowed);le._rl[0]>le._rl[1]?le._rl[1]=Math.max(le._rl[1],ge):le._rl[0]=Math.max(le._rl[0],ge)}if(void 0!==le.maxallowed){var Te=le.r2l(le.maxallowed);le._rl[0]<le._rl[1]?le._rl[1]=Math.min(le._rl[1],Te):le._rl[0]=Math.min(le._rl[0],Te)}},W.updateRadialAxis=function(Q,ee){var re=this,J=re.gd,le=re.layers,fe=re.radius,ce=re.innerRadius,ge=re.cx,Te=re.cy,Me=re.getRadial(ee),we=N(re.getSector(ee)[0],360),xe=re.radialAxis,be=ce<fe,ye=re.isSmith;ye||(re.fillViewInitialKey("radialaxis.angle",Me.angle),re.fillViewInitialKey("radialaxis.range",xe.range.slice()),xe.setGeometry()),"auto"===xe.tickangle&&we>90&&we<=270&&(xe.tickangle=180);var Se=ye?function(je){var ve=B(re,R([je.x,0]));return d(ve[0]-ge,ve[1]-Te)}:function(je){return d(xe.l2p(je.x)+ce,0)},Ee=ye?function(je){return O(re,je.x,-1/0,1/0)}:function(je){return re.pathArc(xe.r2p(je.x)+ce)},he=G(Me);if(re.radialTickLayout!==he&&(le["radial-axis"].selectAll(".xtick").remove(),re.radialTickLayout=he),be){xe.setScale();var ue=0,me=ye?(xe.tickvals||[]).filter(function(je){return je>=0}).map(function(je){return n.tickText(xe,je,!0,!1)}):n.calcTicks(xe),Pe=ye?me:n.clipEnds(xe,me),Ce=n.getTickSigns(xe)[2];ye&&(("top"===xe.ticks&&"bottom"===xe.side||"bottom"===xe.ticks&&"top"===xe.side)&&(Ce=-Ce),"top"===xe.ticks&&"top"===xe.side&&(ue=-xe.ticklen),"bottom"===xe.ticks&&"bottom"===xe.side&&(ue=xe.ticklen)),n.drawTicks(J,xe,{vals:me,layer:le["radial-axis"],path:n.makeTickPath(xe,0,Ce),transFn:Se,crisp:!1}),n.drawGrid(J,xe,{vals:Pe,layer:le["radial-grid"],path:Ee,transFn:M.noop,crisp:!1}),n.drawLabels(J,xe,{vals:me,layer:le["radial-axis"],transFn:Se,labelFns:n.makeLabelFns(xe,ue)})}var Ie=re.radialAxisAngle=re.vangles?$(ae(H(Me.angle),re.vangles)):Me.angle,Oe=d(ge,Te),ze=Oe+_(-Ie);te(le["radial-axis"],be&&(Me.showticklabels||Me.ticks),{transform:ze}),te(le["radial-grid"],be&&Me.showgrid,{transform:ye?"":Oe}),te(le["radial-line"].select("line"),be&&Me.showline,{x1:ye?-fe:ce,y1:0,x2:fe,y2:0,transform:ze}).attr("stroke-width",Me.linewidth).call(s.stroke,Me.linecolor)},W.updateRadialAxisTitle=function(Q,ee,re){if(!this.isSmith){var J=this,le=J.gd,fe=J.radius,ce=J.cx,ge=J.cy,Te=J.getRadial(ee),Me=J.id+"title",we=0;if(Te.title){var xe=t.bBox(J.layers["radial-axis"].node()).height,be=Te.title.font.size,ye=Te.side;we="top"===ye?be:"counterclockwise"===ye?-(xe+.4*be):xe+.8*be}var Se=void 0!==re?re:J.radialAxisAngle,Ee=H(Se),he=Math.cos(Ee),ue=Math.sin(Ee),me=ce+fe/2*he+we*ue,Pe=ge-fe/2*ue+we*he;J.layers["radial-axis-title"]=b.draw(le,Me,{propContainer:Te,propName:J.id+".radialaxis.title",placeholder:q(le,"Click to enter radial axis title"),attributes:{x:me,y:Pe,"text-anchor":"middle"},transform:{rotate:-Se}})}},W.updateAngularAxis=function(Q,ee){var re=this,J=re.gd,le=re.layers,fe=re.radius,ce=re.innerRadius,ge=re.cx,Te=re.cy,Me=re.getAngular(ee),we=re.angularAxis,xe=re.isSmith;xe||(re.fillViewInitialKey("angularaxis.rotation",Me.rotation),we.setGeometry(),we.setScale());var be=xe?function(je){var ve=B(re,R([0,je.x]));return Math.atan2(ve[0]-ge,ve[1]-Te)-Math.PI/2}:function(je){return we.t2g(je.x)};"linear"===we.type&&"radians"===we.thetaunit&&(we.tick0=$(we.tick0),we.dtick=$(we.dtick));var ye=function(je){return d(ge+fe*Math.cos(je),Te-fe*Math.sin(je))},Se=xe?function(je){var ve=B(re,R([0,je.x]));return d(ve[0],ve[1])}:function(je){return ye(be(je))},Ee=xe?function(je){var ve=B(re,R([0,je.x])),Ae=Math.atan2(ve[0]-ge,ve[1]-Te)-Math.PI/2;return d(ve[0],ve[1])+_(-$(Ae))}:function(je){var ve=be(je);return ye(ve)+_(-$(ve))},he=xe?function(je){return P(re,je.x,0,1/0)}:function(je){var ve=be(je),Ae=Math.cos(ve),Le=Math.sin(ve);return"M"+[ge+ce*Ae,Te-ce*Le]+"L"+[ge+fe*Ae,Te-fe*Le]},ue=n.makeLabelFns(we,0).labelStandoff,me={xFn:function(je){var ve=be(je);return Math.cos(ve)*ue},yFn:function(je){var ve=be(je),Ae=Math.sin(ve)>0?.2:1;return-Math.sin(ve)*(ue+je.fontSize*Ae)+Math.abs(Math.cos(ve))*(je.fontSize*f)},anchorFn:function(je){var ve=be(je),Ae=Math.cos(ve);return Math.abs(Ae)<.1?"middle":Ae>0?"start":"end"},heightFn:function(je,ve,Ae){var Le=be(je);return-.5*(1+Math.sin(Le))*Ae}},Pe=G(Me);re.angularTickLayout!==Pe&&(le["angular-axis"].selectAll("."+we._id+"tick").remove(),re.angularTickLayout=Pe);var Ce,Ie=xe?[1/0].concat(we.tickvals||[]).map(function(je){return n.tickText(we,je,!0,!1)}):n.calcTicks(we);if(xe&&(Ie[0].text="\u221e",Ie[0].fontSize*=1.75),"linear"===ee.gridshape?(Ce=Ie.map(be),M.angleDelta(Ce[0],Ce[1])<0&&(Ce=Ce.slice().reverse())):Ce=null,re.vangles=Ce,"category"===we.type&&(Ie=Ie.filter(function(je){return M.isAngleInsideSector(be(je),re.sectorInRad)})),we.visible){var Oe="inside"===we.ticks?-1:1;n.drawTicks(J,we,{vals:Ie,layer:le["angular-axis"],path:"M"+Oe*((we.linewidth||1)/2)+",0h"+Oe*we.ticklen,transFn:Ee,crisp:!1}),n.drawGrid(J,we,{vals:Ie,layer:le["angular-grid"],path:he,transFn:M.noop,crisp:!1}),n.drawLabels(J,we,{vals:Ie,layer:le["angular-axis"],repositionOnUpdate:!0,transFn:Se,labelFns:me})}te(le["angular-line"].select("path"),Me.showline,{d:re.pathSubplot(),transform:d(ge,Te)}).attr("stroke-width",Me.linewidth).call(s.stroke,Me.linecolor)},W.updateFx=function(Q,ee){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(Q),this.updateRadialDrag(Q,ee,0),this.updateRadialDrag(Q,ee,1)),this.updateHoverAndMainDrag(Q))},W.updateHoverAndMainDrag=function(Q){var ee,re,J=this,le=J.isSmith,fe=J.gd,ge=Q._zoomlayer,Te=C.MINZOOM,Me=C.OFFEDGE,we=J.radius,xe=J.innerRadius,be=J.cx,ye=J.cy,Se=J.cxx,Ee=J.cyy,he=J.sectorInRad,ue=J.vangles,me=J.radialAxis,Pe=T.clampTiny,Ce=T.findXYatLength,Ie=T.findEnclosingVertexAngles,Oe=C.cornerHalfWidth,ze=C.cornerLen/2,je=l.makeDragger(J.layers,"path","maindrag",!1===Q.dragmode?"none":"crosshair");S.select(je).attr("d",J.pathSubplot()).attr("transform",d(be,ye)),je.onmousemove=function(ct){c.hover(fe,ct,J.id),fe._fullLayout._lasthover=je,fe._fullLayout._hoversubplot=J.id},je.onmouseout=function(ct){fe._dragging||h.unhover(fe,ct)};var ve,Ae,Le,Ve,Ne,We,Xe,nt,dt,ht={element:je,gd:fe,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]};function Mt(ct,He){return Math.sqrt(ct*ct+He*He)}function kt(ct,He){return Mt(ct-Se,He-Ee)}function _t(ct,He){return Math.atan2(Ee-He,ct-Se)}function ut(ct,He){return[ct*Math.cos(He),ct*Math.sin(-He)]}function st(ct,He){if(0===ct)return J.pathSector(2*Oe);var qe=ze/ct,ft=He-qe,et=He+qe,xt=Math.max(0,Math.min(ct,we)),wt=xt-Oe,At=xt+Oe;return"M"+ut(wt,ft)+"A"+[wt,wt]+" 0,0,0 "+ut(wt,et)+"L"+ut(At,et)+"A"+[At,At]+" 0,0,1 "+ut(At,ft)+"Z"}function Lt(ct,He,qe){if(0===ct)return J.pathSector(2*Oe);var ft,et,xt=ut(ct,He),wt=ut(ct,qe),At=Pe((xt[0]+wt[0])/2),yt=Pe((xt[1]+wt[1])/2);if(At&&yt){var Ot=yt/At,Ct=-1/Ot,Rt=Ce(Oe,Ot,At,yt);ft=Ce(ze,Ct,Rt[0][0],Rt[0][1]),et=Ce(ze,Ct,Rt[1][0],Rt[1][1])}else{var Bt,jt;yt?(Bt=ze,jt=Oe):(Bt=Oe,jt=ze),ft=[[At-Bt,yt-jt],[At+Bt,yt-jt]],et=[[At-Bt,yt+jt],[At+Bt,yt+jt]]}return"M"+ft.join("L")+"L"+et.reverse().join("L")+"Z"}function Ut(ct,He){return He=Math.max(Math.min(He,we),xe),ct<Me?ct=0:we-ct<Me?ct=we:He<Me?He=0:we-He<Me&&(He=we),Math.abs(He-ct)>Te?(ct<He?(Le=ct,Ve=He):(Le=He,Ve=ct),!0):(Le=null,Ve=null,!1)}function Ht(ct,He){He=He||"M0,0Z",nt.attr("d",ct=ct||Ne),dt.attr("d",He),l.transitionZoombox(nt,dt,We,Xe),We=!0;var qe={};Qe(qe),fe.emit("plotly_relayouting",qe)}function Pt(ct,He){var qe,ft,et=ve+(ct*=ee),xt=Ae+(He*=re),wt=kt(ve,Ae),At=Math.min(kt(et,xt),we),yt=_t(ve,Ae);Ut(wt,At)&&(qe=Ne+J.pathSector(Ve),Le&&(qe+=J.pathSector(Le)),ft=st(Le,yt)+st(Ve,yt)),Ht(qe,ft)}function Je(ct,He,qe,ft){var et=T.findIntersectionXY(qe,ft,qe,[ct-Se,Ee-He]);return Mt(et[0],et[1])}function tt(ct,He){var qe,ft,et=ve+ct,xt=Ae+He,wt=_t(ve,Ae),At=_t(et,xt),yt=Ie(wt,ue),Ot=Ie(At,ue);Ut(Je(ve,Ae,yt[0],yt[1]),Math.min(Je(et,xt,Ot[0],Ot[1]),we))&&(qe=Ne+J.pathSector(Ve),Le&&(qe+=J.pathSector(Le)),ft=[Lt(Le,yt[0],yt[1]),Lt(Ve,yt[0],yt[1])].join(" ")),Ht(qe,ft)}function Ge(){if(l.removeZoombox(fe),null!==Le&&null!==Ve){var ct={};Qe(ct),l.showDoubleClickNotifier(fe),a.call("_guiRelayout",fe,ct)}}function Qe(ct){var He=me._rl,qe=(He[1]-He[0])/(1-xe/we)/we;ct[J.id+".radialaxis.range"]=[He[0]+(Le-xe)*qe,He[0]+(Ve-xe)*qe]}function pt(ct,He){var qe=fe._fullLayout.clickmode;if(l.removeZoombox(fe),2===ct){var ft={};for(var et in J.viewInitial)ft[J.id+"."+et]=J.viewInitial[et];fe.emit("plotly_doubleclick",null),a.call("_guiRelayout",fe,ft)}qe.indexOf("select")>-1&&1===ct&&m(He,fe,[J.xaxis],[J.yaxis],J.id,ht),qe.indexOf("event")>-1&&c.click(fe,He,J.id)}ht.prepFn=function(ct,He,qe){var ft=fe._fullLayout.dragmode,et=je.getBoundingClientRect();fe._fullLayout._calcInverseTransform(fe),ee=fe._fullLayout._invScaleX,re=fe._fullLayout._invScaleY;var wt=M.apply3DTransform(fe._fullLayout._invTransform)(He-et.left,qe-et.top);if(ve=wt[0],Ae=wt[1],ue){var At=T.findPolygonOffset(we,he[0],he[1],ue);ve+=Se+At[0],Ae+=Ee+At[1]}switch(ft){case"zoom":ht.clickFn=pt,le||(ht.moveFn=ue?tt:Pt,ht.doneFn=Ge,Le=null,Ve=null,Ne=J.pathSubplot(),We=!1,Xe=A(fe._fullLayout[J.id].bgcolor).getLuminance(),(nt=l.makeZoombox(ge,Xe,be,ye,Ne)).attr("fill-rule","evenodd"),dt=l.makeCorners(ge,be,ye),v(fe));break;case"select":case"lasso":p(ct,He,qe,ht,ft)}},h.init(ht)},W.updateRadialDrag=function(Q,ee,re){var J=this,le=J.gd,fe=J.layers,ce=J.radius,ge=J.innerRadius,Te=J.cx,Me=J.cy,we=J.radialAxis,xe=C.radialDragBoxSize,be=xe/2;if(we.visible){var ye,Se,Ee,he=H(J.radialAxisAngle),ue=we._rl,me=ue[0],Pe=ue[1],Ce=ue[re],Ie=.75*(ue[1]-ue[0])/(1-J.getHole(ee))/ce;re?(ye=Te+(ce+be)*Math.cos(he),Se=Me-(ce+be)*Math.sin(he),Ee="radialdrag"):(ye=Te+(ge-be)*Math.cos(he),Se=Me-(ge-be)*Math.sin(he),Ee="radialdrag-inner");var Oe,ze,je,ve=l.makeRectDragger(fe,Ee,"crosshair",-be,-be,xe,xe),Ae={element:ve,gd:le};!1===Q.dragmode&&(Ae.dragmode=!1),te(S.select(ve),we.visible&&ge<ce,{transform:d(ye,Se)}),Ae.prepFn=function(){Oe=null,ze=null,je=null,Ae.moveFn=Le,Ae.doneFn=Ve,v(le)},Ae.clampFn=function(Xe,nt){return Math.sqrt(Xe*Xe+nt*nt)<C.MINDRAG&&(Xe=0,nt=0),[Xe,nt]},h.init(Ae)}function Le(Xe,nt){if(Oe)Oe(Xe,nt);else{var dt=[Xe,-nt],ht=[Math.cos(he),Math.sin(he)],Mt=Math.abs(M.dot(dt,ht)/Math.sqrt(M.dot(dt,dt)));isNaN(Mt)||(Oe=Mt<.5?Ne:We)}var _t,kt={};_t=kt,null!==ze?_t[J.id+".radialaxis.angle"]=ze:null!==je&&(_t[J.id+".radialaxis.range["+re+"]"]=je),le.emit("plotly_relayouting",kt)}function Ve(){null!==ze?a.call("_guiRelayout",le,J.id+".radialaxis.angle",ze):null!==je&&a.call("_guiRelayout",le,J.id+".radialaxis.range["+re+"]",je)}function Ne(Xe,nt){if(0!==re){ze=Math.atan2(Me-(Se+nt),ye+Xe-Te),J.vangles&&(ze=ae(ze,J.vangles)),ze=$(ze);var Mt=d(Te,Me)+_(-ze);fe["radial-axis"].attr("transform",Mt),fe["radial-line"].select("line").attr("transform",Mt);var kt=J.gd._fullLayout;J.updateRadialAxisTitle(kt,kt[J.id],ze)}}function We(Xe,nt){var dt=M.dot([Xe,-nt],[Math.cos(he),Math.sin(he)]);if(je=Ce-Ie*dt,Ie>0==(re?je>me:je<Pe)){var ht=le._fullLayout,Mt=ht[J.id];we.range[re]=je,we._rl[re]=je,J.updateRadialAxis(ht,Mt),J.xaxis.setRange(),J.xaxis.setScale(),J.yaxis.setRange(),J.yaxis.setScale();var kt=!1;for(var _t in J.traceHash){var ut=J.traceHash[_t],st=M.filterVisible(ut);ut[0][0].trace._module.plot(le,J,st,Mt),a.traceIs(_t,"gl")&&st.length&&(kt=!0)}kt&&(y(le),w(le))}else je=null}},W.updateAngularDrag=function(Q){var ee=this,re=ee.gd,J=ee.layers,le=ee.radius,fe=ee.angularAxis,ce=ee.cx,ge=ee.cy,Te=ee.cxx,Me=ee.cyy,we=C.angularDragBoxSize,xe=l.makeDragger(J,"path","angulardrag",!1===Q.dragmode?"none":"move"),be={element:xe,gd:re};function ye(Ae,Le){return Math.atan2(Me+we-Le,Ae-Te-we)}!1===Q.dragmode?be.dragmode=!1:S.select(xe).attr("d",ee.pathAnnulus(le,le+we)).attr("transform",d(ce,ge)).call(x,"move");var Se,Ee,he,ue,me,Pe,Ce=J.frontplot.select(".scatterlayer").selectAll(".trace"),Ie=Ce.selectAll(".point"),Oe=Ce.selectAll(".textpoint");function ze(Ae,Le){var Ve=ee.gd._fullLayout,Ne=Ve[ee.id],We=ye(Se+Ae*Q._invScaleX,Ee+Le*Q._invScaleY),Xe=$(We-Pe);if(ue=he+Xe,J.frontplot.attr("transform",d(ee.xOffset2,ee.yOffset2)+_([-Xe,Te,Me])),ee.vangles){me=ee.radialAxisAngle+Xe;var nt=d(ce,ge)+_(-Xe),dt=d(ce,ge)+_(-me);J.bg.attr("transform",nt),J["radial-grid"].attr("transform",nt),J["radial-axis"].attr("transform",dt),J["radial-line"].select("line").attr("transform",dt),ee.updateRadialAxisTitle(Ve,Ne,me)}else ee.clipPaths.forTraces.select("path").attr("transform",d(Te,Me)+_(Xe));Ie.each(function(){var st=S.select(this),Lt=t.getTranslate(st);st.attr("transform",d(Lt.x,Lt.y)+_([Xe]))}),Oe.each(function(){var st=S.select(this),Lt=st.select("text"),Ut=t.getTranslate(st);st.attr("transform",_([Xe,Lt.attr("x"),Lt.attr("y")])+d(Ut.x,Ut.y))}),fe.rotation=M.modHalf(ue,360),ee.updateAngularAxis(Ve,Ne),ee._hasClipOnAxisFalse&&!M.isFullCircle(ee.sectorInRad)&&Ce.call(t.hideOutsideRangePoints,ee);var ht=!1;for(var Mt in ee.traceHash)if(a.traceIs(Mt,"gl")){var kt=ee.traceHash[Mt],_t=M.filterVisible(kt);kt[0][0].trace._module.plot(re,ee,_t,Ne),_t.length&&(ht=!0)}ht&&(y(re),w(re));var ut={};je(ut),re.emit("plotly_relayouting",ut)}function je(Ae){Ae[ee.id+".angularaxis.rotation"]=ue,ee.vangles&&(Ae[ee.id+".radialaxis.angle"]=me)}function ve(){Oe.select("text").attr("transform",null);var Ae={};je(Ae),a.call("_guiRelayout",re,Ae)}be.prepFn=function(Ae,Le,Ve){he=Q[ee.id].angularaxis.rotation;var We=xe.getBoundingClientRect();Se=Le-We.left,Ee=Ve-We.top,re._fullLayout._calcInverseTransform(re);var Xe=M.apply3DTransform(Q._invTransform)(Se,Ee);Pe=ye(Se=Xe[0],Ee=Xe[1]),be.moveFn=ze,be.doneFn=ve,v(re)},ee.vangles&&!M.isFullCircle(ee.sectorInRad)&&(be.prepFn=M.noop,x(S.select(xe),null)),h.init(be)},W.isPtInside=function(Q){if(this.isSmith)return!0;var ee=this.sectorInRad,re=this.vangles,J=this.angularAxis.c2g(Q.theta),le=this.radialAxis,fe=le.c2l(Q.r);return(re?T.isPtInsidePolygon:M.isPtInsideSector)(fe,J,le._rl,ee,re)},W.pathArc=function(Q){var ee=this.sectorInRad,re=this.vangles;return(re?T.pathPolygon:M.pathArc)(Q,ee[0],ee[1],re)},W.pathSector=function(Q){var ee=this.sectorInRad,re=this.vangles;return(re?T.pathPolygon:M.pathSector)(Q,ee[0],ee[1],re)},W.pathAnnulus=function(Q,ee){var re=this.sectorInRad,J=this.vangles;return(J?T.pathPolygonAnnulus:M.pathAnnulus)(Q,ee,re[0],re[1],J)},W.pathSubplot=function(){var Q=this.innerRadius,ee=this.radius;return Q?this.pathAnnulus(Q,ee):this.pathSector(ee)},W.fillViewInitialKey=function(Q,ee){Q in this.viewInitial||(this.viewInitial[Q]=ee)}},57696:function(ie,z,e){"use strict";var S=e(3400),A=e(78344),a=S.deg2rad,M=S.rad2deg;ie.exports=function(_,d,s){switch(A(_,s),_._id){case"x":case"radialaxis":n=d._subplot,(t=_).setGeometry=function(){var r=t._rl[0],o=t._rl[1],u=n.innerRadius,l=(n.radius-u)/(o-r),h=u/l,c=r>o?function(b){return b<=0}:function(b){return b>=0};t.c2g=function(b){var p=t.c2l(b)-r;return(c(p)?p:0)+h},t.g2c=function(b){return t.l2c(b+r-h)},t.g2p=function(b){return b*l},t.c2p=function(b){return t.g2p(t.c2g(b))}};break;case"angularaxis":!function(t,i){var n=t.type;if("linear"===n){var r=t.d2c,o=t.c2d;t.d2c=function(u,l){return h=r(u),"degrees"===l?a(h):h;var h},t.c2d=function(u,l){return o((h=u,"degrees"===l?M(h):h));var h}}t.makeCalcdata=function(u,l){var h,c,b=u[l],p=u._length,m=function(f){return t.d2c(f,u.thetaunit)};if(b)for(h=new Array(p),c=0;c<p;c++)h[c]=m(b[c]);else{var v=l+"0",x="d"+l,y=v in u?m(u[v]):0,w=u[x]?m(u[x]):(t.period||2*Math.PI)/p;for(h=new Array(p),c=0;c<p;c++)h[c]=y+c*w}return h},t.setGeometry=function(){var u,l,h,c,b=i.sector,p=b.map(a),m={clockwise:-1,counterclockwise:1}[t.direction],v=a(t.rotation),x=function(C){return m*C+v},y=function(C){return(C-v)/m};switch(n){case"linear":l=u=S.identity,c=a,h=M,t.range=S.isFullCircle(p)?[b[0],b[0]+360]:p.map(y).map(M);break;case"category":var w=t._categories.length,f=t.period?Math.max(t.period,w):w;0===f&&(f=1),l=c=function(C){return 2*C*Math.PI/f},u=h=function(C){return C*f/Math.PI/2},t.range=[0,f]}t.c2g=function(C){return x(l(C))},t.g2c=function(C){return u(y(C))},t.t2g=function(C){return x(c(C))},t.g2t=function(C){return h(y(C))}}}(_,d)}var t,n}},55012:function(ie){"use strict";ie.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(ie){"use strict";function z(a){return a<0?-1:a>0?1:0}function e(a){var M=a[0],_=a[1];if(!isFinite(M)||!isFinite(_))return[1,0];var d=(M+1)*(M+1)+_*_;return[(M*M+_*_-1)/d,2*_/d]}function S(a,M){return[M[0]*a.radius+a.cx,-M[1]*a.radius+a.cy]}function A(a,M){return M*a.radius}ie.exports={smith:e,reactanceArc:function(a,M,_,d){var s=S(a,e([_,M])),t=s[0],i=s[1],n=S(a,e([d,M])),r=n[0],o=n[1];if(0===M)return["M"+t+","+i,"L"+r+","+o].join(" ");var u=A(a,1/Math.abs(M));return["M"+t+","+i,"A"+u+","+u+" 0 0,"+(M<0?1:0)+" "+r+","+o].join(" ")},resistanceArc:function(a,M,_,d){var s=A(a,1/(M+1)),t=S(a,e([M,_])),i=t[0],n=t[1],r=S(a,e([M,d])),o=r[0],u=r[1];if(z(_)!==z(d)){var l=S(a,e([M,0]));return["M"+i+","+n,"A"+s+","+s+" 0 0,"+(0<_?0:1)+" "+l[0]+","+l[1],"A"+s+","+s+" 0 0,"+(d<0?0:1)+o+","+u].join(" ")}return["M"+i+","+n,"A"+s+","+s+" 0 0,"+(d<_?0:1)+" "+o+","+u].join(" ")},smithTransform:S}},47788:function(ie,z,e){"use strict";var S=e(84888).KY,A=e(3400).counterRegex,a=e(62400),M=e(55012),_=M.attr,d=M.name,s=A(d),t={};t[_]={valType:"subplotid",dflt:d,editType:"calc"},ie.exports={attr:_,name:d,idRoot:d,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,o=n._subplots[d],u=0;u<o.length;u++){var l=o[u],h=S(r,d,l),c=n[l]._subplot;c||(c=a(i,l,!0),n[l]._subplot=c),c.plot(h,n,i._promises)}},clean:function(i,n,r,o){for(var u=o._subplots[d]||[],l=0;l<u.length;l++){var h=u[l],c=o[h]._subplot;if(!n[h]&&c)for(var b in c.framework.remove(),c.clipPaths)c.clipPaths[b].remove()}},toSVG:e(57952).toSVG}},6183:function(ie,z,e){"use strict";var S=e(22548),A=e(94724),a=e(86968).u,M=e(3400).extendFlat,_=e(67824).overrideAll,d=_({color:A.color,showline:M({},A.showline,{dflt:!0}),linecolor:A.linecolor,linewidth:A.linewidth,showgrid:M({},A.showgrid,{dflt:!0}),gridcolor:A.gridcolor,gridwidth:A.gridwidth,griddash:A.griddash},"plot","from-root"),s=_({ticklen:A.ticklen,tickwidth:M({},A.tickwidth,{dflt:2}),tickcolor:A.tickcolor,showticklabels:A.showticklabels,labelalias:A.labelalias,showtickprefix:A.showtickprefix,tickprefix:A.tickprefix,showticksuffix:A.showticksuffix,ticksuffix:A.ticksuffix,tickfont:A.tickfont,tickformat:A.tickformat,hoverformat:A.hoverformat,layer:A.layer},"plot","from-root"),t=M({visible:M({},A.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:M({},A.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},d,s),i=M({visible:M({},A.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:A.ticks,editType:"calc"},d,s);ie.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:S.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},22836:function(ie,z,e){"use strict";var S,A,a,M=e(3400),_=e(76308),d=e(31780),s=e(168),t=e(84888).op,i=e(42568),n=e(95936),r=e(42136),o=e(78344),u=e(6183),l=e(55012),h=l.axisNames,c=(S=function(p){return M.isTypedArray(p)&&(p=Array.from(p)),p.slice().reverse().map(function(m){return-m}).concat([0]).concat(p)},A=String,a={},function(p){var m=A?A(p):p;if(m in a)return a[m];var v=S(p);return a[m]=v,v});function b(p,m,v,x){var y=v("bgcolor");x.bgColor=_.combine(y,x.paper_bgcolor);var w,f=t(x.fullData,l.name,x.id),C=x.layoutOut;function T(W,G){return v(w+"."+W,G)}for(var D=0;D<h.length;D++){M.isPlainObject(p[w=h[D]])||(p[w]={});var R=p[w],P=d.newContainer(m,w);P._id=P._name=w,P._attr=x.id+"."+w,P._traceIndices=f.map(function(W){return W._expandedIndex});var O=T("visible");if(P.type="linear",o(P,C),i(R,P,T,P.type),O){var B,q,N,H,$="realaxis"===w;$&&T("side"),$?T("tickvals"):T("tickvals",c(m.realaxis.tickvals||u.realaxis.tickvals.dflt)),M.isTypedArray(P.tickvals)&&(P.tickvals=Array.from(P.tickvals));var j=x.font||{};O&&(q=(B=T("color"))===R.color?B:j.color,N=j.size,H=j.family),n(R,P,T,P.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!$,noExp:!0,font:{color:q,size:N,family:H}}),M.coerce2(p,m,u,w+".ticklen"),M.coerce2(p,m,u,w+".tickwidth"),M.coerce2(p,m,u,w+".tickcolor",m.color),T("ticks")||(delete m[w].ticklen,delete m[w].tickwidth,delete m[w].tickcolor),r(R,P,T,{dfltColor:B,bgColor:x.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[w]}),T("layer")}T("hoverformat"),delete P.type,P._input=R}}ie.exports=function(p,m,v){s(p,m,v,{noUirevision:!0,type:l.name,attributes:u,handleDefaults:b,font:m.font,paper_bgcolor:m.paper_bgcolor,fullData:v,layoutOut:m})}},168:function(ie,z,e){"use strict";var S=e(3400),A=e(31780),a=e(86968).Q;ie.exports=function(M,_,d,s){var t,i,r=s.attributes,o=s.handleDefaults,u=s.partition||"x",l=_._subplots[s.type],h=l.length,c=h&&l[0].replace(/\d+$/,"");function b(x,y){return S.coerce(t,i,r,x,y)}for(var p=0;p<h;p++){var m=l[p];t=M[m]?M[m]:M[m]={},i=A.newContainer(_,m,c),s.noUirevision||b("uirevision",_.uirevision);var v={};v[u]=[p/h,(p+1)/h],a(i,_,b,v),s.id=m,o(t,i,b,s)}}},21776:function(ie,z,e){"use strict";function A(a){var M=a.description?" "+a.description:"",_=a.keys||[];if(_.length>0){for(var d=[],s=0;s<_.length;s++)d[s]="`"+_[s]+"`";M+="Finally, the template string has access to ",M=1===_.length?M+"variable "+d[0]:M+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return M}e(26880),z.Ks=function(a,M){a=a||{},A(M=M||{});var _={valType:"string",dflt:"",editType:a.editType||"none"};return!1!==a.arrayOk&&(_.arrayOk=!0),_},z.Gw=function(a,M){a=a||{},A(M=M||{});var _={valType:"string",dflt:"",editType:a.editType||"calc"};return!1!==a.arrayOk&&(_.arrayOk=!0),_},z.ye=function(a,M){return a=a||{},A(M=M||{}),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},19352:function(ie,z,e){"use strict";var S=e(24696),A=e(84888).KY,a=e(3400).counterRegex,M="ternary";z.name=M;var _=z.attr="subplot";z.idRoot=M,z.idRegex=z.attrRegex=a(M),(z.attributes={})[_]={valType:"subplotid",dflt:"ternary",editType:"calc"},z.layoutAttributes=e(86379),z.supplyLayoutDefaults=e(38536),z.plot=function(d){for(var s=d._fullLayout,t=d.calcdata,i=s._subplots[M],n=0;n<i.length;n++){var r=i[n],o=A(t,M,r),u=s[r]._subplot;u||(u=new S({id:r,graphDiv:d,container:s._ternarylayer.node()},s),s[r]._subplot=u),u.plot(o,s,d._promises)}},z.clean=function(d,s,t,i){for(var n=i._subplots[M]||[],r=0;r<n.length;r++){var o=n[r],u=i[o]._subplot;!s[o]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},86379:function(ie,z,e){"use strict";var S=e(22548),A=e(86968).u,a=e(94724),M=e(67824).overrideAll,_=e(92880).extendFlat,d={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:_({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:_({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:_({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},s=ie.exports=M({domain:A({name:"ternary"}),bgcolor:{valType:"color",dflt:S.background},sum:{valType:"number",dflt:1,min:0},aaxis:d,baxis:d,caxis:d},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},38536:function(ie,z,e){"use strict";var S=e(76308),A=e(31780),a=e(3400),M=e(168),_=e(95936),d=e(42568),s=e(25404),t=e(26332),i=e(42136),n=e(86379),r=["aaxis","baxis","caxis"];function o(l,h,c,b){var p,m,v,x=c("bgcolor"),y=c("sum");b.bgColor=S.combine(x,b.paper_bgcolor);for(var w=0;w<r.length;w++)m=l[p=r[w]]||{},(v=A.newContainer(h,p))._name=p,u(m,v,b,h);var f=h.aaxis,C=h.baxis,T=h.caxis;f.min+C.min+T.min>=y&&(f.min=0,C.min=0,T.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,h,c,b){var p=n[h._name];function m(C,T){return a.coerce(l,h,p,C,T)}m("uirevision",b.uirevision),h.type="linear";var v=m("color"),x=v!==p.color.dflt?v:c.font.color,y=h._name.charAt(0).toUpperCase(),w="Component "+y,f=m("title.text",w);h._hovertitle=f===w?f:y,a.coerceFont(m,"title.font",{weight:c.font.weight,style:c.font.style,variant:c.font.variant,family:c.font.family,size:a.bigFont(c.font.size),color:x}),m("min"),t(l,h,m,"linear"),d(l,h,m,"linear"),_(l,h,m,"linear",{noAutotickangles:!0}),s(l,h,m,{outerTicks:!0}),m("showticklabels")&&(a.coerceFont(m,"tickfont",{weight:c.font.weight,style:c.font.style,variant:c.font.variant,family:c.font.family,size:c.font.size,color:x}),m("tickangle"),m("tickformat")),i(l,h,m,{dfltColor:v,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:p}),m("hoverformat"),m("layer")}ie.exports=function(l,h,c){M(l,h,c,{type:"ternary",attributes:n,handleDefaults:o,font:h.font,paper_bgcolor:h.paper_bgcolor})}},24696:function(ie,z,e){"use strict";var S=e(33428),A=e(49760),a=e(24040),M=e(3400),_=M.strTranslate,d=M._,s=e(76308),t=e(43616),i=e(78344),n=e(92880).extendFlat,r=e(7316),o=e(54460),u=e(86476),l=e(93024),h=e(72760),c=h.freeMode,b=h.rectMode,p=e(81668),m=e(22676).prepSelect,v=e(22676).selectOnClick,x=e(22676).clearOutline,y=e(22676).clearSelectionsCache,w=e(33816);function f(N,H){this.id=N.id,this.graphDiv=N.graphDiv,this.init(H),this.makeFramework(H),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ie.exports=f;var C=f.prototype;C.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},C.plot=function(N,H){var $=this,j=H[$.id],W=H._size;$._hasClipOnAxisFalse=!1;for(var G=0;G<N.length;G++)if(!1===N[G][0].trace.cliponaxis){$._hasClipOnAxisFalse=!0;break}$.updateLayers(j),$.adjustLayout(j,W),r.generalUpdatePerTraceModule($.graphDiv,$,N,j),$.layers.plotbg.select("path").call(s.fill,j.bgcolor)},C.makeFramework=function(N){var H=this,$=H.graphDiv,j=N[H.id],W=H.clipId="clip"+H.layoutId+H.id,G=H.clipIdRelative="clip-relative"+H.layoutId+H.id;H.clipDef=M.ensureSingleById(N._clips,"clipPath",W,function(ae){ae.append("path").attr("d","M0,0Z")}),H.clipDefRelative=M.ensureSingleById(N._clips,"clipPath",G,function(ae){ae.append("path").attr("d","M0,0Z")}),H.plotContainer=M.ensureSingle(H.container,"g",H.id),H.updateLayers(j),t.setClipUrl(H.layers.backplot,W,$),t.setClipUrl(H.layers.grids,W,$)},C.updateLayers=function(N){var H=this.layers,$=["draglayer","plotbg","backplot","grids"];"below traces"===N.aaxis.layer&&$.push("aaxis","aline"),"below traces"===N.baxis.layer&&$.push("baxis","bline"),"below traces"===N.caxis.layer&&$.push("caxis","cline"),$.push("frontplot"),"above traces"===N.aaxis.layer&&$.push("aaxis","aline"),"above traces"===N.baxis.layer&&$.push("baxis","bline"),"above traces"===N.caxis.layer&&$.push("caxis","cline");var j=this.plotContainer.selectAll("g.toplevel").data($,String),W=["agrid","bgrid","cgrid"];j.enter().append("g").attr("class",function(G){return"toplevel "+G}).each(function(G){var ae=S.select(this);H[G]=ae,"frontplot"===G?ae.append("g").classed("scatterlayer",!0):"backplot"===G?ae.append("g").classed("maplayer",!0):"plotbg"===G?ae.append("path").attr("d","M0,0Z"):"aline"===G||"bline"===G||"cline"===G?ae.append("path"):"grids"===G&&W.forEach(function(te){H[te]=ae.append("g").classed("grid "+te,!0)})}),j.order()};var T=Math.sqrt(4/3);C.adjustLayout=function(N,H){var $,j,W,G,ae,te,Q=this,ee=N.domain,re=(ee.x[0]+ee.x[1])/2,J=(ee.y[0]+ee.y[1])/2,le=ee.x[1]-ee.x[0],fe=ee.y[1]-ee.y[0],ce=le*H.w,ge=fe*H.h,Te=N.sum,Me=N.aaxis.min,we=N.baxis.min,xe=N.caxis.min;ce>T*ge?W=(G=ge)*T:G=(W=ce)/T,ae=le*W/ce,te=fe*G/ge,j=H.t+H.h*(1-J)-G/2,Q.x0=$=H.l+H.w*re-W/2,Q.y0=j,Q.w=W,Q.h=G,Q.sum=Te,Q.xaxis={type:"linear",range:[Me+2*xe-Te,Te-Me-2*we],domain:[re-ae/2,re+ae/2],_id:"x"},i(Q.xaxis,Q.graphDiv._fullLayout),Q.xaxis.setScale(),Q.xaxis.isPtWithinRange=function(Oe){return Oe.a>=Q.aaxis.range[0]&&Oe.a<=Q.aaxis.range[1]&&Oe.b>=Q.baxis.range[1]&&Oe.b<=Q.baxis.range[0]&&Oe.c>=Q.caxis.range[1]&&Oe.c<=Q.caxis.range[0]},Q.yaxis={type:"linear",range:[Me,Te-we-xe],domain:[J-te/2,J+te/2],_id:"y"},i(Q.yaxis,Q.graphDiv._fullLayout),Q.yaxis.setScale(),Q.yaxis.isPtWithinRange=function(){return!0};var be=Q.yaxis.domain[0],ye=Q.aaxis=n({},N.aaxis,{range:[Me,Te-we-xe],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[be,be+te*T],anchor:"free",position:0,_id:"y",_length:W});i(ye,Q.graphDiv._fullLayout),ye.setScale();var Se=Q.baxis=n({},N.baxis,{range:[Te-Me-xe,we],side:"bottom",domain:Q.xaxis.domain,anchor:"free",position:0,_id:"x",_length:W});i(Se,Q.graphDiv._fullLayout),Se.setScale();var Ee=Q.caxis=n({},N.caxis,{range:[Te-Me-we,xe],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[be,be+te*T],anchor:"free",position:0,_id:"y",_length:W});i(Ee,Q.graphDiv._fullLayout),Ee.setScale();var he="M"+$+","+(j+G)+"h"+W+"l-"+W/2+",-"+G+"Z";Q.clipDef.select("path").attr("d",he),Q.layers.plotbg.select("path").attr("d",he);var ue="M0,"+G+"h"+W+"l-"+W/2+",-"+G+"Z";Q.clipDefRelative.select("path").attr("d",ue);var me=_($,j);Q.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",me),Q.clipDefRelative.select("path").attr("transform",null);var Pe=_($-Se._offset,j+G);Q.layers.baxis.attr("transform",Pe),Q.layers.bgrid.attr("transform",Pe);var Ce=_($+W/2,j)+"rotate(30)"+_(0,-ye._offset);Q.layers.aaxis.attr("transform",Ce),Q.layers.agrid.attr("transform",Ce);var Ie=_($+W/2,j)+"rotate(-30)"+_(0,-Ee._offset);Q.layers.caxis.attr("transform",Ie),Q.layers.cgrid.attr("transform",Ie),Q.drawAxes(!0),Q.layers.aline.select("path").attr("d",ye.showline?"M"+$+","+(j+G)+"l"+W/2+",-"+G:"M0,0").call(s.stroke,ye.linecolor||"#000").style("stroke-width",(ye.linewidth||0)+"px"),Q.layers.bline.select("path").attr("d",Se.showline?"M"+$+","+(j+G)+"h"+W:"M0,0").call(s.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),Q.layers.cline.select("path").attr("d",Ee.showline?"M"+($+W/2)+","+j+"l"+W/2+","+G:"M0,0").call(s.stroke,Ee.linecolor||"#000").style("stroke-width",(Ee.linewidth||0)+"px"),Q.graphDiv._context.staticPlot||Q.initInteractions(),t.setClipUrl(Q.layers.frontplot,Q._hasClipOnAxisFalse?null:Q.clipId,Q.graphDiv)},C.drawAxes=function(N){var H=this,$=H.graphDiv,j=H.id.substr(7)+"title",W=H.layers,G=H.aaxis,ae=H.baxis,te=H.caxis;if(H.drawAx(G),H.drawAx(ae),H.drawAx(te),N){var Q=Math.max(G.showticklabels?G.tickfont.size/2:0,(te.showticklabels?.75*te.tickfont.size:0)+("outside"===te.ticks?.87*te.ticklen:0)),ee=(ae.showticklabels?ae.tickfont.size:0)+("outside"===ae.ticks?ae.ticklen:0)+3;W["a-title"]=p.draw($,"a"+j,{propContainer:G,propName:H.id+".aaxis.title",placeholder:d($,"Click to enter Component A title"),attributes:{x:H.x0+H.w/2,y:H.y0-G.title.font.size/3-Q,"text-anchor":"middle"}}),W["b-title"]=p.draw($,"b"+j,{propContainer:ae,propName:H.id+".baxis.title",placeholder:d($,"Click to enter Component B title"),attributes:{x:H.x0-ee,y:H.y0+H.h+.83*ae.title.font.size+ee,"text-anchor":"middle"}}),W["c-title"]=p.draw($,"c"+j,{propContainer:te,propName:H.id+".caxis.title",placeholder:d($,"Click to enter Component C title"),attributes:{x:H.x0+H.w+ee,y:H.y0+H.h+.83*te.title.font.size+ee,"text-anchor":"middle"}})}},C.drawAx=function(N){var H,$=this,j=$.graphDiv,W=N._name,G=W.charAt(0),ae=N._id,te=$.layers[W],Q=G+"tickLayout",ee=(H=N).ticks+String(H.ticklen)+String(H.showticklabels);$[Q]!==ee&&(te.selectAll("."+ae+"tick").remove(),$[Q]=ee),N.setScale();var re=o.calcTicks(N),J=o.clipEnds(N,re),le=o.makeTransTickFn(N),fe=o.getTickSigns(N)[2],ce=M.deg2rad(30),ge=fe*(N.linewidth||1)/2,Te=fe*N.ticklen,Me=$.w,we=$.h,xe="b"===G?"M0,"+ge+"l"+Math.sin(ce)*Te+","+Math.cos(ce)*Te:"M"+ge+",0l"+Math.cos(ce)*Te+","+-Math.sin(ce)*Te,be={a:"M0,0l"+we+",-"+Me/2,b:"M0,0l-"+Me/2+",-"+we,c:"M0,0l-"+we+","+Me/2}[G];o.drawTicks(j,N,{vals:"inside"===N.ticks?J:re,layer:te,path:xe,transFn:le,crisp:!1}),o.drawGrid(j,N,{vals:J,layer:$.layers[G+"grid"],path:be,transFn:le,crisp:!1}),o.drawLabels(j,N,{vals:re,layer:te,transFn:le,labelFns:o.makeLabelFns(N,0,30)})};var D=w.MINZOOM/2+.87,R="m-0.87,.5h"+D+"v3h-"+(D+5.2)+"l"+(D/2+2.6)+",-"+(.87*D+4.5)+"l2.6,1.5l-"+D/2+","+.87*D+"Z",P="m0.87,.5h-"+D+"v3h"+(D+5.2)+"l-"+(D/2+2.6)+",-"+(.87*D+4.5)+"l-2.6,1.5l"+D/2+","+.87*D+"Z",O="m0,1l"+D/2+","+.87*D+"l2.6,-1.5l-"+(D/2+2.6)+",-"+(.87*D+4.5)+"l-"+(D/2+2.6)+","+(.87*D+4.5)+"l2.6,1.5l"+D/2+",-"+.87*D+"Z",B=!0;function q(N){S.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}C.clearOutline=function(){y(this.dragOptions),x(this.dragOptions.gd)},C.initInteractions=function(){var N,H,$,j,W,G,ae,te,Q,ee,re,J,le=this,fe=le.layers.plotbg.select("path").node(),ce=le.graphDiv,ge=ce._fullLayout._zoomlayer;function Te(ue){var me={};return me[le.id+".aaxis.min"]=ue.a,me[le.id+".baxis.min"]=ue.b,me[le.id+".caxis.min"]=ue.c,me}function Me(ue,me){var Pe=ce._fullLayout.clickmode;q(ce),2===ue&&(ce.emit("plotly_doubleclick",null),a.call("_guiRelayout",ce,Te({a:0,b:0,c:0}))),Pe.indexOf("select")>-1&&1===ue&&v(me,ce,[le.xaxis],[le.yaxis],le.id,le.dragOptions),Pe.indexOf("event")>-1&&l.click(ce,me,le.id)}function we(ue,me){return 1-me/le.h}function xe(ue,me){return 1-(ue+(le.h-me)/Math.sqrt(3))/le.w}function be(ue,me){return(ue-(le.h-me)/Math.sqrt(3))/le.w}function ye(ue,me){var Pe=$+ue*N,Ce=j+me*H,Ie=Math.max(0,Math.min(1,we(0,j),we(0,Ce))),Oe=Math.max(0,Math.min(1,xe($,j),xe(Pe,Ce))),ze=Math.max(0,Math.min(1,be($,j),be(Pe,Ce))),je=(Ie/2+ze)*le.w,ve=(1-Ie/2-Oe)*le.w,Ae=(je+ve)/2,Le=ve-je,Ve=(1-Ie)*le.h,Ne=Ve-Le/T;Le<w.MINZOOM?(ae=W,re.attr("d",Q),J.attr("d","M0,0Z")):(ae={a:W.a+Ie*G,b:W.b+Oe*G,c:W.c+ze*G},re.attr("d",Q+"M"+je+","+Ve+"H"+ve+"L"+Ae+","+Ne+"L"+je+","+Ve+"Z"),J.attr("d","M"+$+","+j+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+je+","+Ve+R+"M"+ve+","+Ve+P+"M"+Ae+","+Ne+O)),ee||(re.transition().style("fill",te>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),J.transition().style("opacity",1).duration(200),ee=!0),ce.emit("plotly_relayouting",Te(ae))}function Se(){q(ce),ae!==W&&(a.call("_guiRelayout",ce,Te(ae)),B&&ce.data&&ce._context.showTips&&(M.notifier(d(ce,"Double-click to zoom back out"),"long"),B=!1))}function Ee(ue,me){var Pe=ue/le.xaxis._m,Ce=me/le.yaxis._m,Ie=[(ae={a:W.a-Ce,b:W.b+(Pe+Ce)/2,c:W.c-(Pe-Ce)/2}).a,ae.b,ae.c].sort(M.sorterAsc),Oe=Ie.indexOf(ae.a),ze=Ie.indexOf(ae.b),je=Ie.indexOf(ae.c);Ie[0]<0&&(Ie[1]+Ie[0]/2<0?(Ie[2]+=Ie[0]+Ie[1],Ie[0]=Ie[1]=0):(Ie[2]+=Ie[0]/2,Ie[1]+=Ie[0]/2,Ie[0]=0),me=(W.a-(ae={a:Ie[Oe],b:Ie[ze],c:Ie[je]}).a)*le.yaxis._m,ue=(W.c-ae.c-W.b+ae.b)*le.xaxis._m);var ve=_(le.x0+ue,le.y0+me);le.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ve);var Ae=_(-ue,-me);le.clipDefRelative.select("path").attr("transform",Ae),le.aaxis.range=[ae.a,le.sum-ae.b-ae.c],le.baxis.range=[le.sum-ae.a-ae.c,ae.b],le.caxis.range=[le.sum-ae.a-ae.b,ae.c],le.drawAxes(!1),le._hasClipOnAxisFalse&&le.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,le),ce.emit("plotly_relayouting",Te(ae))}function he(){a.call("_guiRelayout",ce,Te(ae))}this.dragOptions={element:fe,gd:ce,plotinfo:{id:le.id,domain:ce._fullLayout[le.id].domain,xaxis:le.xaxis,yaxis:le.yaxis},subplot:le.id,prepFn:function(ue,me,Pe){le.dragOptions.xaxes=[le.xaxis],le.dragOptions.yaxes=[le.yaxis],N=ce._fullLayout._invScaleX,H=ce._fullLayout._invScaleY;var Ce=le.dragOptions.dragmode=ce._fullLayout.dragmode;le.dragOptions.minDrag=c(Ce)?1:void 0,"zoom"===Ce?(le.dragOptions.moveFn=ye,le.dragOptions.clickFn=Me,le.dragOptions.doneFn=Se,function(Ie,Oe,ze){var je=fe.getBoundingClientRect();$=Oe-je.left,j=ze-je.top,ce._fullLayout._calcInverseTransform(ce);var Ae=M.apply3DTransform(ce._fullLayout._invTransform)($,j);$=Ae[0],j=Ae[1],ae=W={a:le.aaxis.range[0],b:le.baxis.range[1],c:le.caxis.range[1]},G=le.aaxis.range[1]-W.a,te=A(le.graphDiv._fullLayout[le.id].bgcolor).getLuminance(),Q="M0,"+le.h+"L"+le.w/2+", 0L"+le.w+","+le.h+"Z",ee=!1,re=ge.append("path").attr("class","zoombox").attr("transform",_(le.x0,le.y0)).style({fill:te>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),J=ge.append("path").attr("class","zoombox-corners").attr("transform",_(le.x0,le.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),le.clearOutline(ce)}(0,me,Pe)):"pan"===Ce?(le.dragOptions.moveFn=Ee,le.dragOptions.clickFn=Me,le.dragOptions.doneFn=he,ae=W={a:le.aaxis.range[0],b:le.baxis.range[1],c:le.caxis.range[1]},le.clearOutline(ce)):(b(Ce)||c(Ce))&&m(ue,me,Pe,le.dragOptions,Ce)}},fe.onmousemove=function(ue){l.hover(ce,ue,le.id),ce._fullLayout._lasthover=fe,ce._fullLayout._hoversubplot=le.id},fe.onmouseout=function(ue){ce._dragging||u.unhover(ce,ue)},u.init(this.dragOptions)}},24040:function(ie,z,e){"use strict";var S=e(24248),A=e(16628),a=e(52416),M=e(63620),_=e(52200).addStyleRule,d=e(92880),s=e(45464),t=e(64859),i=d.extendFlat,n=d.extendDeepAll;function r(v){var x=v.name,y=v.categories,w=v.meta;if(z.modules[x])S.log("Type "+x+" already registered");else{z.subplotsRegistry[v.basePlotModule.name]||function(B){var q=B.name;if(z.subplotsRegistry[q])S.log("Plot type "+q+" already registered.");else for(var N in h(B),z.subplotsRegistry[q]=B,z.componentsRegistry)p(N,B.name)}(v.basePlotModule);for(var f={},C=0;C<y.length;C++)f[y[C]]=!0,z.allCategories[y[C]]=!0;for(var T in z.modules[x]={_module:v,categories:f},w&&Object.keys(w).length&&(z.modules[x].meta=w),z.allTypes.push(x),z.componentsRegistry)c(T,x);v.layoutAttributes&&i(z.traceLayoutAttributes,v.layoutAttributes);var D=v.basePlotModule,R=D.name;if("mapbox"===R){var P=D.constants.styleRules;for(var O in P)_(".js-plotly-plot .plotly .mapboxgl-"+O,P[O])}"geo"!==R&&"mapbox"!==R||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function o(v){if("string"!=typeof v.name)throw new Error("Component module *name* must be a string.");var x=v.name;for(var y in z.componentsRegistry[x]=v,v.layoutAttributes&&(v.layoutAttributes._isLinkedToArray&&a(z.layoutArrayContainers,x),h(v)),z.modules)c(x,y);for(var w in z.subplotsRegistry)p(x,w);for(var f in z.transformsRegistry)b(x,f);v.schema&&v.schema.layout&&n(t,v.schema.layout)}function u(v){if("string"!=typeof v.name)throw new Error("Transform module *name* must be a string.");var x="Transform module "+v.name,y="function"==typeof v.transform,w="function"==typeof v.calcTransform;if(!y&&!w)throw new Error(x+" is missing a *transform* or *calcTransform* method.");for(var f in y&&w&&S.log([x+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),M(v.attributes)||S.log(x+" registered without an *attributes* object."),"function"!=typeof v.supplyDefaults&&S.log(x+" registered without a *supplyDefaults* method."),z.transformsRegistry[v.name]=v,z.componentsRegistry)b(f,v.name)}function l(v){var x=v.name,y=x.split("-")[0],w=v.dictionary,f=v.format,C=w&&Object.keys(w).length,T=f&&Object.keys(f).length,D=z.localeRegistry,R=D[x];if(R||(D[x]=R={}),y!==x){var P=D[y];P||(D[y]=P={}),C&&P.dictionary===R.dictionary&&(P.dictionary=w),T&&P.format===R.format&&(P.format=f)}C&&(R.dictionary=w),T&&(R.format=f)}function h(v){if(v.layoutAttributes){var x=v.layoutAttributes._arrayAttrRegexps;if(x)for(var y=0;y<x.length;y++)a(z.layoutArrayRegexes,x[y])}}function c(v,x){var y=z.componentsRegistry[v].schema;if(y&&y.traces){var w=y.traces[x];w&&n(z.modules[x]._module.attributes,w)}}function b(v,x){var y=z.componentsRegistry[v].schema;if(y&&y.transforms){var w=y.transforms[x];w&&n(z.transformsRegistry[x].attributes,w)}}function p(v,x){var y=z.componentsRegistry[v].schema;if(y&&y.subplots){var w=z.subplotsRegistry[x],f=w.layoutAttributes,C="subplot"===w.attr?w.name:w.attr;Array.isArray(C)&&(C=C[0]);var T=y.subplots[C];f&&T&&n(f,T)}}function m(v){return"object"==typeof v&&(v=v.type),v}z.modules={},z.allCategories={},z.allTypes=[],z.subplotsRegistry={},z.transformsRegistry={},z.componentsRegistry={},z.layoutArrayContainers=[],z.layoutArrayRegexes=[],z.traceLayoutAttributes={},z.localeRegistry={},z.apiMethodRegistry={},z.collectableSubplotTypes=null,z.register=function(v){if(z.collectableSubplotTypes=null,!v)throw new Error("No argument passed to Plotly.register.");v&&!Array.isArray(v)&&(v=[v]);for(var x=0;x<v.length;x++){var y=v[x];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":r(y);break;case"transform":u(y);break;case"component":o(y);break;case"locale":l(y);break;case"apiMethod":z.apiMethodRegistry[y.name]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},z.getModule=function(v){var x=z.modules[m(v)];return!!x&&x._module},z.traceIs=function(v,x){if("various"===(v=m(v)))return!1;var y=z.modules[v];return y||(v&&S.log("Unrecognized trace type "+v+"."),y=z.modules[s.type.dflt]),!!y.categories[x]},z.getTransformIndices=function(v,x){for(var y=[],w=v.transforms||[],f=0;f<w.length;f++)w[f].type===x&&y.push(f);return y},z.hasTransform=function(v,x){for(var y=v.transforms||[],w=0;w<y.length;w++)if(y[w].type===x)return!0;return!1},z.getComponentMethod=function(v,x){var y=z.componentsRegistry[v];return y&&y[x]||A},z.call=function(){var v=arguments[0],x=[].slice.call(arguments,1);return z.apiMethodRegistry[v].apply(null,x)}},91536:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=A.extendFlat,M=A.extendDeep;function _(d){var s;switch(d){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}ie.exports=function(d,s){var t,r=d.layout,o=M([],d.data),u=M({},r,_(s.tileClass)),l=d._context||{};if(s.width&&(u.width=s.width),s.height&&(u.height=s.height),"thumbnail"===s.tileClass||"themes__thumb"===s.tileClass){u.annotations=[];var h=Object.keys(u);for(t=0;t<h.length;t++)["xaxis","yaxis","zaxis"].indexOf(h[t].slice(0,5))>-1&&(u[h[t]].title={text:""});for(t=0;t<o.length;t++){var c=o[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),S.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(t=0;t<s.annotations.length;t++)u.annotations.push(s.annotations[t]);var b=Object.keys(u).filter(function(y){return y.match(/^scene\d*$/)});if(b.length){var p={};for("thumbnail"===s.tileClass&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<b.length;t++){var m=u[b[t]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),a(m.xaxis,p),a(m.yaxis,p),a(m.zaxis,p),m._scene=null}}var v=document.createElement("div");s.tileClass&&(v.className=s.tileClass);var x={gd:v,td:v,layout:u,data:o,config:{staticPlot:void 0===s.staticPlot||s.staticPlot,plotGlPixelRatio:void 0===s.plotGlPixelRatio?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:l.mapboxAccessToken}};return"transparent"!==s.setBackground&&(x.config.setBackground=s.setBackground||"opaque"),x.gd.defaultLayout=_(s.tileClass),x}},39792:function(ie,z,e){"use strict";var S=e(3400),A=e(67024),a=e(48616),M=e(81792);ie.exports=function(_,d){var s;return S.isPlainObject(_)||(s=S.getGraphDiv(_)),(d=d||{}).format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(t,i){s&&s._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),S.isIE()&&"svg"!==d.format&&i(new Error(M.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var n=A(_,d),r=d.filename||_.fn||"newplot";r+="."+d.format.replace("-","."),n.then(function(o){return s&&(s._snapshotInProgress=!1),a(o,r,d.format)}).then(function(o){t(o)}).catch(function(o){s&&(s._snapshotInProgress=!1),i(o)})})}},48616:function(ie,z,e){"use strict";var S=e(3400),A=e(81792);ie.exports=function(a,M,_){var d=document.createElement("a"),s="download"in d;return new Promise(function(t,i){var n,r;return S.isIE()?(n=A.createBlob(a,"svg"),window.navigator.msSaveBlob(n,M),n=null,t(M)):s?(n=A.createBlob(a,_),r=A.createObjectURL(n),d.href=r,d.download=M,document.body.appendChild(d),d.click(),document.body.removeChild(d),A.revokeObjectURL(r),n=null,t(M)):S.isSafari()?(A.octetStream(("svg"===_?",":";base64,")+encodeURIComponent(a)),t(M)):void i(new Error("download error"))})}},81792:function(ie,z,e){"use strict";var S=e(24040);z.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},z.getRedrawFunc=function(a){return function(){S.getComponentMethod("colorbar","draw")(a)}},z.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},z.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var A=window.URL||window.webkitURL;z.createObjectURL=function(a){return A.createObjectURL(a)},z.revokeObjectURL=function(a){return A.revokeObjectURL(a)},z.createBlob=function(a,M){if("svg"===M)return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if("full-json"===M)return new window.Blob([a],{type:"application/json;charset=utf-8"});var _=function(d){for(var s=d.length,t=new ArrayBuffer(s),i=new Uint8Array(t),n=0;n<s;n++)i[n]=d.charCodeAt(n);return t}(window.atob(a));return new window.Blob([_],{type:"image/"+M})},z.octetStream=function(a){document.location.href="data:application/octet-stream"+a},z.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,z.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(ie,z,e){"use strict";var S=e(81792),A={getDelay:S.getDelay,getRedrawFunc:S.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};ie.exports=A},63268:function(ie,z,e){"use strict";var S=e(3400),A=e(61252).EventEmitter,a=e(81792);ie.exports=function(M){var _=M.emitter||new A,d=new Promise(function(s,t){var i=window.Image,n=M.svg,r=M.format||"png";if(S.isIE()&&"svg"!==r){var o=new Error(a.MSG_IE_BAD_FORMAT);return t(o),M.promise?d:_.emit("error",o)}var u,l,h=M.canvas,c=M.scale||1,m=c*(M.width||300),v=c*(M.height||150),x=h.getContext("2d",{willReadFrequently:!0}),y=new i;"svg"===r||S.isSafari()?l=a.encodeSVG(n):(u=a.createBlob(n,"svg"),l=a.createObjectURL(u)),h.width=m,h.height=v,y.onload=function(){var w;switch(u=null,a.revokeObjectURL(l),"svg"!==r&&x.drawImage(y,0,0,m,v),r){case"jpeg":w=h.toDataURL("image/jpeg");break;case"png":w=h.toDataURL("image/png");break;case"webp":w=h.toDataURL("image/webp");break;case"svg":w=l;break;default:var f="Image format is not jpeg, png, svg or webp.";if(t(new Error(f)),!M.promise)return _.emit("error",f)}s(w),M.promise||_.emit("success",w)},y.onerror=function(w){if(u=null,a.revokeObjectURL(l),t(w),!M.promise)return _.emit("error",w)},y.src=l});return M.promise?d:_}},61808:function(ie,z,e){"use strict";var S=e(61252).EventEmitter,A=e(24040),a=e(3400),M=e(81792),_=e(91536),d=e(37164),s=e(63268);ie.exports=function(t,i){var n=new S,r=_(t,{format:"png"}),o=r.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);var u=M.getRedrawFunc(o);return A.call("_doPlot",o,r.data,r.layout,r.config).then(u).then(function(){var l=M.getDelay(o._fullLayout);setTimeout(function(){var h=d(o),c=document.createElement("canvas");c.id=a.randstr(),(n=s({format:i.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:c,emitter:n,svg:h})).clean=function(){o&&document.body.removeChild(o)}},l)}).catch(function(l){n.emit("error",l)}),n}},37164:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(76308),_=e(9616),d=/"/g,s="TOBESTRIPPED",t=new RegExp('("'+s+")|("+s+'")',"g");ie.exports=function(i,n,r){var o,u=i._fullLayout,l=u._paper,h=u._toppaper,c=u.width,b=u.height;l.insert("rect",":first-child").call(a.setRect,0,0,c,b).call(M.fill,u.paper_bgcolor);var p=u._basePlotModules||[];for(o=0;o<p.length;o++){var m=p[o];m.toSVG&&m.toSVG(i)}if(h){var v=h.node().childNodes,x=Array.prototype.slice.call(v);for(o=0;o<x.length;o++){var y=x[o];y.childNodes.length&&l.node().appendChild(y)}}u._draggers&&u._draggers.remove(),l.node().style.background="",l.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=S.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){f.style({visibility:null,display:null});var C=this.style.fontFamily;C&&-1!==C.indexOf('"')&&f.style("font-family",C.replace(d,s));var T=this.style.fontWeight;T&&"normal"===T&&f.style("font-weight",void 0);var D=this.style.fontStyle;D&&"normal"===D&&f.style("font-style",void 0);var R=this.style.fontVariant;R&&"normal"===R&&f.style("font-variant",void 0)}else f.remove()}),l.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=S.select(this),C=this.style.fill;C&&-1!==C.indexOf("url(")&&f.style("fill",C.replace(d,s));var T=this.style.stroke;T&&-1!==T.indexOf("url(")&&f.style("stroke",T.replace(d,s))}),"pdf"!==n&&"eps"!==n||l.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),l.node().setAttributeNS(_.xmlns,"xmlns",_.svg),l.node().setAttributeNS(_.xmlns,"xmlns:xlink",_.xlink),"svg"===n&&r&&(l.attr("width",r*c),l.attr("height",r*b),l.attr("viewBox","0 0 "+c+" "+b));var f,C,T,w=(new window.XMLSerializer).serializeToString(l.node());return w=(w=(f=w,C=S.select("body").append("div").style({display:"none"}).html(""),T=f.replace(/(&[^;]*;)/gi,function(D){return"&lt;"===D?"&#60;":"&rt;"===D?"&#62;":-1!==D.indexOf("<")||-1!==D.indexOf(">")?"":C.html(D).text()}),C.remove(),w=T).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),A.isIE()&&(w=(w=(w=w.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),w}},84664:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){for(var M=0;M<A.length;M++)A[M].i=M;S.mergeArray(a.text,A,"tx"),S.mergeArray(a.hovertext,A,"htx");var _=a.marker;if(_){S.mergeArray(_.opacity,A,"mo",!0),S.mergeArray(_.color,A,"mc");var d=_.line;d&&(S.mergeArray(d.color,A,"mlc"),S.mergeArrayCastPositive(d.width,A,"mlw"))}}},20832:function(ie,z,e){"use strict";var S=e(52904),A=e(29736).axisHoverFormat,a=e(21776).Ks,M=e(21776).Gw,_=e(49084),d=e(25376),s=e(78048),t=e(98192).c,i=e(92880).extendFlat,n=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),r=i({},S.marker.line.width,{dflt:0}),o=i({width:r,editType:"calc"},_("marker.line")),u=i({line:o,editType:"calc"},_("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t,cornerradius:{valType:"any",editType:"calc"}});ie.exports={x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),text:S.text,texttemplate:M({editType:"plot"},{keys:s.eventDataKeys}),hovertext:S.hovertext,hovertemplate:a({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},n,{}),insidetextfont:i({},n,{}),outsidetextfont:i({},n,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},S.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:u,offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:{marker:{opacity:S.selected.marker.opacity,color:S.selected.marker.color,editType:"style"},textfont:S.selected.textfont,editType:"style"},unselected:{marker:{opacity:S.unselected.marker.opacity,color:S.unselected.marker.color,editType:"style"},textfont:S.unselected.textfont,editType:"style"},zorder:S.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(ie,z,e){"use strict";var S=e(54460),A=e(1220),a=e(94288).hasColorscale,M=e(47128),_=e(84664),d=e(4500);ie.exports=function(s,t){var i,n,r,o,u,l,h=S.getFromId(s,t.xaxis||"x"),c=S.getFromId(s,t.yaxis||"y"),b={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(i=h.makeCalcdata(t,"x",b),r=c.makeCalcdata(t,"y"),o=A(t,c,"y",r),u=!!t.yperiodalignment,l="y"):(i=c.makeCalcdata(t,"y",b),r=h.makeCalcdata(t,"x"),o=A(t,h,"x",r),u=!!t.xperiodalignment,l="x"),n=o.vals;for(var p=Math.min(n.length,i.length),m=new Array(p),v=0;v<p;v++)m[v]={p:n[v],s:i[v]},u&&(m[v].orig_p=r[v],m[v][l+"End"]=o.ends[v],m[v][l+"Start"]=o.starts[v]),t.ids&&(m[v].id=String(t.ids[v]));return a(t,"marker")&&M(s,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&M(s,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),_(m,t),d(m,t),m}},78048:function(ie){"use strict";ie.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(ie,z,e){"use strict";var S=e(38248),A=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,M=e(24040),_=e(54460),d=e(71888).getAxisGroup,s=e(72592);function t(p,m,v,x,y){if(x.length){var w,f,C,T;switch(function(D,R){var P,O;for(P=0;P<R.length;P++){var B,q=R[P],N=q[0].trace,H="funnel"===N.type?N._base:N.base,$="h"===N.orientation?N.xcalendar:N.ycalendar,j="category"===D.type||"multicategory"===D.type?function(){return null}:D.d2c;if(A(H)){for(O=0;O<Math.min(H.length,q.length);O++)B=j(H[O],0,$),S(B)?(q[O].b=+B,q[O].hasB=1):q[O].b=0;for(;O<q.length;O++)q[O].b=0}else{B=j(H,0,$);var W=S(B);for(B=W?B:0,O=0;O<q.length;O++)q[O].b=B,W&&(q[O].hasB=1)}}}(v,x),y.mode){case"overlay":i(m,v,x,y);break;case"group":for(w=[],f=[],C=0;C<x.length;C++)void 0===(T=x[C])[0].trace.offset?f.push(T):w.push(T);f.length&&(D=p,P=v,q=new s(f,{posAxis:R=m,sepNegVal:!1,overlapNoMerge:!(B=y).norm}),function(N,H,$,j){for(var W=N._fullLayout,te=$.minDiff,Q=$.traces,ee=Q.length,re=$.positions.length!==$.distinctPositions.length,J=te*(1-j.gap),le=d(W,H._id)+Q[0][0].trace.orientation,fe=W._alignmentOpts[le]||{},ce=0;ce<ee;ce++){var ge,Te,Me=Q[ce],we=Me[0].trace,be=Object.keys((fe[we.alignmentgroup]||{}).offsetGroups||{}).length,ye=(ge=be?J/be:re?J/ee:J)*(1-(j.groupgap||0));Te=be?((2*we._offsetIndex+1-be)*ge-ye)/2:re?((2*ce+1-ee)*ge-ye)/2:-ye/2;var Se=Me[0].t;Se.barwidth=ye,Se.poffset=Te,Se.bargroupwidth=J,Se.bardelta=te}$.binWidth=Q[0][0].t.barwidth/100,r($),o(H,$),u(H,$,re)}(D,R,q,B),function(N,H){for(var $=N.traces,j=0;j<$.length;j++){var W=$[j];if(void 0===W[0].trace.base)for(var G=new s([W],{posAxis:H,sepNegVal:!0,overlapNoMerge:!0}),ae=0;ae<W.length;ae++){var te=W[ae];if(te.p!==a){var Q=G.put(te.p,te.b+te.s);Q&&(te.b=Q)}}}}(q,R),B.norm?(h(q),c(P,q,B)):l(P,q)),w.length&&i(m,v,w,y);break;case"stack":case"relative":for(w=[],f=[],C=0;C<x.length;C++)void 0===(T=x[C])[0].trace.base?f.push(T):w.push(T);(function(D){if(!(D.length<2)){var R,P,O,B,q,N;for(R=0;R<D.length&&void 0===(B=(P=D[R][0].trace).marker?P.marker.cornerradius:void 0);R++);if(void 0!==B)for(q=S(B)?+B:+B.slice(0,-1),N=S(B)?"px":"%",R=0;R<D.length;R++)(O=D[R][0].t).cornerradiusvalue=q,O.cornerradiusform=N}})(f),f.length&&function(D,R,P,O,B){var q=new s(O,{posAxis:R,sepNegVal:"relative"===B.mode,overlapNoMerge:!(B.norm||"stack"===B.mode||"relative"===B.mode)});n(R,q,B),function(W,G,ae){var te,Q,ee,re,J,le,fe=b(W),ce=G.traces;for(re=0;re<ce.length;re++)if("funnel"===(Q=(te=ce[re])[0].trace).type)for(J=0;J<te.length;J++)(le=te[J]).s!==a&&G.put(le.p,-.5*le.s);for(re=0;re<ce.length;re++){ee="funnel"===(Q=(te=ce[re])[0].trace).type;var ge=[];for(J=0;J<te.length;J++)if((le=te[J]).s!==a){var Te,Me=G.put(le.p,Te=ee?le.s:le.s+le.b),we=Me+Te;le.b=Me,le[fe]=we,ae.norm||(ge.push(we),le.hasB&&ge.push(Me))}ae.norm||(Q._extremes[W._id]=_.findExtremes(W,ge,{tozero:!0,padded:!0}))}}(P,q,B);for(var N=0;N<O.length;N++)for(var H=O[N],$=0;$<H.length;$++){var j=H[$];j.s!==a&&j.b+j.s===q.get(j.p,j.s)&&(j._outmost=!0)}B.norm&&c(P,q,B)}(0,m,v,f,y),w.length&&i(m,v,w,y)}(function(D){var R,P,O,B,q,N,H;for(R=0;R<D.length;R++)O=(P=D[R])[0].trace,void 0===(B=P[0].t).cornerradiusvalue&&void 0!==(q=O.marker?O.marker.cornerradius:void 0)&&(N=S(q)?+q:+q.slice(0,-1),H=S(q)?"px":"%",B.cornerradiusvalue=N,B.cornerradiusform=H)})(x),function(D,R){var P,O,B,q=b(R),N={},H=1/0,$=-1/0;for(P=0;P<D.length;P++)for(B=D[P],O=0;O<B.length;O++){var j=B[O].p;S(j)&&(H=Math.min(H,j),$=Math.max($,j))}var W=1e4/($-H),G=N.round=function(we){return String(Math.round(W*(we-H)))},ae={},te={},Q=D.some(function(we){var xe=we[0].trace;return"marker"in xe&&xe.marker.cornerradius});for(P=0;P<D.length;P++){(B=D[P])[0].t.extents=N;var ee=B[0].t.poffset,re=A(ee);for(O=0;O<B.length;O++){var J=B[O],le=J[q]-J.w/2;if(S(le)){var fe=J[q]+J.w/2,ce=G(J.p);N[ce]=N[ce]?[Math.min(le,N[ce][0]),Math.max(fe,N[ce][1])]:[le,fe]}if(J.p0=J.p+(re?ee[O]:ee),J.p1=J.p0+J.w,J.s0=J.b,J.s1=J.s0+J.s,Q){var ge=Math.min(J.s0,J.s1)||0,Te=Math.max(J.s0,J.s1)||0,Me=J[q];ae[Me]=Me in ae?Math.min(ae[Me],ge):ge,te[Me]=Me in te?Math.max(te[Me],Te):Te}}}Q&&function(we,xe,be,ye){for(var Se=b(ye),Ee=0;Ee<we.length;Ee++)for(var he=we[Ee],ue=0;ue<he.length;ue++){var me=he[ue],Pe=me[Se];me._sMin=xe[Pe],me._sMax=be[Pe]}}(D,ae,te,R)}(x,m)}var D,R,P,B,q}function i(p,m,v,x){for(var y=0;y<v.length;y++){var f=new s([v[y]],{posAxis:p,sepNegVal:!1,overlapNoMerge:!x.norm});n(p,f,x),x.norm?(h(f),c(m,f,x)):l(m,f)}}function n(p,m,v){for(var x=m.minDiff,y=m.traces,w=x*(1-v.gap),f=w*(1-(v.groupgap||0)),C=-f/2,T=0;T<y.length;T++){var D=y[T][0].t;D.barwidth=f,D.poffset=C,D.bargroupwidth=w,D.bardelta=x}m.binWidth=y[0][0].t.barwidth/100,r(m),o(p,m),u(p,m)}function r(p){var m,v,x=p.traces;for(m=0;m<x.length;m++){var y,w=x[m],f=w[0],C=f.trace,T=f.t,D=C._offset||C.offset,R=T.poffset;if(A(D)){for(y=Array.prototype.slice.call(D,0,w.length),v=0;v<y.length;v++)S(y[v])||(y[v]=R);for(v=y.length;v<w.length;v++)y.push(R);T.poffset=y}else void 0!==D&&(T.poffset=D);var P=C._width||C.width,O=T.barwidth;if(A(P)){var B=Array.prototype.slice.call(P,0,w.length);for(v=0;v<B.length;v++)S(B[v])||(B[v]=O);for(v=B.length;v<w.length;v++)B.push(O);if(T.barwidth=B,void 0===D){for(y=[],v=0;v<w.length;v++)y.push(R+(O-B[v])/2);T.poffset=y}}else void 0!==P&&(T.barwidth=P,void 0===D&&(T.poffset=R+(O-P)/2))}}function o(p,m){for(var v=m.traces,x=b(p),y=0;y<v.length;y++)for(var w=v[y],f=w[0].t,C=f.poffset,T=A(C),D=f.barwidth,R=A(D),P=0;P<w.length;P++){var O=w[P],B=O.w=R?D[P]:D;void 0===O.p&&(O.p=O[x],O["orig_"+x]=O[x]),O[x]=O.p+((T?C[P]:C)+B/2)}}function u(p,m,v){var x=m.traces,y=m.minDiff/2;_.minDtick(p,m.minDiff,m.distinctPositions[0],v);for(var w=0;w<x.length;w++){var f,C,T,D,R=x[w],P=R[0],O=P.trace,B=[];for(D=0;D<R.length;D++)C=(f=R[D]).p-y,B.push(C,T=f.p+y);if(O.width||O.offset){var q=P.t,N=q.poffset,H=q.barwidth,$=A(N),j=A(H);for(D=0;D<R.length;D++)T=(C=(f=R[D]).p+($?N[D]:N))+(j?H[D]:H),B.push(C,T)}O._extremes[p._id]=_.findExtremes(p,B,{padded:!1})}}function l(p,m){for(var v=m.traces,x=b(p),y=0;y<v.length;y++){for(var w=v[y],f=w[0].trace,C="scatter"===f.type,T="v"===f.orientation,D=[],R=!1,P=0;P<w.length;P++){var O=w[P],B=C?0:O.b,q=C?T?O.y:O.x:B+O.s;O[x]=q,D.push(q),O.hasB&&D.push(B),O.hasB&&O.b||(R=!0)}f._extremes[p._id]=_.findExtremes(p,D,{tozero:R,padded:!0})}}function h(p){for(var m=p.traces,v=0;v<m.length;v++)for(var x=m[v],y=0;y<x.length;y++){var w=x[y];w.s!==a&&p.put(w.p,w.b+w.s)}}function c(p,m,v){var x=m.traces,y=b(p),w="fraction"===v.norm?1:100,f=w/1e9,C=p.l2c(p.c2l(0)),T="stack"===v.mode?w:C;function D(ae){return S(p.c2l(ae))&&(ae<C-f||ae>T+f||!S(C))}for(var R=0;R<x.length;R++){for(var P=x[R],O=P[0].trace,B=[],q=!1,N=!1,H=0;H<P.length;H++){var $=P[H];if($.s!==a){var j=Math.abs(w/m.get($.p,$.s));$.b*=j,$.s*=j;var W=$.b,G=W+$.s;$[y]=G,B.push(G),N=N||D(G),$.hasB&&(B.push(W),N=N||D(W)),$.hasB&&$.b||(q=!0)}}O._extremes[p._id]=_.findExtremes(p,B,{tozero:q,padded:N})}}function b(p){return p._id.charAt(0)}ie.exports={crossTraceCalc:function(p,m){for(var v=m.xaxis,x=m.yaxis,y=p._fullLayout,w=p._fullData,f=p.calcdata,C=[],T=[],D=0;D<w.length;D++){var R=w[D];if(!0===R.visible&&M.traceIs(R,"bar")&&R.xaxis===v._id&&R.yaxis===x._id&&("h"===R.orientation?C.push(f[D]):T.push(f[D]),R._computePh))for(var P=p.calcdata[D],O=0;O<P.length;O++)"function"==typeof P[O].ph0&&(P[O].ph0=P[O].ph0()),"function"==typeof P[O].ph1&&(P[O].ph1=P[O].ph1())}var B={xCat:"category"===v.type||"multicategory"===v.type,yCat:"category"===x.type||"multicategory"===x.type,mode:y.barmode,norm:y.barnorm,gap:y.bargap,groupgap:y.bargroupgap};t(p,v,x,T,B),t(p,x,v,C,B)},setGroupPositions:t}},31508:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(76308),M=e(24040),_=e(43980),d=e(31147),s=e(55592),t=e(20011),i=e(20832),n=A.coerceFont;function r(u){if(S(u)){if((u=+u)>=0)return u}else if("string"==typeof u&&"%"===(u=u.trim()).slice(-1)&&S(u.slice(0,-1))&&(u=+u.slice(0,-1))>=0)return u+"%"}function o(u,l,h,c,b,p){var m=!1!==(p=p||{}).moduleHasSelected,v=!1!==p.moduleHasUnselected,x=!1!==p.moduleHasConstrain,y=!1!==p.moduleHasCliponaxis,w=!1!==p.moduleHasTextangle,f=!1!==p.moduleHasInsideanchor,C=!!p.hasPathbar,T=Array.isArray(b)||"auto"===b,D=T||"inside"===b,R=T||"outside"===b;if(D||R){var P=n(c,"textfont",h.font),O=A.extendFlat({},P),B=!(u.textfont&&u.textfont.color);if(B&&delete O.color,n(c,"insidetextfont",O),C){var q=A.extendFlat({},P);B&&delete q.color,n(c,"pathbar.textfont",q)}R&&n(c,"outsidetextfont",P),m&&c("selected.textfont.color"),v&&c("unselected.textfont.color"),x&&c("constraintext"),y&&c("cliponaxis"),w&&c("textangle"),c("texttemplate")}D&&f&&c("insidetextanchor")}ie.exports={supplyDefaults:function(u,l,h,c){function b(x,y){return A.coerce(u,l,i,x,y)}if(_(u,l,c,b)){d(u,l,c,b),b("xhoverformat"),b("yhoverformat"),b("zorder"),b("orientation",l.x&&!l.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var p=b("textposition");o(u,0,c,b,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(u,l,b,h,c);var m=(l.marker.line||{}).color,v=M.getComponentMethod("errorbars","supplyDefaults");v(u,l,m||a.defaultLine,{axis:"y"}),v(u,l,m||a.defaultLine,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(l,b)}else l.visible=!1},crossTraceDefaults:function(u,l){var h,c;function b(v,x){return A.coerce(c._input,c,i,v,x)}for(var p=0;p<u.length;p++)if("bar"===(c=u[p]).type){h=c._input;var m=b("marker.cornerradius",l.barcornerradius);c.marker&&(c.marker.cornerradius=r(m)),"group"===l.barmode&&t(h,c,l,b)}},handleText:o,validateCornerradius:r}},52160:function(ie){"use strict";ie.exports=function(z,e,S){return z.x="xVal"in e?e.xVal:e.x,z.y="yVal"in e?e.yVal:e.y,e.xa&&(z.xaxis=e.xa),e.ya&&(z.yaxis=e.ya),"h"===S.orientation?(z.label=z.y,z.value=z.x):(z.label=z.x,z.value=z.y),z}},60444:function(ie,z,e){"use strict";var S=e(38248),A=e(49760),a=e(3400).isArrayOrTypedArray;z.coerceString=function(M,_,d){if("string"==typeof _){if(_||!M.noBlank)return _}else if(("number"==typeof _||!0===_)&&!M.strict)return String(_);return void 0!==d?d:M.dflt},z.coerceNumber=function(M,_,d){if(S(_)){_=+_;var s=M.min,t=M.max;if(!(void 0!==s&&_<s||void 0!==t&&_>t))return _}return void 0!==d?d:M.dflt},z.coerceColor=function(M,_,d){return A(_).isValid()?_:void 0!==d?d:M.dflt},z.coerceEnumerated=function(M,_,d){return M.coerceNumber&&(_=+_),-1!==M.values.indexOf(_)?_:void 0!==d?d:M.dflt},z.getValue=function(M,_){var d;return a(M)?_<M.length&&(d=M[_]):d=M,d},z.getLineWidth=function(M,_){return 0<_.mlw?_.mlw:a(M.marker.line.width)?0:M.marker.line.width}},63400:function(ie,z,e){"use strict";var S=e(93024),A=e(24040),a=e(76308),M=e(3400).fillText,_=e(60444).getLineWidth,d=e(54460).hoverLabelText,s=e(39032).BADNUM;function t(n,r,o,u,l){var h,c,b,p,m,v,x,y=n.cd,w=y[0].trace,f=y[0].t,C="closest"===u,T="waterfall"===w.type,D=n.maxHoverDistance,R=n.maxSpikeDistance;"h"===w.orientation?(h=o,c=r,b="y",p="x",m=te,v=G):(h=r,c=o,b="x",p="y",v=te,m=G);var P=w[b+"period"],O=C||P;function B(ge){return N(ge,-1)}function q(ge){return N(ge,1)}function N(ge,Te){return ge[b]+Te*ge.w/2}function H(ge){return ge[b+"End"]-ge[b+"Start"]}var $=C?B:P?function(ge){return ge.p-H(ge)/2}:function(ge){return Math.min(B(ge),ge.p-f.bardelta/2)},j=C?q:P?function(ge){return ge.p+H(ge)/2}:function(ge){return Math.max(q(ge),ge.p+f.bardelta/2)};function W(ge,Te,Me){return l.finiteRange&&(Me=0),S.inbox(ge-h,Te-h,Me+Math.min(1,Math.abs(Te-ge)/x)-1)}function G(ge){return W($(ge),j(ge),D)}function ae(ge){var Te=ge[p];if(T){var Me=Math.abs(ge.rawS)||0;c>0?Te+=Me:c<0&&(Te-=Me)}return Te}function te(ge){var Te=c,Me=ge.b,we=ae(ge);return S.inbox(Me-Te,we-Te,D+(we-Te)/(we-Me)-1)}var Q=n[b+"a"],ee=n[p+"a"];x=Math.abs(Q.r2c(Q.range[1])-Q.r2c(Q.range[0]));var ge,Te,Me,we,re=S.getDistanceFunction(u,m,v,function(ge){return(m(ge)+v(ge))/2});if(S.getClosest(y,re,n),!1!==n.index&&y[n.index].p!==s){O||($=function(ge){return Math.min(B(ge),ge.p-f.bargroupwidth/2)},j=function(ge){return Math.max(q(ge),ge.p+f.bargroupwidth/2)});var J=y[n.index],le=w.base?J.b+J.s:J.s;n[p+"0"]=n[p+"1"]=ee.c2p(J[p],!0),n[p+"LabelVal"]=le;var fe=f.extents[f.extents.round(J.p)];return n[b+"0"]=Q.c2p(C?$(J):fe[0],!0),n[b+"1"]=Q.c2p(C?j(J):fe[1],!0),n[b+"LabelVal"]=void 0!==J.orig_p?J.orig_p:J.p,n.labelLabel=d(Q,n[b+"LabelVal"],w[b+"hoverformat"]),n.valueLabel=d(ee,n[p+"LabelVal"],w[p+"hoverformat"]),n.baseLabel=d(ee,J.b,w[p+"hoverformat"]),n.spikeDistance=(Te=c,Me=(ge=J).b,we=ae(ge),(S.inbox(Me-Te,we-Te,R+(we-Te)/(we-Me)-1)+function(ge){return W(B(ge),q(ge),R)}(J))/2),n[b+"Spike"]=Q.c2p(J.p,!0),M(J,w,n),n.hovertemplate=w.hovertemplate,n}}function i(n,r){var o=r.mcc||n.marker.color,u=r.mlcc||n.marker.line.color,l=_(n,r);return a.opacity(o)?o:a.opacity(u)&&l?u:void 0}ie.exports={hoverPoints:function(n,r,o,u,l){var h=t(n,r,o,u,l);if(h){var c=h.cd,b=c[0].trace,p=c[h.index];return h.color=i(b,p),A.getComponentMethod("errorbars","hoverInfo")(p,b,h),[h]}},hoverOnBars:t,getTraceColor:i}},51132:function(ie,z,e){"use strict";ie.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(ie){"use strict";ie.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(ie,z,e){"use strict";var S=e(24040),A=e(54460),a=e(3400),M=e(39324),_=e(31508).validateCornerradius;ie.exports=function(d,s,t){function i(m,v){return a.coerce(d,s,M,m,v)}for(var n=!1,r=!1,o=!1,u={},l=i("barmode"),h=0;h<t.length;h++){var c=t[h];if(S.traceIs(c,"bar")&&c.visible){if(n=!0,"group"===l){var b=c.xaxis+c.yaxis;u[b]&&(o=!0),u[b]=!0}c.visible&&"histogram"===c.type&&"category"!==A.getFromId({_fullLayout:s},c["v"===c.orientation?"xaxis":"yaxis"]).type&&(r=!0)}}if(n){"overlay"!==l&&i("barnorm"),i("bargap",r&&!o?0:.2),i("bargroupgap");var p=i("barcornerradius");s.barcornerradius=_(p)}else delete s.barmode}},98184:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(3400),M=e(72736),_=e(76308),d=e(43616),s=e(24040),t=e(54460).tickText,i=e(82744),n=i.recordMinTextSize,r=i.clearMinTextSize,o=e(60100),u=e(60444),l=e(78048),h=e(20832),c=h.text,b=h.textposition,p=e(10624).appendArrayPointValue,m=l.TEXTPAD;function v(O){return O.id}function y(O){return(O>0)-(O<0)}function w(O,B){return O<B?1:-1}function f(O,B,q,N){var H;return!B.uniformtext.mode&&C(q)?(N&&(H=N()),O.transition().duration(q.duration).ease(q.easing).each("end",function(){H&&H()}).each("interrupt",function(){H&&H()})):O}function C(O){return O&&O.duration>0}function T(O,B,q,N,H){return!(O<0||B<0)&&(q<=O&&N<=B||q<=B&&N<=O||(H?O>=q*(B/N):B>=N*(O/q)))}function D(O){return"auto"===O?0:O}function R(O,B){var q=Math.PI/180*B,N=Math.abs(Math.sin(q)),H=Math.abs(Math.cos(q));return{x:O.width*H+O.height*N,y:O.width*N+O.height*H}}function P(O,B,q,N,H,$){var j=!!$.isHorizontal,W=!!$.constrained,G=$.angle||0,ae=$.anchor,te="end"===ae,Q="start"===ae,ee=(($.leftToRight||0)+1)/2,re=1-ee,J=$.hasB,le=$.r,fe=$.overhead,ce=H.width,ge=H.height,Te=Math.abs(B-O),Me=Math.abs(N-q),we=Te>2*m&&Me>2*m?m:0;Te-=2*we,Me-=2*we;var xe=D(G);"auto"!==G||ce<=Te&&ge<=Me||!(ce>Te||ge>Me)||(ce>Me||ge>Te)&&ce<ge==Te<Me||(xe+=90);var be,ye,Ae,Le,Ve,Ne,We,Xe,nt,dt,ht,Mt,kt,_t,ut,st,Lt,Se=R(H,xe);if(le&&le-fe>m){var Ee=(Ae=q,Le=N,Ve=Se,Ne=le,We=fe,Xe=j,nt=J,_t=Math.max(0,Math.abs(B-O)-2*m),ut=Math.max(0,Math.abs(Le-Ae)-2*m),st=Ne-m,Lt=We?st-Math.sqrt(st*st-(st-We)*(st-We)):st,Ve.y/Ve.x>=ut/(_t-(nt?2*st:Xe?st-We:2*Lt))?kt=ut/Ve.y:Ve.y/Ve.x<=(ut-(nt?2*st:Xe?2*Lt:st-We))/_t?kt=_t/Ve.x:!nt&&Xe?(dt=Ve.x*Ve.x+Ve.y*Ve.y/4,Mt=(_t-st)*(_t-st)+(ut/2-st)*(ut/2-st)-st*st,kt=(-(ht=-2*Ve.x*(_t-st)-Ve.y*(ut/2-st))+Math.sqrt(ht*ht-4*dt*Mt))/(2*dt)):nt?(dt=(Ve.x*Ve.x+Ve.y*Ve.y)/4,Mt=(_t/2-st)*(_t/2-st)+(ut/2-st)*(ut/2-st)-st*st,kt=(-(ht=-Ve.x*(_t/2-st)-Ve.y*(ut/2-st))+Math.sqrt(ht*ht-4*dt*Mt))/(2*dt)):(dt=Ve.x*Ve.x/4+Ve.y*Ve.y,Mt=(_t/2-st)*(_t/2-st)+(ut-st)*(ut-st)-st*st,kt=(-(ht=-Ve.x*(_t/2-st)-2*Ve.y*(ut-st))+Math.sqrt(ht*ht-4*dt*Mt))/(2*dt)),{scale:kt=Math.min(1,kt),pad:Xe?Math.max(0,st-Math.sqrt(Math.max(0,st*st-(st-(ut-Ve.y*kt)/2)*(st-(ut-Ve.y*kt)/2)))-We):Math.max(0,st-Math.sqrt(Math.max(0,st*st-(st-(_t-Ve.x*kt)/2)*(st-(_t-Ve.x*kt)/2)))-We)});be=Ee.scale,ye=Ee.pad}else be=1,W&&(be=Math.min(1,Te/Se.x,Me/Se.y)),ye=0;var he=H.left*re+H.right*ee,ue=(H.top+H.bottom)/2,me=(O+m)*re+(B-m)*ee,Pe=(q+N)/2,Ce=0,Ie=0;if(Q||te){var Oe=(j?Se.x:Se.y)/2;le&&(te||J)&&(we+=ye);var ze=j?w(O,B):w(q,N);j?Q?(me=O+ze*we,Ce=-ze*Oe):(me=B-ze*we,Ce=ze*Oe):Q?(Pe=q+ze*we,Ie=-ze*Oe):(Pe=N-ze*we,Ie=ze*Oe)}return{textX:he,textY:ue,targetX:me,targetY:Pe,anchorX:Ce,anchorY:Ie,scale:be,rotate:xe}}ie.exports={plot:function(O,B,q,N,H,$){var j=B.xaxis,W=B.yaxis,G=O._fullLayout,ae=O._context.staticPlot;H||(H={mode:G.barmode,norm:G.barmode,gap:G.bargap,groupgap:G.bargroupgap},r("bar",G));var te=a.makeTraceGroups(N,q,"trace bars").each(function(Q){var ee=S.select(this),re=Q[0].trace,J=Q[0].t,ce="histogram"===re.type,ge="bar"===re.type,Te=ge||"funnel"===re.type,Me=0;"waterfall"===re.type&&re.connector.visible&&"between"===re.connector.mode&&(Me=re.connector.line.width/2);var we="h"===re.orientation,xe=C(H),be=a.ensureSingle(ee,"g","points"),ye=function x(O){if(O.ids)return v}(re),Se=be.selectAll("g.point").data(a.identity,ye);Se.enter().append("g").classed("point",!0),Se.exit().remove(),Se.each(function(he,ue){var me,Pe,ct,He,qe,ft,et,xt,wt,At,Ce=S.select(this),Ie=(He=j,qe=W,xt=[],At=(ft=we)?qe:He,(et=[])[0]=(wt=ft?He:qe).c2p((ct=he).s0,!0),xt[0]=At.c2p(ct.p0,!0),et[1]=wt.c2p(ct.s1,!0),xt[1]=At.c2p(ct.p1,!0),ft?[et,xt]:[xt,et]),Oe=Ie[0][0],ze=Ie[0][1],je=Ie[1][0],ve=Ie[1][1],Ae=0==(we?ze-Oe:ve-je);if(Ae&&Te&&u.getLineWidth(re,he)&&(Ae=!1),Ae||(Ae=!(A(Oe)&&A(ze)&&A(je)&&A(ve))),he.isBlank=Ae,Ae&&(we?ze=Oe:ve=je),Me&&!Ae&&(we?(Oe-=w(Oe,ze)*Me,ze+=w(Oe,ze)*Me):(je-=w(je,ve)*Me,ve+=w(je,ve)*Me)),"waterfall"===re.type){if(!Ae){var Le=re[he.dir].marker;me=Le.line.width,Pe=Le.color}}else me=u.getLineWidth(re,he),Pe=he.mc||re.marker.color;function Ve(ct){var He=S.round(me/2%1,2);return 0===H.gap&&0===H.groupgap?S.round(Math.round(ct)-He,2):ct}var Ne=_.opacity(Pe)<1||me>.01?Ve:function(ct,He,qe){return qe&&ct===He?ct:Math.abs(ct-He)>=2?Ve(ct):ct>He?Math.ceil(ct):Math.floor(ct)};O._context.staticPlot||(Oe=Ne(Oe,ze,we),ze=Ne(ze,Oe,we),je=Ne(je,ve,!we),ve=Ne(ve,je,!we));var We,Xe=we?j.c2p:W.c2p;We=he.s0>0?he._sMax:he.s0<0?he._sMin:he.s1>0?he._sMax:he._sMin;var nt,dt,ht=ge||ce?function(ct,He){if(!ct)return 0;var qe,ft=Math.abs(we?ve-je:ze-Oe),et=Math.abs(we?ze-Oe:ve-je),xt=Ne(Math.abs(Xe(We,!0)-Xe(0,!0))),wt=he.hasB?Math.min(ft/2,et/2):Math.min(ft/2,xt);return qe="%"===He?ft*(Math.min(50,ct)/100):ct,Ne(Math.max(Math.min(qe,wt),0))}(J.cornerradiusvalue,J.cornerradiusform):0,Mt="M"+Oe+","+je+"V"+ve+"H"+ze+"V"+je+"Z",kt=0;if(ht&&he.s){var _t=0===y(he.s0)||y(he.s)===y(he.s0)?he.s1:he.s0;if((kt=Ne(he.hasB?0:Math.abs(Xe(We,!0)-Xe(_t,!0))))<ht){var ut=w(Oe,ze),st=w(je,ve),Lt=ut===-st?1:0;if(we)if(he.hasB)nt="M"+(Oe+ht*ut)+","+je+"A "+ht+","+ht+" 0 0 "+Lt+" "+Oe+","+(je+ht*st)+"V"+(ve-ht*st)+"A "+ht+","+ht+" 0 0 "+Lt+" "+(Oe+ht*ut)+","+ve+"H"+(ze-ht*ut)+"A "+ht+","+ht+" 0 0 "+Lt+" "+ze+","+(ve-ht*st)+"V"+(je+ht*st)+"A "+ht+","+ht+" 0 0 "+Lt+" "+(ze-ht*ut)+","+je+"Z";else{var Ut=(dt=Math.abs(ze-Oe)+kt)<ht?ht-Math.sqrt(dt*(2*ht-dt)):0,Ht=kt>0?Math.sqrt(kt*(2*ht-kt)):0,Pt=ut>0?Math.max:Math.min;nt="M"+Oe+","+je+"V"+(ve-Ut*st)+"H"+Pt(ze-(ht-kt)*ut,Oe)+"A "+ht+","+ht+" 0 0 "+Lt+" "+ze+","+(ve-ht*st-Ht)+"V"+(je+ht*st+Ht)+"A "+ht+","+ht+" 0 0 "+Lt+" "+Pt(ze-(ht-kt)*ut,Oe)+","+(je+Ut*st)+"Z"}else if(he.hasB)nt="M"+(Oe+ht*ut)+","+je+"A "+ht+","+ht+" 0 0 "+Lt+" "+Oe+","+(je+ht*st)+"V"+(ve-ht*st)+"A "+ht+","+ht+" 0 0 "+Lt+" "+(Oe+ht*ut)+","+ve+"H"+(ze-ht*ut)+"A "+ht+","+ht+" 0 0 "+Lt+" "+ze+","+(ve-ht*st)+"V"+(je+ht*st)+"A "+ht+","+ht+" 0 0 "+Lt+" "+(ze-ht*ut)+","+je+"Z";else{var Je=(dt=Math.abs(ve-je)+kt)<ht?ht-Math.sqrt(dt*(2*ht-dt)):0,tt=kt>0?Math.sqrt(kt*(2*ht-kt)):0,Ge=st>0?Math.max:Math.min;nt="M"+(Oe+Je*ut)+","+je+"V"+Ge(ve-(ht-kt)*st,je)+"A "+ht+","+ht+" 0 0 "+Lt+" "+(Oe+ht*ut-tt)+","+ve+"H"+(ze-ht*ut+tt)+"A "+ht+","+ht+" 0 0 "+Lt+" "+(ze-Je*ut)+","+Ge(ve-(ht-kt)*st,je)+"V"+je+"Z"}}else nt=Mt}else nt=Mt;var Qe=f(a.ensureSingle(Ce,"path"),G,H,$);if(Qe.style("vector-effect",ae?"none":"non-scaling-stroke").attr("d",isNaN((ze-Oe)*(ve-je))||Ae&&O._context.staticPlot?"M0,0Z":nt).call(d.setClipUrl,B.layerClipId,O),!G.uniformtext.mode&&xe){var pt=d.makePointStyleFns(re);d.singlePointStyle(he,Qe,re,pt,O)}(function(ct,He,qe,ft,et,xt,wt,At,yt,Ot,Ct,Rt,Bt){var jt,Gt=He.xaxis,on=He.yaxis,Jt=ct._fullLayout;function $t(ur,Kt,An){return a.ensureSingle(ur,"text").text(Kt).attr({class:"bartext bartext-"+jt,"text-anchor":"middle","data-notex":1}).call(d.font,An).call(M.convertToTspans,ct)}var Kt,An,Nt,Yt,cn,xn,tn=ft[0].trace,dn="h"===tn.orientation,Gn=(An=et,Nt=Gt,Yt=on,cn=(xn=(Kt=ft)[0].trace).texttemplate?function(wn,Cn,mn,nn,rn){var pn=Cn[0].trace,yn=a.castOption(pn,mn,"texttemplate");if(!yn)return"";var Nn,Un,Xn,er,pr="histogram"===pn.type,Qn="waterfall"===pn.type,qn="funnel"===pn.type,vr="h"===pn.orientation;function dr(Qr){return t(er,er.c2l(Qr),!0).text}vr?(Nn="y",Un=rn,Xn="x",er=nn):(Nn="x",Un=nn,Xn="y",er=rn);var kr=Cn[mn],Lr={};Lr.label=kr.p,Lr.labelLabel=Lr[Nn+"Label"]=t(Un,Un.c2l(kr.p),!0).text;var yr=a.castOption(pn,kr.i,"text");(0===yr||yr)&&(Lr.text=yr),Lr.value=kr.s,Lr.valueLabel=Lr[Xn+"Label"]=dr(kr.s);var Or={};p(Or,pn,kr.i),(pr||void 0===Or.x)&&(Or.x=vr?Lr.value:Lr.label),(pr||void 0===Or.y)&&(Or.y=vr?Lr.label:Lr.value),(pr||void 0===Or.xLabel)&&(Or.xLabel=vr?Lr.valueLabel:Lr.labelLabel),(pr||void 0===Or.yLabel)&&(Or.yLabel=vr?Lr.labelLabel:Lr.valueLabel),Qn&&(Lr.delta=+kr.rawS||kr.s,Lr.deltaLabel=dr(Lr.delta),Lr.final=kr.v,Lr.finalLabel=dr(Lr.final),Lr.initial=Lr.final-Lr.delta,Lr.initialLabel=dr(Lr.initial)),qn&&(Lr.value=kr.s,Lr.valueLabel=dr(Lr.value),Lr.percentInitial=kr.begR,Lr.percentInitialLabel=a.formatPercent(kr.begR),Lr.percentPrevious=kr.difR,Lr.percentPreviousLabel=a.formatPercent(kr.difR),Lr.percentTotal=kr.sumR,Lr.percenTotalLabel=a.formatPercent(kr.sumR));var Yr=a.castOption(pn,kr.i,"customdata");return Yr&&(Lr.customdata=Yr),a.texttemplateString(yn,Lr,wn._d3locale,Or,Lr,pn._meta||{})}(Jt,Kt,An,Nt,Yt):xn.textinfo?function(wn,Cn,mn,nn){var rn=wn[0].trace,pn="h"===rn.orientation,yn="waterfall"===rn.type,Nn="funnel"===rn.type;function Un(Yr){return t(pn?mn:nn,+Yr,!0).text}var Xn,Qn=wn[Cn],qn=rn.textinfo.split("+"),vr=[],dr=function(Yr){return-1!==qn.indexOf(Yr)};if(dr("label")&&vr.push(t(pn?nn:mn,wn[Cn].p,!0).text),dr("text")&&(0===(Xn=a.castOption(rn,Qn.i,"text"))||Xn)&&vr.push(Xn),yn){var Dr=+Qn.rawS||Qn.s,kr=Qn.v,Lr=kr-Dr;dr("initial")&&vr.push(Un(Lr)),dr("delta")&&vr.push(Un(Dr)),dr("final")&&vr.push(Un(kr))}if(Nn){dr("value")&&vr.push(Un(Qn.s));var yr=0;dr("percent initial")&&yr++,dr("percent previous")&&yr++,dr("percent total")&&yr++;var Or=yr>1;dr("percent initial")&&(Xn=a.formatPercent(Qn.begR),Or&&(Xn+=" of initial"),vr.push(Xn)),dr("percent previous")&&(Xn=a.formatPercent(Qn.difR),Or&&(Xn+=" of previous"),vr.push(Xn)),dr("percent total")&&(Xn=a.formatPercent(Qn.sumR),Or&&(Xn+=" of total"),vr.push(Xn))}return vr.join("<br>")}(Kt,An,Nt,Yt):u.getValue(xn.text,An),u.coerceString(c,cn));jt=function(ur,Kt){var An=u.getValue(ur.textposition,Kt);return u.coerceEnumerated(b,An)}(tn,et);var Mn=ft[et],ln=!("stack"===Rt.mode||"relative"===Rt.mode)||Mn._outmost,vn=Mn.hasB,hn=Ot&&Ot-Ct>m;if(Gn&&"none"!==jt&&(!Mn.isBlank&&xt!==wt&&At!==yt||"auto"!==jt&&"inside"!==jt)){var _n=Jt.font,Dn=o.getBarColor(ft[et],tn),Pn=o.getInsideTextFont(tn,et,_n,Dn),Yn=o.getOutsideTextFont(tn,et,_n),jn=tn.insidetextanchor||"end",Fn=qe.datum();dn?"log"===Gt.type&&Fn.s0<=0&&(xt=Gt.range[0]<Gt.range[1]?0:Gt._length):"log"===on.type&&Fn.s0<=0&&(At=on.range[0]<on.range[1]?on._length:0);var Jn,$n,nr,or,lr,cr=Math.abs(wt-xt),Ar=Math.abs(yt-At),fn=cr-2*m,an=Ar-2*m;if("outside"===jt&&(ln||Mn.hasB||(jt="inside")),"auto"===jt)if(ln){jt="inside",Jn=$t(qe,Gn,lr=a.ensureUniformFontSize(ct,Pn)),nr=($n=d.bBox(Jn.node())).width,or=$n.height;var Vn,En=nr>0&&or>0;Vn=hn?vn?T(fn-2*Ot,an,nr,or,dn)||T(fn,an-2*Ot,nr,or,dn):dn?T(fn-(Ot-Ct),an,nr,or,dn)||T(fn,an-2*(Ot-Ct),nr,or,dn):T(fn,an-(Ot-Ct),nr,or,dn)||T(fn-2*(Ot-Ct),an,nr,or,dn):T(fn,an,nr,or,dn),En&&Vn?jt="inside":(jt="outside",Jn.remove(),Jn=null)}else jt="inside";if(!Jn){var Wn=(Jn=$t(qe,Gn,lr=a.ensureUniformFontSize(ct,"outside"===jt?Yn:Pn))).attr("transform");if(Jn.attr("transform",""),nr=($n=d.bBox(Jn.node())).width,or=$n.height,Jn.attr("transform",Wn),nr<=0||or<=0)return void Jn.remove()}var ar,In=tn.textangle;ar="outside"===jt?function(ur,Kt,An,Nt,Yt,cn){var xn,wn=!!cn.isHorizontal,Cn=!!cn.constrained,mn=cn.angle||0,nn=Yt.width,rn=Yt.height,pn=Math.abs(Kt-ur),yn=Math.abs(Nt-An);xn=wn?yn>2*m?m:0:pn>2*m?m:0;var Nn=1;Cn&&(Nn=wn?Math.min(1,yn/rn):Math.min(1,pn/nn));var Un=D(mn),Xn=R(Yt,Un),er=(wn?Xn.x:Xn.y)/2,pr=(Yt.left+Yt.right)/2,Qn=(Yt.top+Yt.bottom)/2,qn=(ur+Kt)/2,vr=(An+Nt)/2,dr=0,Dr=0,kr=wn?w(Kt,ur):w(An,Nt);return wn?(qn=Kt-kr*xn,dr=kr*er):(vr=Nt+kr*xn,Dr=-kr*er),{textX:pr,textY:Qn,targetX:qn,targetY:vr,anchorX:dr,anchorY:Dr,scale:Nn,rotate:Un}}(xt,wt,At,yt,$n,{isHorizontal:dn,constrained:"both"===tn.constraintext||"outside"===tn.constraintext,angle:In}):P(xt,wt,At,yt,$n,{isHorizontal:dn,constrained:"both"===tn.constraintext||"inside"===tn.constraintext,angle:In,anchor:jn,hasB:vn,r:Ot,overhead:Ct}),ar.fontSize=lr.size,n("histogram"===tn.type?"bar":tn.type,ar,Jt),Mn.transform=ar;var fr=f(Jn,Jt,Rt,Bt);a.setTransormAndDisplay(fr,ar)}else qe.select("text").remove()})(O,B,Ce,Q,ue,Oe,ze,je,ve,ht,kt,H,$),B.layerClipId&&d.hideOutsideRangePoint(he,Ce.select("text"),j,W,re.xcalendar,re.ycalendar)}),d.setClipUrl(ee,!1===re.cliponaxis?null:B.layerClipId,O)});s.getComponentMethod("errorbars","plot")(O,te,B,H)},toMoveInsideBar:P}},45784:function(ie){"use strict";function z(e,S,A,a,M){var _=S.c2p(a?e.s0:e.p0,!0),d=S.c2p(a?e.s1:e.p1,!0),s=A.c2p(a?e.p0:e.s0,!0),t=A.c2p(a?e.p1:e.s1,!0);return M?[(_+d)/2,(s+t)/2]:a?[d,(s+t)/2]:[(_+d)/2,t]}ie.exports=function(e,S){var A,a=e.cd,M=e.xaxis,_=e.yaxis,d=a[0].trace,s="funnel"===d.type,t="h"===d.orientation,i=[];if(!1===S)for(A=0;A<a.length;A++)a[A].selected=0;else for(A=0;A<a.length;A++){var n=a[A],r="ct"in n?n.ct:z(n,M,_,t,s);S.contains(r,!1,A,e)?(i.push({pointNumber:A,x:M.c2d(n.x),y:_.c2d(n.y)}),n.selected=1):n.selected=0}return i}},72592:function(ie,z,e){"use strict";ie.exports=A;var S=e(3400).distinctVals;function A(a,M){this.traces=a,this.sepNegVal=M.sepNegVal,this.overlapNoMerge=M.overlapNoMerge;for(var _=1/0,d=M.posAxis._id.charAt(0),s=[],t=0;t<a.length;t++){for(var i=a[t],n=0;n<i.length;n++){var r=i[n],o=r.p;void 0===o&&(o=r[d]),void 0!==o&&s.push(o)}i[0]&&i[0].width1&&(_=Math.min(i[0].width1,_))}this.positions=s;var u=S(s);this.distinctPositions=u.vals,this.minDiff=1===u.vals.length&&_!==1/0?_:Math.min(u.minDiff,_);var l=(M.posAxis||{}).type;"category"!==l&&"multicategory"!==l||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}A.prototype.put=function(a,M){var _=this.getLabel(a,M),d=this.bins[_]||0;return this.bins[_]=d+M,d},A.prototype.get=function(a,M){var _=this.getLabel(a,M);return this.bins[_]||0},A.prototype.getLabel=function(a,M){return(M<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},60100:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(43616),M=e(3400),_=e(24040),d=e(82744).resizeText,s=e(20832),t=s.textfont,i=s.insidetextfont,n=s.outsidetextfont,r=e(60444);function o(v,x,y){a.pointStyle(v.selectAll("path"),x,y),u(v,x,y)}function u(v,x,y){v.selectAll("text").each(function(w){var f=S.select(this),C=M.ensureUniformFontSize(y,l(f,w,x,y));a.font(f,C)})}function l(v,x,y,w){var f=w._fullLayout.font,C=y.textfont;if(v.classed("bartext-inside")){var T=m(x,y);C=c(y,x.i,f,T)}else v.classed("bartext-outside")&&(C=b(y,x.i,f));return C}function h(v,x,y){return p(t,v.textfont,x,y)}function c(v,x,y,w){var f=h(v,x,y);return(void 0===v._input.textfont||void 0===v._input.textfont.color||Array.isArray(v.textfont.color)&&void 0===v.textfont.color[x])&&(f={color:A.contrast(w),family:f.family,size:f.size,weight:f.weight,style:f.style,variant:f.variant}),p(i,v.insidetextfont,x,f)}function b(v,x,y){var w=h(v,x,y);return p(n,v.outsidetextfont,x,w)}function p(v,x,y,w){var f=r.getValue((x=x||{}).family,y),C=r.getValue(x.size,y),T=r.getValue(x.color,y),D=r.getValue(x.weight,y),R=r.getValue(x.style,y),P=r.getValue(x.variant,y);return{family:r.coerceString(v.family,f,w.family),size:r.coerceNumber(v.size,C,w.size),color:r.coerceColor(v.color,T,w.color),weight:r.coerceString(v.weight,D,w.weight),style:r.coerceString(v.style,R,w.style),variant:r.coerceString(v.variant,P,w.variant)}}function m(v,x){return"waterfall"===x.type?x[v.dir].marker.color:v.mcc||v.mc||x.marker.color}ie.exports={style:function(v){var x=S.select(v).selectAll('g[class^="barlayer"]').selectAll("g.trace");d(v,x,"bar");var y=x.size(),w=v._fullLayout;x.style("opacity",function(f){return f[0].trace.opacity}).each(function(f){("stack"===w.barmode&&y>1||0===w.bargap&&0===w.bargroupgap&&!f[0].trace.marker.line.width)&&S.select(this).attr("shape-rendering","crispEdges")}),x.selectAll("g.points").each(function(f){o(S.select(this),f[0].trace,v)}),_.getComponentMethod("errorbars","style")(x)},styleTextPoints:u,styleOnSelect:function(v,x,y){var f,C,T,D,R,P,w=x[0].trace;w.selectedpoints?(C=w,T=v,a.selectedPointStyle((f=y).selectAll("path"),C),D=f.selectAll("text"),R=C,P=T,D.each(function(O){var B,q=S.select(this);if(O.selected){B=M.ensureUniformFontSize(P,l(q,O,R,P));var N=R.selected.textfont&&R.selected.textfont.color;N&&(B.color=N),a.font(q,B)}else a.selectedTextStyle(q,R)})):(o(y,w,v),_.getComponentMethod("errorbars","style")(y))},getInsideTextFont:c,getOutsideTextFont:b,getBarColor:m,resizeText:d}},55592:function(ie,z,e){"use strict";var S=e(76308),A=e(94288).hasColorscale,a=e(27260),M=e(3400).coercePattern;ie.exports=function(_,d,s,t,i){var n=s("marker.color",t),r=A(_,"marker");r&&a(_,d,i,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",S.defaultLine),A(_,"marker.line")&&a(_,d,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),M(s,"marker.pattern",n,r),s("selected.marker.color"),s("unselected.marker.color")}},82744:function(ie,z,e){"use strict";var S=e(33428),A=e(3400);function a(M){return"_"+M+"Text_minsize"}ie.exports={recordMinTextSize:function(M,_,d){if(d.uniformtext.mode){var s=a(M),t=d.uniformtext.minsize,i=_.scale*_.fontSize;_.hide=i<t,d[s]=d[s]||1/0,_.hide||(d[s]=Math.min(d[s],Math.max(i,t)))}},clearMinTextSize:function(M,_){_[a(M)]=void 0},resizeText:function(M,_,d){var s=M._fullLayout,t=s["_"+d+"Text_minsize"];if(t){var i,n="hide"===s.uniformtext.mode;switch(d){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}_.selectAll(i).each(function(r){var o=r.transform;if(o){o.scale=n&&o.hide?0:t/o.fontSize;var u=S.select(this).select("text");A.setTransormAndDisplay(u,o)}})}}}},78100:function(ie,z,e){"use strict";var S,A=e(21776).Ks,a=e(92880).extendFlat,M=e(8319),_=e(20832);ie.exports={r:M.r,theta:M.theta,r0:M.r0,dr:M.dr,theta0:M.theta0,dtheta:M.dtheta,thetaunit:M.thetaunit,base:a({},_.base,{}),offset:a({},_.offset,{}),width:a({},_.width,{}),text:a({},_.text,{}),hovertext:a({},_.hovertext,{}),marker:(S=a({},_.marker),delete S.cornerradius,S),hoverinfo:M.hoverinfo,hovertemplate:A(),selected:_.selected,unselected:_.unselected}},47056:function(ie,z,e){"use strict";var S=e(94288).hasColorscale,A=e(47128),a=e(3400).isArrayOrTypedArray,M=e(84664),_=e(96376).setGroupPositions,d=e(4500),s=e(24040).traceIs,t=e(3400).extendFlat;ie.exports={calc:function(i,n){for(var r=i._fullLayout,o=n.subplot,l=r[o].angularaxis,h=r[o].radialaxis.makeCalcdata(n,"r"),c=l.makeCalcdata(n,"theta"),b=n._length,p=new Array(b),m=h,v=c,x=0;x<b;x++)p[x]={p:v[x],s:m[x]};function y(w){var f=n[w];void 0!==f&&(n["_"+w]=a(f)?l.makeCalcdata(n,w):l.d2c(f,n.thetaunit))}return"linear"===l.type&&(y("width"),y("offset")),S(n,"marker")&&A(i,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),S(n,"marker.line")&&A(i,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(p,n),d(p,n),p},crossTraceCalc:function(i,n,r){for(var o=i.calcdata,u=[],l=0;l<o.length;l++){var h=o[l],c=h[0].trace;!0===c.visible&&s(c,"bar")&&c.subplot===r&&u.push(h)}var b=t({},n.radialaxis,{_id:"x"});_(i,n.angularaxis,b,u,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}}},70384:function(ie,z,e){"use strict";var S=e(3400),A=e(85968).handleRThetaDefaults,a=e(55592),M=e(78100);ie.exports=function(_,d,s,t){function i(n,r){return S.coerce(_,d,M,n,r)}A(_,d,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(_,d,i,s,t),S.coerceSelectionMarkerOpacity(d,i)):d.visible=!1}},68896:function(ie,z,e){"use strict";var S=e(93024),A=e(3400),a=e(63400).getTraceColor,M=A.fillText,_=e(8504).makeHoverPointText,d=e(57384).isPtInsidePolygon;ie.exports=function(s,t,i){var n=s.cd,r=n[0].trace,o=s.subplot,u=o.radialAxis,h=o.vangles,c=h?d:A.isPtInsideSector,b=s.maxHoverDistance,p=o.angularAxis._period||2*Math.PI,m=Math.abs(u.g2p(Math.sqrt(t*t+i*i))),v=Math.atan2(i,t);if(u.range[0]>u.range[1]&&(v+=Math.PI),S.getClosest(n,function(w){return c(m,v,[w.rp0,w.rp1],[w.thetag0,w.thetag1],h)?b+Math.min(1,Math.abs(w.thetag1-w.thetag0)/p)-1+(w.rp1-m)/(w.rp1-w.rp0)-1:1/0},s),!1!==s.index){var x=n[s.index];s.x0=s.x1=x.ct[0],s.y0=s.y1=x.ct[1];var y=A.extendFlat({},x,{r:x.s,theta:x.p});return M(x,r,s),_(y,r,o,s),s.hovertemplate=r.hovertemplate,s.color=a(r,x),s.xLabelVal=s.yLabelVal=void 0,x.s<0&&(s.idealAlign="left"),[s]}}},94456:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(ie){"use strict";ie.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(ie,z,e){"use strict";var S=e(3400),A=e(9320);ie.exports=function(a,M,_){var d,s={};function t(r,o){return S.coerce(a[d]||{},M[d],A,r,o)}for(var i=0;i<_.length;i++){var n=_[i];"barpolar"===n.type&&!0===n.visible&&(s[d=n.subplot]||(t("barmode"),t("bargap"),s[d]=1))}}},42040:function(ie,z,e){"use strict";var S=e(33428),A=e(38248),a=e(3400),M=e(43616),_=e(57384);ie.exports=function(d,s,t){var c,b,p,i=d._context.staticPlot,n=s.xaxis,r=s.yaxis,o=s.radialAxis,u=s.angularAxis,l=(b=(c=s).cxx,p=c.cyy,c.vangles?function(m,v,x,y){var w,f;a.angleDelta(x,y)>0?(w=x,f=y):(w=y,f=x);var C=[_.findEnclosingVertexAngles(w,c.vangles)[0],(w+f)/2,_.findEnclosingVertexAngles(f,c.vangles)[1]];return _.pathPolygonAnnulus(m,v,w,f,C,b,p)}:function(m,v,x,y){return a.pathAnnulus(m,v,x,y,b,p)}),h=s.layers.frontplot.select("g.barlayer");a.makeTraceGroups(h,t,"trace bars").each(function(){var c=S.select(this),b=a.ensureSingle(c,"g","points").selectAll("g.point").data(a.identity);b.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),b.exit().remove(),b.each(function(p){var m,v=S.select(this),x=p.rp0=o.c2p(p.s0),y=p.rp1=o.c2p(p.s1),w=p.thetag0=u.c2g(p.p0),f=p.thetag1=u.c2g(p.p1);if(A(x)&&A(y)&&A(w)&&A(f)&&x!==y&&w!==f){var C=o.c2g(p.s1),T=(w+f)/2;p.ct=[n.c2p(C*Math.cos(T)),r.c2p(C*Math.sin(T))],m=l(x,y,w,f)}else m="M0,0Z";a.ensureSingle(v,"path").attr("d",m)}),M.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,d)})}},63188:function(ie,z,e){"use strict";var S=e(98304),A=e(52904),a=e(20832),M=e(22548),_=e(29736).axisHoverFormat,d=e(21776).Ks,s=e(92880).extendFlat,t=A.marker,i=t.line;ie.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},t.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},t.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:s({},t.angle,{arrayOk:!1,editType:"calc"}),size:s({},t.size,{arrayOk:!1,editType:"calc"}),color:s({},t.color,{arrayOk:!1,editType:"style"}),line:{color:s({},i.color,{arrayOk:!1,dflt:M.defaultLine,editType:"style"}),width:s({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:S(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:A.selected.marker,editType:"style"},unselected:{marker:A.unselected.marker,editType:"style"},text:s({},A.text,{}),hovertext:s({},A.hovertext,{}),hovertemplate:d({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:A.zorder}},62555:function(ie,z,e){"use strict";var S=e(38248),A=e(54460),a=e(1220),M=e(3400),_=e(39032).BADNUM,d=M._;ie.exports=function(c,b){var p,m,v,x,y,w,f,C=c._fullLayout,T=A.getFromId(c,b.xaxis||"x"),D=A.getFromId(c,b.yaxis||"y"),R=[],P="violin"===b.type?"_numViolins":"_numBoxes";"h"===b.orientation?(v=T,x="x",y=D,w="y",f=!!b.yperiodalignment):(v=D,x="y",y=T,w="x",f=!!b.xperiodalignment);var O,B,q,N,H,$,j=function(Ve,Ne,We,Xe){var nt,dt=Ne+"0"in Ve;if(Ne in Ve||dt&&"d"+Ne in Ve){var ht=We.makeCalcdata(Ve,Ne);return[a(Ve,We,Ne,ht).vals,ht]}nt=dt?Ve[Ne+"0"]:"name"in Ve&&("category"===We.type||S(Ve.name)&&-1!==["linear","log"].indexOf(We.type)||M.isDateTime(Ve.name)&&"date"===We.type)?Ve.name:Xe;for(var Mt="multicategory"===We.type?We.r2c_just_indices(nt):We.d2c(nt,0,Ve[Ne+"calendar"]),kt=Ve._length,_t=new Array(kt),ut=0;ut<kt;ut++)_t[ut]=Mt;return[_t]}(b,w,y,C[P]),W=j[0],G=j[1],ae=M.distinctVals(W,y),te=ae.vals,Q=ae.minDiff/2,ee="all"===(b.boxpoints||b.points)?M.identity:function(Ve){return Ve.v<O.lf||Ve.v>O.uf};if(b._hasPreCompStats){var re=b[x],J=function(Ve){return v.d2c((b[Ve]||[])[p])},le=1/0,fe=-1/0;for(p=0;p<b._length;p++){var ce=W[p];if(S(ce)){if((O={}).pos=O[w]=ce,f&&G&&(O.orig_p=G[p]),O.q1=J("q1"),O.med=J("median"),O.q3=J("q3"),B=[],re&&M.isArrayOrTypedArray(re[p]))for(m=0;m<re[p].length;m++)($=v.d2c(re[p][m]))!==_&&(t(H={v:$,i:[p,m]},b,[p,m]),B.push(H));if(O.pts=B.sort(i),N=(q=O[x]=B.map(n)).length,O.med!==_&&O.q1!==_&&O.q3!==_&&O.med>=O.q1&&O.q3>=O.med){var ge=J("lowerfence");O.lf=ge!==_&&ge<=O.q1?ge:r(O,q,N);var Te=J("upperfence");O.uf=Te!==_&&Te>=O.q3?Te:o(O,q,N);var Me=J("mean");O.mean=Me!==_?Me:N?M.mean(q,N):(O.q1+O.q3)/2;var we=J("sd");O.sd=Me!==_&&we>=0?we:N?M.stdev(q,N,O.mean):O.q3-O.q1,O.lo=u(O),O.uo=l(O);var xe=J("notchspan");xe=xe!==_&&xe>0?xe:h(O,N),O.ln=O.med-xe,O.un=O.med+xe;var be=O.lf,ye=O.uf;b.boxpoints&&q.length&&(be=Math.min(be,q[0]),ye=Math.max(ye,q[N-1])),b.notched&&(be=Math.min(be,O.ln),ye=Math.max(ye,O.un)),O.min=be,O.max=ye}else{var Se;M.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+O.q1,"median = "+O.med,"q3 = "+O.q3].join("\n")),O.med=Se=O.med!==_?O.med:O.q1!==_?O.q3!==_?(O.q1+O.q3)/2:O.q1:O.q3!==_?O.q3:0,O.q1=O.q3=Se,O.lf=O.uf=Se,O.mean=O.sd=Se,O.ln=O.un=Se,O.min=O.max=Se}le=Math.min(le,O.min),fe=Math.max(fe,O.max),O.pts2=B.filter(ee),R.push(O)}}b._extremes[v._id]=A.findExtremes(v,[le,fe],{padded:!0})}else{var Ee=v.makeCalcdata(b,x),he=function(Ve,Ne){for(var We=Ve.length,Xe=new Array(We+1),nt=0;nt<We;nt++)Xe[nt]=Ve[nt]-Ne;return Xe[We]=Ve[We-1]+Ne,Xe}(te,Q),ue=te.length,me=function(Ve){for(var Ne=new Array(Ve),We=0;We<Ve;We++)Ne[We]=[];return Ne}(ue);for(p=0;p<b._length;p++)if(S($=Ee[p])){var Pe=M.findBin(W[p],he);Pe>=0&&Pe<ue&&(t(H={v:$,i:p},b,p),me[Pe].push(H))}var Ce=1/0,Ie=-1/0,Oe=b.quartilemethod,ze="exclusive"===Oe,je="inclusive"===Oe;for(p=0;p<ue;p++)if(me[p].length>0){var ve,Ae;(O={}).pos=O[w]=te[p],B=O.pts=me[p].sort(i),N=(q=O[x]=B.map(n)).length,O.min=q[0],O.max=q[N-1],O.mean=M.mean(q,N),O.sd=M.stdev(q,N,O.mean)*b.sdmultiple,O.med=M.interp(q,.5),N%2&&(ze||je)?(ze?(ve=q.slice(0,N/2),Ae=q.slice(N/2+1)):je&&(ve=q.slice(0,N/2+1),Ae=q.slice(N/2)),O.q1=M.interp(ve,.5),O.q3=M.interp(Ae,.5)):(O.q1=M.interp(q,.25),O.q3=M.interp(q,.75)),O.lf=r(O,q,N),O.uf=o(O,q,N),O.lo=u(O),O.uo=l(O);var Le=h(O,N);O.ln=O.med-Le,O.un=O.med+Le,Ce=Math.min(Ce,O.ln),Ie=Math.max(Ie,O.un),O.pts2=B.filter(ee),R.push(O)}b.notched&&M.isTypedArray(Ee)&&(Ee=Array.from(Ee)),b._extremes[v._id]=A.findExtremes(v,b.notched?Ee.concat([Ce,Ie]):Ee,{padded:!0})}return function(Ve,Ne){if(M.isArrayOrTypedArray(Ne.selectedpoints))for(var We=0;We<Ve.length;We++){for(var Xe=Ve[We].pts||[],nt={},dt=0;dt<Xe.length;dt++)nt[Xe[dt].i]=dt;M.tagSelected(Xe,Ne,nt)}}(R,b),R.length>0?(R[0].t={num:C[P],dPos:Q,posLetter:w,valLetter:x,labels:{med:d(c,"median:"),min:d(c,"min:"),q1:d(c,"q1:"),q3:d(c,"q3:"),max:d(c,"max:"),mean:"sd"===b.boxmean||"sd"===b.sizemode?d(c,"mean \xb1 \u03c3:").replace("\u03c3",1===b.sdmultiple?"\u03c3":b.sdmultiple+"\u03c3"):d(c,"mean:"),lf:d(c,"lower fence:"),uf:d(c,"upper fence:")}},C[P]++,R):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function t(c,b,p){for(var m in s)M.isArrayOrTypedArray(b[m])&&(Array.isArray(p)?M.isArrayOrTypedArray(b[m][p[0]])&&(c[s[m]]=b[m][p[0]][p[1]]):c[s[m]]=b[m][p])}function i(c,b){return c.v-b.v}function n(c){return c.v}function r(c,b,p){return 0===p?c.q1:Math.min(c.q1,b[Math.min(M.findBin(2.5*c.q1-1.5*c.q3,b,!0)+1,p-1)])}function o(c,b,p){return 0===p?c.q3:Math.max(c.q3,b[Math.max(M.findBin(2.5*c.q3-1.5*c.q1,b),0)])}function u(c){return 4*c.q1-3*c.q3}function l(c){return 4*c.q3-3*c.q1}function h(c,b){return 0===b?0:1.57*(c.q3-c.q1)/Math.sqrt(b)}},96404:function(ie,z,e){"use strict";var S=e(54460),A=e(3400),a=e(71888).getAxisGroup,M=["v","h"];function _(d,s,t,i){var n,r,o,u=s.calcdata,l=s._fullLayout,h=i._id,c=h.charAt(0),b=[],p=0;for(n=0;n<t.length;n++)for(o=u[t[n]],r=0;r<o.length;r++)b.push(i.c2l(o[r].pos,!0)),p+=(o[r].pts2||[]).length;if(b.length){var m=A.distinctVals(b);"category"!==i.type&&"multicategory"!==i.type||(m.minDiff=1);var v=m.minDiff/2;S.minDtick(i,m.minDiff,m.vals[0],!0);var x=l["violin"===d?"_numViolins":"_numBoxes"],y="group"===l[d+"mode"]&&x>1,w=1-l[d+"gap"],f=1-l[d+"groupgap"];for(n=0;n<t.length;n++){var C,T,D,R,P,O,B=(o=u[t[n]])[0].trace,q=o[0].t,N=B.width,H=B.side;if(N)C=T=R=N/2,D=0;else if(C=v,y){var $=a(l,i._id)+B.orientation,W=Object.keys(((l._alignmentOpts[$]||{})[B.alignmentgroup]||{}).offsetGroups||{}).length,G=W||x;T=C*w*f/G,D=2*C*(((W?B._offsetIndex:q.num)+.5)/G-.5)*w,R=C*w/G}else T=C*w*f,D=0,R=C;q.dPos=C,q.bPos=D,q.bdPos=T,q.wHover=R;var ae,te,Q,ee,re,J,le=D+T,fe=!!N;if("positive"===H?(P=C*(N?1:.5),ae=le,O=ae=D):"negative"===H?(P=ae=D,O=C*(N?1:.5),te=le):(P=O=C,ae=te=le),(B.boxpoints||B.points)&&p>0){var ce=B.pointpos,ge=B.jitter,Te=B.marker.size/2,Me=0;ce+ge>=0&&((Me=le*(ce+ge))>P?(fe=!0,re=Te,Q=Me):Me>ae&&(re=Te,Q=P)),Me<=P&&(Q=P);var we=0;ce-ge<=0&&((we=-le*(ce-ge))>O?(fe=!0,J=Te,ee=we):we>te&&(J=Te,ee=O)),we<=O&&(ee=O)}else Q=P,ee=O;var xe=new Array(o.length);for(r=0;r<o.length;r++)xe[r]=o[r].pos;B._extremes[h]=S.findExtremes(i,xe,{padded:fe,vpadminus:ee,vpadplus:Q,vpadLinearized:!0,ppadminus:{x:J,y:re}[c],ppadplus:{x:re,y:J}[c]})}}}ie.exports={crossTraceCalc:function(d,s){for(var t=d.calcdata,i=s.xaxis,n=s.yaxis,r=0;r<M.length;r++){for(var o=M[r],u="h"===o?n:i,l=[],h=0;h<t.length;h++){var c=t[h],p=c[0].trace;!0!==p.visible||"box"!==p.type&&"candlestick"!==p.type||c[0].t.empty||(p.orientation||"v")!==o||p.xaxis!==i._id||p.yaxis!==n._id||l.push(h)}_("box",d,l,u)}},setPositionOffset:_}},90624:function(ie,z,e){"use strict";var S=e(3400),A=e(24040),a=e(76308),M=e(31147),_=e(20011),d=e(52976),s=e(63188);function t(n,r,o,u){function l(H){var $=0;return H&&H.length&&($+=1,S.isArrayOrTypedArray(H[0])&&H[0].length&&($+=1)),$}function h(H){return S.validate(n[H],s[H])}var c,b=o("y"),p=o("x");if("box"===r.type){var m=o("q1"),v=o("median"),x=o("q3");r._hasPreCompStats=m&&m.length&&v&&v.length&&x&&x.length,c=Math.min(S.minRowLength(m),S.minRowLength(v),S.minRowLength(x))}var y,w,f=l(b),C=l(p),T=f&&S.minRowLength(b),D=C&&S.minRowLength(p),R=u.calendar,P={autotypenumbers:u.autotypenumbers};if(r._hasPreCompStats)switch(String(C)+String(f)){case"00":var O=h("x0")||h("dx");y=!h("y0")&&!h("dy")||O?"v":"h",w=c;break;case"10":y="v",w=Math.min(c,D);break;case"20":y="h",w=Math.min(c,p.length);break;case"01":y="h",w=Math.min(c,T);break;case"02":y="v",w=Math.min(c,b.length);break;case"12":y="v",w=Math.min(c,D,b.length);break;case"21":y="h",w=Math.min(c,p.length,T);break;case"11":w=0;break;case"22":var B,q=!1;for(B=0;B<p.length;B++)if("category"===d(p[B],R,P)){q=!0;break}if(q)y="v",w=Math.min(c,D,b.length);else{for(B=0;B<b.length;B++)if("category"===d(b[B],R,P)){q=!0;break}q?(y="h",w=Math.min(c,p.length,T)):(y="v",w=Math.min(c,D,b.length))}}else f>0?(y="v",w=C>0?Math.min(D,T):Math.min(T)):C>0?(y="h",w=Math.min(D)):w=0;if(w){r._length=w;var N=o("orientation",y);r._hasPreCompStats?"v"===N&&0===C?(o("x0",0),o("dx",1)):"h"===N&&0===f&&(o("y0",0),o("dy",1)):"v"===N&&0===C?o("x0"):"h"===N&&0===f&&o("y0"),A.getComponentMethod("calendars","handleTraceDefaults")(n,r,["x","y"],u)}else r.visible=!1}function i(n,r,o,u){var l=u.prefix,h=S.coerce2(n,r,s,"marker.outliercolor"),c=o("marker.line.outliercolor"),b="outliers";r._hasPreCompStats?b="all":(h||c)&&(b="suspectedoutliers");var p=o(l+"points",b);p?(o("jitter","all"===p?.3:0),o("pointpos","all"===p?-1.5:0),o("marker.symbol"),o("marker.opacity"),o("marker.size"),o("marker.angle"),o("marker.color",r.line.color),o("marker.line.color"),o("marker.line.width"),"suspectedoutliers"===p&&(o("marker.line.outliercolor",r.marker.color),o("marker.line.outlierwidth")),o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size"),o("text"),o("hovertext")):delete r.marker;var m=o("hoveron");"all"!==m&&-1===m.indexOf("points")||o("hovertemplate"),S.coerceSelectionMarkerOpacity(r,o)}ie.exports={supplyDefaults:function(n,r,o,u){function l(w,f){return S.coerce(n,r,s,w,f)}if(t(n,r,l,u),!1!==r.visible){M(n,r,u,l),l("xhoverformat"),l("yhoverformat");var h=r._hasPreCompStats;h&&(l("lowerfence"),l("upperfence")),l("line.color",(n.marker||{}).color||o),l("line.width"),l("fillcolor",a.addOpacity(r.line.color,.5));var c=!1;if(h){var b=l("mean"),p=l("sd");b&&b.length&&(c=!0,p&&p.length&&(c="sd"))}l("whiskerwidth");var m,v=l("sizemode");"quartiles"===v&&(m=l("boxmean",c)),l("showwhiskers","quartiles"===v),"sd"!==v&&"sd"!==m||l("sdmultiple"),l("width"),l("quartilemethod");var x=!1;if(h){var y=l("notchspan");y&&y.length&&(x=!0)}else S.validate(n.notchwidth,s.notchwidth)&&(x=!0);l("notched",x)&&l("notchwidth"),i(n,r,l,{prefix:"box"}),l("zorder")}},crossTraceDefaults:function(n,r){var u;function l(b){return S.coerce(u._input,u,s,b)}for(var h=0;h<n.length;h++){var c=(u=n[h]).type;"box"!==c&&"violin"!==c||"group"===r[c+"mode"]&&_(u._input,u,r,l)}},handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(ie){"use strict";ie.exports=function(z,e){return e.hoverOnBox&&(z.hoverOnBox=e.hoverOnBox),"xVal"in e&&(z.x=e.xVal),"yVal"in e&&(z.y=e.yVal),e.xa&&(z.xaxis=e.xa),e.ya&&(z.yaxis=e.ya),z}},27576:function(ie,z,e){"use strict";var S=e(54460),A=e(3400),a=e(93024),M=e(76308),_=A.fillText;function d(t,i,n,r){var o,u,l,h,c,b,p,m,v,x,y,w,f,C,T=t.cd,D=t.xa,R=t.ya,P=T[0].trace,O=T[0].t,B="violin"===P.type,q=O.bdPos,N=O.wHover,H=function(Se){return l.c2l(Se.pos)+O.bPos-l.c2l(b)};B&&"both"!==P.side?("positive"===P.side&&(v=function(Se){var Ee=H(Se);return a.inbox(Ee,Ee+N,x)},w=q,f=0),"negative"===P.side&&(v=function(Se){var Ee=H(Se);return a.inbox(Ee-N,Ee,x)},w=0,f=q)):(v=function(Se){var Ee=H(Se);return a.inbox(Ee-N,Ee+N,x)},w=f=q),C=B?function(Se){return a.inbox(Se.span[0]-c,Se.span[1]-c,x)}:function(Se){return a.inbox(Se.min-c,Se.max-c,x)},"h"===P.orientation?(c=i,b=n,p=C,m=v,o="y",l=R,u="x",h=D):(c=n,b=i,p=v,m=C,o="x",l=D,u="y",h=R);var $=Math.min(1,q/Math.abs(l.r2c(l.range[1])-l.r2c(l.range[0])));function j(Se){return(p(Se)+m(Se))/2}x=t.maxHoverDistance-$,y=t.maxSpikeDistance-$;var W=a.getDistanceFunction(r,p,m,j);if(a.getClosest(T,W,t),!1===t.index)return[];var G=T[t.index],ae=P.line.color,te=(P.marker||{}).color;t.color=M.opacity(ae)&&P.line.width?ae:M.opacity(te)&&P.boxpoints?te:P.fillcolor,t[o+"0"]=l.c2p(G.pos+O.bPos-f,!0),t[o+"1"]=l.c2p(G.pos+O.bPos+w,!0),t[o+"LabelVal"]=void 0!==G.orig_p?G.orig_p:G.pos;var Q=o+"Spike";t.spikeDistance=j(G)*y/x,t[Q]=l.c2p(G.pos,!0);var ee=P.boxmean||"sd"===P.sizemode||(P.meanline||{}).visible,re=P.boxpoints||P.points,J=re&&ee?["max","uf","q3","med","mean","q1","lf","min"]:re&&!ee?["max","uf","q3","med","q1","lf","min"]:!re&&ee?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];P.orientation===(h.range[1]<h.range[0]?"v":"h")&&J.reverse();for(var fe=t.spikeDistance,ce=t[Q],ge=[],Te=0;Te<J.length;Te++){var Me=J[Te];if(Me in G){var we=G[Me],xe=h.c2p(we,!0),be=A.extendFlat({},t);be.attr=Me,be[u+"0"]=be[u+"1"]=xe,be[u+"LabelVal"]=we,be[u+"Label"]=(O.labels?O.labels[Me]+" ":"")+S.hoverLabelText(h,we,P[u+"hoverformat"]),be.hoverOnBox=!0,"mean"!==Me||!("sd"in G)||"sd"!==P.boxmean&&"sd"!==P.sizemode||(be[u+"err"]=G.sd),be.hovertemplate=!1,ge.push(be)}}t.name="",t.spikeDistance=void 0,t[Q]=void 0;for(var ye=0;ye<ge.length;ye++)"med"!==ge[ye].attr?(ge[ye].name="",ge[ye].spikeDistance=void 0,ge[ye][Q]=void 0):(ge[ye].spikeDistance=fe,ge[ye][Q]=ce);return ge}function s(t,i,n){for(var r,o,u,l=t.cd,h=t.xa,c=t.ya,b=l[0].trace,p=h.c2p(i),m=c.c2p(n),v=a.quadrature(function(B){var q=Math.max(3,B.mrc||0);return Math.max(Math.abs(h.c2p(B.x)-p)-q,1-3/q)},function(B){var q=Math.max(3,B.mrc||0);return Math.max(Math.abs(c.c2p(B.y)-m)-q,1-3/q)}),x=!1,y=0;y<l.length;y++){o=l[y];for(var w=0;w<(o.pts||[]).length;w++){var f=v(u=o.pts[w]);f<=t.distance&&(t.distance=f,x=[y,w])}}if(!x)return!1;u=(o=l[x[0]]).pts[x[1]];var C=h.c2p(u.x,!0),T=c.c2p(u.y,!0),D=u.mrc||1;r=A.extendFlat({},t,{index:u.i,color:(b.marker||{}).color,name:b.name,x0:C-D,x1:C+D,y0:T-D,y1:T+D,spikeDistance:t.distance,hovertemplate:b.hovertemplate});var R,P=o.orig_p,O=void 0!==P?P:o.pos;return"h"===b.orientation?(R=c,r.xLabelVal=u.x,r.yLabelVal=O):(R=h,r.xLabelVal=O,r.yLabelVal=u.y),r[R._id.charAt(0)+"Spike"]=R.c2p(o.pos,!0),_(u,b,r),r}ie.exports={hoverPoints:function(t,i,n,r){var o,u=t.cd[0].trace.hoveron,l=[];return-1!==u.indexOf("boxes")&&(l=l.concat(d(t,i,n,r))),-1!==u.indexOf("points")&&(o=s(t,i,n)),"closest"===r?o?[o]:l:(o&&l.push(o),l)},hoverOnBoxes:d,hoverOnPoints:s}},67244:function(ie,z,e){"use strict";ie.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(ie){"use strict";ie.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(16560);function M(_,d,s,t,i){for(var n=i+"Layout",r=!1,o=0;o<s.length;o++)if(S.traceIs(s[o],n)){r=!0;break}r&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}ie.exports={supplyLayoutDefaults:function(_,d,s){M(0,0,s,function(t,i){return A.coerce(_,d,a,t,i)},"box")},_supply:M}},18728:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616);function M(s,t,i,n,r){var o,u,l="h"===i.orientation,h=t.val,c=t.pos,b=!!c.rangebreaks,p=n.bPos,m=n.wdPos||0,v=n.bPosPxOffset||0,x=i.whiskerwidth||0,y=!1!==i.showwhiskers,w=i.notched||!1,f=w?1-2*i.notchwidth:1;Array.isArray(n.bdPos)?(o=n.bdPos[0],u=n.bdPos[1]):(o=n.bdPos,u=n.bdPos);var C=s.selectAll("path.box").data("violin"!==i.type||i.box.visible?A.identity:[]);C.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","box"),C.exit().remove(),C.each(function(T){if(T.empty)return S.select(this).attr("d","M0,0Z");var D=c.c2l(T.pos+p,!0),R=c.l2p(D-o)+v,P=c.l2p(D+u)+v,O=b?(R+P)/2:c.l2p(D)+v,B=i.whiskerwidth,q=b?R*B+(1-B)*O:c.l2p(D-m)+v,N=b?P*B+(1-B)*O:c.l2p(D+m)+v,H=c.l2p(D-o*f)+v,$=c.l2p(D+u*f)+v,j="sd"===i.sizemode,W=h.c2p(j?T.mean-T.sd:T.q1,!0),G=h.c2p(j?T.mean+T.sd:T.q3,!0),ae=A.constrain(h.c2p(j?T.mean:T.med,!0),Math.min(W,G)+1,Math.max(W,G)-1),te=void 0===T.lf||!1===i.boxpoints||j,Q=h.c2p(te?T.min:T.lf,!0),ee=h.c2p(te?T.max:T.uf,!0),re=h.c2p(T.ln,!0),J=h.c2p(T.un,!0);l?S.select(this).attr("d","M"+ae+","+H+"V"+$+"M"+W+","+R+"V"+P+(w?"H"+re+"L"+ae+","+$+"L"+J+","+P:"")+"H"+G+"V"+R+(w?"H"+J+"L"+ae+","+H+"L"+re+","+R:"")+"Z"+(y?"M"+W+","+O+"H"+Q+"M"+G+","+O+"H"+ee+(0===x?"":"M"+Q+","+q+"V"+N+"M"+ee+","+q+"V"+N):"")):S.select(this).attr("d","M"+H+","+ae+"H"+$+"M"+R+","+W+"H"+P+(w?"V"+re+"L"+$+","+ae+"L"+P+","+J:"")+"V"+G+"H"+R+(w?"V"+J+"L"+H+","+ae+"L"+R+","+re:"")+"Z"+(y?"M"+O+","+W+"V"+Q+"M"+O+","+G+"V"+ee+(0===x?"":"M"+q+","+Q+"H"+N+"M"+q+","+ee+"H"+N):""))})}function _(s,t,i,n){var r=t.x,o=t.y,u=n.bdPos,l=n.bPos,h=i.boxpoints||i.points;A.seedPseudoRandom();var c=s.selectAll("g.points").data(h?function(p){return p.forEach(function(m){m.t=n,m.trace=i}),p}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var b=c.selectAll("path").data(function(p){var m,v,x=p.pts2,y=Math.max((p.max-p.min)/10,p.q3-p.q1),w=1e-9*y,f=.01*y,C=[],T=0;if(i.jitter){if(0===y)for(T=1,C=new Array(x.length),m=0;m<x.length;m++)C[m]=1;else for(m=0;m<x.length;m++){var D=Math.max(0,m-5),R=x[D].v,P=Math.min(x.length-1,m+5),O=x[P].v;"all"!==h&&(x[m].v<p.lf?O=Math.min(O,p.lf):R=Math.max(R,p.uf));var B=Math.sqrt(f*(P-D)/(O-R+w))||0;B=A.constrain(Math.abs(B),0,1),C.push(B),T=Math.max(B,T)}v=2*i.jitter/(T||1)}for(m=0;m<x.length;m++){var q=x[m],N=q.v,H=i.jitter?v*C[m]*(A.pseudoRandom()-.5):0,$=p.pos+l+u*(i.pointpos+H);"h"===i.orientation?(q.y=$,q.x=N):(q.x=$,q.y=N),"suspectedoutliers"===h&&N<p.uo&&N>p.lo&&(q.so=!0)}return x});b.enter().append("path").classed("point",!0),b.exit().remove(),b.call(a.translatePoints,r,o)}function d(s,t,i,n){var r,o,u=t.val,l=t.pos,h=!!l.rangebreaks,c=n.bPos,b=n.bPosPxOffset||0,p=i.boxmean||(i.meanline||{}).visible;Array.isArray(n.bdPos)?(r=n.bdPos[0],o=n.bdPos[1]):(r=n.bdPos,o=n.bdPos);var m=s.selectAll("path.mean").data("box"===i.type&&i.boxmean||"violin"===i.type&&i.box.visible&&i.meanline.visible?A.identity:[]);m.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),m.exit().remove(),m.each(function(v){var x=l.c2l(v.pos+c,!0),y=l.l2p(x-r)+b,w=l.l2p(x+o)+b,f=h?(y+w)/2:l.l2p(x)+b,C=u.c2p(v.mean,!0),T=u.c2p(v.mean-v.sd,!0),D=u.c2p(v.mean+v.sd,!0);"h"===i.orientation?S.select(this).attr("d","M"+C+","+y+"V"+w+("sd"===p?"m0,0L"+T+","+f+"L"+C+","+y+"L"+D+","+f+"Z":"")):S.select(this).attr("d","M"+y+","+C+"H"+w+("sd"===p?"m0,0L"+f+","+T+"L"+y+","+C+"L"+f+","+D+"Z":""))})}ie.exports={plot:function(s,t,i,n){var r=s._context.staticPlot,o=t.xaxis,u=t.yaxis;A.makeTraceGroups(n,i,"trace boxes").each(function(l){var h,c,b=S.select(this),p=l[0],m=p.t,v=p.trace;m.wdPos=m.bdPos*v.whiskerwidth,!0!==v.visible||m.empty?b.remove():("h"===v.orientation?(h=u,c=o):(h=o,c=u),M(b,{pos:h,val:c},v,m,r),_(b,{x:o,y:u},v,m),d(b,{pos:h,val:c},v,m))})},plotBoxAndWhiskers:M,plotPoints:_,plotBoxMean:d}},8264:function(ie){"use strict";ie.exports=function(z,e){var S,A,a=z.cd,M=z.xaxis,_=z.yaxis,d=[];if(!1===e)for(S=0;S<a.length;S++)for(A=0;A<(a[S].pts||[]).length;A++)a[S].pts[A].selected=0;else for(S=0;S<a.length;S++)for(A=0;A<(a[S].pts||[]).length;A++){var s=a[S].pts[A],t=M.c2p(s.x),i=_.c2p(s.y);e.contains([t,i],null,s.i,z)?(d.push({pointNumber:s.i,x:M.c2d(s.x),y:_.c2d(s.y)}),s.selected=1):s.selected=0}return d}},25776:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(43616);ie.exports={style:function(M,_,d){var s=d||S.select(M).selectAll("g.trace.boxes");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=S.select(this),n=t[0].trace,r=n.line.width;function o(h,c,b,p){h.style("stroke-width",c+"px").call(A.stroke,b).call(A.fill,p)}var u=i.selectAll("path.box");if("candlestick"===n.type)u.each(function(h){if(!h.empty){var c=S.select(this),b=n[h.dir];o(c,b.line.width,b.line.color,b.fillcolor),c.style("opacity",n.selectedpoints&&!h.selected?.3:1)}});else{o(u,r,n.line.color,n.fillcolor),i.selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(A.stroke,n.line.color);var l=i.selectAll("path.point");a.pointStyle(l,n,M)}})},styleOnSelect:function(M,_,d){var s=_[0].trace,t=d.selectAll("path.point");s.selectedpoints?a.selectedPointStyle(t,s):a.pointStyle(t,s,M)}}},64216:function(ie,z,e){"use strict";var S=e(3400).extendFlat,A=e(29736).axisHoverFormat,a=e(20279),M=e(63188);function _(d){return{line:{color:S({},M.line.color,{dflt:d}),width:M.line.width,editType:"style"},fillcolor:M.fillcolor,editType:"style"}}ie.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:S({},M.line.width,{}),editType:"style"},increasing:_(a.increasing.line.color.dflt),decreasing:_(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:S({},M.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel,zorder:M.zorder}},46283:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(1220),M=e(42812).calcCommon;function _(d,s,t,i){return{min:t,q1:Math.min(d,i),med:i,q3:Math.max(d,i),max:s}}ie.exports=function(d,s){var t=d._fullLayout,i=A.getFromId(d,s.xaxis),n=A.getFromId(d,s.yaxis),r=i.makeCalcdata(s,"x"),o=a(s,i,"x",r).vals,u=M(d,s,r,o,n,_);return u.length?(S.extendFlat(u[0].t,{num:t._numBoxes,dPos:S.distinctVals(o).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,u):[{t:{empty:!0}}]}},64588:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(52744),M=e(31147),_=e(64216);function d(s,t,i,n){var r=i(n+".line.color");i(n+".line.width",t.line.width),i(n+".fillcolor",A.addOpacity(r,.5))}ie.exports=function(s,t,i,n){function r(o,u){return S.coerce(s,t,_,o,u)}a(s,t,r,n)?(M(s,t,n,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),d(0,t,r,"increasing"),d(0,t,r,"decreasing"),r("text"),r("hovertext"),r("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,r("zorder")):t.visible=!1}},61712:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(ie,z,e){"use strict";var S=e(63856),A=e(31780);ie.exports=function(a,M,_,d,s){var t,i,n,r;d("a")||(d("da"),d("a0")),d("b")||(d("db"),d("b0")),t=a,i=M,n=_,r=s,["aaxis","baxis"].forEach(function(o){var u=o.charAt(0),l=t[o]||{},h=A.newContainer(i,o);S(l,h,{noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:u+"axis",letter:u,font:i.font,name:o,data:t[u],calendar:i.calendar,dfltColor:r,bgColor:n.paper_bgcolor,autotypenumbersDflt:n.autotypenumbers,fullLayout:n}),h._categories=h._categories||[],t[o]||"-"===l.type||(t[o]={type:l.type})})}},51676:function(ie,z,e){"use strict";var S=e(3400).isArrayOrTypedArray;function A(a,M){if(!S(a)||M>=10)return null;for(var _=1/0,d=-1/0,s=a.length,t=0;t<s;t++){var i=a[t];if(S(i)){var n=A(i,M+1);n&&(_=Math.min(n[0],_),d=Math.max(n[1],d))}else _=Math.min(i,_),d=Math.max(i,d)}return[_,d]}ie.exports=function(a){return A(a,0)}},85720:function(ie,z,e){"use strict";var S=e(25376),A=e(98692),a=e(22548),M=S({editType:"calc"}),_=e(52904).zorder;M.family.dflt='"Open Sans", verdana, arial, sans-serif',M.size.dflt=12,M.color.dflt=a.defaultLine,ie.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:A,baxis:A,font:M,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0,zorder:_}},77712:function(ie,z,e){"use strict";var S=e(3400).isArrayOrTypedArray;ie.exports=function(A,a,M,_){var d,s,t,i,n,r,o,u,l,h,c,b,p,m=S(M)?"a":"b",v=("a"===m?A.aaxis:A.baxis).smoothing,x="a"===m?A.a2i:A.b2j,y="a"===m?M:_,w="a"===m?_:M,f="a"===m?a.a.length:a.b.length,C="a"===m?a.b.length:a.a.length,T=Math.floor("a"===m?A.b2j(w):A.a2i(w)),D="a"===m?function(ae){return A.evalxy([],ae,T)}:function(ae){return A.evalxy([],T,ae)};v&&(t=Math.max(0,Math.min(C-2,T)),i=T-t,s="a"===m?function(ae,te){return A.dxydi([],ae,t,te,i)}:function(ae,te){return A.dxydj([],t,ae,i,te)});var R=x(y[0]),P=x(y[1]),O=R<P?1:-1,B=1e-8*(P-R),q=O>0?Math.floor:Math.ceil,N=O>0?Math.ceil:Math.floor,H=O>0?Math.min:Math.max,$=O>0?Math.max:Math.min,j=q(R+B),W=N(P-B),G=[[o=D(R)]];for(d=j;d*O<W*O;d+=O)n=[],c=$(R,d),p=(b=H(P,d+O))-c,r=Math.max(0,Math.min(f-2,Math.floor(.5*(c+b)))),u=D(b),v&&(l=s(r,c-r),h=s(r,b-r),n.push([o[0]+l[0]/3*p,o[1]+l[1]/3*p]),n.push([u[0]-h[0]/3*p,u[1]-h[1]/3*p])),n.push(u),G.push(n),o=u;return G}},98692:function(ie,z,e){"use strict";var S=e(25376),A=e(22548),a=e(94724),M=e(29736).descriptionWithDates,_=e(67824).overrideAll,d=e(98192).u,s=e(92880).extendFlat;ie.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:S({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},a.labelalias,{editType:"calc"}),tickfont:S({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:M("tick label")},tickformatstops:_(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:A.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},d,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},d,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:A.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:S({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(ie,z,e){"use strict";var S=e(85720),A=e(76308).addOpacity,a=e(24040),M=e(3400),_=e(26332),d=e(95936),s=e(42568),t=e(22416),i=e(78344),n=e(52976);ie.exports=function(r,o,u){var l=u.letter,h=u.font||{},c=S[l+"axis"];function b(O,B){return M.coerce(r,o,c,O,B)}function p(O,B){return M.coerce2(r,o,c,O,B)}u.name&&(o._name=u.name,o._id=u.name),b("autotypenumbers",u.autotypenumbersDflt);var m=b("type");"-"===m&&(u.data&&function(O,B){if("-"===O.type){var q=O._id.charAt(0);O.type=n(B,O[q+"calendar"],{autotypenumbers:O.autotypenumbers})}}(o,u.data),"-"===o.type?o.type="linear":m=r.type=o.type),b("smoothing"),b("cheatertype"),b("showticklabels"),b("labelprefix",l+" = "),b("labelsuffix"),b("showtickprefix"),b("showticksuffix"),b("separatethousands"),b("tickformat"),b("exponentformat"),b("minexponent"),b("showexponent"),b("categoryorder"),b("tickmode"),b("tickvals"),b("ticktext"),b("tick0"),b("dtick"),"array"===o.tickmode&&(b("arraytick0"),b("arraydtick")),b("labelpadding"),o._hovertitle=l,"date"===m&&a.getComponentMethod("calendars","handleDefaults")(r,o,"calendar",u.calendar),i(o,u.fullLayout),o.c2p=M.identity;var v=b("color",u.dfltColor),x=v===r.color?v:h.color;b("title.text")&&(M.coerceFont(b,"title.font",{weight:h.weight,style:h.style,variant:h.variant,family:h.family,size:M.bigFont(h.size),color:x}),b("title.offset")),b("tickangle"),b("autorange",!o.isValidRange(r.range))&&b("rangemode"),b("range"),o.cleanRange(),b("fixedrange"),_(r,o,b,m),s(r,o,b,m,u),d(r,o,b,m,u),t(r,o,b,{data:u.data,dataAttr:l});var y=p("gridcolor",A(v,.3)),w=p("gridwidth"),f=p("griddash"),C=b("showgrid");C||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var T=p("startlinecolor",v),D=p("startlinewidth",w);b("startline",o.showgrid||!!T||!!D)||(delete o.startlinecolor,delete o.startlinewidth);var R=p("endlinecolor",v),P=p("endlinewidth",w);return b("endline",o.showgrid||!!R||!!P)||(delete o.endlinecolor,delete o.endlinewidth),C?(b("minorgridcount"),b("minorgridwidth",w),b("minorgriddash",f),b("minorgridcolor",A(y,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),"none"===o.showticklabels&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,b("tickmode"),o}},58744:function(ie,z,e){"use strict";var S=e(54460),A=e(3400).isArray1D,a=e(60776),M=e(51676),_=e(19216),d=e(14724),s=e(24944),t=e(26136),i=e(51512),n=e(2872),r=e(81e3);ie.exports=function(o,u){var l=S.getFromId(o,u.xaxis),h=S.getFromId(o,u.yaxis),c=u.aaxis,b=u.baxis,p=u.x,m=u.y,v=[];p&&A(p)&&v.push("x"),m&&A(m)&&v.push("y"),v.length&&n(u,c,b,"a","b",v);var x=u._a=u._a||u.a,y=u._b=u._b||u.b;p=u._x||u.x,m=u._y||u.y;var w={};u._cheater&&(p=a("index"===c.cheatertype?x.length:x,"index"===b.cheatertype?y.length:y,u.cheaterslope)),u._x=p=t(p),u._y=m=t(m),i(p,x,y),i(m,x,y),r(u),u.setScale();var T=M(p),D=M(m),R=.5*(T[1]-T[0]),P=.5*(T[1]+T[0]),O=.5*(D[1]-D[0]),B=.5*(D[1]+D[0]),q=1.3;return D=[B-O*q,B+O*q],u._extremes[l._id]=S.findExtremes(l,T=[P-R*q,P+R*q],{padded:!0}),u._extremes[h._id]=S.findExtremes(h,D,{padded:!0}),_(u,"a","b"),_(u,"b","a"),d(u,c),d(u,b),w.clipsegments=s(u._xctrl,u._yctrl,c,b),w.x=p,w.y=m,w.a=x,w.b=y,[w]}},24944:function(ie){"use strict";ie.exports=function(z,e,S,A){var a,M,_,d=[],s=!!S.smoothing,t=!!A.smoothing,i=z[0].length-1,n=z.length-1;for(a=0,M=[],_=[];a<=i;a++)M[a]=z[0][a],_[a]=e[0][a];for(d.push({x:M,y:_,bicubic:s}),a=0,M=[],_=[];a<=n;a++)M[a]=z[a][i],_[a]=e[a][i];for(d.push({x:M,y:_,bicubic:t}),a=i,M=[],_=[];a>=0;a--)M[i-a]=z[n][a],_[i-a]=e[n][a];for(d.push({x:M,y:_,bicubic:s}),a=n,M=[],_=[];a>=0;a--)M[n-a]=z[a][0],_[n-a]=e[a][0];return d.push({x:M,y:_,bicubic:t}),d}},19216:function(ie,z,e){"use strict";var S=e(54460),A=e(92880).extendFlat;ie.exports=function(a,M,_){var d,s,t,i,n,r,o,u,l,h,c,b,p,m,v=a["_"+M],x=a[M+"axis"],y=x._gridlines=[],w=x._minorgridlines=[],f=x._boundarylines=[],C=a["_"+_],T=a[_+"axis"];"array"===x.tickmode&&(x.tickvals=v.slice());var D=a._xctrl,R=a._yctrl,P=D[0].length,O=D.length,B=a._a.length,q=a._b.length;S.prepTicks(x),"array"===x.tickmode&&delete x.tickvals;var N=x.smoothing?3:1;function H(j){var W,G,ae,te,Q,ee,re,J,le,fe,ce,ge,Te=[],Me=[],we={};if("b"===M)for(G=a.b2j(j),ae=Math.floor(Math.max(0,Math.min(q-2,G))),te=G-ae,we.length=q,we.crossLength=B,we.xy=function(xe){return a.evalxy([],xe,G)},we.dxy=function(xe,be){return a.dxydi([],xe,ae,be,te)},W=0;W<B;W++)ee=Math.min(B-2,W),re=W-ee,J=a.evalxy([],W,G),T.smoothing&&W>0&&(le=a.dxydi([],W-1,ae,0,te),Te.push(Q[0]+le[0]/3),Me.push(Q[1]+le[1]/3),fe=a.dxydi([],W-1,ae,1,te),Te.push(J[0]-fe[0]/3),Me.push(J[1]-fe[1]/3)),Te.push(J[0]),Me.push(J[1]),Q=J;else for(W=a.a2i(j),ee=Math.floor(Math.max(0,Math.min(B-2,W))),re=W-ee,we.length=B,we.crossLength=q,we.xy=function(xe){return a.evalxy([],W,xe)},we.dxy=function(xe,be){return a.dxydj([],ee,xe,re,be)},G=0;G<q;G++)ae=Math.min(q-2,G),te=G-ae,J=a.evalxy([],W,G),T.smoothing&&G>0&&(ce=a.dxydj([],ee,G-1,re,0),Te.push(Q[0]+ce[0]/3),Me.push(Q[1]+ce[1]/3),ge=a.dxydj([],ee,G-1,re,1),Te.push(J[0]-ge[0]/3),Me.push(J[1]-ge[1]/3)),Te.push(J[0]),Me.push(J[1]),Q=J;return we.axisLetter=M,we.axis=x,we.crossAxis=T,we.value=j,we.constvar=_,we.index=u,we.x=Te,we.y=Me,we.smoothing=T.smoothing,we}function $(j){var W,G,ae,te,Q,ee=[],re=[],J={};if(J.length=v.length,J.crossLength=C.length,"b"===M)for(ae=Math.max(0,Math.min(q-2,j)),Q=Math.min(1,Math.max(0,j-ae)),J.xy=function(le){return a.evalxy([],le,j)},J.dxy=function(le,fe){return a.dxydi([],le,ae,fe,Q)},W=0;W<P;W++)ee[W]=D[j*N][W],re[W]=R[j*N][W];else for(G=Math.max(0,Math.min(B-2,j)),te=Math.min(1,Math.max(0,j-G)),J.xy=function(le){return a.evalxy([],j,le)},J.dxy=function(le,fe){return a.dxydj([],G,le,te,fe)},W=0;W<O;W++)ee[W]=D[W][j*N],re[W]=R[W][j*N];return J.axisLetter=M,J.axis=x,J.crossAxis=T,J.value=v[j],J.constvar=_,J.index=j,J.x=ee,J.y=re,J.smoothing=T.smoothing,J}if("array"===x.tickmode){for(i=5e-15,r=(n=[Math.floor((v.length-1-x.arraytick0)/x.arraydtick*(1+i)),Math.ceil(-x.arraytick0/x.arraydtick/(1+i))].sort(function(j,W){return j-W}))[0]-1,o=n[1]+1,u=r;u<o;u++)(s=x.arraytick0+x.arraydtick*u)<0||s>v.length-1||y.push(A($(s),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(u=r;u<o;u++)if(t=x.arraytick0+x.arraydtick*u,c=Math.min(t+x.arraydtick,v.length-1),!(t<0||t>v.length-1||c<0||c>v.length-1))for(b=v[t],p=v[c],d=0;d<x.minorgridcount;d++)(m=c-t)<=0||(h=b+(p-b)*(d+1)/(x.minorgridcount+1)*(x.arraydtick/m))<v[0]||h>v[v.length-1]||w.push(A(H(h),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&f.push(A($(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&f.push(A($(v.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(i=5e-15,r=(n=[Math.floor((v[v.length-1]-x.tick0)/x.dtick*(1+i)),Math.ceil((v[0]-x.tick0)/x.dtick/(1+i))].sort(function(j,W){return j-W}))[0],o=n[1],u=r;u<=o;u++)y.push(A(H(l=x.tick0+x.dtick*u),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(u=r-1;u<o+1;u++)for(l=x.tick0+x.dtick*u,d=0;d<x.minorgridcount;d++)(h=l+x.dtick*(d+1)/(x.minorgridcount+1))<v[0]||h>v[v.length-1]||w.push(A(H(h),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&f.push(A(H(v[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&f.push(A(H(v[v.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},14724:function(ie,z,e){"use strict";var S=e(54460),A=e(92880).extendFlat;ie.exports=function(a,M){var _,d,s,t=M._labels=[],i=M._gridlines;for(_=0;_<i.length;_++)s=i[_],-1!==["start","both"].indexOf(M.showticklabels)&&(d=S.tickText(M,s.value),A(d,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:0===_,isLast:_===i.length-1}),t.push(d)),-1!==["end","both"].indexOf(M.showticklabels)&&(d=S.tickText(M,s.value),A(d,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:0===_,isLast:_===i.length-1}),t.push(d))}},62284:function(ie){"use strict";ie.exports=function(z,e,S,A){var a=z[0]-e[0],M=z[1]-e[1],_=S[0]-e[0],d=S[1]-e[1],s=Math.pow(a*a+M*M,.25),t=Math.pow(_*_+d*d,.25),i=(t*t*a-s*s*_)*A,n=(t*t*M-s*s*d)*A,r=t*(s+t)*3,o=s*(s+t)*3;return[[e[0]+(r&&i/r),e[1]+(r&&n/r)],[e[0]-(o&&i/o),e[1]-(o&&n/o)]]}},60776:function(ie,z,e){"use strict";var S=e(3400).isArrayOrTypedArray;ie.exports=function(A,a,M){var _,d,s,t,i,n,r=[],o=S(A)?A.length:A,u=S(a)?a.length:a,l=S(A)?A:null,h=S(a)?a:null;l&&(s=(l.length-1)/(l[l.length-1]-l[0])/(o-1)),h&&(t=(h.length-1)/(h[h.length-1]-h[0])/(u-1));var c=1/0,b=-1/0;for(d=0;d<u;d++)for(r[d]=[],i=h?(h[d]-h[0])*t:d/(u-1),_=0;_<o;_++)n=(l?(l[_]-l[0])*s:_/(o-1))-i*M,c=Math.min(n,c),b=Math.max(n,b),r[d][_]=n;var p=1/(b-c),m=-c*p;for(d=0;d<u;d++)for(_=0;_<o;_++)r[d][_]=p*r[d][_]+m;return r}},30180:function(ie,z,e){"use strict";var S=e(62284),A=e(3400).ensureArray;function a(M,_,d){return[(2*(-.5*d[0]+1.5*_[0])+M[0])/3,(2*(-.5*d[1]+1.5*_[1])+M[1])/3]}ie.exports=function(M,_,d,s,t,i){var n,r,o,u,l,h,c,b,p,m,v=d[0].length,x=d.length,y=t?3*v-2:v,w=i?3*x-2:x;for(M=A(M,w),_=A(_,w),o=0;o<w;o++)M[o]=A(M[o],y),_[o]=A(_[o],y);for(r=0,u=0;r<x;r++,u+=i?3:1)for(l=M[u],h=_[u],c=d[r],b=s[r],n=0,o=0;n<v;n++,o+=t?3:1)l[o]=c[n],h[o]=b[n];if(t)for(r=0,u=0;r<x;r++,u+=i?3:1){for(n=1,o=3;n<v-1;n++,o+=3)p=S([d[r][n-1],s[r][n-1]],[d[r][n],s[r][n]],[d[r][n+1],s[r][n+1]],t),M[u][o-1]=p[0][0],_[u][o-1]=p[0][1],M[u][o+1]=p[1][0],_[u][o+1]=p[1][1];m=a([M[u][0],_[u][0]],[M[u][2],_[u][2]],[M[u][3],_[u][3]]),M[u][1]=m[0],_[u][1]=m[1],m=a([M[u][y-1],_[u][y-1]],[M[u][y-3],_[u][y-3]],[M[u][y-4],_[u][y-4]]),M[u][y-2]=m[0],_[u][y-2]=m[1]}if(i)for(o=0;o<y;o++){for(u=3;u<w-3;u+=3)p=S([M[u-3][o],_[u-3][o]],[M[u][o],_[u][o]],[M[u+3][o],_[u+3][o]],i),M[u-1][o]=p[0][0],_[u-1][o]=p[0][1],M[u+1][o]=p[1][0],_[u+1][o]=p[1][1];m=a([M[0][o],_[0][o]],[M[2][o],_[2][o]],[M[3][o],_[3][o]]),M[1][o]=m[0],_[1][o]=m[1],m=a([M[w-1][o],_[w-1][o]],[M[w-3][o],_[w-3][o]],[M[w-4][o],_[w-4][o]]),M[w-2][o]=m[0],_[w-2][o]=m[1]}if(t&&i)for(u=1;u<w;u+=(u+1)%3==0?2:1){for(o=3;o<y-3;o+=3)p=S([M[u][o-3],_[u][o-3]],[M[u][o],_[u][o]],[M[u][o+3],_[u][o+3]],t),M[u][o-1]=.5*(M[u][o-1]+p[0][0]),_[u][o-1]=.5*(_[u][o-1]+p[0][1]),M[u][o+1]=.5*(M[u][o+1]+p[1][0]),_[u][o+1]=.5*(_[u][o+1]+p[1][1]);m=a([M[u][0],_[u][0]],[M[u][2],_[u][2]],[M[u][3],_[u][3]]),M[u][1]=.5*(M[u][1]+m[0]),_[u][1]=.5*(_[u][1]+m[1]),m=a([M[u][y-1],_[u][y-1]],[M[u][y-3],_[u][y-3]],[M[u][y-4],_[u][y-4]]),M[u][y-2]=.5*(M[u][y-2]+m[0]),_[u][y-2]=.5*(_[u][y-2]+m[1])}return[M,_]}},24588:function(ie){"use strict";ie.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(ie){"use strict";ie.exports=function(z,e,S){return e&&S?function(A,a,M,_,d){var s,r,o;A||(A=[]),a*=3,M*=3;var u=_*_,l=1-_,h=l*l,c=l*_*2,b=-3*h,p=3*(h-c),m=3*(c-u),v=3*u,x=d*d,y=x*d,w=1-d,f=w*w,C=f*w;for(o=0;o<z.length;o++)s=b*(r=z[o])[M][a]+p*r[M][a+1]+m*r[M][a+2]+v*r[M][a+3],A[o]=C*s+3*(f*d*(b*r[M+1][a]+p*r[M+1][a+1]+m*r[M+1][a+2]+v*r[M+1][a+3])+w*x*(b*r[M+2][a]+p*r[M+2][a+1]+m*r[M+2][a+2]+v*r[M+2][a+3]))+y*(b*r[M+3][a]+p*r[M+3][a+1]+m*r[M+3][a+2]+v*r[M+3][a+3]);return A}:e?function(A,a,M,_,d){var s,i,n;A||(A=[]),a*=3;var r=_*_,o=1-_,u=o*o,l=o*_*2,h=-3*u,c=3*(u-l),b=3*(l-r),p=3*r,m=1-d;for(i=0;i<z.length;i++)s=h*(n=z[i])[M][a]+c*n[M][a+1]+b*n[M][a+2]+p*n[M][a+3],A[i]=m*s+d*(h*n[M+1][a]+c*n[M+1][a+1]+b*n[M+1][a+2]+p*n[M+1][a+3]);return A}:S?function(A,a,M,_,d){var s,r,o;A||(A=[]),M*=3;var u=d*d,l=u*d,h=1-d,c=h*h,b=c*h;for(r=0;r<z.length;r++)s=(o=z[r])[M][a+1]-o[M][a],A[r]=b*s+3*(c*d*(o[M+1][a+1]-o[M+1][a])+h*u*(o[M+2][a+1]-o[M+2][a]))+l*(o[M+3][a+1]-o[M+3][a]);return A}:function(A,a,M,_,d){var s,i,n;A||(A=[]);var r=1-d;for(i=0;i<z.length;i++)s=(n=z[i])[M][a+1]-n[M][a],A[i]=r*s+d*(n[M+1][a+1]-n[M+1][a]);return A}}},24464:function(ie){"use strict";ie.exports=function(z,e,S){return e&&S?function(A,a,M,_,d){var s,r,o;A||(A=[]),a*=3,M*=3;var u=_*_,l=u*_,h=1-_,c=h*h,b=c*h,p=d*d,m=1-d,v=m*m,x=m*d*2,y=-3*v,w=3*(v-x),f=3*(x-p),C=3*p;for(o=0;o<z.length;o++)s=y*(r=z[o])[M][a]+w*r[M+1][a]+f*r[M+2][a]+C*r[M+3][a],A[o]=b*s+3*(c*_*(y*r[M][a+1]+w*r[M+1][a+1]+f*r[M+2][a+1]+C*r[M+3][a+1])+h*u*(y*r[M][a+2]+w*r[M+1][a+2]+f*r[M+2][a+2]+C*r[M+3][a+2]))+l*(y*r[M][a+3]+w*r[M+1][a+3]+f*r[M+2][a+3]+C*r[M+3][a+3]);return A}:e?function(A,a,M,_,d){var s,r,o;A||(A=[]),a*=3;var u=d*d,l=u*d,h=1-d,c=h*h,b=c*h;for(r=0;r<z.length;r++)s=(o=z[r])[M+1][a]-o[M][a],A[r]=b*s+3*(c*d*(o[M+1][a+1]-o[M][a+1])+h*u*(o[M+1][a+2]-o[M][a+2]))+l*(o[M+1][a+3]-o[M][a+3]);return A}:S?function(A,a,M,_,d){var s,i,n;A||(A=[]),M*=3;var r=1-_,o=d*d,u=1-d,l=u*u,h=u*d*2,c=-3*l,b=3*(l-h),p=3*(h-o),m=3*o;for(i=0;i<z.length;i++)s=c*(n=z[i])[M][a]+b*n[M+1][a]+p*n[M+2][a]+m*n[M+3][a],A[i]=r*s+_*(c*n[M][a+1]+b*n[M+1][a+1]+p*n[M+2][a+1]+m*n[M+3][a+1]);return A}:function(A,a,M,_,d){var s,i,n;A||(A=[]);var r=1-_;for(i=0;i<z.length;i++)s=(n=z[i])[M+1][a]-n[M][a],A[i]=r*s+_*(n[M+1][a+1]-n[M][a+1]);return A}}},29056:function(ie){"use strict";ie.exports=function(z,e,S,A,a){var M=e-2,_=S-2;return A&&a?function(d,s,t){var i,u,l;d||(d=[]);var h=Math.max(0,Math.min(Math.floor(s),M)),c=Math.max(0,Math.min(Math.floor(t),_)),b=Math.max(0,Math.min(1,s-h)),p=Math.max(0,Math.min(1,t-c));h*=3,c*=3;var m=b*b,v=m*b,x=1-b,y=x*x,w=y*x,f=p*p,C=f*p,T=1-p,D=T*T,R=D*T;for(l=0;l<z.length;l++)i=w*(u=z[l])[c][h]+3*(y*b*u[c][h+1]+x*m*u[c][h+2])+v*u[c][h+3],d[l]=R*i+3*(D*p*(w*u[c+1][h]+3*(y*b*u[c+1][h+1]+x*m*u[c+1][h+2])+v*u[c+1][h+3])+T*f*(w*u[c+2][h]+3*(y*b*u[c+2][h+1]+x*m*u[c+2][h+2])+v*u[c+2][h+3]))+C*(w*u[c+3][h]+3*(y*b*u[c+3][h+1]+x*m*u[c+3][h+2])+v*u[c+3][h+3]);return d}:A?function(d,s,t){d||(d=[]);var i,u,l,h=Math.max(0,Math.min(Math.floor(s),M)),c=Math.max(0,Math.min(Math.floor(t),_)),b=Math.max(0,Math.min(1,s-h)),p=Math.max(0,Math.min(1,t-c));h*=3;var m=b*b,v=m*b,x=1-b,y=x*x,w=y*x,f=1-p;for(u=0;u<z.length;u++)i=f*(l=z[u])[c][h]+p*l[c+1][h],d[u]=w*i+3*(y*b*(f*l[c][h+1]+p*l[c+1][h+1])+x*m*(f*l[c][h+2]+p*l[c+1][h+1]))+v*(f*l[c][h+3]+p*l[c+1][h+1]);return d}:a?function(d,s,t){d||(d=[]);var i,u,l,h=Math.max(0,Math.min(Math.floor(s),M)),c=Math.max(0,Math.min(Math.floor(t),_)),b=Math.max(0,Math.min(1,s-h)),p=Math.max(0,Math.min(1,t-c));c*=3;var m=p*p,v=m*p,x=1-p,y=x*x,w=y*x,f=1-b;for(u=0;u<z.length;u++)i=f*(l=z[u])[c][h]+b*l[c][h+1],d[u]=w*i+3*(y*p*(f*l[c+1][h]+b*l[c+1][h+1])+x*m*(f*l[c+2][h]+b*l[c+2][h+1]))+v*(f*l[c+3][h]+b*l[c+3][h+1]);return d}:function(d,s,t){d||(d=[]);var i,r,o,u=Math.max(0,Math.min(Math.floor(s),M)),l=Math.max(0,Math.min(Math.floor(t),_)),h=Math.max(0,Math.min(1,s-u)),c=Math.max(0,Math.min(1,t-l)),b=1-c,p=1-h;for(r=0;r<z.length;r++)i=p*(o=z[r])[l][u]+h*o[l][u+1],d[r]=b*i+c*(p*o[l+1][u]+h*o[l+1][u+1]);return d}}},38356:function(ie,z,e){"use strict";var S=e(3400),A=e(86411),a=e(93504),M=e(85720),_=e(22548);ie.exports=function(d,s,t,i){function n(o,u){return S.coerce(d,s,M,o,u)}s._clipPathId="clip"+s.uid+"carpet";var r=n("color",_.defaultLine);S.coerceFont(n,"font",i.font),n("carpet"),a(d,s,i,n,r),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),A(d,s,n)||(s.visible=!1),s._cheater&&n("cheaterslope"),n("zorder")):s.visible=!1}},95856:function(ie,z,e){"use strict";ie.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(ie){"use strict";ie.exports=function(z,e){for(var S,A=z._fullData.length,a=0;a<A;a++){var M=z._fullData[a];if(M.index!==e.index&&"carpet"===M.type&&(S||(S=M),M.carpet===e.carpet))return M}return S}},53416:function(ie){"use strict";ie.exports=function(z,e,S){if(0===z.length)return"";var A,a=[],M=S?3:1;for(A=0;A<z.length;A+=M)a.push(z[A]+","+e[A]),S&&A<z.length-M&&(a.push("C"),a.push([z[A+1]+","+e[A+1],z[A+2]+","+e[A+2]+" "].join(" ")));return a.join(S?"":"L")}},87072:function(ie,z,e){"use strict";var S=e(3400).isArrayOrTypedArray;ie.exports=function(A,a,M){var _;for(S(A)?A.length>a.length&&(A=A.slice(0,a.length)):A=[],_=0;_<a.length;_++)A[_]=M(a[_]);return A}},15584:function(ie){"use strict";ie.exports=function(z,e,S,A,a,M){var _=a[0]*z.dpdx(e),d=a[1]*z.dpdy(S),s=1,t=1;if(M){var i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),n=Math.sqrt(M[0]*M[0]+M[1]*M[1]);t=Math.max(0,(a[0]*M[0]+a[1]*M[1])/i/n)}var o=180*Math.atan2(d,_)/Math.PI;return o<-90?(o+=180,s=-s):o>90&&(o-=180,s=-s),{angle:o,flip:s,p:z.c2p(A,e,S),offsetMultplier:t}}},164:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(87072),M=e(53416),_=e(15584),d=e(72736),s=e(3400),t=s.strRotate,i=s.strTranslate,n=e(84284);function r(c,b,p,m,v,x,y){var w="const-"+v+"-lines",f=p.selectAll("."+w).data(x);f.enter().append("path").classed(w,!0).style("vector-effect",y?"none":"non-scaling-stroke"),f.each(function(C){var T=C,R=T.y,P=a([],T.x,c.c2p),O=a([],R,b.c2p),B="M"+M(P,O,T.smoothing);S.select(this).attr("d",B).style("stroke-width",T.width).style("stroke",T.color).style("stroke-dasharray",A.dashStyle(T.dash,T.width)).style("fill","none")}),f.exit().remove()}function o(c,b,p,m,v,x,y,w){var f=x.selectAll("text."+w).data(y);f.enter().append("text").classed(w,!0);var C=0,T={};return f.each(function(D,R){var P;if("auto"===D.axis.tickangle)P=_(m,b,p,D.xy,D.dxy);else{var O=(D.axis.tickangle+180)*Math.PI/180;P=_(m,b,p,D.xy,[Math.cos(O),Math.sin(O)])}R||(T={angle:P.angle,flip:P.flip});var B=(D.endAnchor?-1:1)*P.flip,q=S.select(this).attr({"text-anchor":B>0?"start":"end","data-notex":1}).call(A.font,D.font).text(D.text).call(d.convertToTspans,c),N=A.bBox(this);q.attr("transform",i(P.p[0],P.p[1])+t(P.angle)+i(D.axis.labelpadding*B,.3*N.height)),C=Math.max(C,N.width+D.axis.labelpadding)}),f.exit().remove(),T.maxExtent=C,T}ie.exports=function(c,b,p,m){var v=c._context.staticPlot,x=b.xaxis,y=b.yaxis,w=c._fullLayout._clips;s.makeTraceGroups(m,p,"trace").each(function(f){var C=S.select(this),T=f[0],D=T.trace,R=D.aaxis,P=D.baxis,O=s.ensureSingle(C,"g","minorlayer"),B=s.ensureSingle(C,"g","majorlayer"),q=s.ensureSingle(C,"g","boundarylayer"),N=s.ensureSingle(C,"g","labellayer");C.style("opacity",D.opacity),r(x,y,B,0,"a",R._gridlines,!0),r(x,y,B,0,"b",P._gridlines,!0),r(x,y,O,0,"a",R._minorgridlines,!0),r(x,y,O,0,"b",P._minorgridlines,!0),r(x,y,q,0,"a-boundary",R._boundarylines,v),r(x,y,q,0,"b-boundary",P._boundarylines,v);var j,W,G,te,Q,ee,re,J,le,fe,ce,ge,Te,Me,we,H=o(c,x,y,D,0,N,R._labels,"a-label"),$=o(c,x,y,D,0,N,P._labels,"b-label");j=c,W=N,G=D,te=x,Q=y,ee=H,re=$,ge=s.aggNums(Math.min,null,G.a),Te=s.aggNums(Math.max,null,G.a),Me=s.aggNums(Math.min,null,G.b),we=s.aggNums(Math.max,null,G.b),fe=G.ab2xy(J=.5*(ge+Te),le=Me,!0),ce=G.dxyda_rough(J,le),void 0===ee.angle&&s.extendFlat(ee,_(G,te,Q,fe,G.dxydb_rough(J,le))),h(j,W,G,0,fe,ce,G.aaxis,te,Q,ee,"a-title"),fe=G.ab2xy(J=ge,le=.5*(Me+we),!0),ce=G.dxydb_rough(J,le),void 0===re.angle&&s.extendFlat(re,_(G,te,Q,fe,G.dxyda_rough(J,le))),h(j,W,G,0,fe,ce,G.baxis,te,Q,re,"b-title"),function(j,W,G,ae,te){var Q,ee,re,J,le=G.select("#"+j._clipPathId);le.size()||(le=G.append("clipPath").classed("carpetclip",!0));var fe=s.ensureSingle(le,"path","carpetboundary"),ce=W.clipsegments,ge=[];for(J=0;J<ce.length;J++)ee=a([],(Q=ce[J]).x,ae.c2p),re=a([],Q.y,te.c2p),ge.push(M(ee,re,Q.bicubic));var Te="M"+ge.join("L")+"Z";le.attr("id",j._clipPathId),fe.attr("d",Te)}(D,T,w,x,y)})};var u=n.LINE_SPACING,l=(1-n.MID_SHIFT)/u+1;function h(c,b,p,m,v,x,y,w,f,C,T){var D=[];y.title.text&&D.push(y.title.text);var R=b.selectAll("text."+T).data(D),P=C.maxExtent;R.enter().append("text").classed(T,!0),R.each(function(){var O=_(p,w,f,v,x);-1===["start","both"].indexOf(y.showticklabels)&&(P=0);var B=y.title.font.size;P+=B+y.title.offset;var q=(C.angle+(C.flip<0?180:0)-O.angle+450)%360,N=q>90&&q<270,H=S.select(this);H.text(y.title.text).call(d.convertToTspans,c),N&&(P=(-d.lineCount(H)+l)*u*B-P),H.attr("transform",i(O.p[0],O.p[1])+t(O.angle)+i(0,P)).attr("text-anchor","middle").call(A.font,y.title.font)}),R.exit().remove()}},81e3:function(ie,z,e){"use strict";var S=e(24588),A=e(14952).findBin,a=e(30180),M=e(29056),_=e(26435),d=e(24464);ie.exports=function(s){var t=s._a,i=s._b,n=t.length,r=i.length,o=s.aaxis,u=s.baxis,l=t[0],h=t[n-1],c=i[0],b=i[r-1],p=t[t.length-1]-t[0],m=i[i.length-1]-i[0],v=p*S.RELATIVE_CULL_TOLERANCE,x=m*S.RELATIVE_CULL_TOLERANCE;l-=v,h+=v,c-=x,b+=x,s.isVisible=function(y,w){return y>l&&y<h&&w>c&&w<b},s.isOccluded=function(y,w){return y<l||y>h||w<c||w>b},s.setScale=function(){var f=a(s._xctrl,s._yctrl,s._x,s._y,o.smoothing,u.smoothing);s._xctrl=f[0],s._yctrl=f[1],s.evalxy=M([s._xctrl,s._yctrl],n,r,o.smoothing,u.smoothing),s.dxydi=_([s._xctrl,s._yctrl],o.smoothing,u.smoothing),s.dxydj=d([s._xctrl,s._yctrl],o.smoothing,u.smoothing)},s.i2a=function(y){var w=Math.max(0,Math.floor(y[0]),n-2),f=y[0]-w;return(1-f)*t[w]+f*t[w+1]},s.j2b=function(y){var w=Math.max(0,Math.floor(y[1]),n-2),f=y[1]-w;return(1-f)*i[w]+f*i[w+1]},s.ij2ab=function(y){return[s.i2a(y[0]),s.j2b(y[1])]},s.a2i=function(y){var w=Math.max(0,Math.min(A(y,t),n-2)),f=t[w];return Math.max(0,Math.min(n-1,w+(y-f)/(t[w+1]-f)))},s.b2j=function(y){var w=Math.max(0,Math.min(A(y,i),r-2)),f=i[w];return Math.max(0,Math.min(r-1,w+(y-f)/(i[w+1]-f)))},s.ab2ij=function(y){return[s.a2i(y[0]),s.b2j(y[1])]},s.i2c=function(y,w){return s.evalxy([],y,w)},s.ab2xy=function(y,w,f){if(!f&&(y<t[0]||y>t[n-1]|w<i[0]||w>i[r-1]))return[!1,!1];var C=s.a2i(y),T=s.b2j(w),D=s.evalxy([],C,T);if(f){var R,P,O,B,q=0,N=0,H=[];y<t[0]?(R=0,P=0,q=(y-t[0])/(t[1]-t[0])):y>t[n-1]?(R=n-2,P=1,q=(y-t[n-1])/(t[n-1]-t[n-2])):P=C-(R=Math.max(0,Math.min(n-2,Math.floor(C)))),w<i[0]?(O=0,B=0,N=(w-i[0])/(i[1]-i[0])):w>i[r-1]?(O=r-2,B=1,N=(w-i[r-1])/(i[r-1]-i[r-2])):B=T-(O=Math.max(0,Math.min(r-2,Math.floor(T)))),q&&(s.dxydi(H,R,O,P,B),D[0]+=H[0]*q,D[1]+=H[1]*q),N&&(s.dxydj(H,R,O,P,B),D[0]+=H[0]*N,D[1]+=H[1]*N)}return D},s.c2p=function(y,w,f){return[w.c2p(y[0]),f.c2p(y[1])]},s.p2x=function(y,w,f){return[w.p2c(y[0]),f.p2c(y[1])]},s.dadi=function(y){var w=Math.max(0,Math.min(t.length-2,y));return t[w+1]-t[w]},s.dbdj=function(y){var w=Math.max(0,Math.min(i.length-2,y));return i[w+1]-i[w]},s.dxyda=function(y,w,f,C){var T=s.dxydi(null,y,w,f,C),D=s.dadi(y,f);return[T[0]/D,T[1]/D]},s.dxydb=function(y,w,f,C){var T=s.dxydj(null,y,w,f,C),D=s.dbdj(w,C);return[T[0]/D,T[1]/D]},s.dxyda_rough=function(y,w,f){var C=p*(f||.1),T=s.ab2xy(y+C,w,!0),D=s.ab2xy(y-C,w,!0);return[.5*(T[0]-D[0])/C,.5*(T[1]-D[1])/C]},s.dxydb_rough=function(y,w,f){var C=m*(f||.1),T=s.ab2xy(y,w+C,!0),D=s.ab2xy(y,w-C,!0);return[.5*(T[0]-D[0])/C,.5*(T[1]-D[1])/C]},s.dpdx=function(y){return y._m},s.dpdy=function(y){return y._m}}},51512:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a,M){var _,d,s,t=[],i=[],n=A[0].length,r=A.length;var u,l,h,c,b,p,m,v,x,y,j,W,G,ae,te,f=0;for(_=0;_<n;_++)for(d=0;d<r;d++)void 0===A[d][_]&&(t.push(_),i.push(d),A[d][_]=(W=d,G=void 0,ae=void 0,te=void 0,ae=0,te=0,(j=_)>0&&void 0!==(G=A[W][j-1])&&(te++,ae+=G),j<n-1&&void 0!==(G=A[W][j+1])&&(te++,ae+=G),W>0&&void 0!==(G=A[W-1][j])&&(te++,ae+=G),W<r-1&&void 0!==(G=A[W+1][j])&&(te++,ae+=G),ae/Math.max(1,te))),f=Math.max(f,Math.abs(A[d][_]));if(!t.length)return A;var C=0,T=0,D=t.length;do{for(C=0,s=0;s<D;s++){d=i[s];var P,O,B,q,N,H=0,$=0;0===(_=t[s])?(O=a[q=Math.min(n-1,2)],$+=(P=A[d][1])+(P-A[d][q])*(a[0]-(B=a[1]))/(B-O),H++):_===n-1&&(O=a[q=Math.max(0,n-3)],$+=(P=A[d][n-2])+(P-A[d][q])*(a[n-1]-(B=a[n-2]))/(B-O),H++),(0===_||_===n-1)&&d>0&&d<r-1&&($+=((l=M[d]-M[d-1])*A[d+1][_]+(u=M[d+1]-M[d])*A[d-1][_])/(l+u),H++),0===d?(O=M[N=Math.min(r-1,2)],$+=(P=A[1][_])+(P-A[N][_])*(M[0]-(B=M[1]))/(B-O),H++):d===r-1&&(O=M[N=Math.max(0,r-3)],$+=(P=A[r-2][_])+(P-A[N][_])*(M[r-1]-(B=M[r-2]))/(B-O),H++),(0===d||d===r-1)&&_>0&&_<n-1&&($+=((l=a[_]-a[_-1])*A[d][_+1]+(u=a[_+1]-a[_])*A[d][_-1])/(l+u),H++),H?$/=H:(v=(b=M[d+1]-M[d])*(p=M[d]-M[d-1])*(b+p),$=((m=(h=a[_+1]-a[_])*(c=a[_]-a[_-1])*(h+c))*(p*A[d+1][_]+b*A[d-1][_])+v*(c*A[d][_+1]+h*A[d][_-1]))/(v*(c+h)+m*(p+b))),C+=(y=(x=$-A[d][_])/f)*y,A[d][_]+=x*(1+(H?0:.85))}C=Math.sqrt(C)}while(T++<100&&C>1e-5);return S.log("Smoother converged to",C,"after",T,"iterations"),A}},86411:function(ie,z,e){"use strict";var S=e(3400).isArray1D;ie.exports=function(A,a,M){var _=M("x"),d=_&&_.length,s=M("y"),t=s&&s.length;if(!d&&!t)return!1;if(a._cheater=!_,d&&!S(_)||t&&!S(s))a._length=null;else{var i=d?_.length:1/0;t&&(i=Math.min(i,s.length)),a.a&&a.a.length&&(i=Math.min(i,a.a.length)),a.b&&a.b.length&&(i=Math.min(i,a.b.length)),a._length=i}return!0}},83372:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(6096),a=e(49084),M=e(45464),_=e(22548).defaultLine,d=e(92880).extendFlat,s=A.marker.line;ie.exports=d({locations:{valType:"data_array",editType:"calc"},locationmode:A.locationmode,z:{valType:"data_array",editType:"calc"},geojson:d({},A.geojson,{}),featureidkey:A.featureidkey,text:d({},A.text,{}),hovertext:d({},A.hovertext,{}),marker:{line:{color:d({},s.color,{dflt:_}),width:d({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:A.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:A.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:d({},M.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:S(),showlegend:d({},M.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(ie,z,e){"use strict";var S=e(38248),A=e(39032).BADNUM,a=e(47128),M=e(20148),_=e(4500);function d(s){return s&&"string"==typeof s}ie.exports=function(s,t){var i,n=t._length,r=new Array(n);i=t.geojson?function(c){return d(c)||S(c)}:d;for(var o=0;o<n;o++){var u=r[o]={},l=t.locations[o],h=t.z[o];i(l)&&S(h)?(u.loc=l,u.z=h):(u.loc=null,u.z=A),u.index=o}return M(r,t),a(s,t,{vals:t.z,containerStr:"",cLetter:"z"}),_(r,t),r}},30972:function(ie,z,e){"use strict";var S=e(3400),A=e(27260),a=e(83372);ie.exports=function(M,_,d,s){function t(u,l){return S.coerce(M,_,a,u,l)}var i=t("locations"),n=t("z");if(i&&i.length&&S.isArrayOrTypedArray(n)&&n.length){_._length=Math.min(i.length,n.length);var r,o=t("geojson");("string"==typeof o&&""!==o||S.isPlainObject(o))&&(r="geojson-id"),"geojson-id"===t("locationmode",r)&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),A(M,_,s,t,{prefix:"",cLetter:"z"}),S.coerceSelectionMarkerOpacity(_,t)}else _.visible=!1}},52428:function(ie){"use strict";ie.exports=function(z,e,S,A,a){z.location=e.location,z.z=e.z;var M=A[a];return M.fIn&&M.fIn.properties&&(z.properties=M.fIn.properties),z.ct=M.ct,z}},69224:function(ie,z,e){"use strict";var S=e(54460),A=e(83372),a=e(3400).fillText;ie.exports=function(M,_,d){var s,t,i,n,r=M.cd,o=r[0].trace,u=M.subplot,l=[_,d],h=[_+360,d];for(t=0;t<r.length;t++)if(n=!1,(s=r[t])._polygons){for(i=0;i<s._polygons.length;i++)s._polygons[i].contains(l)&&(n=!n),s._polygons[i].contains(h)&&(n=!n);if(n)break}if(n&&s)return M.x0=M.x1=M.xa.c2p(s.ct),M.y0=M.y1=M.ya.c2p(s.ct),M.index=s.index,M.location=s.loc,M.z=s.z,M.zLabel=S.tickText(u.mockAxis,u.mockAxis.c2l(s.z),"hover").text,M.hovertemplate=s.hovertemplate,function(c,b,p){if(!b.hovertemplate){var m=p.hi||b.hoverinfo,v=String(p.loc),x="all"===m?A.hoverinfo.flags:m.split("+"),y=-1!==x.indexOf("name"),w=-1!==x.indexOf("location"),f=-1!==x.indexOf("z"),C=-1!==x.indexOf("text"),T=[];!y&&w?c.nameOverride=v:(y&&(c.nameOverride=b.name),w&&T.push(v)),f&&T.push(c.zLabel),C&&a(p,b,T),c.extraText=T.join("<br>")}}(M,o,s),[M]}},54272:function(ie,z,e){"use strict";ie.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(27144),M=e(59972).getTopojsonFeatures,_=e(19280).findExtremes,d=e(7947).style;ie.exports={calcGeoJSON:function(s,t){for(var i=s[0].trace,n=t[i.geo],r=n._subplot,o=i.locationmode,u=i._length,l="geojson-id"===o?a.extractTraceFeature(s):M(i,r.topojson),h=[],c=[],b=0;b<u;b++){var p=s[b],m="geojson-id"===o?p.fOut:a.locationToFeature(o,p.loc,l);if(m){p.geojson=m,p.ct=m.properties.ct,p._polygons=a.feature2polygons(m);var v=a.computeBbox(m);h.push(v[0],v[2]),c.push(v[1],v[3])}else p.geojson=null}if("geojson"===n.fitbounds&&"geojson-id"===o){var x=a.computeBbox(a.getTraceGeojson(i));h=[x[0],x[2]],c=[x[1],x[3]]}var y={padded:!0};i._extremes.lon=_(n.lonaxis._ax,h,y),i._extremes.lat=_(n.lataxis._ax,c,y)},plot:function(s,t,i){var n=t.layers.backplot.select(".choroplethlayer");A.makeTraceGroups(n,i,"trace choropleth").each(function(r){var o=S.select(this).selectAll("path.choroplethlocation").data(A.identity);o.enter().append("path").classed("choroplethlocation",!0),o.exit().remove(),d(s,r)})}}},17328:function(ie){"use strict";ie.exports=function(z,e){var S,A,a,M,_,d=z.cd,s=z.xaxis,t=z.yaxis,i=[];if(!1===e)for(S=0;S<d.length;S++)d[S].selected=0;else for(S=0;S<d.length;S++)(a=(A=d[S]).ct)&&(M=s.c2p(a),_=t.c2p(a),e.contains([M,_],null,S,z)?(i.push({pointNumber:S,lon:a[0],lat:a[1]}),A.selected=1):A.selected=0);return i}},7947:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(43616),M=e(8932);function _(d,s){var t=s[0].trace,i=s[0].node3.selectAll(".choroplethlocation"),n=t.marker||{},r=n.line||{},o=M.makeColorScaleFuncFromTrace(t);i.each(function(u){S.select(this).attr("fill",o(u.z)).call(A.stroke,u.mlc||r.color).call(a.dashLine,"",u.mlw||r.width||0).style("opacity",n.opacity)}),a.selectedPointStyle(i,t)}ie.exports={style:function(d,s){s&&_(0,s)},styleOnSelect:function(d,s){var i=s[0].trace;i.selectedpoints?a.selectedPointStyle(s[0].node3.selectAll(".choroplethlocation"),i):_(0,s)}}},45608:function(ie,z,e){"use strict";var S=e(83372),A=e(49084),a=e(21776).Ks,M=e(45464),_=e(92880).extendFlat;ie.exports=_({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:_({},S.featureidkey,{}),below:{valType:"string",editType:"plot"},text:S.text,hovertext:S.hovertext,marker:{line:{color:_({},S.marker.line.color,{editType:"plot"}),width:_({},S.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:_({},S.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:_({},S.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:_({},S.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:S.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:_({},M.showlegend,{dflt:!1})},A("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(8932),M=e(43616),_=e(44808).makeBlank,d=e(27144);function s(t){var i,n=t[0].trace,r=n._opts;if(n.selectedpoints){for(var o=M.makeSelectedPointStyleFns(n),u=0;u<t.length;u++){var l=t[u];l.fOut&&(l.fOut.properties.mo2=o.selectedOpacityFn(l))}i={type:"identity",property:"mo2"}}else i=A.isArrayOrTypedArray(n.marker.opacity)?{type:"identity",property:"mo"}:n.marker.opacity;return A.extendFlat(r.fill.paint,{"fill-opacity":i}),A.extendFlat(r.line.paint,{"line-opacity":i}),r}ie.exports={convert:function(t){var i=t[0].trace,n=!0===i.visible&&0!==i._length,r={layout:{visibility:"none"},paint:{}},o={layout:{visibility:"none"},paint:{}},u=i._opts={fill:r,line:o,geojson:_()};if(!n)return u;var l=d.extractTraceFeature(t);if(!l)return u;var h,c,b,p=a.makeColorScaleFuncFromTrace(i),m=i.marker,v=m.line||{};A.isArrayOrTypedArray(m.opacity)&&(h=function(T){var D=T.mo;return S(D)?+A.constrain(D,0,1):0}),A.isArrayOrTypedArray(v.color)&&(c=function(T){return T.mlc}),A.isArrayOrTypedArray(v.width)&&(b=function(T){return T.mlw});for(var x=0;x<t.length;x++){var y=t[x],w=y.fOut;if(w){var f=w.properties;f.fc=p(y.z),h&&(f.mo=h(y)),c&&(f.mlc=c(y)),b&&(f.mlw=b(y)),y.ct=f.ct,y._polygons=d.feature2polygons(w)}}var C=h?{type:"identity",property:"mo"}:m.opacity;return A.extendFlat(r.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":C}),A.extendFlat(o.paint,{"line-color":c?{type:"identity",property:"mlc"}:v.color,"line-width":b?{type:"identity",property:"mlw"}:v.width,"line-opacity":C}),r.layout.visibility="visible",o.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:l},s(t),u},convertOnSelect:s}},9352:function(ie,z,e){"use strict";var S=e(3400),A=e(27260),a=e(45608);ie.exports=function(M,_,d,s){function t(o,u){return S.coerce(M,_,a,o,u)}var i=t("locations"),n=t("z"),r=t("geojson");S.isArrayOrTypedArray(i)&&i.length&&S.isArrayOrTypedArray(n)&&n.length&&("string"==typeof r&&""!==r||S.isPlainObject(r))?(t("featureidkey"),_._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),A(M,_,s,t,{prefix:"",cLetter:"z"}),S.coerceSelectionMarkerOpacity(_,t)):_.visible=!1}},85404:function(ie,z,e){"use strict";ie.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(S,A){A&&A[0].trace._glTrace.updateOnSelect(A)},getBelow:function(S,A){for(var a=A.getMapLayers(),M=a.length-2;M>=0;M--){var _=a[M].id;if("string"==typeof _&&0===_.indexOf("water"))for(var d=M+1;d<a.length;d++)if("string"==typeof(_=a[d].id)&&-1===_.indexOf("plotly-"))return _}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(ie,z,e){"use strict";var S=e(13504).convert,A=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function M(d,s){this.type="choroplethmapbox",this.subplot=d,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",a+s+"-fill"],["line",a+s+"-line"]],this.below=null}var _=M.prototype;_.update=function(d){this._update(S(d)),d[0].trace._glTrace=this},_.updateOnSelect=function(d){this._update(A(d))},_._update=function(d){var s=this.subplot,t=this.layerList,i=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(d.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(d,i),this.below=i);for(var n=0;n<t.length;n++){var r=t[n],u=r[1],l=d[r[0]];s.setOptions(u,"setLayoutProperty",l.layout),"visible"===l.layout.visibility&&s.setOptions(u,"setPaintProperty",l.paint)}},_._addLayers=function(d,s){for(var t=this.subplot,i=this.layerList,n=this.sourceId,r=0;r<i.length;r++){var o=i[r],u=o[0],l=d[u];t.addLayer({type:u,id:o[1],source:n,layout:l.layout,paint:l.paint},s)}},_._removeLayers=function(){for(var d=this.subplot.map,s=this.layerList,t=s.length-1;t>=0;t--)d.removeLayer(s[t][1])},_.dispose=function(){var d=this.subplot.map;this._removeLayers(),d.removeSource(this.sourceId)},ie.exports=function(d,s){var t=s[0].trace,i=new M(d,t.uid),n=i.sourceId,r=S(s),o=i.below=d.belowLookup["trace-"+t.uid];return d.map.addSource(n,{type:"geojson",data:r.geojson}),i._addLayers(r,o),s[0].trace._glTrace=i,i}},86040:function(ie,z,e){"use strict";var S=e(49084),A=e(29736).axisHoverFormat,a=e(21776).Ks,M=e(52948),_=e(45464),d=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:A("u",1),vhoverformat:A("v",1),whoverformat:A("w",1),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),showlegend:d({},_.showlegend,{dflt:!1})};d(s,S("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=M[t]}),s.hoverinfo=d({},_.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,ie.exports=s},83344:function(ie,z,e){"use strict";var S=e(47128);ie.exports=function(A,a){for(var M=a.u,_=a.v,d=a.w,s=Math.min(a.x.length,a.y.length,a.z.length,M.length,_.length,d.length),t=-1/0,i=1/0,n=0;n<s;n++){var r=M[n],o=_[n],u=d[n],l=Math.sqrt(r*r+o*o+u*u);t=Math.max(t,l),i=Math.min(i,l)}a._len=s,a._normMax=t,S(A,a,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(ie,z,e){"use strict";var S=e(67792).gl_cone3d,A=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,M=e(33040).parseColorScale,_=e(8932).extractOpts,d=e(3400).isArrayOrTypedArray,s=e(52094);function t(l,h){this.scene=l,this.uid=h,this.mesh=null,this.data=null}var i=t.prototype;i.handlePick=function(l){if(l.object===this.mesh){var h=l.index=l.data.index,m=this.data.u[h],v=this.data.v[h],x=this.data.w[h];l.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h],m,v,x,Math.sqrt(m*m+v*v+x*x)];var y=this.data.hovertext||this.data.text;return d(y)&&void 0!==y[h]?l.textLabel=y[h]:y&&(l.textLabel=y),!0}};var n={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function u(l,h){var c=l.fullSceneLayout,b=l.dataScale,p={};function m(f,C){var T=c[C],D=b[n[C]];return a(f,function(R){return T.d2l(R)*D})}p.vectors=s(m(h.u,"xaxis"),m(h.v,"yaxis"),m(h.w,"zaxis"),h._len),p.positions=s(m(h.x,"xaxis"),m(h.y,"yaxis"),m(h.z,"zaxis"),h._len);var v=_(h);p.colormap=M(h),p.vertexIntensityBounds=[v.min/h._normMax,v.max/h._normMax],p.coneOffset=r[h.anchor];var x=h.sizemode;"scaled"===x?p.coneSize=h.sizeref||.5:"absolute"===x?p.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:"raw"===x&&(p.coneSize=h.sizeref),p.coneSizemode=x;var y=S(p),w=h.lightposition;return y.lightPosition=[w.x,w.y,w.z],y.ambient=h.lighting.ambient,y.diffuse=h.lighting.diffuse,y.specular=h.lighting.specular,y.roughness=h.lighting.roughness,y.fresnel=h.lighting.fresnel,y.opacity=h.opacity,h._pad=o[h.anchor]*y.vectorScale*y.coneScale*h._normMax,y}i.update=function(l){this.data=l;var h=u(this.scene,l);this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(l,h){var c=l.glplot.gl,b=u(l,h),p=A(c,b),m=new t(l,h.uid);return m.mesh=p,m.data=h,p._trace=m,l.glplot.add(p),m}},86096:function(ie,z,e){"use strict";var S=e(3400),A=e(27260),a=e(86040);ie.exports=function(M,_,d,s){function t(c,b){return S.coerce(M,_,a,c,b)}var i=t("u"),n=t("v"),r=t("w"),o=t("x"),u=t("y"),l=t("z");if(i&&i.length&&n&&n.length&&r&&r.length&&o&&o.length&&u&&u.length&&l&&l.length){var h=t("sizemode");t("sizeref","raw"===h?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),A(M,_,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),_._length=null}else _.visible=!1}},26048:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(S,A){return S.norm=A.traceCoordinate[6],S},meta:{}}},67104:function(ie,z,e){"use strict";var S=e(83328),A=e(52904),a=e(29736),M=a.axisHoverFormat,_=a.descriptionOnlyNumbers,d=e(49084),s=e(98192).u,t=e(25376),i=e(92880).extendFlat,n=e(69104),r=n.COMPARISON_OPS2,o=n.INTERVAL_OPS,u=A.line;ie.exports=i({z:S.z,x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,text:S.text,hovertext:S.hovertext,transpose:S.transpose,xtype:S.xtype,ytype:S.ytype,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:S.hovertemplate,texttemplate:i({},S.texttemplate,{}),textfont:i({},S.textfont,{}),hoverongaps:S.hoverongaps,connectgaps:i({},S.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:_("contour label")},operation:{valType:"enumerated",values:[].concat(r).concat(o),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:i({},u.smoothing,{}),editType:"plot"},zorder:A.zorder},d("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(ie,z,e){"use strict";var S=e(8932),A=e(19512),a=e(54444),M=e(46960);ie.exports=function(_,d){var s=A(_,d),t=s[0].z;a(d,t);var i,n=d.contours,r=S.extractOpts(d);if("heatmap"===n.coloring&&r.auto&&!1===d.autocontour){var o=n.start,u=M(n),l=n.size||1,h=Math.floor((u-o)/l)+1;isFinite(l)||(l=1,h=1);var c=o-l/2;i=[c,c+h*l]}else i=t;return S.calc(_,d,{vals:i,cLetter:"z"}),s}},56008:function(ie){"use strict";ie.exports=function(z,e){var S,A=z[0],a=A.z;switch(e.type){case"levels":var M=Math.min(a[0][0],a[0][1]);for(S=0;S<z.length;S++){var _=z[S];_.prefixBoundary=!_.edgepaths.length&&(M>_.level||_.starts.length&&M===_.level)}break;case"constraint":if(A.prefixBoundary=!1,A.edgepaths.length)return;var d=A.x.length,s=A.y.length,t=-1/0,i=1/0;for(S=0;S<s;S++)i=Math.min(i,a[S][0]),i=Math.min(i,a[S][d-1]),t=Math.max(t,a[S][0]),t=Math.max(t,a[S][d-1]);for(S=1;S<d-1;S++)i=Math.min(i,a[0][S]),i=Math.min(i,a[s-1][S]),t=Math.max(t,a[0][S]),t=Math.max(t,a[s-1][S]);var n,r,o=e.value;switch(e._operation){case">":o>t&&(A.prefixBoundary=!0);break;case"<":(o<i||A.starts.length&&o===i)&&(A.prefixBoundary=!0);break;case"[]":n=Math.min(o[0],o[1]),((r=Math.max(o[0],o[1]))<i||n>t||A.starts.length&&r===i)&&(A.prefixBoundary=!0);break;case"][":n=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]),n<i&&r>t&&(A.prefixBoundary=!0)}}}},55296:function(ie,z,e){"use strict";var S=e(8932),A=e(41076),a=e(46960);ie.exports={min:"zmin",max:"zmax",calc:function(M,_,d){var s=_.contours,t=_.line,i=s.size||1,n=s.coloring,r=A(_,{isColorbar:!0});if("heatmap"===n){var o=S.extractOpts(_);d._fillgradient=o.reversescale?S.flipScale(o.colorscale):o.colorscale,d._zrange=[o.min,o.max]}else"fill"===n&&(d._fillcolor=r);d._line={color:"lines"===n?r:t.color,width:!1!==s.showlines?t.width:0,dash:t.dash},d._levels={start:s.start,end:a(s),size:i}}}},93252:function(ie){"use strict";ie.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(ie,z,e){"use strict";var S=e(38248),A=e(17428),a=e(76308),M=a.addOpacity,_=a.opacity,d=e(69104),s=e(3400).isArrayOrTypedArray,t=d.CONSTRAINT_REDUCTION,i=d.COMPARISON_OPS2;ie.exports=function(n,r,o,u,l,h){var c,b,p,x,y,w,m=r.contours,v=o("contours.operation");m._operation=t[v],x=o,-1===i.indexOf((y=m).operation)?(x("contours.value",[0,1]),s(y.value)?y.value.length>2?y.value=y.value.slice(2):0===y.length?y.value=[0,1]:y.length<2?(w=parseFloat(y.value[0]),y.value=[w,w+1]):y.value=[parseFloat(y.value[0]),parseFloat(y.value[1])]:S(y.value)&&(w=parseFloat(y.value),y.value=[w,w+1])):(x("contours.value",0),S(y.value)||(y.value=s(y.value)?parseFloat(y.value[0]):0)),"="===v?c=m.showlines=!0:(c=o("contours.showlines"),p=o("fillcolor",M((n.line||{}).color||l,.5))),c&&(b=o("line.color",p&&_(p)?M(r.fillcolor,1):l),o("line.width",2),o("line.dash")),o("line.smoothing"),A(o,u,b,h)}},3212:function(ie,z,e){"use strict";var S=e(69104),A=e(38248);function a(d,s){var t,i=Array.isArray(s);function n(r){return A(r)?+r:null}return-1!==S.COMPARISON_OPS2.indexOf(d)?t=n(i?s[0]:s):-1!==S.INTERVAL_OPS.indexOf(d)?t=i?[n(s[0]),n(s[1])]:[n(s),n(s)]:-1!==S.SET_OPS.indexOf(d)&&(t=i?s.map(n):[n(s)]),t}function M(d){return function(s){s=a(d,s);var t=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return{start:t,end:i,size:i-t}}}function _(d){return function(s){return{start:s=a(d,s),end:1/0,size:1/0}}}ie.exports={"[]":M("[]"),"][":M("]["),">":_(">"),"<":_("<"),"=":_("=")}},84952:function(ie){"use strict";ie.exports=function(z,e,S,A){var a=A("contours.start"),M=A("contours.end"),_=!1===a||!1===M,d=S("contours.size");!(_?e.autocontour=!0:S("autocontour",!1))&&d||S("ncontours")}},82172:function(ie,z,e){"use strict";var S=e(3400);function A(a){return S.extendFlat({},a,{edgepaths:S.extendDeep([],a.edgepaths),paths:S.extendDeep([],a.paths),starts:S.extendDeep([],a.starts)})}ie.exports=function(a,M){var _,d,s,t=function(r){return r.reverse()},i=function(r){return r};switch(M){case"=":case"<":return a;case">":for(1!==a.length&&S.warn("Contour data invalid for the specified inequality operation."),d=a[0],_=0;_<d.edgepaths.length;_++)d.edgepaths[_]=t(d.edgepaths[_]);for(_=0;_<d.paths.length;_++)d.paths[_]=t(d.paths[_]);for(_=0;_<d.starts.length;_++)d.starts[_]=t(d.starts[_]);return a;case"][":var n=t;t=i,i=n;case"[]":for(2!==a.length&&S.warn("Contour data invalid for the specified inequality range operation."),d=A(a[0]),s=A(a[1]),_=0;_<d.edgepaths.length;_++)d.edgepaths[_]=t(d.edgepaths[_]);for(_=0;_<d.paths.length;_++)d.paths[_]=t(d.paths[_]);for(_=0;_<d.starts.length;_++)d.starts[_]=t(d.starts[_]);for(;s.edgepaths.length;)d.edgepaths.push(i(s.edgepaths.shift()));for(;s.paths.length;)d.paths.push(i(s.paths.shift()));for(;s.starts.length;)d.starts.push(i(s.starts.shift()));return[d]}}},57004:function(ie,z,e){"use strict";var S=e(3400),A=e(51264),a=e(31147),M=e(95536),_=e(84952),d=e(97680),s=e(39096),t=e(67104);ie.exports=function(i,n,r,o){function u(h,c){return S.coerce(i,n,t,h,c)}if(A(i,n,u,o)){a(i,n,o,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var l="constraint"===u("contours.type");u("connectgaps",S.isArray1D(n.z)),l?M(i,n,u,o,r):(_(i,n,u,function(h){return S.coerce2(i,n,t,h)}),d(i,n,u,o)),n.contours&&"heatmap"===n.contours.coloring&&s(u,o),u("zorder")}else n.visible=!1}},61512:function(ie,z,e){"use strict";var S=e(3400),A=e(3212),a=e(46960);ie.exports=function(M,_,d){for(var s="constraint"===M.type?A[M._operation](M.value):M,t=s.size,i=[],n=a(s),r=d.trace._carpetTrace,o=r?{xaxis:r.aaxis,yaxis:r.baxis,x:d.a,y:d.b}:{xaxis:_.xaxis,yaxis:_.yaxis,x:d.x,y:d.y},u=s.start;u<n;u+=t)if(i.push(S.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},o)),i.length>1e3){S.warn("Too many contours, clipping at 1000",M);break}return i}},46960:function(ie){"use strict";ie.exports=function(z){return z.end+z.size/1e6}},88748:function(ie,z,e){"use strict";var S=e(3400),A=e(93252);function a(d,s,t,i){return Math.abs(d[0]-s[0])<t&&Math.abs(d[1]-s[1])<i}function M(d,s,t,i,n){var r,le,ce,ge,Te,o=s.join(","),u=d.crossings[o],l=(ce=s,ge=0,Te=0,(le=u)>20&&t?208===le||1114===le?ge=0===ce[0]?1:-1:Te=0===ce[1]?1:-1:-1!==A.BOTTOMSTART.indexOf(le)?Te=1:-1!==A.LEFTSTART.indexOf(le)?ge=1:-1!==A.TOPSTART.indexOf(le)?Te=-1:ge=-1,[ge,Te]),h=[_(d,s,[-l[0],-l[1]])],c=d.z.length,b=d.z[0].length,p=s.slice(),m=l.slice();for(r=0;r<1e4;r++){if(u>20?d.crossings[o]=A.SADDLEREMAINDER[u=A.CHOOSESADDLE[u][(l[0]||l[1])<0?0:1]]:delete d.crossings[o],!(l=A.NEWDELTA[u])){S.log("Found bad marching index:",u,s,d.level);break}if(h.push(_(d,s,l)),s[0]+=l[0],s[1]+=l[1],o=s.join(","),a(h[h.length-1],h[h.length-2],i,n)&&h.pop(),s[0]===p[0]&&s[1]===p[1]&&l[0]===m[0]&&l[1]===m[1]||t&&(l[0]&&(s[0]<0||s[0]>b-2)||l[1]&&(s[1]<0||s[1]>c-2)))break;u=d.crossings[o]}1e4===r&&S.log("Infinite loop in contour?");var x,y,w,f,C,T,D,R,P,O,B,q,N,H,$,j=a(h[0],h[h.length-1],i,n),W=0,G=.2*d.smoothing,ae=[],te=0;for(r=1;r<h.length;r++)H=(q=h[r])[2]-(N=h[r-1])[2],$=q[3]-N[3],W+=D=Math.sqrt(H*H+$*$),ae.push(D);var Q=W/ae.length*G;function ee(le){return h[le%h.length]}for(r=h.length-2;r>=te;r--)if((x=ae[r])<Q){for(w=0,y=r-1;y>=te&&x+ae[y]<Q;y--)x+=ae[y];if(j&&r===h.length-2)for(w=0;w<y&&x+ae[w]<Q;w++)x+=ae[w];C=r-y+w+1,T=Math.floor((r+y+w+2)/2),f=j||r!==h.length-2?j||-1!==y?C%2?ee(T):[(ee(T)[0]+ee(T+1)[0])/2,(ee(T)[1]+ee(T+1)[1])/2]:h[0]:h[h.length-1],h.splice(y+1,r-y+1,f),r=y+1,w&&(te=w),j&&(r===h.length-2?h[w]=h[h.length-1]:0===r&&(h[h.length-1]=h[0]))}for(h.splice(0,te),r=0;r<h.length;r++)h[r].length=2;if(!(h.length<2))if(j)h.pop(),d.paths.push(h);else{t||S.log("Unclosed interior contour?",d.level,p.join(","),h.join("L"));var re=!1;for(R=0;R<d.edgepaths.length;R++)if(O=d.edgepaths[R],!re&&a(O[0],h[h.length-1],i,n)){h.pop(),re=!0;var J=!1;for(P=0;P<d.edgepaths.length;P++)if(a((B=d.edgepaths[P])[B.length-1],h[0],i,n)){J=!0,h.shift(),d.edgepaths.splice(R,1),P===R?d.paths.push(h.concat(B)):(P>R&&P--,d.edgepaths[P]=B.concat(h,O));break}J||(d.edgepaths[R]=h.concat(O))}for(R=0;R<d.edgepaths.length&&!re;R++)a((O=d.edgepaths[R])[O.length-1],h[0],i,n)&&(h.shift(),d.edgepaths[R]=O.concat(h),re=!0);re||d.edgepaths.push(h)}}function _(d,s,t){var i=s[0]+Math.max(t[0],0),n=s[1]+Math.max(t[1],0),r=d.z[n][i],o=d.xaxis,u=d.yaxis;if(t[1]){var l=(d.level-r)/(d.z[n][i+1]-r),h=(1!==l?(1-l)*o.c2l(d.x[i]):0)+(0!==l?l*o.c2l(d.x[i+1]):0);return[o.c2p(o.l2c(h),!0),u.c2p(d.y[n],!0),i+l,n]}var c=(d.level-r)/(d.z[n+1][i]-r),b=(1!==c?(1-c)*u.c2l(d.y[n]):0)+(0!==c?c*u.c2l(d.y[n+1]):0);return[o.c2p(d.x[i],!0),u.c2p(u.l2c(b),!0),i,n+c]}ie.exports=function(d,s,t){var i,n,r,o;for(s=s||.01,t=t||.01,n=0;n<d.length;n++){for(r=d[n],o=0;o<r.starts.length;o++)M(r,r.starts[o],"edge",s,t);for(i=0;Object.keys(r.crossings).length&&i<1e4;)i++,M(r,Object.keys(r.crossings)[0].split(",").map(Number),void 0,s,t);1e4===i&&S.log("Infinite loop in contour?")}}},38200:function(ie,z,e){"use strict";var S=e(76308),A=e(55512);ie.exports=function(a,M,_,d,s){s||(s={}),s.isContour=!0;var t=A(a,M,_,d,s);return t&&t.forEach(function(i){var n=i.trace;"constraint"===n.contours.type&&(n.fillcolor&&S.opacity(n.fillcolor)?i.color=S.addOpacity(n.fillcolor,1):n.contours.showlines&&S.opacity(n.line.color)&&(i.color=S.addOpacity(n.line.color,1)))}),t}},66240:function(ie,z,e){"use strict";ie.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a,M,_){if(_||(_={}),A("contours.showlabels")){var d=a.font;S.coerceFont(A,"contours.labelfont",{weight:d.weight,style:d.style,variant:d.variant,family:d.family,size:d.size,color:M}),A("contours.labelformat")}!1!==_.hasHover&&A("zhoverformat")}},41076:function(ie,z,e){"use strict";var S=e(33428),A=e(8932),a=e(46960);ie.exports=function(M){var _=M.contours,d=_.start,s=a(_),t=_.size||1,i=Math.floor((s-d)/t)+1,n="lines"===_.coloring?0:1,r=A.extractOpts(M);isFinite(t)||(t=1,i=1);var o,u,l=r.reversescale?A.flipScale(r.colorscale):r.colorscale,h=l.length,c=new Array(h),b=new Array(h),p=r.min,m=r.max;if("heatmap"===_.coloring){for(u=0;u<h;u++)c[u]=(o=l[u])[0]*(m-p)+p,b[u]=o[1];var v=S.extent([p,m,_.start,_.start+t*(i-1)]),x=v[p<m?0:1],y=v[p<m?1:0];x!==p&&(c.splice(0,0,x),b.splice(0,0,b[0])),y!==m&&(c.push(y),b.push(b[b.length-1]))}else{var w=M._input&&"number"==typeof M._input.zmin&&"number"==typeof M._input.zmax;for(w&&(d<=p||s>=m)&&(d<=p&&(d=p),s>=m&&(s=m),i=Math.floor((s-d)/t)+1,n=0),u=0;u<h;u++)c[u]=((o=l[u])[0]*(i+n-1)-n/2)*t+d,b[u]=o[1];(w||M.autocontour)&&(c[0]>p&&(c.unshift(p),b.unshift(b[0])),c[c.length-1]<m&&(c.push(m),b.push(b[b.length-1])))}return A.makeColorScaleFunc({domain:c,range:b},{noNumericCheck:!0})}},72424:function(ie,z,e){"use strict";var S=e(93252);function A(a,M){var _=(M[0][0]>a?0:1)+(M[0][1]>a?0:2)+(M[1][1]>a?0:4)+(M[1][0]>a?0:8);return 5===_||10===_?a>(M[0][0]+M[0][1]+M[1][0]+M[1][1])/4?5===_?713:1114:5===_?104:208:15===_?0:_}ie.exports=function(a){var M,_,d,s,t,i,n,r,o,u=a[0].z,l=u.length,h=u[0].length,c=2===l||2===h;for(_=0;_<l-1;_++)for(s=[],0===_&&(s=s.concat(S.BOTTOMSTART)),_===l-2&&(s=s.concat(S.TOPSTART)),M=0;M<h-1;M++)for(d=s.slice(),0===M&&(d=d.concat(S.LEFTSTART)),M===h-2&&(d=d.concat(S.RIGHTSTART)),t=M+","+_,i=[[u[_][M],u[_][M+1]],[u[_+1][M],u[_+1][M+1]]],o=0;o<a.length;o++)(n=A((r=a[o]).level,i))&&(r.crossings[t]=n,-1!==d.indexOf(n)&&(r.starts.push([M,_]),c&&-1!==d.indexOf(n,d.indexOf(n)+1)&&r.starts.push([M,_])))}},23676:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(8932),_=e(72736),d=e(54460),s=e(78344),t=e(41420),i=e(72424),n=e(88748),r=e(61512),o=e(82172),u=e(56008),l=e(93252),h=l.LABELOPTIMIZER;function c(m,v){var x,y,w,f,C,T,R="",P=0,O=m.edgepaths.map(function(j,W){return W}),B=!0;function q(j){return Math.abs(j[1]-v[2][1])<.01}function H(j){return Math.abs(j[0]-v[2][0])<.01}for(;O.length;){for(T=a.smoothopen(m.edgepaths[P],m.smoothing),R+=B?T:T.replace(/^M/,"L"),O.splice(O.indexOf(P),1),x=m.edgepaths[P][m.edgepaths[P].length-1],f=-1,w=0;w<4;w++){if(!x){A.log("Missing end?",P,m);break}for(Math.abs(x[1]-v[0][1])<.01&&!H(x)?y=v[1]:Math.abs(x[0]-v[0][0])<.01?y=v[0]:q(x)?y=v[3]:H(x)&&(y=v[2]),C=0;C<m.edgepaths.length;C++){var $=m.edgepaths[C][0];Math.abs(x[0]-y[0])<.01?Math.abs(x[0]-$[0])<.01&&($[1]-x[1])*(y[1]-$[1])>=0&&(y=$,f=C):Math.abs(x[1]-y[1])<.01?Math.abs(x[1]-$[1])<.01&&($[0]-x[0])*(y[0]-$[0])>=0&&(y=$,f=C):A.log("endpt to newendpt is not vert. or horz.",x,y,$)}if(x=y,f>=0)break;R+="L"+y}if(f===m.edgepaths.length){A.log("unclosed perimeter path");break}(B=-1===O.indexOf(P=f))&&(P=O[0],R+="Z")}for(P=0;P<m.paths.length;P++)R+=a.smoothclosed(m.paths[P],m.smoothing);return R}function b(m,v,x,y){var w=v.width/2,f=v.height/2,C=m.x,T=m.y,D=m.theta,R=Math.cos(D)*w,P=Math.sin(D)*w,O=(C>y.center?y.right-C:C-y.left)/(R+Math.abs(Math.sin(D)*f)),B=(T>y.middle?y.bottom-T:T-y.top)/(Math.abs(P)+Math.cos(D)*f);if(O<1||B<1)return 1/0;var q=h.EDGECOST*(1/(O-1)+1/(B-1));q+=h.ANGLECOST*D*D;for(var N=C-R,H=T-P,$=C+R,j=T+P,W=0;W<x.length;W++){var G=x[W],ae=Math.cos(G.theta)*G.width/2,te=Math.sin(G.theta)*G.width/2,Q=2*A.segmentDistance(N,H,$,j,G.x-ae,G.y-te,G.x+ae,G.y+te)/(v.height+G.height),ee=G.level===v.level,re=ee?h.SAMELEVELDISTANCE:1;if(Q<=re)return 1/0;q+=h.NEIGHBORCOST*(ee?h.SAMELEVELFACTOR:1)/(Q-re)}return q}function p(m){var v,x,y=m.trace._emptypoints,w=[],f=m.z.length,C=m.z[0].length,T=[];for(v=0;v<C;v++)T.push(1);for(v=0;v<f;v++)w.push(T.slice());for(v=0;v<y.length;v++)w[(x=y[v])[0]][x[1]]=0;return m.zmask=w,w}z.plot=function(m,v,x,y){var w=v.xaxis,f=v.yaxis;A.makeTraceGroups(y,x,"contour").each(function(C){var T=S.select(this),D=C[0],P=D.x,O=D.y,B=D.trace.contours,q=r(B,v,D),N=A.ensureSingle(T,"g","heatmapcoloring"),H=[];"heatmap"===B.coloring&&(H=[C]),t(m,v,H,N),i(q),n(q);var ee,re,J,$=w.c2p(P[0],!0),j=w.c2p(P[P.length-1],!0),W=f.c2p(O[0],!0),G=f.c2p(O[O.length-1],!0),ae=[[$,G],[j,G],[j,W],[$,W]],te=q;"constraint"===B.type&&(te=o(q,B._operation)),ee=ae,re=B,(J=A.ensureSingle(T,"g","contourbg").selectAll("path").data("fill"===re.coloring?[0]:[])).enter().append("path"),J.exit().remove(),J.attr("d","M"+ee.join("L")+"Z").style("stroke","none"),function(Q,ee,re,J){var le="fill"===J.coloring||"constraint"===J.type&&"="!==J._operation,fe="M"+re.join("L")+"Z";le&&u(ee,J);var ce=A.ensureSingle(Q,"g","contourfill").selectAll("path").data(le?ee:[]);ce.enter().append("path"),ce.exit().remove(),ce.each(function(ge){var Te=(ge.prefixBoundary?fe:"")+c(ge,re);Te?S.select(this).attr("d",Te).style("stroke","none"):S.select(this).remove()})}(T,te,ae,B),function(Q,ee,re,J,le){var fe=re._context.staticPlot,ce=A.ensureSingle(Q,"g","contourlines"),ge=!1!==le.showlines,Te=le.showlabels,Me=ge&&Te,we=z.createLines(ce,ge||Te,ee,fe),xe=z.createLineClip(ce,Me,re,J.trace.uid),be=Q.selectAll("g.contourlabels").data(Te?[0]:[]);if(be.exit().remove(),be.enter().append("g").classed("contourlabels",!0),Te){var ye=[],Se=[];A.clearLocationCache();var Ee=z.labelFormatter(re,J),he=a.tester.append("text").attr("data-notex",1).call(a.font,le.labelfont),ue=ee[0].xaxis,me=ee[0].yaxis,Pe=ue._length,Ce=me._length,Ie=ue.range,Oe=me.range,ze=A.aggNums(Math.min,null,J.x),je=A.aggNums(Math.max,null,J.x),ve=A.aggNums(Math.min,null,J.y),Ae=A.aggNums(Math.max,null,J.y),Le=Math.max(ue.c2p(ze,!0),0),Ve=Math.min(ue.c2p(je,!0),Pe),Ne=Math.max(me.c2p(Ae,!0),0),We=Math.min(me.c2p(ve,!0),Ce),Xe={};Ie[0]<Ie[1]?(Xe.left=Le,Xe.right=Ve):(Xe.left=Ve,Xe.right=Le),Oe[0]<Oe[1]?(Xe.top=Ne,Xe.bottom=We):(Xe.top=We,Xe.bottom=Ne),Xe.middle=(Xe.top+Xe.bottom)/2,Xe.center=(Xe.left+Xe.right)/2,ye.push([[Xe.left,Xe.top],[Xe.right,Xe.top],[Xe.right,Xe.bottom],[Xe.left,Xe.bottom]]);var nt=Math.sqrt(Pe*Pe+Ce*Ce),dt=l.LABELDISTANCE*nt/Math.max(1,ee.length/l.LABELINCREASE);we.each(function(ht){var Mt=z.calcTextOpts(ht.level,Ee,he,re);S.select(this).selectAll("path").each(function(){var kt=A.getVisibleSegment(this,Xe,Mt.height/2);if(kt&&!(kt.len<(Mt.width+Mt.height)*l.LABELMIN))for(var _t=Math.min(Math.ceil(kt.len/dt),l.LABELMAX),ut=0;ut<_t;ut++){var st=z.findBestTextLocation(this,kt,Mt,Se,Xe);if(!st)break;z.addLabelData(st,Mt,Se,ye)}})}),he.remove(),z.drawLabels(be,Se,re,xe,Me?ye:null)}Te&&!ge&&we.remove()}(T,q,m,D,B),function(Q,ee,re,J,le){var fe=J.trace,ge="clip"+fe.uid,Te=re._fullLayout._clips.selectAll("#"+ge).data(fe.connectgaps?[]:[0]);if(Te.enter().append("clipPath").classed("contourclip",!0).attr("id",ge),Te.exit().remove(),!1===fe.connectgaps){var Me={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:ee.xaxis,yaxis:ee.yaxis,x:J.x,y:J.y,z:p(J),smoothing:0};i([Me]),n([Me]),u([Me],{type:"levels"}),A.ensureSingle(Te,"path","").attr("d",(Me.prefixBoundary?"M"+le.join("L")+"Z":"")+c(Me,le))}else ge=null;a.setClipUrl(Q,ge,re)}(T,v,m,D,ae)})},z.createLines=function(m,v,x,y){var w=x[0].smoothing,f=m.selectAll("g.contourlevel").data(v?x:[]);if(f.exit().remove(),f.enter().append("g").classed("contourlevel",!0),v){var C=f.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});C.exit().remove(),C.enter().append("path").classed("openline",!0),C.attr("d",function(D){return a.smoothopen(D,w)}).style("stroke-miterlimit",1).style("vector-effect",y?"none":"non-scaling-stroke");var T=f.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});T.exit().remove(),T.enter().append("path").classed("closedline",!0),T.attr("d",function(D){return a.smoothclosed(D,w)}).style("stroke-miterlimit",1).style("vector-effect",y?"none":"non-scaling-stroke")}return f},z.createLineClip=function(m,v,x,y){var w=v?"clipline"+y:null,f=x._fullLayout._clips.selectAll("#"+w).data(v?[0]:[]);return f.exit().remove(),f.enter().append("clipPath").classed("contourlineclip",!0).attr("id",w),a.setClipUrl(m,w,x),f},z.labelFormatter=function(m,v){var x=m._fullLayout,y=v.trace,w=y.contours,f={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(w.labelformat)f.tickformat=w.labelformat,s(f,x);else{var C=M.extractOpts(y);if(C&&C.colorbar&&C.colorbar._axis)f=C.colorbar._axis;else{if("constraint"===w.type){var T=w.value;f.range=A.isArrayOrTypedArray(T)?[T[0],T[T.length-1]]:[T,T]}else f.range=[w.start,w.end],f.nticks=(w.end-w.start)/w.size;f.range[0]===f.range[1]&&(f.range[1]+=f.range[0]||1),f.nticks||(f.nticks=1e3),s(f,x),d.prepTicks(f),f._tmin=null,f._tmax=null}}return function(D){return d.tickText(f,D).text}},z.calcTextOpts=function(m,v,x,y){var w=v(m);x.text(w).call(_.convertToTspans,y);var f=x.node(),C=a.bBox(f,!0);return{text:w,width:C.width,height:C.height,fontSize:+f.style["font-size"].replace("px",""),level:m,dy:(C.top+C.bottom)/2}},z.findBestTextLocation=function(m,v,x,y,w){var f,C,T,D,R,P=x.width;v.isClosed?(f=v.min+(C=v.len/h.INITIALSEARCHPOINTS)/2,T=v.max):(f=v.min+(C=(v.len-P)/(h.INITIALSEARCHPOINTS+1))+P/2,T=v.max-(C+P)/2);for(var O=1/0,B=0;B<h.ITERATIONS;B++){for(var q=f;q<T;q+=C){var N=A.getTextLocation(m,v.total,q,P),H=b(N,x,y,w);H<O&&(O=H,R=N,D=q)}if(O>2*h.MAXCOST)break;B&&(C/=2),T=(f=D-C/2)+1.5*C}if(O<=h.MAXCOST)return R},z.addLabelData=function(m,v,x,y){var w=v.fontSize,f=v.width+w/3,C=Math.max(0,v.height-w/3),T=m.x,D=m.y,R=m.theta,P=Math.sin(R),O=Math.cos(R),B=function(N,H){return[T+N*O-H*P,D+N*P+H*O]},q=[B(-f/2,-C/2),B(-f/2,C/2),B(f/2,C/2),B(f/2,-C/2)];x.push({text:v.text,x:T,y:D,dy:v.dy,theta:R,level:v.level,width:f,height:C}),y.push(q)},z.drawLabels=function(m,v,x,y,w){var f=m.selectAll("text").data(v,function(D){return D.text+","+D.x+","+D.y+","+D.theta});if(f.exit().remove(),f.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(D){var R=D.x+Math.sin(D.theta)*D.dy,P=D.y-Math.cos(D.theta)*D.dy;S.select(this).text(D.text).attr({x:R,y:P,transform:"rotate("+180*D.theta/Math.PI+" "+R+" "+P+")"}).call(_.convertToTspans,x)}),w){for(var C="",T=0;T<w.length;T++)C+="M"+w[T].join("L")+"Z";A.ensureSingle(y,"path","").attr("d",C)}}},54444:function(ie,z,e){"use strict";var S=e(54460),A=e(3400);function a(M,_,d){var s={type:"linear",range:[M,_]};return S.autoTicks(s,(_-M)/(d||15)),s}ie.exports=function(M,_){var d=M.contours;if(M.autocontour){var s=M.zmin,t=M.zmax;(M.zauto||void 0===s)&&(s=A.aggNums(Math.min,null,_)),(M.zauto||void 0===t)&&(t=A.aggNums(Math.max,null,_));var i=a(s,t,M.ncontours);d.size=i.dtick,d.start=S.tickFirst(i),i.range.reverse(),d.end=S.tickFirst(i),d.start===s&&(d.start+=d.size),d.end===t&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),M._input.contours||(M._input.contours={}),A.extendFlat(M._input.contours,{start:d.start,end:d.end,size:d.size}),M._input.autocontour=!0}else if("constraint"!==d.type){var n,r=d.start,o=d.end,u=M._input.contours;r>o&&(d.start=u.start=o,o=d.end=u.end=r,r=d.start),d.size>0||(n=r===o?1:a(r,o,M.ncontours).dtick,u.size=d.size=n)}}},52440:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(41648),M=e(41076);ie.exports=function(_){var d=S.select(_).selectAll("g.contour");d.style("opacity",function(s){return s[0].trace.opacity}),d.each(function(s){var t=S.select(this),i=s[0].trace,n=i.contours,r=i.line,o=n.size||1,u=n.start,l="constraint"===n.type,h=!l&&"lines"===n.coloring,c=!l&&"fill"===n.coloring,b=h||c?M(i):null;t.selectAll("g.contourlevel").each(function(v){S.select(this).selectAll("path").call(A.lineGroupStyle,r.width,h?b(v.level):r.color,r.dash)});var p=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(v){A.font(S.select(this),{weight:p.weight,style:p.style,variant:p.variant,family:p.family,size:p.size,color:p.color||(h?b(v.level):r.color)})}),l)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var m;t.selectAll("g.contourfill path").style("fill",function(v){return void 0===m&&(m=v.level),b(v.level+.5*o)}),void 0===m&&(m=u),t.selectAll("g.contourbg path").style("fill",b(m-.5*o))}}),a(_)}},97680:function(ie,z,e){"use strict";var S=e(27260),A=e(17428);ie.exports=function(a,M,_,d,s){var t,i=_("contours.coloring"),n="";"fill"===i&&(t=_("contours.showlines")),!1!==t&&("lines"!==i&&(n=_("line.color","#000")),_("line.width",.5),_("line.dash")),"none"!==i&&(!0!==a.showlegend&&(M.showlegend=!1),M._dfltShowLegend=!1,S(a,M,d,_,{prefix:"",cLetter:"z"})),_("line.smoothing"),A(_,d,n,s)}},37960:function(ie,z,e){"use strict";var S=e(83328),A=e(67104),a=e(49084),M=e(92880).extendFlat,_=A.contours;ie.exports=M({carpet:{valType:"string",editType:"calc"},z:S.z,a:S.x,a0:S.x0,da:S.dx,b:S.y,b0:S.y0,db:S.dy,text:S.text,hovertext:S.hovertext,transpose:S.transpose,atype:S.xtype,btype:S.ytype,fillcolor:A.fillcolor,autocontour:A.autocontour,ncontours:A.ncontours,contours:{type:_.type,start:_.start,end:_.end,size:_.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:_.showlines,showlabels:_.showlabels,labelfont:_.labelfont,labelformat:_.labelformat,operation:_.operation,value:_.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:A.line.color,width:A.line.width,dash:A.line.dash,smoothing:A.line.smoothing,editType:"plot"},zorder:A.zorder,transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(ie,z,e){"use strict";var S=e(47128),A=e(3400),a=e(2872),M=e(26136),_=e(70448),d=e(11240),s=e(35744),t=e(3252),i=e(50948),n=e(54444);ie.exports=function(r,o){var u=o._carpetTrace=i(r,o);if(u&&u.visible&&"legendonly"!==u.visible){if(!o.a||!o.b){var l=r.data[u.index],h=r.data[o.index];h.a||(h.a=l.a),h.b||(h.b=l.b),t(h,o,o._defaultColor,r._fullLayout)}var c=function(b,p){var m,v,x,y,w,f,C,T=p._carpetTrace,D=T.aaxis,R=T.baxis;D._minDtick=0,R._minDtick=0,A.isArray1D(p.z)&&a(p,D,R,"a","b",["z"]),m=p._a=p._a||p.a,y=p._b=p._b||p.b,m=m?D.makeCalcdata(p,"_a"):[],y=y?R.makeCalcdata(p,"_b"):[],v=p.a0||0,x=p.da||1,w=p.b0||0,f=p.db||1,C=p._z=M(p._z||p.z,p.transpose),p._emptypoints=d(C),_(C,p._emptypoints);var P=A.maxRowLength(C),N={a:s(p,"scaled"===p.xtype?"":m,v,x,P,D),b:s(p,"scaled"===p.ytype?"":y,w,f,C.length,R),z:C};return"levels"===p.contours.type&&"none"!==p.contours.coloring&&S(b,p,{vals:C,containerStr:"",cLetter:"z"}),[N]}(r,o);return n(o,o._z),c}}},3252:function(ie,z,e){"use strict";var S=e(3400),A=e(51264),a=e(37960),M=e(95536),_=e(84952),d=e(97680);ie.exports=function(s,t,i,n){function r(o,u){return S.coerce(s,t,a,o,u)}if(r("carpet"),s.a&&s.b){if(!A(s,t,r,n,"a","b"))return void(t.visible=!1);r("text"),"constraint"===r("contours.type")?M(s,t,r,n,i,{hasHover:!1}):(_(s,t,r,function(o){return S.coerce2(s,t,a,o)}),d(s,t,r,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null;r("zorder")}},40448:function(ie,z,e){"use strict";ie.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(ie,z,e){"use strict";var S=e(33428),A=e(87072),a=e(53416),M=e(43616),_=e(3400),d=e(72424),s=e(88748),t=e(23676),i=e(93252),n=e(82172),r=e(61512),o=e(56008),u=e(50948),l=e(77712);function h(p,m,v){var x=p.getPointAtLength(m),y=p.getPointAtLength(v),w=y.x-x.x,f=y.y-x.y,C=Math.sqrt(w*w+f*f);return[w/C,f/C]}function c(p){var m=Math.sqrt(p[0]*p[0]+p[1]*p[1]);return[p[0]/m,p[1]/m]}function b(p,m){var v=Math.abs(p[0]*m[0]+p[1]*m[1]);return Math.sqrt(1-v*v)/v}ie.exports=function(p,m,v,x){var y=m.xaxis,w=m.yaxis;_.makeTraceGroups(x,v,"contour").each(function(f){var C=S.select(this),T=f[0],D=T.trace,R=D._carpetTrace=u(p,D),P=p.calcdata[R.index][0];if(R.visible&&"legendonly"!==R.visible){var O=T.a,B=T.b,q=D.contours,N=r(q,m,T),H="constraint"===q.type,$=q._operation,j=H?"="===$?"lines":"fill":q.coloring,W=[[O[0],B[B.length-1]],[O[O.length-1],B[B.length-1]],[O[O.length-1],B[0]],[O[0],B[0]]];d(N),s(N,1e-8*(O[O.length-1]-O[0]),1e-8*(B[B.length-1]-B[0]));var te,Q,ee,re,J=N;"constraint"===q.type&&(J=n(N,$)),function(ge,Te){var Me,we,xe,be,ye,Se,Ee,he,ue;for(Me=0;Me<ge.length;Me++){for(ye=(be=ge[Me]).pedgepaths=[],Se=be.ppaths=[],we=0;we<be.edgepaths.length;we++){for(ue=be.edgepaths[we],Ee=[],xe=0;xe<ue.length;xe++)Ee[xe]=Te(ue[xe]);ye.push(Ee)}for(we=0;we<be.paths.length;we++){for(ue=be.paths[we],he=[],xe=0;xe<ue.length;xe++)he[xe]=Te(ue[xe]);Se.push(he)}}}(N,ce);var le=[];for(re=P.clipsegments.length-1;re>=0;re--)Q=A([],(te=P.clipsegments[re]).x,y.c2p),ee=A([],te.y,w.c2p),Q.reverse(),ee.reverse(),le.push(a(Q,ee,te.bicubic));var fe="M"+le.join("L")+"Z";(function(ge,Te,Me,we,xe,be){var ye,Se,Ee,he,ue=_.ensureSingle(ge,"g","contourbg").selectAll("path").data("fill"!==be||xe?[]:[0]);ue.enter().append("path"),ue.exit().remove();var me=[];for(he=0;he<Te.length;he++)Se=A([],(ye=Te[he]).x,Me.c2p),Ee=A([],ye.y,we.c2p),me.push(a(Se,Ee,ye.bicubic));ue.attr("d","M"+me.join("L")+"Z").style("stroke","none")})(C,P.clipsegments,y,w,H,j),function(ge,Te,Me,we,xe,be,ye,Se,Ee,he,ue){var me="fill"===he;me&&o(xe,ge.contours);var Pe=_.ensureSingle(Te,"g","contourfill").selectAll("path").data(me?xe:[]);Pe.enter().append("path"),Pe.exit().remove(),Pe.each(function(Ce){var Ie=(Ce.prefixBoundary?ue:"")+function(Oe,ze,je,ve,Ae,Le,Ve,Ne){var We,Xe,nt,dt,ht,Mt,kt,_t="",ut=ze.edgepaths.map(function(ct,He){return He}),st=!0,Lt=1e-4*Math.abs(je[0][0]-je[2][0]),Ut=1e-4*Math.abs(je[0][1]-je[2][1]);function Ht(ct){return Math.abs(ct[1]-je[0][1])<Ut}function Pt(ct){return Math.abs(ct[1]-je[2][1])<Ut}function Je(ct){return Math.abs(ct[0]-je[0][0])<Lt}function tt(ct){return Math.abs(ct[0]-je[2][0])<Lt}function Ge(ct,He){var qe,ft,et,xt,wt="";for(Ht(ct)&&!tt(ct)||Pt(ct)&&!Je(ct)?(xt=Ae.aaxis,et=l(Ae,Le,[ct[0],He[0]],.5*(ct[1]+He[1]))):(xt=Ae.baxis,et=l(Ae,Le,.5*(ct[0]+He[0]),[ct[1],He[1]])),qe=1;qe<et.length;qe++)for(wt+=xt.smoothing?"C":"L",ft=0;ft<et[qe].length;ft++){var At=et[qe][ft];wt+=[Ve.c2p(At[0]),Ne.c2p(At[1])]+" "}return wt}for(We=0,Xe=null;ut.length;){for(Xe&&(_t+=Ge(Xe,ze.edgepaths[We][0])),kt=M.smoothopen(ze.edgepaths[We].map(ve),ze.smoothing),_t+=st?kt:kt.replace(/^M/,"L"),ut.splice(ut.indexOf(We),1),Xe=ze.edgepaths[We][ze.edgepaths[We].length-1],ht=-1,dt=0;dt<4;dt++){if(!Xe){_.log("Missing end?",We,ze);break}for(Ht(Xe)&&!tt(Xe)?nt=je[1]:Je(Xe)?nt=je[0]:Pt(Xe)?nt=je[3]:tt(Xe)&&(nt=je[2]),Mt=0;Mt<ze.edgepaths.length;Mt++){var pt=ze.edgepaths[Mt][0];Math.abs(Xe[0]-nt[0])<Lt?Math.abs(Xe[0]-pt[0])<Lt&&(pt[1]-Xe[1])*(nt[1]-pt[1])>=0&&(nt=pt,ht=Mt):Math.abs(Xe[1]-nt[1])<Ut?Math.abs(Xe[1]-pt[1])<Ut&&(pt[0]-Xe[0])*(nt[0]-pt[0])>=0&&(nt=pt,ht=Mt):_.log("endpt to newendpt is not vert. or horz.",Xe,nt,pt)}if(ht>=0)break;_t+=Ge(Xe,nt),Xe=nt}if(ht===ze.edgepaths.length){_.log("unclosed perimeter path");break}(st=-1===ut.indexOf(We=ht))&&(We=ut[0],_t+=Ge(Xe,nt)+"Z",Xe=null)}for(We=0;We<ze.paths.length;We++)_t+=M.smoothclosed(ze.paths[We].map(ve),ze.smoothing);return _t}(0,Ce,be,ye,Se,Ee,Me,we);Ie?S.select(this).attr("d",Ie).style("stroke","none"):S.select(this).remove()})}(D,C,y,w,J,W,ce,R,P,j,fe),function(ge,Te,Me,we,xe,be,ye){var Se=Me._context.staticPlot,Ee=_.ensureSingle(ge,"g","contourlines"),he=!1!==xe.showlines,ue=xe.showlabels,me=he&&ue,Pe=t.createLines(Ee,he||ue,Te,Se),Ce=t.createLineClip(Ee,me,Me,we.trace.uid),Ie=ge.selectAll("g.contourlabels").data(ue?[0]:[]);if(Ie.exit().remove(),Ie.enter().append("g").classed("contourlabels",!0),ue){var je=be.xaxis._length,ve=be.yaxis._length,Ae=[[[0,0],[je,0],[je,ve],[0,ve]]],Le=[];_.clearLocationCache();var Ve=t.labelFormatter(Me,we),Ne=M.tester.append("text").attr("data-notex",1).call(M.font,xe.labelfont),We={left:0,right:je,center:je/2,top:0,bottom:ve,middle:ve/2},Xe=Math.sqrt(je*je+ve*ve),nt=i.LABELDISTANCE*Xe/Math.max(1,Te.length/i.LABELINCREASE);Pe.each(function(dt){var ht=t.calcTextOpts(dt.level,Ve,Ne,Me);S.select(this).selectAll("path").each(function(Mt){var _t=_.getVisibleSegment(this,We,ht.height/2);if(_t&&(function(Ut,Ht,Pt,Je,tt,Ge){for(var Qe,pt=0;pt<Pt.pedgepaths.length;pt++)Ht===Pt.pedgepaths[pt]&&(Qe=Pt.edgepaths[pt]);if(Qe){var ct=tt.a[0],He=tt.a[tt.a.length-1],qe=tt.b[0],ft=tt.b[tt.b.length-1],et=h(Ut,0,1),xt=h(Ut,Je.total,Je.total-1),wt=yt(Qe[0],et),At=Je.total-yt(Qe[Qe.length-1],xt);Je.min<wt&&(Je.min=wt),Je.max>At&&(Je.max=At),Je.len=Je.max-Je.min}function yt(Ot,Ct){var Rt,Bt=0;return(Math.abs(Ot[0]-ct)<.1||Math.abs(Ot[0]-He)<.1)&&(Rt=c(tt.dxydb_rough(Ot[0],Ot[1],.1)),Bt=Math.max(Bt,Ge*b(Ct,Rt)/2)),(Math.abs(Ot[1]-qe)<.1||Math.abs(Ot[1]-ft)<.1)&&(Rt=c(tt.dxyda_rough(Ot[0],Ot[1],.1)),Bt=Math.max(Bt,Ge*b(Ct,Rt)/2)),Bt}}(this,Mt,dt,_t,ye,ht.height),!(_t.len<(ht.width+ht.height)*i.LABELMIN)))for(var ut=Math.min(Math.ceil(_t.len/nt),i.LABELMAX),st=0;st<ut;st++){var Lt=t.findBestTextLocation(this,_t,ht,Le,We);if(!Lt)break;t.addLabelData(Lt,ht,Le,Ae)}})}),Ne.remove(),t.drawLabels(Ie,Le,Me,Ce,me?Ae:null)}ue&&!he&&Pe.remove()}(C,N,p,T,q,m,R),M.setClipUrl(C,R._clipPathId,p)}function ce(ge){var Te=R.ab2xy(ge[0],ge[1],!0);return[y.c2p(Te[0]),w.c2p(Te[1])]}})}},33928:function(ie,z,e){"use strict";var S=e(49084),A=e(21776).Ks,a=e(45464),M=e(31512),_=e(92880).extendFlat;ie.exports=_({lon:M.lon,lat:M.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:M.text,hovertext:M.hovertext,hoverinfo:_({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:A(),showlegend:_({},a.showlegend,{dflt:!1})},S("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(ie,z,e){"use strict";var S=e(38248),A=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,M=e(47128),_=e(3400)._;ie.exports=function(d,s){for(var t=s._length,i=new Array(t),n=s.z,r=A(n)&&n.length,o=0;o<t;o++){var u=i[o]={},l=s.lon[o],h=s.lat[o];if(u.lonlat=S(l)&&S(h)?[+l,+h]:[a,a],r){var c=n[o];u.z=S(c)?c:a}}return M(d,s,{vals:r?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:_(d,"lat:")+" ",lon:_(d,"lon:")+" "}}),i}},4629:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(76308),M=e(8932),_=e(39032).BADNUM,d=e(44808).makeBlank;ie.exports=function(s){var t=s[0].trace,i=!0===t.visible&&0!==t._length,n=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:d()};if(!i)return n;var r,o=[],u=t.z,l=t.radius,h=A.isArrayOrTypedArray(u)&&u.length,c=A.isArrayOrTypedArray(l);for(r=0;r<s.length;r++){var b=s[r],p=b.lonlat;if(p[0]!==_){var m={};if(h){var v=b.z;m.z=v!==_?v:0}c&&(m.r=S(l[r])&&l[r]>0?+l[r]:0),o.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:m})}}var x=M.extractOpts(t),y=x.reversescale?M.flipScale(x.colorscale):x.colorscale,w=y[0][1],f=["interpolate",["linear"],["heatmap-density"],0,a.opacity(w)<1?w:a.addOpacity(w,0)];for(r=1;r<y.length;r++)f.push(y[r][0],y[r][1]);return A.extendFlat(n.heatmap.paint,{"heatmap-weight":h?["interpolate",["linear"],["get","z"],x.min,0,x.max,1]:1/(x.max-x.min),"heatmap-color":f,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),n.geojson={type:"FeatureCollection",features:o},n.heatmap.layout.visibility="visible",n}},97664:function(ie,z,e){"use strict";var S=e(3400),A=e(27260),a=e(33928);ie.exports=function(M,_,d,s){function t(o,u){return S.coerce(M,_,a,o,u)}var i=t("lon")||[],n=t("lat")||[],r=Math.min(i.length,n.length);r?(_._length=r,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),A(M,_,s,t,{prefix:"",cLetter:"z"})):_.visible=!1}},96176:function(ie){"use strict";ie.exports=function(z,e){return z.lon=e.lon,z.lat=e.lat,z.z=e.z,z}},25336:function(ie,z,e){"use strict";var S=e(54460),A=e(63312).hoverPoints,a=e(63312).getExtraText;ie.exports=function(M,_,d){var s=A(M,_,d);if(s){var t=s[0],i=t.cd,n=i[0].trace,r=i[t.index];if(delete t.color,"z"in r){var o=t.subplot.mockAxis;t.z=r.z,t.zLabel=S.tickText(o,o.c2l(r.z),"hover").text}return t.extraText=a(n,r,i[0].t.labels),[t]}}},15088:function(ie,z,e){"use strict";ie.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(S,A){for(var a=A.getMapLayers(),M=0;M<a.length;M++){var _=a[M],d=_.id;if("symbol"===_.type&&"string"==typeof d&&-1===d.indexOf("plotly-"))return d}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(ie,z,e){"use strict";var S=e(4629),A=e(47552).traceLayerPrefix;function a(_,d){this.type="densitymapbox",this.subplot=_,this.uid=d,this.sourceId="source-"+d,this.layerList=[["heatmap",A+d+"-heatmap"]],this.below=null}var M=a.prototype;M.update=function(_){var d=this.subplot,s=this.layerList,t=S(_),i=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var n=0;n<s.length;n++){var r=s[n],u=r[1],l=t[r[0]];d.setOptions(u,"setLayoutProperty",l.layout),"visible"===l.layout.visibility&&d.setOptions(u,"setPaintProperty",l.paint)}},M._addLayers=function(_,d){for(var s=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var r=t[n],o=r[0],u=_[o];s.addLayer({type:o,id:r[1],source:i,layout:u.layout,paint:u.paint},d)}},M._removeLayers=function(){for(var _=this.subplot.map,d=this.layerList,s=d.length-1;s>=0;s--)_.removeLayer(d[s][1])},M.dispose=function(){var _=this.subplot.map;this._removeLayers(),_.removeSource(this.sourceId)},ie.exports=function(_,d){var s=d[0].trace,t=new a(_,s.uid),i=t.sourceId,n=S(d),r=t.below=_.belowLookup["trace-"+s.uid];return _.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,r),t}},74248:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){for(var M=0;M<A.length;M++)A[M].i=M;S.mergeArray(a.text,A,"tx"),S.mergeArray(a.hovertext,A,"htx");var _=a.marker;if(_){S.mergeArray(_.opacity,A,"mo"),S.mergeArray(_.color,A,"mc");var d=_.line;d&&(S.mergeArray(d.color,A,"mlc"),S.mergeArrayCastPositive(d.width,A,"mlw"))}}},20088:function(ie,z,e){"use strict";var S,A=e(20832),a=e(52904).line,M=e(45464),_=e(29736).axisHoverFormat,d=e(21776).Ks,s=e(21776).Gw,t=e(74732),i=e(92880).extendFlat,n=e(76308);ie.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),hovertext:A.hovertext,hovertemplate:d({},{keys:t.eventDataKeys}),hoverinfo:i({},M.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:A.text,textposition:A.textposition,insidetextanchor:i({},A.insidetextanchor,{dflt:"middle"}),textangle:i({},A.textangle,{dflt:0}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:i({},A.orientation,{}),offset:i({},A.offset,{arrayOk:!1}),width:i({},A.width,{arrayOk:!1}),marker:(S=i({},A.marker),delete S.pattern,delete S.cornerradius,S),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},a.color,{dflt:n.defaultLine}),width:i({},a.width,{dflt:0,editType:"plot"}),dash:a.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,zorder:A.zorder}},23096:function(ie,z,e){"use strict";var S=e(54460),A=e(1220),a=e(74248),M=e(4500),_=e(39032).BADNUM;function d(s){return s===_?0:s}ie.exports=function(s,t){var i,n,r,o,u,l,h,c,b=S.getFromId(s,t.xaxis||"x"),p=S.getFromId(s,t.yaxis||"y");"h"===t.orientation?(i=b.makeCalcdata(t,"x"),r=p.makeCalcdata(t,"y"),o=A(t,p,"y",r),u=!!t.yperiodalignment,l="y"):(i=p.makeCalcdata(t,"y"),r=b.makeCalcdata(t,"x"),o=A(t,b,"x",r),u=!!t.xperiodalignment,l="x"),n=o.vals;var m,v=Math.min(n.length,i.length),x=new Array(v);for(t._base=[],h=0;h<v;h++){i[h]<0&&(i[h]=_);var y=!1;i[h]!==_&&h+1<v&&i[h+1]!==_&&(y=!0),c=x[h]={p:n[h],s:i[h],cNext:y},t._base[h]=-.5*c.s,u&&(x[h].orig_p=r[h],x[h][l+"End"]=o.ends[h],x[h][l+"Start"]=o.starts[h]),t.ids&&(c.id=String(t.ids[h])),0===h&&(x[0].vTotal=0),x[0].vTotal+=d(c.s),c.begR=d(c.s)/d(x[0].s)}for(h=0;h<v;h++)(c=x[h]).s!==_&&(c.sumR=c.s/x[0].vTotal,c.difR=void 0!==m?c.s/m:1,m=c.s);return a(x,t),M(x,t),x}},74732:function(ie){"use strict";ie.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(ie,z,e){"use strict";var S=e(96376).setGroupPositions;ie.exports=function(A,a){var M,_,d=A._fullLayout,s=A._fullData,t=A.calcdata,i=a.xaxis,n=a.yaxis,r=[],o=[],u=[];for(_=0;_<s.length;_++){var l=s[_];!0===l.visible&&l.xaxis===i._id&&l.yaxis===n._id&&"funnel"===l.type&&(M=t[_],"h"===l.orientation?u.push(M):o.push(M),r.push(M))}var c={mode:d.funnelmode,norm:d.funnelnorm,gap:d.funnelgap,groupgap:d.funnelgroupgap};for(S(A,i,n,o,c),S(A,n,i,u,c),_=0;_<r.length;_++){M=r[_];for(var b=0;b<M.length;b++)b+1<M.length&&(M[b].nextP0=M[b+1].p0,M[b].nextS0=M[b+1].s0,M[b].nextP1=M[b+1].p1,M[b].nextS1=M[b+1].s1)}}},45432:function(ie,z,e){"use strict";var S=e(3400),A=e(20011),a=e(31508).handleText,M=e(43980),_=e(31147),d=e(20088),s=e(76308);ie.exports={supplyDefaults:function(t,i,n,r){function o(c,b){return S.coerce(t,i,d,c,b)}if(M(t,i,r,o)){_(t,i,r,o),o("xhoverformat"),o("yhoverformat"),o("orientation",i.y&&!i.x?"v":"h"),o("offset"),o("width");var u=o("text");o("hovertext"),o("hovertemplate");var l=o("textposition");a(t,i,r,o,l,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===i.textposition||i.texttemplate||o("textinfo",S.isArrayOrTypedArray(u)?"text+value":"value");var h=o("marker.color",n);o("marker.line.color",s.defaultLine),o("marker.line.width"),o("connector.visible")&&(o("connector.fillcolor",(b=S.isArrayOrTypedArray(c=h)?"#000":c,s.addOpacity(b,.5*s.opacity(b)))),o("connector.line.width")&&(o("connector.line.color"),o("connector.line.dash"))),o("zorder")}else i.visible=!1;var c,b},crossTraceDefaults:function(t,i){var n,r;function o(l){return S.coerce(r._input,r,d,l)}if("group"===i.funnelmode)for(var u=0;u<t.length;u++)n=(r=t[u])._input,A(n,r,i,o)}}},34580:function(ie){"use strict";ie.exports=function(z,e){return z.x="xVal"in e?e.xVal:e.x,z.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(z.percentInitial=e.percentInitial),"percentPrevious"in e&&(z.percentPrevious=e.percentPrevious),"percentTotal"in e&&(z.percentTotal=e.percentTotal),e.xa&&(z.xaxis=e.xa),e.ya&&(z.yaxis=e.ya),z}},31488:function(ie,z,e){"use strict";var S=e(76308).opacity,A=e(63400).hoverOnBars,a=e(3400).formatPercent;ie.exports=function(M,_,d,s,t){var v,x,y,w,f,i=A(M,_,d,s,t);if(i){var n=i.cd,r=n[0].trace,u=n[i.index];i[("h"===r.orientation?"x":"y")+"LabelVal"]=u.s,i.percentInitial=u.begR,i.percentInitialLabel=a(u.begR,1),i.percentPrevious=u.difR,i.percentPreviousLabel=a(u.difR,1),i.percentTotal=u.sumR,i.percentTotalLabel=a(u.sumR,1);var l=u.hi||r.hoverinfo,h=[];if(l&&"none"!==l&&"skip"!==l){var c="all"===l,b=l.split("+"),p=function(m){return c||-1!==b.indexOf(m)};p("percent initial")&&h.push(i.percentInitialLabel+" of initial"),p("percent previous")&&h.push(i.percentPreviousLabel+" of previous"),p("percent total")&&h.push(i.percentTotalLabel+" of total")}return i.extraText=h.join("<br>"),i.color=(x=r.marker,w=(v=u).mlc||x.line.color,f=v.mlw||x.line.width,S(y=v.mc||x.color)?y:S(w)&&f?w:void 0),[i]}}},94704:function(ie,z,e){"use strict";ie.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(ie){"use strict";ie.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(ie,z,e){"use strict";var S=e(3400),A=e(7076);ie.exports=function(a,M,_){var d=!1;function s(n,r){return S.coerce(a,M,A,n,r)}for(var t=0;t<_.length;t++){var i=_[t];if(i.visible&&"funnel"===i.type){d=!0;break}}d&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},42200:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(39032).BADNUM,_=e(98184),d=e(82744).clearMinTextSize;function s(t,i,n,r){var o=[],u=[],l=r?i:n,h=r?n:i;return o[0]=l.c2p(t.s0,!0),u[0]=h.c2p(t.p0,!0),o[1]=l.c2p(t.s1,!0),u[1]=h.c2p(t.p1,!0),o[2]=l.c2p(t.nextS0,!0),u[2]=h.c2p(t.nextP0,!0),o[3]=l.c2p(t.nextS1,!0),u[3]=h.c2p(t.nextP1,!0),r?[o,u]:[u,o]}ie.exports=function(t,i,n,r){var u,l,b,p,o=t._fullLayout;d("funnel",o),u=t,b=(l=i).xaxis,p=l.yaxis,A.makeTraceGroups(r,n,"trace bars").each(function(m){var v=S.select(this),x=m[0].trace,y=A.ensureSingle(v,"g","regions");if(x.connector&&x.connector.visible){var w="h"===x.orientation,f=y.selectAll("g.region").data(A.identity);f.enter().append("g").classed("region",!0),f.exit().remove();var C=f.size();f.each(function(T,D){if(D===C-1||T.cNext){var R=s(T,b,p,w),P=R[0],O=R[1],B="";P[0]!==M&&O[0]!==M&&P[1]!==M&&O[1]!==M&&P[2]!==M&&O[2]!==M&&P[3]!==M&&O[3]!==M&&(B+=w?"M"+P[0]+","+O[1]+"L"+P[2]+","+O[2]+"H"+P[3]+"L"+P[1]+","+O[1]+"Z":"M"+P[1]+","+O[1]+"L"+P[2]+","+O[3]+"V"+O[2]+"L"+P[1]+","+O[0]+"Z"),""===B&&(B="M0,0Z"),A.ensureSingle(S.select(this),"path").attr("d",B).call(a.setClipUrl,l.layerClipId,u)}})}else y.remove()}),function(u,l,h,c){var b=l.xaxis,p=l.yaxis;A.makeTraceGroups(c,h,"trace bars").each(function(m){var v=S.select(this),x=m[0].trace,y=A.ensureSingle(v,"g","lines");if(x.connector&&x.connector.visible&&x.connector.line.width){var w="h"===x.orientation,f=y.selectAll("g.line").data(A.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var C=f.size();f.each(function(T,D){if(D===C-1||T.cNext){var R=s(T,b,p,w),P=R[0],O=R[1],B="";void 0!==P[3]&&void 0!==O[3]&&(w?(B+="M"+P[0]+","+O[1]+"L"+P[2]+","+O[2],B+="M"+P[1]+","+O[1]+"L"+P[3]+","+O[2]):(B+="M"+P[1]+","+O[1]+"L"+P[2]+","+O[3],B+="M"+P[1]+","+O[0]+"L"+P[2]+","+O[2])),""===B&&(B="M0,0Z"),A.ensureSingle(S.select(this),"path").attr("d",B).call(a.setClipUrl,l.layerClipId,u)}})}else y.remove()})}(t,i,n,r),_.plot(t,i,n,r,{mode:o.funnelmode,norm:o.funnelmode,gap:o.funnelgap,groupgap:o.funnelgroupgap})}},44544:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(76308),M=e(13448).DESELECTDIM,_=e(60100),d=e(82744).resizeText,s=_.styleTextPoints;ie.exports={style:function(t,i,n){var r=n||S.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");d(t,r,"funnel"),r.style("opacity",function(o){return o[0].trace.opacity}),r.each(function(o){var u=S.select(this),l=o[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=l.marker;S.select(this).call(a.fill,h.mc||c.color).call(a.stroke,h.mlc||c.line.color).call(A.dashLine,c.line.dash,h.mlw||c.line.width).style("opacity",l.selectedpoints&&!h.selected?M:1)}}),s(u,l,t),u.selectAll(".regions").each(function(){S.select(this).selectAll("path").style("stroke-width",0).call(a.fill,l.connector.fillcolor)}),u.selectAll(".lines").each(function(){var h=l.connector.line;A.lineGroupStyle(S.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},22332:function(ie,z,e){"use strict";var S=e(74996),A=e(45464),a=e(86968).u,M=e(21776).Ks,_=e(21776).Gw,d=e(92880).extendFlat;ie.exports={labels:S.labels,label0:S.label0,dlabel:S.dlabel,values:S.values,marker:{colors:S.marker.colors,line:{color:d({},S.marker.line.color,{dflt:null}),width:d({},S.marker.line.width,{dflt:1}),editType:"calc"},pattern:S.marker.pattern,editType:"calc"},text:S.text,hovertext:S.hovertext,scalegroup:d({},S.scalegroup,{}),textinfo:d({},S.textinfo,{flags:["label","text","value","percent"]}),texttemplate:_({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:d({},A.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","text","percent"]}),textposition:d({},S.textposition,{values:["inside","none"],dflt:"inside"}),textfont:S.textfont,insidetextfont:S.insidetextfont,title:{text:S.title.text,font:S.title.font,position:d({},S.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(ie,z,e){"use strict";var S=e(7316);z.name="funnelarea",z.plot=function(A,a,M,_){S.plotBasePlot(z.name,A,a,M,_)},z.clean=function(A,a,M,_){S.cleanBasePlot(z.name,A,a,M,_)}},54e3:function(ie,z,e){"use strict";var S=e(45768);ie.exports={calc:function(A,a){return S.calc(A,a)},crossTraceCalc:function(A){S.crossTraceCalc(A,{type:"funnelarea"})}}},92688:function(ie,z,e){"use strict";var S=e(3400),A=e(22332),a=e(86968).Q,M=e(31508).handleText,_=e(74174).handleLabelsAndValues,d=e(74174).handleMarkerDefaults;ie.exports=function(s,t,i,n){function r(v,x){return S.coerce(s,t,A,v,x)}var o=r("labels"),u=r("values"),l=_(o,u),h=l.len;if(t._hasLabels=l.hasLabels,t._hasValues=l.hasValues,!t._hasLabels&&t._hasValues&&(r("label0"),r("dlabel")),h){t._length=h,d(s,t,n,r),r("scalegroup");var c,b=r("text"),p=r("texttemplate");if(p||(c=r("textinfo",Array.isArray(b)?"text+percent":"percent")),r("hovertext"),r("hovertemplate"),p||c&&"none"!==c){var m=r("textposition");M(s,t,n,r,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else"none"===c&&r("textposition","none");a(t,n,r),r("title.text")&&(r("title.position"),S.coerceFont(r,"title.font",n.font)),r("aspectratio"),r("baseratio")}else t.visible=!1}},62396:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(ie,z,e){"use strict";var S=e(85204).hiddenlabels;ie.exports={hiddenlabels:S,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(ie,z,e){"use strict";var S=e(3400),A=e(61280);ie.exports=function(a,M){function _(d,s){return S.coerce(a,M,A,d,s)}_("hiddenlabels"),_("funnelareacolorway",M.colorway),_("extendfunnelareacolors")}},39472:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(3400),M=a.strScale,_=a.strTranslate,d=e(72736),s=e(98184).toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,r=e(69656),o=e(37820),u=o.attachFxHandlers,l=o.determineInsideTextFont,h=o.layoutAreas,c=o.prerenderTitles,b=o.positionTitleOutside,p=o.formatSliceLabel;function m(v,x){return"l"+(x[0]-v[0])+","+(x[1]-v[1])}ie.exports=function(v,x){var y=v._context.staticPlot,w=v._fullLayout;n("funnelarea",w),c(x,v),h(x,w._size),a.makeTraceGroups(w._funnelarealayer,x,"trace").each(function(f){var C=S.select(this),T=f[0],D=T.trace;(function(R){if(R.length){var P=R[0],O=P.trace,B=O.aspectratio,q=O.baseratio;q>.999&&(q=.999);var N,H,$,j=Math.pow(q,2),W=P.vTotal,G=W,ae=W*j/(1-j)/W,te=[];for(te.push(Ee()),H=R.length-1;H>-1;H--)($=R[H]).hidden||(ae+=$.v/G,te.push(Ee()));var ee=1/0,re=-1/0;for(H=0;H<te.length;H++)N=te[H],ee=Math.min(ee,N[1]),re=Math.max(re,N[1]);for(H=0;H<te.length;H++)te[H][1]-=(re+ee)/2;var le=P.r,fe=(re-ee)/2,ce=le/te[te.length-1][0],ge=le/fe*B;for(P.r=ge*fe,H=0;H<te.length;H++)te[H][0]*=ce,te[H][1]*=ge;var Te,Me,we=[-(N=te[0])[0],N[1]],xe=[N[0],N[1]],be=0;for(H=R.length-1;H>-1;H--)if(!($=R[H]).hidden){var ye=te[be+=1][0],Se=te[be][1];$.TL=[-ye,Se],$.TR=[ye,Se],$.BL=we,$.BR=xe,$.pxmid=[.5*((Te=$.TR)[0]+(Me=$.BR)[0]),.5*(Te[1]+Me[1])],we=$.TL,xe=$.TR}}function Ee(){var he,ue={x:he=Math.sqrt(ae),y:-he};return[ue.x,ue.y]}})(f),C.each(function(){var R=S.select(this).selectAll("g.slice").data(f);R.enter().append("g").classed("slice",!0),R.exit().remove(),R.each(function(O,B){if(O.hidden)S.select(this).selectAll("path,g").remove();else{O.pointNumber=O.i,O.curveNumber=D.index;var q=T.cx,N=T.cy,H=S.select(this),$=H.selectAll("path.surface").data([O]);$.enter().append("path").classed("surface",!0).style({"pointer-events":y?"none":"all"}),H.call(u,v,f);var j="M"+(q+O.TR[0])+","+(N+O.TR[1])+m(O.TR,O.BR)+m(O.BR,O.BL)+m(O.BL,O.TL)+"Z";$.attr("d",j),p(v,O,T);var W=r.castOption(D.textposition,O.pts),G=H.selectAll("g.slicetext").data(O.text&&"none"!==W?[0]:[]);G.enter().append("g").classed("slicetext",!0),G.exit().remove(),G.each(function(){var ae=a.ensureSingle(S.select(this),"text","",function(ce){ce.attr("data-notex",1)}),te=a.ensureUniformFontSize(v,l(D,O,w.font));ae.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(A.font,te).call(d.convertToTspans,v);var Q,ee,re,J=A.bBox(ae.node()),le=Math.min(O.BL[1],O.BR[1])+N,fe=Math.max(O.TL[1],O.TR[1])+N;ee=Math.max(O.TL[0],O.BL[0])+q,re=Math.min(O.TR[0],O.BR[0])+q,(Q=s(ee,re,le,fe,J,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=te.size,i(D.type,Q,w),f[B].transform=Q,a.setTransormAndDisplay(ae,Q)})}});var P=S.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);P.enter().append("g").classed("titletext",!0),P.exit().remove(),P.each(function(){var O=a.ensureSingle(S.select(this),"text","",function(N){N.attr("data-notex",1)}),B=D.title.text;D._meta&&(B=a.templateString(B,D._meta)),O.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(A.font,D.title.font).call(d.convertToTspans,v);var q=b(T,w._size);O.attr("transform",_(q.x,q.y)+M(Math.min(1,q.scale))+_(q.tx,q.ty))})})})}},62096:function(ie,z,e){"use strict";var S=e(33428),A=e(10528),a=e(82744).resizeText;ie.exports=function(M){var _=M._fullLayout._funnelarealayer.selectAll(".trace");a(M,_,"funnelarea"),_.each(function(d){var s=d[0].trace,t=S.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){S.select(this).call(A,i,s,M)})})}},83328:function(ie,z,e){"use strict";var S=e(52904),A=e(45464),a=e(25376),M=e(29736).axisHoverFormat,_=e(21776).Ks,d=e(21776).Gw,s=e(49084),t=e(92880).extendFlat;ie.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},S.x,{impliedEdits:{xtype:"array"}}),x0:t({},S.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},S.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},S.y,{impliedEdits:{ytype:"array"}}),y0:t({},S.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},S.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},S.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},S.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},S.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},S.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},S.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},S.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:_(),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},A.showlegend,{dflt:!1}),zorder:S.zorder},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},19512:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(54460),M=e(1220),_=e(55480),d=e(47128),s=e(2872),t=e(26136),i=e(70448),n=e(11240),r=e(35744),o=e(39032).BADNUM;function u(l){for(var h=[],c=l.length,b=0;b<c;b++){var p=l[b];p!==o&&h.push(p)}return h}ie.exports=function(l,h){var c,b,p,m,v,x,y,w,f,C,T,D=a.getFromId(l,h.xaxis||"x"),R=a.getFromId(l,h.yaxis||"y"),P=S.traceIs(h,"contour"),O=S.traceIs(h,"histogram"),B=S.traceIs(h,"gl2d"),q=P?"best":h.zsmooth;if(D._minDtick=0,R._minDtick=0,O)m=(T=_(l,h)).orig_x,c=T.x,b=T.x0,p=T.dx,w=T.orig_y,v=T.y,x=T.y0,y=T.dy,f=T.z;else{var N=h.z;A.isArray1D(N)?(s(h,D,R,"x","y",["z"]),c=h._x,v=h._y,N=h._z):(m=h.x?D.makeCalcdata(h,"x"):[],w=h.y?R.makeCalcdata(h,"y"):[],c=M(h,D,"x",m).vals,v=M(h,R,"y",w).vals,h._x=c,h._y=v),b=h.x0,p=h.dx,x=h.y0,y=h.dy,f=t(N,h,D,R)}function H(re){q=h._input.zsmooth=h.zsmooth=!1,A.warn('cannot use zsmooth: "fast": '+re)}function $(re){if(re.length>1){var J=(re[re.length-1]-re[0])/(re.length-1),le=Math.abs(J/100);for(C=0;C<re.length-1;C++)if(Math.abs(re[C+1]-re[C]-J)>le)return!1}return!0}(D.rangebreaks||R.rangebreaks)&&(f=function(re,J,le){for(var fe=[],ce=-1,ge=0;ge<le.length;ge++)if(J[ge]!==o){fe[++ce]=[];for(var Te=0;Te<le[ge].length;Te++)re[Te]!==o&&fe[ce].push(le[ge][Te])}return fe}(c,v,f),O||(c=u(c),v=u(v),h._x=c,h._y=v)),O||!P&&!h.connectgaps||(h._emptypoints=n(f),i(f,h._emptypoints)),h._islinear=!1,"log"===D.type||"log"===R.type?"fast"===q&&H("log axis found"):$(c)?$(v)?h._islinear=!0:"fast"===q&&H("y scale is not linear"):"fast"===q&&H("x scale is not linear");var j=A.maxRowLength(f),W="scaled"===h.xtype?"":c,G=r(h,W,b,p,j,D),ae="scaled"===h.ytype?"":v,te=r(h,ae,x,y,f.length,R);B||(h._extremes[D._id]=a.findExtremes(D,G),h._extremes[R._id]=a.findExtremes(R,te));var Q={x:G,y:te,z:f,text:h._text||h.text,hovertext:h._hovertext||h.hovertext};if(h.xperiodalignment&&m&&(Q.orig_x=m),h.yperiodalignment&&w&&(Q.orig_y=w),W&&W.length===G.length-1&&(Q.xCenter=W),ae&&ae.length===te.length-1&&(Q.yCenter=ae),O&&(Q.xRanges=T.xRanges,Q.yRanges=T.yRanges,Q.pts=T.pts),P||d(l,h,{vals:f,cLetter:"z"}),P&&h.contours&&"heatmap"===h.contours.coloring){var ee={type:"contour"===h.type?"heatmap":"histogram2d",xcalendar:h.xcalendar,ycalendar:h.ycalendar};Q.xfill=r(ee,W,b,p,j,D),Q.yfill=r(ee,ae,x,y,f.length,R)}return[Q]}},26136:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(39032).BADNUM;ie.exports=function(M,_,d,s){var t,i,n,r,o,u;function l(v){if(S(v))return+v}if(_&&_.transpose){for(t=0,o=0;o<M.length;o++)t=Math.max(t,M[o].length);if(0===t)return!1;n=function(v){return v.length},r=function(v,x,y){return(v[y]||[])[x]}}else t=M.length,n=function(v,x){return v[x].length},r=function(v,x,y){return(v[x]||[])[y]};function c(v){if(_&&"carpet"!==_.type&&"contourcarpet"!==_.type&&v&&"category"===v.type&&_["_"+v._id.charAt(0)].length){var x=v._id.charAt(0),y={},w=_["_"+x+"CategoryMap"]||_[x];for(o=0;o<w.length;o++)y[w[o]]=o;return function(f){var C=y[v._categories[f]];return C+1?C:a}}return A.identity}var b=c(d),p=c(s);s&&"category"===s.type&&(t=s._categories.length);var v,x,y,m=new Array(t);for(o=0;o<t;o++)for(i=d&&"category"===d.type?d._categories.length:n(M,o),m[o]=new Array(i),u=0;u<i;u++)m[o][u]=l((v=M,x=p(o),y=b(u),x===a||y===a?a:r(v,x,y)));return m}},96288:function(ie){"use strict";ie.exports={min:"zmin",max:"zmax"}},2872:function(ie,z,e){"use strict";var S=e(3400),A=e(39032).BADNUM,a=e(1220);ie.exports=function(M,_,d,s,t,i){var n=M._length,r=_.makeCalcdata(M,s),o=d.makeCalcdata(M,t);r=a(M,_,s,r).vals,o=a(M,d,t,o).vals;var u,l,h,c,b=M.text,p=void 0!==b&&S.isArray1D(b),m=M.hovertext,v=void 0!==m&&S.isArray1D(m),x=S.distinctVals(r),y=x.vals,w=S.distinctVals(o),f=w.vals,C=[],T=f.length,D=y.length;for(u=0;u<i.length;u++)C[u]=S.init2dArray(T,D);p&&(h=S.init2dArray(T,D)),v&&(c=S.init2dArray(T,D));var R=S.init2dArray(T,D);for(u=0;u<n;u++)if(r[u]!==A&&o[u]!==A){var P=S.findBin(r[u]+x.minDiff/2,y),O=S.findBin(o[u]+w.minDiff/2,f);for(l=0;l<i.length;l++)C[l][O][P]=M[i[l]][u],R[O][P]=u;p&&(h[O][P]=b[u]),v&&(c[O][P]=m[u])}for(M["_"+s]=y,M["_"+t]=f,l=0;l<i.length;l++)M["_"+i[l]]=C[l];p&&(M._text=h),v&&(M._hovertext=c),_&&"category"===_.type&&(M["_"+s+"CategoryMap"]=y.map(function(q){return _._categories[q]})),d&&"category"===d.type&&(M["_"+t+"CategoryMap"]=f.map(function(q){return d._categories[q]})),M._after2before=R}},24480:function(ie,z,e){"use strict";var S=e(3400),A=e(51264),a=e(39096),M=e(31147),_=e(82748),d=e(27260),s=e(83328);ie.exports=function(t,i,n,r){function o(u,l){return S.coerce(t,i,s,u,l)}A(t,i,o,r)?(M(t,i,r,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hovertemplate"),a(o,r),_(t,i,o,r),o("hoverongaps"),o("connectgaps",S.isArray1D(i.z)&&!1!==i.zsmooth),d(t,i,r,o,{prefix:"",cLetter:"z"}),o("zorder")):i.visible=!1}},11240:function(ie,z,e){"use strict";var S=e(3400).maxRowLength;ie.exports=function(A){var a,M,_,d,s,t,i,n,r=[],o={},u=[],l=A[0],h=[],c=[0,0,0],b=S(A);for(M=0;M<A.length;M++)for(a=h,h=l,l=A[M+1]||[],_=0;_<b;_++)void 0===h[_]&&((t=(void 0!==h[_-1]?1:0)+(void 0!==h[_+1]?1:0)+(void 0!==a[_]?1:0)+(void 0!==l[_]?1:0))?(0===M&&t++,0===_&&t++,M===A.length-1&&t++,_===h.length-1&&t++,t<4&&(o[[M,_]]=[M,_,t]),r.push([M,_,t])):u.push([M,_]));for(;u.length;){for(i={},n=!1,s=u.length-1;s>=0;s--)(t=((o[[(M=(d=u[s])[0])-1,_=d[1]]]||c)[2]+(o[[M+1,_]]||c)[2]+(o[[M,_-1]]||c)[2]+(o[[M,_+1]]||c)[2])/20)&&(i[d]=[M,_,t],u.splice(s,1),n=!0);if(!n)throw"findEmpties iterated with no new neighbors";for(d in i)o[d]=i[d],r.push(i[d])}return r.sort(function(p,m){return m[2]-p[2]})}},55512:function(ie,z,e){"use strict";var S=e(93024),A=e(3400),a=A.isArrayOrTypedArray,M=e(54460),_=e(8932).extractOpts;ie.exports=function(d,s,t,i,n){n||(n={});var r,o,u,l,h=n.isContour,c=d.cd[0],b=c.trace,p=d.xa,m=d.ya,v=c.x,x=c.y,y=c.z,w=c.xCenter,f=c.yCenter,C=c.zmask,T=b.zhoverformat,D=v,R=x;if(!1!==d.index){try{u=Math.round(d.index[1]),l=Math.round(d.index[0])}catch{return void A.error("Error hovering on heatmap, pointNumber must be [row,col], found:",d.index)}if(u<0||u>=y[0].length||l<0||l>y.length)return}else{if(S.inbox(s-v[0],s-v[v.length-1],0)>0||S.inbox(t-x[0],t-x[x.length-1],0)>0)return;if(h){var P;for(D=[2*v[0]-v[1]],P=1;P<v.length;P++)D.push((v[P]+v[P-1])/2);for(D.push([2*v[v.length-1]-v[v.length-2]]),R=[2*x[0]-x[1]],P=1;P<x.length;P++)R.push((x[P]+x[P-1])/2);R.push([2*x[x.length-1]-x[x.length-2]])}u=Math.max(0,Math.min(D.length-2,A.findBin(s,D))),l=Math.max(0,Math.min(R.length-2,A.findBin(t,R)))}var O,B,q=p.c2p(v[u]),N=p.c2p(v[u+1]),H=m.c2p(x[l]),$=m.c2p(x[l+1]);h?(N=q,r=(O=c.orig_x||v)[u],$=H,o=(B=c.orig_y||x)[l]):(O=c.orig_x||w||v,B=c.orig_y||f||x,r=w?O[u]:(O[u]+O[u+1])/2,o=f?B[l]:(B[l]+B[l+1])/2,p&&"category"===p.type&&(r=v[u]),m&&"category"===m.type&&(o=x[l]),b.zsmooth&&(q=N=p.c2p(r),H=$=m.c2p(o)));var j=y[l][u];if(C&&!C[l][u]&&(j=void 0),void 0!==j||b.hoverongaps){var W;a(c.hovertext)&&a(c.hovertext[l])?W=c.hovertext[l][u]:a(c.text)&&a(c.text[l])&&(W=c.text[l][u]);var G=_(b),te=M.tickText({type:"linear",range:[G.min,G.max],hoverformat:T,_separators:p._separators,_numFormat:p._numFormat},j,"hover").text;return[A.extendFlat(d,{index:b._after2before?b._after2before[l][u]:[l,u],distance:d.maxHoverDistance,spikeDistance:d.maxSpikeDistance,x0:q,x1:N,y0:H,y1:$,xLabelVal:r,yLabelVal:o,zLabelVal:j,zLabel:te,text:W})]}}},81932:function(ie,z,e){"use strict";ie.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(ie,z,e){"use strict";var S=e(3400),A=[[-1,0],[1,0],[0,-1],[0,1]];function a(_){return.5-.25*Math.min(1,.5*_)}function M(_,d,s){var t,i,n,r,o,u,l,h,c,b,p,m,v,x=0;for(r=0;r<d.length;r++){for(p=_[i=(t=d[r])[0]][n=t[1]],b=0,c=0,o=0;o<4;o++)(l=_[i+(u=A[o])[0]])&&void 0!==(h=l[n+u[1]])&&(0===b?m=v=h:(m=Math.min(m,h),v=Math.max(v,h)),c++,b+=h);if(0===c)throw"iterateInterp2d order is wrong: no defined neighbors";_[i][n]=b/c,void 0===p?c<4&&(x=1):(_[i][n]=(1+s)*_[i][n]-s*p,v>m&&(x=Math.max(x,Math.abs(_[i][n]-p)/(v-m))))}return x}ie.exports=function(_,d){var s,t=1;for(M(_,d),s=0;s<d.length&&!(d[s][2]<4);s++);for(d=d.slice(s),s=0;s<100&&t>.01;s++)t=M(_,d,a(t));return t>.01&&S.log("interp2d didn't converge quickly",t),_}},39096:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){A("texttemplate");var M=S.extendFlat({},a.font,{color:"auto",size:"auto"});S.coerceFont(A,"textfont",M)}},35744:function(ie,z,e){"use strict";var S=e(24040),A=e(3400).isArrayOrTypedArray;ie.exports=function(a,M,_,d,s,t){var i,n,r,o=[],u=S.traceIs(a,"contour"),l=S.traceIs(a,"histogram"),h=S.traceIs(a,"gl2d");if(A(M)&&M.length>1&&!l&&"category"!==t.type){var c=M.length;if(!(c<=s))return M.slice(0,u?s:s+1);if(u||h)o=Array.from(M).slice(0,s);else if(1===s)o="log"===t.type?[.5*M[0],2*M[0]]:[M[0]-.5,M[0]+.5];else if("log"===t.type){for(o=[Math.pow(M[0],1.5)/Math.pow(M[1],.5)],r=1;r<c;r++)o.push(Math.sqrt(M[r-1]*M[r]));o.push(Math.pow(M[c-1],1.5)/Math.pow(M[c-2],.5))}else{for(o=[1.5*M[0]-.5*M[1]],r=1;r<c;r++)o.push(.5*(M[r-1]+M[r]));o.push(1.5*M[c-1]-.5*M[c-2])}if(c<s){var b,p=o[o.length-1];if("log"===t.type)for(b=p/o[o.length-2],r=c;r<s;r++)o.push(p*=b);else for(b=p-o[o.length-2],r=c;r<s;r++)o.push(p+=b)}}else{var m=a[t._id.charAt(0)+"calendar"];for(i=l?t.r2c(_,0,m):A(M)&&1===M.length?M[0]:void 0===_?0:("log"===t.type?t.d2c:t.r2c)(_,0,m),n=d||1,r=u||h?0:-.5;r<s;r++)o.push(i+n*r)}return o}},41420:function(ie,z,e){"use strict";var S=e(33428),A=e(49760),a=e(24040),M=e(43616),_=e(54460),d=e(3400),s=e(72736),t=e(76688),i=e(76308),n=e(8932).extractOpts,r=e(8932).makeColorScaleFuncFromTrace,o=e(9616),u=e(84284).LINE_SPACING,l=e(9188),h=e(2264).STYLE,c="heatmap-label";function b(y){return y.selectAll("g."+c)}function p(y){b(y).remove()}function m(y,w){var f=w.length-2,C=d.constrain(d.findBin(y,w),0,f),T=w[C],R=d.constrain(C+(y-T)/(w[C+1]-T)-.5,0,f),P=Math.round(R),O=Math.abs(R-P);return R&&R!==f&&O?{bin0:P,frac:O,bin1:Math.round(P+O/(R-P))}:{bin0:P,bin1:P,frac:0}}function v(y,w){var f=w.length-1,C=d.constrain(d.findBin(y,w),0,f),T=w[C],D=(y-T)/(w[C+1]-T)||0;return D<=0?{bin0:C,bin1:C,frac:0}:D<.5?{bin0:C,bin1:C+1,frac:D}:{bin0:C+1,bin1:C,frac:1-D}}function x(y,w,f){y[w]=f[0],y[w+1]=f[1],y[w+2]=f[2],y[w+3]=Math.round(255*f[3])}ie.exports=function(y,w,f,C){var T=w.xaxis,D=w.yaxis;d.makeTraceGroups(C,f,"hm").each(function(R){var P,O,B,q,N,H,$,j,W=S.select(this),G=R[0],ae=G.trace,te=ae.xgap||0,Q=ae.ygap||0,ee=G.z,re=G.x,J=G.y,le=G.xCenter,fe=G.yCenter,ce=a.traceIs(ae,"contour"),ge=ce?"best":ae.zsmooth,Te=ee.length,Me=d.maxRowLength(ee),we=!1,xe=!1;for(H=0;void 0===P&&H<re.length-1;)P=T.c2p(re[H]),H++;for(H=re.length-1;void 0===O&&H>0;)O=T.c2p(re[H]),H--;for(O<P&&(B=O,O=P,P=B,we=!0),H=0;void 0===q&&H<J.length-1;)q=D.c2p(J[H]),H++;for(H=J.length-1;void 0===N&&H>0;)N=D.c2p(J[H]),H--;N<q&&(B=q,q=N,N=B,xe=!0),ce&&(le=re,fe=J,re=G.xfill,J=G.yfill);var be="default";if(ge?be="best"===ge?"smooth":"fast":ae._islinear&&0===te&&0===Q&&l()&&(be="fast"),"fast"!==be){var ye="best"===ge?0:.5;P=Math.max(-ye*T._length,P),O=Math.min((1+ye)*T._length,O),q=Math.max(-ye*D._length,q),N=Math.min((1+ye)*D._length,N)}var Se,Ee,he=Math.round(O-P),ue=Math.round(N-q);if(P>=T._length||O<=0||q>=D._length||N<=0)return W.selectAll("image").data([]).exit().remove(),void p(W);"fast"===be?(Se=Me,Ee=Te):(Se=he,Ee=ue);var me=document.createElement("canvas");me.width=Se,me.height=Ee;var Pe,Ce,Ie=me.getContext("2d",{willReadFrequently:!0}),Oe=r(ae,{noNumericCheck:!0,returnArray:!0});"fast"===be?(Pe=we?function(Ar){return Me-1-Ar}:d.identity,Ce=xe?function(Ar){return Te-1-Ar}:d.identity):(Pe=function(Ar){return d.constrain(Math.round(T.c2p(re[Ar])-P),0,he)},Ce=function(Ar){return d.constrain(Math.round(D.c2p(J[Ar])-q),0,ue)});var ze,je,ve,Ae,Le=Ce(0),Ve=[Le,Le],Ne=we?0:1,We=xe?0:1,Xe=0,nt=0,dt=0,ht=0;function Mt(Ar,fn){if(void 0!==Ar){var an=Oe(Ar);return an[0]=Math.round(an[0]),an[1]=Math.round(an[1]),an[2]=Math.round(an[2]),Xe+=fn,nt+=an[0]*fn,dt+=an[1]*fn,ht+=an[2]*fn,an}return[0,0,0,0]}function kt(Ar,fn,an,Vn){var En=Ar[an.bin0];if(void 0===En)return Mt(void 0,1);var ar=Ar[an.bin1],In=fn[an.bin0],fr=fn[an.bin1];return Mt(En+an.frac*(ar-En||0)+Vn.frac*((In-En||0)+an.frac*(void 0===ar?void 0===fr?0:void 0===In?2*(fr-En):2*(2*fr-In-En)/3:void 0===fr?void 0===In?0:2*(2*En-ar-In)/3:void 0===In?2*(2*fr-ar-En)/3:fr+En-ar-In)))}if("default"!==be){var _t,ut=0;try{_t=new Uint8Array(Se*Ee*4)}catch{_t=new Array(Se*Ee*4)}if("smooth"===be){var st,Lt,Ut,Ht=le||re,Pt=fe||J,Je=new Array(Ht.length),tt=new Array(Pt.length),Ge=new Array(he),Qe=le?v:m,pt=fe?v:m;for(H=0;H<Ht.length;H++)Je[H]=Math.round(T.c2p(Ht[H])-P);for(H=0;H<Pt.length;H++)tt[H]=Math.round(D.c2p(Pt[H])-q);for(H=0;H<he;H++)Ge[H]=Qe(H,Je);for($=0;$<ue;$++)for(Lt=ee[(st=pt($,tt)).bin0],Ut=ee[st.bin1],H=0;H<he;H++,ut+=4)x(_t,ut,Ae=kt(Lt,Ut,Ge[H],st))}else for($=0;$<Te;$++)for(ve=ee[$],Ve=Ce($),H=0;H<Me;H++)Ae=Mt(ve[H],1),x(_t,ut=4*(Ve*Me+Pe(H)),Ae);var ct=Ie.createImageData(Se,Ee);try{ct.data.set(_t)}catch{var He=ct.data,qe=He.length;for($=0;$<qe;$++)He[$]=_t[$]}Ie.putImageData(ct,0,0)}else{var ft=Math.floor(te/2),et=Math.floor(Q/2);for($=0;$<Te;$++)if(ve=ee[$],Ve.reverse(),Ve[We]=Ce($+1),Ve[0]!==Ve[1]&&void 0!==Ve[0]&&void 0!==Ve[1])for(ze=[je=Pe(0),je],H=0;H<Me;H++)ze.reverse(),ze[Ne]=Pe(H+1),ze[0]!==ze[1]&&void 0!==ze[0]&&void 0!==ze[1]&&(Ae=Mt(ve[H],(ze[1]-ze[0])*(Ve[1]-Ve[0])),Ie.fillStyle="rgba("+Ae.join(",")+")",Ie.fillRect(ze[0]+ft,Ve[0]+et,ze[1]-ze[0]-te,Ve[1]-Ve[0]-Q))}nt=Math.round(nt/Xe),dt=Math.round(dt/Xe),ht=Math.round(ht/Xe);var xt=A("rgb("+nt+","+dt+","+ht+")");y._hmpixcount=(y._hmpixcount||0)+Xe,y._hmlumcount=(y._hmlumcount||0)+Xe*xt.getLuminance();var wt=W.selectAll("image").data(R);wt.enter().append("svg:image").attr({xmlns:o.svg,preserveAspectRatio:"none"}),wt.attr({height:ue,width:he,x:P,y:q,"xlink:href":me.toDataURL("image/png")}),"fast"!==be||ge||wt.attr("style",h),p(W);var At=ae.texttemplate;if(At){var yt=n(ae),Ot={type:"linear",range:[yt.min,yt.max],_separators:T._separators,_numFormat:T._numFormat},Ct="histogram2dcontour"===ae.type,Rt="contour"===ae.type,Bt=Rt?Te-1:Te,jt=Rt?1:0,Gt=Rt?Me-1:Me,on=[];for(H=Rt?1:0;H<Bt;H++){var Jt;if(Rt)Jt=G.y[H];else if(Ct){if(0===H||H===Te-1)continue;Jt=G.y[H]}else if(G.yCenter)Jt=G.yCenter[H];else{if(H+1===Te&&void 0===G.y[H+1])continue;Jt=(G.y[H]+G.y[H+1])/2}var $t=Math.round(D.c2p(Jt));if(!(0>$t||$t>D._length))for($=jt;$<Gt;$++){var tn;if(Rt)tn=G.x[$];else if(Ct){if(0===$||$===Me-1)continue;tn=G.x[$]}else if(G.xCenter)tn=G.xCenter[$];else{if($+1===Me&&void 0===G.x[$+1])continue;tn=(G.x[$]+G.x[$+1])/2}var dn=Math.round(T.c2p(tn));if(!(0>dn||dn>T._length)){var Gn=t({x:tn,y:Jt},ae,y._fullLayout);Gn.x=tn,Gn.y=Jt;var zn=G.z[H][$];void 0===zn?(Gn.z="",Gn.zLabel=""):(Gn.z=zn,Gn.zLabel=_.tickText(Ot,zn,"hover").text);var Mn=G.text&&G.text[H]&&G.text[H][$];void 0!==Mn&&!1!==Mn||(Mn=""),Gn.text=Mn;var ln=d.texttemplateString(At,Gn,y._fullLayout._d3locale,Gn,ae._meta||{});if(ln){var vn=ln.split("<br>"),hn=vn.length,_n=0;for(j=0;j<hn;j++)_n=Math.max(_n,vn[j].length);on.push({l:hn,c:_n,t:ln,x:dn,y:$t,z:zn})}}}}var Dn=ae.textfont,Pn=Dn.size,Yn=y._fullLayout.font.size;if(!Pn||"auto"===Pn){var jn=1/0,Fn=1/0,Jn=0,$n=0;for(j=0;j<on.length;j++){var nr=on[j];if(Jn=Math.max(Jn,nr.l),$n=Math.max($n,nr.c),j<on.length-1){var or=on[j+1],lr=Math.abs(or.x-nr.x),cr=Math.abs(or.y-nr.y);lr&&(jn=Math.min(jn,lr)),cr&&(Fn=Math.min(Fn,cr))}}isFinite(jn)&&isFinite(Fn)?(jn-=te,Fn-=Q,jn/=$n,Fn/=Jn,jn/=u/2,Fn/=u,Pn=Math.min(Math.floor(jn),Math.floor(Fn),Yn)):Pn=Yn}if(Pn<=0||!isFinite(Pn))return;b(W).data(on).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Ar){var Vn,fn=S.select(this),an=Dn.color;an&&"auto"!==an||(an=i.contrast(void 0===Ar.z?y._fullLayout.plot_bgcolor:"rgba("+Oe(Ar.z).join()+")")),fn.attr("data-notex",1).call(s.positionText,(Vn=Ar,Vn.x),function(Vn){return Vn.y-Pn*(Vn.l*u/2-1)}(Ar)).call(M.font,{family:Dn.family,size:Pn,color:an,weight:Dn.weight,style:Dn.style,variant:Dn.variant}).text(Ar.t).call(s.convertToTspans,y)})}})}},41648:function(ie,z,e){"use strict";var S=e(33428);ie.exports=function(A){S.select(A).selectAll(".hm image").style("opacity",function(a){return a.trace.opacity})}},82748:function(ie){"use strict";ie.exports=function(z,e,S){!1===S("zsmooth")&&(S("xgap"),S("ygap")),S("zhoverformat")}},51264:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(24040);function M(_,d){var s=d(_);return"scaled"===(s?d(_+"type","array"):"scaled")&&(d(_+"0"),d("d"+_)),s}ie.exports=function(_,d,s,t,i,n){var r,o,u=s("z");if(i=i||"x",n=n||"y",void 0===u||!u.length)return 0;if(A.isArray1D(u)){r=s(i),o=s(n);var l=A.minRowLength(r),h=A.minRowLength(o);if(0===l||0===h)return 0;d._length=Math.min(l,h,u.length)}else{if(r=M(i,s),o=M(n,s),!function(c){for(var b,p=!0,m=!1,v=!1,x=0;x<c.length;x++){if(!A.isArrayOrTypedArray(b=c[x])){p=!1;break}b.length>0&&(m=!0);for(var y=0;y<b.length;y++)if(S(b[y])){v=!0;break}}return p&&m&&v}(u))return 0;s("transpose"),d._length=null}return"heatmapgl"===_.type||a.getComponentMethod("calendars","handleTraceDefaults")(_,d,[i,n],t),!0}},74512:function(ie,z,e){"use strict";for(var S=e(83328),A=e(49084),a=e(92880).extendFlat,M=e(67824).overrideAll,_=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],d={},s=0;s<_.length;s++){var t=_[s];d[t]=S[t]}d.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(d,A("",{cLetter:"z",autoColorDflt:!1})),ie.exports=M(d,"calc","nested")},84656:function(ie,z,e){"use strict";var S=e(67792).gl_heatmap2d,A=e(54460),a=e(43080);function M(d,s){this.scene=d,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=S(d.glplot,this.options),this.heatmap._trace=this}var _=M.prototype;_.handlePick=function(d){var s=this.options,t=s.shape,i=d.pointId,n=i%t[0],r=Math.floor(i/t[0]);return{trace:this,dataCoord:d.dataCoord,traceCoord:[s.x[n],s.y[r],s.z[i]],textLabel:this.textLabels[i],name:this.name,pointIndex:[r,n],hoverinfo:this.hoverinfo}},_.update=function(d,s){var t=s[0];this.index=d.index,this.name=d.name,this.hoverinfo=d.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i),this.options.shape=[i[0].length,i.length],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=d.zsmooth;var o=function(b){for(var p=b.colorscale,m=b.zmin,v=b.zmax,x=p.length,y=new Array(x),w=new Array(4*x),f=0;f<x;f++){var C=p[f],T=a(C[1]);y[f]=m+C[0]*(v-m);for(var D=0;D<4;D++)w[4*f+D]=T[D]}return{colorLevels:y,colorValues:w}}(d);this.options.colorLevels=o.colorLevels,this.options.colorValues=o.colorValues,this.textLabels=[].concat.apply([],d.text),this.heatmap.update(this.options);var u,l,h=this.scene.xaxis,c=this.scene.yaxis;!1===d.zsmooth&&(u={ppad:t.x[1]-t.x[0]},l={ppad:t.y[1]-t.y[0]}),d._extremes[h._id]=A.findExtremes(h,t.x,u),d._extremes[c._id]=A.findExtremes(c,t.y,l)},_.dispose=function(){this.heatmap.dispose()},ie.exports=function(d,s,t){var i=new M(d,s.uid);return i.update(s,t),i}},86464:function(ie,z,e){"use strict";var S=e(3400),A=e(51264),a=e(27260),M=e(74512);ie.exports=function(_,d,s,t){function i(n,r){return S.coerce(_,d,M,n,r)}A(_,d,i,t)?(i("text"),i("zsmooth"),a(_,d,t,i,{prefix:"",cLetter:"z"})):d.visible=!1}},45536:function(ie,z,e){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ie.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(ie,z,e){"use strict";var S=e(20832),A=e(29736).axisHoverFormat,a=e(21776).Ks,M=e(21776).Gw,_=e(25376),d=e(11120),s=e(73316),t=e(92880).extendFlat;ie.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:A("x"),yhoverformat:A("y"),text:t({},S.text,{}),hovertext:t({},S.hovertext,{}),orientation:S.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:d("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:d("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:s.eventDataKeys}),texttemplate:M({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},S.textposition,{arrayOk:!1}),textfont:_({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:_({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:_({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:S.insidetextanchor,textangle:S.textangle,cliponaxis:S.cliponaxis,constraintext:S.constraintext,marker:S.marker,offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:S.selected,unselected:S.unselected,_deprecated:{bardir:S._deprecated.bardir},zorder:S.zorder}},2e3:function(ie){"use strict";ie.exports=function(z,e){for(var S=z.length,A=0,a=0;a<S;a++)e[a]?(z[a]/=e[a],A+=z[a]):z[a]=null;return A}},11120:function(ie){"use strict";ie.exports=function(z,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(ie,z,e){"use strict";var S=e(38248);ie.exports={count:function(A,a,M){return M[A]++,1},sum:function(A,a,M,_){var d=_[a];return S(d)?(d=Number(d),M[A]+=d,d):0},avg:function(A,a,M,_,d){var s=_[a];return S(s)&&(s=Number(s),M[A]+=s,d[A]++),0},min:function(A,a,M,_){var d=_[a];if(S(d)){if(d=Number(d),!S(M[A]))return M[A]=d,d;if(M[A]>d){var s=d-M[A];return M[A]=d,s}}return 0},max:function(A,a,M,_){var d=_[a];if(S(d)){if(d=Number(d),!S(M[A]))return M[A]=d,d;if(M[A]<d){var s=d-M[A];return M[A]=d,s}}return 0}}},67712:function(ie,z,e){"use strict";var S=e(39032),A=S.ONEAVGYEAR,a=S.ONEAVGMONTH,M=S.ONEDAY,_=S.ONEHOUR,d=S.ONEMIN,s=S.ONESEC,t=e(54460).tickIncrement;function i(u,l,h,c){if(u*l<=0)return 1/0;for(var b=Math.abs(l-u),p="date"===h.type,m=n(b,p),v=0;v<10;v++){var x=n(80*m,p);if(m===x||!r(x,u,l,p,h,c))break;m=x}return m}function n(u,l){return l&&u>s?u>M?u>1.1*A?A:u>1.1*a?a:M:u>_?_:u>d?d:s:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function r(u,l,h,c,b,p){if(c&&u>M){var m=o(l,b,p),v=o(h,b,p),x=u===A?0:1;return m[x]!==v[x]}return Math.floor(h/u)-Math.floor(l/u)>.1}function o(u,l,h){var c=l.c2d(u,A,h).split("-");return""===c[0]&&(c.unshift(),c[0]="-"+c[0]),c}ie.exports=function(u,l,h,c,b){var p,m,v=-1.1*l,x=-.1*l,y=u-x,w=h[0],f=h[1],C=Math.min(i(w+x,w+y,c,b),i(f+x,f+y,c,b)),T=Math.min(i(w+v,w+x,c,b),i(f+v,f+x,c,b));if(C>T&&T<Math.abs(f-w)/4e3?(p=C,m=!1):(p=Math.min(C,T),m=!0),"date"===c.type&&p>M){var D=p===A?1:6,R=p===A?"M12":"M1";return function(P,O){var B=c.c2d(P,A,b),q=B.indexOf("-",D);q>0&&(B=B.substr(0,q));var N=c.d2c(B,0,b);if(N<P){var H=t(N,R,!1,b);(N+H)/2<P+u&&(N=H)}return O&&m?t(N,R,!0,b):N}}return function(P,O){var B=p*Math.round(P/p);return B+p/10<P&&B+.9*p<P+u&&(B+=p),O&&m&&(B-=p),B}}},35852:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(24040),M=e(54460),_=e(84664),d=e(16964),s=e(10648),t=e(2e3),i=e(67712);function n(r,o,u,l,h){var c,b,p,m,v,x,y,w=l+"bins",f=r._fullLayout,T=f._histogramBinOpts[o["_"+l+"bingroup"]],D="overlay"===f.barmode,R=function(xe){return u.r2c(xe,0,m)},P=function(xe){return u.c2r(xe,0,m)},O="date"===u.type?function(xe){return xe||0===xe?A.cleanDate(xe,null,m):null}:function(xe){return S(xe)?Number(xe):null};function B(xe,be,ye){be[xe+"Found"]?(be[xe]=O(be[xe]),null===be[xe]&&(be[xe]=ye[xe])):(x[xe]=be[xe]=ye[xe],A.nestedProperty(b[0],w+"."+xe).set(ye[xe]))}if(o["_"+l+"autoBinFinished"])delete o["_"+l+"autoBinFinished"];else{b=T.traces;var q=[],N=!0,H=!1,$=!1;for(c=0;c<b.length;c++)if((p=b[c]).visible){var j=T.dirs[c];v=p["_"+j+"pos0"]=u.makeCalcdata(p,j),q=A.concat(q,v),delete p["_"+l+"autoBinFinished"],!0===o.visible&&(N?N=!1:(delete p._autoBin,p["_"+l+"autoBinFinished"]=1),a.traceIs(p,"2dMap")&&(H=!0),"histogram2dcontour"===p.type&&($=!0))}var W=M.autoBin(q,u,T.nbins,H,m=b[0][l+"calendar"],T.sizeFound&&T.size),G=b[0]._autoBin={};if(x=G[T.dirs[0]]={},$&&(T.size||(W.start=P(M.tickIncrement(R(W.start),W.size,!0,m))),void 0===T.end&&(W.end=P(M.tickIncrement(R(W.end),W.size,!1,m)))),D&&!a.traceIs(o,"2dMap")&&0===W._dataSpan&&"category"!==u.type&&"multicategory"!==u.type&&""===o.bingroup&&void 0===o.xbins){if(h)return[W,v,!0];W=function(xe,be,ye,Se,Ee){var he,ue,me,Pe=xe._fullLayout,Ce=function(nt,dt){for(var ht=dt.xaxis,Mt=dt.yaxis,kt=dt.orientation,_t=[],ut=nt._fullData,st=0;st<ut.length;st++){var Lt=ut[st];"histogram"===Lt.type&&!0===Lt.visible&&Lt.orientation===kt&&Lt.xaxis===ht&&Lt.yaxis===Mt&&_t.push(Lt)}return _t}(xe,be),Ie=!1,Oe=1/0,ze=[be];for(he=0;he<Ce.length;he++)if((ue=Ce[he])===be)Ie=!0;else if(Ie){var je=n(xe,ue,ye,Se,!0),ve=je[0],Ae=je[2];ue["_"+Se+"autoBinFinished"]=1,ue["_"+Se+"pos0"]=je[1],Ae?ze.push(ue):Oe=Math.min(Oe,ve.size)}else me=Pe._histogramBinOpts[ue["_"+Se+"bingroup"]],Oe=Math.min(Oe,me.size||ue[Ee].size);var Le=new Array(ze.length);for(he=0;he<ze.length;he++)for(var Ve=ze[he]["_"+Se+"pos0"],Ne=0;Ne<Ve.length;Ne++)if(void 0!==Ve[Ne]){Le[he]=Ve[Ne];break}for(isFinite(Oe)||(Oe=A.distinctVals(Le).minDiff),he=0;he<ze.length;he++){var We=(ue=ze[he])[Se+"calendar"],Xe={start:ye.c2r(Le[he]-Oe/2,0,We),end:ye.c2r(Le[he]+Oe/2,0,We),size:Oe};ue._input[Ee]=ue[Ee]=Xe,(me=Pe._histogramBinOpts[ue["_"+Se+"bingroup"]])&&A.extendFlat(me,Xe)}return be[Ee]}(r,o,u,l,w)}(y=p.cumulative||{}).enabled&&"include"!==y.currentbin&&("decreasing"===y.direction?W.start=P(M.tickIncrement(R(W.start),W.size,!0,m)):W.end=P(M.tickIncrement(R(W.end),W.size,!1,m))),T.size=W.size,T.sizeFound||(x.size=W.size,A.nestedProperty(b[0],w+".size").set(W.size)),B("start",T,W),B("end",T,W)}v=o["_"+l+"pos0"],delete o["_"+l+"pos0"];var ae=o._input[w]||{},te=A.extendFlat({},T),Q=T.start,ee=u.r2l(ae.start),re=void 0!==ee;if((T.startFound||re)&&ee!==u.r2l(Q)){var J=re?ee:A.aggNums(Math.min,null,v),le={type:"category"===u.type||"multicategory"===u.type?"linear":u.type,r2l:u.r2l,dtick:T.size,tick0:Q,calendar:m,range:[J,M.tickIncrement(J,T.size,!1,m)].map(u.l2r)},fe=M.tickFirst(le);fe>u.r2l(J)&&(fe=M.tickIncrement(fe,T.size,!0,m)),te.start=u.l2r(fe),re||A.nestedProperty(o,w+".start").set(te.start)}var ce=T.end,ge=u.r2l(ae.end),Te=void 0!==ge;if((T.endFound||Te)&&ge!==u.r2l(ce)){var Me=Te?ge:A.aggNums(Math.max,null,v);te.end=u.l2r(Me),Te||A.nestedProperty(o,w+".start").set(te.end)}var we="autobin"+l;return!1===o._input[we]&&(o._input[w]=A.extendFlat({},o[w]||{}),delete o._input[we],delete o[we]),[te,v]}ie.exports={calc:function(r,o){var u,l,h,c,b=[],p=[],m="h"===o.orientation,v=M.getFromId(r,m?o.yaxis:o.xaxis),x=m?"y":"x",y={x:"y",y:"x"}[x],w=o[x+"calendar"],f=o.cumulative,C=n(r,o,v,x),T=C[0],D=C[1],R="string"==typeof T.size,P=[],O=R?P:T,B=[],q=[],N=[],H=0,$=o.histnorm,j=o.histfunc,W=-1!==$.indexOf("density");f.enabled&&W&&($=$.replace(/ ?density$/,""),W=!1);var G,ae="max"===j||"min"===j?null:0,te=d.count,Q=s[$],ee=!1,re=function(ue){return v.r2c(ue,0,w)};for(A.isArrayOrTypedArray(o[y])&&"count"!==j&&(G=o[y],ee="avg"===j,te=d[j]),u=re(T.start),h=re(T.end)+(u-M.tickIncrement(u,T.size,!1,w))/1e6;u<h&&b.length<1e6&&(l=M.tickIncrement(u,T.size,!1,w),b.push((u+l)/2),p.push(ae),N.push([]),P.push(u),W&&B.push(1/(l-u)),ee&&q.push(0),!(l<=u));)u=l;P.push(u),R||"date"!==v.type||(O={start:re(O.start),end:re(O.end),size:O.size}),r._fullLayout._roundFnOpts||(r._fullLayout._roundFnOpts={});var J=o["_"+x+"bingroup"],le={leftGap:1/0,rightGap:1/0};J&&(r._fullLayout._roundFnOpts[J]||(r._fullLayout._roundFnOpts[J]=le),le=r._fullLayout._roundFnOpts[J]);var fe,ce=p.length,ge=!0,Te=le.leftGap,Me=le.rightGap,we={};for(u=0;u<D.length;u++){var xe=D[u];(c=A.findBin(xe,O))>=0&&c<ce&&(H+=te(c,u,p,G,q),ge&&N[c].length&&xe!==D[N[c][0]]&&(ge=!1),N[c].push(u),we[u]=c,Te=Math.min(Te,xe-P[c]),Me=Math.min(Me,P[c+1]-xe))}le.leftGap=Te,le.rightGap=Me,ge||(fe=function(ue,me){return function(){var Pe=r._fullLayout._roundFnOpts[J];return i(Pe.leftGap,Pe.rightGap,P,v,w)(ue,me)}}),ee&&(H=t(p,q)),Q&&Q(p,H,B),f.enabled&&function(ue,me,Pe){var Ce,Ie,Oe;function ze(ve){Oe=ue[ve],ue[ve]/=2}function je(ve){ue[ve]=Oe+(Ie=ue[ve])/2,Oe+=Ie}if("half"===Pe)if("increasing"===me)for(ze(0),Ce=1;Ce<ue.length;Ce++)je(Ce);else for(ze(ue.length-1),Ce=ue.length-2;Ce>=0;Ce--)je(Ce);else if("increasing"===me){for(Ce=1;Ce<ue.length;Ce++)ue[Ce]+=ue[Ce-1];"exclude"===Pe&&(ue.unshift(0),ue.pop())}else{for(Ce=ue.length-2;Ce>=0;Ce--)ue[Ce]+=ue[Ce+1];"exclude"===Pe&&(ue.push(0),ue.shift())}}(p,f.direction,f.currentbin);var be=Math.min(b.length,p.length),ye=[],Se=0,Ee=be-1;for(u=0;u<be;u++)if(p[u]){Se=u;break}for(u=be-1;u>=Se;u--)if(p[u]){Ee=u;break}for(u=Se;u<=Ee;u++)if(S(b[u])&&S(p[u])){var he={p:b[u],s:p[u],b:0};f.enabled||(he.pts=N[u],ge?he.ph0=he.ph1=N[u].length?D[N[u][0]]:b[u]:(o._computePh=!0,he.ph0=fe(P[u]),he.ph1=fe(P[u+1],!0))),ye.push(he)}return 1===ye.length&&(ye[0].width1=M.tickIncrement(ye[0].p,T.size,!1,w)-ye[0].p),_(ye,o),A.isArrayOrTypedArray(o.selectedpoints)&&A.tagSelected(ye,o,we),ye},calcAllAutoBins:n}},73316:function(ie){"use strict";ie.exports={eventDataKeys:["binNumber"]}},80536:function(ie,z,e){"use strict";var S=e(3400),A=e(79811),a=e(24040).traceIs,M=e(20011),_=e(31508).validateCornerradius,d=S.nestedProperty,s=e(71888).getAxisGroup,t=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];ie.exports=function(n,r){var o,u,l,h,c,b,p,m=r._histogramBinOpts={},v=[],x={},y=[];function w(ae,te){return S.coerce(o._input,o,o._module.attributes,ae,te)}function f(ae){return"v"===ae.orientation?"x":"y"}function C(ae,te,Q){var ee=ae.uid+"__"+Q;te||(te=ee);var re=A.getFromTrace({_fullLayout:r},ae,Q).type,J=ae[Q+"calendar"]||"",le=m[te],fe=!0;le&&(re===le.axType&&J===le.calendar?(fe=!1,le.traces.push(ae),le.dirs.push(Q)):(te=ee,re!==le.axType&&S.warn(["Attempted to group the bins of trace",ae.index,"set on a","type:"+re,"axis","with bins on","type:"+le.axType,"axis."].join(" ")),J!==le.calendar&&S.warn(["Attempted to group the bins of trace",ae.index,"set with a",J,"calendar","with bins",le.calendar?"on a "+le.calendar+" calendar":"w/o a set calendar"].join(" ")))),fe&&(m[te]={traces:[ae],dirs:[Q],axType:re,calendar:ae[Q+"calendar"]||""}),ae["_"+Q+"bingroup"]=te}for(c=0;c<n.length;c++)if(a(o=n[c],"histogram")){if(v.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,"histogram"===o.type){var T=w("marker.cornerradius",r.barcornerradius);o.marker&&(o.marker.cornerradius=_(T))}a(o,"2dMap")||M(o._input,o,r,w)}var D=r._alignmentOpts||{};for(c=0;c<v.length;c++){if(l="",!a(o=v[c],"2dMap")){if(h=f(o),"group"===r.barmode&&o.alignmentgroup){var P=s(r,o[h+"axis"])+o.orientation;(D[P]||{})[o.alignmentgroup]&&(l=P)}l||"overlay"===r.barmode||(l=s(r,o.xaxis)+s(r,o.yaxis)+f(o))}l?(x[l]||(x[l]=[]),x[l].push(o)):y.push(o)}for(l in x)if(1!==(u=x[l]).length){var O=!1;for(u.length&&(o=u[0],O=w("bingroup")),l=O||l,c=0;c<u.length;c++){var B=(o=u[c])._input.bingroup;B&&B!==l&&S.warn(["Trace",o.index,"must match","within bingroup",l+".","Ignoring its bingroup:",B,"setting."].join(" ")),o.bingroup=l,C(o,l,f(o))}}else y.push(u[0]);for(c=0;c<y.length;c++){o=y[c];var q=w("bingroup");if(a(o,"2dMap"))for(p=0;p<2;p++){var N=w((h=i[p])+"bingroup",q?q+"__"+h:null);C(o,N,h)}else C(o,q,f(o))}for(l in m){var H=m[l];for(u=H.traces,b=0;b<t.length;b++){var $,j,W=t[b],G=W.name;if("nbins"!==G||!H.sizeFound){for(c=0;c<u.length;c++){if(void 0!==d((o=u[c])._input,$=W.aStr[h=H.dirs[c]]).get()){H[G]=w($),H[G+"Found"]=!0;break}(j=(o._autoBin||{})[h]||{})[G]&&d(o,$).set(j[G])}if("start"===G||"end"===G)for(;c<u.length;c++)(o=u[c])["_"+h+"bingroup"]&&w($,(j=(o._autoBin||{})[h]||{})[G]);"nbins"!==G||H.sizeFound||H.nbinsFound||(o=u[0],H[G]=w($))}}}}},6616:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(76308),M=e(31508).handleText,_=e(55592),d=e(40196);ie.exports=function(s,t,i,n){function r(x,y){return A.coerce(s,t,d,x,y)}var o=r("x"),u=r("y");r("cumulative.enabled")&&(r("cumulative.direction"),r("cumulative.currentbin")),r("text");var l=r("textposition");M(s,t,n,r,l,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),r("hovertext"),r("hovertemplate"),r("xhoverformat"),r("yhoverformat");var h=r("orientation",u&&!o?"h":"v"),c="v"===h?"x":"y",b="v"===h?"y":"x",p=o&&u?Math.min(A.minRowLength(o)&&A.minRowLength(u)):A.minRowLength(t[c]||[]);if(p){t._length=p,S.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y"],n),t[b]&&r("histfunc"),r("histnorm"),r("autobin"+c),_(s,t,r,i,n),A.coerceSelectionMarkerOpacity(t,r);var m=(t.marker.line||{}).color,v=S.getComponentMethod("errorbars","supplyDefaults");v(s,t,m||a.defaultLine,{axis:"y"}),v(s,t,m||a.defaultLine,{axis:"x",inherit:"y"}),r("zorder")}else t.visible=!1}},84980:function(ie){"use strict";ie.exports=function(z,e,S,A,a){if(z.x="xVal"in e?e.xVal:e.x,z.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(z.z=e.zLabelVal),e.xa&&(z.xaxis=e.xa),e.ya&&(z.yaxis=e.ya),!(S.cumulative||{}).enabled){var M,_=Array.isArray(a)?A[0].pts[a[0]][a[1]]:A[a].pts;if(z.pointNumbers=_,z.binNumber=z.pointNumber,delete z.pointNumber,delete z.pointIndex,S._indexToPoints){M=[];for(var d=0;d<_.length;d++)M=M.concat(S._indexToPoints[_[d]])}else M=_;z.pointIndices=M}return z}},43339:function(ie,z,e){"use strict";var S=e(63400).hoverPoints,A=e(54460).hoverLabelText;ie.exports=function(a,M,_,d,s){var t=S(a,M,_,d,s);if(t){var i=(a=t[0]).cd[a.index],n=a.cd[0].trace;if(!n.cumulative.enabled){var r="h"===n.orientation?"y":"x";a[r+"Label"]=A(a[r+"a"],[i.ph0,i.ph1],n[r+"hoverformat"])}return t}}},42600:function(ie,z,e){"use strict";ie.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(ie){"use strict";ie.exports={percent:function(z,e){for(var S=z.length,A=100/e,a=0;a<S;a++)z[a]*=A},probability:function(z,e){for(var S=z.length,A=0;A<S;A++)z[A]/=e},density:function(z,e,S,A){var a=z.length;A=A||1;for(var M=0;M<a;M++)z[M]*=S[M]*A},"probability density":function(z,e,S,A){var a=z.length;A&&(e/=A);for(var M=0;M<a;M++)z[M]*=S[M]/e}}},37008:function(ie,z,e){"use strict";var S=e(40196),A=e(11120),a=e(83328),M=e(45464),_=e(29736).axisHoverFormat,d=e(21776).Ks,s=e(21776).Gw,t=e(49084),i=e(92880).extendFlat;ie.exports=i({x:S.x,y:S.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:S.histnorm,histfunc:S.histfunc,nbinsx:S.nbinsx,xbins:A("x"),nbinsy:S.nbinsy,ybins:A("y"),autobinx:S.autobinx,autobiny:S.autobiny,bingroup:i({},S.bingroup,{}),xbingroup:i({},S.bingroup,{}),ybingroup:i({},S.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:d({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:i({},M.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},55480:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(16964),M=e(10648),_=e(2e3),d=e(67712),s=e(35852).calcAllAutoBins;function t(r,o,u,l){var h,c=new Array(r);if(l)for(h=0;h<r;h++)c[h]=1/(o[h+1]-o[h]);else{var b=1/u;for(h=0;h<r;h++)c[h]=b}return c}function i(r,o){return{start:r(o.start),end:r(o.end),size:o.size}}function n(r,o,u,l,h,c){var b,p=r.length-1,m=new Array(p),v=d(u,l,r,h,c);for(b=0;b<p;b++){var x=(o||[])[b];m[b]=void 0===x?[v(r[b]),v(r[b+1],!0)]:[x,x]}return m}ie.exports=function(r,o){var u,l,h,c,b=A.getFromId(r,o.xaxis),p=A.getFromId(r,o.yaxis),m=o.xcalendar,v=o.ycalendar,x=function(Mt){return b.r2c(Mt,0,m)},y=function(Mt){return p.r2c(Mt,0,v)},w=s(r,o,b,"x"),f=w[0],C=w[1],T=s(r,o,p,"y"),D=T[0],R=T[1],P=o._length;C.length>P&&C.splice(P,C.length-P),R.length>P&&R.splice(P,R.length-P);var O=[],B=[],q=[],N="string"==typeof f.size,H="string"==typeof D.size,$=[],j=[],W=N?$:f,G=H?j:D,ae=0,te=[],Q=[],ee=o.histnorm,re=o.histfunc,J=-1!==ee.indexOf("density"),le="max"===re||"min"===re?null:0,fe=a.count,ce=M[ee],ge=!1,Te=[],Me=[],we="z"in o?o.z:"marker"in o&&Array.isArray(o.marker.color)?o.marker.color:"";we&&"count"!==re&&(ge="avg"===re,fe=a[re]);var xe=f.size,be=x(f.start),ye=x(f.end)+(be-A.tickIncrement(be,xe,!1,m))/1e6;for(u=be;u<ye;u=A.tickIncrement(u,xe,!1,m))B.push(le),$.push(u),ge&&q.push(0);$.push(u);var Ee=B.length,he=(u-be)/Ee,ue=b.c2r(be+he/2,0,m),me=D.size,Pe=y(D.start),Ce=y(D.end)+(Pe-A.tickIncrement(Pe,me,!1,v))/1e6;for(u=Pe;u<Ce;u=A.tickIncrement(u,me,!1,v)){O.push(B.slice()),j.push(u);var Ie=new Array(Ee);for(l=0;l<Ee;l++)Ie[l]=[];Q.push(Ie),ge&&te.push(q.slice())}j.push(u);var Oe=O.length,ze=(u-Pe)/Oe,je=p.c2r(Pe+ze/2,0,v);J&&(Te=t(B.length,W,he,N),Me=t(O.length,G,ze,H)),N||"date"!==b.type||(W=i(x,W)),H||"date"!==p.type||(G=i(y,G));var ve=!0,Ae=!0,Le=new Array(Ee),Ve=new Array(Oe),Ne=1/0,We=1/0,Xe=1/0,nt=1/0;for(u=0;u<P;u++){var dt=C[u],ht=R[u];h=S.findBin(dt,W),c=S.findBin(ht,G),h>=0&&h<Ee&&c>=0&&c<Oe&&(ae+=fe(h,u,O[c],we,te[c]),Q[c][h].push(u),ve&&(void 0===Le[h]?Le[h]=dt:Le[h]!==dt&&(ve=!1)),Ae&&(void 0===Ve[c]?Ve[c]=ht:Ve[c]!==ht&&(Ae=!1)),Ne=Math.min(Ne,dt-$[h]),We=Math.min(We,$[h+1]-dt),Xe=Math.min(Xe,ht-j[c]),nt=Math.min(nt,j[c+1]-ht))}if(ge)for(c=0;c<Oe;c++)ae+=_(O[c],te[c]);if(ce)for(c=0;c<Oe;c++)ce(O[c],ae,Te,Me[c]);return{x:C,xRanges:n($,ve&&Le,Ne,We,b,m),x0:ue,dx:he,y:R,yRanges:n(j,Ae&&Ve,Xe,nt,p,v),y0:je,dy:ze,z:O,pts:Q}}},99784:function(ie,z,e){"use strict";var S=e(3400),A=e(56408),a=e(82748),M=e(27260),_=e(39096),d=e(37008);ie.exports=function(s,t,i,n){function r(o,u){return S.coerce(s,t,d,o,u)}A(s,t,r,n),!1!==t.visible&&(a(s,t,r,n),M(s,t,n,r,{prefix:"",cLetter:"z"}),r("hovertemplate"),_(r,n),r("xhoverformat"),r("yhoverformat"))}},59576:function(ie,z,e){"use strict";var S=e(55512),A=e(54460).hoverLabelText;ie.exports=function(a,M,_,d,s){var t=S(a,M,_,d,s);if(t){var i=(a=t[0]).index,o=a.cd[0],u=o.trace,l=o.xRanges[i[1]],h=o.yRanges[i[0]];return a.xLabel=A(a.xa,[l[0],l[1]],u.xhoverformat),a.yLabel=A(a.ya,[h[0],h[1]],u.yhoverformat),t}}},21536:function(ie,z,e){"use strict";ie.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(ie,z,e){"use strict";var S=e(24040),A=e(3400);ie.exports=function(a,M,_,d){var s=_("x"),t=_("y"),i=A.minRowLength(s),n=A.minRowLength(t);i&&n?(M._length=Math.min(i,n),S.getComponentMethod("calendars","handleTraceDefaults")(a,M,["x","y"],d),(_("z")||_("marker.color"))&&_("histfunc"),_("histnorm"),_("autobinx"),_("autobiny")):M.visible=!1}},81220:function(ie,z,e){"use strict";var S=e(37008),A=e(67104),a=e(49084),M=e(29736).axisHoverFormat,_=e(92880).extendFlat;ie.exports=_({x:S.x,y:S.y,z:S.z,marker:S.marker,histnorm:S.histnorm,histfunc:S.histfunc,nbinsx:S.nbinsx,xbins:S.xbins,nbinsy:S.nbinsy,ybins:S.ybins,autobinx:S.autobinx,autobiny:S.autobiny,bingroup:S.bingroup,xbingroup:S.xbingroup,ybingroup:S.ybingroup,autocontour:A.autocontour,ncontours:A.ncontours,contours:A.contours,line:{color:A.line.color,width:_({},A.line.width,{dflt:.5}),dash:A.line.dash,smoothing:A.line.smoothing,editType:"plot"},xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:S.hovertemplate,texttemplate:A.texttemplate,textfont:A.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(ie,z,e){"use strict";var S=e(3400),A=e(56408),a=e(84952),M=e(97680),_=e(39096),d=e(81220);ie.exports=function(s,t,i,n){function r(o,u){return S.coerce(s,t,d,o,u)}A(s,t,r,n),!1!==t.visible&&(a(s,t,r,function(o){return S.coerce2(s,t,d,o)}),M(s,t,r,n),r("xhoverformat"),r("yhoverformat"),r("hovertemplate"),t.contours&&"heatmap"===t.contours.coloring&&_(r,n))}},65664:function(ie,z,e){"use strict";ie.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(21776).Gw,a=e(49084),M=e(86968).u,_=e(74996),d=e(424),s=e(40516),t=e(32984),i=e(92880).extendFlat,n=e(98192).c;ie.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:d.marker.colors,line:d.marker.line,pattern:n,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:d.leaf,pathbar:s.pathbar,text:_.text,textinfo:d.textinfo,texttemplate:A({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:_.hovertext,hoverinfo:d.hoverinfo,hovertemplate:S({},{keys:t.eventDataKeys}),textfont:_.textfont,insidetextfont:_.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:_.sort,root:d.root,domain:M({name:"icicle",trace:!0,editType:"calc"})}},59564:function(ie,z,e){"use strict";var S=e(7316);z.name="icicle",z.plot=function(A,a,M,_){S.plotBasePlot(z.name,A,a,M,_)},z.clean=function(A,a,M,_){S.cleanBasePlot(z.name,A,a,M,_)}},73876:function(ie,z,e){"use strict";var S=e(3776);z.r=function(A,a){return S.calc(A,a)},z.q=function(A){return S._runCrossTraceCalc("icicle",A)}},7045:function(ie,z,e){"use strict";var S=e(3400),A=e(97376),a=e(76308),M=e(86968).Q,_=e(31508).handleText,d=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,n=t.handleDefaults;ie.exports=function(r,o,u,l){function h(y,w){return S.coerce(r,o,A,y,w)}var c=h("labels"),b=h("parents");if(c&&c.length&&b&&b.length){var p=h("values");h(p&&p.length?"branchvalues":"count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var m=h("text");h("texttemplate"),o.texttemplate||h("textinfo",S.isArrayOrTypedArray(m)?"text+label":"label"),h("hovertext"),h("hovertemplate");var v=h("pathbar.visible");_(r,o,l,h,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),s(r,o,l,h);var x=o._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis;x&&n(r,o,l,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",x?1:.7),o._hovered={marker:{line:{width:2,color:a.contrast(l.paper_bgcolor)}}},v&&(h("pathbar.thickness",o.pathbar.textfont.size+2*d),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),M(o,l,h),o._length=null}else o.visible=!1}},67880:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(72736),_=e(25132),d=e(47192).styleOne,s=e(32984),t=e(78176),i=e(45716),n=e(96488).formatSliceLabel,r=!1;ie.exports=function(o,u,l,h,c){var b=c.width,p=c.height,m=c.viewX,v=c.viewY,x=c.pathSlice,y=c.toMoveInsideSlice,w=c.strTransform,f=c.hasTransition,C=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,D=c.makeUpdateTextInterpolator,R=c.prevEntry,P=o._context.staticPlot,O=o._fullLayout,B=u[0].trace,q=-1!==B.textposition.indexOf("left"),N=-1!==B.textposition.indexOf("right"),H=-1!==B.textposition.indexOf("bottom"),$=_(l,[b,p],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}).descendants(),j=1/0,W=-1/0;$.forEach(function(ee){var re=ee.depth;re>=B._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(j=Math.min(j,re),W=Math.max(W,re))}),h=h.data($,t.getPtId),B._maxVisibleLayers=isFinite(W)?W-j+1:0,h.enter().append("g").classed("slice",!0),C(h,r,{},[b,p],x),h.order();var G=null;if(f&&R){var ae=t.getPtId(R);h.each(function(ee){null===G&&t.getPtId(ee)===ae&&(G={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var te=function(){return G||{x0:0,x1:b,y0:0,y1:p}},Q=h;return f&&(Q=Q.transition().each("end",function(){var ee=S.select(this);t.setSliceCursor(ee,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(ee){ee._x0=m(ee.x0),ee._x1=m(ee.x1),ee._y0=v(ee.y0),ee._y1=v(ee.y1),ee._hoverX=m(ee.x1-B.tiling.pad),ee._hoverY=v(H?ee.y1-B.tiling.pad/2:ee.y0+B.tiling.pad/2);var re=S.select(this),J=A.ensureSingle(re,"path","surface",function(ge){ge.style("pointer-events",P?"none":"all")});f?J.transition().attrTween("d",function(ge){var Te=T(ge,r,te(),[b,p],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(Me){return x(Te(Me))}}):J.attr("d",x),re.call(i,l,o,u,{styleOne:d,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),J.call(d,ee,B,o,{hovered:!1}),ee._text=ee.x0===ee.x1||ee.y0===ee.y1?"":n(ee,l,B,u,O)||"";var le=A.ensureSingle(re,"g","slicetext"),fe=A.ensureSingle(le,"text","",function(ge){ge.attr("data-notex",1)}),ce=A.ensureUniformFontSize(o,t.determineTextFont(B,ee,O.font));fe.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":q?"start":"middle").call(a.font,ce).call(M.convertToTspans,o),ee.textBB=a.bBox(fe.node()),ee.transform=y(ee,{fontSize:ce.size}),ee.transform.fontSize=ce.size,f?fe.transition().attrTween("transform",function(ge){var Te=D(ge,r,te(),[b,p]);return function(Me){return w(Te(Me))}}):fe.attr("transform",w(ee))}),G}},29044:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(ie){"use strict";ie.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(ie,z,e){"use strict";var S=e(3400),A=e(90676);ie.exports=function(a,M){function _(d,s){return S.coerce(a,M,A,d,s)}_("iciclecolorway",M.colorway),_("extendiciclecolors")}},25132:function(ie,z,e){"use strict";var S=e(74148),A=e(83024);ie.exports=function(a,M,_){var d=_.flipX,s=_.flipY,t="h"===_.orientation,i=_.maxDepth,n=M[0],r=M[1];i&&(n=(a.height+1)*M[0]/Math.min(a.height+1,i),r=(a.height+1)*M[1]/Math.min(a.height+1,i));var o=S.partition().padding(_.pad.inner).size(t?[M[1],n]:[M[0],r])(a);return(t||d||s)&&A(o,M,{swapXY:t,flipX:d,flipY:s}),o}},38364:function(ie,z,e){"use strict";var S=e(95808),A=e(67880);ie.exports=function(a,M,_,d){return S(a,M,_,d,{type:"icicle",drawDescendants:A})}},47192:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(3400),M=e(82744).resizeText,_=e(60404);function d(s,t,i,n){var o=!t.children,u=t.data.data.i,l=a.castOption(i,u,"marker.line.color")||A.defaultLine,h=a.castOption(i,u,"marker.line.width")||0;s.call(_,t,i,n).style("stroke-width",h).call(A.stroke,l).style("opacity",o?i.leaf.opacity:null)}ie.exports={style:function(s){var t=s._fullLayout._iciclelayer.selectAll(".trace");M(s,t,"icicle"),t.each(function(i){var n=S.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(o){S.select(this).call(d,o,r,s)})})},styleOne:d}},95188:function(ie,z,e){"use strict";for(var S=e(45464),A=e(52904).zorder,a=e(21776).Ks,M=e(92880).extendFlat,_=e(47797).colormodel,d=["rgb","rgba","rgba256","hsl","hsla"],s=[],t=[],i=0;i<d.length;i++){var n=_[d[i]];s.push("For the `"+d[i]+"` colormodel, it is ["+(n.zminDflt||n.min).join(", ")+"]."),t.push("For the `"+d[i]+"` colormodel, it is ["+(n.zmaxDflt||n.max).join(", ")+"].")}ie.exports=M({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:d,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:M({},S.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:a({},{keys:["z","color","colormodel"]}),zorder:A,transforms:void 0})},93336:function(ie,z,e){"use strict";var S=e(3400),A=e(47797),a=e(38248),M=e(54460),_=e(3400).maxRowLength,d=e(18712).i;function s(i,n,r,o){return function(u){return S.constrain((u-i)*n,r,o)}}function t(i,n){return function(r){return S.constrain(r,i,n)}}ie.exports=function(i,n){var r,o;if(n._hasZ)r=n.z.length,o=_(n.z);else if(n._hasSource){var u=d(n.source);r=u.height,o=u.width}var l,h=M.getFromId(i,n.xaxis||"x"),c=M.getFromId(i,n.yaxis||"y"),b=h.d2c(n.x0)-n.dx/2,p=c.d2c(n.y0)-n.dy/2,m=[b,b+o*n.dx],v=[p,p+r*n.dy];if(h&&"log"===h.type)for(l=0;l<o;l++)m.push(b+l*n.dx);if(c&&"log"===c.type)for(l=0;l<r;l++)v.push(p+l*n.dy);return n._extremes[h._id]=M.findExtremes(h,m),n._extremes[c._id]=M.findExtremes(c,v),n._scaler=function(x){var y=A.colormodel[x.colormodel],w=(y.colormodel||x.colormodel).length;x._sArray=[];for(var f=0;f<w;f++)x._sArray.push(y.min[f]!==x.zmin[f]||y.max[f]!==x.zmax[f]?s(x.zmin[f],(y.max[f]-y.min[f])/(x.zmax[f]-x.zmin[f]),y.min[f],y.max[f]):t(y.min[f],y.max[f]));return function(C){for(var T=C.slice(0,w),D=0;D<w;D++){var R=T[D];if(!a(R))return!1;T[D]=x._sArray[D](R)}return T}}(n),[{x0:b,y0:p,z:n.z,w:o,h:r}]}},47797:function(ie){"use strict";ie.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(z){return z.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(z){return z.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(z){return z.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(z){var e=z.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(z){var e=z.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%",""]}}}},13188:function(ie,z,e){"use strict";var S=e(3400),A=e(95188),a=e(47797),M=e(81792).IMAGE_URL_PREFIX;ie.exports=function(_,d){function s(n,r){return S.coerce(_,d,A,n,r)}s("source"),d.source&&!d.source.match(M)&&delete d.source,d._hasSource=!!d.source;var t,i=s("z");d._hasZ=!(void 0===i||!i.length||!i[0]||!i[0].length),d._hasZ||d._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),d._hasZ?(s("colormodel","rgb"),s("zmin",(t=a.colormodel[d.colormodel]).zminDflt||t.min),s("zmax",t.zmaxDflt||t.max)):d._hasSource&&(d.colormodel="rgba256",d.zmin=(t=a.colormodel[d.colormodel]).zminDflt,d.zmax=t.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),d._length=null,s("zorder")):d.visible=!1}},79972:function(ie){"use strict";ie.exports=function(z,e){return"xVal"in e&&(z.x=e.xVal),"yVal"in e&&(z.y=e.yVal),e.xa&&(z.xaxis=e.xa),e.ya&&(z.yaxis=e.ya),z.color=e.color,z.colormodel=e.trace.colormodel,z.z||(z.z=e.color),z}},18712:function(ie,z,e){"use strict";var S=e(19480),A=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;z.i=function(M){var _=M.replace(A,""),d=new a(_,"base64");return S(d)}},24892:function(ie,z,e){"use strict";var S=e(93024),A=e(3400),a=A.isArrayOrTypedArray,M=e(47797);ie.exports=function(_,d,s){var t=_.cd[0],i=t.trace,n=_.xa,r=_.ya;if(!(S.inbox(d-t.x0,d-(t.x0+t.w*i.dx),0)>0||S.inbox(s-t.y0,s-(t.y0+t.h*i.dy),0)>0)){var o,u=Math.floor((d-t.x0)/i.dx),l=Math.floor(Math.abs(s-t.y0)/i.dy);if(i._hasZ?o=t.z[l][u]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),o){var h,c=t.hi||i.hoverinfo;if(c){var b=c.split("+");-1!==b.indexOf("all")&&(b=["color"]),-1!==b.indexOf("color")&&(h=!0)}var p,m=M.colormodel[i.colormodel],v=m.colormodel||i.colormodel,x=v.length,y=i._scaler(o),w=m.suffix,f=[];(i.hovertemplate||h)&&(f.push("["+[y[0]+w[0],y[1]+w[1],y[2]+w[2]].join(", ")),4===x&&f.push(", "+y[3]+w[3]),f.push("]"),f=f.join(""),_.extraText=v.toUpperCase()+": "+f),a(i.hovertext)&&a(i.hovertext[l])?p=i.hovertext[l][u]:a(i.text)&&a(i.text[l])&&(p=i.text[l][u]);var C=r.c2p(t.y0+(l+.5)*i.dy),T=t.x0+(u+.5)*i.dx,D=t.y0+(l+.5)*i.dy,R="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[A.extendFlat(_,{index:[l,u],x0:n.c2p(t.x0+u*i.dx),x1:n.c2p(t.x0+(u+1)*i.dx),y0:C,y1:C,color:y,xVal:T,xLabelVal:T,yVal:D,yLabelVal:D,zLabelVal:R,text:p,hovertemplateLabels:{zLabel:R,colorLabel:f,"color[0]Label":y[0]+w[0],"color[1]Label":y[1]+w[1],"color[2]Label":y[2]+w[2],"color[3]Label":y[3]+w[3]}})]}}}},48928:function(ie,z,e){"use strict";ie.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=A.strTranslate,M=e(9616),_=e(47797),d=e(9188),s=e(2264).STYLE;ie.exports=function(t,i,n,r){var o=i.xaxis,u=i.yaxis,l=!t._context._exportedPlot&&d();A.makeTraceGroups(r,n,"im").each(function(h){var c=S.select(this),b=h[0],p=b.trace,m=("fast"===p.zsmooth||!1===p.zsmooth&&l)&&!p._hasZ&&p._hasSource&&"linear"===o.type&&"linear"===u.type;p._realImage=m;var v,x,y,w,f,C,T=b.z,D=b.x0,R=b.y0,P=b.w,O=b.h,B=p.dx,q=p.dy;for(C=0;void 0===v&&C<P;)v=o.c2p(D+C*B),C++;for(C=P;void 0===x&&C>0;)x=o.c2p(D+C*B),C--;for(C=0;void 0===w&&C<O;)w=u.c2p(R+C*q),C++;for(C=O;void 0===f&&C>0;)f=u.c2p(R+C*q),C--;x<v&&(y=x,x=v,v=y),f<w&&(y=w,w=f,f=y),m||(v=Math.max(-.5*o._length,v),x=Math.min(1.5*o._length,x),w=Math.max(-.5*u._length,w),f=Math.min(1.5*u._length,f));var N=Math.round(x-v),H=Math.round(f-w);if(N<=0||H<=0)c.selectAll("image").data([]).exit().remove();else{var $=c.selectAll("image").data([h]);$.enter().append("svg:image").attr({xmlns:M.svg,preserveAspectRatio:"none"}),$.exit().remove();var j=!1===p.zsmooth?s:"";if(m){var W=A.simpleMap(o.range,o.r2l),G=A.simpleMap(u.range,u.r2l),ae=W[1]<W[0],te=G[1]>G[0];if(ae||te){var Q=v+N/2,ee=w+H/2;j+="transform:"+a(Q+"px",ee+"px")+"scale("+(ae?-1:1)+","+(te?-1:1)+")"+a(-Q+"px",-ee+"px")+";"}}$.attr("style",j);var re=new Promise(function(le){if(p._hasZ)le();else if(p._hasSource)if(p._canvas&&p._canvas.el.width===P&&p._canvas.el.height===O&&p._canvas.source===p.source)le();else{var fe=document.createElement("canvas");fe.width=P,fe.height=O;var ce=fe.getContext("2d",{willReadFrequently:!0});p._image=p._image||new Image;var ge=p._image;ge.onload=function(){ce.drawImage(ge,0,0),p._canvas={el:fe,source:p.source},le()},ge.setAttribute("src",p.source)}}).then(function(){var le;if(p._hasZ)le=J(function(ge,Te){var Me=T[Te][ge];return A.isTypedArray(Me)&&(Me=Array.from(Me)),Me}).toDataURL("image/png");else if(p._hasSource)if(m)le=p.source;else{var ce=p._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,P,O).data;le=J(function(ge,Te){var Me=4*(Te*P+ge);return[ce[Me],ce[Me+1],ce[Me+2],ce[Me+3]]}).toDataURL("image/png")}$.attr({"xlink:href":le,height:H,width:N,x:v,y:w})});t._promises.push(re)}function J(le){var fe=document.createElement("canvas");fe.width=N,fe.height=H;var ce,ge=fe.getContext("2d",{willReadFrequently:!0}),Te=function(me){return A.constrain(Math.round(o.c2p(D+me*B)-v),0,N)},Me=function(me){return A.constrain(Math.round(u.c2p(R+me*q)-w),0,H)},we=_.colormodel[p.colormodel],xe=we.colormodel||p.colormodel,be=we.fmt;for(C=0;C<b.w;C++){var ye=Te(C),Se=Te(C+1);if(Se!==ye&&!isNaN(Se)&&!isNaN(ye))for(var Ee=0;Ee<b.h;Ee++){var he=Me(Ee),ue=Me(Ee+1);ue===he||isNaN(ue)||isNaN(he)||!le(C,Ee)||(ce=p._scaler(le(C,Ee)),ge.fillStyle=ce?xe+"("+be(ce).join(",")+")":"rgba(0,0,0,0)",ge.fillRect(ye,he,Se-ye,ue-he))}}return fe}})}},28576:function(ie,z,e){"use strict";var S=e(33428);ie.exports=function(A){S.select(A).selectAll(".im image").style("opacity",function(a){return a[0].trace.opacity})}},89864:function(ie,z,e){"use strict";var S=e(92880).extendFlat,A=e(92880).extendDeep,a=e(67824).overrideAll,M=e(25376),_=e(22548),d=e(86968).u,s=e(94724),t=e(31780).templatedArray,i=e(48164),n=e(29736).descriptionOnlyNumbers,r=M({editType:"plot",colorEditType:"plot"}),o={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:_.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=t("step",A({},o,{range:u}));ie.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:d({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:S({},r,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:n("value")},font:S({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:n("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:S({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:A({},o,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:_.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:u,visible:S({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:S({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:M({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:S({},o.line.color,{}),width:S({},o.line.width,{dflt:1}),editType:"plot"},thickness:S({},o.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(ie,z,e){"use strict";var S=e(7316);z.name="indicator",z.plot=function(A,a,M,_){S.plotBasePlot(z.name,A,a,M,_)},z.clean=function(A,a,M,_){S.cleanBasePlot(z.name,A,a,M,_)}},79136:function(ie){"use strict";ie.exports={calc:function(z,e){var S=[],A=e.value;"number"!=typeof e._lastValue&&(e._lastValue=e.value);var a=e._lastValue,M=a;return e._hasDelta&&"number"==typeof e.delta.reference&&(M=e.delta.reference),S[0]={y:A,lastY:a,delta:A-M,relativeDelta:(A-M)/M},S}}},12096:function(ie){"use strict";ie.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(ie,z,e){"use strict";var S=e(3400),A=e(89864),a=e(86968).Q,M=e(31780),_=e(51272),d=e(12096),s=e(26332),t=e(25404),i=e(95936),n=e(42568);function r(o,u){function l(h,c){return S.coerce(o,u,A.gauge.steps,h,c)}l("color"),l("line.color"),l("line.width"),l("range"),l("thickness")}ie.exports={supplyDefaults:function(o,u,l,h){function c(B,q){return S.coerce(o,u,A,B,q)}a(u,h,c),c("mode"),u._hasNumber=-1!==u.mode.indexOf("number"),u._hasDelta=-1!==u.mode.indexOf("delta"),u._hasGauge=-1!==u.mode.indexOf("gauge");var b=c("value");u._range=[0,"number"==typeof b?1.5*b:1];var p,m,v=new Array(2);if(u._hasNumber){c("number.valueformat");var x=S.extendFlat({},h.font);x.size=void 0,S.coerceFont(c,"number.font",x),void 0===u.number.font.size&&(u.number.font.size=d.defaultNumberFontSize,v[0]=!0),c("number.prefix"),c("number.suffix"),p=u.number.font.size}if(u._hasDelta){var y=S.extendFlat({},h.font);y.size=void 0,S.coerceFont(c,"delta.font",y),void 0===u.delta.font.size&&(u.delta.font.size=(u._hasNumber?.5:1)*(p||d.defaultNumberFontSize),v[1]=!0),c("delta.reference",u.value),c("delta.relative"),c("delta.valueformat",u.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),m=u.delta.font.size}u._scaleNumbers=(!u._hasNumber||v[0])&&(!u._hasDelta||v[1])||!1;var w,f,C,T,D=S.extendFlat({},h.font);function R(B,q){return S.coerce(w,f,A.gauge,B,q)}function P(B,q){return S.coerce(C,T,A.gauge.axis,B,q)}if(D.size=.25*(p||m||d.defaultNumberFontSize),S.coerceFont(c,"title.font",D),c("title.text"),u._hasGauge){(w=o.gauge)||(w={}),f=M.newContainer(u,"gauge"),R("shape"),(u._isBullet="bullet"===u.gauge.shape)||c("title.align","center"),(u._isAngular="angular"===u.gauge.shape)||c("align","center"),R("bgcolor",h.paper_bgcolor),R("borderwidth"),R("bordercolor"),R("bar.color"),R("bar.line.color"),R("bar.line.width"),R("bar.thickness",d.valueThickness*("bullet"===u.gauge.shape?.5:1)),_(w,f,{name:"steps",handleItemDefaults:r}),R("threshold.value"),R("threshold.thickness"),R("threshold.line.width"),R("threshold.line.color"),C={},w&&(C=w.axis||{}),T=M.newContainer(f,"axis"),P("visible"),u._range=P("range",u._range);var O={font:h.font,noAutotickangles:!0,outerTicks:!0};s(C,T,P,"linear"),n(C,T,P,"linear",O),i(C,T,P,"linear",O),t(C,T,P,O)}else c("title.align","center"),c("align","center"),u._isAngular=u._isBullet=!1;u._length=null}}},43480:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(ie,z,e){"use strict";var S=e(33428),A=e(67756).qy,a=e(67756).Gz,M=e(3400),_=M.strScale,d=M.strTranslate,s=M.rad2deg,t=e(84284).MID_SHIFT,i=e(43616),n=e(12096),r=e(72736),o=e(54460),u=e(28336),l=e(37668),h=e(94724),c=e(76308),b={left:"start",center:"middle",right:"end"},p={left:0,center:.5,right:1},m=/[yzafpn\xb5mkMGTPEZY]/;function v(T){return T&&T.duration>0}function x(T){T.each(function(D){c.stroke(S.select(this),D.line.color)}).each(function(D){c.fill(S.select(this),D.color)}).style("stroke-width",function(D){return D.line.width})}function y(T,D,R){var P=T._fullLayout,O=M.extendFlat({type:"linear",ticks:"outside",range:R,showline:!0},D),B={type:"linear",_id:"x"+D._id},q={letter:"x",font:P.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function N(H,$){return M.coerce(O,B,h,H,$)}return u(O,B,N,q,P),l(O,B,N,q),B}function w(T,D,R){return[Math.min(D/T.width,R/T.height),T,D+"x"+R]}function f(T,D,R,P){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),B=S.select(O);return B.text(T).attr("x",0).attr("y",0).attr("text-anchor",R).attr("data-unformatted",T).call(r.convertToTspans,P).call(i.font,D),i.bBox(B.node())}function C(T,D,R,P,O,B){var q="_cache"+D;T[q]&&T[q].key===O||(T[q]={key:O,value:R});var N=M.aggNums(B,null,[T[q].value,P],2);return T[q].value=N,N}ie.exports=function(T,D,R,P){var O,B=T._fullLayout;v(R)&&P&&(O=P()),M.makeTraceGroups(B._indicatorlayer,D,"trace").each(function(q){var N,H,$,j,W,G=q[0].trace,ae=S.select(this),te=G._hasGauge,Q=G._isAngular,ee=G._isBullet,re=G.domain,J={w:B._size.w*(re.x[1]-re.x[0]),h:B._size.h*(re.y[1]-re.y[0]),l:B._size.l+B._size.w*re.x[0],r:B._size.r+B._size.w*(1-re.x[1]),t:B._size.t+B._size.h*(1-re.y[1]),b:B._size.b+B._size.h*re.y[0]},le=J.l+J.w/2,fe=J.t+J.h/2,ce=Math.min(J.w/2,J.h),ge=n.innerRadius*ce,Te=G.align||"center";if(H=fe,te){if(Q&&(N=le,H=fe+ce/2,$=function(he){return ue=he,[(me=.9*ge)/Math.sqrt(ue.width/2*(ue.width/2)+ue.height*ue.height),ue,me];var ue,me}),ee){var Me=n.bulletPadding,we=1-n.bulletNumberDomainSize+Me;N=J.l+(we+(1-we)*p[Te])*J.w,$=function(he){return w(he,(n.bulletNumberDomainSize-Me)*J.w,J.h)}}}else N=J.l+p[Te]*J.w,$=function(he){return w(he,J.w,J.h)};(function(he,ue,me,Pe){var Ce,Ie,Oe,ze=me[0].trace,je=Pe.numbersX,ve=Pe.numbersY,Ae=ze.align||"center",Le=b[Ae],Ve=Pe.transitionOpts,Ne=Pe.onComplete,We=M.ensureSingle(ue,"g","numbers"),Xe=[];ze._hasNumber&&Xe.push("number"),ze._hasDelta&&(Xe.push("delta"),"left"===ze.delta.position&&Xe.reverse());var nt=We.selectAll("text").data(Xe);function dt(Ut,Ht,Pt,Je){if(!Ut.match("s")||Pt>=0==Je>=0||Ht(Pt).slice(-1).match(m)||Ht(Je).slice(-1).match(m))return Ht;var tt=Ut.slice().replace("s","f").replace(/\d+/,function(Qe){return parseInt(Qe)-1}),Ge=y(he,{tickformat:tt});return function(Qe){return Math.abs(Qe)<1?o.tickText(Ge,Qe).text:Ht(Qe)}}nt.enter().append("text"),nt.attr("text-anchor",function(){return Le}).attr("class",function(Ut){return Ut}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),nt.exit().remove();var ht,Mt=ze.mode+ze.align;if(ze._hasDelta&&(ht=function(){var Ut=y(he,{tickformat:ze.delta.valueformat},ze._range);Ut.setScale(),o.prepTicks(Ut);var Ht=function(He){return o.tickText(Ut,He).text},Pt=ze.delta.suffix,Je=ze.delta.prefix,tt=function(He){return ze.delta.relative?He.relativeDelta:He.delta},Ge=function(He,qe){return 0===He||"number"!=typeof He||isNaN(He)?"-":(He>0?ze.delta.increasing.symbol:ze.delta.decreasing.symbol)+Je+qe(He)+Pt},Qe=function(He){return He.delta>=0?ze.delta.increasing.color:ze.delta.decreasing.color};void 0===ze._deltaLastValue&&(ze._deltaLastValue=tt(me[0]));var pt=We.select("text.delta");function ct(){pt.text(Ge(tt(me[0]),Ht)).call(c.fill,Qe(me[0])).call(r.convertToTspans,he)}return pt.call(i.font,ze.delta.font).call(c.fill,Qe({delta:ze._deltaLastValue})),v(Ve)?pt.transition().duration(Ve.duration).ease(Ve.easing).tween("text",function(){var He=S.select(this),qe=tt(me[0]),ft=ze._deltaLastValue,et=dt(ze.delta.valueformat,Ht,ft,qe),xt=a(ft,qe);return ze._deltaLastValue=qe,function(wt){He.text(Ge(xt(wt),et)),He.call(c.fill,Qe({delta:xt(wt)}))}}).each("end",function(){ct(),Ne&&Ne()}).each("interrupt",function(){ct(),Ne&&Ne()}):ct(),Ie=f(Ge(tt(me[0]),Ht),ze.delta.font,Le,he),pt}(),Mt+=ze.delta.position+ze.delta.font.size+ze.delta.font.family+ze.delta.valueformat,Mt+=ze.delta.increasing.symbol+ze.delta.decreasing.symbol,Oe=Ie),ze._hasNumber&&(function(){var Ut=y(he,{tickformat:ze.number.valueformat},ze._range);Ut.setScale(),o.prepTicks(Ut);var Ht=function(Qe){return o.tickText(Ut,Qe).text},Pt=ze.number.suffix,Je=ze.number.prefix,tt=We.select("text.number");function Ge(){var Qe="number"==typeof me[0].y?Je+Ht(me[0].y)+Pt:"-";tt.text(Qe).call(i.font,ze.number.font).call(r.convertToTspans,he)}v(Ve)?tt.transition().duration(Ve.duration).ease(Ve.easing).each("end",function(){Ge(),Ne&&Ne()}).each("interrupt",function(){Ge(),Ne&&Ne()}).attrTween("text",function(){var Qe=S.select(this),pt=a(me[0].lastY,me[0].y);ze._lastValue=me[0].y;var ct=dt(ze.number.valueformat,Ht,me[0].lastY,me[0].y);return function(He){Qe.text(Je+ct(pt(He))+Pt)}}):Ge(),Ce=f(Je+Ht(me[0].y)+Pt,ze.number.font,Le,he)}(),Mt+=ze.number.font.size+ze.number.font.family+ze.number.valueformat+ze.number.suffix+ze.number.prefix,Oe=Ce),ze._hasDelta&&ze._hasNumber){var kt,_t,ut=[(Ce.left+Ce.right)/2,(Ce.top+Ce.bottom)/2],st=[(Ie.left+Ie.right)/2,(Ie.top+Ie.bottom)/2],Lt=.75*ze.delta.font.size;"left"===ze.delta.position&&(kt=C(ze,"deltaPos",0,-1*(Ce.width*p[ze.align]+Ie.width*(1-p[ze.align])+Lt),Mt,Math.min),_t=ut[1]-st[1],Oe={width:Ce.width+Ie.width+Lt,height:Math.max(Ce.height,Ie.height),left:Ie.left+kt,right:Ce.right,top:Math.min(Ce.top,Ie.top+_t),bottom:Math.max(Ce.bottom,Ie.bottom+_t)}),"right"===ze.delta.position&&(kt=C(ze,"deltaPos",0,Ce.width*(1-p[ze.align])+Ie.width*p[ze.align]+Lt,Mt,Math.max),_t=ut[1]-st[1],Oe={width:Ce.width+Ie.width+Lt,height:Math.max(Ce.height,Ie.height),left:Ce.left,right:Ie.right+kt,top:Math.min(Ce.top,Ie.top+_t),bottom:Math.max(Ce.bottom,Ie.bottom+_t)}),"bottom"===ze.delta.position&&(kt=null,_t=Ie.height,Oe={width:Math.max(Ce.width,Ie.width),height:Ce.height+Ie.height,left:Math.min(Ce.left,Ie.left),right:Math.max(Ce.right,Ie.right),top:Ce.bottom-Ce.height,bottom:Ce.bottom+Ie.height}),"top"===ze.delta.position&&(kt=null,_t=Ce.top,Oe={width:Math.max(Ce.width,Ie.width),height:Ce.height+Ie.height,left:Math.min(Ce.left,Ie.left),right:Math.max(Ce.right,Ie.right),top:Ce.bottom-Ce.height-Ie.height,bottom:Ce.bottom}),ht.attr({dx:kt,dy:_t})}(ze._hasNumber||ze._hasDelta)&&We.attr("transform",function(){var Ht,Ut=Pe.numbersScaler(Oe),Pt=C(ze,"numbersScale",1,Ut[0],Mt+=Ut[2],Math.min);ze._scaleNumbers||(Pt=1),ze._numbersTop=Pt*Oe.top+(Ht=ze._isAngular?ve-Pt*Oe.bottom:ve-Pt*(Oe.top+Oe.bottom)/2);var Je=Oe[Ae];"center"===Ae&&(Je=(Oe.left+Oe.right)/2);var tt=je-Pt*Je;return tt=C(ze,"numbersTranslate",0,tt,Mt,Math.max),d(tt,Ht)+_(Pt)})})(T,ae,q,{numbersX:N,numbersY:H,numbersScaler:$,transitionOpts:R,onComplete:O}),te&&(j={range:G.gauge.axis.range,color:G.gauge.bgcolor,line:{color:G.gauge.bordercolor,width:0},thickness:1},W={range:G.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:G.gauge.bordercolor,width:G.gauge.borderwidth},thickness:1});var xe=ae.selectAll("g.angular").data(Q?q:[]);xe.exit().remove();var be=ae.selectAll("g.angularaxis").data(Q?q:[]);be.exit().remove(),Q&&function(he,ue,me,Pe){var Ce,Ie,Oe,ze,je=me[0].trace,ve=Pe.size,Ae=Pe.radius,Le=Pe.innerRadius,Ve=Pe.gaugeBg,Ne=Pe.gaugeOutline,We=[ve.l+ve.w/2,ve.t+ve.h/2+Ae/2],Xe=Pe.gauge,nt=Pe.layer,dt=Pe.transitionOpts,ht=Pe.onComplete,Mt=Math.PI/2;function kt(wt){var At=je.gauge.axis.range[0],yt=(wt-At)/(je.gauge.axis.range[1]-At)*Math.PI-Mt;return yt<-Mt?-Mt:yt>Mt?Mt:yt}function _t(wt){return S.svg.arc().innerRadius((Le+Ae)/2-wt/2*(Ae-Le)).outerRadius((Le+Ae)/2+wt/2*(Ae-Le)).startAngle(-Mt)}function ut(wt){wt.attr("d",function(At){return _t(At.thickness).startAngle(kt(At.range[0])).endAngle(kt(At.range[1]))()})}Xe.enter().append("g").classed("angular",!0),Xe.attr("transform",d(We[0],We[1])),nt.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),nt.selectAll("g.xangularaxistick,path,text").remove(),(Ce=y(he,je.gauge.axis)).type="linear",Ce.range=je.gauge.axis.range,Ce._id="xangularaxis",Ce.ticklabeloverflow="allow",Ce.setScale();var st=function(wt){return(Ce.range[0]-wt.x)/(Ce.range[1]-Ce.range[0])*Math.PI+Math.PI},Lt={},Ut=o.makeLabelFns(Ce,0).labelStandoff;Lt.xFn=function(wt){var At=st(wt);return Math.cos(At)*Ut},Lt.yFn=function(wt){var At=st(wt),yt=Math.sin(At)>0?.2:1;return-Math.sin(At)*(Ut+wt.fontSize*yt)+Math.abs(Math.cos(At))*(wt.fontSize*t)},Lt.anchorFn=function(wt){var At=st(wt),yt=Math.cos(At);return Math.abs(yt)<.1?"middle":yt>0?"start":"end"},Lt.heightFn=function(wt,At,yt){var Ot=st(wt);return-.5*(1+Math.sin(Ot))*yt};var Ht=function(wt){return d(We[0]+Ae*Math.cos(wt),We[1]-Ae*Math.sin(wt))};Oe=function(wt){return Ht(st(wt))},Ie=o.calcTicks(Ce),ze=o.getTickSigns(Ce)[2],Ce.visible&&(o.drawTicks(he,Ce,{vals:Ie,layer:nt,path:"M"+(ze="inside"===Ce.ticks?-1:1)*((Ce.linewidth||1)/2)+",0h"+ze*Ce.ticklen,transFn:function(wt){var At=st(wt);return Ht(At)+"rotate("+-s(At)+")"}}),o.drawLabels(he,Ce,{vals:Ie,layer:nt,transFn:Oe,labelFns:Lt}));var Je=[Ve].concat(je.gauge.steps),tt=Xe.selectAll("g.bg-arc").data(Je);tt.enter().append("g").classed("bg-arc",!0).append("path"),tt.select("path").call(ut).call(x),tt.exit().remove();var Ge=_t(je.gauge.bar.thickness),Qe=Xe.selectAll("g.value-arc").data([je.gauge.bar]);Qe.enter().append("g").classed("value-arc",!0).append("path");var pt,ct,He,qe=Qe.select("path");v(dt)?(qe.transition().duration(dt.duration).ease(dt.easing).each("end",function(){ht&&ht()}).each("interrupt",function(){ht&&ht()}).attrTween("d",(pt=Ge,ct=kt(me[0].lastY),He=kt(me[0].y),function(){var wt=A(ct,He);return function(At){return pt.endAngle(wt(At))()}})),je._lastValue=me[0].y):qe.attr("d","number"==typeof me[0].y?Ge.endAngle(kt(me[0].y)):"M0,0Z"),qe.call(x),Qe.exit().remove(),Je=[];var ft=je.gauge.threshold.value;(ft||0===ft)&&Je.push({range:[ft,ft],color:je.gauge.threshold.color,line:{color:je.gauge.threshold.line.color,width:je.gauge.threshold.line.width},thickness:je.gauge.threshold.thickness});var et=Xe.selectAll("g.threshold-arc").data(Je);et.enter().append("g").classed("threshold-arc",!0).append("path"),et.select("path").call(ut).call(x),et.exit().remove();var xt=Xe.selectAll("g.gauge-outline").data([Ne]);xt.enter().append("g").classed("gauge-outline",!0).append("path"),xt.select("path").call(ut).call(x),xt.exit().remove()}(T,0,q,{radius:ce,innerRadius:ge,gauge:xe,layer:be,size:J,gaugeBg:j,gaugeOutline:W,transitionOpts:R,onComplete:O});var ye=ae.selectAll("g.bullet").data(ee?q:[]);ye.exit().remove();var Se=ae.selectAll("g.bulletaxis").data(ee?q:[]);Se.exit().remove(),ee&&function(he,ue,me,Pe){var Ce,Ie,Oe,ze,je,ve=me[0].trace,Ae=Pe.gauge,Le=Pe.layer,Ve=Pe.gaugeBg,Ne=Pe.gaugeOutline,We=Pe.size,Xe=ve.domain,nt=Pe.transitionOpts,dt=Pe.onComplete;Ae.enter().append("g").classed("bullet",!0),Ae.attr("transform",d(We.l,We.t)),Le.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Le.selectAll("g.xbulletaxistick,path,text").remove();var ht=We.h,Mt=ve.gauge.bar.thickness*ht,kt=Xe.x[0],_t=Xe.x[0]+(Xe.x[1]-Xe.x[0])*(ve._hasNumber||ve._hasDelta?1-n.bulletNumberDomainSize:1);function ut(tt){tt.attr("width",function(Ge){return Math.max(0,Ce.c2p(Ge.range[1])-Ce.c2p(Ge.range[0]))}).attr("x",function(Ge){return Ce.c2p(Ge.range[0])}).attr("y",function(Ge){return.5*(1-Ge.thickness)*ht}).attr("height",function(Ge){return Ge.thickness*ht})}(Ce=y(he,ve.gauge.axis))._id="xbulletaxis",Ce.domain=[kt,_t],Ce.setScale(),Ie=o.calcTicks(Ce),Oe=o.makeTransTickFn(Ce),ze=o.getTickSigns(Ce)[2],je=We.t+We.h,Ce.visible&&(o.drawTicks(he,Ce,{vals:"inside"===Ce.ticks?o.clipEnds(Ce,Ie):Ie,layer:Le,path:o.makeTickPath(Ce,je,ze),transFn:Oe}),o.drawLabels(he,Ce,{vals:Ie,layer:Le,transFn:Oe,labelFns:o.makeLabelFns(Ce,je)}));var st=[Ve].concat(ve.gauge.steps),Lt=Ae.selectAll("g.bg-bullet").data(st);Lt.enter().append("g").classed("bg-bullet",!0).append("rect"),Lt.select("rect").call(ut).call(x),Lt.exit().remove();var Ut=Ae.selectAll("g.value-bullet").data([ve.gauge.bar]);Ut.enter().append("g").classed("value-bullet",!0).append("rect"),Ut.select("rect").attr("height",Mt).attr("y",(ht-Mt)/2).call(x),v(nt)?Ut.select("rect").transition().duration(nt.duration).ease(nt.easing).each("end",function(){dt&&dt()}).each("interrupt",function(){dt&&dt()}).attr("width",Math.max(0,Ce.c2p(Math.min(ve.gauge.axis.range[1],me[0].y)))):Ut.select("rect").attr("width","number"==typeof me[0].y?Math.max(0,Ce.c2p(Math.min(ve.gauge.axis.range[1],me[0].y))):0),Ut.exit().remove();var Ht=me.filter(function(){return ve.gauge.threshold.value||0===ve.gauge.threshold.value}),Pt=Ae.selectAll("g.threshold-bullet").data(Ht);Pt.enter().append("g").classed("threshold-bullet",!0).append("line"),Pt.select("line").attr("x1",Ce.c2p(ve.gauge.threshold.value)).attr("x2",Ce.c2p(ve.gauge.threshold.value)).attr("y1",(1-ve.gauge.threshold.thickness)/2*ht).attr("y2",(1-(1-ve.gauge.threshold.thickness)/2)*ht).call(c.stroke,ve.gauge.threshold.line.color).style("stroke-width",ve.gauge.threshold.line.width),Pt.exit().remove();var Je=Ae.selectAll("g.gauge-outline").data([Ne]);Je.enter().append("g").classed("gauge-outline",!0).append("rect"),Je.select("rect").call(ut).call(x),Je.exit().remove()}(T,0,q,{gauge:ye,layer:Se,size:J,gaugeBg:j,gaugeOutline:W,transitionOpts:R,onComplete:O});var Ee=ae.selectAll("text.title").data(q);Ee.exit().remove(),Ee.enter().append("text").classed("title",!0),Ee.attr("text-anchor",function(){return ee?b.right:b[G.title.align]}).text(G.title.text).call(i.font,G.title.font).call(r.convertToTspans,T),Ee.attr("transform",function(){var he,ue=J.l+J.w*p[G.title.align],me=n.titlePadding,Pe=i.bBox(Ee.node());return te?(Q&&(he=G.gauge.axis.visible?i.bBox(be.node()).top-me-Pe.bottom:J.t+J.h/2-ce/2-Pe.bottom-me),ee&&(he=H-(Pe.top+Pe.bottom)/2,ue=J.l-n.bulletPadding*J.w)):he=G._numbersTop-me-Pe.bottom,d(ue,he)})})}},50048:function(ie,z,e){"use strict";var S=e(49084),A=e(29736).axisHoverFormat,a=e(21776).Ks,M=e(52948),_=e(45464),d=e(92880).extendFlat,s=e(67824).overrideAll,t=ie.exports=s(d({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),valuehoverformat:A("value",1),showlegend:d({},_.showlegend,{dflt:!1})},S("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:M.opacity,lightposition:M.lightposition,lighting:M.lighting,flatshading:M.flatshading,contour:M.contour,hoverinfo:d({},_.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},62624:function(ie,z,e){"use strict";var S=e(47128),A=e(3832).processGrid,a=e(3832).filter;ie.exports=function(M,_){_._len=Math.min(_.x.length,_.y.length,_.z.length,_.value.length),_._x=a(_.x,_._len),_._y=a(_.y,_._len),_._z=a(_.z,_._len),_._value=a(_.value,_._len);var d=A(_);_._gridFill=d.fill,_._Xs=d.Xs,_._Ys=d.Ys,_._Zs=d.Zs,_._len=d.len;for(var s=1/0,t=-1/0,i=0;i<_._len;i++){var n=_._value[i];s=Math.min(s,n),t=Math.max(t,n)}_._minValues=s,_._maxValues=t,_._vMin=null==_.isomin?s:_.isomin,_._vMax=void 0===_.isomax||null===_.isomin?t:_.isomax,S(M,_,{vals:[_._vMin,_._vMax],containerStr:"",cLetter:"c"})}},31460:function(ie,z,e){"use strict";var S=e(67792).gl_mesh3d,A=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,M=e(43080),_=e(8932).extractOpts,d=e(52094),s=function(o,u){for(var l=u.length-1;l>0;l--){var h=Math.min(u[l],u[l-1]),c=Math.max(u[l],u[l-1]);if(c>h&&h<o&&o<=c)return{id:l,distRatio:(c-o)/(c-h)}}return{id:0,distRatio:0}};function t(o,u,l){this.scene=o,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(o){if(o.object===this.mesh){var u=o.data.index,h=this.data._meshY[u],c=this.data._meshZ[u],b=this.data._Ys.length,p=this.data._Zs.length,m=s(this.data._meshX[u],this.data._Xs).id,v=s(h,this.data._Ys).id,x=s(c,this.data._Zs).id,y=o.index=x+p*v+p*b*m;o.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var w=this.data.hovertext||this.data.text;return a(w)&&void 0!==w[y]?o.textLabel=w[y]:w&&(o.textLabel=w),!0}},i.update=function(o){var u=this.scene,l=u.fullSceneLayout;function h(p,m,v,x){return m.map(function(y){return p.d2l(y,0,x)*v})}this.data=r(o);var c={positions:d(h(l.xaxis,o._meshX,u.dataScale[0],o.xcalendar),h(l.yaxis,o._meshY,u.dataScale[1],o.ycalendar),h(l.zaxis,o._meshZ,u.dataScale[2],o.zcalendar)),cells:d(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:M(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},b=_(o);c.vertexIntensity=o._meshIntensity,c.vertexIntensityBounds=[b.min,b.max],c.colormap=A(o),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var n=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(o){o._meshI=[],o._meshJ=[],o._meshK=[];var u,l,h,c,b,p,m,v=o.surface.show,x=o.spaceframe.show,y=o.surface.fill,w=o.spaceframe.fill,f=!1,C=!1,T=0,D=o._Xs,R=o._Ys,P=o._Zs,O=D.length,B=R.length,q=P.length,N=n.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),H=function(Le,Ve,Ne){switch(N){case 5:return Ne+q*Ve+q*B*Le;case 4:return Ne+q*Le+q*O*Ve;case 3:return Ve+B*Ne+B*q*Le;case 2:return Ve+B*Le+B*O*Ne;case 1:return Le+O*Ne+O*q*Ve;default:return Le+O*Ve+O*B*Ne}},$=o._minValues,j=o._maxValues,W=o._vMin,G=o._vMax;function ae(Le,Ve,Ne){for(var We=p.length,Xe=l;Xe<We;Xe++)if(Le===h[Xe]&&Ve===c[Xe]&&Ne===b[Xe])return Xe;return-1}function te(){l=u}function Q(){h=[],c=[],b=[],p=[],u=0,te()}function ee(Le,Ve,Ne,We){return h.push(Le),c.push(Ve),b.push(Ne),p.push(We),++u-1}function re(Le,Ve,Ne){for(var We=[],Xe=0;Xe<Le.length;Xe++)We[Xe]=Le[Xe]*(1-Ne)+Ne*Ve[Xe];return We}function J(Le){m=Le}function le(Le,Ve){return"all"===Le||null===Le||Le.indexOf(Ve)>-1}function fe(Le,Ve){return null===Le?Ve:Le}function ce(Le,Ve,Ne){te();var Xe,nt,Je,tt,Ge,Qe,pt,ct,He,qe,ft,et,xt,wt,At,dt=[Ve],ht=[Ne];if(m>=1)dt=[Ve],ht=[Ne];else if(m>0){var Mt=(tt=Ne,qe=re(ct=function(yt,Ot,Ct){for(var Rt=[],Bt=0;Bt<yt.length;Bt++)Rt[Bt]=(yt[Bt]+Ot[Bt]+Ct[Bt])/3;return Rt}(Ge=(Je=Ve)[0],Qe=Je[1],pt=Je[2]),Ge,He=Math.sqrt(1-m)),{xyzv:[[Ge,Qe,ft=re(ct,Qe,He)],[ft,qe,Ge],[Qe,pt,et=re(ct,pt,He)],[et,ft,Qe],[pt,Ge,qe],[qe,et,pt]],abc:[[xt=tt[0],wt=tt[1],-1],[-1,-1,xt],[wt,At=tt[2],-1],[-1,-1,wt],[At,xt,-1],[-1,-1,At]]});dt=Mt.xyzv,ht=Mt.abc}for(var kt=0;kt<dt.length;kt++){Ve=dt[kt],Ne=ht[kt];for(var _t=[],ut=0;ut<3;ut++){var st=Ve[ut][0],Lt=Ve[ut][1],Ut=Ve[ut][2],Ht=Ve[ut][3],Pt=Ne[ut]>-1?Ne[ut]:ae(st,Lt,Ut);_t[ut]=Pt>-1?Pt:ee(st,Lt,Ut,fe(Le,Ht))}Xe=_t[1],nt=_t[2],o._meshI.push(_t[0]),o._meshJ.push(Xe),o._meshK.push(nt),++T}}function ge(Le,Ve,Ne,We){var Xe=Le[3];Xe<Ne&&(Xe=Ne),Xe>We&&(Xe=We);for(var nt=(Le[3]-Xe)/(Le[3]-Ve[3]+1e-9),dt=[],ht=0;ht<4;ht++)dt[ht]=(1-nt)*Le[ht]+nt*Ve[ht];return dt}function Te(Le,Ve,Ne){return Le>=Ve&&Le<=Ne}function Me(Le){var Ve=.001*(G-W);return Le>=W-Ve&&Le<=G+Ve}function we(Le){for(var Ve=[],Ne=0;Ne<4;Ne++){var We=Le[Ne];Ve.push([o._x[We],o._y[We],o._z[We],o._value[We]])}return Ve}var xe=3;function be(Le,Ve,Ne,We,Xe,nt){nt||(nt=1),Ne=[-1,-1,-1];var dt=!1,ht=[Te(Ve[0][3],We,Xe),Te(Ve[1][3],We,Xe),Te(Ve[2][3],We,Xe)];if(!ht[0]&&!ht[1]&&!ht[2])return!1;var Mt=function(_t,ut,st){return Me(ut[0][3])&&Me(ut[1][3])&&Me(ut[2][3])?(ce(_t,ut,st),!0):nt<xe&&be(_t,ut,st,W,G,++nt)};if(ht[0]&&ht[1]&&ht[2])return Mt(Le,Ve,Ne)||dt;var kt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(_t){if(ht[_t[0]]&&ht[_t[1]]&&!ht[_t[2]]){var ut=Ve[_t[0]],st=Ve[_t[1]],Lt=Ve[_t[2]],Ut=ge(Lt,ut,We,Xe),Ht=ge(Lt,st,We,Xe);dt=Mt(Le,[Ht,Ut,ut],[-1,-1,Ne[_t[0]]])||dt,dt=Mt(Le,[ut,st,Ht],[Ne[_t[0]],Ne[_t[1]],-1])||dt,kt=!0}}),kt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(_t){if(ht[_t[0]]&&!ht[_t[1]]&&!ht[_t[2]]){var ut=Ve[_t[0]],Lt=Ve[_t[2]],Ut=ge(Ve[_t[1]],ut,We,Xe),Ht=ge(Lt,ut,We,Xe);dt=Mt(Le,[Ht,Ut,ut],[-1,-1,Ne[_t[0]]])||dt,kt=!0}}),dt}function ye(Le,Ve,Ne,We){var Mt,kt,_t,ut,Xe=!1,nt=we(Ve),dt=[Te(nt[0][3],Ne,We),Te(nt[1][3],Ne,We),Te(nt[2][3],Ne,We),Te(nt[3][3],Ne,We)];if(!(dt[0]||dt[1]||dt[2]||dt[3]))return Xe;if(dt[0]&&dt[1]&&dt[2]&&dt[3])return C&&(Mt=Le,kt=nt,_t=Ve,(ut=function(st,Lt,Ut){ce(Mt,[kt[st],kt[Lt],kt[Ut]],[_t[st],_t[Lt],_t[Ut]])})(0,1,2),ut(3,0,1),ut(2,3,0),Xe=void ut(1,2,3)||Xe),Xe;var ht=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Mt){if(dt[Mt[0]]&&dt[Mt[1]]&&dt[Mt[2]]&&!dt[Mt[3]]){var kt=nt[Mt[0]],_t=nt[Mt[1]],ut=nt[Mt[2]],st=nt[Mt[3]];if(C)Xe=ce(Le,[kt,_t,ut],[Ve[Mt[0]],Ve[Mt[1]],Ve[Mt[2]]])||Xe;else{var Lt=ge(st,kt,Ne,We),Ut=ge(st,_t,Ne,We),Ht=ge(st,ut,Ne,We);Xe=ce(null,[Lt,Ut,Ht],[-1,-1,-1])||Xe}ht=!0}}),ht||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Mt){if(dt[Mt[0]]&&dt[Mt[1]]&&!dt[Mt[2]]&&!dt[Mt[3]]){var kt=nt[Mt[0]],_t=nt[Mt[1]],ut=nt[Mt[2]],st=nt[Mt[3]],Lt=ge(ut,kt,Ne,We),Ut=ge(ut,_t,Ne,We),Ht=ge(st,_t,Ne,We),Pt=ge(st,kt,Ne,We);C?(Xe=ce(Le,[kt,Pt,Lt],[Ve[Mt[0]],-1,-1])||Xe,Xe=ce(Le,[_t,Ut,Ht],[Ve[Mt[1]],-1,-1])||Xe):(tt=[Lt,Ut,Ht,Pt],Ge=[-1,-1,-1,-1],(Qe=function(pt,ct,He){ce(null,[tt[pt],tt[ct],tt[He]],[Ge[pt],Ge[ct],Ge[He]])})(0,1,2),Xe=void Qe(2,3,0)||Xe),ht=!0}var tt,Ge,Qe}),ht||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Mt){if(dt[Mt[0]]&&!dt[Mt[1]]&&!dt[Mt[2]]&&!dt[Mt[3]]){var kt=nt[Mt[0]],ut=nt[Mt[2]],st=nt[Mt[3]],Lt=ge(nt[Mt[1]],kt,Ne,We),Ut=ge(ut,kt,Ne,We),Ht=ge(st,kt,Ne,We);C?(Xe=ce(Le,[kt,Lt,Ut],[Ve[Mt[0]],-1,-1])||Xe,Xe=ce(Le,[kt,Ut,Ht],[Ve[Mt[0]],-1,-1])||Xe,Xe=ce(Le,[kt,Ht,Lt],[Ve[Mt[0]],-1,-1])||Xe):Xe=ce(null,[Lt,Ut,Ht],[-1,-1,-1])||Xe,ht=!0}})),Xe}function Se(Le,Ve,Ne,We,Xe,nt,dt,ht,Mt,kt,_t){var ut=!1;return f&&(le(Le,"A")&&(ut=ye(null,[Ve,Ne,We,nt],kt,_t)||ut),le(Le,"B")&&(ut=ye(null,[Ne,We,Xe,Mt],kt,_t)||ut),le(Le,"C")&&(ut=ye(null,[Ne,nt,dt,Mt],kt,_t)||ut),le(Le,"D")&&(ut=ye(null,[We,nt,ht,Mt],kt,_t)||ut),le(Le,"E")&&(ut=ye(null,[Ne,We,nt,Mt],kt,_t)||ut)),C&&(ut=ye(Le,[Ne,We,nt,Mt],kt,_t)||ut),ut}function Ee(Le,Ve,Ne,We,Xe,nt,dt,ht){return[!0===ht[0]||be(Le,we([Ve,Ne,We]),[Ve,Ne,We],nt,dt),!0===ht[1]||be(Le,we([We,Xe,Ve]),[We,Xe,Ve],nt,dt)]}function he(Le,Ve,Ne,We,Xe,nt,dt,ht,Mt){return ht?Ee(Le,Ve,Ne,Xe,We,nt,dt,Mt):Ee(Le,Ne,Xe,We,Ve,nt,dt,Mt)}function ue(Le,Ve,Ne,We,Xe,nt,dt){var ht,Mt,kt,_t,ut=!1,st=function(){ut=be(Le,[ht,Mt,kt],[-1,-1,-1],Xe,nt)||ut,ut=be(Le,[kt,_t,ht],[-1,-1,-1],Xe,nt)||ut},Lt=dt[0],Ut=dt[1],Ht=dt[2];return Lt&&(ht=re(we([H(Ve,Ne-0,We-0)])[0],we([H(Ve-1,Ne-0,We-0)])[0],Lt),Mt=re(we([H(Ve,Ne-0,We-1)])[0],we([H(Ve-1,Ne-0,We-1)])[0],Lt),kt=re(we([H(Ve,Ne-1,We-1)])[0],we([H(Ve-1,Ne-1,We-1)])[0],Lt),_t=re(we([H(Ve,Ne-1,We-0)])[0],we([H(Ve-1,Ne-1,We-0)])[0],Lt),st()),Ut&&(ht=re(we([H(Ve-0,Ne,We-0)])[0],we([H(Ve-0,Ne-1,We-0)])[0],Ut),Mt=re(we([H(Ve-0,Ne,We-1)])[0],we([H(Ve-0,Ne-1,We-1)])[0],Ut),kt=re(we([H(Ve-1,Ne,We-1)])[0],we([H(Ve-1,Ne-1,We-1)])[0],Ut),_t=re(we([H(Ve-1,Ne,We-0)])[0],we([H(Ve-1,Ne-1,We-0)])[0],Ut),st()),Ht&&(ht=re(we([H(Ve-0,Ne-0,We)])[0],we([H(Ve-0,Ne-0,We-1)])[0],Ht),Mt=re(we([H(Ve-0,Ne-1,We)])[0],we([H(Ve-0,Ne-1,We-1)])[0],Ht),kt=re(we([H(Ve-1,Ne-1,We)])[0],we([H(Ve-1,Ne-1,We-1)])[0],Ht),_t=re(we([H(Ve-1,Ne-0,We)])[0],we([H(Ve-1,Ne-0,We-1)])[0],Ht),st()),ut}function me(Le,Ve,Ne,We,Xe,nt,dt,ht,Mt,kt,_t,ut){var st=Le;return ut?(f&&"even"===Le&&(st=null),Se(st,Ve,Ne,We,Xe,nt,dt,ht,Mt,kt,_t)):(f&&"odd"===Le&&(st=null),Se(st,Mt,ht,dt,nt,Xe,We,Ne,Ve,kt,_t))}function Pe(Le,Ve,Ne,We,Xe){for(var nt=[],dt=0,ht=0;ht<Ve.length;ht++)for(var Mt=Ve[ht],kt=1;kt<q;kt++)for(var _t=1;_t<B;_t++)nt.push(he(Le,H(Mt,_t-1,kt-1),H(Mt,_t-1,kt),H(Mt,_t,kt-1),H(Mt,_t,kt),Ne,We,(Mt+_t+kt)%2,Xe&&Xe[dt]?Xe[dt]:[])),dt++;return nt}function Ce(Le,Ve,Ne,We,Xe){for(var nt=[],dt=0,ht=0;ht<Ve.length;ht++)for(var Mt=Ve[ht],kt=1;kt<O;kt++)for(var _t=1;_t<q;_t++)nt.push(he(Le,H(kt-1,Mt,_t-1),H(kt,Mt,_t-1),H(kt-1,Mt,_t),H(kt,Mt,_t),Ne,We,(kt+Mt+_t)%2,Xe&&Xe[dt]?Xe[dt]:[])),dt++;return nt}function Ie(Le,Ve,Ne,We,Xe){for(var nt=[],dt=0,ht=0;ht<Ve.length;ht++)for(var Mt=Ve[ht],kt=1;kt<B;kt++)for(var _t=1;_t<O;_t++)nt.push(he(Le,H(_t-1,kt-1,Mt),H(_t-1,kt,Mt),H(_t,kt-1,Mt),H(_t,kt,Mt),Ne,We,(_t+kt+Mt)%2,Xe&&Xe[dt]?Xe[dt]:[])),dt++;return nt}function Oe(Le,Ve,Ne){for(var We=1;We<q;We++)for(var Xe=1;Xe<B;Xe++)for(var nt=1;nt<O;nt++)me(Le,H(nt-1,Xe-1,We-1),H(nt-1,Xe-1,We),H(nt-1,Xe,We-1),H(nt-1,Xe,We),H(nt,Xe-1,We-1),H(nt,Xe-1,We),H(nt,Xe,We-1),H(nt,Xe,We),Ve,Ne,(nt+Xe+We)%2)}function ze(Le,Ve,Ne,We,Xe,nt){for(var dt=[],Mt=0;Mt<Ve.length;Mt++)for(var kt=Ve[Mt],_t=1;_t<q;_t++)for(var ut=1;ut<B;ut++)dt.push(ue(Le,kt,ut,_t,Ne,We,Xe[Mt]));return dt}function je(Le,Ve,Ne,We,Xe,nt){for(var dt=[],Mt=0;Mt<Ve.length;Mt++)for(var kt=Ve[Mt],_t=1;_t<O;_t++)for(var ut=1;ut<q;ut++)dt.push(ue(Le,_t,kt,ut,Ne,We,Xe[Mt]));return dt}function ve(Le,Ve,Ne,We,Xe,nt){for(var dt=[],Mt=0;Mt<Ve.length;Mt++)for(var kt=Ve[Mt],_t=1;_t<B;_t++)for(var ut=1;ut<O;ut++)dt.push(ue(Le,ut,_t,kt,Ne,We,Xe[Mt]));return dt}function Ae(Le,Ve){for(var Ne=[],We=Le;We<Ve;We++)Ne.push(We);return Ne}return function(){Q(),function(){for(var Mt=0;Mt<O;Mt++)for(var kt=0;kt<B;kt++)for(var _t=0;_t<q;_t++){var ut=H(Mt,kt,_t);ee(o._x[ut],o._y[ut],o._z[ut],o._value[ut])}}();var Le=null;if(x&&w&&(J(w),C=!0,Oe(Le,W,G),C=!1),v&&y){J(y);for(var Ve=o.surface.pattern,Ne=o.surface.count,We=0;We<Ne;We++){var Xe=1===Ne?.5:We/(Ne-1),nt=(1-Xe)*W+Xe*G,dt=Math.abs(nt-$)>Math.abs(nt-j)?[$,nt]:[nt,j];f=!0,Oe(Ve,dt[0],dt[1]),f=!1}}var ht=[[Math.min(W,j),Math.max(W,j)],[Math.min($,G),Math.max($,G)]];["x","y","z"].forEach(function(Mt){for(var kt=[],_t=0;_t<ht.length;_t++){var ut=0,st=ht[_t][0],Lt=ht[_t][1],Ut=o.slices[Mt];if(Ut.show&&Ut.fill){J(Ut.fill);var Ht=[],Pt=[],Je=[];if(Ut.locations.length)for(var tt=0;tt<Ut.locations.length;tt++){var Ge=s(Ut.locations[tt],"x"===Mt?D:"y"===Mt?R:P);0===Ge.distRatio?Ht.push(Ge.id):Ge.id>0&&(Pt.push(Ge.id),Je.push("x"===Mt?[Ge.distRatio,0,0]:"y"===Mt?[0,Ge.distRatio,0]:[0,0,Ge.distRatio]))}else Ht=Ae(1,"x"===Mt?O-1:"y"===Mt?B-1:q-1);Pt.length>0&&(kt[ut]="x"===Mt?ze(Le,Pt,st,Lt,Je):"y"===Mt?je(Le,Pt,st,Lt,Je):ve(Le,Pt,st,Lt,Je),ut++),Ht.length>0&&(kt[ut]="x"===Mt?Pe(Le,Ht,st,Lt,kt[ut]):"y"===Mt?Ce(Le,Ht,st,Lt,kt[ut]):Ie(Le,Ht,st,Lt,kt[ut]),ut++)}var Qe=o.caps[Mt];Qe.show&&Qe.fill&&(J(Qe.fill),kt[ut]="x"===Mt?Pe(Le,[0,O-1],st,Lt,kt[ut]):"y"===Mt?Ce(Le,[0,B-1],st,Lt,kt[ut]):Ie(Le,[0,q-1],st,Lt,kt[ut]),ut++)}}),0===T&&Q(),o._meshX=h,o._meshY=c,o._meshZ=b,o._meshIntensity=p,o._Xs=D,o._Ys=R,o._Zs=P}(),o}ie.exports={findNearestOnAxis:s,generateIsoMeshes:r,createIsosurfaceTrace:function(o,u){var h=S({gl:o.glplot.gl}),c=new t(o,h,u.uid);return h._trace=c,c.update(u),o.glplot.add(h),c}}},70548:function(ie,z,e){"use strict";var S=e(3400),A=e(24040),a=e(50048),M=e(27260);function _(d,s,t,i,n){var r=n("isomin"),o=n("isomax");null!=o&&null!=r&&r>o&&(s.isomin=null,s.isomax=null);var u=n("x"),l=n("y"),h=n("z"),c=n("value");u&&u.length&&l&&l.length&&h&&h.length&&c&&c.length?(A.getComponentMethod("calendars","handleTraceDefaults")(d,s,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(b){n(b+"hoverformat");var p="caps."+b;n(p+".show")&&n(p+".fill");var m="slices."+b;n(m+".show")&&(n(m+".fill"),n(m+".locations"))}),n("spaceframe.show")&&n("spaceframe.fill"),n("surface.show")&&(n("surface.count"),n("surface.fill"),n("surface.pattern")),n("contour.show")&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(b){n(b)}),M(d,s,i,n,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}ie.exports={supplyDefaults:function(d,s,t,i){_(d,s,0,i,function(n,r){return S.coerce(d,s,a,n,r)})},supplyIsoDefaults:_}},6296:function(ie,z,e){"use strict";ie.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(ie,z,e){"use strict";var S=e(49084),A=e(29736).axisHoverFormat,a=e(21776).Ks,M=e(16716),_=e(45464),d=e(92880).extendFlat;ie.exports=d({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},S("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:M.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:d({},M.contours.x.show,{}),color:M.contours.x.color,width:M.contours.x.width,editType:"calc"},lightposition:{x:d({},M.lightposition.x,{dflt:1e5}),y:d({},M.lightposition.y,{dflt:1e5}),z:d({},M.lightposition.z,{dflt:0}),editType:"calc"},lighting:d({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},M.lighting),hoverinfo:d({},_.hoverinfo,{editType:"calc"}),showlegend:d({},_.showlegend,{dflt:!1})})},1876:function(ie,z,e){"use strict";var S=e(47128);ie.exports=function(A,a){a.intensity&&S(A,a,{vals:a.intensity,containerStr:"",cLetter:"c"})}},576:function(ie,z,e){"use strict";var S=e(67792).gl_mesh3d,A=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,M=e(67792).convex_hull,_=e(33040).parseColorScale,d=e(3400).isArrayOrTypedArray,s=e(43080),t=e(8932).extractOpts,i=e(52094);function n(c,b,p){this.scene=c,this.uid=p,this.mesh=b,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=n.prototype;function o(c){for(var b=[],p=c.length,m=0;m<p;m++)b[m]=s(c[m]);return b}function u(c,b,p,m){for(var v=[],x=b.length,y=0;y<x;y++)v[y]=c.d2l(b[y],0,m)*p;return v}function l(c){for(var b=[],p=c.length,m=0;m<p;m++)b[m]=Math.round(c[m]);return b}function h(c,b){for(var p=c.length,m=0;m<p;m++)if(c[m]<=-.5||c[m]>=b-.5)return!1;return!0}r.handlePick=function(c){if(c.object===this.mesh){var b=c.index=c.data.index;c.traceCoordinate=c.data._cellCenter?c.data.dataCoordinate:[this.data.x[b],this.data.y[b],this.data.z[b]];var p=this.data.hovertext||this.data.text;return d(p)&&void 0!==p[b]?c.textLabel=p[b]:p&&(c.textLabel=p),!0}},r.update=function(c){var b=this.scene,p=b.fullSceneLayout;this.data=c;var m,v=c.x.length,x=i(u(p.xaxis,c.x,b.dataScale[0],c.xcalendar),u(p.yaxis,c.y,b.dataScale[1],c.ycalendar),u(p.zaxis,c.z,b.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,v)||!h(c.j,v)||!h(c.k,v))return;m=i(l(c.i),l(c.j),l(c.k))}else m=0===c.alphahull?M(x):c.alphahull>0?a(c.alphahull,x):function(C,T){for(var D=["x","y","z"].indexOf(C),R=[],P=T.length,O=0;O<P;O++)R[O]=[T[O][(D+1)%3],T[O][(D+2)%3]];return A(R)}(c.delaunayaxis,x);var y={positions:x,cells:m,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:s(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var w=t(c);this.color="#fff";var f=c.intensitymode;y[f+"Intensity"]=c.intensity,y[f+"IntensityBounds"]=[w.min,w.max],y.colormap=_(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=o(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=o(c.facecolor)):(this.color=c.color,y.meshColor=s(c.color));this.mesh.update(y)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(c,b){var m=S({gl:c.glplot.gl}),v=new n(c,m,b.uid);return m._trace=v,v.update(b),c.glplot.add(m),v}},74212:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(27260),M=e(52948);ie.exports=function(_,d,s,t){function i(r,o){return A.coerce(_,d,M,r,o)}function n(r){var o=r.map(function(u){var l=i(u);return l&&A.isArrayOrTypedArray(l)?l:null});return o.every(function(u){return u&&u.length===o[0].length})&&o}n(["x","y","z"])?(n(["i","j","k"]),(!d.i||d.j&&d.k)&&(!d.j||d.k&&d.i)&&(!d.k||d.i&&d.j)?(S.getComponentMethod("calendars","handleTraceDefaults")(_,d,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(r){i(r)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in _?(i("intensity"),i("intensitymode"),a(_,d,t,i,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in _?i("facecolor"):"vertexcolor"in _?i("vertexcolor"):i("color",s)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),d._length=null):d.visible=!1):d.visible=!1}},7404:function(ie,z,e){"use strict";ie.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(ie,z,e){"use strict";var S=e(3400).extendFlat,A=e(52904),a=e(29736).axisHoverFormat,M=e(98192).u,_=e(55756),d=e(48164),s=d.INCREASING.COLOR,t=d.DECREASING.COLOR,i=A.line;function n(r){return{line:{color:S({},i.color,{dflt:r}),width:i.width,dash:M,editType:"style"},editType:"style"}}ie.exports={xperiod:A.xperiod,xperiod0:A.xperiod0,xperiodalignment:A.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:S({},i.width,{}),dash:S({},M,{}),editType:"style"},increasing:n(s),decreasing:n(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:S({},_.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:A.zorder}},42812:function(ie,z,e){"use strict";var S=e(3400),A=S._,a=e(54460),M=e(1220),_=e(39032).BADNUM;function d(t,i,n,r){return{o:t,h:i,l:n,c:r}}function s(t,i,n,r,o,u){for(var l=o.makeCalcdata(i,"open"),h=o.makeCalcdata(i,"high"),c=o.makeCalcdata(i,"low"),b=o.makeCalcdata(i,"close"),p=S.isArrayOrTypedArray(i.text),m=S.isArrayOrTypedArray(i.hovertext),v=!0,x=null,y=!!i.xperiodalignment,w=[],f=0;f<r.length;f++){var C=r[f],T=l[f],D=h[f],R=c[f],P=b[f];if(C!==_&&T!==_&&D!==_&&R!==_&&P!==_){P===T?null!==x&&P!==x&&(v=P>x):v=P>T,x=P;var O=u(T,D,R,P);O.pos=C,O.yc=(T+P)/2,O.i=f,O.dir=v?"increasing":"decreasing",O.x=O.pos,O.y=[R,D],y&&(O.orig_p=n[f]),p&&(O.tx=i.text[f]),m&&(O.htx=i.hovertext[f]),w.push(O)}else w.push({pos:C,empty:!0})}return i._extremes[o._id]=a.findExtremes(o,S.concat(c,h),{padded:!0}),w.length&&(w[0].t={labels:{open:A(t,"open:")+" ",high:A(t,"high:")+" ",low:A(t,"low:")+" ",close:A(t,"close:")+" "}}),w}ie.exports={calc:function(t,i){var n=a.getFromId(t,i.xaxis),r=a.getFromId(t,i.yaxis),o=function(b,p,m){var v=m._minDiff;if(!v){var x,y=b._fullData,w=[];for(v=1/0,x=0;x<y.length;x++){var f=y[x];if("ohlc"===f.type&&!0===f.visible&&f.xaxis===p._id){w.push(f);var C=p.makeCalcdata(f,"x");f._origX=C;var T=M(m,p,"x",C).vals;f._xcalc=T;var D=S.distinctVals(T).minDiff;D&&isFinite(D)&&(v=Math.min(v,D))}}for(v===1/0&&(v=1),x=0;x<w.length;x++)w[x]._minDiff=v}return v*m.tickwidth}(t,n,i),u=i._minDiff;i._minDiff=null;var l=i._origX;i._origX=null;var h=i._xcalc;i._xcalc=null;var c=s(t,i,l,h,r,d);return i._extremes[n._id]=a.findExtremes(n,h,{vpad:u/2}),c.length?(S.extendFlat(c[0].t,{wHover:u/2,tickLen:o}),c):[{t:{empty:!0}}]},calcCommon:s}},23860:function(ie,z,e){"use strict";var S=e(3400),A=e(52744),a=e(31147),M=e(20279);function _(d,s,t,i){t(i+".line.color"),t(i+".line.width",s.line.width),t(i+".line.dash",s.line.dash)}ie.exports=function(d,s,t,i){function n(r,o){return S.coerce(d,s,M,r,o)}A(d,s,n,i)?(a(d,s,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),_(0,s,n,"increasing"),_(0,s,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[s.xaxis]=!0,n("zorder")):s.visible=!1}},18720:function(ie,z,e){"use strict";var S=e(54460),A=e(3400),a=e(93024),M=e(76308),_=e(3400).fillText,d=e(48164),s={increasing:d.INCREASING.SYMBOL,decreasing:d.DECREASING.SYMBOL};function t(r,o,u,l){var h,c,b=r.cd,p=r.xa,m=b[0].trace,v=b[0].t,x=m.type,y="ohlc"===x?"l":"min",w="ohlc"===x?"h":"max",f=v.bPos||0,C=function(j){return j.pos+f-o},T=v.bdPos||v.tickLen,D=v.wHover,R=Math.min(1,T/Math.abs(p.r2c(p.range[1])-p.r2c(p.range[0])));function P(j){var W=C(j);return a.inbox(W-D,W+D,h)}function O(j){var W=j[y],G=j[w];return W===G||a.inbox(W-u,G-u,h)}function B(j){return(P(j)+O(j))/2}h=r.maxHoverDistance-R,c=r.maxSpikeDistance-R;var q=a.getDistanceFunction(l,P,O,B);if(a.getClosest(b,q,r),!1===r.index)return null;var N=b[r.index];if(N.empty)return null;var H=m[N.dir],$=H.line.color;return r.color=M.opacity($)&&H.line.width?$:H.fillcolor,r.x0=p.c2p(N.pos+f-T,!0),r.x1=p.c2p(N.pos+f+T,!0),r.xLabelVal=void 0!==N.orig_p?N.orig_p:N.pos,r.spikeDistance=B(N)*c/h,r.xSpike=p.c2p(N.pos,!0),r}function i(r,o,u,l){var h=r.cd,c=r.ya,b=h[0].trace,p=h[0].t,m=[],v=t(r,o,u,l);if(!v)return[];var x=h[v.index].hi||b.hoverinfo,y=x.split("+");if("all"!==x&&-1===y.indexOf("y"))return[];for(var w=["high","open","close","low"],f={},C=0;C<w.length;C++){var T,D=w[C],R=b[D][v.index],P=c.c2p(R,!0);R in f?(T=f[R]).yLabel+="<br>"+p.labels[D]+S.hoverLabelText(c,R,b.yhoverformat):((T=A.extendFlat({},v)).y0=T.y1=P,T.yLabelVal=R,T.yLabel=p.labels[D]+S.hoverLabelText(c,R,b.yhoverformat),T.name="",m.push(T),f[R]=T)}return m}function n(r,o,u,l){var h=r.cd,c=r.ya,b=h[0].trace,p=h[0].t,m=t(r,o,u,l);if(!m)return[];var v=h[m.index],x=m.index=v.i,y=v.dir;function w(O){return p.labels[O]+S.hoverLabelText(c,b[O][x],b.yhoverformat)}var f=v.hi||b.hoverinfo,C=f.split("+"),T="all"===f,D=T||-1!==C.indexOf("y"),R=T||-1!==C.indexOf("text"),P=D?[w("open"),w("high"),w("low"),w("close")+"  "+s[y]]:[];return R&&_(v,b,P),m.extraText=P.join("<br>"),m.y0=m.y1=c.c2p(v.yc,!0),[m]}ie.exports={hoverPoints:function(r,o,u,l){return r.cd[0].trace.hoverlabel.split?i(r,o,u,l):n(r,o,u,l)},hoverSplit:i,hoverOnPoints:n}},65456:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(ie,z,e){"use strict";var S=e(24040),A=e(3400);ie.exports=function(a,M,_,d){var s=_("x"),t=_("open"),i=_("high"),n=_("low"),r=_("close");if(_("hoverlabel.split"),S.getComponentMethod("calendars","handleTraceDefaults")(a,M,["x"],d),t&&i&&n&&r){var o=Math.min(t.length,i.length,n.length,r.length);return s&&(o=Math.min(o,A.minRowLength(s))),M._length=o,o}}},36664:function(ie,z,e){"use strict";var S=e(33428),A=e(3400);ie.exports=function(a,M,_,d){var s=M.yaxis,t=M.xaxis,i=!!t.rangebreaks;A.makeTraceGroups(d,_,"trace ohlc").each(function(n){var r=S.select(this),o=n[0],u=o.t;if(!0!==o.trace.visible||u.empty)r.remove();else{var l=u.tickLen,h=r.selectAll("path").data(A.identity);h.enter().append("path"),h.exit().remove(),h.attr("d",function(c){if(c.empty)return"M0,0Z";var b=t.c2p(c.pos-l,!0),p=t.c2p(c.pos+l,!0),m=i?(b+p)/2:t.c2p(c.pos,!0);return"M"+b+","+s.c2p(c.o,!0)+"H"+m+"M"+m+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+p+","+s.c2p(c.c,!0)+"H"+m})}})}},97384:function(ie){"use strict";ie.exports=function(z,e){var S,A=z.cd,a=z.xaxis,M=z.yaxis,_=[],d=A[0].t.bPos||0;if(!1===e)for(S=0;S<A.length;S++)A[S].selected=0;else for(S=0;S<A.length;S++){var s=A[S];e.contains([a.c2p(s.pos+d),M.c2p(s.yc)],null,s.i,z)?(_.push({pointNumber:s.i,x:a.c2d(s.pos),y:M.c2d(s.yc)}),s.selected=1):s.selected=0}return _}},14008:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(76308);ie.exports=function(M,_,d){var s=d||S.select(M).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=t[0].trace;S.select(this).selectAll("path").each(function(n){if(!n.empty){var r=i[n.dir].line;S.select(this).style("fill","none").call(a.stroke,r.color).call(A.dashLine,r.dash,r.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(ie,z,e){"use strict";var S=e(92880).extendFlat,A=e(45464),a=e(25376),M=e(49084),_=e(21776).Ks,d=e(86968).u,s=S({editType:"calc"},M("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:_({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ie.exports={domain:d({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:S({},A.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:_({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(ie,z,e){"use strict";var S=e(84888)._M,A=e(60268),a="parcats";z.name=a,z.plot=function(M,_,d,s){var t=S(M.calcdata,a);t.length&&A(M,t[0],d,s)},z.clean=function(M,_,d,s){var t=s._has&&s._has("parcats"),i=_._has&&_._has("parcats");t&&!i&&s._paperdiv.selectAll(".parcats").remove()}},69136:function(ie,z,e){"use strict";var S=e(71688).wrap,A=e(94288).hasColorscale,a=e(47128),M=e(68944),_=e(43616),d=e(3400),s=e(38248);function t(r,o,u){r.valueInds.push(o),r.count+=u}function i(r,o,u){return{categoryInds:r,color:o,rawColor:u,valueInds:[],count:0}}function n(r,o,u){r.valueInds.push(o),r.count+=u}ie.exports=function(r,o){var u=d.filterVisible(o.dimensions);if(0===u.length)return[];var l,h,c,b=u.map(function(G){var ae;if("trace"===G.categoryorder)ae=null;else if("array"===G.categoryorder)ae=G.categoryarray;else{ae=M(G.values);for(var te=!0,Q=0;Q<ae.length;Q++)if(!s(ae[Q])){te=!1;break}ae.sort(te?d.sorterAsc:void 0),"category descending"===G.categoryorder&&(ae=ae.reverse())}return function(ee,re){re=null==re?[]:re.map(function(we){return we});var J={},le={},fe=[];re.forEach(function(we,xe){J[we]=0,le[we]=xe});for(var ce=0;ce<ee.length;ce++){var ge,Te=ee[ce];void 0===J[Te]?(J[Te]=1,ge=re.push(Te)-1,le[Te]=ge):(J[Te]++,ge=le[Te]),fe.push(ge)}var Me=re.map(function(we){return J[we]});return{uniqueValues:re,uniqueCounts:Me,inds:fe}}(G.values,ae)});l=d.isArrayOrTypedArray(o.counts)?o.counts:[o.counts],function(G){var ae;if(function(Q){for(var ee=new Array(Q.length),re=0;re<Q.length;re++){if(Q[re]<0||Q[re]>=Q.length||void 0!==ee[Q[re]])return!1;ee[Q[re]]=!0}return!0}(G.map(function(Q){return Q.displayindex})))for(ae=0;ae<G.length;ae++)G[ae]._displayindex=G[ae].displayindex;else for(ae=0;ae<G.length;ae++)G[ae]._displayindex=ae}(u),u.forEach(function(G,ae){!function(te,Q){te._categoryarray=Q.uniqueValues,te._ticktext=null==te.ticktext?[]:te.ticktext.slice();for(var ee=te._ticktext.length;ee<Q.uniqueValues.length;ee++)te._ticktext.push(Q.uniqueValues[ee])}(G,b[ae])});var p,m=o.line;m?(A(o,"line")&&a(r,o,{vals:o.line.color,containerStr:"line",cLetter:"c"}),p=_.tryColorscale(m)):p=d.identity;var v,x,y,w,f,C=u[0].values.length,T={},D=b.map(function(G){return G.inds});for(c=0,v=0;v<C;v++){var R=[];for(x=0;x<D.length;x++)R.push(D[x][v]);c+=h=l[v%l.length];var P=(y=v,w=void 0,f=void 0,d.isArrayOrTypedArray(m.color)?f=w=m.color[y%m.color.length]:w=m.color,{color:p(w),rawColor:f}),O=R+"-"+P.rawColor;void 0===T[O]&&(T[O]=i(R,P.color,P.rawColor)),n(T[O],v,h)}var B,G,ae,te,Q,q=u.map(function(G,ae){return{dimensionInd:ae,containerInd:G._index,displayInd:G._displayindex,dimensionLabel:G.label,count:c,categories:[],dragX:null}});for(v=0;v<C;v++)for(h=l[v%l.length],x=0;x<q.length;x++){var N=q[x].containerInd,H=b[x].inds[v],$=q[x].categories;void 0===$[H]&&($[H]={dimensionInd:x,categoryInd:B=H,categoryValue:o.dimensions[N]._categoryarray[H],displayInd:B,categoryLabel:o.dimensions[N]._ticktext[H],valueInds:[],count:0,dragY:null}),t($[H],v,h)}return S((ae=T,te=c,Q=(G=q).map(function(ee){return ee.categories.length}).reduce(function(ee,re){return Math.max(ee,re)}),{dimensions:G,paths:ae,trace:void 0,maxCats:Q,count:te}))}},76671:function(ie,z,e){"use strict";var S=e(3400),A=e(94288).hasColorscale,a=e(27260),M=e(86968).Q,_=e(51272),d=e(72140),s=e(26284),t=e(38116).isTypedArraySpec;function i(n,r){function o(m,v){return S.coerce(n,r,d.dimensions,m,v)}var u=o("values"),l=o("visible");if(u&&u.length||(l=r.visible=!1),l){o("label"),o("displayindex",r._index);var h,c=n.categoryarray,b=S.isArrayOrTypedArray(c)&&c.length>0||t(c);b&&(h="array");var p=o("categoryorder",h);"array"===p?(o("categoryarray"),o("ticktext")):(delete n.categoryarray,delete n.ticktext),b||"array"!==p||(r.categoryorder="trace")}}ie.exports=function(n,r,o,u){function l(m,v){return S.coerce(n,r,d,m,v)}var h=_(n,r,{name:"dimensions",handleItemDefaults:i}),c=function(m,v,x,y,w){w("line.shape"),w("line.hovertemplate");var f=w("line.color",y.colorway[0]);if(A(m,"line")&&S.isArrayOrTypedArray(f)){if(f.length)return w("line.colorscale"),a(m,v,y,w,{prefix:"line.",cLetter:"c"}),f.length;v.line.color=x}return 1/0}(n,r,o,u,l);M(r,u,l),Array.isArray(h)&&h.length||(r.visible=!1),s(r,h,"values",c),l("hoveron"),l("hovertemplate"),l("arrangement"),l("bundlecolors"),l("sortpaths"),l("counts");var b={weight:u.font.weight,style:u.font.style,variant:u.font.variant,family:u.font.family,size:Math.round(u.font.size),color:u.font.color};S.coerceFont(l,"labelfont",b);var p={weight:u.font.weight,style:u.font.style,variant:u.font.variant,family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};S.coerceFont(l,"tickfont",p)}},22020:function(ie,z,e){"use strict";ie.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(ie,z,e){"use strict";var S=e(33428),A=e(67756).Gz,a=e(36424),M=e(93024),_=e(3400),d=_.strTranslate,s=e(43616),t=e(49760),i=e(72736);function n(te,Q,ee,re){var J=Q._context.staticPlot,le=te.map($.bind(0,Q,ee)),fe=re.selectAll("g.parcatslayer").data([null]);fe.enter().append("g").attr("class","parcatslayer").style("pointer-events",J?"none":"all");var ce=fe.selectAll("g.trace.parcats").data(le,r),ge=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(he){return d(he.x,he.y)}),ge.append("g").attr("class","paths");var Te=ce.select("g.paths").selectAll("path.path").data(function(he){return he.paths},r);Te.attr("fill",function(he){return he.model.color});var Me=Te.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(he){return he.model.color}).attr("fill-opacity",0);m(Me),Te.attr("d",function(he){return he.svgD}),Me.empty()||Te.sort(u),Te.exit().remove(),Te.on("mouseover",l).on("mouseout",h).on("click",p),ge.append("g").attr("class","dimensions");var we=ce.select("g.dimensions").selectAll("g.dimension").data(function(he){return he.dimensions},r);we.enter().append("g").attr("class","dimension"),we.attr("transform",function(he){return d(he.x,0)}),we.exit().remove();var xe=we.selectAll("g.category").data(function(he){return he.categories},r),be=xe.enter().append("g").attr("class","category");xe.attr("transform",function(he){return d(0,he.y)}),be.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(he){return he.width}).attr("height",function(he){return he.height}),x(be);var ye=xe.selectAll("rect.bandrect").data(function(he){return he.bands},r);ye.each(function(){_.raiseToTop(this)}),ye.attr("fill",function(he){return he.color});var Se=ye.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(he){return he.color}).attr("fill-opacity",0);ye.attr("fill",function(he){return he.color}).attr("width",function(he){return he.width}).attr("height",function(he){return he.height}).attr("y",function(he){return he.y}).attr("cursor",function(he){return"fixed"===he.parcatsViewModel.arrangement?"default":"perpendicular"===he.parcatsViewModel.arrangement?"ns-resize":"move"}),y(Se),ye.exit().remove(),be.append("text").attr("class","catlabel").attr("pointer-events","none");var Ee=Q._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(he){return o(he)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",i.makeTextShadow(Ee)).style("fill","rgb(0, 0, 0)").attr("x",function(he){return o(he)?he.width+5:-5}).attr("y",function(he){return he.height/2}).text(function(he){return he.model.categoryLabel}).each(function(he){s.font(S.select(this),he.parcatsViewModel.categorylabelfont),i.convertToTspans(S.select(this),Q)}),be.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(he){return"fixed"===he.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(he){return he.width/2}).attr("y",-5).text(function(he,ue){return 0===ue?he.parcatsViewModel.model.dimensions[he.model.dimensionInd].dimensionLabel:null}).each(function(he){s.font(S.select(this),he.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",D).on("mouseout",R),xe.exit().remove(),we.call(S.behavior.drag().origin(function(he){return{x:he.x,y:0}}).on("dragstart",P).on("drag",O).on("dragend",B)),ce.each(function(he){he.traceSelection=S.select(this),he.pathSelection=S.select(this).selectAll("g.paths").selectAll("path.path"),he.dimensionSelection=S.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}function r(te){return te.key}function o(te){return te.model.dimensionInd===te.parcatsViewModel.dimensions[te.parcatsViewModel.dimensions.length-1].model.dimensionInd}function u(te,Q){return te.model.rawColor>Q.model.rawColor?1:te.model.rawColor<Q.model.rawColor?-1:0}function l(te){if(!te.parcatsViewModel.dragDimension&&-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")){_.raiseToTop(this),v(S.select(this));var Q=c(te),ee=b(te);if(te.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:S.event,constraints:ee}),-1===te.parcatsViewModel.hoverinfoItems.indexOf("none")){var re,J,le,fe=S.mouse(this)[0],ce=te.parcatsViewModel.graphDiv,ge=te.parcatsViewModel.trace,Te=ce._fullLayout,Me=Te._paperdiv.node().getBoundingClientRect(),we=te.parcatsViewModel.graphDiv.getBoundingClientRect();for(le=0;le<te.leftXs.length-1;le++)if(te.leftXs[le]+te.dimWidths[le]-2<=fe&&fe<=te.leftXs[le+1]+2){var xe=te.parcatsViewModel.dimensions[le];re=(xe.x+xe.width+te.parcatsViewModel.dimensions[le+1].x)/2,J=(te.topYs[le]+te.topYs[le+1]+te.height)/2;break}var ye=te.parcatsViewModel.x+re,Se=te.parcatsViewModel.y+J,Ee=t.mostReadable(te.model.color,["black","white"]),he=te.model.count,ue=he/te.parcatsViewModel.model.count,me={countLabel:he,probabilityLabel:ue.toFixed(3)},Pe=[];-1!==te.parcatsViewModel.hoverinfoItems.indexOf("count")&&Pe.push(["Count:",me.countLabel].join(" ")),-1!==te.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Pe.push(["P:",me.probabilityLabel].join(" "));var Ce=Pe.join("<br>"),Ie=S.mouse(ce)[0];M.loneHover({trace:ge,x:ye-Me.left+we.left,y:Se-Me.top+we.top,text:Ce,color:te.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ee,idealAlign:Ie<ye?"right":"left",hovertemplate:(ge.line||{}).hovertemplate,hovertemplateLabels:me,eventData:[{data:ge._input,fullData:ge,count:he,probability:ue}]},{container:Te._hoverlayer.node(),outerContainer:Te._paper.node(),gd:ce})}}}function h(te){if(!te.parcatsViewModel.dragDimension&&(m(S.select(this)),M.loneUnhover(te.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),te.parcatsViewModel.pathSelection.sort(u),-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var Q=c(te),ee=b(te);te.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:S.event,constraints:ee})}}function c(te){for(var Q=[],ee=q(te.parcatsViewModel),re=0;re<te.model.valueInds.length;re++)Q.push({curveNumber:ee,pointNumber:te.model.valueInds[re]});return Q}function b(te){for(var Q={},ee=te.parcatsViewModel.model.dimensions,re=0;re<ee.length;re++){var J=ee[re];Q[J.containerInd]=J.categories[te.model.categoryInds[re]].categoryValue}return void 0!==te.model.rawColor&&(Q.color=te.model.rawColor),Q}function p(te){if(-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")){var Q=c(te),ee=b(te);te.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:S.event,constraints:ee})}}function m(te){te.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function v(te){te.attr("fill-opacity",.8).attr("stroke",function(Q){return t.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function x(te){te.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function y(te){te.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function w(te){var ee=te.categoryViewModel.model.dimensionInd,re=te.categoryViewModel.model.categoryInd;return te.parcatsViewModel.pathSelection.filter(function(J){return J.model.categoryInds[ee]===re&&J.model.color===te.color})}function f(te,Q,ee){var re=S.select(te).datum(),J=re.categoryViewModel.model,le=re.parcatsViewModel.graphDiv,fe=S.select(te.parentNode).selectAll("rect.bandrect"),ce=[];fe.each(function(Te){w(Te).each(function(Me){Array.prototype.push.apply(ce,c(Me))})});var ge={};ge[J.dimensionInd]=J.categoryValue,le.emit(Q,{points:ce,event:ee,constraints:ge})}function C(te,Q,ee){var re=S.select(te).datum(),J=re.categoryViewModel.model,le=re.parcatsViewModel.graphDiv,fe=w(re),ce=[];fe.each(function(Te){Array.prototype.push.apply(ce,c(Te))});var ge={};ge[J.dimensionInd]=J.categoryValue,void 0!==re.rawColor&&(ge.color=re.rawColor),le.emit(Q,{points:ce,event:ee,constraints:ge})}function T(te,Q,ee){te._fullLayout._calcInverseTransform(te);var re,J,le=te._fullLayout._invScaleX,fe=te._fullLayout._invScaleY,ce=S.select(ee.parentNode).select("rect.catrect"),ge=ce.node().getBoundingClientRect(),Te=ce.datum(),Me=Te.parcatsViewModel,xe=Me.trace,be=ge.top+ge.height/2;Me.dimensions.length>1&&Me.model.dimensions[Te.model.dimensionInd].displayInd===Me.dimensions.length-1?(re=ge.left,J="left"):(re=ge.left+ge.width,J="right");var ye=Te.model.count,Se=Te.model.categoryLabel,Ee=ye/Te.parcatsViewModel.model.count,he={countLabel:ye,categoryLabel:Se,probabilityLabel:Ee.toFixed(3)},ue=[];-1!==Te.parcatsViewModel.hoverinfoItems.indexOf("count")&&ue.push(["Count:",he.countLabel].join(" ")),-1!==Te.parcatsViewModel.hoverinfoItems.indexOf("probability")&&ue.push(["P("+he.categoryLabel+"):",he.probabilityLabel].join(" "));var me=ue.join("<br>");return{trace:xe,x:le*(re-Q.left),y:fe*(be-Q.top),text:me,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:J,hovertemplate:xe.hovertemplate,hovertemplateLabels:he,eventData:[{data:xe._input,fullData:xe,count:ye,category:Se,probability:Ee}]}}function D(te){if(!te.parcatsViewModel.dragDimension&&-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(S.mouse(this)[1]<-1)return;var Q,ee=te.parcatsViewModel.graphDiv,re=ee._fullLayout,J=re._paperdiv.node().getBoundingClientRect(),le=te.parcatsViewModel.hoveron,fe=this;"color"===le?(v(Te=w(ge=S.select(ce=fe).datum())),Te.each(function(){_.raiseToTop(this)}),S.select(ce.parentNode).selectAll("rect.bandrect").filter(function(Me){return Me.color===ge.color}).each(function(){_.raiseToTop(this),S.select(this).attr("stroke","black").attr("stroke-width",1.5)}),C(fe,"plotly_hover",S.event)):(function(ce){S.select(ce.parentNode).selectAll("rect.bandrect").each(function(ge){var Te=w(ge);v(Te),Te.each(function(){_.raiseToTop(this)})}),S.select(ce.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(fe),f(fe,"plotly_hover",S.event)),-1===te.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===le?Q=T(ee,J,fe):"color"===le?Q=function(ce,ge,Te){ce._fullLayout._calcInverseTransform(ce);var Me,we,xe=ce._fullLayout._invScaleX,be=ce._fullLayout._invScaleY,ye=Te.getBoundingClientRect(),Se=S.select(Te).datum(),Ee=Se.categoryViewModel,he=Ee.parcatsViewModel,me=he.trace,Pe=ye.y+ye.height/2;he.dimensions.length>1&&he.model.dimensions[Ee.model.dimensionInd].displayInd===he.dimensions.length-1?(Me=ye.left,we="left"):(Me=ye.left+ye.width,we="right");var Ce=Ee.model.categoryLabel,Ie=Se.parcatsViewModel.model.count,Oe=0;Se.categoryViewModel.bands.forEach(function(nt){nt.color===Se.color&&(Oe+=nt.count)});var ze=Ee.model.count,je=0;he.pathSelection.each(function(nt){nt.model.color===Se.color&&(je+=nt.model.count)});var ve=Oe/Ie,Ae=Oe/je,Le=Oe/ze,Ve={countLabel:Oe,categoryLabel:Ce,probabilityLabel:ve.toFixed(3)},Ne=[];-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("count")&&Ne.push(["Count:",Ve.countLabel].join(" ")),-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(Ne.push("P(color \u2229 "+Ce+"): "+Ve.probabilityLabel),Ne.push("P("+Ce+" | color): "+Ae.toFixed(3)),Ne.push("P(color | "+Ce+"): "+Le.toFixed(3)));var We=Ne.join("<br>"),Xe=t.mostReadable(Se.color,["black","white"]);return{trace:me,x:xe*(Me-ge.left),y:be*(Pe-ge.top),text:We,color:Se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Xe,fontSize:10,idealAlign:we,hovertemplate:me.hovertemplate,hovertemplateLabels:Ve,eventData:[{data:me._input,fullData:me,category:Ce,count:Ie,probability:ve,categorycount:ze,colorcount:je,bandcolorcount:Oe}]}}(ee,J,fe):"dimension"===le&&(Q=function(ce,ge,Te){var Me=[];return S.select(Te.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Me.push(T(ce,ge,this))}),Me}(ee,J,fe)),Q&&M.loneHover(Q,{container:re._hoverlayer.node(),outerContainer:re._paper.node(),gd:ee}))}var ce,ge,Te}function R(te){var Q=te.parcatsViewModel;Q.dragDimension||(m(Q.pathSelection),x(Q.dimensionSelection.selectAll("g.category")),y(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),M.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(u),-1!==Q.hoverinfoItems.indexOf("skip"))||("color"===te.parcatsViewModel.hoveron?C(this,"plotly_unhover",S.event):f(this,"plotly_unhover",S.event))}function P(te){"fixed"!==te.parcatsViewModel.arrangement&&(te.dragDimensionDisplayInd=te.model.displayInd,te.initialDragDimensionDisplayInds=te.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),te.dragHasMoved=!1,te.dragCategoryDisplayInd=null,S.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var ee=S.mouse(this)[0],re=S.mouse(this)[1];-2<=ee&&ee<=Q.width+2&&-2<=re&&re<=Q.height+2&&(te.dragCategoryDisplayInd=Q.model.displayInd,te.initialDragCategoryDisplayInds=te.model.categories.map(function(J){return J.displayInd}),Q.model.dragY=Q.y,_.raiseToTop(this.parentNode),S.select(this.parentNode).selectAll("rect.bandrect").each(function(J){J.y<re&&re<=J.y+J.height&&(te.potentialClickBand=this)}))}),te.parcatsViewModel.dragDimension=te,M.loneUnhover(te.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(te){if("fixed"!==te.parcatsViewModel.arrangement&&(te.dragHasMoved=!0,null!==te.dragDimensionDisplayInd)){var Q=te.dragDimensionDisplayInd,ee=Q-1,re=Q+1,J=te.parcatsViewModel.dimensions[Q];if(null!==te.dragCategoryDisplayInd){var le=J.categories[te.dragCategoryDisplayInd];le.model.dragY+=S.event.dy;var fe=le.model.dragY,ce=le.model.displayInd,ge=J.categories,Te=ge[ce-1],Me=ge[ce+1];void 0!==Te&&fe<Te.y+Te.height/2&&(le.model.displayInd=Te.model.displayInd,Te.model.displayInd=ce),void 0!==Me&&fe+le.height>Me.y+Me.height/2&&(le.model.displayInd=Me.model.displayInd,Me.model.displayInd=ce),te.dragCategoryDisplayInd=le.model.displayInd}if(null===te.dragCategoryDisplayInd||"freeform"===te.parcatsViewModel.arrangement){J.model.dragX=S.event.x;var we=te.parcatsViewModel.dimensions[ee],xe=te.parcatsViewModel.dimensions[re];void 0!==we&&J.model.dragX<we.x+we.width&&(J.model.displayInd=we.model.displayInd,we.model.displayInd=Q),void 0!==xe&&J.model.dragX+J.width>xe.x&&(J.model.displayInd=xe.model.displayInd,xe.model.displayInd=te.dragDimensionDisplayInd),te.dragDimensionDisplayInd=J.model.displayInd}G(te.parcatsViewModel),W(te.parcatsViewModel),H(te.parcatsViewModel),N(te.parcatsViewModel)}}function B(te){if("fixed"!==te.parcatsViewModel.arrangement&&null!==te.dragDimensionDisplayInd){S.select(this).selectAll("text").attr("font-weight","normal");var Q={},ee=q(te.parcatsViewModel),re=te.parcatsViewModel.model.dimensions.map(function(Me){return Me.displayInd}),J=te.initialDragDimensionDisplayInds.some(function(Me,we){return Me!==re[we]});J&&re.forEach(function(Me,we){Q["dimensions["+te.parcatsViewModel.model.dimensions[we].containerInd+"].displayindex"]=Me});var le=!1;if(null!==te.dragCategoryDisplayInd){var fe=te.model.categories.map(function(Me){return Me.displayInd});if(le=te.initialDragCategoryDisplayInds.some(function(Me,we){return Me!==fe[we]})){var ce=te.model.categories.slice().sort(function(Me,we){return Me.displayInd-we.displayInd}),ge=ce.map(function(Me){return Me.categoryValue}),Te=ce.map(function(Me){return Me.categoryLabel});Q["dimensions["+te.model.containerInd+"].categoryarray"]=[ge],Q["dimensions["+te.model.containerInd+"].ticktext"]=[Te],Q["dimensions["+te.model.containerInd+"].categoryorder"]="array"}}-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!te.dragHasMoved&&te.potentialClickBand&&("color"===te.parcatsViewModel.hoveron?C(te.potentialClickBand,"plotly_click",S.event.sourceEvent):f(te.potentialClickBand,"plotly_click",S.event.sourceEvent)),te.model.dragX=null,null!==te.dragCategoryDisplayInd&&(te.parcatsViewModel.dimensions[te.dragDimensionDisplayInd].categories[te.dragCategoryDisplayInd].model.dragY=null,te.dragCategoryDisplayInd=null),te.dragDimensionDisplayInd=null,te.parcatsViewModel.dragDimension=null,te.dragHasMoved=null,te.potentialClickBand=null,G(te.parcatsViewModel),W(te.parcatsViewModel),S.transition().duration(300).ease("cubic-in-out").each(function(){H(te.parcatsViewModel,!0),N(te.parcatsViewModel,!0)}).each("end",function(){(J||le)&&a.restyle(te.parcatsViewModel.graphDiv,Q,[ee])})}}function q(te){for(var Q,ee=te.graphDiv._fullData,re=0;re<ee.length;re++)if(te.key===ee[re].uid){Q=re;break}return Q}function N(te,Q){var ee;void 0===Q&&(Q=!1),te.pathSelection.data(function(re){return re.paths},r),(ee=te.pathSelection,Q?ee.transition():ee).attr("d",function(re){return re.svgD})}function H(te,Q){function ee(fe){return Q?fe.transition():fe}void 0===Q&&(Q=!1),te.dimensionSelection.data(function(fe){return fe.dimensions},r);var re=te.dimensionSelection.selectAll("g.category").data(function(fe){return fe.categories},r);ee(te.dimensionSelection).attr("transform",function(fe){return d(fe.x,0)}),ee(re).attr("transform",function(fe){return d(0,fe.y)}),re.select(".dimlabel").text(function(fe,ce){return 0===ce?fe.parcatsViewModel.model.dimensions[fe.model.dimensionInd].dimensionLabel:null}),re.select(".catlabel").attr("text-anchor",function(fe){return o(fe)?"start":"end"}).attr("x",function(fe){return o(fe)?fe.width+5:-5}).each(function(fe){var ce,ge;o(fe)?(ce=fe.width+5,ge="start"):(ce=-5,ge="end"),S.select(this).selectAll("tspan").attr("x",ce).attr("text-anchor",ge)});var J=re.selectAll("rect.bandrect").data(function(fe){return fe.bands},r),le=J.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(fe){return fe.color}).attr("fill-opacity",0);J.attr("fill",function(fe){return fe.color}).attr("width",function(fe){return fe.width}).attr("height",function(fe){return fe.height}).attr("y",function(fe){return fe.y}),y(le),J.each(function(){_.raiseToTop(this)}),J.exit().remove()}function $(te,Q,ee){var re,J=ee[0],le=Q.margin||{l:80,r:80,t:100,b:80},fe=J.trace,ce=fe.domain,ge=Q.width,Te=Q.height,Me=Math.floor(ge*(ce.x[1]-ce.x[0])),we=Math.floor(Te*(ce.y[1]-ce.y[0])),xe=ce.x[0]*ge+le.l,be=Q.height-ce.y[1]*Q.height+le.t,ye=fe.line.shape;re="all"===fe.hoverinfo?["count","probability"]:(fe.hoverinfo||"").split("+");var Se={trace:fe,key:fe.uid,model:J,x:xe,y:be,width:Me,height:we,hoveron:fe.hoveron,hoverinfoItems:re,arrangement:fe.arrangement,bundlecolors:fe.bundlecolors,sortpaths:fe.sortpaths,labelfont:fe.labelfont,categorylabelfont:fe.tickfont,pathShape:ye,dragDimension:null,margin:le,paths:[],dimensions:[],graphDiv:te,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(G(Se),W(Se)),Se}function j(te,Q,ee,re,J){var le,fe,ce=[],ge=[];for(fe=0;fe<ee.length-1;fe++)le=A(ee[fe]+te[fe],te[fe+1]),ce.push(le(J)),ge.push(le(1-J));var Te="M "+te[0]+","+Q[0];for(Te+="l"+ee[0]+",0 ",fe=1;fe<ee.length;fe++)Te+="C"+ce[fe-1]+","+Q[fe-1]+" "+ge[fe-1]+","+Q[fe]+" "+te[fe]+","+Q[fe],Te+="l"+ee[fe]+",0 ";for(Te+="l0,"+re+" ",Te+="l -"+ee[ee.length-1]+",0 ",fe=ee.length-2;fe>=0;fe--)Te+="C"+ge[fe]+","+(Q[fe+1]+re)+" "+ce[fe]+","+(Q[fe]+re)+" "+(te[fe]+ee[fe])+","+(Q[fe]+re),Te+="l-"+ee[fe]+",0 ";return Te+"Z"}function W(te){var Q=te.dimensions,ee=te.model,re=Q.map(function(Ve){return Ve.categories.map(function(Ne){return Ne.y})}),J=te.model.dimensions.map(function(Ve){return Ve.categories.map(function(Ne){return Ne.displayInd})}),le=te.model.dimensions.map(function(Ve){return Ve.displayInd}),fe=te.dimensions.map(function(Ve){return Ve.model.dimensionInd}),ce=Q.map(function(Ve){return Ve.x}),ge=Q.map(function(Ve){return Ve.width}),Te=[];for(var Me in ee.paths)ee.paths.hasOwnProperty(Me)&&Te.push(ee.paths[Me]);function we(Ve){var Ne=Ve.categoryInds.map(function(We,Xe){return J[Xe][We]});return fe.map(function(We){return Ne[We]})}Te.sort(function(Ve,Ne){var We=we(Ve),Xe=we(Ne);return"backward"===te.sortpaths&&(We.reverse(),Xe.reverse()),We.push(Ve.valueInds[0]),Xe.push(Ne.valueInds[0]),te.bundlecolors&&(We.unshift(Ve.rawColor),Xe.unshift(Ne.rawColor)),We<Xe?-1:We>Xe?1:0});for(var xe=new Array(Te.length),be=Q[0].model.count,ye=Q[0].categories.map(function(Ve){return Ve.height}).reduce(function(Ve,Ne){return Ve+Ne}),Se=0;Se<Te.length;Se++){var Ee,he=Te[Se];Ee=be>0?ye*(he.count/be):0;for(var ue,me=new Array(re.length),Pe=0;Pe<he.categoryInds.length;Pe++){var Ie=J[Pe][he.categoryInds[Pe]],Oe=le[Pe];me[Oe]=re[Oe][Ie],re[Oe][Ie]+=Ee;var ze=te.dimensions[Oe].categories[Ie],je=ze.bands.length,ve=ze.bands[je-1];if(void 0===ve||he.rawColor!==ve.rawColor){var Ae=void 0===ve?0:ve.y+ve.height;ze.bands.push({key:Ae,color:he.color,rawColor:he.rawColor,height:Ee,width:ze.width,count:he.count,y:Ae,categoryViewModel:ze,parcatsViewModel:te})}else{var Le=ze.bands[je-1];Le.height+=Ee,Le.count+=he.count}}ue=j(ce,me,ge,Ee,"hspline"===te.pathShape?.5:0),xe[Se]={key:he.valueInds[0],model:he,height:Ee,leftXs:ce,topYs:me,dimWidths:ge,svgD:ue,parcatsViewModel:te}}te.paths=xe}function G(te){var Q=te.model.dimensions.map(function(fe){return{displayInd:fe.displayInd,dimensionInd:fe.dimensionInd}});Q.sort(function(fe,ce){return fe.displayInd-ce.displayInd});var ee=[];for(var re in Q)ee.push(ae(te,te.model.dimensions[Q[re].dimensionInd]));te.dimensions=ee}function ae(te,Q){var ee,re=te.model.dimensions.length;ee=40+(re>1?(te.width-80-16)/(re-1):0)*Q.displayInd;var le,fe,ce,Te,Me=[],we=te.model.maxCats,xe=Q.categories.length,be=Q.count,ye=te.height-8*(we-1),Se=8*(we-xe)/2,Ee=Q.categories.map(function(he){return{displayInd:he.displayInd,categoryInd:he.categoryInd}});for(Ee.sort(function(he,ue){return he.displayInd-ue.displayInd}),Te=0;Te<xe;Te++)ce={key:(fe=Q.categories[Ee[Te].categoryInd]).valueInds[0],model:fe,width:16,height:le=be>0?fe.count/be*ye:0,y:null!==fe.dragY?fe.dragY:Se,bands:[],parcatsViewModel:te},Se=Se+le+8,Me.push(ce);return{key:Q.dimensionInd,x:null!==Q.dragX?Q.dragX:ee,y:0,width:16,model:Q,categories:Me,parcatsViewModel:te,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ie.exports=function(te,Q,ee,re){n(ee,te,re,Q)}},60268:function(ie,z,e){"use strict";var S=e(51036);ie.exports=function(A,a,M,_){var d=A._fullLayout,t=d._size;S(A,d._paper,a,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},M,_)}},82296:function(ie,z,e){"use strict";var S=e(49084),A=e(94724),a=e(25376),M=e(86968).u,_=e(92880).extendFlat,d=e(31780).templatedArray;ie.exports={domain:M({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:d("dimension",{label:{valType:"string",editType:"plot"},tickvals:_({},A.tickvals,{editType:"plot"}),ticktext:_({},A.ticktext,{editType:"plot"}),tickformat:_({},A.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:_({editType:"calc"},S("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(ie,z,e){"use strict";var S=e(30140),A=e(33428),a=e(71688).keyFun,M=e(71688).repeat,_=e(3400).sorterAsc,d=e(3400).strTranslate,s=S.bar.snapRatio;function t(T,D){return T*(1-s)+D*s}var i=S.bar.snapClose;function n(T,D){return T*(1-i)+D*i}function r(T,D,R,P){if(function(ae,te){for(var Q=0;Q<te.length;Q++)if(ae>=te[Q][0]&&ae<=te[Q][1])return!0;return!1}(R,P))return R;var O=T?-1:1,B=0,q=D.length-1;if(O<0){var N=B;B=q,q=N}for(var H=D[B],$=H,j=B;O*j<O*q;j+=O){var W=j+O,G=D[W];if(O*R<O*n(H,G))return t(H,$);if(O*R<O*G||W===q)return t(G,H);$=H,H=G}}function o(T){T.attr("x",-S.bar.captureWidth/2).attr("width",S.bar.captureWidth)}function u(T){T.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function l(T){if(!T.brush.filterSpecified)return"0,"+T.height;for(var D,R,P,O=h(T.brush.filter.getConsolidated(),T.height),B=[0],q=O.length?O[0][0]:null,N=0;N<O.length;N++)R=(D=O[N])[1]-D[0],B.push(q),B.push(R),(P=N+1)<O.length&&(q=O[P][0]-D[1]);return B.push(T.height),B}function h(T,D){return T.map(function(R){return R.map(function(P){return Math.max(0,P*D)}).sort(_)})}function c(){A.select(document.body).style("cursor",null)}function b(T){T.attr("stroke-dasharray",l)}function p(T,D){var R=A.select(T).selectAll(".highlight, .highlight-shadow");b(D?R.transition().duration(S.bar.snapDuration).each("end",D):R)}function m(T,D){var R,P=T.brush,O=NaN,B={};if(P.filterSpecified){var q=T.height,N=P.filter.getConsolidated(),H=h(N,q),$=NaN,j=NaN,W=NaN;for(R=0;R<=H.length;R++){var G=H[R];if(G&&G[0]<=D&&D<=G[1]){$=R;break}if(j=R?R-1:NaN,G&&G[0]>D){W=R;break}}if(O=$,isNaN(O)&&(O=isNaN(j)||isNaN(W)?isNaN(j)?W:j:D-H[j][1]<H[W][0]-D?j:W),!isNaN(O)){var ae=H[O],te=function(J,le){var fe=S.bar.handleHeight;if(!(le>J[1]+fe||le<J[0]-fe))return le>=.9*J[1]+.1*J[0]?"n":le<=.9*J[0]+.1*J[1]?"s":"ns"}(ae,D);te&&(B.interval=N[O],B.intervalPix=ae,B.region=te)}}if(T.ordinal&&!B.region){var Q=T.unitTickvals,ee=T.unitToPaddedPx.invert(D);for(R=0;R<Q.length;R++){var re=[.25*Q[Math.max(R-1,0)]+.75*Q[R],.25*Q[Math.min(R+1,Q.length-1)]+.75*Q[R]];if(ee>=re[0]&&ee<=re[1]){B.clickableOrdinalRange=re;break}}}return B}function v(T,D){A.event.sourceEvent.stopPropagation();var R=D.height-A.mouse(T)[1]-2*S.verticalPadding,P=D.brush.svgBrush;P.wasDragged=!0,P._dragging=!0,P.newExtent=P.grabbingBar?[R-P.grabPoint,R+P.barLength-P.grabPoint].map(D.unitToPaddedPx.invert):[P.startExtent,D.unitToPaddedPx.invert(R)].sort(_),D.brush.filterSpecified=!0,P.extent=P.stayingIntervals.concat([P.newExtent]),P.brushCallback(D),p(T.parentNode)}function x(T,D){var R=m(D,D.height-A.mouse(T)[1]-2*S.verticalPadding),P="crosshair";R.clickableOrdinalRange?P="pointer":R.region&&(P=R.region+"-resize"),A.select(document.body).style("cursor",P)}function y(T){T.on("mousemove",function(D){A.event.preventDefault(),D.parent.inBrushDrag||x(this,D)}).on("mouseleave",function(D){D.parent.inBrushDrag||c()}).call(A.behavior.drag().on("dragstart",function(D){!function(R,P){A.event.sourceEvent.stopPropagation();var O=P.height-A.mouse(R)[1]-2*S.verticalPadding,B=P.unitToPaddedPx.invert(O),q=P.brush,N=m(P,O),H=N.interval,$=q.svgBrush;if($.wasDragged=!1,$.grabbingBar="ns"===N.region,$.grabbingBar){var j=H.map(P.unitToPaddedPx);$.grabPoint=O-j[0]-S.verticalPadding,$.barLength=j[1]-j[0]}$.clickableOrdinalRange=N.clickableOrdinalRange,$.stayingIntervals=P.multiselect&&q.filterSpecified?q.filter.getConsolidated():[],H&&($.stayingIntervals=$.stayingIntervals.filter(function(W){return W[0]!==H[0]&&W[1]!==H[1]})),$.startExtent=N.region?H["s"===N.region?1:0]:B,P.parent.inBrushDrag=!0,$.brushStartCallback()}(this,D)}).on("drag",function(D){v(this,D)}).on("dragend",function(D){!function(R,P){var O=P.brush,B=O.filter,q=O.svgBrush;q._dragging||(x(R,P),v(R,P),P.brush.svgBrush.wasDragged=!1),q._dragging=!1,A.event.sourceEvent.stopPropagation();var N=q.grabbingBar;if(q.grabbingBar=!1,q.grabLocation=void 0,P.parent.inBrushDrag=!1,c(),!q.wasDragged)return q.wasDragged=void 0,q.clickableOrdinalRange?O.filterSpecified&&P.multiselect?q.extent.push(q.clickableOrdinalRange):(q.extent=[q.clickableOrdinalRange],O.filterSpecified=!0):N?(q.extent=q.stayingIntervals,0===q.extent.length&&f(O)):f(O),q.brushCallback(P),p(R.parentNode),void q.brushEndCallback(O.filterSpecified?B.getConsolidated():[]);var H=function(){B.set(B.getConsolidated())};if(P.ordinal){var $=P.unitTickvals;$[$.length-1]<$[0]&&$.reverse(),q.newExtent=[r(0,$,q.newExtent[0],q.stayingIntervals),r(1,$,q.newExtent[1],q.stayingIntervals)];var j=q.newExtent[1]>q.newExtent[0];q.extent=q.stayingIntervals.concat(j?[q.newExtent]:[]),q.extent.length||f(O),q.brushCallback(P),j?p(R.parentNode,H):(H(),p(R.parentNode))}else H();q.brushEndCallback(O.filterSpecified?B.getConsolidated():[])}(this,D)}))}function w(T,D){return T[0]-D[0]}function f(T){T.filterSpecified=!1,T.svgBrush.extent=[[-1/0,1/0]]}function C(T){for(var D,R=T.slice(),P=[],O=R.shift();O;){for(D=O.slice();(O=R.shift())&&O[0]<=D[1];)D[1]=Math.max(D[1],O[1]);P.push(D)}return 1===P.length&&P[0][0]>P[0][1]&&(P=[]),P}ie.exports={makeBrush:function(T,D,R,P,O,B){var q,H,$,j,N=(j=[],{set:function(W){1===(j=W.map(function(G){return G.slice().sort(_)}).sort(w)).length&&j[0][0]===-1/0&&j[0][1]===1/0&&(j=[[0,-1]]),H=C(j),$=j.reduce(function(G,ae){return[Math.min(G[0],ae[0]),Math.max(G[1],ae[1])]},[1/0,-1/0])},get:function(){return j.slice()},getConsolidated:function(){return H},getBounds:function(){return $}});return N.set(R),{filter:N,filterSpecified:D,svgBrush:{extent:[],brushStartCallback:P,brushCallback:(q=O,function(H){var $=H.brush,W=$.svgBrush.extent.map(function(ae){return ae.slice()}).slice();$.filter.set(W),q()}),brushEndCallback:B}}},ensureAxisBrush:function(T,D,R){var P=T.selectAll("."+S.cn.axisBrush).data(M,a);P.enter().append("g").classed(S.cn.axisBrush,!0),function(O,B,q){var N=q._context.staticPlot,H=O.selectAll(".background").data(M);H.enter().append("rect").classed("background",!0).call(o).call(u).style("pointer-events",N?"none":"auto").attr("transform",d(0,S.verticalPadding)),H.call(y).attr("height",function(W){return W.height-S.verticalPadding});var $=O.selectAll(".highlight-shadow").data(M);$.enter().append("line").classed("highlight-shadow",!0).attr("x",-S.bar.width/2).attr("stroke-width",S.bar.width+S.bar.strokeWidth).attr("stroke",B).attr("opacity",S.bar.strokeOpacity).attr("stroke-linecap","butt"),$.attr("y1",function(W){return W.height}).call(b);var j=O.selectAll(".highlight").data(M);j.enter().append("line").classed("highlight",!0).attr("x",-S.bar.width/2).attr("stroke-width",S.bar.width-S.bar.strokeWidth).attr("stroke",S.bar.fillColor).attr("opacity",S.bar.fillOpacity).attr("stroke-linecap","butt"),j.attr("y1",function(W){return W.height}).call(b)}(P,D,R)},cleanRanges:function(T,D){if(Array.isArray(T[0])?(T=T.map(function(P){return P.sort(_)}),T=D.multiselect?C(T.sort(w)):[T[0]]):T=[T.sort(_)],D.tickvals){var R=D.tickvals.slice().sort(_);if(!(T=T.map(function(P){var O=[r(0,R,P[0],[]),r(1,R,P[1],[])];if(O[1]>O[0])return O}).filter(function(P){return P})).length)return}return T.length>1?T:T[0]}}},61664:function(ie,z,e){"use strict";ie.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(ie,z,e){"use strict";var S=e(33428),A=e(84888)._M,a=e(24196),M=e(9616);z.name="parcoords",z.plot=function(_){var d=A(_.calcdata,"parcoords")[0];d.length&&a(_,d)},z.clean=function(_,d,s,t){var i=t._has&&t._has("parcoords"),n=d._has&&d._has("parcoords");i&&!n&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},z.toSVG=function(_){var d=_._fullLayout._glimages,s=S.select(_).selectAll(".svg-container");s.filter(function(t,i){return i===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");d.append("svg:image").attr({xmlns:M.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){S.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(ie,z,e){"use strict";var S=e(3400).isArrayOrTypedArray,A=e(8932),a=e(71688).wrap;ie.exports=function(M,_){var d,s;return A.hasColorscale(_,"line")&&S(_.line.color)?(d=_.line.color,s=A.extractOpts(_.line).colorscale,A.calc(M,_,{vals:d,containerStr:"line",cLetter:"c"})):(d=function(t){for(var i=new Array(t),n=0;n<t;n++)i[n]=.5;return i}(_._length),s=[[0,_.line.color],[1,_.line.color]]),a({lineColor:d,cscale:s})}},30140:function(ie){"use strict";ie.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(ie,z,e){"use strict";var S=e(3400),A=e(94288).hasColorscale,a=e(27260),M=e(86968).Q,_=e(51272),d=e(54460),s=e(82296),t=e(71864),i=e(30140).maxDimensionCount,n=e(26284);function r(o,u,l,h){function c(x,y){return S.coerce(o,u,s.dimensions,x,y)}var b=c("values"),p=c("visible");if(b&&b.length||(p=u.visible=!1),p){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var m=c("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:m},d.setConvert(u._ax,h.layout),c("multiselect");var v=c("constraintrange");v&&(u.constraintrange=t.cleanRanges(v,u))}}ie.exports=function(o,u,l,h){function c(x,y){return S.coerce(o,u,s,x,y)}var b=o.dimensions;Array.isArray(b)&&b.length>i&&(S.log("parcoords traces support up to "+i+" dimensions at the moment"),b.splice(i));var p=_(o,u,{name:"dimensions",layout:h,handleItemDefaults:r}),m=function(x,y,w,f,C){var T=C("line.color",w);if(A(x,"line")&&S.isArrayOrTypedArray(T)){if(T.length)return C("line.colorscale"),a(x,y,f,C,{prefix:"line.",cLetter:"c"}),T.length;y.line.color=w}return 1/0}(o,u,l,h,c);M(u,h,c),Array.isArray(p)&&p.length||(u.visible=!1),n(u,p,"values",m);var v={weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:Math.round(h.font.size/1.2),color:h.font.color};S.coerceFont(c,"labelfont",v),S.coerceFont(c,"tickfont",v),S.coerceFont(c,"rangefont",v),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(ie,z,e){"use strict";var S=e(3400).isTypedArray;z.convertTypedArray=function(A){return S(A)?Array.prototype.slice.call(A):A},z.isOrdinal=function(A){return!!A.tickvals},z.isVisible=function(A){return A.visible||!("visible"in A)}},29928:function(ie,z,e){"use strict";var S=e(61664);S.plot=e(24196),ie.exports=S},51352:function(ie,z,e){"use strict";var S=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join("\n"),A=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join("\n"),a=e(30140).maxDimensionCount,M=e(3400),d=new Uint8Array(4),s=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(p,m,v,x,y){var w=p._gl;w.enable(w.SCISSOR_TEST),w.scissor(m,v,x,y),p.clear({color:[0,0,0,0],depth:1})}function n(p,m,v,x,y,w){var f=w.key;v.drawCompleted||(p.read({x:0,y:0,width:1,height:1,data:d}),v.drawCompleted=!0),function C(T){var D=Math.min(x,y-T*x);0===T&&(window.cancelAnimationFrame(v.currentRafs[f]),delete v.currentRafs[f],i(p,w.scissorX,w.scissorY,w.scissorWidth,w.viewBoxSize[1])),v.clearOnly||(w.count=2*D,w.offset=2*T*x,m(w),T*x+D<y&&(v.currentRafs[f]=window.requestAnimationFrame(function(){C(T+1)})),v.drawCompleted=!1)}(0)}function r(p,m){for(var v=new Array(256),x=0;x<256;x++)v[x]=p(x/255).concat(m);return v}function o(p,m){return(p>>>8*m)%256/255}function u(p,m,v){for(var x=new Array(8*m),y=0,w=0;w<m;w++)for(var f=0;f<2;f++)for(var C=0;C<4;C++){var T=4*p+C,D=v[64*w+T];63===T&&0===f&&(D*=-1),x[y++]=D}return x}function l(p){var m="0"+p;return m.substr(m.length-2)}function h(p){return p<a?"p"+l(p+1)+"_"+l(p+4):"colors"}function c(p,m,v,x,y,w,f,C,T,D,R,P,O,B){for(var q=[[],[]],N=0;N<64;N++)q[0][N]=N===y?1:0,q[1][N]=N===w?1:0;var H=p.lines.canvasOverdrag*B,$=p.domain,j=p.canvasWidth*B,W=p.canvasHeight*B,G=p.pad.l*B,ae=p.pad.b*B,te=p.layoutHeight*B,Q=p.layoutWidth*B,ee=p.deselectedLines.color,re=p.deselectedLines.opacity;return M.extendFlat({key:R,resolution:[j,W],viewBoxPos:[(f*=B)+H,C*=B],viewBoxSize:[T*=B,D*=B],i0:y,i1:w,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:P,contextColor:[ee[0]/255,ee[1]/255,ee[2]/255,"auto"!==re?ee[3]*re:Math.max(.00392156862745098,Math.pow(1/p.lines.color.length,.3333333333333333))],scissorX:(x===m?0:f+H)+(G-H)+Q*$.x[0],scissorWidth:(x===v?j-f+H:T+.5)+(x===m?f+H:0),scissorY:C+ae+te*$.y[0],scissorHeight:D,viewportX:G-H+Q*$.x[0],viewportY:ae+te*$.y[0],viewportWidth:j,viewportHeight:W},O)}function b(p){var m=2047,v=Math.max(0,Math.floor(p[0]*m),0),x=Math.min(m,Math.ceil(p[1]*m),m);return[Math.min(v,x),Math.max(v,x)]}ie.exports=function(p,m){var v,y,w,f,C=m.context,T=m.pick,D=m.regl,R=D._gl,P=R.getParameter(R.ALIASED_LINE_WIDTH_RANGE),O=Math.max(P[0],Math.min(P[1],m.viewModel.plotGlPixelRatio)),B={currentRafs:{},drawCompleted:!0,clearOnly:!1},q=function(W){for(var G={},ae=0;ae<=a;ae+=4)G[h(ae)]=W.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return G}(D),N=D.texture(t),H=[];j(m);var $=D({profile:!1,blend:{enable:C,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!C,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:D.prop("scissorX"),y:D.prop("scissorY"),width:D.prop("scissorWidth"),height:D.prop("scissorHeight")}},viewport:{x:D.prop("viewportX"),y:D.prop("viewportY"),width:D.prop("viewportWidth"),height:D.prop("viewportHeight")},dither:!1,vert:S,frag:A,primitive:"lines",lineWidth:O,attributes:q,uniforms:{resolution:D.prop("resolution"),viewBoxPos:D.prop("viewBoxPos"),viewBoxSize:D.prop("viewBoxSize"),dim0A:D.prop("dim0A"),dim1A:D.prop("dim1A"),dim0B:D.prop("dim0B"),dim1B:D.prop("dim1B"),dim0C:D.prop("dim0C"),dim1C:D.prop("dim1C"),dim0D:D.prop("dim0D"),dim1D:D.prop("dim1D"),loA:D.prop("loA"),hiA:D.prop("hiA"),loB:D.prop("loB"),hiB:D.prop("hiB"),loC:D.prop("loC"),hiC:D.prop("hiC"),loD:D.prop("loD"),hiD:D.prop("hiD"),palette:N,contextColor:D.prop("contextColor"),maskTexture:D.prop("maskTexture"),drwLayer:D.prop("drwLayer"),maskHeight:D.prop("maskHeight")},offset:D.prop("offset"),count:D.prop("count")});function j(W){v=W.model,y=W.viewModel.dimensions.slice(),w=y[0]?y[0].values.length:0;var G=v.lines,ae=T?G.color.map(function(Q,ee){return ee/G.color.length}):G.color,te=function(Q,ee,re){for(var le=new Array(Q*(a+4)),fe=0,ce=0;ce<Q;ce++){for(var ge=0;ge<a;ge++)le[fe++]=ge<ee.length?ee[ge].paddedUnitValues[ce]:.5;le[fe++]=o(ce,2),le[fe++]=o(ce,1),le[fe++]=o(ce,0),le[fe++]=Math.max(1e-6,Math.min(.999999,re[ce]))}return le}(w,y,ae);(function(Q,ee,re){for(var J=0;J<=a;J+=4)Q[h(J)](u(J/4,ee,re))})(q,w,te),C||T||(N=D.texture(M.extendFlat({data:r(v.unitToColor,255)},t)))}return{render:function(W,G,ae){var te,Q,ee,re=W.length,J=1/0,le=-1/0;for(te=0;te<re;te++)W[te].dim0.canvasX<J&&(J=W[te].dim0.canvasX,Q=te),W[te].dim1.canvasX>le&&(le=W[te].dim1.canvasX,ee=te);0===re&&i(D,0,0,v.canvasWidth,v.canvasHeight);var fe=function(Ee){var he,ue,me,Pe=[[],[]];for(me=0;me<64;me++){var Ce=!Ee&&me<y.length?y[me].brush.filter.getBounds():[-1/0,1/0];Pe[0][me]=Ce[0],Pe[1][me]=Ce[1]}var Ie=new Array(16384);for(he=0;he<16384;he++)Ie[he]=255;if(!Ee)for(he=0;he<y.length;he++){var Oe=he%8,ze=(he-Oe)/8,je=Math.pow(2,Oe),ve=y[he].brush.filter.get();if(!(ve.length<2)){var Ae=b(ve[0])[1];for(ue=1;ue<ve.length;ue++){var Le=b(ve[ue]);for(me=Ae+1;me<Le[0];me++)Ie[8*me+ze]&=~je;Ae=Math.max(Ae,Le[1])}}}var Ve={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ie};return f?f(Ve):f=D.texture(Ve),{maskTexture:f,maskHeight:2048,loA:Pe[0].slice(0,16),loB:Pe[0].slice(16,32),loC:Pe[0].slice(32,48),loD:Pe[0].slice(48,64),hiA:Pe[1].slice(0,16),hiB:Pe[1].slice(16,32),hiC:Pe[1].slice(32,48),hiD:Pe[1].slice(48,64)}}(C);for(te=0;te<re;te++){var ce=W[te],ge=ce.dim0.crossfilterDimensionIndex,Te=ce.dim1.crossfilterDimensionIndex,Me=ce.canvasX,we=ce.canvasY,xe=Me+ce.panelSizeX,be=ce.plotGlPixelRatio;if(G||!H[ge]||H[ge][0]!==Me||H[ge][1]!==xe){H[ge]=[Me,xe];var ye=c(v,Q,ee,te,ge,Te,Me,we,ce.panelSizeX,ce.panelSizeY,ce.dim0.crossfilterDimensionIndex,C?0:T?2:1,fe,be);B.clearOnly=ae,n(D,$,B,G?v.lines.blockLineCount:w,w,ye)}}},readPixel:function(W,G){return D.read({x:W,y:G,width:1,height:1,data:s}),s},readPixels:function(W,G,ae,te){var Q=new Uint8Array(4*ae*te);return D.read({x:W,y:G,width:ae,height:te,data:Q}),Q},destroy:function(){for(var W in p.style["pointer-events"]="none",N.destroy(),f&&f.destroy(),q)q[W].destroy()},update:j}}},26284:function(ie){"use strict";ie.exports=function(z,e,S,A){var a,M;for(A||(A=1/0),a=0;a<e.length;a++)(M=e[a]).visible&&(A=Math.min(A,M[S].length));for(A===1/0&&(A=0),z._length=A,a=0;a<e.length;a++)(M=e[a]).visible&&(M._length=A);return A}},36336:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=A.isArrayOrTypedArray,M=A.numberFormat,_=e(96824),d=e(54460),s=A.strRotate,t=A.strTranslate,i=e(72736),n=e(43616),r=e(8932),o=e(71688),u=o.keyFun,l=o.repeat,h=o.unwrap,c=e(95724),b=e(30140),p=e(71864),m=e(51352);function v($,j,W){return A.aggNums($,null,j,W)}function x($,j){return w(v(Math.min,$,j),v(Math.max,$,j))}function y($){var j=$.range;return j?w(j[0],j[1]):x($.values,$._length)}function w($,j){return!isNaN($)&&isFinite($)||($=0),!isNaN(j)&&isFinite(j)||(j=0),$===j&&(0===$?($-=1,j+=1):($*=.9,j*=1.1)),[$,j]}function f($,j,W,G,ae){var te,Q,ee=y(W);return G?S.scale.ordinal().domain(G.map((te=M(W.tickformat),Q=ae,Q?function(re,J){return Q[J]??te(re)}:te))).range(G.map(function(re){return $-j+(re-ee[0])/(ee[1]-ee[0])*(2*j-$)})):S.scale.linear().domain(ee).range([$-j,j])}function C($){if($.tickvals){var j=y($);return S.scale.ordinal().domain($.tickvals).range($.tickvals.map(function(W){return(W-j[0])/(j[1]-j[0])}))}}function T($){var j=$.map(function(ae){return ae[0]}),W=$.map(function(ae){var te=_(ae[1]);return S.rgb("rgb("+te[0]+","+te[1]+","+te[2]+")")}),G="rgb".split("").map(function(ae){return S.scale.linear().clamp(!0).domain(j).range(W.map((te=ae,function(Q){return Q[te]})));var te});return function(ae){return G.map(function(te){return te(ae)})}}function D($){return $.dimensions.some(function(j){return j.brush.filterSpecified})}function R($,j,W){var G=h(j),ae=G.trace,te=c.convertTypedArray(G.lineColor),Q=ae.line,ee={color:_(ae.unselected.line.color),opacity:ae.unselected.line.opacity},re=r.extractOpts(Q),J=re.reversescale?r.flipScale(G.cscale):G.cscale,le=ae.domain,fe=ae.dimensions,ce=$.width,ge=ae.labelangle,Te=ae.labelside,Me=ae.labelfont,we=ae.tickfont,xe=ae.rangefont,be=A.extendDeepNoArrays({},Q,{color:te.map(S.scale.linear().domain(y({values:te,range:[re.min,re.max],_length:ae._length}))),blockLineCount:b.blockLineCount,canvasOverdrag:b.overdrag*b.canvasPixelRatio}),ye=Math.floor(ce*(le.x[1]-le.x[0])),Se=Math.floor($.height*(le.y[1]-le.y[0])),Ee=$.margin||{l:80,r:80,t:100,b:80},he=ye,ue=Se;return{key:W,colCount:fe.filter(c.isVisible).length,dimensions:fe,tickDistance:b.tickDistance,unitToColor:T(J),lines:be,deselectedLines:ee,labelAngle:ge,labelSide:Te,labelFont:Me,tickFont:we,rangeFont:xe,layoutWidth:ce,layoutHeight:$.height,domain:le,translateX:le.x[0]*ce,translateY:$.height-le.y[1]*$.height,pad:Ee,canvasWidth:he*b.canvasPixelRatio+2*be.canvasOverdrag,canvasHeight:ue*b.canvasPixelRatio,width:he,height:ue,canvasPixelRatio:b.canvasPixelRatio}}function P($,j,W){var ce,ge,G=W.width,ae=W.height,te=W.dimensions,Q=W.canvasPixelRatio,ee=function(ce){return G*ce/Math.max(1,W.colCount-1)},re=b.verticalPadding/ae,J=(ce=ae,ge=b.verticalPadding,S.scale.linear().range([ge,ce-ge])),le={key:W.key,xScale:ee,model:W,inBrushDrag:!1},fe={};return le.dimensions=te.filter(c.isVisible).map(function(ce,ge){var Oe,ze,Te=(Oe=ce,ze=re,S.scale.linear().domain(y(Oe)).range([ze,1-ze])),Me=fe[ce.label];fe[ce.label]=(Me||0)+1;var we=ce.label+(Me?"__"+Me:""),xe=ce.constraintrange,be=xe&&xe.length;be&&!a(xe[0])&&(xe=[xe]);var ye=be?xe.map(function(Oe){return Oe.map(Te)}):[[-1/0,1/0]],Se=ce.values;Se.length>ce._length&&(Se=Se.slice(0,ce._length));var Ee,he=ce.tickvals;function ue(Oe,ze){return{val:Oe,text:Ee[ze]}}function me(Oe,ze){return Oe.val-ze.val}if(a(he)&&he.length){A.isTypedArray(he)&&(he=Array.from(he)),a(Ee=ce.ticktext)&&Ee.length?Ee.length>he.length?Ee=Ee.slice(0,he.length):he.length>Ee.length&&(he=he.slice(0,Ee.length)):Ee=he.map(M(ce.tickformat));for(var Pe=1;Pe<he.length;Pe++)if(he[Pe]<he[Pe-1]){for(var Ce=he.map(ue).sort(me),Ie=0;Ie<he.length;Ie++)he[Ie]=Ce[Ie].val,Ee[Ie]=Ce[Ie].text;break}}else he=void 0;return Se=c.convertTypedArray(Se),{key:we,label:ce.label,tickFormat:ce.tickformat,tickvals:he,ticktext:Ee,ordinal:c.isOrdinal(ce),multiselect:ce.multiselect,xIndex:ge,crossfilterDimensionIndex:ge,visibleIndex:ce._index,height:ae,values:Se,paddedUnitValues:Se.map(Te),unitTickvals:he&&he.map(Te),xScale:ee,x:ee(ge),canvasX:ee(ge)*Q,unitToPaddedPx:J,domainScale:f(ae,b.verticalPadding,ce,he,Ee),ordinalScale:C(ce),parent:le,model:W,brush:p.makeBrush($,be,ye,function(){$.linePickActive(!1)},function(){var Oe=le;Oe.focusLayer&&Oe.focusLayer.render(Oe.panels,!0);var ze=D(Oe);!$.contextShown()&&ze?(Oe.contextLayer&&Oe.contextLayer.render(Oe.panels,!0),$.contextShown(!0)):$.contextShown()&&!ze&&(Oe.contextLayer&&Oe.contextLayer.render(Oe.panels,!0,!0),$.contextShown(!1))},function(Oe){if(le.focusLayer.render(le.panels,!0),le.pickLayer&&le.pickLayer.render(le.panels,!0),$.linePickActive(!0),j&&j.filterChanged){var ze=Te.invert,je=Oe.map(function(ve){return ve.map(ze).sort(A.sorterAsc)}).sort(function(ve,Ae){return ve[0]-Ae[0]});j.filterChanged(le.key,ce._index,je)}})}}),le}function O($){$.classed(b.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function B($,j){var G=$*Math.PI/180;return{dir:"top"===j?1:-1,dx:Math.sin(G),dy:Math.cos(G),degrees:$}}function q($,j,W){for(var G=j.panels||(j.panels=[]),ae=$.data(),te=0;te<ae.length-1;te++){var Q=G[te]||(G[te]={}),ee=ae[te],re=ae[te+1];Q.dim0=ee,Q.dim1=re,Q.canvasX=ee.canvasX,Q.panelSizeX=re.canvasX-ee.canvasX,Q.panelSizeY=j.model.canvasHeight,Q.y=0,Q.canvasY=0,Q.plotGlPixelRatio=W}}function N($,j){return d.tickText($._ax,j,!1).text}function H($,j){if($.ordinal)return"";var W=$.domainScale.domain();return N($.model.dimensions[$.visibleIndex],W[j?W.length-1:0])}ie.exports=function($,j,W,G){var ae=$._context.staticPlot,te=$._fullLayout,Q=te._toppaper,ee=te._glcontainer,re=$._context.plotGlPixelRatio,J=$._fullLayout.paper_bgcolor;!function(Oe){for(var ze=0;ze<Oe.length;ze++)for(var je=0;je<Oe[ze].length;je++)for(var ve=Oe[ze][je].trace,Ae=ve.dimensions,Le=0;Le<Ae.length;Le++){var Ve=Ae[Le].values,Ne=Ae[Le]._ax;Ne&&(Ne.range=Ne.range?w(Ne.range[0],Ne.range[1]):x(Ve,ve._length),Ne.dtick||(Ne.dtick=.01*(Math.abs(Ne.range[1]-Ne.range[0])||1)),Ne.tickformat=Ae[Le].tickformat,d.calcTicks(Ne),Ne.cleanRange())}}(j);var le,fe,ce=(le=!0,fe=!1,{linePickActive:function(Oe){return arguments.length?le=!!Oe:le},contextShown:function(Oe){return arguments.length?fe=!!Oe:fe}}),ge=j.filter(function(Oe){return h(Oe).trace.visible}).map(R.bind(0,W)).map(P.bind(0,ce,G));ee.each(function(Oe,ze){return A.extendFlat(Oe,ge[ze])});var Te=ee.selectAll(".gl-canvas").each(function(Oe){Oe.viewModel=ge[0],Oe.viewModel.plotGlPixelRatio=re,Oe.viewModel.paperColor=J,Oe.model=Oe.viewModel?Oe.viewModel.model:null}),Me=null;Te.filter(function(Oe){return Oe.pick}).style("pointer-events",ae?"none":"auto").on("mousemove",function(Oe){if(ce.linePickActive()&&Oe.lineLayer&&G&&G.hover){var ze=S.event,je=this.width,ve=this.height,Ae=S.mouse(this),Le=Ae[0],Ve=Ae[1];if(Le<0||Ve<0||Le>=je||Ve>=ve)return;var Ne=Oe.lineLayer.readPixel(Le,ve-1-Ve),We=0!==Ne[3],Xe=We?Ne[2]+256*(Ne[1]+256*Ne[0]):null,nt={x:Le,y:Ve,clientX:ze.clientX,clientY:ze.clientY,dataIndex:Oe.model.key,curveNumber:Xe};Xe!==Me&&(We?G.hover(nt):G.unhover&&G.unhover(nt),Me=Xe)}}),Te.style("opacity",function(Oe){return Oe.pick?0:1}),Q.style("background","rgba(255, 255, 255, 0)");var we=Q.selectAll("."+b.cn.parcoords).data(ge,u);we.exit().remove(),we.enter().append("g").classed(b.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),we.attr("transform",function(Oe){return t(Oe.model.translateX,Oe.model.translateY)});var xe=we.selectAll("."+b.cn.parcoordsControlView).data(l,u);xe.enter().append("g").classed(b.cn.parcoordsControlView,!0),xe.attr("transform",function(Oe){return t(Oe.model.pad.l,Oe.model.pad.t)});var be=xe.selectAll("."+b.cn.yAxis).data(function(Oe){return Oe.dimensions},u);be.enter().append("g").classed(b.cn.yAxis,!0),xe.each(function(Oe){q(be,Oe,re)}),Te.each(function(Oe){Oe.viewModel&&(!Oe.lineLayer||G?Oe.lineLayer=m(this,Oe):Oe.lineLayer.update(Oe),(Oe.key||0===Oe.key)&&(Oe.viewModel[Oe.key]=Oe.lineLayer),Oe.lineLayer.render(Oe.viewModel.panels,!Oe.context||G))}),be.attr("transform",function(Oe){return t(Oe.xScale(Oe.xIndex),0)}),be.call(S.behavior.drag().origin(function(Oe){return Oe}).on("drag",function(Oe){var ze=Oe.parent;ce.linePickActive(!1),Oe.x=Math.max(-b.overdrag,Math.min(Oe.model.width+b.overdrag,S.event.x)),Oe.canvasX=Oe.x*Oe.model.canvasPixelRatio,be.sort(function(je,ve){return je.x-ve.x}).each(function(je,ve){je.xIndex=ve,je.x=Oe===je?je.x:je.xScale(je.xIndex),je.canvasX=je.x*je.model.canvasPixelRatio}),q(be,ze,re),be.filter(function(je){return 0!==Math.abs(Oe.xIndex-je.xIndex)}).attr("transform",function(je){return t(je.xScale(je.xIndex),0)}),S.select(this).attr("transform",t(Oe.x,0)),be.each(function(je,ve,Ae){Ae===Oe.parent.key&&(ze.dimensions[ve]=je)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!D(ze)),ze.focusLayer.render&&ze.focusLayer.render(ze.panels)}).on("dragend",function(Oe){var ze=Oe.parent;Oe.x=Oe.xScale(Oe.xIndex),Oe.canvasX=Oe.x*Oe.model.canvasPixelRatio,q(be,ze,re),S.select(this).attr("transform",function(je){return t(je.x,0)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!D(ze)),ze.focusLayer&&ze.focusLayer.render(ze.panels),ze.pickLayer&&ze.pickLayer.render(ze.panels,!0),ce.linePickActive(!0),G&&G.axesMoved&&G.axesMoved(ze.key,ze.dimensions.map(function(je){return je.crossfilterDimensionIndex}))})),be.exit().remove();var ye=be.selectAll("."+b.cn.axisOverlays).data(l,u);ye.enter().append("g").classed(b.cn.axisOverlays,!0),ye.selectAll("."+b.cn.axis).remove();var Se=ye.selectAll("."+b.cn.axis).data(l,u);Se.enter().append("g").classed(b.cn.axis,!0),Se.each(function(Oe){var ze=Oe.model.height/Oe.model.tickDistance,je=Oe.domainScale,ve=je.domain();S.select(this).call(S.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(ze,Oe.tickFormat).tickValues(Oe.ordinal?ve:null).tickFormat(function(Ae){return c.isOrdinal(Oe)?Ae:N(Oe.model.dimensions[Oe.visibleIndex],Ae)}).scale(je)),n.font(Se.selectAll("text"),Oe.model.tickFont)}),Se.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Se.selectAll("text").style("text-shadow",i.makeTextShadow(J)).style("cursor","default");var Ee=ye.selectAll("."+b.cn.axisHeading).data(l,u);Ee.enter().append("g").classed(b.cn.axisHeading,!0);var he=Ee.selectAll("."+b.cn.axisTitle).data(l,u);he.enter().append("text").classed(b.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ae?"none":"auto"),he.text(function(Oe){return Oe.label}).each(function(Oe){var ze=S.select(this);n.font(ze,Oe.model.labelFont),i.convertToTspans(ze,$)}).attr("transform",function(Oe){var ze=B(Oe.model.labelAngle,Oe.model.labelSide),je=b.axisTitleOffset;return(ze.dir>0?"":t(0,2*je+Oe.model.height))+s(ze.degrees)+t(-je*ze.dx,-je*ze.dy)}).attr("text-anchor",function(Oe){var ze=B(Oe.model.labelAngle,Oe.model.labelSide);return 2*Math.abs(ze.dx)>Math.abs(ze.dy)?ze.dir*ze.dx<0?"start":"end":"middle"});var ue=ye.selectAll("."+b.cn.axisExtent).data(l,u);ue.enter().append("g").classed(b.cn.axisExtent,!0);var me=ue.selectAll("."+b.cn.axisExtentTop).data(l,u);me.enter().append("g").classed(b.cn.axisExtentTop,!0),me.attr("transform",t(0,-b.axisExtentOffset));var Pe=me.selectAll("."+b.cn.axisExtentTopText).data(l,u);Pe.enter().append("text").classed(b.cn.axisExtentTopText,!0).call(O),Pe.text(function(Oe){return H(Oe,!0)}).each(function(Oe){n.font(S.select(this),Oe.model.rangeFont)});var Ce=ue.selectAll("."+b.cn.axisExtentBottom).data(l,u);Ce.enter().append("g").classed(b.cn.axisExtentBottom,!0),Ce.attr("transform",function(Oe){return t(0,Oe.model.height+b.axisExtentOffset)});var Ie=Ce.selectAll("."+b.cn.axisExtentBottomText).data(l,u);Ie.enter().append("text").classed(b.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(O),Ie.text(function(Oe){return H(Oe,!1)}).each(function(Oe){n.font(S.select(this),Oe.model.rangeFont)}),p.ensureAxisBrush(ye,J,$)}},24196:function(ie,z,e){"use strict";var S=e(36336),A=e(5048),a=e(95724).isVisible,M={};function _(d,s,t){var i=s.indexOf(t),n=d.indexOf(i);return-1===n&&(n+=s.length),n}(ie.exports=function(d,s){var t=d._fullLayout;if(A(d,[],M)){var i={},n={},r={},o={},u=t._size;s.forEach(function(l,h){var c=l[0].trace;r[h]=c.index;var b=o[h]=c._fullInput.index;i[h]=d.data[b].dimensions,n[h]=d.data[b].dimensions.slice()}),S(d,s,{width:u.w,height:u.h,margin:{t:u.t,r:u.r,b:u.b,l:u.l}},{filterChanged:function(l,h,c){var b=n[l][h],p=c.map(function(f){return f.slice()}),m="dimensions["+h+"].constraintrange",v=t._tracePreGUI[d._fullData[r[l]]._fullInput.uid];void 0===v[m]&&(v[m]=b.constraintrange||null);var y=d._fullData[r[l]].dimensions[h];p.length?(1===p.length&&(p=p[0]),b.constraintrange=p,y.constraintrange=p.slice(),p=[p]):(delete b.constraintrange,delete y.constraintrange,p=null);var w={};w[m]=p,d.emit("plotly_restyle",[w,[o[l]]])},hover:function(l){d.emit("plotly_hover",l)},unhover:function(l){d.emit("plotly_unhover",l)},axesMoved:function(l,h){var b,p,c=(b=h,p=n[l].filter(a),function(m,v){return _(b,p,m)-_(b,p,v)});i[l].sort(c),n[l].filter(function(b){return!a(b)}).sort(function(b){return n[l].indexOf(b)}).forEach(function(b){i[l].splice(i[l].indexOf(b),1),i[l].splice(n[l].indexOf(b),0,b)}),d.emit("plotly_restyle",[{dimensions:[i[l]]},[o[l]]])}})}}).reglPrecompiled=M},74996:function(ie,z,e){"use strict";var S=e(45464),A=e(86968).u,a=e(25376),M=e(22548),_=e(21776).Ks,d=e(21776).Gw,s=e(92880).extendFlat,t=e(98192).c,i=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});ie.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:M.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},S.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:_({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},i,{}),outsidetextfont:s({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:A({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(ie,z,e){"use strict";var S=e(7316);z.name="pie",z.plot=function(A,a,M,_){S.plotBasePlot(z.name,A,a,M,_)},z.clean=function(A,a,M,_){S.cleanBasePlot(z.name,A,a,M,_)}},45768:function(ie,z,e){"use strict";var S=e(38248),A=e(49760),a=e(76308),M={};function _(s){return function(t,i){return!!t&&!!(t=A(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),s[i]||(s[i]=t),t)}}function d(s,t){var i,n=JSON.stringify(s),r=t[n];if(!r){for(r=s.slice(),i=0;i<s.length;i++)r.push(A(s[i]).lighten(20).toHexString());for(i=0;i<s.length;i++)r.push(A(s[i]).darken(20).toHexString());t[n]=r}return r}ie.exports={calc:function(s,t){var i,n,r=[],o=s._fullLayout,u=o.hiddenlabels||[],l=t.labels,h=t.marker.colors||[],c=t.values,b=t._length,p=t._hasValues&&b;if(t.dlabel)for(l=new Array(b),i=0;i<b;i++)l[i]=String(t.label0+i*t.dlabel);var m={},v=_(o["_"+t.type+"colormap"]),x=0,y=!1;for(i=0;i<b;i++){var w,f,C;if(p){if(!S(w=c[i]))continue;w=+w}else w=1;void 0!==(f=l[i])&&""!==f||(f=i);var T=m[f=String(f)];void 0===T?(m[f]=r.length,(C=-1!==u.indexOf(f))||(x+=w),r.push({v:w,label:f,color:v(h[i],f),i,pts:[i],hidden:C})):(y=!0,(n=r[T]).v+=w,n.pts.push(i),n.hidden||(x+=w),!1===n.color&&h[i]&&(n.color=v(h[i],f)))}return r=r.filter(function(D){return D.v>=0}),("funnelarea"===t.type?y:t.sort)&&r.sort(function(D,R){return R.v-D.v}),r[0]&&(r[0].vTotal=x),r},crossTraceCalc:function(s,t){var i=(t||{}).type;i||(i="pie");var n=s._fullLayout,r=s.calcdata,o=n[i+"colorway"],u=n["_"+i+"colormap"];n["extend"+i+"colors"]&&(o=d(o,M));for(var l=0,h=0;h<r.length;h++){var c=r[h];if(c[0].trace.type===i)for(var b=0;b<c.length;b++){var p=c[b];!1===p.color&&(u[p.label]?p.color=u[p.label]:(u[p.label]=p.color=o[l%o.length],l++))}}},makePullColorFn:_,generateExtendedColors:d}},74174:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(74996),M=e(86968).Q,_=e(31508).handleText,d=e(3400).coercePattern;function s(i,n){var r=A.isArrayOrTypedArray(i),o=A.isArrayOrTypedArray(n),u=Math.min(r?i.length:1/0,o?n.length:1/0);if(isFinite(u)||(u=0),u&&o){for(var l,h=0;h<u;h++){var c=n[h];if(S(c)&&c>0){l=!0;break}}l||(u=0)}return{hasLabels:r,hasValues:o,len:u}}function t(i,n,r,o,u){o("marker.line.width")&&o("marker.line.color",u?void 0:r.paper_bgcolor);var l=o("marker.colors");d(o,"marker.pattern",l),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=r.paper_bgcolor)}ie.exports={handleLabelsAndValues:s,handleMarkerDefaults:t,supplyDefaults:function(i,n,r,o){function u(y,w){return A.coerce(i,n,a,y,w)}var l=s(u("labels"),u("values")),h=l.len;if(n._hasLabels=l.hasLabels,n._hasValues=l.hasValues,!n._hasLabels&&n._hasValues&&(u("label0"),u("dlabel")),h){n._length=h,t(i,n,o,u,!0),u("scalegroup");var c,b=u("text"),p=u("texttemplate");if(p||(c=u("textinfo",A.isArrayOrTypedArray(b)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),p||c&&"none"!==c){var m=u("textposition");_(i,n,o,u,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(m)||"auto"===m||"outside"===m)&&u("automargin"),("inside"===m||"auto"===m||Array.isArray(m))&&u("insidetextorientation")}else"none"===c&&u("textposition","none");M(n,o,u);var v=u("hole");if(u("title.text")){var x=u("title.position",v?"middle center":"top center");v||"middle center"!==x||(n.title.position="top center"),A.coerceFont(u,"title.font",o.font)}u("sort"),u("direction"),u("rotation"),u("pull")}else n.visible=!1}}},53644:function(ie,z,e){"use strict";var S=e(10624).appendArrayMultiPointValues;ie.exports=function(A,a){var M={curveNumber:a.index,pointNumbers:A.pts,data:a._input,fullData:a,label:A.label,color:A.color,value:A.v,percent:A.percent,text:A.text,bbox:A.bbox,v:A.v};return 1===A.pts.length&&(M.pointNumber=M.i=A.pts[0]),S(M,a,A.pts),"funnelarea"===a.type&&(delete M.v,delete M.i),M}},21552:function(ie,z,e){"use strict";var S=e(43616),A=e(76308);ie.exports=function(a,M,_,d){var s=_.marker.pattern;s&&s.shape?S.pointStyle(a,_,d,M):A.fill(a,M.color)}},69656:function(ie,z,e){"use strict";var S=e(3400);function A(a){return-1!==a.indexOf("e")?a.replace(/[.]?0+e/,"e"):-1!==a.indexOf(".")?a.replace(/[.]?0+$/,""):a}z.formatPiePercent=function(a,M){var _=A((100*a).toPrecision(3));return S.numSeparate(_,M)+"%"},z.formatPieValue=function(a,M){var _=A(a.toPrecision(10));return S.numSeparate(_,M)},z.getFirstFilled=function(a,M){if(S.isArrayOrTypedArray(a))for(var _=0;_<M.length;_++){var d=a[M[_]];if(d||0===d||""===d)return d}},z.castOption=function(a,M){return S.isArrayOrTypedArray(a)?z.getFirstFilled(a,M):a||void 0},z.getRotationAngle=function(a){return("auto"===a?0:a)*Math.PI/180}},75792:function(ie,z,e){"use strict";ie.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(ie){"use strict";ie.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(ie,z,e){"use strict";var S=e(3400),A=e(85204);ie.exports=function(a,M){function _(d,s){return S.coerce(a,M,A,d,s)}_("hiddenlabels"),_("piecolorway",M.colorway),_("extendpiecolors")}},37820:function(ie,z,e){"use strict";var S=e(33428),A=e(7316),a=e(93024),M=e(76308),_=e(43616),d=e(3400),s=d.strScale,t=d.strTranslate,i=e(72736),n=e(82744),r=n.recordMinTextSize,o=n.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),h=e(53644),c=e(3400).isValidTextValue;function b($,j,W){var G=W[0],ae=G.cx,te=G.cy,Q=G.trace,ee="funnelarea"===Q.type;"_hasHoverLabel"in Q||(Q._hasHoverLabel=!1),"_hasHoverEvent"in Q||(Q._hasHoverEvent=!1),$.on("mouseover",function(re){var J=j._fullLayout,le=j._fullData[Q.index];if(!j._dragging&&!1!==J.hovermode){var fe=le.hoverinfo;if(Array.isArray(fe)&&(fe=a.castHoverinfo({hoverinfo:[l.castOption(fe,re.pts)],_module:Q._module},J,0)),"all"===fe&&(fe="label+text+value+percent+name"),le.hovertemplate||"none"!==fe&&"skip"!==fe&&fe){var ce=re.rInscribed||0,ge=ae+re.pxmid[0]*(1-ce),Te=te+re.pxmid[1]*(1-ce),Me=J.separators,we=[];if(fe&&-1!==fe.indexOf("label")&&we.push(re.label),re.text=l.castOption(le.hovertext||le.text,re.pts),fe&&-1!==fe.indexOf("text")){var xe=re.text;d.isValidTextValue(xe)&&we.push(xe)}re.value=re.v,re.valueLabel=l.formatPieValue(re.v,Me),fe&&-1!==fe.indexOf("value")&&we.push(re.valueLabel),re.percent=re.v/G.vTotal,re.percentLabel=l.formatPiePercent(re.percent,Me),fe&&-1!==fe.indexOf("percent")&&we.push(re.percentLabel);var be=le.hoverlabel,ye=be.font,Se=[];a.loneHover({trace:Q,x0:ge-ce*G.r,x1:ge+ce*G.r,y:Te,_x0:ee?ae+re.TL[0]:ge-ce*G.r,_x1:ee?ae+re.TR[0]:ge+ce*G.r,_y0:ee?te+re.TL[1]:Te-ce*G.r,_y1:ee?te+re.BL[1]:Te+ce*G.r,text:we.join("<br>"),name:le.hovertemplate||-1!==fe.indexOf("name")?le.name:void 0,idealAlign:re.pxmid[0]<0?"left":"right",color:l.castOption(be.bgcolor,re.pts)||re.color,borderColor:l.castOption(be.bordercolor,re.pts),fontFamily:l.castOption(ye.family,re.pts),fontSize:l.castOption(ye.size,re.pts),fontColor:l.castOption(ye.color,re.pts),nameLength:l.castOption(be.namelength,re.pts),textAlign:l.castOption(be.align,re.pts),hovertemplate:l.castOption(le.hovertemplate,re.pts),hovertemplateLabels:re,eventData:[h(re,le)]},{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:j,inOut_bbox:Se}),re.bbox=Se[0],Q._hasHoverLabel=!0}Q._hasHoverEvent=!0,j.emit("plotly_hover",{points:[h(re,le)],event:S.event})}}),$.on("mouseout",function(re){var J=j._fullLayout,le=j._fullData[Q.index],fe=S.select(this).datum();Q._hasHoverEvent&&(re.originalEvent=S.event,j.emit("plotly_unhover",{points:[h(fe,le)],event:S.event}),Q._hasHoverEvent=!1),Q._hasHoverLabel&&(a.loneUnhover(J._hoverlayer.node()),Q._hasHoverLabel=!1)}),$.on("click",function(re){j._dragging||!1===j._fullLayout.hovermode||(j._hoverdata=[h(re,j._fullData[Q.index])],a.click(j,S.event))})}function p($,j,W){var G=l.castOption($.insidetextfont.color,j.pts);!G&&$._input.textfont&&(G=l.castOption($._input.textfont.color,j.pts));var ae=l.castOption($.insidetextfont.family,j.pts)||l.castOption($.textfont.family,j.pts)||W.family,te=l.castOption($.insidetextfont.size,j.pts)||l.castOption($.textfont.size,j.pts)||W.size,Q=l.castOption($.insidetextfont.weight,j.pts)||l.castOption($.textfont.weight,j.pts)||W.weight,ee=l.castOption($.insidetextfont.style,j.pts)||l.castOption($.textfont.style,j.pts)||W.style,re=l.castOption($.insidetextfont.variant,j.pts)||l.castOption($.textfont.variant,j.pts)||W.variant;return{color:G||M.contrast(j.color),family:ae,size:te,weight:Q,style:ee,variant:re}}function m($,j){for(var W,G,ae=0;ae<$.length;ae++)if((G=(W=$[ae][0]).trace).title.text){var te=G.title.text;G._meta&&(te=d.templateString(te,G._meta));var Q=_.tester.append("text").attr("data-notex",1).text(te).call(_.font,G.title.font).call(i.convertToTspans,j),ee=_.bBox(Q.node(),!0);W.titleBox={width:ee.width,height:ee.height},Q.remove()}}function v($,j,W){var G=W.r||j.rpx1,ae=j.rInscribed;if(j.startangle===j.stopangle)return{rCenter:1-ae,scale:0,rotate:0,textPosAngle:0};var te,Q=j.ring,ee=1===Q&&Math.abs(j.startangle-j.stopangle)===2*Math.PI,re=j.halfangle,J=j.midangle,le=W.trace.insidetextorientation,fe="horizontal"===le,ce="tangential"===le,ge="radial"===le,Te="auto"===le,Me=[];if(!Te){var we,xe=function(ue,me){if(ve=(Oe=j).stopangle,(je=Oe.startangle)>(ze=ue)&&ze>ve||je<ze&&ze<ve){var Pe=Math.abs(ue-j.startangle),Ce=Math.abs(ue-j.stopangle),Ie=Pe<Ce?Pe:Ce;(te="tan"===me?y($,G,Q,Ie,0):x($,G,Q,Ie,Math.PI/2)).textPosAngle=ue,Me.push(te)}var Oe,ze,je,ve};if(fe||ce){for(we=4;we>=-4;we-=2)xe(Math.PI*we,"tan");for(we=4;we>=-4;we-=2)xe(Math.PI*(we+1),"tan")}if(fe||ge){for(we=4;we>=-4;we-=2)xe(Math.PI*(we+1.5),"rad");for(we=4;we>=-4;we-=2)xe(Math.PI*(we+.5),"rad")}}if(ee||Te||fe){var be=Math.sqrt($.width*$.width+$.height*$.height);if((te={scale:ae*G*2/be,rCenter:1-ae,rotate:0}).textPosAngle=(j.startangle+j.stopangle)/2,te.scale>=1)return te;Me.push(te)}(Te||ge)&&((te=x($,G,Q,re,J)).textPosAngle=(j.startangle+j.stopangle)/2,Me.push(te)),(Te||ce)&&((te=y($,G,Q,re,J)).textPosAngle=(j.startangle+j.stopangle)/2,Me.push(te));for(var ye=0,Se=0,Ee=0;Ee<Me.length;Ee++){var he=Me[Ee].scale;if(Se<he&&(Se=he,ye=Ee),!Te&&Se>=1)break}return Me[ye]}function x($,j,W,G,ae){j=Math.max(0,j-2*u);var te=$.width/$.height,Q=C(te,G,j,W);return{scale:2*Q/$.height,rCenter:w(te,Q/j),rotate:f(ae)}}function y($,j,W,G,ae){j=Math.max(0,j-2*u);var te=$.height/$.width,Q=C(te,G,j,W);return{scale:2*Q/$.width,rCenter:w(te,Q/j),rotate:f(ae+Math.PI/2)}}function w($,j){return Math.cos(j)-$*j}function f($){return(180/Math.PI*$+720)%180-90}function C($,j,W,G){var ae=$+1/(2*Math.tan(j));return W*Math.min(1/(Math.sqrt(ae*ae+.5)+ae),G/(Math.sqrt($*$+G/2)+$))}function T($,j){return $.v!==j.vTotal||j.trace.hole?Math.min(1/(1+1/Math.sin($.halfangle)),$.ring/2):1}function D($,j){var W=j.pxmid[0],G=j.pxmid[1],ae=$.width/2,te=$.height/2;return W<0&&(ae*=-1),G<0&&(te*=-1),{scale:1,rCenter:1,rotate:0,x:ae+Math.abs(te)*(ae>0?1:-1)/2,y:te/(1+W*W/(G*G)),outside:!0}}function R($,j){var W,G,ae,te=$.trace,Q={x:$.cx,y:$.cy},ee={tx:0,ty:0};ee.ty+=te.title.font.size,ae=O(te),-1!==te.title.position.indexOf("top")?(Q.y-=(1+ae)*$.r,ee.ty-=$.titleBox.height):-1!==te.title.position.indexOf("bottom")&&(Q.y+=(1+ae)*$.r);var re,J=$.r/(void 0===(re=$.trace.aspectratio)?1:re),le=j.w*(te.domain.x[1]-te.domain.x[0])/2;return-1!==te.title.position.indexOf("left")?(le+=J,Q.x-=(1+ae)*J,ee.tx+=$.titleBox.width/2):-1!==te.title.position.indexOf("center")?le*=2:-1!==te.title.position.indexOf("right")&&(le+=J,Q.x+=(1+ae)*J,ee.tx-=$.titleBox.width/2),W=le/$.titleBox.width,G=P($,j)/$.titleBox.height,{x:Q.x,y:Q.y,scale:Math.min(W,G),tx:ee.tx,ty:ee.ty}}function P($,j){var W=$.trace;return Math.min($.titleBox.height,j.h*(W.domain.y[1]-W.domain.y[0])/2)}function O($){var j,W=$.pull;if(!W)return 0;if(d.isArrayOrTypedArray(W))for(W=0,j=0;j<$.pull.length;j++)$.pull[j]>W&&(W=$.pull[j]);return W}function B($,j){for(var W=[],G=0;G<$.length;G++){var ae=$[G][0],te=ae.trace,Q=te.domain,ee=j.w*(Q.x[1]-Q.x[0]),re=j.h*(Q.y[1]-Q.y[0]);te.title.text&&"middle center"!==te.title.position&&(re-=P(ae,j));var le=re/2;"funnelarea"!==te.type||te.scalegroup||(le/=te.aspectratio),ae.r=Math.min(ee/2,le)/(1+O(te)),ae.cx=j.l+j.w*(te.domain.x[1]+te.domain.x[0])/2,ae.cy=j.t+j.h*(1-te.domain.y[0])-re/2,te.title.text&&-1!==te.title.position.indexOf("bottom")&&(ae.cy-=P(ae,j)),te.scalegroup&&-1===W.indexOf(te.scalegroup)&&W.push(te.scalegroup)}!function(fe,ce){for(var ge,Te,Me,we=0;we<ce.length;we++){var xe=1/0,be=ce[we];for(Te=0;Te<fe.length;Te++)if((Me=(ge=fe[Te][0]).trace).scalegroup===be){var ye;if("pie"===Me.type)ye=ge.r*ge.r;else if("funnelarea"===Me.type){var Se,Ee;Me.aspectratio>1?Ee=(Se=ge.r)/Me.aspectratio:Se=(Ee=ge.r)*Me.aspectratio,ye=(Se*=(1+Me.baseratio)/2)*Ee}xe=Math.min(xe,ye/ge.vTotal)}for(Te=0;Te<fe.length;Te++)if((Me=(ge=fe[Te][0]).trace).scalegroup===be){var he=xe*ge.vTotal;"funnelarea"===Me.type&&(he/=(1+Me.baseratio)/2,he/=Me.aspectratio),ge.r=Math.sqrt(he)}}}($,W)}function q($,j){return[$*Math.sin(j),-$*Math.cos(j)]}function N($,j,W){var ye,G=$._fullLayout,ae=W.trace,te=ae.texttemplate,Q=ae.textinfo;if(!te&&Q&&"none"!==Q){var ee,re=Q.split("+"),J=function(ye){return-1!==re.indexOf(ye)},le=J("label"),fe=J("text"),ce=J("value"),ge=J("percent"),Te=G.separators;if(ee=le?[j.label]:[],fe){var Me=l.getFirstFilled(ae.text,j.pts);c(Me)&&ee.push(Me)}ce&&ee.push(l.formatPieValue(j.v,Te)),ge&&ee.push(l.formatPiePercent(j.v/W.vTotal,Te)),j.text=ee.join("<br>")}if(te){var we=d.castOption(ae,j.i,"texttemplate");if(we){var xe={label:(ye=j).label,value:ye.v,valueLabel:l.formatPieValue(ye.v,G.separators),percent:ye.v/W.vTotal,percentLabel:l.formatPiePercent(ye.v/W.vTotal,G.separators),color:ye.color,text:ye.text,customdata:d.castOption(ae,ye.i,"customdata")},be=l.getFirstFilled(ae.text,j.pts);(c(be)||""===be)&&(xe.text=be),j.text=d.texttemplateString(we,xe,$._fullLayout._d3locale,xe,ae._meta||{})}else j.text=""}}function H($,j){var W=$.rotate*Math.PI/180,G=Math.cos(W),ae=Math.sin(W),te=(j.left+j.right)/2,Q=(j.top+j.bottom)/2;$.textX=te*G-Q*ae,$.textY=te*ae+Q*G,$.noCenter=!0}ie.exports={plot:function($,j){var W=$._context.staticPlot,G=$._fullLayout,ae=G._size;o("pie",G),m(j,$),B(j,ae);var te=d.makeTraceGroups(G._pielayer,j,"trace").each(function(Q){var ee=S.select(this),re=Q[0],J=re.trace;(function(le){var fe,ce,ge,Te=le[0],Me=Te.r,we=Te.trace,xe=l.getRotationAngle(we.rotation),be=2*Math.PI/Te.vTotal,ye="px0",Se="px1";if("counterclockwise"===we.direction){for(fe=0;fe<le.length&&le[fe].hidden;fe++);if(fe===le.length)return;xe+=be*le[fe].v,be*=-1,ye="px1",Se="px0"}for(ge=q(Me,xe),fe=0;fe<le.length;fe++)(ce=le[fe]).hidden||(ce[ye]=ge,ce.startangle=xe,ce.pxmid=q(Me,xe+=be*ce.v/2),ce.midangle=xe,ge=q(Me,xe+=be*ce.v/2),ce.stopangle=xe,ce[Se]=ge,ce.largeArc=ce.v>Te.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/Te.vTotal,.5),ce.ring=1-we.hole,ce.rInscribed=T(ce,Te))})(Q),ee.attr("stroke-linejoin","round"),ee.each(function(){var le=S.select(this).selectAll("g.slice").data(Q);le.enter().append("g").classed("slice",!0),le.exit().remove();var fe=[[[],[]],[[],[]]],ce=!1;le.each(function(Se,Ee){if(Se.hidden)S.select(this).selectAll("path,g").remove();else{Se.pointNumber=Se.i,Se.curveNumber=J.index,fe[Se.pxmid[1]<0?0:1][Se.pxmid[0]<0?0:1].push(Se);var he=re.cx,ue=re.cy,me=S.select(this),Pe=me.selectAll("path.surface").data([Se]);if(Pe.enter().append("path").classed("surface",!0).style({"pointer-events":W?"none":"all"}),me.call(b,$,Q),J.pull){var Ce=+l.castOption(J.pull,Se.pts)||0;Ce>0&&(he+=Ce*Se.pxmid[0],ue+=Ce*Se.pxmid[1])}Se.cxFinal=he,Se.cyFinal=ue;var Ie=J.hole;if(Se.v===re.vTotal){var Oe="M"+(he+Se.px0[0])+","+(ue+Se.px0[1])+Le(Se.px0,Se.pxmid,!0,1)+Le(Se.pxmid,Se.px0,!0,1)+"Z";Pe.attr("d",Ie?"M"+(he+Ie*Se.px0[0])+","+(ue+Ie*Se.px0[1])+Le(Se.px0,Se.pxmid,!1,Ie)+Le(Se.pxmid,Se.px0,!1,Ie)+"Z"+Oe:Oe)}else{var ze=Le(Se.px0,Se.px1,!0,1);if(Ie){var je=1-Ie;Pe.attr("d","M"+(he+Ie*Se.px1[0])+","+(ue+Ie*Se.px1[1])+Le(Se.px1,Se.px0,!1,Ie)+"l"+je*Se.px0[0]+","+je*Se.px0[1]+ze+"Z")}else Pe.attr("d","M"+he+","+ue+"l"+Se.px0[0]+","+Se.px0[1]+ze+"Z")}N($,Se,re);var ve=l.castOption(J.textposition,Se.pts),Ae=me.selectAll("g.slicetext").data(Se.text&&"none"!==ve?[0]:[]);Ae.enter().append("g").classed("slicetext",!0),Ae.exit().remove(),Ae.each(function(){var kt,_t,ut,Ve=d.ensureSingle(S.select(this),"text","",function(kt){kt.attr("data-notex",1)}),Ne=d.ensureUniformFontSize($,"outside"===ve?(ut=G.font,{color:l.castOption((kt=J).outsidetextfont.color,(_t=Se).pts)||l.castOption(kt.textfont.color,_t.pts)||ut.color,family:l.castOption(kt.outsidetextfont.family,_t.pts)||l.castOption(kt.textfont.family,_t.pts)||ut.family,size:l.castOption(kt.outsidetextfont.size,_t.pts)||l.castOption(kt.textfont.size,_t.pts)||ut.size,weight:l.castOption(kt.outsidetextfont.weight,_t.pts)||l.castOption(kt.textfont.weight,_t.pts)||ut.weight,style:l.castOption(kt.outsidetextfont.style,_t.pts)||l.castOption(kt.textfont.style,_t.pts)||ut.style,variant:l.castOption(kt.outsidetextfont.variant,_t.pts)||l.castOption(kt.textfont.variant,_t.pts)||ut.variant}):p(J,Se,G.font));Ve.text(Se.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(_.font,Ne).call(i.convertToTspans,$);var We,Xe=_.bBox(Ve.node());if("outside"===ve)We=D(Xe,Se);else if(We=v(Xe,Se,re),"auto"===ve&&We.scale<1){var nt=d.ensureUniformFontSize($,J.outsidetextfont);Ve.call(_.font,nt),We=D(Xe=_.bBox(Ve.node()),Se)}var dt=We.textPosAngle,ht=void 0===dt?Se.pxmid:q(re.r,dt);if(We.targetX=he+ht[0]*We.rCenter+(We.x||0),We.targetY=ue+ht[1]*We.rCenter+(We.y||0),H(We,Xe),We.outside){var Mt=We.targetY;Se.yLabelMin=Mt-Xe.height/2,Se.yLabelMid=Mt,Se.yLabelMax=Mt+Xe.height/2,Se.labelExtraX=0,Se.labelExtraY=0,ce=!0}We.fontSize=Ne.size,r(J.type,We,G),Q[Ee].transform=We,d.setTransormAndDisplay(Ve,We)})}function Le(Ve,Ne,We,Xe){return"a"+Xe*re.r+","+Xe*re.r+" 0 "+Se.largeArc+(We?" 1 ":" 0 ")+Xe*(Ne[0]-Ve[0])+","+Xe*(Ne[1]-Ve[1])}});var Ee,ge=S.select(this).selectAll("g.titletext").data(J.title.text?[0]:[]);if(ge.enter().append("g").classed("titletext",!0),ge.exit().remove(),ge.each(function(){var Se,ue,me,Ee=d.ensureSingle(S.select(this),"text","",function(ue){ue.attr("data-notex",1)}),he=J.title.text;J._meta&&(he=d.templateString(he,J._meta)),Ee.text(he).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(_.font,J.title.font).call(i.convertToTspans,$),Se="middle center"===J.title.position?(ue=re,me=Math.sqrt(ue.titleBox.width*ue.titleBox.width+ue.titleBox.height*ue.titleBox.height),{x:ue.cx,y:ue.cy,scale:ue.trace.hole*ue.r*2/me,tx:0,ty:-ue.titleBox.height/2+ue.trace.title.font.size}):R(re,ae),Ee.attr("transform",t(Se.x,Se.y)+s(Math.min(1,Se.scale))+t(Se.tx,Se.ty))}),ce&&function(Se,Ee){var he,ue,me,Pe,Ce,Ie,Oe,ze,je,ve,Ae,Le,Ve;function Ne(dt,ht){return dt.pxmid[1]-ht.pxmid[1]}function We(dt,ht){return ht.pxmid[1]-dt.pxmid[1]}function Xe(dt,ht){ht||(ht={});var Mt,kt,_t,ut,st=ht.labelExtraY+(ue?ht.yLabelMax:ht.yLabelMin),Lt=ue?dt.yLabelMin:dt.yLabelMax,Ut=ue?dt.yLabelMax:dt.yLabelMin,Ht=dt.cyFinal+Ce(dt.px0[1],dt.px1[1]),Pt=st-Lt;if(Pt*Oe>0&&(dt.labelExtraY=Pt),d.isArrayOrTypedArray(Ee.pull))for(kt=0;kt<ve.length;kt++)(_t=ve[kt])===dt||(l.castOption(Ee.pull,dt.pts)||0)>=(l.castOption(Ee.pull,_t.pts)||0)||((dt.pxmid[1]-_t.pxmid[1])*Oe>0?(Pt=_t.cyFinal+Ce(_t.px0[1],_t.px1[1])-Lt-dt.labelExtraY)*Oe>0&&(dt.labelExtraY+=Pt):(Ut+dt.labelExtraY-Ht)*Oe>0&&(Mt=3*Ie*Math.abs(kt-ve.indexOf(dt)),(ut=_t.cxFinal+Pe(_t.px0[0],_t.px1[0])+Mt-(dt.cxFinal+dt.pxmid[0])-dt.labelExtraX)*Ie>0&&(dt.labelExtraX+=ut)))}for(ue=0;ue<2;ue++)for(me=ue?Ne:We,Ce=ue?Math.max:Math.min,Oe=ue?1:-1,he=0;he<2;he++){for(Pe=he?Math.max:Math.min,Ie=he?1:-1,(ze=Se[ue][he]).sort(me),ve=(je=Se[1-ue][he]).concat(ze),Le=[],Ae=0;Ae<ze.length;Ae++)void 0!==ze[Ae].yLabelMid&&Le.push(ze[Ae]);for(Ve=!1,Ae=0;ue&&Ae<je.length;Ae++)if(void 0!==je[Ae].yLabelMid){Ve=je[Ae];break}for(Ae=0;Ae<Le.length;Ae++){var nt=Ae&&Le[Ae-1];Ve&&!Ae&&(nt=Ve),Xe(Le[Ae],nt)}}}(fe,J),Ee=J,le.each(function(he){var ue=S.select(this);if(he.labelExtraX||he.labelExtraY){var me=ue.select("g.slicetext text");he.transform.targetX+=he.labelExtraX,he.transform.targetY+=he.labelExtraY,d.setTransormAndDisplay(me,he.transform);var Pe=he.cxFinal+he.pxmid[0],Ce="M"+Pe+","+(he.cyFinal+he.pxmid[1]),Ie=(he.yLabelMax-he.yLabelMin)*(he.pxmid[0]<0?-1:1)/4;if(he.labelExtraX){var Oe=he.labelExtraX*he.pxmid[1]/he.pxmid[0],ze=he.yLabelMid+he.labelExtraY-(he.cyFinal+he.pxmid[1]);Math.abs(Oe)>Math.abs(ze)?Ce+="l"+ze*he.pxmid[0]/he.pxmid[1]+","+ze+"H"+(Pe+he.labelExtraX+Ie):Ce+="l"+he.labelExtraX+","+Oe+"v"+(ze-Oe)+"h"+Ie}else Ce+="V"+(he.yLabelMid+he.labelExtraY)+"h"+Ie;d.ensureSingle(ue,"path","textline").call(M.stroke,Ee.outsidetextfont.color).attr({"stroke-width":Math.min(2,Ee.outsidetextfont.size/8),d:Ce,fill:"none"})}else ue.select("path.textline").remove()}),ce&&J.automargin){var Te=_.bBox(ee.node()),Me=J.domain,be=(ae.w*(Me.x[1]-Me.x[0])*.5-re.r)/ae.w,ye=(ae.h*(Me.y[1]-Me.y[0])*.5-re.r)/ae.h;A.autoMargin($,"pie."+J.uid+".automargin",{xl:Me.x[0]-be,xr:Me.x[1]+be,yb:Me.y[0]-ye,yt:Me.y[1]+ye,l:Math.max(re.cx-re.r-Te.left,0),r:Math.max(Te.right-(re.cx+re.r),0),b:Math.max(Te.bottom-(re.cy+re.r),0),t:Math.max(re.cy-re.r-Te.top,0),pad:5})}})});setTimeout(function(){te.selectAll("tspan").each(function(){var Q=S.select(this);Q.attr("dy")&&Q.attr("dy",Q.attr("dy"))})},0)},formatSliceLabel:N,transformInsideText:v,determineInsideTextFont:p,positionTitleOutside:R,prerenderTitles:m,layoutAreas:B,attachFxHandlers:b,computeTransform:H}},22152:function(ie,z,e){"use strict";var S=e(33428),A=e(10528),a=e(82744).resizeText;ie.exports=function(M){var _=M._fullLayout._pielayer.selectAll(".trace");a(M,_,"pie"),_.each(function(d){var s=d[0].trace,t=S.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){S.select(this).call(A,i,s,M)})})}},10528:function(ie,z,e){"use strict";var S=e(76308),A=e(69656).castOption,a=e(21552);ie.exports=function(M,_,d,s){var t=d.marker.line,i=A(t.color,_.pts)||S.defaultLine,n=A(t.width,_.pts)||0;M.call(a,_,d,s).style("stroke-width",n).call(S.stroke,i)}},35484:function(ie,z,e){"use strict";var S=e(52904);ie.exports={x:S.x,y:S.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:S.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(ie,z,e){"use strict";var S=e(67792).gl_pointcloud2d,A=e(3400).isArrayOrTypedArray,a=e(43080),M=e(19280).findExtremes,_=e(44928);function d(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=S(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=d.prototype;s.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:A(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},s.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=_(t,{})},s.updateFast=function(t){var i,n,r,o,u,l,h=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,b=this.pickXYData=t.xy,m=t.indices,v=this.bounds;if(b){if(r=b,i=b.length>>>1,t.xbounds&&t.ybounds)v[0]=t.xbounds[0],v[2]=t.xbounds[1],v[1]=t.ybounds[0],v[3]=t.ybounds[1];else for(l=0;l<i;l++)u=r[2*l+1],(o=r[2*l])<v[0]&&(v[0]=o),o>v[2]&&(v[2]=o),u<v[1]&&(v[1]=u),u>v[3]&&(v[3]=u);if(m)n=m;else for(n=new Int32Array(i),l=0;l<i;l++)n[l]=l}else for(i=h.length,r=new Float32Array(2*i),n=new Int32Array(i),l=0;l<i;l++)o=h[l],u=c[l],n[l]=l,r[2*l]=o,r[2*l+1]=u,o<v[0]&&(v[0]=o),o>v[2]&&(v[2]=o),u<v[1]&&(v[1]=u),u>v[3]&&(v[3]=u);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var x=a(t.marker.color),y=a(t.marker.border.color),w=t.opacity*t.marker.opacity;x[3]*=w,this.pointcloudOptions.color=x;var f=t.marker.blend;null===f&&(f=h.length<100||c.length<100),this.pointcloudOptions.blend=f,y[3]*=w,this.pointcloudOptions.borderColor=y;var C=t.marker.sizemin,T=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=C,this.pointcloudOptions.sizeMax=T,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var D=this.scene.xaxis,R=this.scene.yaxis,P=T/2||.5;t._extremes[D._id]=M(D,[v[0],v[2]],{ppad:P}),t._extremes[R._id]=M(R,[v[1],v[3]],{ppad:P})},s.dispose=function(){this.pointcloud.dispose()},ie.exports=function(t,i){var n=new d(t,i.uid);return n.update(i),n}},41904:function(ie,z,e){"use strict";var S=e(3400),A=e(35484);ie.exports=function(a,M,_){function d(s,t){return S.coerce(a,M,A,s,t)}d("x"),d("y"),d("xbounds"),d("ybounds"),a.xy&&a.xy instanceof Float32Array&&(M.xy=a.xy),a.indices&&a.indices instanceof Int32Array&&(M.indices=a.indices),d("text"),d("marker.color",_),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",_),d("marker.border.arearatio"),M._length=null}},156:function(ie,z,e){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ie.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(ie,z,e){"use strict";var S=e(25376),A=e(45464),a=e(22548),M=e(55756),_=e(86968).u,d=e(21776).Ks,s=e(49084),t=e(31780).templatedArray,i=e(29736).descriptionOnlyNumbers,n=e(92880).extendFlat,r=e(67824).overrideAll;(ie.exports=r({hoverinfo:n({},A.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:M.hoverlabel,domain:_({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:S({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:M.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:M.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:n(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(ie,z,e){"use strict";var S=e(67824).overrideAll,A=e(84888)._M,a=e(59596),M=e(65460),_=e(93972),d=e(86476),s=e(22676).prepSelect,t=e(3400),i=e(24040),n="sankey";function r(o,u){var l=o._fullData[u],h=o._fullLayout,c=h.dragmode,p=l._bgRect;if(p&&"pan"!==c&&"zoom"!==c){_(p,"pan"===h.dragmode?"move":"crosshair");var m={_id:"x",c2p:t.identity,_offset:l._sankey.translateX,_length:l._sankey.width},v={_id:"y",c2p:t.identity,_offset:l._sankey.translateY,_length:l._sankey.height},x={gd:o,element:p.node(),plotinfo:{id:u,xaxis:m,yaxis:v,fillRangeItems:t.noop},subplot:u,xaxes:[m],yaxes:[v],doneFnCompleted:function(y){var w,f=o._fullData[u],C=f.node.groups.slice(),T=[];function D(B){for(var q=f._sankey.graph.nodes,N=0;N<q.length;N++)if(q[N].pointNumber===B)return q[N]}for(var R=0;R<y.length;R++){var P=D(y[R].pointNumber);if(P)if(P.group){for(var O=0;O<P.childrenNodes.length;O++)T.push(P.childrenNodes[O].pointNumber);C[P.pointNumber-f.node._count]=!1}else T.push(P.pointNumber)}w=C.filter(Boolean).concat([T]),i.call("_guiRestyle",o,{"node.groups":[w]},u)},prepFn:function(y,w,f){s(y,w,f,x,c)}};d.init(x)}}z.name=n,z.baseLayoutAttrOverrides=S({hoverlabel:M.hoverlabel},"plot","nested"),z.plot=function(o){var u=A(o.calcdata,n)[0];a(o,u),z.updateFx(o)},z.clean=function(o,u,l,h){var c=h._has&&h._has(n),b=u._has&&u._has(n);c&&!b&&(h._paperdiv.selectAll(".sankey").remove(),h._paperdiv.selectAll(".bgsankey").remove())},z.updateFx=function(o){for(var u=0;u<o._fullData.length;u++)r(o,u)}},48068:function(ie,z,e){"use strict";var S=e(78484),A=e(3400),a=e(71688).wrap,M=A.isArrayOrTypedArray,_=A.isIndex,d=e(8932);ie.exports=function(s,t){var i=function(n){var r,o=n.node,u=n.link,l=[],h=M(u.color),c=M(u.hovercolor),b=M(u.customdata),p={},m={},v=u.colorscales.length;for(r=0;r<v;r++){var x=u.colorscales[r],y=d.extractScale(x,{cLetter:"c"}),w=d.makeColorScaleFunc(y);m[x.label]=w}var f=0;for(r=0;r<u.value.length;r++)u.source[r]>f&&(f=u.source[r]),u.target[r]>f&&(f=u.target[r]);var C,T=f+1;n.node._count=T;var D=n.node.groups,R={};for(r=0;r<D.length;r++){var P=D[r];for(C=0;C<P.length;C++){var O=P[C],B=T+r;R.hasOwnProperty(O)?A.warn("Node "+O+" is already part of a group."):R[O]=B}}var q={source:[],target:[]};for(r=0;r<u.value.length;r++){var N=u.value[r],H=u.source[r],$=u.target[r];if(N>0&&_(H,T)&&_($,T)&&(!R.hasOwnProperty(H)||!R.hasOwnProperty($)||R[H]!==R[$])){R.hasOwnProperty($)&&($=R[$]),R.hasOwnProperty(H)&&(H=R[H]),p[H=+H]=p[$=+$]=!0;var j="";u.label&&u.label[r]&&(j=u.label[r]);var W=null;j&&m.hasOwnProperty(j)&&(W=m[j]),l.push({pointNumber:r,label:j,color:h?u.color[r]:u.color,hovercolor:c?u.hovercolor[r]:u.hovercolor,customdata:b?u.customdata[r]:u.customdata,concentrationscale:W,source:H,target:$,value:+N}),q.source.push(H),q.target.push($)}}var G=T+D.length,ae=M(o.color),te=M(o.customdata),Q=[];for(r=0;r<G;r++)p[r]&&Q.push({group:r>T-1,childrenNodes:[],pointNumber:r,label:o.label[r],color:ae?o.color[r]:o.color,customdata:te?o.customdata[r]:o.customdata});var re=!1;return function(J,le,fe){for(var ce=A.init2dArray(J,0),ge=0;ge<Math.min(le.length,fe.length);ge++)if(A.isIndex(le[ge],J)&&A.isIndex(fe[ge],J)){if(le[ge]===fe[ge])return!0;ce[le[ge]].push(fe[ge])}return S(ce).components.some(function(Te){return Te.length>1})}(G,q.source,q.target)&&(re=!0),{circular:re,links:l,nodes:Q,groups:D,groupLookup:R}}(t);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},11820:function(ie){"use strict";ie.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(ie,z,e){"use strict";var S=e(3400),A=e(41440),a=e(76308),M=e(49760),_=e(86968).Q,d=e(16132),s=e(31780),t=e(51272);function i(n,r){function o(u,l){return S.coerce(n,r,A.link.colorscales,u,l)}o("label"),o("cmin"),o("cmax"),o("colorscale")}ie.exports=function(n,r,o,u){function l(D,R){return S.coerce(n,r,A,D,R)}var h=S.extendDeep(u.hoverlabel,n.hoverlabel),c=n.node,b=s.newContainer(r,"node");function p(D,R){return S.coerce(c,b,A.node,D,R)}p("label"),p("groups"),p("x"),p("y"),p("pad"),p("thickness"),p("line.color"),p("line.width"),p("hoverinfo",n.hoverinfo),d(c,b,p,h),p("hovertemplate"),p("align");var m=u.colorway;p("color",b.label.map(function(D,R){return a.addOpacity(m[R%m.length],.8)})),p("customdata");var v=n.link||{},x=s.newContainer(r,"link");function y(D,R){return S.coerce(v,x,A.link,D,R)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",n.hoverinfo),d(v,x,y,h),y("hovertemplate");var w,f=M(u.paper_bgcolor).getLuminance()<.333,C=y("color",f?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function T(D){var R=M(D);if(!R.isValid())return D;var P=R.getAlpha();return P<=.8?R.setAlpha(P+.2):R=f?R.brighten():R.darken(),R.toRgbString()}y("hovercolor",Array.isArray(C)?C.map(T):T(C)),y("customdata"),t(v,x,{name:"colorscales",handleItemDefaults:i}),_(r,u,l),l("orientation"),l("valueformat"),l("valuesuffix"),b.x.length&&b.y.length&&(w="freeform"),l("arrangement",w),S.coerceFont(l,"textfont",S.extendFlat({},u.font)),r._length=null}},45499:function(ie,z,e){"use strict";ie.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=A.numberFormat,M=e(83248),_=e(93024),d=e(76308),s=e(11820).cn,t=A._;function i(v){return""!==v}function n(v,x){return v.filter(function(y){return y.key===x.traceId})}function r(v,x){S.select(v).select("path").style("fill-opacity",x),S.select(v).select("rect").style("fill-opacity",x)}function o(v){S.select(v).select("text.name").style("fill","black")}function u(v){return function(x){return-1!==v.node.sourceLinks.indexOf(x.link)||-1!==v.node.targetLinks.indexOf(x.link)}}function l(v){return function(x){return-1!==x.node.sourceLinks.indexOf(v.link)||-1!==x.node.targetLinks.indexOf(v.link)}}function h(v,x,y){x&&y&&n(y,x).selectAll("."+s.sankeyLink).filter(u(x)).call(b.bind(0,x,y,!1))}function c(v,x,y){x&&y&&n(y,x).selectAll("."+s.sankeyLink).filter(u(x)).call(p.bind(0,x,y,!1))}function b(v,x,y,w){w.style("fill",function(f){if(!f.link.concentrationscale)return f.tinyColorHoverHue}).style("fill-opacity",function(f){if(!f.link.concentrationscale)return f.tinyColorHoverAlpha}),w.each(function(f){var C=f.link.label;""!==C&&n(x,v).selectAll("."+s.sankeyLink).filter(function(T){return T.link.label===C}).style("fill",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverHue}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverAlpha})}),y&&n(x,v).selectAll("."+s.sankeyNode).filter(l(v)).call(h)}function p(v,x,y,w){w.style("fill",function(f){return f.tinyColorHue}).style("fill-opacity",function(f){return f.tinyColorAlpha}),w.each(function(f){var C=f.link.label;""!==C&&n(x,v).selectAll("."+s.sankeyLink).filter(function(T){return T.link.label===C}).style("fill",function(T){return T.tinyColorHue}).style("fill-opacity",function(T){return T.tinyColorAlpha})}),y&&n(x,v).selectAll(s.sankeyNode).filter(l(v)).call(c)}function m(v,x){var w=A.nestedProperty(v.hoverlabel||{},x).get();return!Array.isArray(w)&&w}ie.exports=function(v,x){for(var y=v._fullLayout,w=y._paper,f=y._size,C=0;C<v._fullData.length;C++)if(v._fullData[C].visible&&v._fullData[C].type===s.sankey&&!v._fullData[C]._viewInitial){var T=v._fullData[C].node;v._fullData[C]._viewInitial={node:{groups:T.groups.slice(),x:T.x.slice(),y:T.y.slice()}}}var D=t(v,"source:")+" ",R=t(v,"target:")+" ",P=t(v,"concentration:")+" ",O=t(v,"incoming flow count:")+" ",B=t(v,"outgoing flow count:")+" ";M(v,w,x,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:function(q,N,H){!1!==v._fullLayout.hovermode&&(S.select(q).call(b.bind(0,N,H,!0)),"skip"!==N.link.trace.link.hoverinfo&&(N.link.fullData=N.link.trace,v.emit("plotly_hover",{event:S.event,points:[N.link]})))},follow:function(q,N){if(!1!==v._fullLayout.hovermode){var H=N.link.trace.link;if("none"!==H.hoverinfo&&"skip"!==H.hoverinfo){for(var $=[],j=0,W=0;W<N.flow.links.length;W++){var G=N.flow.links[W];if("closest"!==v._fullLayout.hovermode||N.link.pointNumber===G.pointNumber){N.link.pointNumber===G.pointNumber&&(j=W),G.fullData=G.trace,H=N.link.trace.link;var ae=Q(G),te={valueLabel:a(N.valueFormat)(G.value)+N.valueSuffix};$.push({x:ae[0],y:ae[1],name:te.valueLabel,text:[G.label||"",D+G.source.label,R+G.target.label,G.concentrationscale?P+a("%0.2f")(G.flow.labelConcentration):""].filter(i).join("<br>"),color:m(H,"bgcolor")||d.addOpacity(G.color,1),borderColor:m(H,"bordercolor"),fontFamily:m(H,"font.family"),fontSize:m(H,"font.size"),fontColor:m(H,"font.color"),fontWeight:m(H,"font.weight"),fontStyle:m(H,"font.style"),fontVariant:m(H,"font.variant"),nameLength:m(H,"namelength"),textAlign:m(H,"align"),idealAlign:S.event.x<ae[0]?"right":"left",hovertemplate:H.hovertemplate,hovertemplateLabels:te,eventData:[G]})}}_.loneHover($,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:v,anchorIndex:j}).each(function(){N.link.concentrationscale||r(this,.65),o(this)})}}function Q(ee){var re,J;ee.circular?(re=(ee.circularPathData.leftInnerExtent+ee.circularPathData.rightInnerExtent)/2,J=ee.circularPathData.verticalFullExtent):(re=(ee.source.x1+ee.target.x0)/2,J=(ee.y0+ee.y1)/2);var le=[re,J];return"v"===ee.trace.orientation&&le.reverse(),le[0]+=N.parent.translateX,le[1]+=N.parent.translateY,le}},unhover:function(q,N,H){!1!==v._fullLayout.hovermode&&(S.select(q).call(p.bind(0,N,H,!0)),"skip"!==N.link.trace.link.hoverinfo&&(N.link.fullData=N.link.trace,v.emit("plotly_unhover",{event:S.event,points:[N.link]})),_.loneUnhover(y._hoverlayer.node()))},select:function(q,N){var H=N.link;H.originalEvent=S.event,v._hoverdata=[H],_.click(v,{target:!0})}},nodeEvents:{hover:function(q,N,H){!1!==v._fullLayout.hovermode&&(S.select(q).call(h,N,H),"skip"!==N.node.trace.node.hoverinfo&&(N.node.fullData=N.node.trace,v.emit("plotly_hover",{event:S.event,points:[N.node]})))},follow:function(q,N){if(!1!==v._fullLayout.hovermode){var H=N.node.trace.node;if("none"!==H.hoverinfo&&"skip"!==H.hoverinfo){var $=S.select(q).select("."+s.nodeRect),j=v._fullLayout._paperdiv.node().getBoundingClientRect(),W=$.node().getBoundingClientRect(),G=W.left-2-j.left,ae=W.right+2-j.left,te=W.top+W.height/4-j.top,Q={valueLabel:a(N.valueFormat)(N.node.value)+N.valueSuffix};N.node.fullData=N.node.trace,v._fullLayout._calcInverseTransform(v);var ee=v._fullLayout._invScaleX,J=_.loneHover({x0:ee*G,x1:ee*ae,y:v._fullLayout._invScaleY*te,name:a(N.valueFormat)(N.node.value)+N.valueSuffix,text:[N.node.label,O+N.node.targetLinks.length,B+N.node.sourceLinks.length].filter(i).join("<br>"),color:m(H,"bgcolor")||N.tinyColorHue,borderColor:m(H,"bordercolor"),fontFamily:m(H,"font.family"),fontSize:m(H,"font.size"),fontColor:m(H,"font.color"),fontWeight:m(H,"font.weight"),fontStyle:m(H,"font.style"),fontVariant:m(H,"font.variant"),nameLength:m(H,"namelength"),textAlign:m(H,"align"),idealAlign:"left",hovertemplate:H.hovertemplate,hovertemplateLabels:Q,eventData:[N.node]},{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:v});r(J,.85),o(J)}}},unhover:function(q,N,H){!1!==v._fullLayout.hovermode&&(S.select(q).call(c,N,H),"skip"!==N.node.trace.node.hoverinfo&&(N.node.fullData=N.node.trace,v.emit("plotly_unhover",{event:S.event,points:[N.node]})),_.loneUnhover(y._hoverlayer.node()))},select:function(q,N,H){var $=N.node;$.originalEvent=S.event,v._hoverdata=[$],S.select(q).call(c,N,H),_.click(v,{target:!0})}}})}},83248:function(ie,z,e){"use strict";var S=e(49812),A=e(67756).Gz,a=e(33428),M=e(26800),_=e(48932),d=e(11820),s=e(49760),t=e(76308),i=e(43616),n=e(3400),r=n.strTranslate,o=n.strRotate,u=e(71688),l=u.keyFun,h=u.repeat,c=u.unwrap,b=e(72736),p=e(24040),m=e(84284),v=m.CAP_SHIFT,x=m.LINE_SPACING;function y(W,G,ae){var te,Q=c(G),ee=Q.trace,re=ee.domain,J="h"===ee.orientation,le=ee.node.pad,fe=ee.node.thickness,ce={justify:M.sankeyJustify,left:M.sankeyLeft,right:M.sankeyRight,center:M.sankeyCenter}[ee.node.align],ge=W.width*(re.x[1]-re.x[0]),Te=W.height*(re.y[1]-re.y[0]),Me=Q._nodes,we=Q._links,xe=Q.circular;(te=xe?_.sankeyCircular().circularLinkGap(0):M.sankey()).iterations(d.sankeyIterations).size(J?[ge,Te]:[Te,ge]).nodeWidth(fe).nodePadding(le).nodeId(function(Oe){return Oe.pointNumber}).nodeAlign(ce).nodes(Me).links(we);var be,ye,Se,Ee=te();for(var he in te.nodePadding()<le&&n.warn("node.pad was reduced to ",te.nodePadding()," to fit within the figure."),Q._groupLookup){var ue,me=parseInt(Q._groupLookup[he]);for(be=0;be<Ee.nodes.length;be++)if(Ee.nodes[be].pointNumber===me){ue=Ee.nodes[be];break}if(ue){var Pe={pointNumber:parseInt(he),x0:ue.x0,x1:ue.x1,y0:ue.y0,y1:ue.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ee.nodes.unshift(Pe),ue.childrenNodes.unshift(Pe)}}if(function(){for(be=0;be<Ee.nodes.length;be++){var Oe,ze,je=Ee.nodes[be],ve={};for(ye=0;ye<je.targetLinks.length;ye++)Oe=(ze=je.targetLinks[ye]).source.pointNumber+":"+ze.target.pointNumber,ve.hasOwnProperty(Oe)||(ve[Oe]=[]),ve[Oe].push(ze);var Ae=Object.keys(ve);for(ye=0;ye<Ae.length;ye++){var Le=ve[Oe=Ae[ye]],Ve=0,Ne={};for(Se=0;Se<Le.length;Se++)Ne[(ze=Le[Se]).label]||(Ne[ze.label]=0),Ne[ze.label]+=ze.value,Ve+=ze.value;for(Se=0;Se<Le.length;Se++)(ze=Le[Se]).flow={value:Ve,labelConcentration:Ne[ze.label]/Ve,concentration:ze.value/Ve,links:Le},ze.concentrationscale&&(ze.color=s(ze.concentrationscale(ze.flow.labelConcentration)))}var We=0;for(ye=0;ye<je.sourceLinks.length;ye++)We+=je.sourceLinks[ye].value;for(ye=0;ye<je.sourceLinks.length;ye++)(ze=je.sourceLinks[ye]).concentrationOut=ze.value/We;var Xe=0;for(ye=0;ye<je.targetLinks.length;ye++)Xe+=je.targetLinks[ye].value;for(ye=0;ye<je.targetLinks.length;ye++)(ze=je.targetLinks[ye]).concenrationIn=ze.value/Xe}}(),ee.node.x.length&&ee.node.y.length){for(be=0;be<Math.min(ee.node.x.length,ee.node.y.length,Ee.nodes.length);be++)if(ee.node.x[be]&&ee.node.y[be]){var Ce=[ee.node.x[be]*ge,ee.node.y[be]*Te];Ee.nodes[be].x0=Ce[0]-fe/2,Ee.nodes[be].x1=Ce[0]+fe/2;var Ie=Ee.nodes[be].y1-Ee.nodes[be].y0;Ee.nodes[be].y0=Ce[1]-Ie/2,Ee.nodes[be].y1=Ce[1]+Ie/2}"snap"===ee.arrangement&&function(Oe){var ze,je,ve=Oe.map(function(We,Xe){return{x0:We.x0,index:Xe}}).sort(function(We,Xe){return We.x0-Xe.x0}),Ae=[],Le=-1,Ve=-1/0;for(be=0;be<ve.length;be++){var Ne=Oe[ve[be].index];Ne.x0>Ve+fe&&(Le+=1,ze=Ne.x0),Ve=Ne.x0,Ae[Le]||(Ae[Le]=[]),Ae[Le].push(Ne),Ne.x0+=je=ze-Ne.x0,Ne.x1+=je}return Ae}(Me=Ee.nodes).forEach(function(Oe){var ze,je,ve,Ae=0,Le=Oe.length;for(Oe.sort(function(Ve,Ne){return Ve.y0-Ne.y0}),ve=0;ve<Le;++ve)(ze=Oe[ve]).y0>=Ae||(je=Ae-ze.y0)>1e-6&&(ze.y0+=je,ze.y1+=je),Ae=ze.y1+le}),te.update(Ee)}return{circular:xe,key:ae,trace:ee,guid:n.randstr(),horizontal:J,width:ge,height:Te,nodePad:ee.node.pad,nodeLineColor:ee.node.line.color,nodeLineWidth:ee.node.line.width,linkLineColor:ee.link.line.color,linkLineWidth:ee.link.line.width,linkArrowLength:ee.link.arrowlen,valueFormat:ee.valueformat,valueSuffix:ee.valuesuffix,textFont:ee.textfont,translateX:re.x[0]*W.width+W.margin.l,translateY:W.height-re.y[1]*W.height+W.margin.t,dragParallel:J?Te:ge,dragPerpendicular:J?ge:Te,arrangement:ee.arrangement,sankey:te,graph:Ee,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function w(W,G,ae){var te=s(G.color),Q=s(G.hovercolor),ee=G.source.label+"|"+G.target.label+"__"+ae;return G.trace=W.trace,G.curveNumber=W.trace.index,{circular:W.circular,key:ee,traceId:W.key,pointNumber:G.pointNumber,link:G,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),tinyColorHoverHue:t.tinyRGB(Q),tinyColorHoverAlpha:Q.getAlpha(),linkPath:f,linkLineColor:W.linkLineColor,linkLineWidth:W.linkLineWidth,linkArrowLength:W.linkArrowLength,valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,parent:W,interactionState:W.interactionState,flow:G.flow}}function f(){return function(W){var be,ye,Se,Ee,G=W.linkArrowLength;if(W.link.circular)return ye=G,Se=(be=W.link).width/2,Ee=be.circularPathData,"top"===be.circularLinkType?"M "+(Ee.targetX-ye)+" "+(Ee.targetY+Se)+" L"+(Ee.rightInnerExtent-ye)+" "+(Ee.targetY+Se)+"A"+(Ee.rightLargeArcRadius+Se)+" "+(Ee.rightSmallArcRadius+Se)+" 0 0 1 "+(Ee.rightFullExtent-Se-ye)+" "+(Ee.targetY-Ee.rightSmallArcRadius)+"L"+(Ee.rightFullExtent-Se-ye)+" "+Ee.verticalRightInnerExtent+"A"+(Ee.rightLargeArcRadius+Se)+" "+(Ee.rightLargeArcRadius+Se)+" 0 0 1 "+(Ee.rightInnerExtent-ye)+" "+(Ee.verticalFullExtent-Se)+"L"+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent-Se)+"A"+(Ee.leftLargeArcRadius+Se)+" "+(Ee.leftLargeArcRadius+Se)+" 0 0 1 "+(Ee.leftFullExtent+Se)+" "+Ee.verticalLeftInnerExtent+"L"+(Ee.leftFullExtent+Se)+" "+(Ee.sourceY-Ee.leftSmallArcRadius)+"A"+(Ee.leftLargeArcRadius+Se)+" "+(Ee.leftSmallArcRadius+Se)+" 0 0 1 "+Ee.leftInnerExtent+" "+(Ee.sourceY+Se)+"L"+Ee.sourceX+" "+(Ee.sourceY+Se)+"L"+Ee.sourceX+" "+(Ee.sourceY-Se)+"L"+Ee.leftInnerExtent+" "+(Ee.sourceY-Se)+"A"+(Ee.leftLargeArcRadius-Se)+" "+(Ee.leftSmallArcRadius-Se)+" 0 0 0 "+(Ee.leftFullExtent-Se)+" "+(Ee.sourceY-Ee.leftSmallArcRadius)+"L"+(Ee.leftFullExtent-Se)+" "+Ee.verticalLeftInnerExtent+"A"+(Ee.leftLargeArcRadius-Se)+" "+(Ee.leftLargeArcRadius-Se)+" 0 0 0 "+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent+Se)+"L"+(Ee.rightInnerExtent-ye)+" "+(Ee.verticalFullExtent+Se)+"A"+(Ee.rightLargeArcRadius-Se)+" "+(Ee.rightLargeArcRadius-Se)+" 0 0 0 "+(Ee.rightFullExtent+Se-ye)+" "+Ee.verticalRightInnerExtent+"L"+(Ee.rightFullExtent+Se-ye)+" "+(Ee.targetY-Ee.rightSmallArcRadius)+"A"+(Ee.rightLargeArcRadius-Se)+" "+(Ee.rightSmallArcRadius-Se)+" 0 0 0 "+(Ee.rightInnerExtent-ye)+" "+(Ee.targetY-Se)+"L"+(Ee.targetX-ye)+" "+(Ee.targetY-Se)+(ye>0?"L"+Ee.targetX+" "+Ee.targetY:"")+"Z":"M "+(Ee.targetX-ye)+" "+(Ee.targetY-Se)+" L"+(Ee.rightInnerExtent-ye)+" "+(Ee.targetY-Se)+"A"+(Ee.rightLargeArcRadius+Se)+" "+(Ee.rightSmallArcRadius+Se)+" 0 0 0 "+(Ee.rightFullExtent-Se-ye)+" "+(Ee.targetY+Ee.rightSmallArcRadius)+"L"+(Ee.rightFullExtent-Se-ye)+" "+Ee.verticalRightInnerExtent+"A"+(Ee.rightLargeArcRadius+Se)+" "+(Ee.rightLargeArcRadius+Se)+" 0 0 0 "+(Ee.rightInnerExtent-ye)+" "+(Ee.verticalFullExtent+Se)+"L"+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent+Se)+"A"+(Ee.leftLargeArcRadius+Se)+" "+(Ee.leftLargeArcRadius+Se)+" 0 0 0 "+(Ee.leftFullExtent+Se)+" "+Ee.verticalLeftInnerExtent+"L"+(Ee.leftFullExtent+Se)+" "+(Ee.sourceY+Ee.leftSmallArcRadius)+"A"+(Ee.leftLargeArcRadius+Se)+" "+(Ee.leftSmallArcRadius+Se)+" 0 0 0 "+Ee.leftInnerExtent+" "+(Ee.sourceY-Se)+"L"+Ee.sourceX+" "+(Ee.sourceY-Se)+"L"+Ee.sourceX+" "+(Ee.sourceY+Se)+"L"+Ee.leftInnerExtent+" "+(Ee.sourceY+Se)+"A"+(Ee.leftLargeArcRadius-Se)+" "+(Ee.leftSmallArcRadius-Se)+" 0 0 1 "+(Ee.leftFullExtent-Se)+" "+(Ee.sourceY+Ee.leftSmallArcRadius)+"L"+(Ee.leftFullExtent-Se)+" "+Ee.verticalLeftInnerExtent+"A"+(Ee.leftLargeArcRadius-Se)+" "+(Ee.leftLargeArcRadius-Se)+" 0 0 1 "+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent-Se)+"L"+(Ee.rightInnerExtent-ye)+" "+(Ee.verticalFullExtent-Se)+"A"+(Ee.rightLargeArcRadius-Se)+" "+(Ee.rightLargeArcRadius-Se)+" 0 0 1 "+(Ee.rightFullExtent+Se-ye)+" "+Ee.verticalRightInnerExtent+"L"+(Ee.rightFullExtent+Se-ye)+" "+(Ee.targetY+Ee.rightSmallArcRadius)+"A"+(Ee.rightLargeArcRadius-Se)+" "+(Ee.rightSmallArcRadius-Se)+" 0 0 1 "+(Ee.rightInnerExtent-ye)+" "+(Ee.targetY+Se)+"L"+(Ee.targetX-ye)+" "+(Ee.targetY+Se)+(ye>0?"L"+Ee.targetX+" "+Ee.targetY:"")+"Z";var ae=Math.abs((W.link.target.x0-W.link.source.x1)/2);G>ae&&(G=ae);var te=W.link.source.x1,Q=W.link.target.x0-G,ee=A(te,Q),re=ee(.5),J=ee(.5),le=W.link.y0-W.link.width/2,fe=W.link.y0+W.link.width/2,ce=W.link.y1-W.link.width/2,ge=W.link.y1+W.link.width/2,xe=G>0?"L"+(Q+G)+","+(ce+W.link.width/2):"";return"M"+te+","+le+"C"+re+","+le+" "+J+","+ce+" "+Q+","+ce+(xe+="L"+Q+","+ge)+"C"+J+","+ge+" "+re+","+fe+" "+te+","+fe+"Z"}}function C(W,G){var ae=s(G.color),te=d.nodePadAcross,Q=W.nodePad/2;G.dx=G.x1-G.x0,G.dy=G.y1-G.y0;var ee=G.dx,re=Math.max(.5,G.dy),J="node_"+G.pointNumber;return G.group&&(J=n.randstr()),G.trace=W.trace,G.curveNumber=W.trace.index,{index:G.pointNumber,key:J,partOfGroup:G.partOfGroup||!1,group:G.group,traceId:W.key,trace:W.trace,node:G,nodePad:W.nodePad,nodeLineColor:W.nodeLineColor,nodeLineWidth:W.nodeLineWidth,textFont:W.textFont,size:W.horizontal?W.height:W.width,visibleWidth:Math.ceil(ee),visibleHeight:re,zoneX:-te,zoneY:-Q,zoneWidth:ee+2*te,zoneHeight:re+2*Q,labelY:W.horizontal?G.dy/2+1:G.dx/2+1,left:1===G.originalLayer,sizeAcross:W.width,forceLayouts:W.forceLayouts,horizontal:W.horizontal,darkBackground:ae.getBrightness()<=128,tinyColorHue:t.tinyRGB(ae),tinyColorAlpha:ae.getAlpha(),valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,graph:W.graph,arrangement:W.arrangement,uniqueNodeLabelPathId:[W.guid,W.key,J].join("_"),interactionState:W.interactionState,figure:W}}function T(W){W.attr("transform",function(G){return r(G.node.x0.toFixed(3),G.node.y0.toFixed(3))})}function D(W){W.call(T)}function R(W,G){W.call(D),G.attr("d",f())}function P(W){W.attr("width",function(G){return G.node.x1-G.node.x0}).attr("height",function(G){return G.visibleHeight})}function O(W){return W.link.width>1||W.linkLineWidth>0}function B(W){return r(W.translateX,W.translateY)+(W.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function q(W,G,ae){W.on(".basic",null).on("mouseover.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(ae.hover(this,te,G),te.interactionState.hovered=[this,te])}).on("mousemove.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(ae.follow(this,te),te.interactionState.hovered=[this,te])}).on("mouseout.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(ae.unhover(this,te,G),te.interactionState.hovered=!1)}).on("click.basic",function(te){te.interactionState.hovered&&(ae.unhover(this,te,G),te.interactionState.hovered=!1),te.interactionState.dragInProgress||te.partOfGroup||ae.select(this,te,G)})}function N(W,G,ae,te){var Q=a.behavior.drag().origin(function(ee){return{x:ee.node.x0+ee.visibleWidth/2,y:ee.node.y0+ee.visibleHeight/2}}).on("dragstart",function(ee){if("fixed"!==ee.arrangement&&(n.ensureSingle(te._fullLayout._infolayer,"g","dragcover",function(J){te._fullLayout._dragCover=J}),n.raiseToTop(this),ee.interactionState.dragInProgress=ee.node,$(ee.node),ee.interactionState.hovered&&(ae.nodeEvents.unhover.apply(0,ee.interactionState.hovered),ee.interactionState.hovered=!1),"snap"===ee.arrangement)){var re=ee.traceId+"|"+ee.key;ee.forceLayouts[re]?ee.forceLayouts[re].alpha(1):function(J,le,fe,ce){!function(Te){for(var Me=0;Me<Te.length;Me++)Te[Me].y=(Te[Me].y0+Te[Me].y1)/2,Te[Me].x=(Te[Me].x0+Te[Me].x1)/2}(fe.graph.nodes);var Me,we,xe,ge=fe.graph.nodes.filter(function(Te){return Te.originalX===fe.node.originalX}).filter(function(Te){return!Te.partOfGroup});fe.forceLayouts[le]=S.forceSimulation(ge).alphaDecay(0).force("collide",S.forceCollide().radius(function(Te){return Te.dy/2+fe.nodePad/2}).strength(1).iterations(d.forceIterations)).force("constrain",(Me=le,we=ge,xe=fe,function(){for(var be=0,ye=0;ye<we.length;ye++){var Se=we[ye];Se===xe.interactionState.dragInProgress?(Se.x=Se.lastDraggedX,Se.y=Se.lastDraggedY):(Se.vx=(Se.originalX-Se.x)/d.forceTicksPerFrame,Se.y=Math.min(xe.size-Se.dy/2,Math.max(Se.dy/2,Se.y))),be=Math.max(be,Math.abs(Se.vx),Math.abs(Se.vy))}!xe.interactionState.dragInProgress&&be<.1&&xe.forceLayouts[Me].alpha()>0&&xe.forceLayouts[Me].alpha(0)})).stop()}(0,re,ee),J=W,le=G,fe=ee,ce=re,ge=te,window.requestAnimationFrame(function Te(){var Me;for(Me=0;Me<d.forceTicksPerFrame;Me++)fe.forceLayouts[ce].tick();if(function(xe){for(var be=0;be<xe.length;be++)xe[be].y0=xe[be].y-xe[be].dy/2,xe[be].y1=xe[be].y0+xe[be].dy,xe[be].x0=xe[be].x-xe[be].dx/2,xe[be].x1=xe[be].x0+xe[be].dx}(fe.graph.nodes),fe.sankey.update(fe.graph),R(J.filter(j(fe)),le),fe.forceLayouts[ce].alpha()>0)window.requestAnimationFrame(Te);else{var we=fe.node.originalX;fe.node.x0=we-fe.visibleWidth/2,fe.node.x1=we+fe.visibleWidth/2,H(fe,ge)}})}var J,le,fe,ce,ge}).on("drag",function(ee){if("fixed"!==ee.arrangement){var re=a.event.x,J=a.event.y;"snap"===ee.arrangement?(ee.node.x0=re-ee.visibleWidth/2,ee.node.x1=re+ee.visibleWidth/2,ee.node.y0=J-ee.visibleHeight/2,ee.node.y1=J+ee.visibleHeight/2):("freeform"===ee.arrangement&&(ee.node.x0=re-ee.visibleWidth/2,ee.node.x1=re+ee.visibleWidth/2),J=Math.max(0,Math.min(ee.size-ee.visibleHeight/2,J)),ee.node.y0=J-ee.visibleHeight/2,ee.node.y1=J+ee.visibleHeight/2),$(ee.node),"snap"!==ee.arrangement&&(ee.sankey.update(ee.graph),R(W.filter(j(ee)),G))}}).on("dragend",function(ee){if("fixed"!==ee.arrangement){ee.interactionState.dragInProgress=!1;for(var re=0;re<ee.node.childrenNodes.length;re++)ee.node.childrenNodes[re].x=ee.node.x,ee.node.childrenNodes[re].y=ee.node.y;"snap"!==ee.arrangement&&H(ee,te)}});W.on(".drag",null).call(Q)}function H(W,G){for(var ae=[],te=[],Q=0;Q<W.graph.nodes.length;Q++){var re=(W.graph.nodes[Q].y0+W.graph.nodes[Q].y1)/2;ae.push((W.graph.nodes[Q].x0+W.graph.nodes[Q].x1)/2/W.figure.width),te.push(re/W.figure.height)}p.call("_guiRestyle",G,{"node.x":[ae],"node.y":[te]},W.trace.index).then(function(){G._fullLayout._dragCover&&G._fullLayout._dragCover.remove()})}function $(W){W.lastDraggedX=W.x0+W.dx/2,W.lastDraggedY=W.y0+W.dy/2}function j(W){return function(G){return G.node.originalX===W.node.originalX}}ie.exports=function(W,G,ae,te,Q){var ee=W._context.staticPlot,re=!1;n.ensureSingle(W._fullLayout._infolayer,"g","first-render",function(){re=!0});var J=W._fullLayout._dragCover,le=ae.filter(function(be){return c(be).trace.visible}).map(y.bind(null,te)),fe=G.selectAll("."+d.cn.sankey).data(le,l);fe.exit().remove(),fe.enter().append("g").classed(d.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",ee?"none":"auto").attr("transform",B),fe.each(function(be,ye){W._fullData[ye]._sankey=be;var Se="bgsankey-"+be.trace.uid+"-"+ye;n.ensureSingle(W._fullLayout._draggers,"rect",Se),W._fullData[ye]._bgRect=a.select("."+Se),W._fullData[ye]._bgRect.style("pointer-events",ee?"none":"all").attr("width",be.width).attr("height",be.height).attr("x",be.translateX).attr("y",be.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),fe.transition().ease(d.ease).duration(d.duration).attr("transform",B);var ce=fe.selectAll("."+d.cn.sankeyLinks).data(h,l);ce.enter().append("g").classed(d.cn.sankeyLinks,!0).style("fill","none");var ge=ce.selectAll("."+d.cn.sankeyLink).data(function(be){return be.graph.links.filter(function(ye){return ye.value}).map(w.bind(null,be))},l);ge.enter().append("path").classed(d.cn.sankeyLink,!0).call(q,fe,Q.linkEvents),ge.style("stroke",function(be){return O(be)?t.tinyRGB(s(be.linkLineColor)):be.tinyColorHue}).style("stroke-opacity",function(be){return O(be)?t.opacity(be.linkLineColor):be.tinyColorAlpha}).style("fill",function(be){return be.tinyColorHue}).style("fill-opacity",function(be){return be.tinyColorAlpha}).style("stroke-width",function(be){return O(be)?be.linkLineWidth:1}).attr("d",f()),ge.style("opacity",function(){return W._context.staticPlot||re||J?1:0}).transition().ease(d.ease).duration(d.duration).style("opacity",1),ge.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var Te=fe.selectAll("."+d.cn.sankeyNodeSet).data(h,l);Te.enter().append("g").classed(d.cn.sankeyNodeSet,!0),Te.style("cursor",function(be){switch(be.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Me=Te.selectAll("."+d.cn.sankeyNode).data(function(be){var ye=be.graph.nodes;return function(Se){var Ee,he=[];for(Ee=0;Ee<Se.length;Ee++)Se[Ee].originalX=(Se[Ee].x0+Se[Ee].x1)/2,Se[Ee].originalY=(Se[Ee].y0+Se[Ee].y1)/2,-1===he.indexOf(Se[Ee].originalX)&&he.push(Se[Ee].originalX);for(he.sort(function(ue,me){return ue-me}),Ee=0;Ee<Se.length;Ee++)Se[Ee].originalLayerIndex=he.indexOf(Se[Ee].originalX),Se[Ee].originalLayer=Se[Ee].originalLayerIndex/(he.length-1)}(ye),ye.map(C.bind(null,be))},l);Me.enter().append("g").classed(d.cn.sankeyNode,!0).call(T).style("opacity",function(be){return!W._context.staticPlot&&!re||be.partOfGroup?0:1}),Me.call(q,fe,Q.nodeEvents).call(N,ge,Q,W),Me.transition().ease(d.ease).duration(d.duration).call(T).style("opacity",function(be){return be.partOfGroup?0:1}),Me.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var we=Me.selectAll("."+d.cn.nodeRect).data(h);we.enter().append("rect").classed(d.cn.nodeRect,!0).call(P),we.style("stroke-width",function(be){return be.nodeLineWidth}).style("stroke",function(be){return t.tinyRGB(s(be.nodeLineColor))}).style("stroke-opacity",function(be){return t.opacity(be.nodeLineColor)}).style("fill",function(be){return be.tinyColorHue}).style("fill-opacity",function(be){return be.tinyColorAlpha}),we.transition().ease(d.ease).duration(d.duration).call(P);var xe=Me.selectAll("."+d.cn.nodeLabel).data(h);xe.enter().append("text").classed(d.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(be){return be.node.label}).each(function(be){var ye=a.select(this);i.font(ye,be.textFont),b.convertToTspans(ye,W)}).style("text-shadow",b.makeTextShadow(W._fullLayout.paper_bgcolor)).attr("text-anchor",function(be){return be.horizontal&&be.left?"end":"start"}).attr("transform",function(be){var ye=a.select(this),Se=b.lineCount(ye),he=be.nodeLineWidth/2+3,ue=((be.horizontal?be.visibleHeight:be.visibleWidth)-be.textFont.size*((Se-1)*x-v))/2;be.horizontal&&(be.left?he=-he:he+=be.visibleWidth);var me=be.horizontal?"":"scale(-1,1)"+o(90);return r(be.horizontal?he:ue,be.horizontal?ue:he)+me}),xe.transition().ease(d.ease).duration(d.duration)}},81128:function(ie){"use strict";ie.exports=function(z,e){for(var S=[],A=z.cd[0].trace,a=A._sankey.graph.nodes,M=0;M<a.length;M++){var _=a[M];if(!_.partOfGroup){var d=[(_.x0+_.x1)/2,(_.y0+_.y1)/2];"v"===A.orientation&&d.reverse(),e&&e.contains(d,!1,M,z)&&S.push({pointNumber:_.pointNumber})}}return S}},20148:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){for(var M=0;M<A.length;M++)A[M].i=M;S.mergeArray(a.text,A,"tx"),S.mergeArray(a.texttemplate,A,"txt"),S.mergeArray(a.hovertext,A,"htx"),S.mergeArray(a.customdata,A,"data"),S.mergeArray(a.textposition,A,"tp"),a.textfont&&(S.mergeArrayCastPositive(a.textfont.size,A,"ts"),S.mergeArray(a.textfont.color,A,"tc"),S.mergeArray(a.textfont.family,A,"tf"),S.mergeArray(a.textfont.weight,A,"tw"),S.mergeArray(a.textfont.style,A,"ty"),S.mergeArray(a.textfont.variant,A,"tv"));var _=a.marker;if(_){S.mergeArrayCastPositive(_.size,A,"ms"),S.mergeArrayCastPositive(_.opacity,A,"mo"),S.mergeArray(_.symbol,A,"mx"),S.mergeArray(_.angle,A,"ma"),S.mergeArray(_.standoff,A,"mf"),S.mergeArray(_.color,A,"mc");var d=_.line;_.line&&(S.mergeArray(d.color,A,"mlc"),S.mergeArrayCastPositive(d.width,A,"mlw"));var s=_.gradient;s&&"none"!==s.type&&(S.mergeArray(s.type,A,"mgt"),S.mergeArray(s.color,A,"mgc"))}}},52904:function(ie,z,e){"use strict";var S=e(29736).axisHoverFormat,A=e(21776).Gw,a=e(21776).Ks,M=e(49084),_=e(25376),d=e(98192).u,s=e(98192).c,t=e(43616),i=e(88200),n=e(92880).extendFlat,r=e(98304);ie.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:S("x"),yhoverformat:S("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:A({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:n({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:r(!0),fillgradient:n({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:n({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:n({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},M("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},M("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:_({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(54460),M=e(1220),_=e(39032).BADNUM,d=e(43028),s=e(90136),t=e(20148),i=e(4500);function n(h,c,b,p,m,v,x){var y=c._length,w=h._fullLayout,f=b._id,C=p._id,T=w._firstScatter[u(c)]===c.uid,D=(l(c,w,b,p)||{}).orientation,R=c.fill;b._minDtick=0,p._minDtick=0;var P={padded:!0},O={padded:!0};x&&(P.ppad=O.ppad=x);var B=y<2||m[0]!==m[y-1]||v[0]!==v[y-1];B&&("tozerox"===R||"tonextx"===R&&(T||"h"===D))?P.tozero=!0:(c.error_y||{}).visible||"tonexty"!==R&&"tozeroy"!==R&&(d.hasMarkers(c)||d.hasText(c))||(P.padded=!1,P.ppad=0),B&&("tozeroy"===R||"tonexty"===R&&(T||"v"===D))?O.tozero=!0:"tonextx"!==R&&"tozerox"!==R||(O.padded=!1),f&&(c._extremes[f]=a.findExtremes(b,m,P)),C&&(c._extremes[C]=a.findExtremes(p,v,O))}function r(h,c){if(d.hasMarkers(h)){var b,p=h.marker,m=1.6*(h.marker.sizeref||1);if(b="area"===h.marker.sizemode?function(f){return Math.max(Math.sqrt((f||0)/m),3)}:function(f){return Math.max((f||0)/m,3)},A.isArrayOrTypedArray(p.size)){var v={type:"linear"};a.setConvert(v);for(var x=v.makeCalcdata(h.marker,"size"),y=new Array(c),w=0;w<c;w++)y[w]=b(x[w]);return y}return b(p.size)}}function o(h,c){var b=u(c),p=h._firstScatter;p[b]||(p[b]=c.uid)}function u(h){var c=h.stackgroup;return h.xaxis+h.yaxis+h.type+(c?"-"+c:"")}function l(h,c,b,p){var m=h.stackgroup;if(m){var v=c._scatterStackOpts[b._id+p._id][m],x="v"===v.orientation?p:b;return"linear"===x.type||"log"===x.type?v:void 0}}ie.exports={calc:function(h,c){var b,p,m,v,x,y,w=h._fullLayout,f=c._xA=a.getFromId(h,c.xaxis||"x","x"),C=c._yA=a.getFromId(h,c.yaxis||"y","y"),T=f.makeCalcdata(c,"x"),D=C.makeCalcdata(c,"y"),R=M(c,f,"x",T),P=M(c,C,"y",D),O=R.vals,B=P.vals,q=c._length,N=new Array(q),H=c.ids,$=l(c,w,f,C),j=!1;o(w,c);var W,G="x",ae="y";$?(A.pushUnique($.traceIndices,c._expandedIndex),(b="v"===$.orientation)?(ae="s",W="x"):(G="s",W="y"),x="interpolate"===$.stackgaps):n(h,c,f,C,O,B,r(c,q));var te=!!c.xperiodalignment,Q=!!c.yperiodalignment;for(p=0;p<q;p++){var ee=N[p]={},re=S(O[p]),J=S(B[p]);re&&J?(ee[G]=O[p],ee[ae]=B[p],te&&(ee.orig_x=T[p],ee.xEnd=R.ends[p],ee.xStart=R.starts[p]),Q&&(ee.orig_y=D[p],ee.yEnd=P.ends[p],ee.yStart=P.starts[p])):$&&(b?re:J)?(ee[W]=b?O[p]:B[p],ee.gap=!0,x?(ee.s=_,j=!0):ee.s=0):ee[G]=ee[ae]=_,H&&(ee.id=String(H[p]))}if(t(N,c),s(h,c),i(N,c),$){for(p=0;p<N.length;)N[p][W]===_?N.splice(p,1):p++;if(A.sort(N,function(ge,Te){return ge[W]-Te[W]||ge.i-Te.i}),j){for(p=0;p<N.length-1&&N[p].gap;)p++;for((y=N[p].s)||(y=N[p].s=0),m=0;m<p;m++)N[m].s=y;for(v=N.length-1;v>p&&N[v].gap;)v--;for(y=N[v].s,m=N.length-1;m>v;m--)N[m].s=y;for(;p<v;)if(N[++p].gap){for(m=p+1;N[m].gap;)m++;for(var le=N[p-1][W],fe=N[p-1].s,ce=(N[m].s-fe)/(N[m][W]-le);p<m;)N[p].s=fe+(N[p][W]-le)*ce,p++}}}return N},calcMarkerSize:r,calcAxisExpansion:n,setFirstScatter:o,getStackOpts:l}},4500:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){S.isArrayOrTypedArray(a.selectedpoints)&&S.tagSelected(A,a)}},90136:function(ie,z,e){"use strict";var S=e(94288).hasColorscale,A=e(47128),a=e(43028);ie.exports=function(M,_){a.hasLines(_)&&S(_,"line")&&A(M,_,{vals:_.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(_)&&(S(_,"marker")&&A(M,_,{vals:_.marker.color,containerStr:"marker",cLetter:"c"}),S(_,"marker.line")&&A(M,_,{vals:_.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(ie){"use strict";ie.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(ie,z,e){"use strict";var S=e(16356),A=e(96376).setGroupPositions;function a(M,_,d,s,t,i,n){t[s]=!0;var u,l,c,b,p,r={i:null,gap:!0,s:0};if(r[n]=d,M.splice(_,0,r),_&&d===M[_-1][n]){var o=M[_-1];r.s=o.s,r.i=o.i,r.gap=o.gap}else i&&(r.s=(c=n,b=(u=M)[(l=_)-1],(p=u[l+1])?b?b.s+(p.s-b.s)*(d-b[c])/(p[c]-b[c]):p.s:b.s));_||(M[0].t=M[1].t,M[0].trace=M[1].trace,delete M[1].t,delete M[1].trace)}ie.exports=function(M,_){"group"===M._fullLayout.scattermode&&function(W,G){for(var ae=G.xaxis,te=G.yaxis,Q=W._fullLayout,ee=W._fullData,re=W.calcdata,J=[],le=[],fe=0;fe<ee.length;fe++){var ce=ee[fe];!0===ce.visible&&"scatter"===ce.type&&ce.xaxis===ae._id&&ce.yaxis===te._id&&("h"===ce.orientation?J.push(re[fe]):"v"===ce.orientation&&le.push(re[fe]))}var ge={mode:Q.scattermode,gap:Q.scattergap};A(W,ae,te,le,ge),A(W,te,ae,J,ge)}(M,_);var d=_.xaxis,s=_.yaxis,i=M._fullLayout._scatterStackOpts[d._id+s._id];if(i){var n,r,o,u,l,h,c,b,p,m,v,x,y,w,f,C=M.calcdata;for(var T in i){var D=(m=i[T]).traceIndices;if(D.length){for(v="interpolate"===m.stackgaps,x=m.groupnorm,"v"===m.orientation?(y="x",w="y"):(y="y",w="x"),f=new Array(D.length),n=0;n<f.length;n++)f[n]=!1;h=C[D[0]];var R=new Array(h.length);for(n=0;n<h.length;n++)R[n]=h[n][y];for(n=1;n<D.length;n++){for(l=C[D[n]],r=o=0;r<l.length;r++){for(c=l[r][y];c>R[o]&&o<R.length;o++)a(l,r,R[o],n,f,v,y),r++;if(c!==R[o]){for(u=0;u<n;u++)a(C[D[u]],o,c,u,f,v,y);R.splice(o,0,c)}o++}for(;o<R.length;o++)a(l,r,R[o],n,f,v,y),r++}var P=R.length;for(r=0;r<h.length;r++){for(b=h[r][w]=h[r].s,n=1;n<D.length;n++)(l=C[D[n]])[0].trace._rawLength=l[0].trace._length,l[0].trace._length=P,l[r][w]=b+=l[r].s;if(x)for(p=("fraction"===x?b:b/100)||1,n=0;n<D.length;n++){var O=C[D[n]][r];O[w]/=p,O.sNorm=O.s/p}}for(n=0;n<D.length;n++){var B=(l=C[D[n]])[0].trace,q=S.calcMarkerSize(B,B._rawLength),N=Array.isArray(q);if(q&&f[n]||N){var H=q;for(q=new Array(P),r=0;r<P;r++)q[r]=l[r].gap?0:N?H[l[r].i]:H}var $=new Array(P),j=new Array(P);for(r=0;r<P;r++)$[r]=l[r].x,j[r]=l[r].y;S.calcAxisExpansion(M,B,d,s,$,j,q),l[0].t.orientation=m.orientation}}}}}},35036:function(ie,z,e){"use strict";var S=e(3400),A=e(20011),a=e(52904);ie.exports=function(M,_){var s,t;function i(l){return S.coerce(s._input,s,a,l)}if("group"===_.scattermode)for(t=0;t<M.length;t++)"scatter"===(s=M[t]).type&&A(s._input,s,_,i);for(t=0;t<M.length;t++){var n=M[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var o=t-1;o>=0;o--){var u=M[o];if("scatter"===u.type&&u.xaxis===n.xaxis&&u.yaxis===n.yaxis){u.opacity=void 0;break}}}}}},18800:function(ie,z,e){"use strict";var S=e(3400),A=e(24040),a=e(52904),M=e(88200),_=e(43028),d=e(43980),s=e(31147),t=e(43912),i=e(74428),n=e(66828),r=e(11731),o=e(124),u=e(70840),l=e(3400).coercePattern;ie.exports=function(h,c,b,p){function m(D,R){return S.coerce(h,c,a,D,R)}var v=d(h,c,p,m);if(v||(c.visible=!1),c.visible){s(h,c,p,m),m("xhoverformat"),m("yhoverformat"),m("zorder");var x=t(h,c,p,m);"group"===p.scattermode&&void 0===c.orientation&&m("orientation","v");var y=!x&&v<M.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("mode",y),_.hasMarkers(c)&&i(h,c,b,p,m,{gradient:!0}),_.hasLines(c)&&(n(h,c,b,p,m,{backoff:!0}),r(h,c,m),m("connectgaps"),m("line.simplify")),_.hasText(c)&&(m("texttemplate"),o(h,c,p,m));var w=[];(_.hasMarkers(c)||_.hasText(c))&&(m("cliponaxis"),m("marker.maxdisplayed"),w.push("points")),m("fill",x?x.fillDflt:"none"),"none"!==c.fill&&(u(h,c,b,m,{moduleHasFillgradient:!0}),_.hasLines(c)||r(h,c,m),l(m,"fillpattern",c.fillcolor,!1));var f=(c.line||{}).color,C=(c.marker||{}).color;"tonext"!==c.fill&&"toself"!==c.fill||w.push("fills"),m("hoveron",w.join("+")||"points"),"fills"!==c.hoveron&&m("hovertemplate");var T=A.getComponentMethod("errorbars","supplyDefaults");T(h,c,f||C||b,{axis:"y"}),T(h,c,f||C||b,{axis:"x",inherit:"y"}),S.coerceSelectionMarkerOpacity(c,m)}}},98304:function(ie){"use strict";ie.exports=function(z){return{valType:"color",editType:"style",anim:!0}}},70840:function(ie,z,e){"use strict";var S=e(76308),A=e(3400).isArrayOrTypedArray;ie.exports=function(a,M,_,d,s){s||(s={});var t,i=!1;if(M.marker){var n=M.marker.color,r=(M.marker.line||{}).color;n&&!A(n)?i=n:r&&!A(r)&&(i=r)}if(s.moduleHasFillgradient&&"none"!==d("fillgradient.type")){d("fillgradient.start"),d("fillgradient.stop");var o=d("fillgradient.colorscale");o&&(t=function(u){for(var l=S.interpolate(u[0][1],u[1][1],.5),h=2;h<u.length;h++){var c=S.interpolate(u[h-1][1],u[h][1],.5);l=S.interpolate(l,c,u[h-1][0]/u[h][0])}return l}(o))}d("fillcolor",S.addOpacity((M.line||{}).color||i||t||_,.5))}},76688:function(ie,z,e){"use strict";var S=e(54460);ie.exports=function(A,a,M){var _={},d={_fullLayout:M},s=S.getFromTrace(d,a,"x"),t=S.getFromTrace(d,a,"y"),i=A.orig_x;void 0===i&&(i=A.x);var n=A.orig_y;return void 0===n&&(n=A.y),_.xLabel=S.tickText(s,s.c2l(i),!0).text,_.yLabel=S.tickText(t,t.c2l(n),!0).text,_}},44928:function(ie,z,e){"use strict";var S=e(76308),A=e(43028);ie.exports=function(a,M){var _,d;if("lines"===a.mode)return(_=a.line.color)&&S.opacity(_)?_:a.fillcolor;if("none"===a.mode)return a.fill?a.fillcolor:"";var s=M.mcc||(a.marker||{}).color,t=M.mlcc||((a.marker||{}).line||{}).color;return(d=s&&S.opacity(s)?s:t&&S.opacity(t)&&(M.mlw||((a.marker||{}).line||{}).width)?t:"")?S.opacity(d)<.3?S.addOpacity(d,.3):d:(_=(a.line||{}).color)&&S.opacity(_)&&A.hasLines(a)&&a.line.width?_:a.fillcolor}},20011:function(ie,z,e){"use strict";var S=e(71888).getAxisGroup;ie.exports=function(A,a,M,_){var d=a.orientation,t=S(M,a[{v:"x",h:"y"}[d]+"axis"])+d,i=M._alignmentOpts||{},n=_("alignmentgroup"),r=i[t];r||(r=i[t]={});var o=r[n];o?o.traces.push(a):o=r[n]={traces:[a],alignmentIndex:Object.keys(r).length,offsetGroups:{}};var u=_("offsetgroup"),l=o.offsetGroups,h=l[u];u&&(h||(h=l[u]={offsetIndex:Object.keys(l).length}),a._offsetIndex=h.offsetIndex)}},98723:function(ie,z,e){"use strict";var S=e(3400),A=e(93024),a=e(24040),M=e(44928),_=e(76308),d=S.fillText;ie.exports=function(s,t,i,n){var r=s.cd,o=r[0].trace,u=s.xa,l=s.ya,h=u.c2p(t),c=l.c2p(i),b=[h,c],p=o.hoveron||"",m=-1!==o.mode.indexOf("markers")?3:.5,v=!!o.xperiodalignment,x=!!o.yperiodalignment;if(-1!==p.indexOf("points")){var y=function($){var j=Math.max(m,$.mrc||0),W=u.c2p($.x)-h,G=l.c2p($.y)-c;return Math.max(Math.sqrt(W*W+G*G)-j,1-m/j)},w=A.getDistanceFunction(n,function($){if(v){var j=u.c2p($.xStart),W=u.c2p($.xEnd);return h>=Math.min(j,W)&&h<=Math.max(j,W)?0:1/0}var G=Math.max(3,$.mrc||0),ae=1-1/G,te=Math.abs(u.c2p($.x)-h);return te<G?ae*te/G:te-G+ae},function($){if(x){var j=l.c2p($.yStart),W=l.c2p($.yEnd);return c>=Math.min(j,W)&&c<=Math.max(j,W)?0:1/0}var G=Math.max(3,$.mrc||0),ae=1-1/G,te=Math.abs(l.c2p($.y)-c);return te<G?ae*te/G:te-G+ae},y);if(A.getClosest(r,w,s),!1!==s.index){var f=r[s.index],C=u.c2p(f.x,!0),T=l.c2p(f.y,!0),D=f.mrc||1;s.index=f.i;var R=r[0].t.orientation,P=R&&(f.sNorm||f.s),O="h"===R?P:void 0!==f.orig_x?f.orig_x:f.x,B="v"===R?P:void 0!==f.orig_y?f.orig_y:f.y;return S.extendFlat(s,{color:M(o,f),x0:C-D,x1:C+D,xLabelVal:O,y0:T-D,y1:T+D,yLabelVal:B,spikeDistance:y(f),hovertemplate:o.hovertemplate}),d(f,o,s),a.getComponentMethod("errorbars","hoverInfo")(f,o,s),[s]}}function q($){if(!$)return!1;var j=$.node();try{var W=new DOMPoint(b[0],b[1]);return j.isPointInFill(W)}catch{var G=j.ownerSVGElement.createSVGPoint();return G.x=b[0],G.y=b[1],j.isPointInFill(G)}}if(-1!==p.indexOf("fills")&&o._fillElement&&q(o._fillElement)&&!q(o._fillExclusionElement)){var N=function($){var j,W,G,ae,te,Q,re,J,le=[],fe=1/0,ce=-1/0,ge=1/0,Te=-1/0;for(j=0;j<$.length;j++){var Me=$[j];Me.contains(b)&&(le.push(Me),ge=Math.min(ge,Me.ymin),Te=Math.max(Te,Me.ymax))}if(0===le.length)return null;for(W=((ge=Math.max(ge,0))+(Te=Math.min(Te,l._length)))/2,j=0;j<le.length;j++)for(ae=le[j].pts,G=1;G<ae.length;G++)(re=ae[G-1][1])>W!=(J=ae[G][1])>=W&&(Q=ae[G-1][0],J-re&&(te=Q+(ae[G][0]-Q)*(W-re)/(J-re),fe=Math.min(fe,te),ce=Math.max(ce,te)));return{x0:fe=Math.max(fe,0),x1:ce=Math.min(ce,u._length),y0:W,y1:W}}(o._polygons);null===N&&(N={x0:b[0],x1:b[0],y0:b[1],y1:b[1]});var H=_.defaultLine;return _.opacity(o.fillcolor)?H=o.fillcolor:_.opacity((o.line||{}).color)&&(H=o.line.color),S.extendFlat(s,{distance:s.maxHoverDistance,x0:N.x0,x1:N.x1,y0:N.y0,y1:N.y1,color:H,hovertemplate:!1}),delete s.index,s.text=o.text&&!S.isArrayOrTypedArray(o.text)?String(o.text):o.name,[s]}}},65875:function(ie,z,e){"use strict";var S=e(43028);ie.exports={hasLines:S.hasLines,hasMarkers:S.hasMarkers,hasText:S.hasText,isBubble:S.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(ie){"use strict";ie.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(ie,z,e){"use strict";var S=e(3400),A=e(55308);ie.exports=function(a,M){"group"===M.scattermode&&S.coerce(a,M,A,"scattergap","group"===M.barmode?M.bargap:.2)}},66828:function(ie,z,e){"use strict";var S=e(3400).isArrayOrTypedArray,A=e(94288).hasColorscale,a=e(27260);ie.exports=function(M,_,d,s,t,i){i||(i={});var n=(M.marker||{}).color;n&&n._inputArray&&(n=n._inputArray),t("line.color",d),A(M,"line")?a(M,_,s,t,{prefix:"line.",cLetter:"c"}):t("line.color",!S(n)&&n||d),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(ie,z,e){"use strict";var S=e(43616),A=e(39032),a=A.BADNUM,M=A.LOG_CLIP,_=M+.5,d=M-.5,s=e(3400),t=s.segmentsIntersect,i=s.constrain,n=e(88200);ie.exports=function(r,o){var u,l,h,c,b,p,m,v,x,y,w,f,C,T,D,R,P,O,B=o.trace||{},q=o.xaxis,N=o.yaxis,H="log"===q.type,$="log"===N.type,j=q._length,W=N._length,G=o.backoff,ae=B.marker,te=o.connectGaps,Q=o.baseTolerance,ee=o.shape,re="linear"===ee,J=B.fill&&"none"!==B.fill,le=[],fe=n.minTolerance,ce=r.length,ge=new Array(ce),Te=0;function Me(Pt){var Je=r[Pt];if(!Je)return!1;var tt=o.linearized?q.l2p(Je.x):q.c2p(Je.x),Ge=o.linearized?N.l2p(Je.y):N.c2p(Je.y);if(tt===a){if(H&&(tt=q.c2p(Je.x,!0)),tt===a)return!1;$&&Ge===a&&(tt*=Math.abs(q._m*W*(q._m>0?_:d)/(N._m*j*(N._m>0?_:d)))),tt*=1e3}if(Ge===a){if($&&(Ge=N.c2p(Je.y,!0)),Ge===a)return!1;Ge*=1e3}return[tt,Ge]}function we(Pt,Je,tt,Ge){var Qe=tt-Pt,pt=Ge-Je,ct=.5-Pt,He=.5-Je,qe=Qe*Qe+pt*pt,ft=Qe*ct+pt*He;if(ft>0&&ft<qe){var et=ct*pt-He*Qe;if(et*et<qe)return!0}}function xe(Pt,Je){var tt=Pt[0]/j,Ge=Pt[1]/W,Qe=Math.max(0,-tt,tt-1,-Ge,Ge-1);return Qe&&void 0!==P&&we(tt,Ge,P,O)&&(Qe=0),Qe&&Je&&we(tt,Ge,Je[0]/j,Je[1]/W)&&(Qe=0),(1+n.toleranceGrowth*Qe)*Q}function be(Pt,Je){var tt=Pt[0]-Je[0],Ge=Pt[1]-Je[1];return Math.sqrt(tt*tt+Ge*Ge)}var ye,Se,Ee,he,ue,me,Pe,Ce=n.maxScreensAway,Ie=-j*Ce,Oe=j*(1+Ce),ze=-W*Ce,je=W*(1+Ce),ve=[[Ie,ze,Oe,ze],[Oe,ze,Oe,je],[Oe,je,Ie,je],[Ie,je,Ie,ze]];function Ae(Pt){if(Pt[0]<Ie||Pt[0]>Oe||Pt[1]<ze||Pt[1]>je)return[i(Pt[0],Ie,Oe),i(Pt[1],ze,je)]}function Le(Pt,Je){return Pt[0]===Je[0]&&(Pt[0]===Ie||Pt[0]===Oe)||Pt[1]===Je[1]&&(Pt[1]===ze||Pt[1]===je)||void 0}function Ve(Pt,Je,tt){return function(Ge,Qe){var pt=Ae(Ge),ct=Ae(Qe),He=[];if(pt&&ct&&Le(pt,ct))return He;pt&&He.push(pt),ct&&He.push(ct);var qe=2*s.constrain((Ge[Pt]+Qe[Pt])/2,Je,tt)-((pt||Ge)[Pt]+(ct||Qe)[Pt]);return qe&&((pt&&ct?qe>0==pt[Pt]>ct[Pt]?pt:ct:pt||ct)[Pt]+=qe),He}}function Ne(Pt){var Je=Pt[0],tt=Pt[1],Ge=Je===ge[Te-1][0],Qe=tt===ge[Te-1][1];if(!Ge||!Qe)if(Te>1){var pt=Je===ge[Te-2][0],ct=tt===ge[Te-2][1];Ge&&(Je===Ie||Je===Oe)&&pt?ct?Te--:ge[Te-1]=Pt:Qe&&(tt===ze||tt===je)&&ct?pt?Te--:ge[Te-1]=Pt:ge[Te++]=Pt}else ge[Te++]=Pt}function We(Pt){ge[Te-1][0]!==Pt[0]&&ge[Te-1][1]!==Pt[1]&&Ne([Ee,he]),Ne(Pt),ue=null,Ee=he=0}"linear"===ee||"spline"===ee?Pe=function(Pt,Je){for(var tt=[],Ge=0,Qe=0;Qe<4;Qe++){var pt=ve[Qe],ct=t(Pt[0],Pt[1],Je[0],Je[1],pt[0],pt[1],pt[2],pt[3]);ct&&(!Ge||Math.abs(ct.x-tt[0][0])>1||Math.abs(ct.y-tt[0][1])>1)&&(ct=[ct.x,ct.y],Ge&&be(ct,Pt)<be(tt[0],Pt)?tt.unshift(ct):tt.push(ct),Ge++)}return tt}:"hv"===ee||"vh"===ee?Pe=function(Pt,Je){var tt=[],Ge=Ae(Pt),Qe=Ae(Je);return Ge&&Qe&&Le(Ge,Qe)||(Ge&&tt.push(Ge),Qe&&tt.push(Qe)),tt}:"hvh"===ee?Pe=Ve(0,Ie,Oe):"vhv"===ee&&(Pe=Ve(1,ze,je));var Xe=s.isArrayOrTypedArray(ae);function nt(Pt){if(Pt&&G&&(Pt.i=u,Pt.d=r,Pt.trace=B,Pt.marker=Xe?ae[Pt.i]:ae,Pt.backoff=G),P=Pt[0]/j,O=Pt[1]/W,Se=Pt[1]<ze?ze:Pt[1]>je?je:0,(ye=Pt[0]<Ie?Ie:Pt[0]>Oe?Oe:0)||Se){if(Te)if(ue){var Je=Pe(ue,Pt);Je.length>1&&(We(Je[0]),ge[Te++]=Je[1])}else me=Pe(ge[Te-1],Pt)[0],ge[Te++]=me;else ge[Te++]=[ye||Pt[0],Se||Pt[1]];var tt=ge[Te-1];ye&&Se&&(tt[0]!==ye||tt[1]!==Se)?(ue&&(Ee!==ye&&he!==Se?Ne(Ee&&he?(pt=(Qe=Pt)[0]-(Ge=ue)[0],ct=(Qe[1]-Ge[1])/pt,(Ge[1]*Qe[0]-Qe[1]*Ge[0])/pt>0?[ct>0?Ie:Oe,je]:[ct>0?Oe:Ie,ze]):[Ee||ye,he||Se]):Ee&&he&&Ne([Ee,he])),Ne([ye,Se])):Ee-ye&&he-Se&&Ne([ye||Ee,Se||he]),ue=Pt,Ee=ye,he=Se}else ue&&We(Pe(ue,Pt)[0]),ge[Te++]=Pt;var Ge,Qe,pt,ct}for(u=0;u<ce;u++)if(l=Me(u)){for(Te=0,ue=null,nt(l),u++;u<ce;u++){if(!(c=Me(u))){if(te)continue;break}if(re&&o.simplify){var dt=Me(u+1);if(y=be(c,l),J&&(0===Te||Te===ce-1)||!(y<xe(c,dt)*fe)){for(v=[(c[0]-l[0])/y,(c[1]-l[1])/y],b=l,w=y,f=T=D=0,m=!1,h=c,u++;u<r.length;u++){if(p=dt,dt=Me(u+1),!p){if(te)continue;break}if(R=(x=[p[0]-l[0],p[1]-l[1]])[0]*v[1]-x[1]*v[0],T=Math.min(T,R),(D=Math.max(D,R))-T>xe(p,dt))break;h=p,(C=x[0]*v[0]+x[1]*v[1])>w?(w=C,c=p,m=!1):C<f&&(f=C,b=p,m=!0)}if(m?(nt(c),h!==b&&nt(b)):(b!==l&&nt(b),h!==c&&nt(c)),nt(h),u>=r.length||!p)break;nt(p),l=p}}else nt(c)}ue&&Ne([Ee||ue[0],he||ue[1]]),le.push(ge.slice(0,Te))}var ht=ee.slice(ee.length-1);if(G&&"h"!==ht&&"v"!==ht){for(var Mt=!1,kt=-1,_t=[],ut=0;ut<le.length;ut++)for(var st=0;st<le[ut].length-1;st++){var Lt=le[ut][st],Ut=le[ut][st+1],Ht=S.applyBackoff(Ut,Lt);Ht[0]===Ut[0]&&Ht[1]===Ut[1]||(Mt=!0),_t[kt+1]||(_t[++kt]=[Lt,[Ht[0],Ht[1]]])}return Mt?_t:le}return le}},11731:function(ie){"use strict";ie.exports=function(z,e,S){"spline"===S("line.shape")&&S("line.smoothing")}},14328:function(ie){"use strict";var z={tonextx:1,tonexty:1,tonext:1};ie.exports=function(e,S,A){var a,M,_,d,s,t={},i=!1,n=-1,r=0,o=-1;for(M=0;M<A.length;M++)(_=(a=A[M][0].trace).stackgroup||"")?_ in t?s=t[_]:(s=t[_]=r,r++):a.fill in z&&o>=0?s=o:(s=o=r,r++),s<n&&(i=!0),a._groupIndex=n=s;var u=A.slice();i&&u.sort(function(h,c){var b=h[0].trace,p=c[0].trace;return b._groupIndex-p._groupIndex||b.index-p.index});var l={};for(M=0;M<u.length;M++)_=(a=u[M][0].trace).stackgroup||"",!0===a.visible?(a._nexttrace=null,a.fill in z&&(a._prevtrace=(d=l[_])||null,d&&(d._nexttrace=a)),a._ownfill=a.fill&&("tozero"===a.fill.substr(0,6)||"toself"===a.fill||"to"===a.fill.substr(0,2)&&!a._prevtrace),l[_]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return u}},7152:function(ie,z,e){"use strict";var S=e(38248);ie.exports=function(A,a){a||(a=2);var M=A.marker,_=M.sizeref||1,d=M.sizemin||0,s="area"===M.sizemode?function(t){return Math.sqrt(t/_)}:function(t){return t/_};return function(t){var i=s(t/a);return S(i)&&i>0?Math.max(i,d):0}}},5528:function(ie){"use strict";ie.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(ie,z,e){"use strict";var S=e(76308),A=e(94288).hasColorscale,a=e(27260),M=e(43028);ie.exports=function(_,d,s,t,i,n){var r=M.isBubble(_),o=(_.line||{}).color;n=n||{},o&&(s=o),i("marker.symbol"),i("marker.opacity",r?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",s),A(_,"marker")&&a(_,d,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(i("marker.line.color",o&&!Array.isArray(o)&&d.marker.color!==o?o:r?S.background:S.defaultLine),A(_,"marker.line")&&a(_,d,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",r?1:0)),r&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient&&"none"!==i("marker.gradient.type")&&i("marker.gradient.color")}},31147:function(ie,z,e){"use strict";var S=e(3400).dateTick0,A=e(39032).ONEWEEK;function a(M,_){return S(_,M%A==0?1:0)}ie.exports=function(M,_,d,s,t){if(t||(t={x:!0,y:!0}),t.x){var i=s("xperiod");i&&(s("xperiod0",a(i,_.xcalendar)),s("xperiodalignment"))}if(t.y){var n=s("yperiod");n&&(s("yperiod0",a(n,_.ycalendar)),s("yperiodalignment"))}}},96504:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(3400),M=a.ensureSingle,_=a.identity,d=e(43616),s=e(43028),t=e(52340),i=e(14328),n=e(92065).tester;function r(o,u,l,h,c,b,p){var m,v=o._context.staticPlot;!function(Ne,We,Xe,nt,dt){var ht=Xe.xaxis,Mt=Xe.yaxis,kt=S.extent(a.simpleMap(ht.range,ht.r2c)),_t=S.extent(a.simpleMap(Mt.range,Mt.r2c)),ut=nt[0].trace;if(s.hasMarkers(ut)){var st=ut.marker.maxdisplayed;if(0!==st){var Lt=nt.filter(function(Je){return Je.x>=kt[0]&&Je.x<=kt[1]&&Je.y>=_t[0]&&Je.y<=_t[1]}),Ut=Math.ceil(Lt.length/st),Ht=0;dt.forEach(function(Je,tt){var Ge=Je[0].trace;s.hasMarkers(Ge)&&Ge.marker.maxdisplayed>0&&tt<We&&Ht++});var Pt=Math.round(Ht*Ut/3+Math.floor(Ht/3)*Ut/7.1);nt.forEach(function(Je){delete Je.vis}),Lt.forEach(function(Je,tt){0===Math.round((tt+Pt)%Ut)&&(Je.vis=!0)})}}}(0,u,l,h,c);var x=!!p&&p.duration>0;function y(Ne){return x?Ne.transition():Ne}var w=l.xaxis,f=l.yaxis,C=h[0].trace,T=C.line,D=S.select(b),R=M(D,"g","errorbars"),P=M(D,"g","lines"),O=M(D,"g","points"),B=M(D,"g","text");if(A.getComponentMethod("errorbars","plot")(o,R,l,p),!0===C.visible){var q,N;y(D).style("opacity",C.opacity);var H,$,j=C.fill.charAt(C.fill.length-1);"x"!==j&&"y"!==j&&(j=""),"y"===j?(H=1,$=f.c2p(0,!0)):"x"===j&&(H=0,$=w.c2p(0,!0)),h[0][l.isRangePlot?"nodeRangePlot3":"node3"]=D;var W,G,ae="",te=[],Q=C._prevtrace,ee=null,re=null;Q&&(ae=Q._prevRevpath||"",N=Q._nextFill,te=Q._ownPolygons,ee=Q._fillsegments,re=Q._fillElement);var J,le,fe,ce,ge,Te,Me="",we="",xe=[];C._polygons=[];var be=[],ye=[],Se=a.noop;if(q=C._ownFill,s.hasLines(C)||"none"!==C.fill){N&&N.datum(h),-1!==["hv","vh","hvh","vhv"].indexOf(T.shape)?(J=d.steps(T.shape),le=d.steps(T.shape.split("").reverse().join(""))):J=le="spline"===T.shape?function(Ne){var We=Ne[Ne.length-1];return Ne.length>1&&Ne[0][0]===We[0]&&Ne[0][1]===We[1]?d.smoothclosed(Ne.slice(1),T.smoothing):d.smoothopen(Ne,T.smoothing)}:function(Ne){return"M"+Ne.join("L")},fe=function(Ne){return le(Ne.reverse())},ye=t(h,{xaxis:w,yaxis:f,trace:C,connectGaps:C.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,shape:T.shape,backoff:T.backoff,simplify:T.simplify,fill:C.fill}),be=new Array(ye.length);var Ee=0;for(m=0;m<ye.length;m++){var he,ue=ye[m];he&&j?he.push.apply(he,ue):(he=ue.slice(),be[Ee]=he,Ee++)}C._fillElement=null,C._fillExclusionElement=re,C._fillsegments=be.slice(0,Ee),be=C._fillsegments,ye.length&&(ce=ye[0][0].slice(),Te=(ge=ye[ye.length-1])[ge.length-1].slice()),Se=function(Ne){return function(We){if(W=J(We),G=fe(We),Me?j?(Me+="L"+W.substr(1),we=G+"L"+we.substr(1)):(Me+="Z"+W,we=G+"Z"+we):(Me=W,we=G),s.hasLines(C)){var Xe=S.select(this);if(Xe.datum(h),Ne)y(Xe.style("opacity",0).attr("d",W).call(d.lineGroupStyle)).style("opacity",1);else{var nt=y(Xe);nt.attr("d",W),d.singleLineStyle(h,nt)}}}}}var me=P.selectAll(".js-line").data(ye);y(me.exit()).style("opacity",0).remove(),me.each(Se(!1)),me.enter().append("path").classed("js-line",!0).style("vector-effect",v?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(Se(!0)),d.setClipUrl(me,l.layerClipId,o);var Pe=function(){var Ne=new Array(be.length);for(m=0;m<be.length;m++)Ne[m]=n(be[m]);return Ne},Ce=function(Ne){var We,Xe;if(Ne&&0!==Ne.length){for(We=new Array(Ne.length-1+be.length),Xe=0;Xe<Ne.length-1;Xe++)We[Xe]=n(Ne[Xe]);var nt=Ne[Ne.length-1].slice();for(nt.reverse(),Xe=0;Xe<be.length;Xe++)We[Ne.length-1+Xe]=n(be[Xe].concat(nt))}else for(We=new Array(be.length),Xe=0;Xe<be.length;Xe++){var dt=be[Xe][0].slice(),ht=be[Xe][be[Xe].length-1].slice();dt[H]=ht[H]=$;var Mt=[ht,dt].concat(be[Xe]);We[Xe]=n(Mt)}return We};ye.length?(q?(q.datum(h),ce&&Te&&(j?(ce[H]=Te[H]=$,y(q).attr("d","M"+Te+"L"+ce+"L"+Me.substr(1)).call(d.singleFillStyle,o),xe=Ce(null)):(y(q).attr("d",Me+"Z").call(d.singleFillStyle,o),xe=Pe())),C._polygons=xe,C._fillElement=q):N&&("tonext"===C.fill.substr(0,6)&&Me&&ae?("tonext"===C.fill?(y(N).attr("d",Me+"Z"+ae+"Z").call(d.singleFillStyle,o),xe=Pe(),C._polygons=xe.concat(te)):(y(N).attr("d",Me+"L"+ae.substr(1)+"Z").call(d.singleFillStyle,o),xe=Ce(ee),C._polygons=xe),C._fillElement=N):Oe(N)),C._prevRevpath=we):(q?Oe(q):N&&Oe(N),C._prevRevpath=null),C._ownPolygons=xe,O.datum(h),B.datum(h),function(Ne,We,Xe){var nt,dt=Xe[0].trace,ht=s.hasMarkers(dt),Mt=s.hasText(dt),kt=function Le(Ne){if(Ne.ids)return Ae}(dt),_t=Ve,ut=Ve;if(ht||Mt){var st=_,Lt=dt.stackgroup,Ut=Lt&&"infer zero"===o._fullLayout._scatterStackOpts[w._id+f._id][Lt].stackgaps;dt.marker.maxdisplayed||dt._needsCull?st=Ut?je:ze:Lt&&!Ut&&(st=ve),ht&&(_t=st),Mt&&(ut=st)}var Ht,Pt=(nt=Ne.selectAll("path.point").data(_t,kt)).enter().append("path").classed("point",!0);x&&Pt.call(d.pointStyle,dt,o).call(d.translatePoints,w,f).style("opacity",0).transition().style("opacity",1),nt.order(),ht&&(Ht=d.makePointStyleFns(dt)),nt.each(function(Je){var tt=S.select(this),Ge=y(tt);d.translatePoint(Je,Ge,w,f)?(d.singlePointStyle(Je,Ge,dt,Ht,o),l.layerClipId&&d.hideOutsideRangePoint(Je,Ge,w,f,dt.xcalendar,dt.ycalendar),dt.customdata&&tt.classed("plotly-customdata",null!=Je.data)):Ge.remove()}),x?nt.exit().transition().style("opacity",0).remove():nt.exit().remove(),(nt=We.selectAll("g").data(ut,kt)).enter().append("g").classed("textpoint",!0).append("text"),nt.order(),nt.each(function(Je){var tt=S.select(this),Ge=y(tt.select("text"));d.translatePoint(Je,Ge,w,f)?l.layerClipId&&d.hideOutsideRangePoint(Je,tt,w,f,dt.xcalendar,dt.ycalendar):tt.remove()}),nt.selectAll("text").call(d.textPointStyle,dt,o).each(function(Je){var tt=w.c2p(Je.x),Ge=f.c2p(Je.y);S.select(this).selectAll("tspan.line").each(function(){y(S.select(this)).attr({x:tt,y:Ge})})}),nt.exit().remove()}(O,B,h);var Ie=!1===C.cliponaxis?null:l.layerClipId;d.setClipUrl(O,Ie,o),d.setClipUrl(B,Ie,o)}function Oe(Ne){y(Ne).attr("d","M0,0Z")}function ze(Ne){return Ne.filter(function(We){return!We.gap&&We.vis})}function je(Ne){return Ne.filter(function(We){return We.vis})}function ve(Ne){return Ne.filter(function(We){return!We.gap})}function Ae(Ne){return Ne.id}function Ve(){return!1}}ie.exports=function(o,u,l,h,c,b){var p,m,w,C,v=!c,x=!!c&&c.duration>0,y=i(o,u,l);(p=h.selectAll("g.trace").data(y,function(w){return w[0].trace.uid})).enter().append("g").attr("class",function(w){return"trace scatter trace"+w[0].trace.uid}).style("stroke-miterlimit",2),p.order(),w=o,C=u,p.each(function(T){var D=M(S.select(this),"g","fills");d.setClipUrl(D,C.layerClipId,w);var R=T[0].trace,P=[];R._ownfill&&P.push("_ownFill"),R._nexttrace&&P.push("_nextFill");var O=D.selectAll("g").data(P,_);O.enter().append("g"),O.exit().each(function(B){R[B]=null}).remove(),O.order().each(function(B){R[B]=M(S.select(this),"path","js-fill")})}),x?(b&&(m=b()),S.transition().duration(c.duration).ease(c.easing).each("end",function(){m&&m()}).each("interrupt",function(){m&&m()}).each(function(){h.selectAll("g.trace").each(function(w,f){r(o,f,u,w,y,this,c)})})):p.each(function(w,f){r(o,f,u,w,y,this,c)}),v&&p.exit().remove(),h.selectAll("path:not([d])").remove()}},91560:function(ie,z,e){"use strict";var S=e(43028);ie.exports=function(A,a){var M,_,d,s,t=A.cd,i=A.xaxis,n=A.yaxis,r=[],o=t[0].trace;if(!S.hasMarkers(o)&&!S.hasText(o))return[];if(!1===a)for(M=0;M<t.length;M++)t[M].selected=0;else for(M=0;M<t.length;M++)d=i.c2p((_=t[M]).x),s=n.c2p(_.y),null!==_.i&&a.contains([d,s],!1,M,A)?(r.push({pointNumber:_.i,x:i.c2d(_.x),y:n.c2d(_.y)}),_.selected=1):_.selected=0;return r}},43912:function(ie){"use strict";var z=["orientation","groupnorm","stackgaps"];ie.exports=function(e,S,A,a){var M=A._scatterStackOpts,_=a("stackgroup");if(_){var d=S.xaxis+S.yaxis,s=M[d];s||(s=M[d]={});var t=s[_],i=!1;t?t.traces.push(S):(t=s[_]={traceIndices:[],traces:[S]},i=!0);for(var n={orientation:S.x&&!S.y?"h":"v"},r=0;r<z.length;r++){var o=z[r],u=o+"Found";if(!t[u]){var l=void 0!==e[o],h="orientation"===o;if((l||i)&&(t[o]=a(o,n[o]),h&&(t.fillDflt="h"===t[o]?"tonextx":"tonexty"),l&&(t[u]=!0,!i&&(delete t.traces[0][o],h))))for(var c=0;c<t.traces.length-1;c++){var b=t.traces[c];b._input.fill!==b.fill&&(b.fill=t.fillDflt)}}}return t}}},49224:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(24040);function M(d,s,t){A.pointStyle(d.selectAll("path.point"),s,t)}function _(d,s,t){A.textPointStyle(d.selectAll("text"),s,t)}ie.exports={style:function(d){var s=S.select(d).selectAll("g.trace.scatter");s.style("opacity",function(t){return t[0].trace.opacity}),s.selectAll("g.points").each(function(t){M(S.select(this),t.trace||t[0].trace,d)}),s.selectAll("g.text").each(function(t){_(S.select(this),t.trace||t[0].trace,d)}),s.selectAll("g.trace path.js-line").call(A.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(A.fillGroupStyle,d,!1),a.getComponentMethod("errorbars","style")(s)},stylePoints:M,styleText:_,styleOnSelect:function(d,s,t){var i=s[0].trace;i.selectedpoints?(A.selectedPointStyle(t.selectAll("path.point"),i),A.selectedTextStyle(t.selectAll("text"),i)):(M(t,i,d),_(t,i,d))}}},43028:function(ie,z,e){"use strict";var S=e(3400),A=e(38116).isTypedArraySpec;ie.exports={hasLines:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("lines")},hasMarkers:function(a){return a.visible&&(a.mode&&-1!==a.mode.indexOf("markers")||"splom"===a.type)},hasText:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("text")},isBubble:function(a){var M=a.marker;return S.isPlainObject(M)&&(S.isArrayOrTypedArray(M.size)||A(M.size))}}},124:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a,M,_,d){d=d||{},_("textposition"),S.coerceFont(_,"textfont",d.font||M.font,d),d.noSelect||(_("selected.textfont.color"),_("unselected.textfont.color"))}},43980:function(ie,z,e){"use strict";var S=e(3400),A=e(24040);ie.exports=function(a,M,_,d){var s,t=d("x"),i=d("y");if(A.getComponentMethod("calendars","handleTraceDefaults")(a,M,["x","y"],_),t){var n=S.minRowLength(t);i?s=Math.min(n,S.minRowLength(i)):(s=n,d("y0"),d("dy"))}else{if(!i)return 0;s=S.minRowLength(i),d("x0"),d("dx")}return M._length=s,s}},91592:function(ie,z,e){"use strict";var S=e(52904),A=e(25376),a=e(49084),M=e(29736).axisHoverFormat,_=e(21776).Ks,d=e(21776).Gw,s=e(45464),t=e(99168),i=e(87792),n=e(92880).extendFlat,r=e(67824).overrideAll,o=e(95376),l=S.marker,h=l.line,c=n({width:S.line.width,dash:{valType:"enumerated",values:o(t),dflt:"solid"}},a("line")),b=ie.exports=r({x:S.x,y:S.y,z:{valType:"data_array"},text:n({},S.text,{}),texttemplate:d({},{}),hovertext:n({},S.hovertext,{}),hovertemplate:_(),xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z"),mode:n({},S.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:S.connectgaps,line:c,marker:n({symbol:{valType:"enumerated",values:o(i),dflt:"circle",arrayOk:!0},size:n({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:n({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:n({width:n({},h.width,{arrayOk:!1})},a("marker.line"))},a("marker")),textposition:n({},S.textposition,{dflt:"top center"}),textfont:A({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:s.opacity,hoverinfo:n({},s.hoverinfo)},"calc","nested");b.x.editType=b.y.editType=b.z.editType="calc+clearAxisTypes"},41484:function(ie,z,e){"use strict";var S=e(20148),A=e(90136);ie.exports=function(a,M){var _=[{x:!1,y:!1,trace:M,t:{}}];return S(_,M),A(a,M),_}},45156:function(ie,z,e){"use strict";var S=e(24040);function A(a,M,_,d){if(!M||!M.visible)return null;for(var s=S.getComponentMethod("errorbars","makeComputeError")(M),t=new Array(a.length),i=0;i<a.length;i++){var n=s(+a[i],i);if("log"===d.type){var r=d.c2l(a[i]),o=a[i]-n[0],u=a[i]+n[1];if(t[i]=[(d.c2l(o,!0)-r)*_,(d.c2l(u,!0)-r)*_],o>0){var l=d.c2l(o);d._lowerLogErrorBound||(d._lowerLogErrorBound=l),d._lowerErrorBound=Math.min(d._lowerLogErrorBound,l)}}else t[i]=[-n[0]*_,n[1]*_]}return t}ie.exports=function(a,M,_){var d=[A(a.x,a.error_x,M[0],_.xaxis),A(a.y,a.error_y,M[1],_.yaxis),A(a.z,a.error_z,M[2],_.zaxis)],s=function(u){for(var l=0;l<u.length;l++)if(u[l])return u[l].length;return 0}(d);if(0===s)return null;for(var t=new Array(s),i=0;i<s;i++){for(var n=[[0,0,0],[0,0,0]],r=0;r<3;r++)if(d[r])for(var o=0;o<2;o++)n[o][r]=d[r][i][o];t[i]=n}return t}},41064:function(ie,z,e){"use strict";var S=e(67792).gl_line3d,A=e(67792).gl_scatter3d,a=e(67792).gl_error3d,M=e(67792).gl_mesh3d,_=e(67792).delaunay_triangulate,d=e(3400),s=e(43080),t=e(33040).formatColor,i=e(7152),n=e(99168),r=e(87792),o=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function h(f,C){this.scene=f,this.uid=C,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=h.prototype;function b(f){return null==f?0:f.indexOf("left")>-1?-1:f.indexOf("right")>-1?1:0}function p(f){return null==f?0:f.indexOf("top")>-1?-1:f.indexOf("bottom")>-1?1:0}function m(f,C){return C(4*f)}function v(f){return r[f]}function x(f,C,T,D,R){var P=null;if(d.isArrayOrTypedArray(f)){P=[];for(var O=0;O<C;O++)P[O]=void 0===f[O]?D:T(f[O],R)}else P=T(f,d.identity);return P}function y(f){if(d.isArrayOrTypedArray(f)){var C=f[0];return d.isArrayOrTypedArray(C)&&(f=C),"rgb("+f.slice(0,3).map(function(T){return Math.round(255*T)})+")"}return null}function w(f){return d.isArrayOrTypedArray(f)?4===f.length&&"number"==typeof f[0]?y(f):f.map(y):null}c.handlePick=function(f){if(f.object&&(f.object===this.linePlot||f.object===this.delaunayMesh||f.object===this.textMarkers||f.object===this.scatterPlot)){var C=f.index=f.data.index;return f.object.highlight&&f.object.highlight(null),this.scatterPlot&&(f.object=this.scatterPlot,this.scatterPlot.highlight(f.data)),f.textLabel="",this.textLabels&&(d.isArrayOrTypedArray(this.textLabels)?(this.textLabels[C]||0===this.textLabels[C])&&(f.textLabel=this.textLabels[C]):f.textLabel=this.textLabels),f.traceCoordinate=[this.data.x[C],this.data.y[C],this.data.z[C]],!0}},c.update=function(f){var C,T,D,R,P=this.scene.glplot.gl,O=n.solid;this.data=f;var B=function(H,$){var j,W,G,ae,te,Q,ee=[],re=H.fullSceneLayout,J=H.dataScale,le=re.xaxis,fe=re.yaxis,ce=re.zaxis,ge=$.marker,Te=$.line,Me=$.x||[],we=$.y||[],xe=$.z||[],be=Me.length,ye=$.xcalendar,Se=$.ycalendar,Ee=$.zcalendar;for(te=0;te<be;te++)j=le.d2l(Me[te],0,ye)*J[0],W=fe.d2l(we[te],0,Se)*J[1],G=ce.d2l(xe[te],0,Ee)*J[2],ee[te]=[j,W,G];if(Array.isArray($.text))Q=$.text;else if(d.isTypedArray($.text))Q=Array.from($.text);else if(void 0!==$.text)for(Q=new Array(be),te=0;te<be;te++)Q[te]=$.text;function he(We,Xe){var nt=re[We];return o.tickText(nt,nt.d2l(Xe),!0).text}var ue=$.texttemplate;if(ue){var me=H.fullLayout._d3locale,Pe=Array.isArray(ue),Ce=Pe?Math.min(ue.length,be):be,Ie=Pe?function(We){return ue[We]}:function(){return ue};for(Q=new Array(Ce),te=0;te<Ce;te++){var Oe={x:Me[te],y:we[te],z:xe[te]},ze={xLabel:he("xaxis",Me[te]),yLabel:he("yaxis",we[te]),zLabel:he("zaxis",xe[te])},je={};u(je,$,te);var ve=$._meta||{};Q[te]=d.texttemplateString(Ie(te),ze,me,je,Oe,ve)}}if(ae={position:ee,mode:$.mode,text:Q},"line"in $&&(ae.lineColor=t(Te,1,be),ae.lineWidth=Te.width,ae.lineDashes=Te.dash),"marker"in $){var Ae=i($);ae.scatterColor=t(ge,1,be),ae.scatterSize=x(ge.size,be,m,20,Ae),ae.scatterMarker=x(ge.symbol,be,v,"\u25cf"),ae.scatterLineWidth=ge.line.width,ae.scatterLineColor=t(ge.line,1,be),ae.scatterAngle=0}"textposition"in $&&(ae.textOffset=function(We){var Xe=[0,0];if(Array.isArray(We))for(var nt=0;nt<We.length;nt++)Xe[nt]=[0,0],We[nt]&&(Xe[nt][0]=b(We[nt]),Xe[nt][1]=p(We[nt]));else Xe[0]=b(We),Xe[1]=p(We);return Xe}($.textposition),ae.textColor=t($.textfont,1,be),ae.textSize=x($.textfont.size,be,d.identity,12),ae.textFontFamily=$.textfont.family,ae.textFontWeight=$.textfont.weight,ae.textFontStyle=$.textfont.style,ae.textFontVariant=$.textfont.variant,ae.textAngle=0);var Le=["x","y","z"];for(ae.project=[!1,!1,!1],ae.projectScale=[1,1,1],ae.projectOpacity=[1,1,1],te=0;te<3;++te){var Ve=$.projection[Le[te]];(ae.project[te]=Ve.show)&&(ae.projectOpacity[te]=Ve.opacity,ae.projectScale[te]=Ve.scale)}ae.errorBounds=l($,J,re);var Ne=function(We){for(var Xe=[0,0,0],nt=[[0,0,0],[0,0,0],[0,0,0]],dt=[1,1,1],ht=0;ht<3;ht++){var Mt=We[ht];Mt&&!1!==Mt.copy_zstyle&&!1!==We[2].visible&&(Mt=We[2]),Mt&&Mt.visible&&(Xe[ht]=Mt.width/2,nt[ht]=s(Mt.color),dt[ht]=Mt.thickness)}return{capSize:Xe,color:nt,lineWidth:dt}}([$.error_x,$.error_y,$.error_z]);return ae.errorColor=Ne.color,ae.errorLineWidth=Ne.lineWidth,ae.errorCapSize=Ne.capSize,ae.delaunayAxis=$.surfaceaxis,ae.delaunayColor=s($.surfacecolor),ae}(this.scene,f);"mode"in B&&(this.mode=B.mode),"lineDashes"in B&&B.lineDashes in n&&(O=n[B.lineDashes]),this.color=w(B.scatterColor)||w(B.lineColor),this.dataPoints=B.position,C={gl:this.scene.glplot.gl,position:B.position,color:B.lineColor,lineWidth:B.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:f.opacity,connectGaps:f.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(C):(this.linePlot=S(C),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var q=f.opacity;if(f.marker&&void 0!==f.marker.opacity&&(q*=f.marker.opacity),T={gl:this.scene.glplot.gl,position:B.position,color:B.scatterColor,size:B.scatterSize,glyph:B.scatterMarker,opacity:q,orthographic:!0,lineWidth:B.scatterLineWidth,lineColor:B.scatterLineColor,project:B.project,projectScale:B.projectScale,projectOpacity:B.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(T):(this.scatterPlot=A(T),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),R={gl:this.scene.glplot.gl,position:B.position,glyph:B.text,color:B.textColor,size:B.textSize,angle:B.textAngle,alignment:B.textOffset,font:B.textFontFamily,fontWeight:B.textFontWeight,fontStyle:B.textFontStyle,fontVariant:B.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:f.opacity},this.textLabels=f.hovertext||f.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(R):(this.textMarkers=A(R),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),D={gl:this.scene.glplot.gl,position:B.position,color:B.errorColor,error:B.errorBounds,lineWidth:B.errorLineWidth,capSize:B.errorCapSize,opacity:f.opacity},this.errorBars?B.errorBounds?this.errorBars.update(D):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):B.errorBounds&&(this.errorBars=a(D),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),B.delaunayAxis>=0){var N=function(H,$,j){var W,G=(j+1)%3,ae=(j+2)%3,te=[],Q=[];for(W=0;W<H.length;++W){var ee=H[W];!isNaN(ee[G])&&isFinite(ee[G])&&!isNaN(ee[ae])&&isFinite(ee[ae])&&(te.push([ee[G],ee[ae]]),Q.push(W))}var re=_(te);for(W=0;W<re.length;++W)for(var J=re[W],le=0;le<J.length;++le)J[le]=Q[J[le]];return{positions:H,cells:re,meshColor:$}}(B.position,B.delaunayColor,B.delaunayAxis);N.opacity=f.opacity,this.delaunayMesh?this.delaunayMesh.update(N):(N.gl=P,this.delaunayMesh=M(N),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ie.exports=function(f,C){var T=new h(f,C.uid);return T.update(C),T}},83484:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(43028),M=e(74428),_=e(66828),d=e(124),s=e(91592);ie.exports=function(t,i,n,r){function o(v,x){return A.coerce(t,i,s,v,x)}var v,x,y,w,f,C,T,D;if(v=t,x=i,w=r,f=0,C=(y=o)("x"),T=y("y"),D=y("z"),S.getComponentMethod("calendars","handleTraceDefaults")(v,x,["x","y","z"],w),C&&T&&D&&(f=Math.min(C.length,T.length,D.length),x._length=x._xlength=x._ylength=x._zlength=f),f){o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),a.hasMarkers(i)&&M(t,i,n,r,o,{noSelect:!0,noAngle:!0}),a.hasLines(i)&&(o("connectgaps"),_(t,i,n,r,o)),a.hasText(i)&&(o("texttemplate"),d(t,i,r,o,{noSelect:!0}));var l=(i.line||{}).color,h=(i.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",l||h);for(var c=["x","y","z"],b=0;b<3;++b){var p="projection."+c[b];o(p+".show")&&(o(p+".opacity"),o(p+".scale"))}var m=S.getComponentMethod("errorbars","supplyDefaults");m(t,i,l||h||n,{axis:"z"}),m(t,i,l||h||n,{axis:"y",inherit:"z"}),m(t,i,l||h||n,{axis:"x",inherit:"z"})}else i.visible=!1}},3296:function(ie,z,e){"use strict";ie.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(ie,z,e){"use strict";var S=e(98304),A=e(52904),a=e(45464),M=e(21776).Ks,_=e(21776).Gw,d=e(49084),s=e(92880).extendFlat,t=A.marker,i=A.line,n=t.line;ie.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:s({},A.mode,{dflt:"markers"}),text:s({},A.text,{}),texttemplate:_({editType:"plot"},{keys:["a","b","text"]}),hovertext:s({},A.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:s({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:A.connectgaps,fill:s({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S(),marker:s({symbol:t.symbol,opacity:t.opacity,maxdisplayed:t.maxdisplayed,angle:t.angle,angleref:t.angleref,standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:s({width:n.width,editType:"calc"},d("marker.line")),gradient:t.gradient,editType:"calc"},d("marker")),textfont:A.textfont,textposition:A.textposition,selected:A.selected,unselected:A.unselected,hoverinfo:s({},a.hoverinfo,{flags:["a","b","text","name"]}),hoveron:A.hoveron,hovertemplate:M(),zorder:A.zorder}},48228:function(ie,z,e){"use strict";var S=e(38248),A=e(90136),a=e(20148),M=e(4500),_=e(16356).calcMarkerSize,d=e(50948);ie.exports=function(s,t){var i=t._carpetTrace=d(s,t);if(i&&i.visible&&"legendonly"!==i.visible){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var r,o,u=t._length,l=new Array(u),h=!1;for(n=0;n<u;n++)if(o=t.b[n],S(r=t.a[n])&&S(o)){var c=i.ab2xy(+r,+o,!0),b=i.isVisible(+r,+o);b||(h=!0),l[n]={x:c[0],y:c[1],a:r,b:o,vis:b}}else l[n]={x:!1,y:!1};return t._needsCull=h,l[0].carpet=i,l[0].trace=t,_(t,u),A(s,t),a(l,t),M(l,t),l}}},6176:function(ie,z,e){"use strict";var S=e(3400),A=e(88200),a=e(43028),M=e(74428),_=e(66828),d=e(11731),s=e(124),t=e(70840),i=e(90372);ie.exports=function(n,r,o,u){function l(m,v){return S.coerce(n,r,i,m,v)}l("carpet"),r.xaxis="x",r.yaxis="y";var h=l("a"),c=l("b"),b=Math.min(h.length,c.length);if(b){r._length=b,l("text"),l("texttemplate"),l("hovertext"),l("mode",b<A.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&M(n,r,o,u,l,{gradient:!0}),a.hasLines(r)&&(_(n,r,o,u,l,{backoff:!0}),d(n,r,l),l("connectgaps")),a.hasText(r)&&s(n,r,u,l);var p=[];(a.hasMarkers(r)||a.hasText(r))&&(l("marker.maxdisplayed"),p.push("points")),l("fill"),"none"!==r.fill&&(t(n,r,o,l),a.hasLines(r)||d(n,r,l)),"tonext"!==r.fill&&"toself"!==r.fill||p.push("fills"),"fills"!==l("hoveron",p.join("+")||"points")&&l("hovertemplate"),l("zorder"),S.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},89307:function(ie){"use strict";ie.exports=function(z,e,S,A,a){var M=A[a];return z.a=M.a,z.b=M.b,z.y=M.y,z}},52364:function(ie){"use strict";ie.exports=function(z,e){var S={},A=e._carpet,a=A.ab2ij([z.a,z.b]),M=Math.floor(a[0]),_=a[0]-M,d=Math.floor(a[1]),t=A.evalxy([],M,d,_,a[1]-d);return S.yLabel=t[1].toFixed(3),S}},58960:function(ie,z,e){"use strict";var S=e(98723),A=e(3400).fillText;ie.exports=function(a,M,_,d){var s=S(a,M,_,d);if(s&&!1!==s[0].index){var t=s[0];if(void 0===t.index){var n=a.xa._length,r=n*(1-t.y0/a.ya._length)/2,o=n-r;return t.x0=Math.max(Math.min(t.x0,o),r),t.x1=Math.max(Math.min(t.x1,o),r),s}var u=t.cd[t.index];t.a=u.a,t.b=u.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var l=t.trace,h=l._carpet,c=l._module.formatLabels(u,l);t.yLabel=c.yLabel,delete t.text;var b=[];if(!l.hovertemplate){var p=(u.hi||l.hoverinfo).split("+");-1!==p.indexOf("all")&&(p=["a","b","text"]),-1!==p.indexOf("a")&&m(h.aaxis,u.a),-1!==p.indexOf("b")&&m(h.baxis,u.b),b.push("y: "+t.yLabel),-1!==p.indexOf("text")&&A(u,l,b),t.extraText=b.join("<br>")}return s}function m(v,x){var y;y=v.labelprefix&&v.labelprefix.length>0?v.labelprefix.replace(/ = $/,""):v._hovertitle,b.push(y+": "+x.toFixed(3)+v.labelsuffix)}}},4184:function(ie,z,e){"use strict";ie.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(ie,z,e){"use strict";var S=e(96504),A=e(54460),a=e(43616);ie.exports=function(M,_,d,s){var t,i,n,r=d[0][0].carpet,o=A.getFromId(M,r.xaxis||"x"),u=A.getFromId(M,r.yaxis||"y"),l={xaxis:o,yaxis:u,plot:_.plot};for(t=0;t<d.length;t++)(i=d[t][0].trace)._xA=o,i._yA=u;for(S(M,l,d,s),t=0;t<d.length;t++)n=s.selectAll("g.trace"+(i=d[t][0].trace).uid+" .js-line"),a.setClipUrl(n,d[t][0].carpet._clipPathId,M)}},6096:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(21776).Gw,a=e(98304),M=e(52904),_=e(45464),d=e(49084),s=e(98192).u,t=e(92880).extendFlat,i=e(67824).overrideAll,n=M.marker,r=M.line,o=n.line;ie.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:t({},M.mode,{dflt:"markers"}),text:t({},M.text,{}),texttemplate:A({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:t({},M.hovertext,{}),textfont:M.textfont,textposition:M.textposition,line:{color:r.color,width:r.width,dash:s},connectgaps:M.connectgaps,marker:t({symbol:n.symbol,opacity:n.opacity,angle:n.angle,angleref:t({},n.angleref,{values:["previous","up","north"]}),standoff:n.standoff,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,colorbar:n.colorbar,line:t({width:o.width},d("marker.line")),gradient:n.gradient},d("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a(),selected:M.selected,unselected:M.unselected,hoverinfo:t({},_.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:S()},"calc","nested")},25212:function(ie,z,e){"use strict";var S=e(38248),A=e(39032).BADNUM,a=e(90136),M=e(20148),_=e(4500),d=e(3400).isArrayOrTypedArray,s=e(3400)._;function t(i){return i&&"string"==typeof i}ie.exports=function(i,n){var r,o=d(n.locations),u=o?n.locations.length:n._length,l=new Array(u);r=n.geojson?function(v){return t(v)||S(v)}:t;for(var h=0;h<u;h++){var c=l[h]={};if(o){var b=n.locations[h];c.loc=r(b)?b:null}else{var p=n.lon[h],m=n.lat[h];c.lonlat=S(p)&&S(m)?[+p,+m]:[A,A]}}return M(l,n),a(i,n),_(l,n),u&&(l[0].t={labels:{lat:s(i,"lat:")+" ",lon:s(i,"lon:")+" "}}),l}},86188:function(ie,z,e){"use strict";var S=e(3400),A=e(43028),a=e(74428),M=e(66828),_=e(124),d=e(70840),s=e(6096);ie.exports=function(t,i,n,r){function o(m,v){return S.coerce(t,i,s,m,v)}var u,l=o("locations");if(l&&l.length){var h,c=o("geojson");("string"==typeof c&&""!==c||S.isPlainObject(c))&&(h="geojson-id"),"geojson-id"===o("locationmode",h)&&o("featureidkey"),u=l.length}else{var b=o("lon")||[],p=o("lat")||[];u=Math.min(b.length,p.length)}u?(i._length=u,o("text"),o("hovertext"),o("hovertemplate"),o("mode"),A.hasMarkers(i)&&a(t,i,n,r,o,{gradient:!0}),A.hasLines(i)&&(M(t,i,n,r,o),o("connectgaps")),A.hasText(i)&&(o("texttemplate"),_(t,i,r,o)),o("fill"),"none"!==i.fill&&d(t,i,n,o),S.coerceSelectionMarkerOpacity(i,o)):i.visible=!1}},58544:function(ie){"use strict";ie.exports=function(z,e,S,A,a){z.lon=e.lon,z.lat=e.lat,z.location=e.loc?e.loc:null;var M=A[a];return M.fIn&&M.fIn.properties&&(z.properties=M.fIn.properties),z}},56696:function(ie,z,e){"use strict";var S=e(54460);ie.exports=function(A,a,M){var _={},d=M[a.geo]._subplot.mockAxis,s=A.lonlat;return _.lonLabel=S.tickText(d,d.c2l(s[0]),!0).text,_.latLabel=S.tickText(d,d.c2l(s[1]),!0).text,_}},64292:function(ie,z,e){"use strict";var S=e(93024),A=e(39032).BADNUM,a=e(44928),M=e(3400).fillText,_=e(6096);ie.exports=function(d,s,t){var i=d.cd,n=i[0].trace,r=d.xa,o=d.ya,u=d.subplot,l=u.projection.isLonLatOverEdges,h=u.project;if(S.getClosest(i,function(y){var w=y.lonlat;if(w[0]===A||l(w))return 1/0;var f=h(w),C=h([s,t]),T=Math.abs(f[0]-C[0]),D=Math.abs(f[1]-C[1]),R=Math.max(3,y.mrc||0);return Math.max(Math.sqrt(T*T+D*D)-R,1-3/R)},d),!1!==d.index){var c=i[d.index],b=c.lonlat,p=[r.c2p(b),o.c2p(b)],m=c.mrc||1;d.x0=p[0]-m,d.x1=p[0]+m,d.y0=p[1]-m,d.y1=p[1]+m,d.loc=c.loc,d.lon=b[0],d.lat=b[1];var v={};v[n.geo]={_subplot:u};var x=n._module.formatLabels(c,n,v);return d.lonLabel=x.lonLabel,d.latLabel=x.latLabel,d.color=a(n,c),d.extraText=function(y,w,f,C){if(!y.hovertemplate){var T=w.hi||y.hoverinfo,D="all"===T?_.hoverinfo.flags:T.split("+"),R=-1!==D.indexOf("location")&&Array.isArray(y.locations),P=-1!==D.indexOf("lon"),O=-1!==D.indexOf("lat"),B=-1!==D.indexOf("text"),q=[];return R?q.push(w.loc):P&&O?q.push("("+N(f.latLabel)+", "+N(f.lonLabel)+")"):P?q.push(C.lon+N(f.lonLabel)):O&&q.push(C.lat+N(f.latLabel)),B&&M(w,y,q),q.join("<br>")}function N(H){return H+"\xb0"}}(n,c,d,i[0].t.labels),d.hovertemplate=n.hovertemplate,[d]}}},36952:function(ie,z,e){"use strict";ie.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(59972).getTopojsonFeatures,M=e(44808),_=e(27144),d=e(19280).findExtremes,s=e(39032).BADNUM,t=e(16356).calcMarkerSize,i=e(43028),n=e(25064);ie.exports={calcGeoJSON:function(r,o){var u,l,h=r[0].trace,c=o[h.geo],b=c._subplot,p=h._length;if(A.isArrayOrTypedArray(h.locations)){var m=h.locationmode,v="geojson-id"===m?_.extractTraceFeature(r):a(h,b.topojson);for(u=0;u<p;u++){l=r[u];var x="geojson-id"===m?l.fOut:_.locationToFeature(m,l.loc,v);l.lonlat=x?x.properties.ct:[s,s]}}var y,w,f={padded:!0};if("geojson"===c.fitbounds&&"geojson-id"===h.locationmode){var C=_.computeBbox(_.getTraceGeojson(h));y=[C[0],C[2]],w=[C[1],C[3]]}else{for(y=new Array(p),w=new Array(p),u=0;u<p;u++)y[u]=(l=r[u]).lonlat[0],w[u]=l.lonlat[1];f.ppad=t(h,p)}h._extremes.lon=d(c.lonaxis._ax,y,f),h._extremes.lat=d(c.lataxis._ax,w,f)},plot:function(r,o,u){var l=o.layers.frontplot.select(".scatterlayer"),h=A.makeTraceGroups(l,u,"trace scattergeo");function c(b,p){b.lonlat[0]===s&&S.select(p).remove()}h.selectAll("*").remove(),h.each(function(b){var p=S.select(this),m=b[0].trace;if(i.hasLines(m)||"none"!==m.fill){var v=M.calcTraceToLineCoords(b),x="none"!==m.fill?M.makePolygon(v):M.makeLine(v);p.selectAll("path.js-line").data([{geojson:x,trace:m}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(m)&&p.selectAll("path.point").data(A.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),i.hasText(m)&&p.selectAll("g").data(A.identity).enter().append("g").append("text").each(function(y){c(y,this)}),n(r,b)})}}},8796:function(ie,z,e){"use strict";var S=e(43028),A=e(39032).BADNUM;ie.exports=function(a,M){var _,d,s,t,i,n=a.cd,r=a.xaxis,o=a.yaxis,u=[],l=n[0].trace;if(!S.hasMarkers(l)&&!S.hasText(l))return[];if(!1===M)for(i=0;i<n.length;i++)n[i].selected=0;else for(i=0;i<n.length;i++)(d=(_=n[i]).lonlat)[0]!==A&&(s=r.c2p(d),t=o.c2p(d),M.contains([s,t],null,i,a)?(u.push({pointNumber:i,lon:d[0],lat:d[1]}),_.selected=1):_.selected=0);return u}},25064:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(76308),M=e(49224),_=M.stylePoints,d=M.styleText;ie.exports=function(s,t){var i,n,r,o;t&&(i=s,r=(n=t)[0].trace,(o=n[0].node3).style("opacity",n[0].trace.opacity),_(o,r,i),d(o,r,i),o.selectAll("path.js-line").style("fill","none").each(function(u){var l=S.select(this),h=u.trace,c=h.line||{};l.call(a.stroke,c.color).call(A.dashLine,c.dash||"",c.width||0),"none"!==h.fill&&l.call(a.fill,h.fillcolor)}))}},2876:function(ie,z,e){"use strict";var S=e(45464),A=e(25376),a=e(98304),M=e(52904),_=e(29736).axisHoverFormat,d=e(49084),s=e(95376),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(67072).DASHES,r=M.line,o=M.marker,u=o.line,l=ie.exports=i({x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),text:M.text,hovertext:M.hovertext,textposition:M.textposition,textfont:A({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:s(n),dflt:"solid"}},marker:t({},d("marker"),{symbol:o.symbol,angle:o.angle,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:o.opacity,colorbar:o.colorbar,line:t({},d("marker.line"),{width:u.width})}),connectgaps:M.connectgaps,fill:t({},M.fill,{dflt:"none"}),fillcolor:a(),selected:{marker:M.selected.marker,textfont:M.selected.textfont},unselected:{marker:M.unselected.marker,textfont:M.unselected.textfont},opacity:S.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=M.hovertemplate,l.texttemplate=M.texttemplate},64628:function(ie,z,e){"use strict";var S=e(41272);ie.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:S.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(ie,z,e){"use strict";var S=e(3108),A=e(3400),a=e(79811),M=e(19280).findExtremes,_=e(1220),d=e(16356),s=d.calcMarkerSize,t=d.calcAxisExpansion,i=d.setFirstScatter,n=e(90136),r=e(84236),o=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;function h(c,b,p){var m=c._extremes[b._id],v=M(b,p._bnds,{padded:!0});m.min=m.min.concat(v.min),m.max=m.max.concat(v.max)}ie.exports=function(c,b){var p,m=c._fullLayout,v=b._xA=a.getFromId(c,b.xaxis,"x"),x=b._yA=a.getFromId(c,b.yaxis,"y"),y=m._plots[b.xaxis+b.yaxis],w=b._length,f=w>=l,C=2*w,T={},D=v.makeCalcdata(b,"x"),R=x.makeCalcdata(b,"y"),P=_(b,v,"x",D),O=_(b,x,"y",R),B=P.vals,q=O.vals;b._x=B,b._y=q,b.xperiodalignment&&(b._origX=D,b._xStarts=P.starts,b._xEnds=P.ends),b.yperiodalignment&&(b._origY=R,b._yStarts=O.starts,b._yEnds=O.ends);var N=new Array(C),H=new Array(w);for(p=0;p<w;p++)N[2*p]=B[p]===u?NaN:B[p],N[2*p+1]=q[p]===u?NaN:q[p],H[p]=p;if("log"===v.type)for(p=0;p<C;p+=2)N[p]=v.c2l(N[p]);if("log"===x.type)for(p=1;p<C;p+=2)N[p]=x.c2l(N[p]);f&&"log"!==v.type&&"log"!==x.type?T.tree=S(N):T.ids=H,n(c,b);var $,j=function(G,ae,te,Q,ee,re){var J=r.style(G,te);if(J.marker&&(J.marker.positions=Q),J.line&&Q.length>1&&A.extendFlat(J.line,r.linePositions(G,te,Q)),J.errorX||J.errorY){var le=r.errorBarPositions(G,te,Q,ee,re);J.errorX&&A.extendFlat(J.errorX,le.x),J.errorY&&A.extendFlat(J.errorY,le.y)}return J.text&&(A.extendFlat(J.text,{positions:Q},r.textPosition(G,te,J.text,J.marker)),A.extendFlat(J.textSel,{positions:Q},r.textPosition(G,te,J.text,J.markerSel)),A.extendFlat(J.textUnsel,{positions:Q},r.textPosition(G,te,J.text,J.markerUnsel))),J}(c,0,b,N,B,q),W=o(c,y);return i(m,b),f?j.marker&&($=j.marker.sizeAvg||Math.max(j.marker.size,3)):$=s(b,w),t(c,b,v,x,B,q,$),j.errorX&&h(b,v,j.errorX),j.errorY&&h(b,x,j.errorY),j.fill&&!W.fill2d&&(W.fill2d=!0),j.marker&&!W.scatter2d&&(W.scatter2d=!0),j.line&&!W.line2d&&(W.line2d=!0),!j.errorX&&!j.errorY||W.error2d||(W.error2d=!0),j.text&&!W.glText&&(W.glText=!0),j.marker&&(j.marker.snap=w),W.lineOptions.push(j.line),W.errorXOptions.push(j.errorX),W.errorYOptions.push(j.errorY),W.fillOptions.push(j.fill),W.markerOptions.push(j.marker),W.markerSelectedOptions.push(j.markerSel),W.markerUnselectedOptions.push(j.markerUnsel),W.textOptions.push(j.text),W.textSelectedOptions.push(j.textSel),W.textUnselectedOptions.push(j.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),T._scene=W,T.index=W.count,T.x=B,T.y=q,T.positions=N,W.count++,[{x:!1,y:!1,t:T,trace:b}]}},67072:function(ie){"use strict";ie.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(ie,z,e){"use strict";var S=e(38248),A=e(20472),a=e(72160),M=e(24040),_=e(3400),d=_.isArrayOrTypedArray,s=e(43616),t=e(79811),i=e(33040).formatColor,n=e(43028),r=e(7152),o=e(80088),u=e(67072),l=e(13448).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function b(R,P){var O,B=R._fullLayout,q=P._length,N=P.textfont,H=P.textposition,$=d(H)?H:[H],j=N.color,W=N.size,G=N.family,ae=N.weight,te=N.style,Q=N.variant,ee={},re=R._context.plotGlPixelRatio,J=P.texttemplate;if(J){ee.text=[];var le=B._d3locale,fe=Array.isArray(J),ce=fe?Math.min(J.length,q):q,ge=fe?function(Se){return J[Se]}:function(){return J};for(O=0;O<ce;O++){var Te={i:O},Me=P._module.formatLabels(Te,P,B),we={};c(we,P,O);var xe=P._meta||{};ee.text.push(_.texttemplateString(ge(O),Me,le,we,Te,xe))}}else ee.text=d(P.text)&&P.text.length<q?P.text.slice():P.text;if(d(ee.text))for(O=ee.text.length;O<q;O++)ee.text[O]="";for(ee.opacity=P.opacity,ee.font={},ee.align=[],ee.baseline=[],O=0;O<$.length;O++){var be=$[O].split(/\s+/);switch(be[1]){case"left":ee.align.push("right");break;case"right":ee.align.push("left");break;default:ee.align.push(be[1])}switch(be[0]){case"top":ee.baseline.push("bottom");break;case"bottom":ee.baseline.push("top");break;default:ee.baseline.push(be[0])}}if(d(j))for(ee.color=new Array(q),O=0;O<q;O++)ee.color[O]=j[O];else ee.color=j;if(d(W)||Array.isArray(G)||Array.isArray(ae)||Array.isArray(te)||Array.isArray(Q))for(ee.font=new Array(q),O=0;O<q;O++){var ye=ee.font[O]={};ye.size=(_.isTypedArray(W)?W[O]:d(W)?S(W[O])?W[O]:0:W)*re,ye.family=Array.isArray(G)?G[O]:G,ye.weight=Array.isArray(ae)?ae[O]:ae,ye.style=Array.isArray(te)?te[O]:te,ye.variant=Array.isArray(Q)?Q[O]:Q}else ee.font={size:W*re,family:G,weight:ae,style:te,variant:Q};return ee}function p(R,P){var O,B,q=P._length,N=P.marker,H={},$=d(N.symbol),j=d(N.angle),W=d(N.color),G=d(N.line.color),ae=d(N.opacity),te=d(N.size),Q=d(N.line.width);if($||(B=o.isOpenSymbol(N.symbol)),$||W||G||ae||j){H.symbols=new Array(q),H.angles=new Array(q),H.colors=new Array(q),H.borderColors=new Array(q);var ee=N.symbol,re=N.angle,J=i(N,N.opacity,q),le=i(N.line,N.opacity,q);if(!d(le[0])){var fe=le;for(le=Array(q),O=0;O<q;O++)le[O]=fe}if(!d(J[0])){var ce=J;for(J=Array(q),O=0;O<q;O++)J[O]=ce}if(!d(ee)){var ge=ee;for(ee=Array(q),O=0;O<q;O++)ee[O]=ge}if(!d(re)){var Te=re;for(re=Array(q),O=0;O<q;O++)re[O]=Te}for(H.symbols=ee,H.angles=re,H.colors=J,H.borderColors=le,O=0;O<q;O++)$&&(B=o.isOpenSymbol(N.symbol[O])),B&&(le[O]=J[O].slice(),J[O]=J[O].slice(),J[O][3]=0);for(H.opacity=P.opacity,H.markers=new Array(q),O=0;O<q;O++)H.markers[O]=D({mx:H.symbols[O],ma:H.angles[O]},P)}else B?(H.color=a(N.color,"uint8"),H.color[3]=0,H.borderColor=a(N.color,"uint8")):(H.color=a(N.color,"uint8"),H.borderColor=a(N.line.color,"uint8")),H.opacity=P.opacity*N.opacity,H.marker=D({mx:N.symbol,ma:N.angle},P);var Me,we=r(P,1);if(te||Q){var xe,be=H.sizes=new Array(q),ye=H.borderSizes=new Array(q),Se=0;if(te){for(O=0;O<q;O++)be[O]=we(N.size[O]),Se+=be[O];xe=Se/q}else for(Me=we(N.size),O=0;O<q;O++)be[O]=Me;if(Q)for(O=0;O<q;O++)ye[O]=N.line.width[O];else for(Me=N.line.width,O=0;O<q;O++)ye[O]=Me;H.sizeAvg=xe}else H.size=we(N&&N.size||10),H.borderSizes=we(N.line.width);return H}function m(R,P,O){var q={};return O&&(O.marker&&O.marker.symbol?q=p(0,_.extendFlat({},P.marker,O.marker)):O.marker&&(O.marker.size&&(q.size=O.marker.size),O.marker.color&&(q.colors=O.marker.color),void 0!==O.marker.opacity&&(q.opacity=O.marker.opacity))),q}function v(R,P,O){var B={};if(!O)return B;if(O.textfont){var q={opacity:1,text:P.text,texttemplate:P.texttemplate,textposition:P.textposition,textfont:_.extendFlat({},P.textfont)};O.textfont&&_.extendFlat(q.textfont,O.textfont),B=b(R,q)}return B}function x(R,P,O){var B={capSize:2*P.width*O,lineWidth:P.thickness*O,color:P.color};return P.copy_ystyle&&(B=R.error_y),B}var y=u.SYMBOL_SDF_SIZE,w=u.SYMBOL_SIZE,f=u.SYMBOL_STROKE,C={},T=s.symbolFuncs[0](.05*w);function D(R,P){var O,B,q=R.mx;if("circle"===q)return null;var N=s.symbolNumber(q),H=s.symbolFuncs[N%100],$=!!s.symbolNoDot[N%100],j=!!s.symbolNoFill[N%100],W=o.isDotSymbol(q);if(R.ma&&(q+="_"+R.ma),C[q])return C[q];var G=s.getMarkerAngle(R,P);return O=W&&!$?H(1.1*w,G)+T:H(w,G),B=A(O,{w:y,h:y,viewBox:[-w,-w,w,w],stroke:j?f:-f}),C[q]=B,B||null}ie.exports={style:function(R,P){var O,B={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},q=R._context.plotGlPixelRatio;if(!0!==P.visible)return B;if(n.hasText(P)&&(B.text=b(R,P),B.textSel=v(R,P,P.selected),B.textUnsel=v(R,P,P.unselected)),n.hasMarkers(P)&&(B.marker=p(0,P),B.markerSel=m(0,P,P.selected),B.markerUnsel=m(0,P,P.unselected),!P.unselected&&d(P.marker.opacity))){var N=P.marker.opacity;for(B.markerUnsel.opacity=new Array(N.length),O=0;O<N.length;O++)B.markerUnsel.opacity[O]=l*N[O]}if(n.hasLines(P)){B.line={overlay:!0,thickness:P.line.width*q,color:P.line.color,opacity:P.opacity};var H=(u.DASHES[P.line.dash]||[1]).slice();for(O=0;O<H.length;++O)H[O]*=P.line.width*q;B.line.dashes=H}return P.error_x&&P.error_x.visible&&(B.errorX=x(P,P.error_x,q)),P.error_y&&P.error_y.visible&&(B.errorY=x(P,P.error_y,q)),P.fill&&"none"!==P.fill&&(B.fill={closed:!0,fill:P.fillcolor,thickness:0}),B},markerStyle:p,markerSelection:m,linePositions:function(R,P,O){var B,q,N=O.length,H=N/2;if(n.hasLines(P)&&H)if("hv"===P.line.shape){for(B=[],q=0;q<H-1;q++)isNaN(O[2*q])||isNaN(O[2*q+1])?B.push(NaN,NaN,NaN,NaN):(B.push(O[2*q],O[2*q+1]),isNaN(O[2*q+2])||isNaN(O[2*q+3])?B.push(NaN,NaN):B.push(O[2*q+2],O[2*q+1]));B.push(O[N-2],O[N-1])}else if("hvh"===P.line.shape){for(B=[],q=0;q<H-1;q++)if(isNaN(O[2*q])||isNaN(O[2*q+1])||isNaN(O[2*q+2])||isNaN(O[2*q+3]))isNaN(O[2*q])||isNaN(O[2*q+1])?B.push(NaN,NaN):B.push(O[2*q],O[2*q+1]),B.push(NaN,NaN);else{var $=(O[2*q]+O[2*q+2])/2;B.push(O[2*q],O[2*q+1],$,O[2*q+1],$,O[2*q+3])}B.push(O[N-2],O[N-1])}else if("vhv"===P.line.shape){for(B=[],q=0;q<H-1;q++)if(isNaN(O[2*q])||isNaN(O[2*q+1])||isNaN(O[2*q+2])||isNaN(O[2*q+3]))isNaN(O[2*q])||isNaN(O[2*q+1])?B.push(NaN,NaN):B.push(O[2*q],O[2*q+1]),B.push(NaN,NaN);else{var j=(O[2*q+1]+O[2*q+3])/2;B.push(O[2*q],O[2*q+1],O[2*q],j,O[2*q+2],j)}B.push(O[N-2],O[N-1])}else if("vh"===P.line.shape){for(B=[],q=0;q<H-1;q++)isNaN(O[2*q])||isNaN(O[2*q+1])?B.push(NaN,NaN,NaN,NaN):(B.push(O[2*q],O[2*q+1]),isNaN(O[2*q+2])||isNaN(O[2*q+3])?B.push(NaN,NaN):B.push(O[2*q],O[2*q+3]));B.push(O[N-2],O[N-1])}else B=O;var W=!1;for(q=0;q<B.length;q++)if(isNaN(B[q])){W=!0;break}var G=W||B.length>u.TOO_MANY_POINTS||n.hasMarkers(P)?"rect":"round";if(W&&P.connectgaps){var ae=B[0],te=B[1];for(q=0;q<B.length;q+=2)isNaN(B[q])||isNaN(B[q+1])?(B[q]=ae,B[q+1]=te):(ae=B[q],te=B[q+1])}return{join:G,positions:B}},errorBarPositions:function(R,P,O,B,q){var N=M.getComponentMethod("errorbars","makeComputeError"),H=t.getFromId(R,P.xaxis,"x"),$=t.getFromId(R,P.yaxis,"y"),j=O.length/2,W={};function G(ae,te){var Q=te._id.charAt(0),ee=P["error_"+Q];if(ee&&ee.visible&&("linear"===te.type||"log"===te.type)){for(var re=N(ee),J={x:0,y:1}[Q],le={x:[0,1,2,3],y:[2,3,0,1]}[Q],fe=new Float64Array(4*j),ce=1/0,ge=-1/0,Te=0,Me=0;Te<j;Te++,Me+=4){var we=ae[Te];if(S(we)){var xe=O[2*Te+J],be=re(we,Te),ye=be[0],Se=be[1];if(S(ye)&&S(Se)){var he=we+Se;fe[Me+le[0]]=xe-te.c2l(we-ye),fe[Me+le[1]]=te.c2l(he)-xe,fe[Me+le[2]]=0,fe[Me+le[3]]=0,ce=Math.min(ce,we-ye),ge=Math.max(ge,we+Se)}}}W[Q]={positions:O,errors:fe,_bnds:[ce,ge]}}}return G(B,H),G(q,$),W},textPosition:function(R,P,O,B){var q,N=P._length,H={};if(n.hasMarkers(P)){var $=O.font,j=O.align,W=O.baseline;for(H.offset=new Array(N),q=0;q<N;q++){var G=B.sizes?B.sizes[q]:B.size,ae=d($)?$[q].size:$.size,te=d(j)?j.length>1?j[q]:j[0]:j,Q=d(W)?W.length>1?W[q]:W[0]:W,re=h[Q],J=G?G/.8+1:0;H.offset[q]=[h[te]*J/ae,(-re*J-.5*re)/ae]}}return H}}},80220:function(ie,z,e){"use strict";var S=e(3400),A=e(24040),a=e(80088),M=e(2876),_=e(88200),d=e(43028),s=e(43980),t=e(31147),i=e(74428),n=e(66828),r=e(70840),o=e(124);ie.exports=function(u,l,h,c){function b(C,T){return S.coerce(u,l,M,C,T)}var p=!!u.marker&&a.isOpenSymbol(u.marker.symbol),m=d.isBubble(u),v=s(u,l,c,b);if(v){t(u,l,c,b),b("xhoverformat"),b("yhoverformat");var x=v<_.PTS_LINESONLY?"lines+markers":"lines";b("text"),b("hovertext"),b("hovertemplate"),b("mode",x),d.hasMarkers(l)&&(i(u,l,h,c,b,{noAngleRef:!0,noStandOff:!0}),b("marker.line.width",p||m?1:0)),d.hasLines(l)&&(b("connectgaps"),n(u,l,h,c,b),b("line.shape")),d.hasText(l)&&(b("texttemplate"),o(u,l,c,b));var y=(l.line||{}).color,w=(l.marker||{}).color;b("fill"),"none"!==l.fill&&r(u,l,h,b);var f=A.getComponentMethod("errorbars","supplyDefaults");f(u,l,y||w||h,{axis:"y"}),f(u,l,y||w||h,{axis:"x",inherit:"y"}),S.coerceSelectionMarkerOpacity(l,b)}else l.visible=!1}},26768:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(13448).DESELECTDIM;ie.exports={styleTextSelection:function(M){var _,d,s=M[0],t=s.trace,i=s.t,n=i._scene,r=i.index,o=n.selectBatch[r],u=n.unselectBatch[r],l=n.textOptions[r],h=n.textSelectedOptions[r]||{},c=n.textUnselectedOptions[r]||{},b=S.extendFlat({},l);if(o.length||u.length){var p=h.color,m=c.color,v=l.color,x=S.isArrayOrTypedArray(v);for(b.color=new Array(t._length),_=0;_<o.length;_++)b.color[d=o[_]]=p||(x?v[d]:v);for(_=0;_<u.length;_++){d=u[_];var y=x?v[d]:v;b.color[d]=m||(p?y:A.addOpacity(y,a))}}n.glText[r].update(b)}}},99396:function(ie,z,e){"use strict";var S=e(76688);ie.exports=function(A,a,M){var _=A.i;return"x"in A||(A.x=a._x[_]),"y"in A||(A.y=a._y[_]),S(A,a,M)}},80088:function(ie,z,e){"use strict";var S=e(67072);z.isOpenSymbol=function(A){return"string"==typeof A?S.OPEN_RE.test(A):A%200>100},z.isDotSymbol=function(A){return"string"==typeof A?S.DOT_RE.test(A):A>200}},41272:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(44928);function M(_,d,s,t){var i=_.xa,n=_.ya,r=_.distance,o=_.dxy,u=_.index,l={pointNumber:u,x:d[u],y:s[u]};l.tx=A.isArrayOrTypedArray(t.text)?t.text[u]:t.text,l.htx=Array.isArray(t.hovertext)?t.hovertext[u]:t.hovertext,l.data=Array.isArray(t.customdata)?t.customdata[u]:t.customdata,l.tp=Array.isArray(t.textposition)?t.textposition[u]:t.textposition;var h=t.textfont;h&&(l.ts=A.isArrayOrTypedArray(h.size)?h.size[u]:h.size,l.tc=A.isArrayOrTypedArray(h.color)?h.color[u]:h.color,l.tf=Array.isArray(h.family)?h.family[u]:h.family,l.tw=Array.isArray(h.weight)?h.weight[u]:h.weight,l.ty=Array.isArray(h.style)?h.style[u]:h.style,l.tv=Array.isArray(h.variant)?h.variant[u]:h.variant);var c=t.marker;c&&(l.ms=A.isArrayOrTypedArray(c.size)?c.size[u]:c.size,l.mo=A.isArrayOrTypedArray(c.opacity)?c.opacity[u]:c.opacity,l.mx=A.isArrayOrTypedArray(c.symbol)?c.symbol[u]:c.symbol,l.ma=A.isArrayOrTypedArray(c.angle)?c.angle[u]:c.angle,l.mc=A.isArrayOrTypedArray(c.color)?c.color[u]:c.color);var b=c&&c.line;b&&(l.mlc=Array.isArray(b.color)?b.color[u]:b.color,l.mlw=A.isArrayOrTypedArray(b.width)?b.width[u]:b.width);var p=c&&c.gradient;p&&"none"!==p.type&&(l.mgt=Array.isArray(p.type)?p.type[u]:p.type,l.mgc=Array.isArray(p.color)?p.color[u]:p.color);var m=i.c2p(l.x,!0),v=n.c2p(l.y,!0),x=l.mrc||1,y=t.hoverlabel;y&&(l.hbg=Array.isArray(y.bgcolor)?y.bgcolor[u]:y.bgcolor,l.hbc=Array.isArray(y.bordercolor)?y.bordercolor[u]:y.bordercolor,l.hts=A.isArrayOrTypedArray(y.font.size)?y.font.size[u]:y.font.size,l.htc=Array.isArray(y.font.color)?y.font.color[u]:y.font.color,l.htf=Array.isArray(y.font.family)?y.font.family[u]:y.font.family,l.hnl=A.isArrayOrTypedArray(y.namelength)?y.namelength[u]:y.namelength);var w=t.hoverinfo;w&&(l.hi=Array.isArray(w)?w[u]:w);var f=t.hovertemplate;f&&(l.ht=Array.isArray(f)?f[u]:f);var C={};C[_.index]=l;var T=t._origX,D=t._origY,R=A.extendFlat({},_,{color:a(t,l),x0:m-x,x1:m+x,xLabelVal:T?T[u]:l.x,y0:v-x,y1:v+x,yLabelVal:D?D[u]:l.y,cd:C,distance:r,spikeDistance:o,hovertemplate:l.ht});return l.htx?R.text=l.htx:l.tx?R.text=l.tx:t.text&&(R.text=t.text),A.fillText(l,t,R),S.getComponentMethod("errorbars","hoverInfo")(l,t,R),R}ie.exports={hoverPoints:function(_,d,s,t){var i,n,r,o,u,l,h,c,b,p,m=_.cd,v=m[0].t,x=m[0].trace,y=_.xa,w=_.ya,f=v.x,C=v.y,T=y.c2p(d),D=w.c2p(s),R=_.distance;if(v.tree){var P=y.p2c(T-R),O=y.p2c(T+R),B=w.p2c(D-R),q=w.p2c(D+R);i="x"===t?v.tree.range(Math.min(P,O),Math.min(w._rl[0],w._rl[1]),Math.max(P,O),Math.max(w._rl[0],w._rl[1])):v.tree.range(Math.min(P,O),Math.min(B,q),Math.max(P,O),Math.max(B,q))}else i=v.ids;var N=R;if("x"===t){var H=!!x.xperiodalignment,$=!!x.yperiodalignment;for(l=0;l<i.length;l++){if(o=f[n=i[l]],h=Math.abs(y.c2p(o)-T),H){var j=y.c2p(x._xStarts[n]),W=y.c2p(x._xEnds[n]);h=T>=Math.min(j,W)&&T<=Math.max(j,W)?0:1/0}if(h<N){if(N=h,c=w.c2p(u=C[n])-D,$){var G=w.c2p(x._yStarts[n]),ae=w.c2p(x._yEnds[n]);c=D>=Math.min(G,ae)&&D<=Math.max(G,ae)?0:1/0}p=Math.sqrt(h*h+c*c),r=i[l]}}}else for(l=i.length-1;l>-1;l--)o=f[n=i[l]],u=C[n],h=y.c2p(o)-T,c=w.c2p(u)-D,(b=Math.sqrt(h*h+c*c))<N&&(N=p=b,r=n);return _.index=r,_.distance=N,_.dxy=p,void 0===r?[_]:[M(_,f,C,x)]},calcHover:M}},38983:function(ie,z,e){"use strict";var S=e(64628);S.plot=e(89876),ie.exports=S},89876:function(ie,z,e){"use strict";var S=e(38540),A=e(13472),a=e(24544),M=e(23352),_=e(3400),d=e(72760).selectMode,s=e(5048),t=e(43028),i=e(14328),n=e(26768).styleTextSelection,r={};function o(u,l,h,c){var b=u._size,f=b.w*c,C=b.h*c;return[b.l*c+l.domain[0]*f,b.b*c+h.domain[0]*C,u.width*c-b.r*c-(1-l.domain[1])*f,u.height*c-b.t*c-(1-h.domain[1])*C]}(ie.exports=function(u,l,h){if(h.length){var c,b,p=u._fullLayout,m=l._scene,v=l.xaxis,x=l.yaxis;if(m)if(s(u,["ANGLE_instanced_arrays","OES_element_index_uint"],r)){var y=m.count,w=p._glcanvas.data()[0].regl;if(i(u,l,h),m.dirty){if(!m.line2d&&!m.error2d||m.scatter2d||m.fill2d||m.glText||w.clear({}),!0===m.error2d&&(m.error2d=a(w)),!0===m.line2d&&(m.line2d=A(w)),!0===m.scatter2d&&(m.scatter2d=S(w)),!0===m.fill2d&&(m.fill2d=A(w)),!0===m.glText)for(m.glText=new Array(y),c=0;c<y;c++)m.glText[c]=new M(w);if(m.glText){if(y>m.glText.length){var f=y-m.glText.length;for(c=0;c<f;c++)m.glText.push(new M(w))}else y<m.glText.length&&m.glText.splice(y,m.glText.length-y).forEach(function(le){le.destroy()});for(c=0;c<y;c++)m.glText[c].update(m.textOptions[c])}if(m.line2d&&(m.line2d.update(m.lineOptions),m.lineOptions=m.lineOptions.map(function(le){if(le&&le.positions){for(var fe=le.positions,ce=0;ce<fe.length&&(isNaN(fe[ce])||isNaN(fe[ce+1]));)ce+=2;for(var ge=fe.length-2;ge>ce&&(isNaN(fe[ge])||isNaN(fe[ge+1]));)ge-=2;le.positions=fe.slice(ce,ge+2)}return le}),m.line2d.update(m.lineOptions)),m.error2d){var T=(m.errorXOptions||[]).concat(m.errorYOptions||[]);m.error2d.update(T)}m.scatter2d&&m.scatter2d.update(m.markerOptions),m.fillOrder=_.repeat(null,y),m.fill2d&&(m.fillOptions=m.fillOptions.map(function(le,fe){var ce=h[fe];if(le&&ce&&ce[0]&&ce[0].trace){var ge,Te,Me=ce[0],we=Me.trace,xe=Me.t,be=m.lineOptions[fe],ye=[];we._ownfill&&ye.push(fe),we._nexttrace&&ye.push(fe+1),ye.length&&(m.fillOrder[fe]=ye);var Se,Ee,he=[],ue=be&&be.positions||xe.positions;if("tozeroy"===we.fill){for(Se=0;Se<ue.length&&isNaN(ue[Se+1]);)Se+=2;for(Ee=ue.length-2;Ee>Se&&isNaN(ue[Ee+1]);)Ee-=2;0!==ue[Se+1]&&(he=[ue[Se],0]),he=he.concat(ue.slice(Se,Ee+2)),0!==ue[Ee+1]&&(he=he.concat([ue[Ee],0]))}else if("tozerox"===we.fill){for(Se=0;Se<ue.length&&isNaN(ue[Se]);)Se+=2;for(Ee=ue.length-2;Ee>Se&&isNaN(ue[Ee]);)Ee-=2;0!==ue[Se]&&(he=[0,ue[Se+1]]),he=he.concat(ue.slice(Se,Ee+2)),0!==ue[Ee]&&(he=he.concat([0,ue[Ee+1]]))}else if("toself"===we.fill||"tonext"===we.fill){for(he=[],ge=0,le.splitNull=!0,Te=0;Te<ue.length;Te+=2)(isNaN(ue[Te])||isNaN(ue[Te+1]))&&((he=he.concat(ue.slice(ge,Te))).push(ue[ge],ue[ge+1]),he.push(null,null),ge=Te+2);he=he.concat(ue.slice(ge)),ge&&he.push(ue[ge],ue[ge+1])}else{var me=we._nexttrace;if(me){var Pe=m.lineOptions[fe+1];if(Pe){var Ce=Pe.positions;if("tonexty"===we.fill){for(he=ue.slice(),fe=Math.floor(Ce.length/2);fe--;){var Ie=Ce[2*fe],Oe=Ce[2*fe+1];isNaN(Ie)||isNaN(Oe)||he.push(Ie,Oe)}le.fill=me.fillcolor}}}}if(we._prevtrace&&"tonext"===we._prevtrace.fill){var ze=m.lineOptions[fe-1].positions,je=he.length/2,ve=[ge=je];for(Te=0;Te<ze.length;Te+=2)(isNaN(ze[Te])||isNaN(ze[Te+1]))&&(ve.push(Te/2+je+1),ge=Te+2);he=he.concat(ze),le.hole=ve}return le.fillmode=we.fill,le.opacity=we.opacity,le.positions=he,le}}),m.fill2d.update(m.fillOptions))}var R=d(p.dragmode),P=p.clickmode.indexOf("select")>-1;for(c=0;c<y;c++){var O=h[c][0],B=O.trace,q=O.t,N=q.index,H=B._length,$=q.x,j=q.y;if(B.selectedpoints||R||P){if(R||(R=!0),B.selectedpoints){var W=m.selectBatch[N]=_.selIndices2selPoints(B),G={};for(b=0;b<W.length;b++)G[W[b]]=1;var ae=[];for(b=0;b<H;b++)G[b]||ae.push(b);m.unselectBatch[N]=ae}var te=q.xpx=new Array(H),Q=q.ypx=new Array(H);for(b=0;b<H;b++)te[b]=v.c2p($[b]),Q[b]=x.c2p(j[b])}else q.xpx=q.ypx=null}if(R){if(m.select2d||(m.select2d=S(p._glcanvas.data()[1].regl)),m.scatter2d){var ee=new Array(y);for(c=0;c<y;c++)ee[c]=m.selectBatch[c].length||m.unselectBatch[c].length?m.markerUnselectedOptions[c]:{};m.scatter2d.update(ee)}m.select2d&&(m.select2d.update(m.markerOptions),m.select2d.update(m.markerSelectedOptions)),m.glText&&h.forEach(function(le){t.hasText(((le||[])[0]||{}).trace||{})&&n(le)})}else m.scatter2d&&m.scatter2d.update(m.markerOptions);var re={viewport:o(p,v,x,u._context.plotGlPixelRatio),range:[(v._rl||v.range)[0],(x._rl||x.range)[0],(v._rl||v.range)[1],(x._rl||x.range)[1]]},J=_.repeat(re,m.count);m.fill2d&&m.fill2d.update(J),m.line2d&&m.line2d.update(J),m.error2d&&m.error2d.update(J.concat(J)),m.scatter2d&&m.scatter2d.update(J),m.select2d&&m.select2d.update(J),m.glText&&m.glText.forEach(function(le){le.update(re)})}else m.init()}}).reglPrecompiled=r},74588:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){var M=a._scene,_={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return a._scene||((M=a._scene={}).init=function(){S.extendFlat(M,d,_)},M.init(),M.update=function(s){var t=S.repeat(s,M.count);if(M.fill2d&&M.fill2d.update(t),M.scatter2d&&M.scatter2d.update(t),M.line2d&&M.line2d.update(t),M.error2d&&M.error2d.update(t.concat(t)),M.select2d&&M.select2d.update(t),M.glText)for(var i=0;i<M.count;i++)M.glText[i].update(s)},M.draw=function(){for(var s=M.count,t=M.fill2d,i=M.error2d,n=M.line2d,r=M.scatter2d,o=M.glText,u=M.select2d,l=M.selectBatch,h=M.unselectBatch,c=0;c<s;c++){if(t&&M.fillOrder[c]&&t.draw(M.fillOrder[c]),n&&M.lineOptions[c]&&n.draw(c),i&&(M.errorXOptions[c]&&i.draw(c),M.errorYOptions[c]&&i.draw(c+s)),r&&M.markerOptions[c])if(h[c].length){var b=S.repeat([],M.count);b[c]=h[c],r.draw(b)}else l[c].length||r.draw(c);o[c]&&M.textOptions[c]&&o[c].render()}u&&u.draw(l),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(s){s.destroy&&s.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,a._scene=null}),M.dirty||S.extendFlat(M,_),M}},73224:function(ie,z,e){"use strict";var S=e(43028),A=e(26768).styleTextSelection;ie.exports=function(a,M){var _=a.cd,d=a.xaxis,s=a.yaxis,t=[],i=_[0].trace,n=_[0].t,r=i._length,o=n.x,u=n.y,l=n._scene,h=n.index;if(!l)return t;var c=S.hasText(i),b=S.hasMarkers(i);if(!0!==i.visible||!b&&!c)return t;var m=[],v=[];if(!1!==M&&!M.degenerate)for(var x=0;x<r;x++)M.contains([n.xpx[x],n.ypx[x]],!1,x,a)?(m.push(x),t.push({pointNumber:x,x:d.c2d(o[x]),y:s.c2d(u[x])})):v.push(x);if(b){var y=l.scatter2d;if(m.length||v.length){if(!l.selectBatch[h].length&&!l.unselectBatch[h].length){var w=new Array(l.count);w[h]=l.markerUnselectedOptions[h],y.update.apply(y,w)}}else{var f=new Array(l.count);f[h]=l.markerOptions[h],y.update.apply(y,f)}}return l.selectBatch[h]=m,l.unselectBatch[h]=v,c&&A(_),t}},31512:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(21776).Gw,a=e(98304),M=e(6096),_=e(52904),d=e(5232),s=e(45464),t=e(49084),i=e(92880).extendFlat,n=e(67824).overrideAll,r=e(5232),o=M.line,u=M.marker;ie.exports=n({lon:M.lon,lat:M.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},r.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},u.opacity,{dflt:1})},mode:i({},_.mode,{dflt:"markers"}),text:i({},_.text,{}),texttemplate:A({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},_.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:_.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},t("marker")),fill:M.fill,fillcolor:a(),textfont:d.layers.symbol.textfont,textposition:d.layers.symbol.textposition,below:{valType:"string"},selected:{marker:_.selected.marker},unselected:{marker:_.unselected.marker},hoverinfo:i({},s.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:S()},"calc","nested")},59392:function(ie,z,e){"use strict";var S=e(38248),A=e(3400),a=e(39032).BADNUM,M=e(44808),_=e(8932),d=e(43616),s=e(7152),t=e(43028),i=e(89032),n=e(10624).appendArrayPointValue,r=e(72736).NEWLINES,o=e(72736).BR_TAG_ALL;function u(m){return{type:m,geojson:M.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(m,v){return A.isArrayOrTypedArray(m)?v?function(x){return S(m[x])?+m[x]:0}:function(x){return m[x]}:m?function(){return m}:h}function h(){return""}function c(m){return m[0]===a}function b(m,v){var x;if(A.isArrayOrTypedArray(m)&&A.isArrayOrTypedArray(v)){x=["step",["get","point_count"],m[0]];for(var y=1;y<m.length;y++)x.push(v[y-1],m[y])}else x=m;return x}function p(m){var v=m.textfont,x="";"bold"===v.weight&&(x+=" Bold"),"italic"===v.style&&(x+=" Italic");var y=v.family;return x&&(y=y.replace(" Regular",x)),y.split(", ")}ie.exports=function(m,v){var x,y=v[0].trace,w=!0===y.visible&&0!==y._length,f="none"!==y.fill,C=t.hasLines(y),T=t.hasMarkers(y),D=t.hasText(y),R=T&&"circle"===y.marker.symbol,P=T&&"circle"!==y.marker.symbol,O=y.cluster&&y.cluster.enabled,B=u("fill"),q=u("line"),N=u("circle"),H=u("symbol"),$={fill:B,line:q,circle:N,symbol:H};if(!w)return $;if((f||C)&&(x=M.calcTraceToLineCoords(v)),f&&(B.geojson=M.makePolygon(x),B.layout.visibility="visible",A.extendFlat(B.paint,{"fill-color":y.fillcolor})),C&&(q.geojson=M.makeLine(x),q.layout.visibility="visible",A.extendFlat(q.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),R){var j=function(ae){var te,Q,ee,re,J=ae[0].trace,le=J.marker,fe=J.selectedpoints,ce=A.isArrayOrTypedArray(le.color),ge=A.isArrayOrTypedArray(le.size),Te=A.isArrayOrTypedArray(le.opacity);function Me(ue){return J.opacity*ue}ce&&(Q=_.hasColorscale(J,"marker")?_.makeColorScaleFuncFromTrace(le):A.identity),ge&&(ee=s(J)),Te&&(re=function(ue){return Me(S(ue)?+A.constrain(ue,0,1):0)});var we,xe,be=[];for(te=0;te<ae.length;te++){var ye=ae[te],Se=ye.lonlat;if(!c(Se)){var Ee={};Q&&(Ee.mcc=ye.mcc=Q(ye.mc)),ee&&(Ee.mrc=ye.mrc=ee(ye.ms)),re&&(Ee.mo=re(ye.mo)),fe&&(Ee.selected=ye.selected||0),be.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:Se},properties:Ee})}}if(fe)for(we=d.makeSelectedPointStyleFns(J),te=0;te<be.length;te++){var he=be[te].properties;we.selectedOpacityFn&&(he.mo=Me(we.selectedOpacityFn(he))),we.selectedColorFn&&(he.mcc=we.selectedColorFn(he)),we.selectedSizeFn&&(he.mrc=we.selectedSizeFn(he))}return{geojson:{type:"FeatureCollection",features:be},mcc:ce||we&&we.selectedColorFn?{type:"identity",property:"mcc"}:le.color,mrc:ge||we&&we.selectedSizeFn?{type:"identity",property:"mrc"}:(xe=le.size,xe/2),mo:Te||we&&we.selectedOpacityFn?{type:"identity",property:"mo"}:Me(le.opacity)}}(v);N.geojson=j.geojson,N.layout.visibility="visible",O&&(N.filter=["!",["has","point_count"]],$.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":b(y.cluster.color,y.cluster.step),"circle-radius":b(y.cluster.size,y.cluster.step),"circle-opacity":b(y.cluster.opacity,y.cluster.step)}},$.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":p(y),"text-size":12}}),A.extendFlat(N.paint,{"circle-color":j.mcc,"circle-radius":j.mrc,"circle-opacity":j.mo})}if(R&&O&&(N.filter=["!",["has","point_count"]]),(P||D)&&(H.geojson=function(ae,te){for(var Q=te._fullLayout,ee=ae[0].trace,re=ee.marker||{},J=re.symbol,le=re.angle,fe="circle"!==J?l(J):h,ce="auto"!==le?l(le,!0):h,ge=t.hasText(ee)?l(ee.text):h,Te=[],Me=0;Me<ae.length;Me++){var we=ae[Me];if(!c(we.lonlat)){var xe,be=ee.texttemplate;if(be){var ye=Array.isArray(be)?be[Me]||"":be,Se=ee._module.formatLabels(we,ee,Q),Ee={};n(Ee,ee,we.i),xe=A.texttemplateString(ye,Se,Q._d3locale,Ee,we,ee._meta||{})}else xe=ge(Me);xe&&(xe=xe.replace(r,"").replace(o,"\n")),Te.push({type:"Feature",geometry:{type:"Point",coordinates:we.lonlat},properties:{symbol:fe(Me),angle:ce(Me),text:xe}})}}return{type:"FeatureCollection",features:Te}}(v,m),A.extendFlat(H.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),P&&(A.extendFlat(H.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&"auto"!==y.marker.angle&&A.extendFlat(H.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),H.layout["icon-allow-overlap"]=y.marker.allowoverlap,A.extendFlat(H.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),D)){var G=i(y.textposition,(y.marker||{}).size);A.extendFlat(H.layout,{"text-size":y.textfont.size,"text-anchor":G.anchor,"text-offset":G.offset,"text-font":p(y)}),A.extendFlat(H.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return $}},15752:function(ie,z,e){"use strict";var S=e(3400),A=e(43028),a=e(74428),M=e(66828),_=e(124),d=e(70840),s=e(31512),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];ie.exports=function(i,n,r,o){function u(y,w){return S.coerce(i,n,s,y,w)}function l(y,w){return S.coerce2(i,n,s,y,w)}var w,f,C,T,D;if(w=n,C=(f=u)("lon")||[],T=f("lat")||[],D=Math.min(C.length,T.length),w._length=D,D){if(u("text"),u("texttemplate"),u("hovertext"),u("hovertemplate"),u("mode"),u("below"),A.hasMarkers(n)){a(i,n,r,o,u,{noLine:!0,noAngle:!0}),u("marker.allowoverlap"),u("marker.angle");var c=n.marker;"circle"!==c.symbol&&(S.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),S.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}A.hasLines(n)&&(M(i,n,r,o,u,{noDash:!0}),u("connectgaps"));var b=l("cluster.maxzoom"),p=l("cluster.step"),m=l("cluster.color",n.marker&&n.marker.color||r),v=l("cluster.size"),x=l("cluster.opacity");(u("cluster.enabled",!1!==b||!1!==p||!1!==m||!1!==v||!1!==x)||A.hasText(n))&&_(i,n,o,u,{noSelect:!0,noFontVariant:!0,font:{family:-1!==t.indexOf(o.font.family)?o.font.family:"Open Sans Regular",weight:o.font.weight,style:o.font.style,size:o.font.size,color:o.font.color}}),u("fill"),"none"!==n.fill&&d(i,n,r,u),S.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},37920:function(ie){"use strict";ie.exports=function(z,e){return z.lon=e.lon,z.lat=e.lat,z}},11960:function(ie,z,e){"use strict";var S=e(54460);ie.exports=function(A,a,M){var _={},d=M[a.subplot]._subplot.mockAxis,s=A.lonlat;return _.lonLabel=S.tickText(d,d.c2l(s[0]),!0).text,_.latLabel=S.tickText(d,d.c2l(s[1]),!0).text,_}},63312:function(ie,z,e){"use strict";var S=e(93024),A=e(3400),a=e(44928),M=A.fillText,_=e(39032).BADNUM,d=e(47552).traceLayerPrefix;function s(t,i,n){if(!t.hovertemplate){var r=(i.hi||t.hoverinfo).split("+"),o=-1!==r.indexOf("all"),u=-1!==r.indexOf("lon"),l=-1!==r.indexOf("lat"),h=i.lonlat,c=[];return o||u&&l?c.push("("+b(h[1])+", "+b(h[0])+")"):u?c.push(n.lon+b(h[0])):l&&c.push(n.lat+b(h[1])),(o||-1!==r.indexOf("text"))&&M(i,t,c),c.join("<br>")}function b(p){return p+"\xb0"}}ie.exports={hoverPoints:function(t,i,n){var r=t.cd,o=r[0].trace,u=t.xa,l=t.ya,h=t.subplot,c=[],p=o.cluster&&o.cluster.enabled;if(p){var m=h.map.queryRenderedFeatures(null,{layers:[d+o.uid+"-circle"]});c=m.map(function(O){return O.id})}var v=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),x=i-v;if(S.getClosest(r,function(O){var B=O.lonlat;if(B[0]===_||p&&-1===c.indexOf(O.i+1))return 1/0;var q=A.modHalf(B[0],360),N=B[1],H=h.project([q,N]),$=H.x-u.c2p([x,N]),j=H.y-l.c2p([q,n]),W=Math.max(3,O.mrc||0);return Math.max(Math.sqrt($*$+j*j)-W,1-3/W)},t),!1!==t.index){var y=r[t.index],w=y.lonlat,f=[A.modHalf(w[0],360)+v,w[1]],C=u.c2p(f),T=l.c2p(f),D=y.mrc||1;t.x0=C-D,t.x1=C+D,t.y0=T-D,t.y1=T+D;var R={};R[o.subplot]={_subplot:h};var P=o._module.formatLabels(y,o,R);return t.lonLabel=P.lonLabel,t.latLabel=P.latLabel,t.color=a(o,y),t.extraText=s(o,y,r[0].t.labels),t.hovertemplate=o.hovertemplate,[t]}},getExtraText:s}},11572:function(ie,z,e){"use strict";ie.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(S,A){A&&A[0].trace._glTrace.update(A)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(ie,z,e){"use strict";var S=e(3400),A=e(59392),a=e(47552).traceLayerPrefix,M={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function _(s,t,i,n){this.type="scattermapbox",this.subplot=s,this.uid=t,this.clusterEnabled=i,this.isHidden=n,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var d=_.prototype;d.addSource=function(s,t,i){var n={type:"geojson",data:t.geojson};i&&i.enabled&&S.extendFlat(n,{cluster:!0,clusterMaxZoom:i.maxzoom});var r=this.subplot.map.getSource(this.sourceIds[s]);r?r.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[s],n)},d.setSourceData=function(s,t){this.subplot.map.getSource(this.sourceIds[s]).setData(t.geojson)},d.addLayer=function(s,t,i){var n={type:t.type,id:this.layerIds[s],source:this.sourceIds[s],layout:t.layout,paint:t.paint};t.filter&&(n.filter=t.filter);for(var r,o=this.layerIds[s],u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===o){r=!0;break}r?(this.subplot.setOptions(o,"setLayoutProperty",n.layout),"visible"===n.layout.visibility&&this.subplot.setOptions(o,"setPaintProperty",n.paint)):this.subplot.addLayer(n,i)},d.update=function(s){var t=s[0].trace,i=this.subplot,n=i.map,r=A(i.gd,s),o=i.belowLookup["trace-"+this.uid],u=!(!t.cluster||!t.cluster.enabled),l=!!this.clusterEnabled,h=this;function c(x){l?function(y){for(var w=M.cluster,f=w.length-1;f>=0;f--)n.removeLayer(h.layerIds[w[f]]);y||n.removeSource(h.sourceIds.circle)}(x):function(y){for(var w=M.nonCluster,f=w.length-1;f>=0;f--){var C=w[f];n.removeLayer(h.layerIds[C]),y||n.removeSource(h.sourceIds[C])}}(x)}function b(x){u?function(y){y||h.addSource("circle",r.circle,t.cluster);for(var w=M.cluster,f=0;f<w.length;f++){var C=w[f];h.addLayer(C,r[C],o)}}(x):function(y){for(var w=M.nonCluster,f=0;f<w.length;f++){var C=w[f],T=r[C];y||h.addSource(C,T),h.addLayer(C,T,o)}}(x)}var m=this.isHidden,v=!0!==t.visible;v?m||c():m?v||b():l!==u?(c(),b()):(this.below!==o&&(c(!0),b(!0)),function p(){for(var x=u?M.cluster:M.nonCluster,y=0;y<x.length;y++){var w=x[y],f=r[w];f&&(i.setOptions(h.layerIds[w],"setLayoutProperty",f.layout),"visible"===f.layout.visibility&&("cluster"!==w&&h.setSourceData(w,f),i.setOptions(h.layerIds[w],"setPaintProperty",f.paint)))}}()),this.clusterEnabled=u,this.isHidden=v,this.below=o,s[0].trace._glTrace=this},d.dispose=function(){for(var s=this.subplot.map,t=this.clusterEnabled?M.cluster:M.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];s.removeLayer(this.layerIds[n]),s.removeSource(this.sourceIds[n])}},ie.exports=function(s,t){var i,n,r,o=t[0].trace,u=o.cluster&&o.cluster.enabled,h=new _(s,o.uid,u,!0!==o.visible),c=A(s.gd,t),b=h.below=s.belowLookup["trace-"+o.uid];if(u)for(h.addSource("circle",c.circle,o.cluster),i=0;i<M.cluster.length;i++)r=c[n=M.cluster[i]],h.addLayer(n,r,b);else for(i=0;i<M.nonCluster.length;i++)r=c[n=M.nonCluster[i]],h.addSource(n,r,o.cluster),h.addLayer(n,r,b);return t[0].trace._glTrace=h,h}},404:function(ie,z,e){"use strict";var S=e(3400),A=e(43028),a=e(39032).BADNUM;ie.exports=function(M,_){var d,s=M.cd,t=M.xaxis,i=M.yaxis,n=[];if(!A.hasMarkers(s[0].trace))return[];if(!1===_)for(d=0;d<s.length;d++)s[d].selected=0;else for(d=0;d<s.length;d++){var o=s[d],u=o.lonlat;if(u[0]!==a){var l=[S.modHalf(u[0],360),u[1]],h=[t.c2p(l),i.c2p(l)];_.contains(h,null,d,M)?(n.push({pointNumber:d,lon:u[0],lat:u[1]}),o.selected=1):o.selected=0}}return n}},8319:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(21776).Gw,a=e(92880).extendFlat,M=e(98304),_=e(52904),d=e(45464),s=_.line;ie.exports={mode:_.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:_.text,texttemplate:A({editType:"plot"},{keys:["r","theta","text"]}),hovertext:_.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:a({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:_.connectgaps,marker:_.marker,cliponaxis:a({},_.cliponaxis,{dflt:!1}),textposition:_.textposition,textfont:_.textfont,fill:a({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M(),hoverinfo:a({},d.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:_.hoveron,hovertemplate:S(),selected:_.selected,unselected:_.unselected}},58320:function(ie,z,e){"use strict";var S=e(38248),A=e(39032).BADNUM,a=e(54460),M=e(90136),_=e(20148),d=e(4500),s=e(16356).calcMarkerSize;ie.exports=function(t,i){for(var n=t._fullLayout,r=i.subplot,o=n[r].radialaxis,u=n[r].angularaxis,l=o.makeCalcdata(i,"r"),h=u.makeCalcdata(i,"theta"),c=i._length,b=new Array(c),p=0;p<c;p++){var m=l[p],v=h[p],x=b[p]={};S(m)&&S(v)?(x.r=m,x.theta=v):x.r=A}var y=s(i,c);return i._extremes.x=a.findExtremes(o,l,{ppad:y}),M(t,i),_(b,i),d(b,i),b}},85968:function(ie,z,e){"use strict";var S=e(3400),A=e(43028),a=e(74428),M=e(66828),_=e(11731),d=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(8319);function n(r,o,u,l){var h,c=l("r"),b=l("theta");if(S.isTypedArray(c)&&(o.r=c=Array.from(c)),S.isTypedArray(b)&&(o.theta=b=Array.from(b)),c)b?h=Math.min(c.length,b.length):(h=c.length,l("theta0"),l("dtheta"));else{if(!b)return 0;h=o.theta.length,l("r0"),l("dr")}return o._length=h,h}ie.exports={handleRThetaDefaults:n,supplyDefaults:function(r,o,u,l){function h(p,m){return S.coerce(r,o,i,p,m)}var c=n(0,o,0,h);if(c){h("thetaunit"),h("mode",c<t?"lines+markers":"lines"),h("text"),h("hovertext"),"fills"!==o.hoveron&&h("hovertemplate"),A.hasMarkers(o)&&a(r,o,u,l,h,{gradient:!0}),A.hasLines(o)&&(M(r,o,u,l,h,{backoff:!0}),_(r,o,h),h("connectgaps")),A.hasText(o)&&(h("texttemplate"),d(r,o,l,h));var b=[];(A.hasMarkers(o)||A.hasText(o))&&(h("cliponaxis"),h("marker.maxdisplayed"),b.push("points")),h("fill"),"none"!==o.fill&&(s(r,o,u,h),A.hasLines(o)||_(r,o,h)),"tonext"!==o.fill&&"toself"!==o.fill||b.push("fills"),h("hoveron",b.join("+")||"points"),S.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}}},22852:function(ie,z,e){"use strict";var S=e(3400),A=e(54460);ie.exports=function(a,M,_){var d,s,t={},i=_[M.subplot]._subplot;i?(d=i.radialAxis,s=i.angularAxis):(d=(i=_[M.subplot]).radialaxis,s=i.angularaxis);var n=d.c2l(a.r);t.rLabel=A.tickText(d,n,!0).text;var r="degrees"===s.thetaunit?S.rad2deg(a.theta):a.theta;return t.thetaLabel=A.tickText(s,r,!0).text,t}},8504:function(ie,z,e){"use strict";var S=e(98723);function A(a,M,_,d){var s=_.radialAxis,t=_.angularAxis;s._hovertitle="r",t._hovertitle="\u03b8";var i={};i[M.subplot]={_subplot:_};var n=M._module.formatLabels(a,M,i);d.rLabel=n.rLabel,d.thetaLabel=n.thetaLabel;var o=[];function u(h,c){o.push(h._hovertitle+": "+c)}if(!M.hovertemplate){var l=(a.hi||M.hoverinfo).split("+");-1!==l.indexOf("all")&&(l=["r","theta","text"]),-1!==l.indexOf("r")&&u(s,d.rLabel),-1!==l.indexOf("theta")&&u(t,d.thetaLabel),-1!==l.indexOf("text")&&d.text&&(o.push(d.text),delete d.text),d.extraText=o.join("<br>")}}ie.exports={hoverPoints:function(a,M,_,d){var s=S(a,M,_,d);if(s&&!1!==s[0].index){var t=s[0];if(void 0===t.index)return s;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,A(n,r,i,t),t.hovertemplate=r.hovertemplate,s}},makeHoverPointText:A}},76924:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(ie,z,e){"use strict";var S=e(96504),A=e(39032).BADNUM;ie.exports=function(a,M,_){for(var d=M.layers.frontplot.select("g.scatterlayer"),s=M.xaxis,t=M.yaxis,i={xaxis:s,yaxis:t,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},n=M.radialAxis,r=M.angularAxis,o=0;o<_.length;o++)for(var u=_[o],l=0;l<u.length;l++){0===l&&(u[0].trace._xA=s,u[0].trace._yA=t);var h=u[l],c=h.r;if(c===A)h.x=h.y=A;else{var b=n.c2g(c),p=r.c2g(h.theta);h.x=b*Math.cos(p),h.y=b*Math.sin(p)}}S(a,i,_,d)}},24396:function(ie,z,e){"use strict";var S=e(8319),A=e(2876),a=e(21776).Gw;ie.exports={mode:S.mode,r:S.r,theta:S.theta,r0:S.r0,dr:S.dr,theta0:S.theta0,dtheta:S.dtheta,thetaunit:S.thetaunit,text:S.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,hovertemplate:S.hovertemplate,line:{color:A.line.color,width:A.line.width,dash:A.line.dash,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,fill:A.fill,fillcolor:A.fillcolor,textposition:A.textposition,textfont:A.textfont,hoverinfo:S.hoverinfo,selected:S.selected,unselected:S.unselected}},27160:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(ie,z,e){"use strict";var S=e(90136),A=e(16356).calcMarkerSize,a=e(84236),M=e(54460),_=e(67072).TOO_MANY_POINTS;ie.exports=function(d,s){var t=d._fullLayout,i=s.subplot,n=t[i].radialaxis,r=t[i].angularaxis,o=s._r=n.makeCalcdata(s,"r"),u=s._theta=r.makeCalcdata(s,"theta"),l=s._length,h={};l<o.length&&(o=o.slice(0,l)),l<u.length&&(u=u.slice(0,l)),h.r=o,h.theta=u,S(d,s);var c,b=h.opts=a.style(d,s);return l<_?c=A(s,l):b.marker&&(c=2*(b.marker.sizeAvg||Math.max(b.marker.size,3))),s._extremes.x=M.findExtremes(n,o,{ppad:c}),[{x:!1,y:!1,t:h,trace:s}]}},98608:function(ie,z,e){"use strict";var S=e(3400),A=e(43028),a=e(85968).handleRThetaDefaults,M=e(74428),_=e(66828),d=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(24396);ie.exports=function(n,r,o,u){function l(c,b){return S.coerce(n,r,i,c,b)}var h=a(n,r,u,l);h?(l("thetaunit"),l("mode",h<t?"lines+markers":"lines"),l("text"),l("hovertext"),"fills"!==r.hoveron&&l("hovertemplate"),A.hasMarkers(r)&&M(n,r,o,u,l,{noAngleRef:!0,noStandOff:!0}),A.hasLines(r)&&(_(n,r,o,u,l),l("connectgaps")),A.hasText(r)&&(l("texttemplate"),d(n,r,u,l)),l("fill"),"none"!==r.fill&&s(n,r,o,l),S.coerceSelectionMarkerOpacity(r,l)):r.visible=!1}},94120:function(ie,z,e){"use strict";var S=e(22852);ie.exports=function(A,a,M){var _=A.i;return"r"in A||(A.r=a._r[_]),"theta"in A||(A.theta=a._theta[_]),S(A,a,M)}},1600:function(ie,z,e){"use strict";var S=e(41272),A=e(8504).makeHoverPointText;ie.exports={hoverPoints:function(a,M,_,d){var s=a.cd[0].t,t=s.r,i=s.theta,n=S.hoverPoints(a,M,_,d);if(n&&!1!==n[0].index){var r=n[0];if(void 0===r.index)return n;var o=a.subplot,u=r.cd[r.index],l=r.trace;if(u.r=t[r.index],u.theta=i[r.index],o.isPtInside(u))return r.xLabelVal=void 0,r.yLabelVal=void 0,A(u,l,o,r),n}}}},62944:function(ie,z,e){"use strict";var S=e(27160);S.plot=e(56512),ie.exports=S},56512:function(ie,z,e){"use strict";var S=e(3108),A=e(38248),a=e(89876),M=e(74588),_=e(84236),d=e(3400),s=e(67072).TOO_MANY_POINTS;ie.exports=function(t,i,n){if(n.length){var r=i.radialAxis,o=i.angularAxis,u=M(t,i);return n.forEach(function(l){if(l&&l[0]&&l[0].trace){var h,c=l[0],b=c.trace,p=c.t,m=b._length,v=p.r,x=p.theta,y=p.opts,w=v.slice(),f=x.slice();for(h=0;h<v.length;h++)i.isPtInside({r:v[h],theta:x[h]})||(w[h]=NaN,f[h]=NaN);var C=new Array(2*m),T=Array(m),D=Array(m);for(h=0;h<m;h++){var R,P,O=w[h];if(A(O)){var B=r.c2g(O),q=o.c2g(f[h],b.thetaunit);R=B*Math.cos(q),P=B*Math.sin(q)}else R=P=NaN;T[h]=C[2*h]=R,D[h]=C[2*h+1]=P}p.tree=S(C),y.marker&&m>=s&&(y.marker.cluster=p.tree),y.marker&&(y.markerSel.positions=y.markerUnsel.positions=y.marker.positions=C),y.line&&C.length>1&&d.extendFlat(y.line,_.linePositions(t,b,C)),y.text&&(d.extendFlat(y.text,{positions:C},_.textPosition(t,b,y.text,y.marker)),d.extendFlat(y.textSel,{positions:C},_.textPosition(t,b,y.text,y.markerSel)),d.extendFlat(y.textUnsel,{positions:C},_.textPosition(t,b,y.text,y.markerUnsel))),y.fill&&!u.fill2d&&(u.fill2d=!0),y.marker&&!u.scatter2d&&(u.scatter2d=!0),y.line&&!u.line2d&&(u.line2d=!0),y.text&&!u.glText&&(u.glText=!0),u.lineOptions.push(y.line),u.fillOptions.push(y.fill),u.markerOptions.push(y.marker),u.markerSelectedOptions.push(y.markerSel),u.markerUnselectedOptions.push(y.markerUnsel),u.textOptions.push(y.text),u.textSelectedOptions.push(y.textSel),u.textUnselectedOptions.push(y.textUnsel),u.selectBatch.push([]),u.unselectBatch.push([]),p.x=T,p.y=D,p.rawx=T,p.rawy=D,p.r=v,p.theta=x,p.positions=C,p._scene=u,p.index=u.count,u.count++}}),a(t,i,n)}},ie.exports.reglPrecompiled={}},69496:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(21776).Gw,a=e(92880).extendFlat,M=e(98304),_=e(52904),d=e(45464),s=_.line;ie.exports={mode:_.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:_.text,texttemplate:A({editType:"plot"},{keys:["real","imag","text"]}),hovertext:_.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:a({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:_.connectgaps,marker:_.marker,cliponaxis:a({},_.cliponaxis,{dflt:!1}),textposition:_.textposition,textfont:_.textfont,fill:a({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M(),hoverinfo:a({},d.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:_.hoveron,hovertemplate:S(),selected:_.selected,unselected:_.unselected}},47507:function(ie,z,e){"use strict";var S=e(38248),A=e(39032).BADNUM,a=e(90136),M=e(20148),_=e(4500),d=e(16356).calcMarkerSize;ie.exports=function(s,t){for(var i=s._fullLayout,n=t.subplot,o=i[n].imaginaryaxis,u=i[n].realaxis.makeCalcdata(t,"real"),l=o.makeCalcdata(t,"imag"),h=t._length,c=new Array(h),b=0;b<h;b++){var p=u[b],m=l[b],v=c[b]={};S(p)&&S(m)?(v.real=p,v.imag=m):v.real=A}return d(t,h),a(s,t),M(c,t),_(c,t),c}},76716:function(ie,z,e){"use strict";var S=e(3400),A=e(43028),a=e(74428),M=e(66828),_=e(11731),d=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(69496);ie.exports=function(n,r,o,u){function l(b,p){return S.coerce(n,r,i,b,p)}var p,v,x,y,w,h=(p=r,y=(v=l)("real"),w=v("imag"),y&&w&&(x=Math.min(y.length,w.length)),S.isTypedArray(y)&&(p.real=y=Array.from(y)),S.isTypedArray(w)&&(p.imag=w=Array.from(w)),p._length=x,x);if(h){l("mode",h<t?"lines+markers":"lines"),l("text"),l("hovertext"),"fills"!==r.hoveron&&l("hovertemplate"),A.hasMarkers(r)&&a(n,r,o,u,l,{gradient:!0}),A.hasLines(r)&&(M(n,r,o,u,l,{backoff:!0}),_(n,r,l),l("connectgaps")),A.hasText(r)&&(l("texttemplate"),d(n,r,u,l));var c=[];(A.hasMarkers(r)||A.hasText(r))&&(l("cliponaxis"),l("marker.maxdisplayed"),c.push("points")),l("fill"),"none"!==r.fill&&(s(n,r,o,l),A.hasLines(r)||_(n,r,l)),"tonext"!==r.fill&&"toself"!==r.fill||c.push("fills"),l("hoveron",c.join("+")||"points"),S.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},49504:function(ie,z,e){"use strict";var S=e(54460);ie.exports=function(A,a,M){var _={},d=M[a.subplot]._subplot;return _.realLabel=S.tickText(d.radialAxis,A.real,!0).text,_.imagLabel=S.tickText(d.angularAxis,A.imag,!0).text,_}},25292:function(ie,z,e){"use strict";var S=e(98723);function A(a,M,_,d){var s=_.radialAxis,t=_.angularAxis;s._hovertitle="real",t._hovertitle="imag";var i={};i[M.subplot]={_subplot:_};var n=M._module.formatLabels(a,M,i);d.realLabel=n.realLabel,d.imagLabel=n.imagLabel;var o=[];function u(h,c){o.push(h._hovertitle+": "+c)}if(!M.hovertemplate){var l=(a.hi||M.hoverinfo).split("+");-1!==l.indexOf("all")&&(l=["real","imag","text"]),-1!==l.indexOf("real")&&u(s,d.realLabel),-1!==l.indexOf("imag")&&u(t,d.imagLabel),-1!==l.indexOf("text")&&d.text&&(o.push(d.text),delete d.text),d.extraText=o.join("<br>")}}ie.exports={hoverPoints:function(a,M,_,d){var s=S(a,M,_,d);if(s&&!1!==s[0].index){var t=s[0];if(void 0===t.index)return s;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,A(n,r,i,t),t.hovertemplate=r.hovertemplate,s}},makeHoverPointText:A}},95443:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(ie,z,e){"use strict";var S=e(96504),A=e(39032).BADNUM,a=e(36416).smith;ie.exports=function(M,_,d){for(var s=_.layers.frontplot.select("g.scatterlayer"),t=_.xaxis,i=_.yaxis,n={xaxis:t,yaxis:i,plot:_.framework,layerClipId:_._hasClipOnAxisFalse?_.clipIds.forTraces:null},r=0;r<d.length;r++)for(var o=d[r],u=0;u<o.length;u++){0===u&&(o[0].trace._xA=t,o[0].trace._yA=i);var l=o[u],h=l.real;if(h===A)l.x=l.y=A;else{var c=a([h,l.imag]);l.x=c[0],l.y=c[1]}}S(M,n,d,s)}},5896:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(21776).Gw,a=e(98304),M=e(52904),_=e(45464),d=e(49084),s=e(98192).u,t=e(92880).extendFlat,i=M.marker,n=M.line,r=i.line;ie.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:t({},M.mode,{dflt:"markers"}),text:t({},M.text,{}),texttemplate:A({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:t({},M.hovertext,{}),line:{color:n.color,width:n.width,dash:s,backoff:n.backoff,shape:t({},n.shape,{values:["linear","spline"]}),smoothing:n.smoothing,editType:"calc"},connectgaps:M.connectgaps,cliponaxis:M.cliponaxis,fill:t({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a(),marker:t({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:t({width:r.width,editType:"calc"},d("marker.line")),gradient:i.gradient,editType:"calc"},d("marker")),textfont:M.textfont,textposition:M.textposition,selected:M.selected,unselected:M.unselected,hoverinfo:t({},_.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:M.hoveron,hovertemplate:S()}},34335:function(ie,z,e){"use strict";var S=e(38248),A=e(90136),a=e(20148),M=e(4500),_=e(16356).calcMarkerSize,d=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};ie.exports=function(t,i){var n,r,o,u,l,h,c=t._fullLayout[i.subplot].sum,b=i.sum||c,p={a:i.a,b:i.b,c:i.c};for(n=0;n<d.length;n++)if(!p[o=d[n]]){for(l=p[s[o][0]],h=p[s[o][1]],u=new Array(l.length),r=0;r<l.length;r++)u[r]=b-l[r]-h[r];p[o]=u}var m,v,x,y,C=i._length,T=new Array(C);for(n=0;n<C;n++)v=p.b[n],x=p.c[n],S(m=p.a[n])&&S(v)&&S(x)?(1!=(y=c/((m=+m)+(v=+v)+(x=+x)))&&(m*=y,v*=y,x*=y),T[n]={x:x-v,y:m,a:m,b:v,c:x}):T[n]={x:!1,y:!1};return _(i,C),A(t,i),a(T,i),M(T,i),T}},84256:function(ie,z,e){"use strict";var S=e(3400),A=e(88200),a=e(43028),M=e(74428),_=e(66828),d=e(11731),s=e(124),t=e(70840),i=e(5896);ie.exports=function(n,r,o,u){function l(v,x){return S.coerce(n,r,i,v,x)}var h,c=l("a"),b=l("b"),p=l("c");if(c?(h=c.length,b?(h=Math.min(h,b.length),p&&(h=Math.min(h,p.length))):h=p?Math.min(h,p.length):0):b&&p&&(h=Math.min(b.length,p.length)),h){r._length=h,l("sum"),l("text"),l("hovertext"),"fills"!==r.hoveron&&l("hovertemplate"),l("mode",h<A.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&M(n,r,o,u,l,{gradient:!0}),a.hasLines(r)&&(_(n,r,o,u,l,{backoff:!0}),d(n,r,l),l("connectgaps")),a.hasText(r)&&(l("texttemplate"),s(n,r,u,l));var m=[];(a.hasMarkers(r)||a.hasText(r))&&(l("cliponaxis"),l("marker.maxdisplayed"),m.push("points")),l("fill"),"none"!==r.fill&&(t(n,r,o,l),a.hasLines(r)||d(n,r,l)),"tonext"!==r.fill&&"toself"!==r.fill||m.push("fills"),l("hoveron",m.join("+")||"points"),S.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},97476:function(ie){"use strict";ie.exports=function(z,e,S,A,a){if(e.xa&&(z.xaxis=e.xa),e.ya&&(z.yaxis=e.ya),A[a]){var M=A[a];z.a=M.a,z.b=M.b,z.c=M.c}else z.a=e.a,z.b=e.b,z.c=e.c;return z}},90404:function(ie,z,e){"use strict";var S=e(54460);ie.exports=function(A,a,M){var _={},d=M[a.subplot]._subplot;return _.aLabel=S.tickText(d.aaxis,A.a,!0).text,_.bLabel=S.tickText(d.baxis,A.b,!0).text,_.cLabel=S.tickText(d.caxis,A.c,!0).text,_}},26596:function(ie,z,e){"use strict";var S=e(98723);ie.exports=function(A,a,M,_){var d=S(A,a,M,_);if(d&&!1!==d[0].index){var s=d[0];if(void 0===s.index){var i=A.xa._length,n=i*(1-s.y0/A.ya._length)/2,r=i-n;return s.x0=Math.max(Math.min(s.x0,r),n),s.x1=Math.max(Math.min(s.x1,r),n),d}var o=s.cd[s.index],u=s.trace,l=s.subplot;s.a=o.a,s.b=o.b,s.c=o.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var h={};h[u.subplot]={_subplot:l};var c=u._module.formatLabels(o,u,h);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var p=[];if(!u.hovertemplate){var m=(o.hi||u.hoverinfo).split("+");-1!==m.indexOf("all")&&(m=["a","b","c"]),-1!==m.indexOf("a")&&v(l.aaxis,s.aLabel),-1!==m.indexOf("b")&&v(l.baxis,s.bLabel),-1!==m.indexOf("c")&&v(l.caxis,s.cLabel)}return s.extraText=p.join("<br>"),s.hovertemplate=u.hovertemplate,d}function v(x,y){p.push(x._hovertitle+": "+y)}}},34864:function(ie,z,e){"use strict";ie.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(ie,z,e){"use strict";var S=e(96504);ie.exports=function(A,a,M){var _=a.plotContainer;_.select(".scatterlayer").selectAll("*").remove();for(var d=a.xaxis,s=a.yaxis,t={xaxis:d,yaxis:s,plot:_,layerClipId:a._hasClipOnAxisFalse?a.clipIdRelative:null},i=a.layers.frontplot.select("g.scatterlayer"),n=0;n<M.length;n++){var r=M[n];r.length&&(r[0].trace._xA=d,r[0].trace._yA=s)}S(A,t,M,i)}},44524:function(ie,z,e){"use strict";var S=e(52904),A=e(49084),a=e(29736).axisHoverFormat,M=e(21776).Ks,_=e(2876),d=e(33816).idRegex,s=e(31780).templatedArray,t=e(92880).extendFlat,i=S.marker,n=i.line,r=t(A("marker.line",{editTypeOverride:"calc"}),{width:t({},n.width,{editType:"calc"}),editType:"calc"}),o=t(A("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:r,editType:"calc"});function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:d[l],editType:"plot"}}}o.color.editType=o.cmin.editType=o.cmax.editType="style",ie.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},_.text,{}),hovertext:t({},_.hovertext,{}),hovertemplate:M(),xhoverformat:a("x"),yhoverformat:a("y"),marker:o,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:_.selected.marker,editType:"calc"},unselected:{marker:_.unselected.marker,editType:"calc"},opacity:_.opacity}},28888:function(ie,z,e){"use strict";var S=e(24040),A=e(12704);ie.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},S.register(A)},99332:function(ie,z,e){"use strict";var S=e(13472),A=e(24040),a=e(5048),M=e(84888)._M,_=e(57952),d=e(79811).getFromId,s=e(54460).shouldShowZeroLine,t="splom",i={};function n(o,u,l){for(var c=u._visibleDims,b=l.viewOpts.ranges=new Array(l.matrixOptions.data.length),p=0;p<c.length;p++){var m=c[p],v=b[p]=new Array(4),x=d(o,u._diag[m][0]);x&&(v[0]=x.r2l(x.range[0]),v[2]=x.r2l(x.range[1]));var y=d(o,u._diag[m][1]);y&&(v[1]=y.r2l(y.range[0]),v[3]=y.r2l(y.range[1]))}l.selectBatch.length||l.unselectBatch.length?l.matrix.update({ranges:b},{ranges:b}):l.matrix.update({ranges:b})}function r(o){var u=o._fullLayout,l=u._glcanvas.data()[0].regl,h=u._splomGrid;h||(h=u._splomGrid=S(l)),h.update(function(c){var b,p=c._context.plotGlPixelRatio,m=c._fullLayout,v=m._size,x=[0,0,m.width*p,m.height*p],y={};function w(G,ae,te,Q,ee,re){te*=p,Q*=p,ee*=p,re*=p;var J=ae[G+"color"],le=ae[G+"width"],fe=String(J+le);fe in y?y[fe].data.push(NaN,NaN,te,Q,ee,re):y[fe]={data:[te,Q,ee,re],join:"rect",thickness:le*p,color:J,viewport:x,range:x,overlay:!1}}for(b in m._splomSubplots){var f,C,T=m._plots[b],D=T.xaxis,R=T.yaxis,P=D._gridVals,O=R._gridVals,B=D._offset,q=D._length,N=R._length,H=v.b+R.domain[0]*v.h,$=-R._m,j=-$*R.r2l(R.range[0],R.calendar);if(D.showgrid)for(b=0;b<P.length;b++)f=B+D.l2p(P[b].x),w("grid",D,f,H,f,H+N);if(R.showgrid)for(b=0;b<O.length;b++)w("grid",R,B,C=H+j+$*O[b].x,B+q,C);s(c,D,R)&&(f=B+D.l2p(0),w("zeroline",D,f,H,f,H+N)),s(c,R,D)&&w("zeroline",R,B,C=H+j+0,B+q,C)}var W=[];for(b in y)W.push(y[b]);return W}(o))}ie.exports={name:t,attr:_.attr,attrRegex:_.attrRegex,layoutAttributes:_.layoutAttributes,supplyLayoutDefaults:_.supplyLayoutDefaults,drawFramework:_.drawFramework,plot:function(o){var u=o._fullLayout,l=A.getModule(t),h=M(o.calcdata,l)[0];a(o,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(u._hasOnlyLargeSploms&&r(o),l.plot(o,{},h))},drag:function(o){var u=o.calcdata,l=o._fullLayout;l._hasOnlyLargeSploms&&r(o);for(var h=0;h<u.length;h++){var c=u[h][0].trace,b=l._splomScenes[c.uid];"splom"===c.type&&b&&b.matrix&&n(o,c,b)}},updateGrid:r,clean:function(o,u,l,h){var c,b={};if(h._splomScenes){for(c=0;c<o.length;c++){var p=o[c];"splom"===p.type&&(b[p.uid]=1)}for(c=0;c<l.length;c++){var m=l[c];if(!b[m.uid]){var v=h._splomScenes[m.uid];v&&v.destroy&&v.destroy(),h._splomScenes[m.uid]=null,delete h._splomScenes[m.uid]}}}0===Object.keys(h._splomScenes||{}).length&&delete h._splomScenes,h._splomGrid&&!u._hasOnlyLargeSploms&&h._hasOnlyLargeSploms&&(h._splomGrid.destroy(),h._splomGrid=null,delete h._splomGrid),_.clean(o,u,l,h)},updateFx:_.updateFx,toSVG:_.toSVG,reglPrecompiled:i}},66821:function(ie,z,e){"use strict";var S=e(3400),A=e(79811),a=e(16356).calcMarkerSize,M=e(16356).calcAxisExpansion,_=e(90136),d=e(84236).markerSelection,s=e(84236).markerStyle,t=e(72308),i=e(39032).BADNUM,n=e(67072).TOO_MANY_POINTS;ie.exports=function(r,o){var u,l,h,c,b,p,m=o.dimensions,v=o._length,x={},y=x.cdata=[],w=x.data=[],f=o._visibleDims=[];function C(D,R){for(var P=D.makeCalcdata({v:R.values,vcalendar:o.calendar},"v"),O=0;O<P.length;O++)P[O]=P[O]===i?NaN:P[O];y.push(P),w.push("log"===D.type?S.simpleMap(P,D.c2l):P)}for(u=0;u<m.length;u++)if((h=m[u]).visible){if(c=A.getFromId(r,o._diag[u][0]),b=A.getFromId(r,o._diag[u][1]),c&&b&&c.type!==b.type){S.log("Skipping splom dimension "+u+" with conflicting axis types");continue}c?(C(c,h),b&&"category"===b.type&&(b._categories=c._categories.slice())):C(b,h),f.push(u)}for(_(r,o),S.extendFlat(x,s(r,o)),p=y.length*v>n?x.sizeAvg||Math.max(x.size,3):a(o,v),l=0;l<f.length;l++)h=m[u=f[l]],c=A.getFromId(r,o._diag[u][0])||{},b=A.getFromId(r,o._diag[u][1])||{},M(r,o,c,b,y[l],y[l],p);var T=t(r,o);return T.matrix||(T.matrix=!0),T.matrixOptions=x,T.selectedOptions=d(r,o,o.selected),T.unselectedOptions=d(r,o,o.unselected),[{x:!1,y:!1,t:{},trace:o}]}},69544:function(ie,z,e){"use strict";var S=e(3400),A=e(51272),a=e(44524),M=e(43028),_=e(74428),d=e(26284),s=e(80088).isOpenSymbol;function t(i,n){function r(u,l){return S.coerce(i,n,a.dimensions,u,l)}r("label");var o=r("values");o&&o.length?r("visible"):n.visible=!1,r("axis.type"),r("axis.matches")}ie.exports=function(i,n,r,o){function u(v,x){return S.coerce(i,n,a,v,x)}var l=A(i,n,{name:"dimensions",handleItemDefaults:t}),h=u("diagonal.visible"),c=u("showupperhalf"),b=u("showlowerhalf");if(d(n,l,"values")&&(h||c||b)){u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),_(i,n,r,o,u,{noAngleRef:!0,noStandOff:!0});var p=s(n.marker.symbol),m=M.isBubble(n);u("marker.line.width",p||m?1:0),function(v,x,y,w){var f,C,T=x.dimensions,D=T.length,R=x.showupperhalf,P=x.showlowerhalf,O=x.diagonal.visible,B=new Array(D),q=new Array(D);for(f=0;f<D;f++){var N=f?f+1:"";B[f]="x"+N,q[f]="y"+N}var H=w("xaxes",B),$=w("yaxes",q),j=x._diag=new Array(D);x._xaxes={},x._yaxes={};var W=[],G=[];function ae(ge,Te,Me,we){if(ge){var xe=ge.charAt(0),be=y._splomAxes[xe];if(x["_"+xe+"axes"][ge]=1,we.push(ge),!(ge in be)){var ye=be[ge]={};Me&&(ye.label=Me.label||"",Me.visible&&Me.axis&&(Me.axis.type&&(ye.type=Me.axis.type),Me.axis.matches&&(ye.matches=Te)))}}}var te=!O&&!P,Q=!O&&!R;for(x._axesDim={},f=0;f<D;f++){var ee=T[f],re=0===f,J=f===D-1,le=re&&te||J&&Q?void 0:H[f],fe=re&&Q||J&&te?void 0:$[f];ae(le,fe,ee,W),ae(fe,le,ee,G),j[f]=[le,fe],x._axesDim[le]=f,x._axesDim[fe]=f}for(f=0;f<W.length;f++)for(C=0;C<G.length;C++){var ce=W[f]+G[C];f>C&&R||f<C&&P?y._splomSubplots[ce]=1:f!==C||!O&&P&&R||(y._splomSubplots[ce]=1)}(!P||!O&&R&&P)&&(y._splomGridDflt.xside="bottom",y._splomGridDflt.yside="left")}(0,n,o,u),S.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},83156:function(ie,z,e){"use strict";var S=e(3400),A=e(90136),a=e(84236).markerStyle;ie.exports=function(M,_){var d=_.trace,s=M._fullLayout._splomScenes[d.uid];if(s){A(M,d),S.extendFlat(s.matrixOptions,a(M,d));var t=S.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(t,null)}}},50328:function(ie,z){"use strict";z.getDimIndex=function(e,S){for(var A=S._id,a={x:0,y:1}[A.charAt(0)],M=e._visibleDims,_=0;_<M.length;_++)if(e._diag[M[_]][a]===A)return _;return!1}},72248:function(ie,z,e){"use strict";var S=e(50328),A=e(41272).calcHover,a=e(54460).getFromId,M=e(92880).extendFlat;function _(d,s,t,i){var n=d.cd[0].trace,r=d.scene.matrixOptions.cdata,o=d.xa,u=d.ya,l=o.c2p(s),h=u.c2p(t),c=d.distance,b=S.getDimIndex(n,o),p=S.getDimIndex(n,u);if(!1===b||!1===p)return[d];for(var m,v,x=r[b],y=r[p],w=c,f=0;f<x.length;f++)if(!i||f===d.index){var T=y[f],D=o.c2p(x[f])-l,R=u.c2p(T)-h,P=Math.sqrt(D*D+R*R);(i||P<w)&&(w=v=P,m=f)}return d.index=m,d.distance=w,d.dxy=v,void 0===m?[d]:[A(d,x,y,n)]}ie.exports={hoverPoints:function(d,s,t,i,n){n||(n={});var r="x"===(i||"").charAt(0),o="y"===(i||"").charAt(0),u=_(d,s,t);if((r||o)&&"axis"===n.hoversubplots&&u[0])for(var l=(r?d.xa:d.ya)._subplotsWith,h=n.gd,c=M({},d),b=0;b<l.length;b++){var p=l[b];if(p!==d.xa._id+d.ya._id){o?c.xa=a(h,p,"x"):c.ya=a(h,p,"y");var m=_(c,s,t,r||o);u=u.concat(m)}}return u}}},97924:function(ie,z,e){"use strict";var S=e(28888);S.basePlotModule=e(99332),ie.exports=S},54840:function(ie,z,e){"use strict";var S=e(55795),A=e(3400),a=e(79811),M=e(72760).selectMode;function _(d,s){var t,i,n,r,o,u=d._fullLayout,l=u._size,h=s.trace,c=s.t,b=u._splomScenes[h.uid],p=b.matrixOptions,m=p.cdata,v=u._glcanvas.data()[0].regl,x=u.dragmode;if(0!==m.length){p.lower=h.showupperhalf,p.upper=h.showlowerhalf,p.diagonal=h.diagonal.visible;var y=h._visibleDims,w=m.length,f=b.viewOpts={};for(f.ranges=new Array(w),f.domains=new Array(w),o=0;o<y.length;o++){n=y[o];var C=f.ranges[o]=new Array(4),T=f.domains[o]=new Array(4);(t=a.getFromId(d,h._diag[n][0]))&&(C[0]=t._rl[0],C[2]=t._rl[1],T[0]=t.domain[0],T[2]=t.domain[1]),(i=a.getFromId(d,h._diag[n][1]))&&(C[1]=i._rl[0],C[3]=i._rl[1],T[1]=i.domain[0],T[3]=i.domain[1])}var D=d._context.plotGlPixelRatio,R=l.l*D,P=l.b*D;f.viewport=[R,P,l.w*D+R,l.h*D+P],!0===b.matrix&&(b.matrix=S(v));var q=u.clickmode.indexOf("select")>-1,N=!0;if(M(x)||h.selectedpoints||q){var H=h._length;if(h.selectedpoints){b.selectBatch=h.selectedpoints;var $=h.selectedpoints,j={};for(n=0;n<$.length;n++)j[$[n]]=!0;var W=[];for(n=0;n<H;n++)j[n]||W.push(n);b.unselectBatch=W}var G=c.xpx=new Array(w),ae=c.ypx=new Array(w);for(o=0;o<y.length;o++){if(t=a.getFromId(d,h._diag[n=y[o]][0]))for(G[o]=new Array(H),r=0;r<H;r++)G[o][r]=t.c2p(m[o][r]);if(i=a.getFromId(d,h._diag[n][1]))for(ae[o]=new Array(H),r=0;r<H;r++)ae[o][r]=i.c2p(m[o][r])}if(b.selectBatch.length||b.unselectBatch.length){var te=A.extendFlat({},p,b.unselectedOptions,f),Q=A.extendFlat({},p,b.selectedOptions,f);b.matrix.update(te,Q),N=!1}}else c.xpx=c.ypx=null;if(N){var ee=A.extendFlat({},p,f);b.matrix.update(ee,null)}}}ie.exports=function(d,s,t){if(t.length)for(var i=0;i<t.length;i++)_(d,t[i][0])}},72308:function(ie,z,e){"use strict";var S=e(3400);ie.exports=function(A,a){var M=A._fullLayout,_=a.uid,d=M._splomScenes;d||(d=M._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},t=d[a.uid];return t||((t=d[_]=S.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||S.extendFlat(t,s),t}},62500:function(ie,z,e){"use strict";var S=e(3400),A=S.pushUnique,a=e(43028),M=e(50328);ie.exports=function(_,d){var s=_.cd,t=s[0].trace,i=s[0].t,n=_.scene,r=n.matrixOptions.cdata,o=_.xaxis,u=_.yaxis,l=[];if(!n)return l;var h=!a.hasMarkers(t)&&!a.hasText(t);if(!0!==t.visible||h)return l;var c=M.getDimIndex(t,o),b=M.getDimIndex(t,u);if(!1===c||!1===b)return l;var p=i.xpx[c],m=i.ypx[b],v=r[c],x=r[b],y=(_.scene.selectBatch||[]).slice(),w=[];if(!1!==d&&!d.degenerate)for(var f=0;f<v.length;f++)d.contains([p[f],m[f]],null,f,_)?(l.push({pointNumber:f,x:v[f],y:x[f]}),A(y,f)):-1!==y.indexOf(f)?A(y,f):w.push(f);var C=n.matrixOptions;return y.length||w.length?n.selectBatch.length||n.unselectBatch.length||n.matrix.update(n.unselectedOptions,S.extendFlat({},C,n.selectedOptions,n.viewOpts)):n.matrix.update(C,null),n.selectBatch=y,n.unselectBatch=w,l}},90167:function(ie,z,e){"use strict";var S=e(49084),A=e(29736).axisHoverFormat,a=e(21776).Ks,M=e(52948),_=e(45464),d=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:A("u",1),vhoverformat:A("v",1),whoverformat:A("w",1),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),showlegend:d({},_.showlegend,{dflt:!1})};d(s,S("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=M[t]}),s.hoverinfo=d({},_.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,ie.exports=s},3832:function(ie,z,e){"use strict";var S=e(3400),A=e(47128);function a(d){var s,t,i,n,r,o,u,l,h,c,b,p,m=d._x,v=d._y,x=d._z,y=d._len,w=-1/0,f=1/0,C=-1/0,T=1/0,D=-1/0,R=1/0,P="";for(y&&(u=m[0],h=v[0],b=x[0]),y>1&&(l=m[y-1],c=v[y-1],p=x[y-1]),s=0;s<y;s++)w=Math.max(w,m[s]),f=Math.min(f,m[s]),C=Math.max(C,v[s]),T=Math.min(T,v[s]),D=Math.max(D,x[s]),R=Math.min(R,x[s]),n||m[s]===u||(n=!0,P+="x"),r||v[s]===h||(r=!0,P+="y"),o||x[s]===b||(o=!0,P+="z");n||(P+="x"),r||(P+="y"),o||(P+="z");var O=M(d._x),B=M(d._y),q=M(d._z);P=(P=(P=P.replace("x",(u>l?"-":"+")+"x")).replace("y",(h>c?"-":"+")+"y")).replace("z",(b>p?"-":"+")+"z");var N=function(){y=0,O=[],B=[],q=[]};(!y||y<O.length*B.length*q.length)&&N();var H=function(xe){return"x"===xe?m:"y"===xe?v:x},$=function(xe){return"x"===xe?O:"y"===xe?B:q},j=function(xe){return xe[y-1]<xe[0]?-1:1},W=H(P[1]),G=H(P[3]),ae=H(P[5]),te=$(P[1]).length,Q=$(P[3]).length,ee=$(P[5]).length,re=!1,J=function(xe,be,ye){return te*(Q*xe+be)+ye},le=j(H(P[1])),fe=j(H(P[3])),ce=j(H(P[5]));for(s=0;s<ee-1;s++){for(t=0;t<Q-1;t++){for(i=0;i<te-1;i++){var ge=J(s,t,i),Te=J(s,t,i+1),Me=J(s,t+1,i),we=J(s+1,t,i);if(W[ge]*le<W[Te]*le&&G[ge]*fe<G[Me]*fe&&ae[ge]*ce<ae[we]*ce||(re=!0),re)break}if(re)break}if(re)break}return re&&(S.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:f,yMin:T,zMin:R,xMax:w,yMax:C,zMax:D,Xs:O,Ys:B,Zs:q,len:y,fill:P}}function M(d){return S.distinctVals(d).vals}function _(d,s){if(void 0===s&&(s=d.length),S.isTypedArray(d))return d.subarray(0,s);for(var t=[],i=0;i<s;i++)t[i]=+d[i];return t}ie.exports={calc:function(d,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=_(s.u,s._len),s._v=_(s.v,s._len),s._w=_(s.w,s._len),s._x=_(s.x,s._len),s._y=_(s.y,s._len),s._z=_(s.z,s._len);var t=a(s);s._gridFill=t.fill,s._Xs=t.Xs,s._Ys=t.Ys,s._Zs=t.Zs,s._len=t.len;var i,n,r,o=0;s.starts&&(i=_(s.starts.x||[]),n=_(s.starts.y||[]),r=_(s.starts.z||[]),o=Math.min(i.length,n.length,r.length)),s._startsX=i||[],s._startsY=n||[],s._startsZ=r||[];var u,l=0,h=1/0;for(u=0;u<s._len;u++){var c=s._u[u],b=s._v[u],p=s._w[u],m=Math.sqrt(c*c+b*b+p*p);l=Math.max(l,m),h=Math.min(h,m)}for(A(d,s,{vals:[h,l],containerStr:"",cLetter:"c"}),u=0;u<o;u++){var v=i[u];t.xMax=Math.max(t.xMax,v),t.xMin=Math.min(t.xMin,v);var x=n[u];t.yMax=Math.max(t.yMax,x),t.yMin=Math.min(t.yMin,x);var y=r[u];t.zMax=Math.max(t.zMax,y),t.zMin=Math.min(t.zMin,y)}s._slen=o,s._normMax=l,s._xbnds=[t.xMin,t.xMax],s._ybnds=[t.yMin,t.yMax],s._zbnds=[t.zMin,t.zMax]},filter:_,processGrid:a}},25668:function(ie,z,e){"use strict";var S=e(67792).gl_streamtube3d,A=S.createTubeMesh,a=e(3400),M=e(33040).parseColorScale,_=e(8932).extractOpts,d=e(52094),s={xaxis:0,yaxis:1,zaxis:2};function t(u,l){this.scene=u,this.uid=l,this.mesh=null,this.data=null}var i=t.prototype;function n(u){var l=u.length;return l>2?u.slice(1,l-1):2===l?[(u[0]+u[1])/2]:u}function r(u){var l=u.length;return 1===l?[.5,.5]:[u[1]-u[0],u[l-1]-u[l-2]]}function o(u,l){var h=u.fullSceneLayout,c=u.dataScale,b=l._len,p={};function m(te,Q){var ee=h[Q],re=c[s[Q]];return a.simpleMap(te,function(J){return ee.d2l(J)*re})}if(p.vectors=d(m(l._u,"xaxis"),m(l._v,"yaxis"),m(l._w,"zaxis"),b),!b)return{positions:[],cells:[]};var v=m(l._Xs,"xaxis"),x=m(l._Ys,"yaxis"),y=m(l._Zs,"zaxis");if(p.meshgrid=[v,x,y],p.gridFill=l._gridFill,l._slen)p.startingPositions=d(m(l._startsX,"xaxis"),m(l._startsY,"yaxis"),m(l._startsZ,"zaxis"));else{for(var w=x[0],f=n(v),C=n(y),T=new Array(f.length*C.length),D=0,R=0;R<f.length;R++)for(var P=0;P<C.length;P++)T[D++]=[f[R],w,C[P]];p.startingPositions=T}p.colormap=M(l),p.tubeSize=l.sizeref,p.maxLength=l.maxdisplayed;var O=m(l._xbnds,"xaxis"),B=m(l._ybnds,"yaxis"),q=m(l._zbnds,"zaxis"),N=r(v),H=r(x),$=r(y),W=S(p,[[O[0]-N[0],B[0]-H[0],q[0]-$[0]],[O[1]+N[1],B[1]+H[1],q[1]+$[1]]]),G=_(l);W.vertexIntensityBounds=[G.min/l._normMax,G.max/l._normMax];var ae=l.lightposition;return W.lightPosition=[ae.x,ae.y,ae.z],W.ambient=l.lighting.ambient,W.diffuse=l.lighting.diffuse,W.specular=l.lighting.specular,W.roughness=l.lighting.roughness,W.fresnel=l.lighting.fresnel,W.opacity=l.opacity,l._pad=W.tubeScale*l.sizeref*2,W}i.handlePick=function(u){var l=this.scene.fullSceneLayout,h=this.scene.dataScale;function c(m,v){var y=h[s[v]];return l[v].l2c(m)/y}if(u.object===this.mesh){var b=u.data.position,p=u.data.velocity;return u.traceCoordinate=[c(b[0],"xaxis"),c(b[1],"yaxis"),c(b[2],"zaxis"),c(p[0],"xaxis"),c(p[1],"yaxis"),c(p[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(u){this.data=u;var l=o(this.scene,u);this.mesh.update(l)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(u,l){var h=u.glplot.gl,c=o(u,l),b=A(h,c),p=new t(u,l.uid);return p.mesh=b,p.data=l,b._trace=p,u.glplot.add(b),p}},54304:function(ie,z,e){"use strict";var S=e(3400),A=e(27260),a=e(90167);ie.exports=function(M,_,d,s){function t(h,c){return S.coerce(M,_,a,h,c)}var i=t("u"),n=t("v"),r=t("w"),o=t("x"),u=t("y"),l=t("z");i&&i.length&&n&&n.length&&r&&r.length&&o&&o.length&&u&&u.length&&l&&l.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),A(M,_,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),_._length=null):_.visible=!1}},15436:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(S,A){return S.tubex=S.x,S.tubey=S.y,S.tubez=S.z,S.tubeu=A.traceCoordinate[3],S.tubev=A.traceCoordinate[4],S.tubew=A.traceCoordinate[5],S.norm=A.traceCoordinate[6],S.divergence=A.traceCoordinate[7],delete S.x,delete S.y,delete S.z,S},meta:{}}},424:function(ie,z,e){"use strict";var S=e(45464),A=e(21776).Ks,a=e(21776).Gw,M=e(49084),_=e(86968).u,d=e(74996),s=e(27328),t=e(92880).extendFlat,i=e(98192).c;ie.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},d.marker.line.color,{dflt:null}),width:t({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},M("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:d.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:d.hovertext,hoverinfo:t({},S.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:A({},{keys:s.eventDataKeys}),textfont:d.textfont,insidetextorientation:d.insidetextorientation,insidetextfont:d.insidetextfont,outsidetextfont:t({},d.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:d.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:_({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(ie,z,e){"use strict";var S=e(7316);z.name="sunburst",z.plot=function(A,a,M,_){S.plotBasePlot(z.name,A,a,M,_)},z.clean=function(A,a,M,_){S.cleanBasePlot(z.name,A,a,M,_)}},3776:function(ie,z,e){"use strict";var S=e(74148),A=e(38248),a=e(3400),M=e(8932).makeColorScaleFuncFromTrace,_=e(45768).makePullColorFn,d=e(45768).generateExtendedColors,s=e(8932).calc,t=e(39032).ALMOST_EQUAL,i={},n={},r={};function o(u,l,h){var c=0,b=u.children;if(b){for(var p=b.length,m=0;m<p;m++)c+=o(b[m],l,h);h.branches&&c++}else h.leaves&&c++;return u.value=u.data.data.value=c,l._values||(l._values=[]),l._values[u.data.data.i]=c,c}z.calc=function(u,l){var h,c,b,p,m,v,x=u._fullLayout,y=l.ids,w=a.isArrayOrTypedArray(y),f=l.labels,C=l.parents,T=l.values,D=a.isArrayOrTypedArray(T),R=[],P={},O={},B=function(ce){return ce||"number"==typeof ce},q=function(ce){return!D||A(T[ce])&&T[ce]>=0};w?(h=Math.min(y.length,C.length),c=function(ce){return B(y[ce])&&q(ce)},b=function(ce){return String(y[ce])}):(h=Math.min(f.length,C.length),c=function(ce){return B(f[ce])&&q(ce)},b=function(ce){return String(f[ce])}),D&&(h=Math.min(h,T.length));for(var N=0;N<h;N++)if(c(N)){var H=b(N),$=B(C[N])?String(C[N]):"",j={i:N,id:H,pid:$,label:B(f[N])?String(f[N]):""};D&&(j.v=+T[N]),R.push(j),m=H,P[p=$]?P[p].push(m):P[p]=[m],O[m]=1}if(P[""]){if(P[""].length>1){for(var W=a.randstr(),G=0;G<R.length;G++)""===R[G].pid&&(R[G].pid=W);R.unshift({hasMultipleRoots:!0,id:W,pid:"",label:""})}}else{var ae,te=[];for(ae in P)O[ae]||te.push(ae);if(1!==te.length)return a.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",te.join(", ")].join(" "));R.unshift({hasImpliedRoot:!0,id:ae=te[0],pid:"",label:ae})}try{v=S.stratify().id(function(ce){return ce.id}).parentId(function(ce){return ce.pid})(R)}catch(ce){return a.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",ce.message].join(" "))}var Q=S.hierarchy(v),ee=!1;if(D)switch(l.branchvalues){case"remainder":Q.sum(function(ce){return ce.data.v});break;case"total":Q.each(function(ce){var ge=ce.data.data,Te=ge.v;if(ce.children){var Me=ce.children.reduce(function(we,xe){return we+xe.data.data.v},0);if((ge.hasImpliedRoot||ge.hasMultipleRoots)&&(Te=Me),Te<Me*t)return ee=!0,a.warn(["Total value for node",ce.data.data.id,"of",l.name,"is smaller than the sum of its children.","\nparent value =",Te,"\nchildren sum =",Me].join(" "))}ce.value=Te})}else o(Q,l,{branches:-1!==l.count.indexOf("branches"),leaves:-1!==l.count.indexOf("leaves")});if(!ee){var re,J;l.sort&&Q.sort(function(ce,ge){return ge.value-ce.value});var le=l.marker.colors||[];return l._hasColorscale?(!!le.length||(le=D?l.values:l._values),s(u,l,{vals:le,containerStr:"marker",cLetter:"c"}),J=M(l.marker)):re=_(x["_"+l.type+"colormap"]),Q.each(function(ce){var ge=ce.data.data;ge.color=l._hasColorscale?J(le[ge.i]):re(le[ge.i],ge.id)}),R[0].hierarchy=Q,R}},z._runCrossTraceCalc=function(u,l){var h=l._fullLayout,c=l.calcdata,b=h[u+"colorway"],p=h["_"+u+"colormap"];h["extend"+u+"colors"]&&(b=d(b,"icicle"===u?r:"treemap"===u?n:i));var m,v=0;function x(f){var C=f.data.data,T=C.id;!1===C.color&&(p[T]?C.color=p[T]:f.parent?f.parent.parent?C.color=f.parent.data.data.color:(p[T]=C.color=b[v%b.length],v++):C.color=m)}for(var y=0;y<c.length;y++){var w=c[y][0];w.trace.type===u&&w.hierarchy&&(m=w.trace.root.color,w.hierarchy.each(x))}},z.crossTraceCalc=function(u){return z._runCrossTraceCalc("sunburst",u)}},27328:function(ie){"use strict";ie.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(ie,z,e){"use strict";var S=e(3400),A=e(424),a=e(86968).Q,M=e(31508).handleText,_=e(74174).handleMarkerDefaults,d=e(8932),s=d.hasColorscale,t=d.handleDefaults;ie.exports=function(i,n,r,o){function u(m,v){return S.coerce(i,n,A,m,v)}var l=u("labels"),h=u("parents");if(l&&l.length&&h&&h.length){var c=u("values");u(c&&c.length?"branchvalues":"count"),u("level"),u("maxdepth"),_(i,n,o,u);var b=n._hasColorscale=s(i,"marker","colors")||(i.marker||{}).coloraxis;b&&t(i,n,o,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",b?1:.7);var p=u("text");u("texttemplate"),n.texttemplate||u("textinfo",S.isArrayOrTypedArray(p)?"text+label":"label"),u("hovertext"),u("hovertemplate"),M(i,n,o,u,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),a(n,o,u),n._length=null}else n.visible=!1}},60404:function(ie,z,e){"use strict";var S=e(43616),A=e(76308);ie.exports=function(a,M,_,d,s){var t=M.data.data,n=s||t.color;if(t.i>=0){M.i=t.i;var r=_.marker;r.pattern&&r.colors&&r.pattern.shape||(r.color=n,M.color=n),S.pointStyle(a,_,d,M)}else A.fill(a,n)}},45716:function(ie,z,e){"use strict";var S=e(33428),A=e(24040),a=e(10624).appendArrayPointValue,M=e(93024),_=e(3400),d=e(95924),s=e(78176),t=e(69656).formatPieValue;function i(n,r,o){for(var u=n.data.data,l={curveNumber:r.index,pointNumber:u.i,data:r._input,fullData:r},h=0;h<o.length;h++){var c=o[h];c in n&&(l[c]=n[c])}return"parentString"in n&&!s.isHierarchyRoot(n)&&(l.parent=n.parentString),a(l,r,u.i),l}ie.exports=function(n,r,o,u,l){var h=u[0],c=h.trace,b=h.hierarchy,p="sunburst"===c.type,m="treemap"===c.type||"icicle"===c.type;"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),n.on("mouseover",function(v){var x=o._fullLayout;if(!o._dragging&&!1!==x.hovermode){var y,w=o._fullData[c.index],f=v.data.data,C=f.i,T=s.isHierarchyRoot(v),D=s.getParent(b,v),R=s.getValue(v),P=function(le){return _.castOption(w,C,le)},O=P("hovertemplate"),B=M.castHoverinfo(w,x,C),q=x.separators;if(O||B&&"none"!==B&&"skip"!==B){var N,H;p&&(N=h.cx+v.pxmid[0]*(1-v.rInscribed),H=h.cy+v.pxmid[1]*(1-v.rInscribed)),m&&(N=v._hoverX,H=v._hoverY);var $,j={},W=[],G=[],ae=function(le){return-1!==W.indexOf(le)};B&&(W="all"===B?w._module.attributes.hoverinfo.flags:B.split("+")),j.label=f.label,ae("label")&&j.label&&G.push(j.label),f.hasOwnProperty("v")&&(j.value=f.v,j.valueLabel=t(j.value,q),ae("value")&&G.push(j.valueLabel)),j.currentPath=v.currentPath=s.getPath(v.data),ae("current path")&&!T&&G.push(j.currentPath);var te=[],Q=function(){-1===te.indexOf($)&&(G.push($),te.push($))};j.percentParent=v.percentParent=R/s.getValue(D),j.parent=v.parentString=s.getPtLabel(D),ae("percent parent")&&($=s.formatPercent(j.percentParent,q)+" of "+j.parent,Q()),j.percentEntry=v.percentEntry=R/s.getValue(r),j.entry=v.entry=s.getPtLabel(r),!ae("percent entry")||T||v.onPathbar||($=s.formatPercent(j.percentEntry,q)+" of "+j.entry,Q()),j.percentRoot=v.percentRoot=R/s.getValue(b),j.root=v.root=s.getPtLabel(b),ae("percent root")&&!T&&($=s.formatPercent(j.percentRoot,q)+" of "+j.root,Q()),j.text=P("hovertext")||P("text"),ae("text")&&_.isValidTextValue($=j.text)&&G.push($),y=[i(v,w,l.eventDataKeys)];var ee={trace:w,y:H,_x0:v._x0,_x1:v._x1,_y0:v._y0,_y1:v._y1,text:G.join("<br>"),name:O||ae("name")?w.name:void 0,color:P("hoverlabel.bgcolor")||f.color,borderColor:P("hoverlabel.bordercolor"),fontFamily:P("hoverlabel.font.family"),fontSize:P("hoverlabel.font.size"),fontColor:P("hoverlabel.font.color"),fontWeight:P("hoverlabel.font.weight"),fontStyle:P("hoverlabel.font.style"),fontVariant:P("hoverlabel.font.variant"),nameLength:P("hoverlabel.namelength"),textAlign:P("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:j,eventData:y};p&&(ee.x0=N-v.rInscribed*v.rpx1,ee.x1=N+v.rInscribed*v.rpx1,ee.idealAlign=v.pxmid[0]<0?"left":"right"),m&&(ee.x=N,ee.idealAlign=N<0?"left":"right");var re=[];M.loneHover(ee,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:o,inOut_bbox:re}),y[0].bbox=re[0],c._hasHoverLabel=!0}if(m){var J=n.select("path.surface");l.styleOne(J,v,w,o,{hovered:!0})}c._hasHoverEvent=!0,o.emit("plotly_hover",{points:y||[i(v,w,l.eventDataKeys)],event:S.event})}}),n.on("mouseout",function(v){var x=o._fullLayout,y=o._fullData[c.index],w=S.select(this).datum();if(c._hasHoverEvent&&(v.originalEvent=S.event,o.emit("plotly_unhover",{points:[i(w,y,l.eventDataKeys)],event:S.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(M.loneUnhover(x._hoverlayer.node()),c._hasHoverLabel=!1),m){var f=n.select("path.surface");l.styleOne(f,w,y,o,{hovered:!1})}}),n.on("click",function(v){var x=o._fullLayout,y=o._fullData[c.index],w=p&&(s.isHierarchyRoot(v)||s.isLeaf(v)),f=s.getPtId(v),C=s.isEntry(v)?s.findEntryWithChild(b,f):s.findEntryWithLevel(b,f),T=s.getPtId(C),D={points:[i(v,y,l.eventDataKeys)],event:S.event};w||(D.nextLevel=T);var R=d.triggerHandler(o,"plotly_"+c.type+"click",D);if(!1!==R&&x.hovermode&&(o._hoverdata=[i(v,y,l.eventDataKeys)],M.click(o,S.event)),!w&&!1!==R&&!o._dragging&&!o._transitioning){A.call("_storeDirectGUIEdit",y,x._tracePreGUI[y.uid],{level:y.level});var P={data:[{level:T}],traces:[c.index]},O={frame:{redraw:!1,duration:l.transitionTime},transition:{duration:l.transitionTime,easing:l.transitionEasing},mode:"immediate",fromcurrent:!0};M.loneUnhover(x._hoverlayer.node()),A.call("animate",o,P,O)}})}},78176:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(93972),M=e(69656);function _(d){return d.data.data.pid}z.findEntryWithLevel=function(d,s){var t;return s&&d.eachAfter(function(i){if(z.getPtId(i)===s)return t=i.copy()}),t||d},z.findEntryWithChild=function(d,s){var t;return d.eachAfter(function(i){for(var n=i.children||[],r=0;r<n.length;r++)if(z.getPtId(n[r])===s)return t=i.copy()}),t||d},z.isEntry=function(d){return!d.parent},z.isLeaf=function(d){return!d.children},z.getPtId=function(d){return d.data.data.id},z.getPtLabel=function(d){return d.data.data.label},z.getValue=function(d){return d.value},z.isHierarchyRoot=function(d){return""===_(d)},z.setSliceCursor=function(d,s,t){var i=t.isTransitioning;if(!i){var n=d.datum();i=t.hideOnRoot&&z.isHierarchyRoot(n)||t.hideOnLeaves&&z.isLeaf(n)}a(d,i?null:"pointer")},z.getInsideTextFontKey=function(d,s,t,i,n){var o=t.data.data.i;return S.castOption(s,o,((n||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+d)||S.castOption(s,o,"textfont."+d)||i.size},z.getOutsideTextFontKey=function(d,s,t,i){var n=t.data.data.i;return S.castOption(s,n,"outsidetextfont."+d)||S.castOption(s,n,"textfont."+d)||i.size},z.isOutsideText=function(d,s){return!d._hasColorscale&&z.isHierarchyRoot(s)},z.determineTextFont=function(d,s,t,i){return z.isOutsideText(d,s)?{color:z.getOutsideTextFontKey("color",n=d,r=s,o=t),family:z.getOutsideTextFontKey("family",n,r,o),size:z.getOutsideTextFontKey("size",n,r,o),weight:z.getOutsideTextFontKey("weight",n,r,o),style:z.getOutsideTextFontKey("style",n,r,o),variant:z.getOutsideTextFontKey("variant",n,r,o)}:function(n,r,o,u){var h=r.data.data,c=h.i,b=S.castOption(n,c,((u||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!b&&n._input.textfont&&(b=S.castOption(n._input,c,"textfont.color")),{color:b||A.contrast(h.color),family:z.getInsideTextFontKey("family",n,r,o,u),size:z.getInsideTextFontKey("size",n,r,o,u),weight:z.getInsideTextFontKey("weight",n,r,o,u),style:z.getInsideTextFontKey("style",n,r,o,u),variant:z.getInsideTextFontKey("variant",n,r,o,u)}}(d,s,t,i);var n,r,o},z.hasTransition=function(d){return!!(d&&d.duration>0)},z.getMaxDepth=function(d){return d.maxdepth>=0?d.maxdepth:1/0},z.isHeader=function(d,s){return!(z.isLeaf(d)||d.depth===s._maxDepth-1)},z.getParent=function(d,s){return z.findEntryWithLevel(d,_(s))},z.listPath=function(d,s){var t=d.parent;if(!t)return[];var i=s?[t.data[s]]:[t];return z.listPath(t,s).concat(i)},z.getPath=function(d){return z.listPath(d,"label").join("/")+"/"},z.formatValue=M.formatPieValue,z.formatPercent=function(d,s){var t=S.formatPercent(d,0);return"0%"===t&&(t=M.formatPiePercent(d,s)),t}},5621:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(ie){"use strict";ie.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(ie,z,e){"use strict";var S=e(3400),A=e(84920);ie.exports=function(a,M){function _(d,s){return S.coerce(a,M,A,d,s)}_("sunburstcolorway",M.colorway),_("extendsunburstcolors")}},96488:function(ie,z,e){"use strict";var S=e(33428),A=e(74148),a=e(67756).qy,M=e(43616),_=e(3400),d=e(72736),s=e(82744),t=s.recordMinTextSize,i=s.clearMinTextSize,n=e(37820),r=e(69656).getRotationAngle,o=n.computeTransform,u=n.transformInsideText,l=e(85676).styleOne,h=e(60100).resizeText,c=e(45716),b=e(27328),p=e(78176);function m(x,y,w,f){var C=x._context.staticPlot,T=x._fullLayout,D=!T.uniformtext.mode&&p.hasTransition(f),R=S.select(w).selectAll("g.slice"),P=y[0],O=P.trace,q=p.findEntryWithLevel(P.hierarchy,O.level),N=p.getMaxDepth(O),H=T._size,$=O.domain,W=H.h*($.y[1]-$.y[0]),G=.5*Math.min(H.w*($.x[1]-$.x[0]),W),ae=P.cx=H.l+H.w*($.x[1]+$.x[0])/2,te=P.cy=H.t+H.h*(1-$.y[0])-W/2;if(!q)return R.remove();var Q=null,ee={};D&&R.each(function(ue){ee[p.getPtId(ue)]={rpx0:ue.rpx0,rpx1:ue.rpx1,x0:ue.x0,x1:ue.x1,transform:ue.transform},!Q&&p.isEntry(ue)&&(Q=ue)});var ue,re=(ue=q,A.partition().size([2*Math.PI,ue.height+1])(ue)).descendants(),J=q.height+1,le=0,fe=N;P.hasMultipleRoots&&p.isHierarchyRoot(q)&&(re=re.slice(1),J-=1,le=1,fe+=1),re=re.filter(function(ue){return ue.y1<=fe});var ce=r(O.rotation);ce&&re.forEach(function(ue){ue.x0+=ce,ue.x1+=ce});var ge=Math.min(J,N),Te=function(ue){return(ue-le)/ge*G},Me=function(ue,me){return[ue*Math.cos(me),-ue*Math.sin(me)]},we=function(ue){return _.pathAnnulus(ue.rpx0,ue.rpx1,ue.x0,ue.x1,ae,te)},xe=function(ue){return ae+v(ue)[0]*(ue.transform.rCenter||0)+(ue.transform.x||0)},be=function(ue){return te+v(ue)[1]*(ue.transform.rCenter||0)+(ue.transform.y||0)};(R=R.data(re,p.getPtId)).enter().append("g").classed("slice",!0),D?R.exit().transition().each(function(){var ue=S.select(this);ue.select("path.surface").transition().attrTween("d",function(me){var Pe=function(Ce){var Ie,Oe=p.getPtId(Ce),ze=ee[Oe],je=ee[p.getPtId(q)];if(je){var ve=(Ce.x1>je.x1?2*Math.PI:0)+ce;Ie=Ce.rpx1<je.rpx1?{x0:Ce.x0,x1:Ce.x1,rpx0:0,rpx1:0}:{x0:ve,x1:ve,rpx0:Ce.rpx0,rpx1:Ce.rpx1}}else{var Ae,Le=p.getPtId(Ce.parent);R.each(function(nt){if(p.getPtId(nt)===Le)return Ae=nt});var Ve,Ne=Ae.children;Ne.forEach(function(nt,dt){if(p.getPtId(nt)===Oe)return Ve=dt});var We=Ne.length,Xe=a(Ae.x0,Ae.x1);Ie={rpx0:G,rpx1:G,x0:Xe(Ve/We),x1:Xe((Ve+1)/We)}}return a(ze,Ie)}(me);return function(Ce){return we(Pe(Ce))}}),ue.select("g.slicetext").attr("opacity",0)}).remove():R.exit().remove(),R.order();var ye=null;if(D&&Q){var Se=p.getPtId(Q);R.each(function(ue){null===ye&&p.getPtId(ue)===Se&&(ye=ue.x1)})}var Ee=R;function he(ue){var me=ue.parent,Pe=ee[p.getPtId(me)],Ce={};if(Pe){var Ie=me.children,Oe=Ie.indexOf(ue),ze=Ie.length,je=a(Pe.x0,Pe.x1);Ce.x0=je(Oe/ze),Ce.x1=je(Oe/ze)}else Ce.x0=Ce.x1=0;return Ce}D&&(Ee=Ee.transition().each("end",function(){var ue=S.select(this);p.setSliceCursor(ue,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ee.each(function(ue){var ve,me=S.select(this),Pe=_.ensureSingle(me,"path","surface",function(ve){ve.style("pointer-events",C?"none":"all")});ue.rpx0=Te(ue.y0),ue.rpx1=Te(ue.y1),ue.xmid=(ue.x0+ue.x1)/2,ue.pxmid=Me(ue.rpx1,ue.xmid),ue.midangle=-(ue.xmid-Math.PI/2),ue.startangle=-(ue.x0-Math.PI/2),ue.stopangle=-(ue.x1-Math.PI/2),ue.halfangle=.5*Math.min(_.angleDelta(ue.x0,ue.x1)||Math.PI,Math.PI),ue.ring=1-ue.rpx0/ue.rpx1,ue.rInscribed=0===(ve=ue).rpx0&&_.isFullCircle([ve.x0,ve.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(ve.halfangle)),ve.ring/2)),D?Pe.transition().attrTween("d",function(ve){var Ae=function(Le){var Ve,Ne=ee[p.getPtId(Le)],We={x0:Le.x0,x1:Le.x1,rpx0:Le.rpx0,rpx1:Le.rpx1};if(Ne)Ve=Ne;else if(Q)if(Le.parent)if(ye){var Xe=(Le.x1>ye?2*Math.PI:0)+ce;Ve={x0:Xe,x1:Xe}}else _.extendFlat(Ve={rpx0:G,rpx1:G},he(Le));else Ve={rpx0:0,rpx1:0};else Ve={x0:ce,x1:ce};return a(Ve,We)}(ve);return function(Le){return we(Ae(Le))}}):Pe.attr("d",we),me.call(c,q,x,y,{eventDataKeys:b.eventDataKeys,transitionTime:b.CLICK_TRANSITION_TIME,transitionEasing:b.CLICK_TRANSITION_EASING}).call(p.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),Pe.call(l,ue,O,x);var Ce=_.ensureSingle(me,"g","slicetext"),Ie=_.ensureSingle(Ce,"text","",function(ve){ve.attr("data-notex",1)}),Oe=_.ensureUniformFontSize(x,p.determineTextFont(O,ue,T.font));Ie.text(z.formatSliceLabel(ue,q,O,y,T)).classed("slicetext",!0).attr("text-anchor","middle").call(M.font,Oe).call(d.convertToTspans,x);var ze=M.bBox(Ie.node());ue.transform=u(ze,ue,P),ue.transform.targetX=xe(ue),ue.transform.targetY=be(ue);var je=function(ve,Ae){var Le=ve.transform;return o(Le,Ae),Le.fontSize=Oe.size,t(O.type,Le,T),_.getTextTransform(Le)};D?Ie.transition().attrTween("transform",function(ve){var Ae=function(Le){var Ve,Ne=ee[p.getPtId(Le)],We=Le.transform;if(Ne)Ve=Ne;else if(Ve={rpx1:Le.rpx1,transform:{textPosAngle:We.textPosAngle,scale:0,rotate:We.rotate,rCenter:We.rCenter,x:We.x,y:We.y}},Q)if(Le.parent)if(ye){var Xe=Le.x1>ye?2*Math.PI:0;Ve.x0=Ve.x1=Xe}else _.extendFlat(Ve,he(Le));else Ve.x0=Ve.x1=ce;else Ve.x0=Ve.x1=ce;var nt=a(Ve.transform.textPosAngle,Le.transform.textPosAngle),dt=a(Ve.rpx1,Le.rpx1),ht=a(Ve.x0,Le.x0),Mt=a(Ve.x1,Le.x1),kt=a(Ve.transform.scale,We.scale),_t=a(Ve.transform.rotate,We.rotate),ut=0===We.rCenter?3:0===Ve.transform.rCenter?1/3:1,st=a(Ve.transform.rCenter,We.rCenter);return function(Lt){var Ut=dt(Lt),Ht=ht(Lt),Pt=Mt(Lt),Je=st(Math.pow(Lt,ut)),tt={pxmid:Me(Ut,(Ht+Pt)/2),rpx1:Ut,transform:{textPosAngle:nt(Lt),rCenter:Je,x:We.x,y:We.y}};return t(O.type,We,T),{transform:{targetX:xe(tt),targetY:be(tt),scale:kt(Lt),rotate:_t(Lt),rCenter:Je}}}}(ve);return function(Le){return je(Ae(Le),ze)}}):Ie.attr("transform",je(ue,ze))})}function v(x){return w=x.transform.textPosAngle,[(y=x.rpx1)*Math.sin(w),-y*Math.cos(w)];var y,w}z.plot=function(x,y,w,f){var C,T,D=x._fullLayout,R=D._sunburstlayer,P=!w,O=!D.uniformtext.mode&&p.hasTransition(w);i("sunburst",D),(C=R.selectAll("g.trace.sunburst").data(y,function(B){return B[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),C.order(),O?(f&&(T=f()),S.transition().duration(w.duration).ease(w.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){R.selectAll("g.trace").each(function(B){m(x,B,this,w)})})):(C.each(function(B){m(x,B,this,w)}),D.uniformtext.mode&&h(x,D._sunburstlayer.selectAll(".trace"),"sunburst")),P&&C.exit().remove()},z.formatSliceLabel=function(x,y,w,f,C){var T=w.texttemplate,D=w.textinfo;if(!(T||D&&"none"!==D))return"";var R=C.separators,O=x.data.data,B=f[0].hierarchy,q=p.isHierarchyRoot(x),N=p.getParent(B,x),H=p.getValue(x);if(!T){var $,j=D.split("+"),W=function(fe){return-1!==j.indexOf(fe)},G=[];if(W("label")&&O.label&&G.push(O.label),O.hasOwnProperty("v")&&W("value")&&G.push(p.formatValue(O.v,R)),!q){W("current path")&&G.push(p.getPath(x.data));var ae=0;W("percent parent")&&ae++,W("percent entry")&&ae++,W("percent root")&&ae++;var te=ae>1;if(ae){var Q,ee=function(fe){$=p.formatPercent(Q,R),te&&($+=" of "+fe),G.push($)};W("percent parent")&&!q&&(Q=H/p.getValue(N),ee("parent")),W("percent entry")&&(Q=H/p.getValue(y),ee("entry")),W("percent root")&&(Q=H/p.getValue(B),ee("root"))}}return W("text")&&($=_.castOption(w,O.i,"text"),_.isValidTextValue($)&&G.push($)),G.join("<br>")}var re=_.castOption(w,O.i,"texttemplate");if(!re)return"";var J={};O.label&&(J.label=O.label),O.hasOwnProperty("v")&&(J.value=O.v,J.valueLabel=p.formatValue(O.v,R)),J.currentPath=p.getPath(x.data),q||(J.percentParent=H/p.getValue(N),J.percentParentLabel=p.formatPercent(J.percentParent,R),J.parent=p.getPtLabel(N)),J.percentEntry=H/p.getValue(y),J.percentEntryLabel=p.formatPercent(J.percentEntry,R),J.entry=p.getPtLabel(y),J.percentRoot=H/p.getValue(B),J.percentRootLabel=p.formatPercent(J.percentRoot,R),J.root=p.getPtLabel(B),O.hasOwnProperty("color")&&(J.color=O.color);var le=_.castOption(w,O.i,"text");return(_.isValidTextValue(le)||""===le)&&(J.text=le),J.customdata=_.castOption(w,O.i,"customdata"),_.texttemplateString(re,J,C._d3locale,J,w._meta||{})}},85676:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(3400),M=e(82744).resizeText,_=e(60404);function d(s,t,i,n){var o=!t.children,u=t.data.data.i,l=a.castOption(i,u,"marker.line.color")||A.defaultLine,h=a.castOption(i,u,"marker.line.width")||0;s.call(_,t,i,n).style("stroke-width",h).call(A.stroke,l).style("opacity",o?i.leaf.opacity:null)}ie.exports={style:function(s){var t=s._fullLayout._sunburstlayer.selectAll(".trace");M(s,t,"sunburst"),t.each(function(i){var n=S.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(o){S.select(this).call(d,o,r,s)})})},styleOne:d}},16716:function(ie,z,e){"use strict";var S=e(76308),A=e(49084),a=e(29736).axisHoverFormat,M=e(21776).Ks,_=e(45464),d=e(92880).extendFlat,s=e(67824).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:S.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:S.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=ie.exports=s(d({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:M(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},A("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:d({},A.zauto,{}),zmin:d({},A.zmin,{}),zmax:d({},A.zmax,{})},hoverinfo:d({},_.hoverinfo),showlegend:d({},_.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(ie,z,e){"use strict";var S=e(47128);ie.exports=function(A,a){S(A,a,a.surfacecolor?{vals:a.surfacecolor,containerStr:"",cLetter:"c"}:{vals:a.z,containerStr:"",cLetter:"c"})}},79164:function(ie,z,e){"use strict";var S=e(67792).gl_surface3d,A=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,M=e(70448),_=e(11240),d=e(3400).isArrayOrTypedArray,s=e(33040).parseColorScale,t=e(43080),i=e(8932).extractOpts;function n(w,f,C){this.scene=w,this.uid=C,this.surface=f,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var r=n.prototype;r.getXat=function(w,f,C,T){var D=d(this.data.x)?d(this.data.x[0])?this.data.x[f][w]:this.data.x[w]:w;return void 0===C?D:T.d2l(D,0,C)},r.getYat=function(w,f,C,T){var D=d(this.data.y)?d(this.data.y[0])?this.data.y[f][w]:this.data.y[f]:f;return void 0===C?D:T.d2l(D,0,C)},r.getZat=function(w,f,C,T){var D=this.data.z[f][w];return null===D&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[f][w]),void 0===C?D:T.d2l(D,0,C)},r.handlePick=function(w){if(w.object===this.surface){var C=(w.data.index[1]-1)/this.dataScaleY-1,T=Math.max(Math.min(Math.round((w.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(C),this.data._ylength-1),0);w.index=[T,D],w.traceCoordinate=[this.getXat(T,D),this.getYat(T,D),this.getZat(T,D)],w.dataCoordinate=[this.getXat(T,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(T,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(T,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var R=0;R<3;R++)null!=w.dataCoordinate[R]&&(w.dataCoordinate[R]*=this.scene.dataScale[R]);var P=this.data.hovertext||this.data.text;return w.textLabel=d(P)&&P[D]&&void 0!==P[D][T]?P[D][T]:P||"",w.data.dataCoordinate=w.dataCoordinate.slice(),this.surface.highlight(w.data),this.scene.glplot.spikes.position=w.dataCoordinate,!0}};var o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(w,f){if(w<f)return 0;for(var C=0;0===Math.floor(w%f);)w/=f,C++;return C}function l(w){for(var f=[],C=0;C<o.length;C++)f.push(u(w,o[C]));return f}function h(w){for(var f=l(w),C=w,T=0;T<o.length;T++)if(f[T]>0){C=o[T];break}return C}function c(w,f){if(!(w<1||f<1)){for(var C=l(w),T=l(f),D=1,R=0;R<o.length;R++)D*=Math.pow(o[R],Math.max(C[R],T[R]));return D}}r.calcXnums=function(w){var f,C=[];for(f=1;f<w;f++){var T=this.getXat(f-1,0),D=this.getXat(f,0);C[f-1]=D!==T&&null!=T&&null!=D?Math.abs(D-T):0}var R=0;for(f=1;f<w;f++)R+=C[f-1];for(f=1;f<w;f++)C[f-1]=0===C[f-1]?1:Math.round(R/C[f-1]);return C},r.calcYnums=function(w){var f,C=[];for(f=1;f<w;f++){var T=this.getYat(0,f-1),D=this.getYat(0,f);C[f-1]=D!==T&&null!=T&&null!=D?Math.abs(D-T):0}var R=0;for(f=1;f<w;f++)R+=C[f-1];for(f=1;f<w;f++)C[f-1]=0===C[f-1]?1:Math.round(R/C[f-1]);return C};var b=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=b[9],m=b[13];function v(w,f,C){var T=C[8]+C[2]*f[0]+C[5]*f[1];return w[0]=(C[6]+C[0]*f[0]+C[3]*f[1])/T,w[1]=(C[7]+C[1]*f[0]+C[4]*f[1])/T,w}function x(w,f,C){return function(T,D,R,P){for(var O=[0,0],B=T.shape[0],q=T.shape[1],N=0;N<B;N++)for(var H=0;H<q;H++)R(O,[N,H],P),T.set(N,H,a(D,O[0],O[1]))}(w,f,v,C),w}function y(w,f){for(var C=!1,T=0;T<w.length;T++)if(f===w[T]){C=!0;break}!1===C&&w.push(f)}r.estimateScale=function(w,f){for(var C=1+function(D){if(0!==D.length){for(var R=1,P=0;P<D.length;P++)R=c(R,D[P]);return R}}(0===f?this.calcXnums(w):this.calcYnums(w));C<p;)C*=2;for(;C>m;)C--,C/=h(C),++C<p&&(C=m);var T=Math.round(C/w);return T>1?T:1},r.refineCoords=function(w){for(var f=this.dataScaleX,C=this.dataScaleY,T=w[0].shape[0],D=w[0].shape[1],R=0|Math.floor(w[0].shape[0]*f+1),P=0|Math.floor(w[0].shape[1]*C+1),O=1+T+1,B=1+D+1,q=A(new Float32Array(O*B),[O,B]),N=[1/f,0,0,0,1/C,0,0,0,1],H=0;H<w.length;++H){this.surface.padField(q,w[H]);var $=A(new Float32Array(R*P),[R,P]);x($,q,N),w[H]=$}},r.setContourLevels=function(){var w,f,T=[[],[],[]],D=[!1,!1,!1],R=!1;for(w=0;w<3;++w)if(this.showContour[w]&&(R=!0,this.contourSize[w]>0&&null!==this.contourStart[w]&&null!==this.contourEnd[w]&&this.contourEnd[w]>this.contourStart[w]))for(D[w]=!0,f=this.contourStart[w];f<this.contourEnd[w];f+=this.contourSize[w])y(T[w],f*this.scene.dataScale[w]);if(R){var P=[[],[],[]];for(w=0;w<3;++w)this.showContour[w]&&(P[w]=D[w]?T[w]:this.scene.contourLevels[w]);this.surface.update({levels:P})}},r.update=function(w){var f,C,T,D,R=this.scene,P=R.fullSceneLayout,O=this.surface,B=s(w),q=R.dataScale,N=w.z[0].length,H=w._ylength,$=R.contourLevels;this.data=w;var j=[];for(f=0;f<3;f++)for(j[f]=[],C=0;C<N;C++)j[f][C]=[];for(C=0;C<N;C++)for(T=0;T<H;T++)j[0][C][T]=this.getXat(C,T,w.xcalendar,P.xaxis),j[1][C][T]=this.getYat(C,T,w.ycalendar,P.yaxis),j[2][C][T]=this.getZat(C,T,w.zcalendar,P.zaxis);if(w.connectgaps)for(w._emptypoints=_(j[2]),M(j[2],w._emptypoints),w._interpolatedZ=[],C=0;C<N;C++)for(w._interpolatedZ[C]=[],T=0;T<H;T++)w._interpolatedZ[C][T]=j[2][C][T];for(f=0;f<3;f++)for(C=0;C<N;C++)for(T=0;T<H;T++)null==(D=j[f][C][T])?j[f][C][T]=NaN:D=j[f][C][T]*=q[f];for(f=0;f<3;f++)for(C=0;C<N;C++)for(T=0;T<H;T++)null!=(D=j[f][C][T])&&(this.minValues[f]>D&&(this.minValues[f]=D),this.maxValues[f]<D&&(this.maxValues[f]=D));for(f=0;f<3;f++)this.objectOffset[f]=.5*(this.minValues[f]+this.maxValues[f]);for(f=0;f<3;f++)for(C=0;C<N;C++)for(T=0;T<H;T++)null!=(D=j[f][C][T])&&(j[f][C][T]-=this.objectOffset[f]);var W=[A(new Float32Array(N*H),[N,H]),A(new Float32Array(N*H),[N,H]),A(new Float32Array(N*H),[N,H])];for(f=0;f<3;f++)for(C=0;C<N;C++)for(T=0;T<H;T++)W[f].set(C,T,j[f][C][T]);j=[];var G={colormap:B,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!w.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:w.opacityscale,opacity:w.opacity},ae=i(w);if(G.intensityBounds=[ae.min,ae.max],w.surfacecolor){var te=A(new Float32Array(N*H),[N,H]);for(C=0;C<N;C++)for(T=0;T<H;T++)te.set(C,T,w.surfacecolor[T][C]);W.push(te)}else G.intensityBounds[0]*=q[2],G.intensityBounds[1]*=q[2];(m<W[0].shape[0]||m<W[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(W[0].shape[0],0),this.dataScaleY=this.estimateScale(W[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(W)),w.surfacecolor&&(G.intensity=W.pop());var J,le,fe,Q=[!0,!0,!0],ee=["x","y","z"];for(f=0;f<3;++f){var re=w.contours[ee[f]];Q[f]=re.highlight,G.showContour[f]=re.show||re.highlight,G.showContour[f]&&(G.contourProject[f]=[re.project.x,re.project.y,re.project.z],re.show?(this.showContour[f]=!0,G.levels[f]=$[f],O.highlightColor[f]=G.contourColor[f]=t(re.color),O.highlightTint[f]=G.contourTint[f]=re.usecolormap?0:1,G.contourWidth[f]=re.width,this.contourStart[f]=re.start,this.contourEnd[f]=re.end,this.contourSize[f]=re.size):(this.showContour[f]=!1,this.contourStart[f]=null,this.contourEnd[f]=null,this.contourSize[f]=0),re.highlight&&(G.dynamicColor[f]=t(re.highlightcolor),G.dynamicWidth[f]=re.highlightwidth))}(le=(J=B)[0].rgb)[0]===(fe=J[J.length-1].rgb)[0]&&le[1]===fe[1]&&le[2]===fe[2]&&le[3]===fe[3]&&(G.vertexColor=!0),G.objectOffset=this.objectOffset,G.coords=W,O.update(G),O.visible=w.visible,O.enableDynamic=Q,O.enableHighlight=Q,O.snapToData=!0,"lighting"in w&&(O.ambientLight=w.lighting.ambient,O.diffuseLight=w.lighting.diffuse,O.specularLight=w.lighting.specular,O.roughness=w.lighting.roughness,O.fresnel=w.lighting.fresnel),"lightposition"in w&&(O.lightPosition=[w.lightposition.x,w.lightposition.y,w.lightposition.z])},r.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ie.exports=function(w,f){var T=S({gl:w.glplot.gl}),D=new n(w,T,f.uid);return T._trace=D,D.update(f),w.glplot.add(T),D}},60192:function(ie,z,e){"use strict";var S=e(24040),A=e(3400),a=e(27260),M=e(16716);function _(s,t,i,n){var r=n("opacityscale");"max"===r?t.opacityscale=[[0,.1],[1,1]]:"min"===r?t.opacityscale=[[0,1],[1,.1]]:"extremes"===r?t.opacityscale=function(o,u){for(var l=[],h=0;h<32;h++){var c=h/31,b=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));l.push([c,Math.max(0,Math.min(1,b))])}return l}():function(o){var u=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||0!=+o[0][0]||1!=+o[o.length-1][0])return!1;for(var l=0;l<o.length;l++){var h=o[l];if(2!==h.length||+h[0]<u)return!1;u=+h[0]}return!0}(r)||(t.opacityscale=void 0)}function d(s,t,i){t in s&&!(i in s)&&(s[i]=s[t])}ie.exports={supplyDefaults:function(s,t,i,n){var r,o;function u(y,w){return A.coerce(s,t,M,y,w)}var l=u("x"),h=u("y"),c=u("z");if(!c||!c.length||l&&l.length<1||h&&h.length<1)t.visible=!1;else{t._xlength=Array.isArray(l)&&A.isArrayOrTypedArray(l[0])?c.length:c[0].length,t._ylength=c.length,S.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y","z"],n),u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(y){u(y)});var b=u("surfacecolor"),p=["x","y","z"];for(r=0;r<3;++r){var m="contours."+p[r],v=u(m+".show"),x=u(m+".highlight");if(v||x)for(o=0;o<3;++o)u(m+".project."+p[o]);v&&(u(m+".color"),u(m+".width"),u(m+".usecolormap")),x&&(u(m+".highlightcolor"),u(m+".highlightwidth")),u(m+".start"),u(m+".end"),u(m+".size")}b||(d(s,"zmin","cmin"),d(s,"zmax","cmax"),d(s,"zauto","cauto")),a(s,t,n,u,{prefix:"",cLetter:"c"}),_(0,t,0,u),t._length=null}},opacityscaleDefaults:_}},91304:function(ie,z,e){"use strict";ie.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(ie,z,e){"use strict";var S=e(13916),A=e(92880).extendFlat,a=e(67824).overrideAll,M=e(25376),_=e(86968).u,d=e(29736).descriptionOnlyNumbers;(ie.exports=a({domain:_({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:A({},S.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:A({},M({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:A({},S.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:A({},M({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(ie,z,e){"use strict";var S=e(84888)._M,A=e(24752),a="table";z.name=a,z.plot=function(M){var _=S(M.calcdata,a)[0];_.length&&A(M,_)},z.clean=function(M,_,d,s){var t=s._has&&s._has(a),i=_._has&&_._has(a);t&&!i&&s._paperdiv.selectAll(".table").remove()}},39312:function(ie,z,e){"use strict";var S=e(71688).wrap;ie.exports=function(){return S({})}},23536:function(ie){"use strict";ie.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(ie,z,e){"use strict";var S=e(23536),A=e(92880).extendFlat,a=e(38248),M=e(38116).isTypedArray,_=e(38116).isArrayOrTypedArray;function d(u){if(_(u)){for(var l=0,h=0;h<u.length;h++)l=Math.max(l,d(u[h]));return l}return u}function s(u,l){return u+l}function t(u){var l,h=u.slice(),c=1/0,b=0;for(l=0;l<h.length;l++)M(h[l])?h[l]=Array.from(h[l]):_(h[l])||(h[l]=[h[l]]),c=Math.min(c,h[l].length),b=Math.max(b,h[l].length);if(c!==b)for(l=0;l<h.length;l++){var p=b-h[l].length;p&&(h[l]=h[l].concat(i(p)))}return h}function i(u){for(var l=new Array(u),h=0;h<u;h++)l[h]="";return l}function n(u){return u.calcdata.columns.reduce(function(l,h){return h.xIndex<u.xIndex?l+h.columnWidth:l},0)}function r(u,l){return Object.keys(u).map(function(h){return A({},u[h],{auxiliaryBlocks:l})})}function o(u,l){for(var h,c={},b=0,p=0,m={firstRowIndex:null,lastRowIndex:null,rows:[]},v=0,x=0,y=0;y<u.length;y++)m.rows.push({rowIndex:y,rowHeight:h=u[y]}),((p+=h)>=l||y===u.length-1)&&(c[b]=m,m.key=x++,m.firstRowIndex=v,m.lastRowIndex=y,m={firstRowIndex:null,lastRowIndex:null,rows:[]},b+=p,v=y+1,p=0);return c}ie.exports=function(u,l){var h=t(l.cells.values),c=function(H){return H.slice(l.header.values.length,H.length)},b=t(l.header.values);b.length&&!b[0].length&&(b[0]=[""],b=t(b));var p=b.concat(c(h).map(function(){return i((b[0]||[""]).length)})),m=l.domain,v=Math.floor(u._fullLayout._size.w*(m.x[1]-m.x[0])),x=Math.floor(u._fullLayout._size.h*(m.y[1]-m.y[0])),y=l.header.values.length?p[0].map(function(){return l.header.height}):[S.emptyHeaderHeight],w=h.length?h[0].map(function(){return l.cells.height}):[],f=y.reduce(s,0),C=o(w,x-f+S.uplift),T=r(o(y,f),[]),D=r(C,T),R={},P=l._fullInput.columnorder;_(P)&&(P=Array.from(P)),P=P.concat(c(h.map(function(H,$){return $})));var O=p.map(function(H,$){var j=_(l.columnwidth)?l.columnwidth[Math.min($,l.columnwidth.length-1)]:l.columnwidth;return a(j)?Number(j):1}),B=O.reduce(s,0);O=O.map(function(H){return H/B*v});var q=Math.max(d(l.header.line.width),d(l.cells.line.width)),N={key:l.uid+u._context.staticPlot,translateX:m.x[0]*u._fullLayout._size.w,translateY:u._fullLayout._size.h*(1-m.y[1]),size:u._fullLayout._size,width:v,maxLineWidth:q,height:x,columnOrder:P,groupHeight:x,rowBlocks:D,headerRowBlocks:T,scrollY:0,cells:A({},l.cells,{values:h}),headerCells:A({},l.header,{values:p}),gdColumns:p.map(function(H){return H[0]}),gdColumnsOriginalOrder:p.map(function(H){return H[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(H,$){return R[H]=(R[H]||0)+1,{key:H+"__"+R[H],label:H,specIndex:$,xIndex:P[$],xScale:n,x:void 0,calcdata:void 0,columnWidth:O[$]}})};return N.columns.forEach(function(H){H.calcdata=N,H.x=n(H)}),N}},53056:function(ie,z,e){"use strict";var S=e(92880).extendFlat;z.splitToPanels=function(A){var a=[0,0],M=S({},A,{key:"header",type:"header",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!0,values:A.calcdata.headerCells.values[A.specIndex],rowBlocks:A.calcdata.headerRowBlocks,calcdata:S({},A.calcdata,{cells:A.calcdata.headerCells})});return[S({},A,{key:"cells1",type:"cells",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:A.calcdata.cells.values[A.specIndex],rowBlocks:A.calcdata.rowBlocks}),S({},A,{key:"cells2",type:"cells",page:1,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:A.calcdata.cells.values[A.specIndex],rowBlocks:A.calcdata.rowBlocks}),M]},z.splitToCells=function(A){var M,_,d,a=[d=(_=(M=A).rowBlocks[M.page])?_.rows[0].rowIndex:0,_?d+_.rows.length:0];return(A.values||[]).slice(a[0],a[1]).map(function(M,_){return{keyWithinBlock:_+("string"==typeof M&&M.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:a[0]+_,column:A,calcdata:A.calcdata,page:A.page,rowBlocks:A.rowBlocks,value:M}})}},53212:function(ie,z,e){"use strict";var S=e(3400),A=e(60520),a=e(86968).Q;ie.exports=function(M,_,d,s){function t(i,n){return S.coerce(M,_,A,i,n)}a(_,s,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),S.coerceFont(t,"header.font",S.extendFlat({},s.font)),function(i,n){for(var o=i.header.values.length,u=(i.columnorder||[]).slice(0,o),l=u.slice().sort(function(b,p){return b-p}),h=u.map(function(b){return l.indexOf(b)}),c=h.length;c<o;c++)h.push(c);n("columnorder",h)}(_,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),S.coerceFont(t,"cells.font",S.extendFlat({},s.font)),_._length=null}},41724:function(ie,z,e){"use strict";ie.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(ie,z,e){"use strict";var S=e(23536),A=e(33428),a=e(3400),M=a.numberFormat,_=e(71688),d=e(43616),s=e(72736),t=e(3400).raiseToTop,i=e(3400).strTranslate,n=e(3400).cancelTransition,r=e(55992),o=e(53056),u=e(76308);function l(G){return Math.ceil(G.calcdata.maxLineWidth/2)}function h(G,ae){return"clip"+G._fullLayout._uid+"_scrollAreaBottomClip_"+ae.key}function c(G,ae){return"clip"+G._fullLayout._uid+"_columnBoundaryClippath_"+ae.calcdata.key+"_"+ae.specIndex}function b(G){return[].concat.apply([],G.map(function(ae){return ae})).map(function(ae){return ae.__data__})}function p(G,ae,te){var Q=G.selectAll("."+S.cn.scrollbarKit).data(_.repeat,_.keyFun);Q.enter().append("g").classed(S.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),Q.each(function(fe){var Te,ce=fe.scrollbarState;ce.totalHeight=H(Te=fe.rowBlocks,Te.length-1)+(Te.length?$(Te[Te.length-1],1/0):1),ce.scrollableAreaHeight=fe.groupHeight-T(fe),ce.currentlyVisibleHeight=Math.min(ce.totalHeight,ce.scrollableAreaHeight),ce.ratio=ce.currentlyVisibleHeight/ce.totalHeight,ce.barLength=Math.max(ce.ratio*ce.currentlyVisibleHeight,S.goldenRatio*S.scrollbarWidth),ce.barWiggleRoom=ce.currentlyVisibleHeight-ce.barLength,ce.wiggleRoom=Math.max(0,ce.totalHeight-ce.scrollableAreaHeight),ce.topY=0===ce.barWiggleRoom?0:fe.scrollY/ce.wiggleRoom*ce.barWiggleRoom,ce.bottomY=ce.topY+ce.barLength,ce.dragMultiplier=ce.wiggleRoom/ce.barWiggleRoom}).attr("transform",function(fe){return i(fe.width+S.scrollbarWidth/2+S.scrollbarOffset,T(fe))});var ee=Q.selectAll("."+S.cn.scrollbar).data(_.repeat,_.keyFun);ee.enter().append("g").classed(S.cn.scrollbar,!0);var re=ee.selectAll("."+S.cn.scrollbarSlider).data(_.repeat,_.keyFun);re.enter().append("g").classed(S.cn.scrollbarSlider,!0),re.attr("transform",function(fe){return i(0,fe.scrollbarState.topY||0)});var J=re.selectAll("."+S.cn.scrollbarGlyph).data(_.repeat,_.keyFun);J.enter().append("line").classed(S.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",S.scrollbarWidth).attr("stroke-linecap","round").attr("y1",S.scrollbarWidth/2),J.attr("y2",function(fe){return fe.scrollbarState.barLength-S.scrollbarWidth/2}).attr("stroke-opacity",function(fe){return fe.columnDragInProgress||!fe.scrollbarState.barWiggleRoom||te?0:.4}),J.transition().delay(0).duration(0),J.transition().delay(S.scrollbarHideDelay).duration(S.scrollbarHideDuration).attr("stroke-opacity",0);var le=ee.selectAll("."+S.cn.scrollbarCaptureZone).data(_.repeat,_.keyFun);le.enter().append("line").classed(S.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",S.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(fe){var ce=A.event.y,ge=this.getBoundingClientRect(),Te=fe.scrollbarState,Me=ce-ge.top,we=A.scale.linear().domain([0,Te.scrollableAreaHeight]).range([0,Te.totalHeight]).clamp(!0);Te.topY<=Me&&Me<=Te.bottomY||R(ae,G,null,we(Me-Te.barLength/2))(fe)}).call(A.behavior.drag().origin(function(fe){return A.event.stopPropagation(),fe.scrollbarState.scrollbarScrollInProgress=!0,fe}).on("drag",R(ae,G)).on("dragend",function(){})),le.attr("y2",function(fe){return fe.scrollbarState.scrollableAreaHeight}),ae._context.staticPlot&&(J.remove(),le.remove())}function m(G,ae,te,Q){var ge,re=function(ce){var ge=ce.selectAll("."+S.cn.columnCell).data(o.splitToCells,function(Te){return Te.keyWithinBlock});return ge.enter().append("g").classed(S.cn.columnCell,!0),ge.exit().remove(),ge}(((ge=te.selectAll("."+S.cn.columnCells).data(_.repeat,_.keyFun)).enter().append("g").classed(S.cn.columnCells,!0),ge.exit().remove(),ge));re.each(function(ge,Te){var Me=ge.calcdata.cells.font,we=ge.column.specIndex,xe={size:y(Me.size,we,Te),color:y(Me.color,we,Te),family:y(Me.family,we,Te),weight:y(Me.weight,we,Te),style:y(Me.style,we,Te),variant:y(Me.variant,we,Te)};ge.rowNumber=ge.key,ge.align=y(ge.calcdata.cells.align,we,Te),ge.cellBorderWidth=y(ge.calcdata.cells.line.width,we,Te),ge.font=xe});var J=function(ce){var ge=ce.selectAll("."+S.cn.cellRect).data(_.repeat,function(Te){return Te.keyWithinBlock});return ge.enter().append("rect").classed(S.cn.cellRect,!0),ge}(re);!function(ce){ce.attr("width",function(ge){return ge.column.columnWidth}).attr("stroke-width",function(ge){return ge.cellBorderWidth}).each(function(ge){var Te=A.select(this);u.stroke(Te,y(ge.calcdata.cells.line.color,ge.column.specIndex,ge.rowNumber)),u.fill(Te,y(ge.calcdata.cells.fill.color,ge.column.specIndex,ge.rowNumber))})}(J);var le=function(ce){var ge=ce.selectAll("."+S.cn.cellTextHolder).data(_.repeat,function(Te){return Te.keyWithinBlock});return ge.enter().append("g").classed(S.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ge}(re),fe=function(ce){var ge=ce.selectAll("."+S.cn.cellText).data(_.repeat,function(Te){return Te.keyWithinBlock});return ge.enter().append("text").classed(S.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){A.event.stopPropagation()}),ge}(le);(function(ce){ce.each(function(ge){d.font(A.select(this),ge.font)})})(fe),v(fe,ae,Q,G),N(re)}function v(G,ae,te,Q){G.text(function(ee){var re=ee.column.specIndex,J=ee.rowNumber,le=ee.value,fe="string"==typeof le,ce=fe&&le.match(/<br>/i),ge=!fe||ce;ee.mayHaveMarkup=fe&&le.match(/[<&>]/);var Te,Me="string"==typeof(Te=le)&&Te.match(S.latexCheck);ee.latex=Me;var we,xe,be=Me?"":y(ee.calcdata.cells.prefix,re,J)||"",ye=Me?"":y(ee.calcdata.cells.suffix,re,J)||"",Se=Me?null:y(ee.calcdata.cells.format,re,J)||null,Ee=be+(Se?M(Se)(ee.value):ee.value)+ye;if(ee.wrappingNeeded=!ee.wrapped&&!ge&&!Me&&(we=x(Ee)),ee.cellHeightMayIncrease=ce||Me||ee.mayHaveMarkup||(void 0===we?x(Ee):we),ee.needsConvertToTspans=ee.mayHaveMarkup||ee.wrappingNeeded||ee.latex,ee.wrappingNeeded){var he=(" "===S.wrapSplitCharacter?Ee.replace(/<a href=/gi,"<a_href="):Ee).split(S.wrapSplitCharacter),ue=" "===S.wrapSplitCharacter?he.map(function(me){return me.replace(/<a_href=/gi,"<a href=")}):he;ee.fragments=ue.map(function(me){return{text:me,width:null}}),ee.fragments.push({fragment:S.wrapSpacer,width:null}),xe=ue.join(S.lineBreaker)+S.lineBreaker+S.wrapSpacer}else delete ee.fragments,xe=Ee;return xe}).attr("dy",function(ee){return ee.needsConvertToTspans?0:"0.75em"}).each(function(ee){var J=A.select(this);ee.needsConvertToTspans?s.convertToTspans(J,Q,(ee.wrappingNeeded?O:B)(te,this,ae,Q,ee)):A.select(this.parentNode).attr("transform",function(fe){return i(q(fe),S.cellPad)}).attr("text-anchor",function(fe){return{left:"start",center:"middle",right:"end"}[fe.align]})})}function x(G){return-1!==G.indexOf(S.wrapSplitCharacter)}function y(G,ae,te){if(a.isArrayOrTypedArray(G)){var Q=G[Math.min(ae,G.length-1)];return a.isArrayOrTypedArray(Q)?Q[Math.min(te,Q.length-1)]:Q}return G}function w(G,ae,te){G.transition().ease(S.releaseTransitionEase).duration(S.releaseTransitionDuration).attr("transform",i(ae.x,te))}function f(G){return"cells"===G.type}function C(G){return"header"===G.type}function T(G){return(G.rowBlocks.length?G.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(ae,te){return ae+$(te,1/0)},0)}function D(G,ae,te){var Q=b(ae)[0];if(void 0!==Q){var ee=Q.rowBlocks,re=Q.calcdata,J=H(ee,ee.length),le=Q.calcdata.groupHeight-T(Q),fe=re.scrollY=Math.max(0,Math.min(J-le,re.scrollY)),ce=function(ge,Te,Me){for(var we=[],xe=0,be=0;be<ge.length;be++){for(var ye=ge[be],Se=ye.rows,Ee=0,he=0;he<Se.length;he++)Ee+=Se[he].rowHeight;ye.allRowsHeight=Ee,Te<xe+Ee&&Te+Me>xe&&we.push(be),xe+=Ee}return we}(ee,fe,le);1===ce.length&&(ce[0]===ee.length-1?ce.unshift(ce[0]-1):ce.push(ce[0]+1)),ce[0]%2&&ce.reverse(),ae.each(function(ge,Te){ge.page=ce[Te],ge.scrollY=fe}),ae.attr("transform",function(ge){var Te=H(ge.rowBlocks,ge.page)-ge.scrollY;return i(0,Te)}),G&&(P(G,te,ae,ce,Q.prevPages,Q,0),P(G,te,ae,ce,Q.prevPages,Q,1),p(te,G))}}function R(G,ae,te,Q){return function(ee){var re=ee.calcdata?ee.calcdata:ee,J=ae.filter(function(ge){return re.key===ge.key}),fe=re.scrollY;re.scrollY=void 0===Q?re.scrollY+(te||re.scrollbarState.dragMultiplier)*A.event.dy:Q;var ce=J.selectAll("."+S.cn.yColumn).selectAll("."+S.cn.columnBlock).filter(f);return D(G,ce,J),re.scrollY===fe}}function P(G,ae,te,Q,ee,re,J){Q[J]!==ee[J]&&(clearTimeout(re.currentRepaint[J]),re.currentRepaint[J]=setTimeout(function(){var le=te.filter(function(fe,ce){return ce===J&&Q[ce]!==ee[ce]});m(G,ae,le,te),ee[J]=Q[J]}))}function O(G,ae,te,Q){return function(){var ee=A.select(ae.parentNode);ee.each(function(re){var J=re.fragments;ee.selectAll("tspan.line").each(function(xe,be){J[be].width=this.getComputedTextLength()});var le,fe,ce=J[J.length-1].width,ge=J.slice(0,-1),Te=[],Me=0,we=re.column.columnWidth-2*S.cellPad;for(re.value="";ge.length;)Me+(fe=(le=ge.shift()).width+ce)>we&&(re.value+=Te.join(S.wrapSpacer)+S.lineBreaker,Te=[],Me=0),Te.push(le.text),Me+=fe;Me&&(re.value+=Te.join(S.wrapSpacer)),re.wrapped=!0}),ee.selectAll("tspan.line").remove(),v(ee.select("."+S.cn.cellText),te,G,Q),A.select(ae.parentNode.parentNode).call(N)}}function B(G,ae,te,Q,ee){return function(){if(!ee.settledY){var re=A.select(ae.parentNode),J=W(ee),le=ee.key-J.firstRowIndex,fe=J.rows[le].rowHeight,ce=ee.cellHeightMayIncrease?ae.parentNode.getBoundingClientRect().height+2*S.cellPad:fe,ge=Math.max(ce,fe);ge-J.rows[le].rowHeight&&(J.rows[le].rowHeight=ge,G.selectAll("."+S.cn.columnCell).call(N),D(null,G.filter(f),0),p(te,Q,!0)),re.attr("transform",function(){var Me=this.parentNode.getBoundingClientRect(),we=A.select(this.parentNode).select("."+S.cn.cellRect).node().getBoundingClientRect(),xe=this.transform.baseVal.consolidate(),be=we.top-Me.top+(xe?xe.matrix.f:S.cellPad);return i(q(ee,A.select(this.parentNode).select("."+S.cn.cellTextHolder).node().getBoundingClientRect().width),be)}),ee.settledY=!0}}}function q(G,ae){switch(G.align){case"left":default:return S.cellPad;case"right":return G.column.columnWidth-(ae||0)-S.cellPad;case"center":return(G.column.columnWidth-(ae||0))/2}}function N(G){G.attr("transform",function(ae){var te=ae.rowBlocks[0].auxiliaryBlocks.reduce(function(ee,re){return ee+$(re,1/0)},0),Q=$(W(ae),ae.key);return i(0,Q+te)}).selectAll("."+S.cn.cellRect).attr("height",function(ae){return(te=W(ae),Q=ae.key,te.rows[Q-te.firstRowIndex]).rowHeight;var te,Q})}function H(G,ae){for(var te=0,Q=ae-1;Q>=0;Q--)te+=j(G[Q]);return te}function $(G,ae){for(var te=0,Q=0;Q<G.rows.length&&G.rows[Q].rowIndex<ae;Q++)te+=G.rows[Q].rowHeight;return te}function j(G){var ae=G.allRowsHeight;if(void 0!==ae)return ae;for(var te=0,Q=0;Q<G.rows.length;Q++)te+=G.rows[Q].rowHeight;return G.allRowsHeight=te,te}function W(G){return G.rowBlocks[G.page]}ie.exports=function(G,ae){var te=!G._context.staticPlot,Q=G._fullLayout._paper.selectAll("."+S.cn.table).data(ae.map(function(ye){var Se=_.unwrap(ye).trace;return r(G,Se)}),_.keyFun);Q.exit().remove(),Q.enter().append("g").classed(S.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),Q.attr("width",function(ye){return ye.width+ye.size.l+ye.size.r}).attr("height",function(ye){return ye.height+ye.size.t+ye.size.b}).attr("transform",function(ye){return i(ye.translateX,ye.translateY)});var ee=Q.selectAll("."+S.cn.tableControlView).data(_.repeat,_.keyFun),re=ee.enter().append("g").classed(S.cn.tableControlView,!0).style("box-sizing","content-box");if(te){var J="onwheel"in document?"wheel":"mousewheel";re.on("mousemove",function(ye){ee.filter(function(Se){return ye===Se}).call(p,G)}).on(J,function(ye){ye.scrollbarState.wheeling||(ye.scrollbarState.wheeling=!0,R(G,ee,null,ye.scrollY+A.event.deltaY)(ye)||(A.event.stopPropagation(),A.event.preventDefault()),ye.scrollbarState.wheeling=!1)}).call(p,G,!0)}ee.attr("transform",function(ye){return i(ye.size.l,ye.size.t)});var le=ee.selectAll("."+S.cn.scrollBackground).data(_.repeat,_.keyFun);le.enter().append("rect").classed(S.cn.scrollBackground,!0).attr("fill","none"),le.attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}),ee.each(function(ye){d.setClipUrl(A.select(this),h(G,ye),G)});var fe=ee.selectAll("."+S.cn.yColumn).data(function(ye){return ye.columns},_.keyFun);fe.enter().append("g").classed(S.cn.yColumn,!0),fe.exit().remove(),fe.attr("transform",function(ye){return i(ye.x,0)}),te&&fe.call(A.behavior.drag().origin(function(ye){return w(A.select(this),ye,-S.uplift),t(this),ye.calcdata.columnDragInProgress=!0,p(ee.filter(function(Se){return ye.calcdata.key===Se.key}),G),ye}).on("drag",function(ye){var Se=A.select(this),Ee=function(he){return(ye===he?A.event.x:he.x)+he.columnWidth/2};ye.x=Math.max(-S.overdrag,Math.min(ye.calcdata.width+S.overdrag-ye.columnWidth,A.event.x)),b(fe).filter(function(he){return he.calcdata.key===ye.calcdata.key}).sort(function(he,ue){return Ee(he)-Ee(ue)}).forEach(function(he,ue){he.xIndex=ue,he.x=ye===he?he.x:he.xScale(he)}),fe.filter(function(he){return ye!==he}).transition().ease(S.transitionEase).duration(S.transitionDuration).attr("transform",function(he){return i(he.x,0)}),Se.call(n).attr("transform",i(ye.x,-S.uplift))}).on("dragend",function(ye){var he,ue,me,Pe,Se=A.select(this),Ee=ye.calcdata;ye.x=ye.xScale(ye),ye.calcdata.columnDragInProgress=!1,w(Se,ye,0),he=G,ue=Ee,me=Ee.columns.map(function(he){return he.xIndex}),Pe=ue.gdColumnsOriginalOrder,ue.gdColumns.sort(function(Ce,Ie){return me[Pe.indexOf(Ce)]-me[Pe.indexOf(Ie)]}),ue.columnorder=me,he.emit("plotly_restyle")})),fe.each(function(ye){d.setClipUrl(A.select(this),c(G,ye),G)});var ce=fe.selectAll("."+S.cn.columnBlock).data(o.splitToPanels,_.keyFun);ce.enter().append("g").classed(S.cn.columnBlock,!0).attr("id",function(ye){return ye.key}),ce.style("cursor",function(ye){return ye.dragHandle?"ew-resize":ye.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var ge=ce.filter(C),Te=ce.filter(f);te&&Te.call(A.behavior.drag().origin(function(ye){return A.event.stopPropagation(),ye}).on("drag",R(G,ee,-1)).on("dragend",function(){})),m(G,ee,ge,ce),m(G,ee,Te,ce);var Me=ee.selectAll("."+S.cn.scrollAreaClip).data(_.repeat,_.keyFun);Me.enter().append("clipPath").classed(S.cn.scrollAreaClip,!0).attr("id",function(ye){return h(G,ye)});var we=Me.selectAll("."+S.cn.scrollAreaClipRect).data(_.repeat,_.keyFun);we.enter().append("rect").classed(S.cn.scrollAreaClipRect,!0).attr("x",-S.overdrag).attr("y",-S.uplift).attr("fill","none"),we.attr("width",function(ye){return ye.width+2*S.overdrag}).attr("height",function(ye){return ye.height+S.uplift}),fe.selectAll("."+S.cn.columnBoundary).data(_.repeat,_.keyFun).enter().append("g").classed(S.cn.columnBoundary,!0);var xe=fe.selectAll("."+S.cn.columnBoundaryClippath).data(_.repeat,_.keyFun);xe.enter().append("clipPath").classed(S.cn.columnBoundaryClippath,!0),xe.attr("id",function(ye){return c(G,ye)});var be=xe.selectAll("."+S.cn.columnBoundaryRect).data(_.repeat,_.keyFun);be.enter().append("rect").classed(S.cn.columnBoundaryRect,!0).attr("fill","none"),be.attr("width",function(ye){return ye.columnWidth+2*l(ye)}).attr("height",function(ye){return ye.calcdata.height+2*l(ye)+S.uplift}).attr("x",function(ye){return-l(ye)}).attr("y",function(ye){return-l(ye)}),D(null,Te,ee)}},40516:function(ie,z,e){"use strict";var S=e(21776).Ks,A=e(21776).Gw,a=e(49084),M=e(86968).u,_=e(74996),d=e(424),s=e(32984),t=e(92880).extendFlat,i=e(98192).c;ie.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:d.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:d.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},_.textfont,{}),editType:"calc"},text:_.text,textinfo:d.textinfo,texttemplate:A({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:_.hovertext,hoverinfo:d.hoverinfo,hovertemplate:S({},{keys:s.eventDataKeys}),textfont:_.textfont,insidetextfont:_.insidetextfont,outsidetextfont:t({},_.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:_.sort,root:d.root,domain:M({name:"treemap",trace:!0,editType:"calc"})}},79516:function(ie,z,e){"use strict";var S=e(7316);z.name="treemap",z.plot=function(A,a,M,_){S.plotBasePlot(z.name,A,a,M,_)},z.clean=function(A,a,M,_){S.cleanBasePlot(z.name,A,a,M,_)}},97840:function(ie,z,e){"use strict";var S=e(3776);z.r=function(A,a){return S.calc(A,a)},z.q=function(A){return S._runCrossTraceCalc("treemap",A)}},32984:function(ie){"use strict";ie.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(ie,z,e){"use strict";var S=e(3400),A=e(40516),a=e(76308),M=e(86968).Q,_=e(31508).handleText,d=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,n=t.handleDefaults;ie.exports=function(r,o,u,l){function h(w,f){return S.coerce(r,o,A,w,f)}var c=h("labels"),b=h("parents");if(c&&c.length&&b&&b.length){var p=h("values");h(p&&p.length?"branchvalues":"count"),h("level"),h("maxdepth"),"squarify"===h("tiling.packing")&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var m=h("text");h("texttemplate"),o.texttemplate||h("textinfo",S.isArrayOrTypedArray(m)?"text+label":"label"),h("hovertext"),h("hovertemplate");var v=h("pathbar.visible");_(r,o,l,h,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var x=-1!==o.textposition.indexOf("bottom");s(r,o,l,h),(o._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis)?n(r,o,l,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(o.marker.colors||[]).length);var y=2*o.textfont.size;h("marker.pad.t",x?y/4:y),h("marker.pad.l",y/4),h("marker.pad.r",y/4),h("marker.pad.b",x?y:y/4),h("marker.cornerradius"),o._hovered={marker:{line:{width:2,color:a.contrast(l.paper_bgcolor)}}},v&&(h("pathbar.thickness",o.pathbar.textfont.size+2*d),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),M(o,l,h),o._length=null}else o.visible=!1}},95808:function(ie,z,e){"use strict";var S=e(33428),A=e(78176),a=e(82744).clearMinTextSize,M=e(60100).resizeText,_=e(52960);ie.exports=function(d,s,t,i,n){var r,o,u=n.type,l=n.drawDescendants,h=d._fullLayout,c=h["_"+u+"layer"],b=!t;a(u,h),(r=c.selectAll("g.trace."+u).data(s,function(p){return p[0].trace.uid})).enter().append("g").classed("trace",!0).classed(u,!0),r.order(),!h.uniformtext.mode&&A.hasTransition(t)?(i&&(o=i()),S.transition().duration(t.duration).ease(t.easing).each("end",function(){o&&o()}).each("interrupt",function(){o&&o()}).each(function(){c.selectAll("g.trace").each(function(p){_(d,p,this,t,l)})})):(r.each(function(p){_(d,p,this,t,l)}),h.uniformtext.mode&&M(d,c.selectAll(".trace"),u)),b&&r.exit().remove()}},27336:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(72736),_=e(13832),d=e(66192).styleOne,s=e(32984),t=e(78176),i=e(45716),n=!0;ie.exports=function(r,o,u,l,h){var c=h.barDifY,b=h.width,p=h.height,m=h.viewX,v=h.viewY,x=h.pathSlice,y=h.toMoveInsideSlice,w=h.strTransform,f=h.hasTransition,C=h.handleSlicesExit,T=h.makeUpdateSliceInterpolator,D=h.makeUpdateTextInterpolator,R={},P=r._context.staticPlot,O=r._fullLayout,B=o[0],q=B.trace,N=B.hierarchy,H=b/q._entryDepth,$=t.listPath(u.data,"id"),j=_(N.copy(),[b,p],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(j=j.filter(function(G){var ae=$.indexOf(G.data.id);return-1!==ae&&(G.x0=H*ae,G.x1=H*(ae+1),G.y0=c,G.y1=c+p,G.onPathbar=!0,!0)})).reverse(),(l=l.data(j,t.getPtId)).enter().append("g").classed("pathbar",!0),C(l,n,R,[b,p],x),l.order();var W=l;f&&(W=W.transition().each("end",function(){var G=S.select(this);t.setSliceCursor(G,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(G){G._x0=m(G.x0),G._x1=m(G.x1),G._y0=v(G.y0),G._y1=v(G.y1),G._hoverX=m(G.x1-Math.min(b,p)/2),G._hoverY=v(G.y1-p/2);var ae=S.select(this),te=A.ensureSingle(ae,"path","surface",function(J){J.style("pointer-events",P?"none":"all")});f?te.transition().attrTween("d",function(J){var le=T(J,n,R,[b,p]);return function(fe){return x(le(fe))}}):te.attr("d",x),ae.call(i,u,r,o,{styleOne:d,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:r._transitioning}),te.call(d,G,q,r,{hovered:!1}),G._text=(t.getPtLabel(G)||"").split("<br>").join(" ")||"";var Q=A.ensureSingle(ae,"g","slicetext"),ee=A.ensureSingle(Q,"text","",function(J){J.attr("data-notex",1)}),re=A.ensureUniformFontSize(r,t.determineTextFont(q,G,O.font,{onPathbar:!0}));ee.text(G._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,re).call(M.convertToTspans,r),G.textBB=a.bBox(ee.node()),G.transform=y(G,{fontSize:re.size,onPathbar:!0}),G.transform.fontSize=re.size,f?ee.transition().attrTween("transform",function(J){var le=D(J,n,R,[b,p]);return function(fe){return w(le(fe))}}):ee.attr("transform",w(G))})}},76477:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(72736),_=e(13832),d=e(66192).styleOne,s=e(32984),t=e(78176),i=e(45716),n=e(96488).formatSliceLabel,r=!1;ie.exports=function(o,u,l,h,c){var b=c.width,p=c.height,m=c.viewX,v=c.viewY,x=c.pathSlice,y=c.toMoveInsideSlice,w=c.strTransform,f=c.hasTransition,C=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,D=c.makeUpdateTextInterpolator,R=c.prevEntry,P=o._context.staticPlot,O=o._fullLayout,B=u[0].trace,q=-1!==B.textposition.indexOf("left"),N=-1!==B.textposition.indexOf("right"),H=-1!==B.textposition.indexOf("bottom"),$=!H&&!B.marker.pad.t||H&&!B.marker.pad.b,j=_(l,[b,p],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}).descendants(),W=1/0,G=-1/0;j.forEach(function(re){var J=re.depth;J>=B._maxDepth?(re.x0=re.x1=(re.x0+re.x1)/2,re.y0=re.y1=(re.y0+re.y1)/2):(W=Math.min(W,J),G=Math.max(G,J))}),h=h.data(j,t.getPtId),B._maxVisibleLayers=isFinite(G)?G-W+1:0,h.enter().append("g").classed("slice",!0),C(h,r,{},[b,p],x),h.order();var ae=null;if(f&&R){var te=t.getPtId(R);h.each(function(re){null===ae&&t.getPtId(re)===te&&(ae={x0:re.x0,x1:re.x1,y0:re.y0,y1:re.y1})})}var Q=function(){return ae||{x0:0,x1:b,y0:0,y1:p}},ee=h;return f&&(ee=ee.transition().each("end",function(){var re=S.select(this);t.setSliceCursor(re,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ee.each(function(re){var J=t.isHeader(re,B);re._x0=m(re.x0),re._x1=m(re.x1),re._y0=v(re.y0),re._y1=v(re.y1),re._hoverX=m(re.x1-B.marker.pad.r),re._hoverY=v(H?re.y1-B.marker.pad.b/2:re.y0+B.marker.pad.t/2);var le=S.select(this),fe=A.ensureSingle(le,"path","surface",function(xe){xe.style("pointer-events",P?"none":"all")});f?fe.transition().attrTween("d",function(xe){var be=T(xe,r,Q(),[b,p]);return function(ye){return x(be(ye))}}):fe.attr("d",x),le.call(i,l,o,u,{styleOne:d,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),fe.call(d,re,B,o,{hovered:!1}),re._text=re.x0===re.x1||re.y0===re.y1?"":J?$?"":t.getPtLabel(re)||"":n(re,l,B,u,O)||"";var ce=A.ensureSingle(le,"g","slicetext"),ge=A.ensureSingle(ce,"text","",function(xe){xe.attr("data-notex",1)}),Te=A.ensureUniformFontSize(o,t.determineTextFont(B,re,O.font)),Me=re._text||" ",we=J&&-1===Me.indexOf("<br>");ge.text(Me).classed("slicetext",!0).attr("text-anchor",N?"end":q||we?"start":"middle").call(a.font,Te).call(M.convertToTspans,o),re.textBB=a.bBox(ge.node()),re.transform=y(re,{fontSize:Te.size,isHeader:J}),re.transform.fontSize=Te.size,f?ge.transition().attrTween("transform",function(xe){var be=D(xe,r,Q(),[b,p]);return function(ye){return w(be(ye))}}):ge.attr("transform",w(re))}),ae}},83024:function(ie){"use strict";ie.exports=function z(e,S,A){var a;A.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),A.flipX&&(a=e.x0,e.x0=S[0]-e.x1,e.x1=S[0]-a),A.flipY&&(a=e.y0,e.y0=S[1]-e.y1,e.y1=S[1]-a);var M=e.children;if(M)for(var _=0;_<M.length;_++)z(M[_],S,A)}},31991:function(ie,z,e){"use strict";ie.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(ie){"use strict";ie.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(ie,z,e){"use strict";var S=e(3400),A=e(45392);ie.exports=function(a,M){function _(d,s){return S.coerce(a,M,A,d,s)}_("treemapcolorway",M.colorway),_("extendtreemapcolors")}},13832:function(ie,z,e){"use strict";var S=e(74148),A=e(83024);ie.exports=function(a,M,_){var d,s=_.flipX,t=_.flipY,i="dice-slice"===_.packing,n=_.pad[t?"bottom":"top"],r=_.pad[s?"right":"left"],o=_.pad[s?"left":"right"],u=_.pad[t?"top":"bottom"];i&&(d=r,r=n,n=d,d=o,o=u,u=d);var l=S.treemap().tile(function(h,c){switch(h){case"squarify":return S.treemapSquarify.ratio(c);case"binary":return S.treemapBinary;case"dice":return S.treemapDice;case"slice":return S.treemapSlice;default:return S.treemapSliceDice}}(_.packing,_.squarifyratio)).paddingInner(_.pad.inner).paddingLeft(r).paddingRight(o).paddingTop(n).paddingBottom(u).size(i?[M[1],M[0]]:M)(a);return(i||s||t)&&A(l,M,{swapXY:i,flipX:s,flipY:t}),l}},53264:function(ie,z,e){"use strict";var S=e(95808),A=e(76477);ie.exports=function(a,M,_,d){return S(a,M,_,d,{type:"treemap",drawDescendants:A})}},52960:function(ie,z,e){"use strict";var S=e(33428),A=e(67756).qy,a=e(78176),M=e(3400),_=e(78048).TEXTPAD,d=e(98184).toMoveInsideBar,s=e(82744).recordMinTextSize,t=e(32984),i=e(27336);function n(r){return a.isHierarchyRoot(r)?"":a.getPtId(r)}ie.exports=function(r,o,u,l,h){var c=r._fullLayout,b=o[0],p=b.trace,m="icicle"===p.type,v=b.hierarchy,x=a.findEntryWithLevel(v,p.level),y=S.select(u),w=y.selectAll("g.pathbar"),f=y.selectAll("g.slice");if(!x)return w.remove(),void f.remove();var C=a.isHierarchyRoot(x),T=!c.uniformtext.mode&&a.hasTransition(l),D=a.getMaxDepth(p),R=c._size,P=p.domain,O=R.w*(P.x[1]-P.x[0]),B=R.h*(P.y[1]-P.y[0]),q=O,N=p.pathbar.thickness,H=p.marker.line.width+t.gapWithPathbar,$=p.pathbar.visible?p.pathbar.side.indexOf("bottom")>-1?B+H:-(N+H):0,j={x0:q,x1:q,y0:$,y1:$+N},W=function(Ae,Le,Ve){var Ne=p.tiling.pad,We=function(ht){return ht-Ne<=Le.x0},Xe=function(ht){return ht+Ne>=Le.x1},nt=function(ht){return ht-Ne<=Le.y0},dt=function(ht){return ht+Ne>=Le.y1};return Ae.x0===Le.x0&&Ae.x1===Le.x1&&Ae.y0===Le.y0&&Ae.y1===Le.y1?{x0:Ae.x0,x1:Ae.x1,y0:Ae.y0,y1:Ae.y1}:{x0:We(Ae.x0-Ne)?0:Xe(Ae.x0-Ne)?Ve[0]:Ae.x0,x1:We(Ae.x1+Ne)?0:Xe(Ae.x1+Ne)?Ve[0]:Ae.x1,y0:nt(Ae.y0-Ne)?0:dt(Ae.y0-Ne)?Ve[1]:Ae.y0,y1:nt(Ae.y1+Ne)?0:dt(Ae.y1+Ne)?Ve[1]:Ae.y1}},G=null,ae={},te={},Q=null,ee=function(Ae,Le){return Le?ae[n(Ae)]:te[n(Ae)]};b.hasMultipleRoots&&C&&D++,p._maxDepth=D,p._backgroundColor=c.paper_bgcolor,p._entryDepth=x.data.depth,p._atRootLevel=C;var re=-O/2+R.l+R.w*(P.x[1]+P.x[0])/2,J=-B/2+R.t+R.h*(1-(P.y[1]+P.y[0])/2),le=function(Ae){return re+Ae},fe=function(Ae){return J+Ae},ce=fe(0),ge=le(0),Te=function(Ae){return ge+Ae},Me=function(Ae){return ce+Ae};function we(Ae,Le){return Ae+","+Le}var xe=Te(0),be=function(Ae){Ae.x=Math.max(xe,Ae.x)},ye=p.pathbar.edgeshape,Se=p[m?"tiling":"marker"].pad,Ee=function(Ae){return-1!==p.textposition.indexOf(Ae)},he=Ee("top"),ue=Ee("left"),me=Ee("right"),Pe=Ee("bottom"),Ce=function(Ae,Le){var Ve=Ae.x0,Ne=Ae.x1,We=Ae.y0,Xe=Ae.y1,nt=Ae.textBB,dt=he||Le.isHeader&&!Pe?"start":Pe?"end":"middle",ht=Ee("right"),Mt=Ee("left")||Le.onPathbar?-1:ht?1:0;if(Le.isHeader){if((Ve+=(m?Se:Se.l)-_)>=(Ne-=(m?Se:Se.r)-_)){var kt=(Ve+Ne)/2;Ve=kt,Ne=kt}var _t;Pe?We<(_t=Xe-(m?Se:Se.b))&&_t<Xe&&(We=_t):We<(_t=We+(m?Se:Se.t))&&_t<Xe&&(Xe=_t)}var ut=d(Ve,Ne,We,Xe,nt,{isHorizontal:!1,constrained:!0,angle:0,anchor:dt,leftToRight:Mt});return ut.fontSize=Le.fontSize,ut.targetX=le(ut.targetX),ut.targetY=fe(ut.targetY),isNaN(ut.targetX)||isNaN(ut.targetY)?{}:(Ve!==Ne&&We!==Xe&&s(p.type,ut,c),{scale:ut.scale,rotate:ut.rotate,textX:ut.textX,textY:ut.textY,anchorX:ut.anchorX,anchorY:ut.anchorY,targetX:ut.targetX,targetY:ut.targetY})},Ie=function(Ae,Le){for(var Ve,Ne=0,We=Ae;!Ve&&Ne<D;)Ne++,(We=We.parent)?Ve=ee(We,Le):Ne=D;return Ve||{}},Oe=function(Ae,Le,Ve,Ne,We){var Xe,nt=ee(Ae,Le);if(nt)Xe=nt;else if(Le)Xe=j;else if(G)if(Ae.parent){var dt=Q||Ve;dt&&!Le?Xe=W(Ae,dt,Ne):M.extendFlat(Xe={},Ie(Ae,Le))}else Xe=M.extendFlat({},Ae),m&&("h"===We.orientation?We.flipX?Xe.x0=Ae.x1:Xe.x1=0:We.flipY?Xe.y0=Ae.y1:Xe.y1=0);else Xe={};return A(Xe,{x0:Ae.x0,x1:Ae.x1,y0:Ae.y0,y1:Ae.y1})},ze=function(Ae,Le,Ve,Ne){var ht,kt,_t,We=ee(Ae,Le),Xe={},nt=(ht=Ae,kt=Ve,_t=Ne,Le?ae[n(v)]||j:ht.data.depth-x.data.depth<D?W(ht,te[p.level]||kt,_t):{});M.extendFlat(Xe,{transform:Ce({x0:nt.x0,x1:nt.x1,y0:nt.y0,y1:nt.y1,textBB:Ae.textBB,_text:Ae._text},{isHeader:a.isHeader(Ae,p)})}),We?Xe=We:Ae.parent&&M.extendFlat(Xe,Ie(Ae,Le));var dt=Ae.transform;return Ae.x0!==Ae.x1&&Ae.y0!==Ae.y1&&s(p.type,dt,c),A(Xe,{transform:{scale:dt.scale,rotate:dt.rotate,textX:dt.textX,textY:dt.textY,anchorX:dt.anchorX,anchorY:dt.anchorY,targetX:dt.targetX,targetY:dt.targetY}})},je=function(Ae,Le,Ve,Ne,We){var Xe=Ne[0],nt=Ne[1];T?Ae.exit().transition().each(function(){var dt=S.select(this);dt.select("path.surface").transition().attrTween("d",function(ht){var Mt=function(kt,_t,ut,st){var Lt,Ut=ee(kt,_t);if(_t)Lt=j;else{var Ht=ee(x,_t);Lt=Ht?W(kt,Ht,st):{}}return A(Ut,Lt)}(ht,Le,0,[Xe,nt]);return function(kt){return We(Mt(kt))}}),dt.select("g.slicetext").attr("opacity",0)}).remove():Ae.exit().remove()},ve=function(Ae){var Le=Ae.transform;return Ae.x0!==Ae.x1&&Ae.y0!==Ae.y1&&s(p.type,Le,c),M.getTextTransform({textX:Le.textX,textY:Le.textY,anchorX:Le.anchorX,anchorY:Le.anchorY,targetX:Le.targetX,targetY:Le.targetY,scale:Le.scale,rotate:Le.rotate})};T&&(w.each(function(Ae){ae[n(Ae)]={x0:Ae.x0,x1:Ae.x1,y0:Ae.y0,y1:Ae.y1},Ae.transform&&(ae[n(Ae)].transform={textX:Ae.transform.textX,textY:Ae.transform.textY,anchorX:Ae.transform.anchorX,anchorY:Ae.transform.anchorY,targetX:Ae.transform.targetX,targetY:Ae.transform.targetY,scale:Ae.transform.scale,rotate:Ae.transform.rotate})}),f.each(function(Ae){te[n(Ae)]={x0:Ae.x0,x1:Ae.x1,y0:Ae.y0,y1:Ae.y1},Ae.transform&&(te[n(Ae)].transform={textX:Ae.transform.textX,textY:Ae.transform.textY,anchorX:Ae.transform.anchorX,anchorY:Ae.transform.anchorY,targetX:Ae.transform.targetX,targetY:Ae.transform.targetY,scale:Ae.transform.scale,rotate:Ae.transform.rotate}),!G&&a.isEntry(Ae)&&(G=Ae)})),Q=h(r,o,x,f,{width:O,height:B,viewX:le,viewY:fe,pathSlice:function(Ae){var Le=le(Ae.x0),Ve=le(Ae.x1),Ne=fe(Ae.y0),We=fe(Ae.y1),Xe=Ve-Le,nt=We-Ne;if(!Xe||!nt)return"";var ht=Math.min(p.marker.cornerradius||0,Xe/2,nt/2);ht&&Ae.data&&Ae.data.data&&Ae.data.data.label&&(he&&(ht=Math.min(ht,Se.t)),ue&&(ht=Math.min(ht,Se.l)),me&&(ht=Math.min(ht,Se.r)),Pe&&(ht=Math.min(ht,Se.b)));var Mt=function(kt,_t){return ht?"a"+we(ht,ht)+" 0 0 1 "+we(kt,_t):""};return"M"+we(Le,Ne+ht)+Mt(ht,-ht)+"L"+we(Ve-ht,Ne)+Mt(ht,ht)+"L"+we(Ve,We-ht)+Mt(-ht,ht)+"L"+we(Le+ht,We)+Mt(-ht,-ht)+"Z"},toMoveInsideSlice:Ce,prevEntry:G,makeUpdateSliceInterpolator:Oe,makeUpdateTextInterpolator:ze,handleSlicesExit:je,hasTransition:T,strTransform:ve}),p.pathbar.visible?i(r,o,x,w,{barDifY:$,width:q,height:N,viewX:Te,viewY:Me,pathSlice:function(Ae){var Le=Te(Math.max(Math.min(Ae.x0,Ae.x0),0)),Ve=Te(Math.min(Math.max(Ae.x1,Ae.x1),q)),Ne=Me(Ae.y0),We=Me(Ae.y1),Xe=N/2,nt={},dt={};nt.x=Le,dt.x=Ve,nt.y=dt.y=(Ne+We)/2;var ht={x:Le,y:Ne},Mt={x:Ve,y:Ne},kt={x:Ve,y:We},_t={x:Le,y:We};return">"===ye?(ht.x-=Xe,Mt.x-=Xe,kt.x-=Xe,_t.x-=Xe):"/"===ye?(kt.x-=Xe,_t.x-=Xe,nt.x-=Xe/2,dt.x-=Xe/2):"\\"===ye?(ht.x-=Xe,Mt.x-=Xe,nt.x-=Xe/2,dt.x-=Xe/2):"<"===ye&&(nt.x-=Xe,dt.x-=Xe),be(ht),be(_t),be(nt),be(Mt),be(kt),be(dt),"M"+we(ht.x,ht.y)+"L"+we(Mt.x,Mt.y)+"L"+we(dt.x,dt.y)+"L"+we(kt.x,kt.y)+"L"+we(_t.x,_t.y)+"L"+we(nt.x,nt.y)+"Z"},toMoveInsideSlice:Ce,makeUpdateSliceInterpolator:Oe,makeUpdateTextInterpolator:ze,handleSlicesExit:je,hasTransition:T,strTransform:ve}):w.remove()}},66192:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(3400),M=e(78176),_=e(82744).resizeText,d=e(60404);function s(t,i,n,r,o){var u,l,h=(o||{}).hovered,c=i.data.data,b=c.i,p=c.color,m=M.isHierarchyRoot(i),v=1;if(h)u=n._hovered.marker.line.color,l=n._hovered.marker.line.width;else if(m&&p===n.root.color)v=100,u="rgba(0,0,0,0)",l=0;else if(u=a.castOption(n,b,"marker.line.color")||A.defaultLine,l=a.castOption(n,b,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var x=n.marker.depthfade;if(x){var y,w=A.combine(A.addOpacity(n._backgroundColor,.75),p);if(!0===x){var f=M.getMaxDepth(n);y=isFinite(f)?M.isLeaf(i)?0:n._maxVisibleLayers-(i.data.depth-n._entryDepth):i.data.height+1}else y=i.data.depth-n._entryDepth,n._atRootLevel||y++;if(y>0)for(var C=0;C<y;C++)p=A.combine(A.addOpacity(w,.5*C/y),p)}}t.call(d,i,n,r,p).style("stroke-width",l).call(A.stroke,u).style("opacity",v)}ie.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");_(t,i,"treemap"),i.each(function(n){var r=S.select(this),o=n[0].trace;r.style("opacity",o.opacity),r.selectAll("path.surface").each(function(u){S.select(this).call(s,u,o,t,{hovered:!1})})})},styleOne:s}},13988:function(ie,z,e){"use strict";var S=e(63188),A=e(92880).extendFlat,a=e(29736).axisHoverFormat;ie.exports={y:S.y,x:S.x,x0:S.x0,y0:S.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:A({},S.name,{}),orientation:A({},S.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:S.fillcolor,points:A({},S.boxpoints,{}),jitter:A({},S.jitter,{}),pointpos:A({},S.pointpos,{}),width:A({},S.width,{}),marker:S.marker,text:S.text,hovertext:S.hovertext,hovertemplate:S.hovertemplate,quartilemethod:S.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:S.selected,unselected:S.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:S.zorder}},67064:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(62555),M=e(63800),_=e(39032).BADNUM;function d(t,i,n){var r=i.max-i.min;if(!r)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,r/1e4);var l,o=n.length,u=S.stdev(n,o-1,i.mean);return Math.max((l=o,1.059*Math.min(u,(i.q3-i.q1)/1.349)*Math.pow(l,-.2)),r/100)}function s(t,i,n,r){var o,u=t.spanmode,l=t.span||[],c=[i.min-2*r,i.max+2*r];function b(m){var v=l[m],x="multicategory"===n.type?n.r2c(v):n.d2c(v,0,t[i.valLetter+"calendar"]);return x===_?c[m]:x}var p={type:"linear",range:o="soft"===u?c:"hard"===u?[i.min,i.max]:[b(0),b(1)]};return A.setConvert(p),p.cleanRange(),o}ie.exports=function(t,i){var n=a(t,i);if(n[0].t.empty)return n;for(var r=t._fullLayout,o=A.getFromId(t,i["h"===i.orientation?"xaxis":"yaxis"]),u=1/0,l=-1/0,h=0,c=0,b=0;b<n.length;b++){var p=n[b],m=p.pts.map(M.extractVal),v=p.bandwidth=d(i,p,m),x=p.span=s(i,p,o,v);if(p.min===p.max&&0===v)x=p.span=[p.min,p.max],p.density=[{v:1,t:x[0]}],p.bandwidth=v,h=Math.max(h,1);else{var y=x[1]-x[0],w=Math.ceil(y/(v/3)),f=y/w;if(!isFinite(f)||!isFinite(w))return S.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var C=M.makeKDE(p,i,m);p.density=new Array(w);for(var T=0,D=x[0];D<x[1]+f/2;T++,D+=f){var R=C(D);p.density[T]={v:R,t:D},h=Math.max(h,R)}}c=Math.max(c,m.length),u=Math.min(u,x[0]),l=Math.max(l,x[1])}var P=A.findExtremes(o,[u,l],{padded:!0});if(i._extremes[o._id]=P,i.width)n[0].t.maxKDE=h;else{var O=r._violinScaleGroupStats,B=i.scalegroup,q=O[B];q?(q.maxKDE=Math.max(q.maxKDE,h),q.maxCount=Math.max(q.maxCount,c)):O[B]={maxKDE:h,maxCount:c}}return n[0].t.labels.kde=S._(t,"kde:"),n}},14348:function(ie,z,e){"use strict";var S=e(96404).setPositionOffset,A=["v","h"];ie.exports=function(a,M){for(var _=a.calcdata,d=M.xaxis,s=M.yaxis,t=0;t<A.length;t++){for(var i=A[t],n="h"===i?s:d,r=[],o=0;o<_.length;o++){var u=_[o],h=u[0].trace;!0!==h.visible||"violin"!==h.type||u[0].t.empty||h.orientation!==i||h.xaxis!==d._id||h.yaxis!==s._id||r.push(o)}S("violin",a,r,n)}}},36240:function(ie,z,e){"use strict";var S=e(3400),A=e(76308),a=e(90624),M=e(13988);ie.exports=function(_,d,s,t){function i(y,w){return S.coerce(_,d,M,y,w)}function n(y,w){return S.coerce2(_,d,M,y,w)}if(a.handleSampleDefaults(_,d,i,t),!1!==d.visible){i("bandwidth"),i("side"),i("width")||(i("scalegroup",d.name),i("scalemode"));var r,o=i("span");Array.isArray(o)&&(r="manual"),i("spanmode",r);var u=i("line.color",(_.marker||{}).color||s),l=i("line.width"),h=i("fillcolor",A.addOpacity(d.line.color,.5));a.handlePointsDefaults(_,d,i,{prefix:""});var c=n("box.width"),b=n("box.fillcolor",h),p=n("box.line.color",u),m=n("box.line.width",l);i("box.visible",!!(c||b||p||m))||(d.box={visible:!1});var v=n("meanline.color",u),x=n("meanline.width",l);i("meanline.visible",!(!v&&!x))||(d.meanline={visible:!1}),i("quartilemethod"),i("zorder")}}},63800:function(ie,z,e){"use strict";var S=e(3400),A=function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)};z.makeKDE=function(a,M,_){var d=_.length,s=A,t=a.bandwidth,i=1/(d*t);return function(n){for(var r=0,o=0;o<d;o++)r+=s((n-_[o])/t);return i*r}},z.getPositionOnKdePath=function(a,M,_){var d,s;"h"===M.orientation?(d="y",s="x"):(d="x",s="y");var t=S.findPointOnPath(a.path,_,s,{pathLength:a.pathLength}),i=a.posCenterPx,n=t[d];return[n,"both"===M.side?2*i-n:i]},z.getKdeValue=function(a,M,_){var d=a.pts.map(z.extractVal);return z.makeKDE(a,M,d)(_)/a.posDensityScale},z.extractVal=function(a){return a.v}},78e3:function(ie,z,e){"use strict";var S=e(76308),A=e(3400),a=e(54460),M=e(27576),_=e(63800);ie.exports=function(d,s,t,i,n){n||(n={});var r,o,u=n.hoverLayer,l=d.cd,h=l[0].trace,c=h.hoveron,b=-1!==c.indexOf("violins"),p=-1!==c.indexOf("kde"),m=[];if(b||p){var v=M.hoverOnBoxes(d,s,t,i);if(p&&v.length>0){var x,y,w,f,C,T=d.xa,D=d.ya;"h"===h.orientation?(C=s,x="y",w=D,y="x",f=T):(C=t,x="x",w=T,y="y",f=D);var R=l[d.index];if(C>=R.span[0]&&C<=R.span[1]){var P=A.extendFlat({},d),O=f.c2p(C,!0),B=_.getKdeValue(R,h,C),q=_.getPositionOnKdePath(R,h,O),N=w._offset,H=w._length;P[x+"0"]=q[0],P[x+"1"]=q[1],P[y+"0"]=P[y+"1"]=O,P[y+"Label"]=y+": "+a.hoverLabelText(f,C,h[y+"hoverformat"])+", "+l[0].t.labels.kde+" "+B.toFixed(3);for(var $=0,j=0;j<v.length;j++)if("med"===v[j].attr){$=j;break}P.spikeDistance=v[$].spikeDistance;var W=x+"Spike";P[W]=v[$][W],v[$].spikeDistance=void 0,v[$][W]=void 0,P.hovertemplate=!1,m.push(P),(o={})[x+"1"]=A.constrain(N+q[0],N,N+H),o[x+"2"]=A.constrain(N+q[1],N,N+H),o[y+"1"]=o[y+"2"]=f._offset+O}}b&&(m=m.concat(v))}-1!==c.indexOf("points")&&(r=M.hoverOnPoints(d,s,t));var G=u.selectAll(".violinline-"+h.uid).data(o?[0]:[]);return G.enter().append("line").classed("violinline-"+h.uid,!0).attr("stroke-width",1.5),G.exit().remove(),G.attr(o).call(S.stroke,d.color),"closest"===i?r?[r]:m:(r&&m.push(r),m)}},22869:function(ie,z,e){"use strict";ie.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(ie,z,e){"use strict";var S=e(16560),A=e(3400).extendFlat;ie.exports={violinmode:A({},S.boxmode,{}),violingap:A({},S.boxgap,{}),violingroupgap:A({},S.boxgroupgap,{})}},8939:function(ie,z,e){"use strict";var S=e(3400),A=e(98228),a=e(68832);ie.exports=function(M,_,d){a._supply(M,_,d,function(s,t){return S.coerce(M,_,A,s,t)},"violin")}},5140:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(18728),_=e(52340),d=e(63800);ie.exports=function(s,t,i,n){var r=s._context.staticPlot,o=s._fullLayout,u=t.xaxis,l=t.yaxis;function h(c,b){var p=_(c,{xaxis:u,yaxis:l,trace:b,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(p[0],1)}A.makeTraceGroups(n,i,"trace violins").each(function(c){var b=S.select(this),p=c[0],m=p.t,v=p.trace;if(!0!==v.visible||m.empty)b.remove();else{var x=m.bPos,y=m.bdPos,w=t[m.valLetter+"axis"],f=t[m.posLetter+"axis"],C="both"===v.side,T=C||"positive"===v.side,D=C||"negative"===v.side,R=b.selectAll("path.violin").data(A.identity);R.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","violin"),R.exit().remove(),R.each(function(j){var W,G,ae,te,Q,ee,re,J,le=S.select(this),fe=j.density,ce=fe.length,ge=f.c2l(j.pos+x,!0),Te=f.l2p(ge);if(v.width)W=m.maxKDE/y;else{var Me=o._violinScaleGroupStats[v.scalegroup];W="count"===v.scalemode?Me.maxKDE/y*(Me.maxCount/j.pts.length):Me.maxKDE/y}if(T){for(re=new Array(ce),Q=0;Q<ce;Q++)(J=re[Q]={})[m.posLetter]=ge+fe[Q].v/W,J[m.valLetter]=w.c2l(fe[Q].t,!0);G=h(re,v)}if(D){for(re=new Array(ce),ee=0,Q=ce-1;ee<ce;ee++,Q--)(J=re[ee]={})[m.posLetter]=ge-fe[Q].v/W,J[m.valLetter]=w.c2l(fe[Q].t,!0);ae=h(re,v)}if(C)te=G+"L"+ae.substr(1)+"Z";else{var we=[Te,w.c2p(fe[0].t)],xe=[Te,w.c2p(fe[ce-1].t)];"h"===v.orientation&&(we.reverse(),xe.reverse()),te=T?"M"+we+"L"+G.substr(1)+"L"+xe:"M"+xe+"L"+ae.substr(1)+"L"+we}le.attr("d",te),j.posCenterPx=Te,j.posDensityScale=W*y,j.path=le.node(),j.pathLength=j.path.getTotalLength()/(C?2:1)});var P,O,B,q=v.box,N=q.width,H=(q.line||{}).width;C?(P=y*N,O=0):T?(P=[0,y*N/2],O=H*{x:1,y:-1}[m.posLetter]):(P=[y*N/2,0],O=H*{x:-1,y:1}[m.posLetter]),M.plotBoxAndWhiskers(b,{pos:f,val:w},v,{bPos:x,bdPos:P,bPosPxOffset:O}),M.plotBoxMean(b,{pos:f,val:w},v,{bPos:x,bdPos:P,bPosPxOffset:O}),!v.box.visible&&v.meanline.visible&&(B=A.identity);var $=b.selectAll("path.meanline").data(B||[]);$.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",r?"none":"non-scaling-stroke"),$.exit().remove(),$.each(function(j){var W=w.c2p(j.mean,!0),G=d.getPositionOnKdePath(j,v,W);S.select(this).attr("d","h"===v.orientation?"M"+W+","+G[0]+"V"+G[1]:"M"+G[0]+","+W+"H"+G[1])}),M.plotPoints(b,{x:u,y:l},v,m)}})}},95908:function(ie,z,e){"use strict";var S=e(33428),A=e(76308),a=e(49224).stylePoints;ie.exports=function(M){var _=S.select(M).selectAll("g.trace.violins");_.style("opacity",function(d){return d[0].trace.opacity}),_.each(function(d){var s=d[0].trace,t=S.select(this),i=s.box||{},n=i.line||{},r=s.meanline||{},o=r.width;t.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(A.stroke,s.line.color).call(A.fill,s.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(A.stroke,n.color).call(A.fill,i.fillcolor);var u={"stroke-width":o+"px","stroke-dasharray":2*o+"px,"+o+"px"};t.selectAll("path.mean").style(u).call(A.stroke,r.color),t.selectAll("path.meanline").style(u).call(A.stroke,r.color),a(t,s,M)})}},58168:function(ie,z,e){"use strict";var S=e(49084),A=e(50048),a=e(16716),M=e(45464),_=e(92880).extendFlat,d=e(67824).overrideAll,s=ie.exports=d(_({x:A.x,y:A.y,z:A.z,value:A.value,isomin:A.isomin,isomax:A.isomax,surface:A.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:A.slices,caps:A.caps,text:A.text,hovertext:A.hovertext,xhoverformat:A.xhoverformat,yhoverformat:A.yhoverformat,zhoverformat:A.zhoverformat,valuehoverformat:A.valuehoverformat,hovertemplate:A.hovertemplate},S("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:A.colorbar,opacity:A.opacity,opacityscale:a.opacityscale,lightposition:A.lightposition,lighting:A.lighting,flatshading:A.flatshading,contour:A.contour,hoverinfo:_({},M.hoverinfo),showlegend:_({},M.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},91976:function(ie,z,e){"use strict";var S=e(67792).gl_mesh3d,A=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,M=e(43080),_=e(8932).extractOpts,d=e(52094),s=e(31460).findNearestOnAxis,t=e(31460).generateIsoMeshes;function i(r,o,u){this.scene=r,this.uid=u,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(r){if(r.object===this.mesh){var o=r.data.index,l=this.data._meshY[o],h=this.data._meshZ[o],c=this.data._Ys.length,b=this.data._Zs.length,p=s(this.data._meshX[o],this.data._Xs).id,m=s(l,this.data._Ys).id,v=s(h,this.data._Zs).id,x=r.index=v+b*m+b*c*p;r.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var y=this.data.hovertext||this.data.text;return a(y)&&void 0!==y[x]?r.textLabel=y[x]:y&&(r.textLabel=y),!0}},n.update=function(r){var o=this.scene,u=o.fullSceneLayout;function l(b,p,m,v){return p.map(function(x){return b.d2l(x,0,v)*m})}this.data=t(r);var h={positions:d(l(u.xaxis,r._meshX,o.dataScale[0],r.xcalendar),l(u.yaxis,r._meshY,o.dataScale[1],r.ycalendar),l(u.zaxis,r._meshZ,o.dataScale[2],r.zcalendar)),cells:d(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:M(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},c=_(r);h.vertexIntensity=r._meshIntensity,h.vertexIntensityBounds=[c.min,c.max],h.colormap=A(r),this.mesh.update(h)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(r,o){var l=S({gl:r.glplot.gl}),h=new i(r,l,o.uid);return l._trace=h,h.update(o),r.glplot.add(l),h}},12448:function(ie,z,e){"use strict";var S=e(3400),A=e(58168),a=e(70548).supplyIsoDefaults,M=e(60192).opacityscaleDefaults;ie.exports=function(_,d,s,t){function i(n,r){return S.coerce(_,d,A,n,r)}a(_,d,s,t,i),M(_,d,t,i)}},67776:function(ie,z,e){"use strict";ie.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(ie,z,e){"use strict";var S=e(20832),A=e(52904).line,a=e(45464),M=e(29736).axisHoverFormat,_=e(21776).Ks,d=e(21776).Gw,s=e(10213),t=e(92880).extendFlat,i=e(76308);function n(r){return{marker:{color:t({},S.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},S.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},S.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ie.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:S.hovertext,hovertemplate:_({},{keys:s.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:S.text,textposition:S.textposition,insidetextanchor:S.insidetextanchor,textangle:S.textangle,textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:S.outsidetextfont,constraintext:S.constraintext,cliponaxis:S.cliponaxis,orientation:S.orientation,offset:S.offset,width:S.width,increasing:n(),decreasing:n(),totals:n(),connector:{line:{color:t({},A.color,{dflt:i.defaultLine}),width:t({},A.width,{editType:"plot"}),dash:A.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,zorder:S.zorder}},73540:function(ie,z,e){"use strict";var S=e(54460),A=e(1220),a=e(3400).mergeArray,M=e(4500),_=e(39032).BADNUM;function d(t){return"a"===t||"absolute"===t}function s(t){return"t"===t||"total"===t}ie.exports=function(t,i){var n,r,o,u,l,h,c=S.getFromId(t,i.xaxis||"x"),b=S.getFromId(t,i.yaxis||"y");"h"===i.orientation?(n=c.makeCalcdata(i,"x"),o=b.makeCalcdata(i,"y"),u=A(i,b,"y",o),l=!!i.yperiodalignment,h="y"):(n=b.makeCalcdata(i,"y"),o=c.makeCalcdata(i,"x"),u=A(i,c,"x",o),l=!!i.xperiodalignment,h="x"),r=u.vals;for(var p,m=Math.min(r.length,n.length),v=new Array(m),x=0,y=!1,w=0;w<m;w++){var f=n[w]||0,C=!1;(n[w]!==_||s(i.measure[w])||d(i.measure[w]))&&w+1<m&&(n[w+1]!==_||s(i.measure[w+1])||d(i.measure[w+1]))&&(C=!0);var T=v[w]={i:w,p:r[w],s:f,rawS:f,cNext:C};d(i.measure[w])?(x=T.s,T.isSum=!0,T.dir="totals",T.s=x):s(i.measure[w])?(T.isSum=!0,T.dir="totals",T.s=x):(T.isSum=!1,T.dir=T.rawS<0?"decreasing":"increasing",T.s=x+(p=T.s),x+=p),"totals"===T.dir&&(y=!0),l&&(v[w].orig_p=o[w],v[w][h+"End"]=u.ends[w],v[w][h+"Start"]=u.starts[w]),i.ids&&(T.id=String(i.ids[w])),T.v=(i.base||0)+x}return v.length&&(v[0].hasTotals=y),a(i.text,v,"tx"),a(i.hovertext,v,"htx"),M(v,i),v}},10213:function(ie){"use strict";ie.exports={eventDataKeys:["initial","delta","final"]}},50152:function(ie,z,e){"use strict";var S=e(96376).setGroupPositions;ie.exports=function(A,a){var M,_,d=A._fullLayout,s=A._fullData,t=A.calcdata,i=a.xaxis,n=a.yaxis,r=[],o=[],u=[];for(_=0;_<s.length;_++){var l=s[_];!0===l.visible&&l.xaxis===i._id&&l.yaxis===n._id&&"waterfall"===l.type&&(M=t[_],"h"===l.orientation?u.push(M):o.push(M),r.push(M))}var h={mode:d.waterfallmode,norm:d.waterfallnorm,gap:d.waterfallgap,groupgap:d.waterfallgroupgap};for(S(A,i,n,o,h),S(A,n,i,u,h),_=0;_<r.length;_++){M=r[_];for(var c=0;c<M.length;c++){var b=M[c];!1===b.isSum&&(b.s0+=0===c?0:M[c-1].s),c+1<M.length&&(M[c].nextP0=M[c+1].p0,M[c].nextS0=M[c+1].s0)}}}},24224:function(ie,z,e){"use strict";var S=e(3400),A=e(20011),a=e(31508).handleText,M=e(43980),_=e(31147),d=e(65776),s=e(76308),t=e(48164),i=t.INCREASING.COLOR,n=t.DECREASING.COLOR;function r(o,u,l){o(u+".marker.color",l),o(u+".marker.line.color",s.defaultLine),o(u+".marker.line.width")}ie.exports={supplyDefaults:function(o,u,l,h){function c(p,m){return S.coerce(o,u,d,p,m)}if(M(o,u,h,c)){_(o,u,h,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",u.x&&!u.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var b=c("textposition");a(o,u,h,c,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==u.textposition&&(c("texttemplate"),u.texttemplate||c("textinfo")),r(c,"increasing",i),r(c,"decreasing",n),r(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash"))),c("zorder")}else u.visible=!1},crossTraceDefaults:function(o,u){var l,h;function c(p){return S.coerce(h._input,h,d,p)}if("group"===u.waterfallmode)for(var b=0;b<o.length;b++)l=(h=o[b])._input,A(l,h,u,c)}}},53256:function(ie){"use strict";ie.exports=function(z,e){return z.x="xVal"in e?e.xVal:e.x,z.y="yVal"in e?e.yVal:e.y,"initial"in e&&(z.initial=e.initial),"delta"in e&&(z.delta=e.delta),"final"in e&&(z.final=e.final),e.xa&&(z.xaxis=e.xa),e.ya&&(z.yaxis=e.ya),z}},94196:function(ie,z,e){"use strict";var S=e(54460).hoverLabelText,A=e(76308).opacity,a=e(63400).hoverOnBars,M=e(48164),_=M.INCREASING.SYMBOL,d=M.DECREASING.SYMBOL;ie.exports=function(s,t,i,n,r){var P,O,B,q,o=a(s,t,i,n,r);if(o){var u=o.cd,l=u[0].trace,h="h"===l.orientation,c=h?"x":"y",b=h?s.xa:s.ya,p=u[o.index],m=p.isSum?p.b+p.s:p.rawS;o.initial=p.b+p.s-m,o.delta=m,o.final=o.initial+o.delta;var v=T(Math.abs(o.delta));o.deltaLabel=m<0?"("+v+")":v,o.finalLabel=T(o.final),o.initialLabel=T(o.initial);var x=p.hi||l.hoverinfo,y=[];if(x&&"none"!==x&&"skip"!==x){var w="all"===x,f=x.split("+"),C=function(D){return w||-1!==f.indexOf(D)};p.isSum||(!C("final")||C(h?"x":"y")||y.push(o.finalLabel),C("delta")&&y.push(m<0?o.deltaLabel+" "+d:o.deltaLabel+" "+_),C("initial")&&y.push("Initial: "+o.initialLabel))}return y.length&&(o.extraText=y.join("<br>")),o.color=(B=(P=l[p.dir].marker).line.color,q=P.line.width,A(O=P.color)?O:A(B)&&q?B:void 0),[o]}function T(D){return S(b,D,l[c+"hoverformat"])}}},95952:function(ie,z,e){"use strict";ie.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(ie){"use strict";ie.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(ie,z,e){"use strict";var S=e(3400),A=e(91352);ie.exports=function(a,M,_){var d=!1;function s(n,r){return S.coerce(a,M,A,n,r)}for(var t=0;t<_.length;t++){var i=_[t];if(i.visible&&"waterfall"===i.type){d=!0;break}}d&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},64488:function(ie,z,e){"use strict";var S=e(33428),A=e(3400),a=e(43616),M=e(39032).BADNUM,_=e(98184),d=e(82744).clearMinTextSize;ie.exports=function(s,t,i,n){var o,u,c,b,r=s._fullLayout;d("waterfall",r),_.plot(s,t,i,n,{mode:r.waterfallmode,norm:r.waterfallmode,gap:r.waterfallgap,groupgap:r.waterfallgroupgap}),o=s,c=(u=t).xaxis,b=u.yaxis,A.makeTraceGroups(n,i,"trace bars").each(function(p){var m=S.select(this),v=p[0].trace,x=A.ensureSingle(m,"g","lines");if(v.connector&&v.connector.visible){var y="h"===v.orientation,w=v.connector.mode,f=x.selectAll("g.line").data(A.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var C=f.size();f.each(function(T,D){if(D===C-1||T.cNext){var R=(N=c,H=b,W=[],ae=($=y)?H:N,(j=[])[0]=(G=$?N:H).c2p((q=T).s0,!0),W[0]=ae.c2p(q.p0,!0),j[1]=G.c2p(q.s1,!0),W[1]=ae.c2p(q.p1,!0),j[2]=G.c2p(q.nextS0,!0),W[2]=ae.c2p(q.nextP0,!0),$?[j,W]:[W,j]),P=R[0],O=R[1],B="";P[0]!==M&&O[0]!==M&&P[1]!==M&&O[1]!==M&&("spanning"===w&&!T.isSum&&D>0&&(B+=y?"M"+P[0]+","+O[1]+"V"+O[0]:"M"+P[1]+","+O[0]+"H"+P[0]),"between"!==w&&(T.isSum||D<C-1)&&(B+=y?"M"+P[1]+","+O[0]+"V"+O[1]:"M"+P[0]+","+O[1]+"H"+P[1]),P[2]!==M&&O[2]!==M&&(B+=y?"M"+P[1]+","+O[1]+"V"+O[2]:"M"+P[1]+","+O[1]+"H"+P[2])),""===B&&(B="M0,0Z"),A.ensureSingle(S.select(this),"path").attr("d",B).call(a.setClipUrl,u.layerClipId,o)}var q,N,H,$,j,W,G,ae})}else x.remove()})}},12252:function(ie,z,e){"use strict";var S=e(33428),A=e(43616),a=e(76308),M=e(13448).DESELECTDIM,_=e(60100),d=e(82744).resizeText,s=_.styleTextPoints;ie.exports={style:function(t,i,n){var r=n||S.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");d(t,r,"waterfall"),r.style("opacity",function(o){return o[0].trace.opacity}),r.each(function(o){var u=S.select(this),l=o[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=l[h.dir].marker;S.select(this).call(a.fill,c.color).call(a.stroke,c.line.color).call(A.dashLine,c.line.dash,c.line.width).style("opacity",l.selectedpoints&&!h.selected?M:1)}}),s(u,l,t),u.selectAll(".lines").each(function(){var h=l.connector.line;A.lineGroupStyle(S.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},84224:function(ie,z,e){"use strict";var S=e(54460),A=e(3400),a=e(73060),M=e(60468).W,_=e(39032).BADNUM;z.moduleType="transform",z.name="aggregate";var d=z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=d.aggregations;function t(o,u,l,h){if(h.enabled){for(var c=h.target,b=A.nestedProperty(u,c),p=b.get(),m=function(y,w){var C=w.d2c,T=w.c2d;switch(y.func){case"count":return i;case"first":return n;case"last":return r;case"sum":return function(D,R){for(var P=0,O=0;O<R.length;O++){var B=C(D[R[O]]);B!==_&&(P+=B)}return T(P)};case"avg":return function(D,R){for(var P=0,O=0,B=0;B<R.length;B++){var q=C(D[R[B]]);q!==_&&(P+=q,O++)}return O?T(P/O):_};case"min":return function(D,R){for(var P=1/0,O=0;O<R.length;O++){var B=C(D[R[O]]);B!==_&&(P=Math.min(P,B))}return P===1/0?_:T(P)};case"max":return function(D,R){for(var P=-1/0,O=0;O<R.length;O++){var B=C(D[R[O]]);B!==_&&(P=Math.max(P,B))}return P===-1/0?_:T(P)};case"range":return function(D,R){for(var P=1/0,O=-1/0,B=0;B<R.length;B++){var q=C(D[R[B]]);q!==_&&(P=Math.min(P,q),O=Math.max(O,q))}return O===-1/0||P===1/0?_:T(O-P)};case"change":return function(D,R){var P=C(D[R[0]]),O=C(D[R[R.length-1]]);return P===_||O===_?_:T(O-P)};case"median":return function(D,R){for(var P=[],O=0;O<R.length;O++){var B=C(D[R[O]]);B!==_&&P.push(B)}if(!P.length)return _;P.sort(A.sorterAsc);var q=(P.length-1)/2;return T((P[Math.floor(q)]+P[Math.ceil(q)])/2)};case"mode":return function(D,R){for(var P={},O=0,B=_,q=0;q<R.length;q++){var N=C(D[R[q]]);if(N!==_){var H=P[N]=(P[N]||0)+1;H>O&&(O=H,B=N)}}return O?T(B):_};case"rms":return function(D,R){for(var P=0,O=0,B=0;B<R.length;B++){var q=C(D[R[B]]);q!==_&&(P+=q*q,O++)}return O?T(Math.sqrt(P/O)):_};case"stddev":return function(D,R){var P,O=0,B=0,q=1,N=_;for(P=0;P<R.length&&N===_;P++)N=C(D[R[P]]);if(N===_)return _;for(;P<R.length;P++){var H=C(D[R[P]]);if(H!==_){var $=H-N;O+=$,B+=$*$,q++}}var j="sample"===y.funcmode?q-1:q;return j?Math.sqrt((B-O*O/q)/j):0}}}(h,S.getDataConversions(o,u,c,p)),v=new Array(l.length),x=0;x<l.length;x++)v[x]=m(p,l[x]);b.set(v),"count"===h.func&&A.pushUnique(u._arrayAttrs,c)}}function i(o,u){return u.length}function n(o,u){return o[u[0]]}function r(o,u){return o[u[u.length-1]]}z.supplyDefaults=function(o,u){var l,h={};function c(T,D){return A.coerce(o,h,d,T,D)}if(!c("enabled"))return h;var b=a.findArrayAttributes(u),p={};for(l=0;l<b.length;l++)p[b[l]]=1;var m=c("groups");if(!Array.isArray(m)){if(!p[m])return h.enabled=!1,h;p[m]=0}var v,x=o.aggregations||[],y=h.aggregations=new Array(x.length);function w(T,D){return A.coerce(x[l],v,s,T,D)}for(l=0;l<x.length;l++){v={_index:l};var f=w("target"),C=w("func");w("enabled")&&f&&(p[f]||"count"===C&&void 0===p[f])?("stddev"===C&&w("funcmode"),p[f]=0,y[l]=v):y[l]={enabled:!1,_index:l}}for(l=0;l<b.length;l++)p[b[l]]&&y.push({target:b[l],func:s.func.dflt,enabled:!0,_index:-1});return h},z.calcTransform=function(o,u,l){if(l.enabled){var h=l.groups,c=A.getTargetArray(u,{target:h});if(c){var b,p,m,x={},y={},w=[],f=M(u.transforms,l),C=c.length;for(u._length&&(C=Math.min(C,u._length)),b=0;b<C;b++)void 0===(m=x[p=c[b]])?(x[p]=w.length,w.push([b]),y[x[p]]=f(b)):(w[m].push(b),y[x[p]]=(y[x[p]]||[]).concat(f(b)));l._indexToPoints=y;var T=l.aggregations;for(b=0;b<T.length;b++)t(o,u,w,T[b]);"string"==typeof h&&t(o,u,w,{target:h,func:"first",enabled:!0}),u._length=w.length}}}},76744:function(ie,z,e){"use strict";var S=e(3400),A=e(24040),a=e(54460),M=e(60468).W,_=e(69104),d=_.COMPARISON_OPS,s=_.INTERVAL_OPS,t=_.SET_OPS;z.moduleType="transform",z.name="filter",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(s).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},z.supplyDefaults=function(i){var n={};function r(l,h){return S.coerce(i,n,z.attributes,l,h)}if(r("enabled")){var o=r("target");if(S.isArrayOrTypedArray(o)&&0===o.length)return n.enabled=!1,n;r("preservegaps"),r("operation"),r("value");var u=A.getComponentMethod("calendars","handleDefaults");u(i,n,"valuecalendar",null),u(i,n,"targetcalendar",null)}return n},z.calcTransform=function(i,n,r){if(r.enabled){var o=S.getTargetArray(n,r);if(o){var u=r.target,l=o.length;n._length&&(l=Math.min(l,n._length));var h=r.targetcalendar,c=n._arrayAttrs,b=r.preservegaps;if("string"==typeof u){var p=S.nestedProperty(n,u+"calendar").get();p&&(h=p)}var m,v,x=function(R,P,O){var B=R.operation,q=R.value,N=S.isArrayOrTypedArray(q);function H(G){return-1!==G.indexOf(B)}var $,j=function(G){return P(G,0,R.valuecalendar)},W=function(G){return P(G,0,O)};switch(H(d)?$=j(N?q[0]:q):H(s)?$=N?[j(q[0]),j(q[1])]:[j(q),j(q)]:H(t)&&($=N?q.map(j):[j(q)]),B){case"=":return function(G){return W(G)===$};case"!=":return function(G){return W(G)!==$};case"<":return function(G){return W(G)<$};case"<=":return function(G){return W(G)<=$};case">":return function(G){return W(G)>$};case">=":return function(G){return W(G)>=$};case"[]":return function(G){var ae=W(G);return ae>=$[0]&&ae<=$[1]};case"()":return function(G){var ae=W(G);return ae>$[0]&&ae<$[1]};case"[)":return function(G){var ae=W(G);return ae>=$[0]&&ae<$[1]};case"(]":return function(G){var ae=W(G);return ae>$[0]&&ae<=$[1]};case"][":return function(G){var ae=W(G);return ae<=$[0]||ae>=$[1]};case")(":return function(G){var ae=W(G);return ae<$[0]||ae>$[1]};case"](":return function(G){var ae=W(G);return ae<=$[0]||ae>$[1]};case")[":return function(G){var ae=W(G);return ae<$[0]||ae>=$[1]};case"{}":return function(G){return-1!==$.indexOf(W(G))};case"}{":return function(G){return-1===$.indexOf(W(G))}}}(r,a.getDataToCoordFunc(i,n,u,o),h),y={},w={},f=0;b?(m=function(R){y[R.astr]=S.extendDeep([],R.get()),R.set(new Array(l))},v=function(R,P){var O=y[R.astr][P];R.get()[P]=O}):(m=function(R){y[R.astr]=S.extendDeep([],R.get()),R.set([])},v=function(R,P){var O=y[R.astr][P];R.get().push(O)}),D(m);for(var C=M(n.transforms,r),T=0;T<l;T++)x(o[T])?(D(v,T),w[f++]=C(T)):b&&f++;r._indexToPoints=w,n._length=f}}function D(R,P){for(var O=0;O<c.length;O++)R(S.nestedProperty(n,c[O]),P)}}},32028:function(ie,z,e){"use strict";var S=e(3400),A=e(73060),a=e(7316),M=e(60468).W;function _(d,s){var t,i,n,r,o,u,l,h,c,b,p=s.transform,m=s.transformIndex,v=d.transforms[m].groups,x=M(d.transforms,p);if(!S.isArrayOrTypedArray(v)||0===v.length)return[d];var y=S.filterUnique(v),w=new Array(y.length),f=v.length,C=A.findArrayAttributes(d),T=p.styles||[],D={};for(t=0;t<T.length;t++)D[T[t].target]=T[t].value;p.styles&&(b=S.keyedContainer(p,"styles","target","value.name"));var R={},P={};for(t=0;t<y.length;t++){R[u=y[t]]=t,P[u]=0,(l=w[t]=S.extendDeepNoArrays({},d))._group=u,l.transforms[m]._indexToPoints={};var O=null;for(b&&(O=b.get(u)),l.name=O||""===O?O:S.templateString(p.nameformat,{trace:d.name,group:u}),h=l.transforms,l.transforms=[],i=0;i<h.length;i++)l.transforms[i]=S.extendDeepNoArrays({},h[i]);for(i=0;i<C.length;i++)S.nestedProperty(l,C[i]).set([])}for(n=0;n<C.length;n++){for(r=C[n],i=0,c=[];i<y.length;i++)c[i]=S.nestedProperty(w[i],r).get();for(o=S.nestedProperty(d,r).get(),i=0;i<f;i++)c[R[v[i]]].push(o[i])}for(i=0;i<f;i++)(l=w[R[v[i]]]).transforms[m]._indexToPoints[P[v[i]]]=x(i),P[v[i]]++;for(t=0;t<y.length;t++)u=y[t],a.clearExpandedTraceDefaultColors(l=w[t]),l=S.extendDeepNoArrays(l,D[u]||{});return w}z.moduleType="transform",z.name="groupby",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},z.supplyDefaults=function(d,s,t){var i,n={};function r(c,b){return S.coerce(d,n,z.attributes,c,b)}if(!r("enabled"))return n;r("groups"),r("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var o=d.styles,u=n.styles=[];if(o)for(i=0;i<o.length;i++){var l=u[i]={};S.coerce(o[i],u[i],z.attributes.styles,"target");var h=S.coerce(o[i],u[i],z.attributes.styles,"value");S.isPlainObject(h)?l.value=S.extendDeep({},h):h&&delete l.value}return n},z.transform=function(d,s){var t,i,n,r=[];for(i=0;i<d.length;i++)for(t=_(d[i],s),n=0;n<t.length;n++)r.push(t[n]);return r}},60468:function(ie,z){"use strict";z.W=function(e,S){for(var A,a,M=0;M<e.length&&(A=e[M])!==S;M++)A._indexToPoints&&!1!==A.enabled&&(a=A._indexToPoints);return a?function(d){return a[d]}:function(d){return[d]}}},76272:function(ie,z,e){"use strict";var S=e(3400),A=e(54460),a=e(60468).W,M=e(39032).BADNUM;z.moduleType="transform",z.name="sort",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},z.supplyDefaults=function(_){var d={};function s(t,i){return S.coerce(_,d,z.attributes,t,i)}return s("enabled")&&(s("target"),s("order")),d},z.calcTransform=function(_,d,s){if(s.enabled){var t=S.getTargetArray(d,s);if(t){var i=s.target,n=t.length;d._length&&(n=Math.min(n,d._length));var r,o,u=d._arrayAttrs,l=function(v,x,y,w){var f,C=new Array(w),T=new Array(w);for(f=0;f<w;f++)C[f]={v:x[f],i:f};for(C.sort(function(D,R){switch(D.order){case"ascending":return function(P,O){var B=R(P.v),q=R(O.v);return B===M?1:q===M?-1:B-q};case"descending":return function(P,O){var B=R(P.v),q=R(O.v);return B===M?1:q===M?-1:q-B}}}(v,y)),f=0;f<w;f++)T[f]=C[f].i;return T}(s,t,A.getDataToCoordFunc(_,d,i,t),n),h=a(d.transforms,s),c={};for(r=0;r<u.length;r++){var b=S.nestedProperty(d,u[r]),p=b.get(),m=new Array(n);for(o=0;o<n;o++)m[o]=p[l[o]];b.set(m)}for(o=0;o<n;o++)c[o]=h(l[o]);s._indexToPoints=c,d._length=n}}}},25788:function(ie,z){"use strict";z.version="2.32.0"},67792:function(ie,z,e){var S=e(4168);!function(){var A={1964:function(d,s,t){d.exports={alpha_shape:t(3502),convex_hull:t(7352),delaunay_triangulate:t(7642),gl_cone3d:t(6405),gl_error3d:t(9165),gl_heatmap2d:t(2510),gl_line3d:t(5714),gl_mesh3d:t(7201),gl_plot2d:t(1850),gl_plot3d:t(4100),gl_pointcloud2d:t(4696),gl_scatter3d:t(8418),gl_select_box:t(3161),gl_spikes2d:t(4098),gl_streamtube3d:t(7815),gl_surface3d:t(9499),ndarray:t(9618),ndarray_linear_interpolate:t(4317)}},4793:function(d,s,t){"use strict";function n(ve){var Ae=function(Le,Ve){if("object"!=l(Le)||!Le)return Le;var Ne=Le[Symbol.toPrimitive];if(void 0!==Ne){var We=Ne.call(Le,"string");if("object"!=l(We))return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(ve);return"symbol"==l(Ae)?Ae:Ae+""}function r(){try{var ve=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r=function(){return!!ve})()}function o(ve){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ae){return Ae.__proto__||Object.getPrototypeOf(Ae)})(ve)}function u(ve,Ae){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Le,Ve){return Le.__proto__=Ve,Le})(ve,Ae)}function l(ve){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ae){return typeof Ae}:function(Ae){return Ae&&"function"==typeof Symbol&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae})(ve)}var h=t(7507),c=t(3778),b="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;s.hp=v,s.IS=50;var p=2147483647;function m(ve){if(ve>p)throw new RangeError('The value "'+ve+'" is invalid for option "size"');var Ae=new Uint8Array(ve);return Object.setPrototypeOf(Ae,v.prototype),Ae}function v(ve,Ae,Le){if("number"==typeof ve){if("string"==typeof Ae)throw new TypeError('The "string" argument must be of type string. Received type number');return w(ve)}return x(ve,Ae,Le)}function x(ve,Ae,Le){if("string"==typeof ve)return function(We,Xe){if("string"==typeof Xe&&""!==Xe||(Xe="utf8"),!v.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe);var nt=0|D(We,Xe),dt=m(nt),ht=dt.write(We,Xe);return ht!==nt&&(dt=dt.slice(0,ht)),dt}(ve,Ae);if(ArrayBuffer.isView(ve))return function(We){if(Ce(We,Uint8Array)){var Xe=new Uint8Array(We);return C(Xe.buffer,Xe.byteOffset,Xe.byteLength)}return f(We)}(ve);if(null==ve)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(ve));if(Ce(ve,ArrayBuffer)||ve&&Ce(ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(ve,SharedArrayBuffer)||ve&&Ce(ve.buffer,SharedArrayBuffer)))return C(ve,Ae,Le);if("number"==typeof ve)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ve=ve.valueOf&&ve.valueOf();if(null!=Ve&&Ve!==ve)return v.from(Ve,Ae,Le);var Ne=function(We){if(v.isBuffer(We)){var Xe=0|T(We.length),nt=m(Xe);return 0===nt.length||We.copy(nt,0,0,Xe),nt}return void 0!==We.length?"number"!=typeof We.length||Ie(We.length)?m(0):f(We):"Buffer"===We.type&&Array.isArray(We.data)?f(We.data):void 0}(ve);if(Ne)return Ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ve[Symbol.toPrimitive])return v.from(ve[Symbol.toPrimitive]("string"),Ae,Le);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(ve))}function y(ve){if("number"!=typeof ve)throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function w(ve){return y(ve),m(ve<0?0:0|T(ve))}function f(ve){for(var Ae=ve.length<0?0:0|T(ve.length),Le=m(Ae),Ve=0;Ve<Ae;Ve+=1)Le[Ve]=255&ve[Ve];return Le}function C(ve,Ae,Le){if(Ae<0||ve.byteLength<Ae)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<Ae+(Le||0))throw new RangeError('"length" is outside of buffer bounds');var Ve;return Ve=void 0===Ae&&void 0===Le?new Uint8Array(ve):void 0===Le?new Uint8Array(ve,Ae):new Uint8Array(ve,Ae,Le),Object.setPrototypeOf(Ve,v.prototype),Ve}function T(ve){if(ve>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|ve}function D(ve,Ae){if(v.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||Ce(ve,ArrayBuffer))return ve.byteLength;if("string"!=typeof ve)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(ve));var Le=ve.length,Ve=arguments.length>2&&!0===arguments[2];if(!Ve&&0===Le)return 0;for(var Ne=!1;;)switch(Ae){case"ascii":case"latin1":case"binary":return Le;case"utf8":case"utf-8":return ue(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Le;case"hex":return Le>>>1;case"base64":return me(ve).length;default:if(Ne)return Ve?-1:ue(ve).length;Ae=(""+Ae).toLowerCase(),Ne=!0}}function R(ve,Ae,Le){var Ve=!1;if((void 0===Ae||Ae<0)&&(Ae=0),Ae>this.length||((void 0===Le||Le>this.length)&&(Le=this.length),Le<=0)||(Le>>>=0)<=(Ae>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return ee(this,Ae,Le);case"utf8":case"utf-8":return G(this,Ae,Le);case"ascii":return te(this,Ae,Le);case"latin1":case"binary":return Q(this,Ae,Le);case"base64":return W(this,Ae,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,Ae,Le);default:if(Ve)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),Ve=!0}}function P(ve,Ae,Le){var Ve=ve[Ae];ve[Ae]=ve[Le],ve[Le]=Ve}function O(ve,Ae,Le,Ve,Ne){if(0===ve.length)return-1;if("string"==typeof Le?(Ve=Le,Le=0):Le>2147483647?Le=2147483647:Le<-2147483648&&(Le=-2147483648),Ie(Le=+Le)&&(Le=Ne?0:ve.length-1),Le<0&&(Le=ve.length+Le),Le>=ve.length){if(Ne)return-1;Le=ve.length-1}else if(Le<0){if(!Ne)return-1;Le=0}if("string"==typeof Ae&&(Ae=v.from(Ae,Ve)),v.isBuffer(Ae))return 0===Ae.length?-1:B(ve,Ae,Le,Ve,Ne);if("number"==typeof Ae)return Ae&=255,"function"==typeof Uint8Array.prototype.indexOf?Ne?Uint8Array.prototype.indexOf.call(ve,Ae,Le):Uint8Array.prototype.lastIndexOf.call(ve,Ae,Le):B(ve,[Ae],Le,Ve,Ne);throw new TypeError("val must be string, number or Buffer")}function B(ve,Ae,Le,Ve,Ne){var We,Xe=1,nt=ve.length,dt=Ae.length;if(void 0!==Ve&&("ucs2"===(Ve=String(Ve).toLowerCase())||"ucs-2"===Ve||"utf16le"===Ve||"utf-16le"===Ve)){if(ve.length<2||Ae.length<2)return-1;Xe=2,nt/=2,dt/=2,Le/=2}function ht(ut,st){return 1===Xe?ut[st]:ut.readUInt16BE(st*Xe)}if(Ne){var Mt=-1;for(We=Le;We<nt;We++)if(ht(ve,We)===ht(Ae,-1===Mt?0:We-Mt)){if(-1===Mt&&(Mt=We),We-Mt+1===dt)return Mt*Xe}else-1!==Mt&&(We-=We-Mt),Mt=-1}else for(Le+dt>nt&&(Le=nt-dt),We=Le;We>=0;We--){for(var kt=!0,_t=0;_t<dt;_t++)if(ht(ve,We+_t)!==ht(Ae,_t)){kt=!1;break}if(kt)return We}return-1}function q(ve,Ae,Le,Ve){Le=Number(Le)||0;var Ne=ve.length-Le;Ve?(Ve=Number(Ve))>Ne&&(Ve=Ne):Ve=Ne;var We,Xe=Ae.length;for(Ve>Xe/2&&(Ve=Xe/2),We=0;We<Ve;++We){var nt=parseInt(Ae.substr(2*We,2),16);if(Ie(nt))return We;ve[Le+We]=nt}return We}function N(ve,Ae,Le,Ve){return Pe(ue(Ae,ve.length-Le),ve,Le,Ve)}function H(ve,Ae,Le,Ve){return Pe(function(Ne){for(var We=[],Xe=0;Xe<Ne.length;++Xe)We.push(255&Ne.charCodeAt(Xe));return We}(Ae),ve,Le,Ve)}function $(ve,Ae,Le,Ve){return Pe(me(Ae),ve,Le,Ve)}function j(ve,Ae,Le,Ve){return Pe(function(Ne,We){for(var Xe,nt,ht=[],Mt=0;Mt<Ne.length&&!((We-=2)<0);++Mt)nt=(Xe=Ne.charCodeAt(Mt))>>8,ht.push(Xe%256),ht.push(nt);return ht}(Ae,ve.length-Le),ve,Le,Ve)}function W(ve,Ae,Le){return h.fromByteArray(0===Ae&&Le===ve.length?ve:ve.slice(Ae,Le))}function G(ve,Ae,Le){Le=Math.min(ve.length,Le);for(var Ve=[],Ne=Ae;Ne<Le;){var We=ve[Ne],Xe=null,nt=We>239?4:We>223?3:We>191?2:1;if(Ne+nt<=Le){var dt=void 0,ht=void 0,Mt=void 0,kt=void 0;switch(nt){case 1:We<128&&(Xe=We);break;case 2:128==(192&(dt=ve[Ne+1]))&&(kt=(31&We)<<6|63&dt)>127&&(Xe=kt);break;case 3:ht=ve[Ne+2],128==(192&(dt=ve[Ne+1]))&&128==(192&ht)&&(kt=(15&We)<<12|(63&dt)<<6|63&ht)>2047&&(kt<55296||kt>57343)&&(Xe=kt);break;case 4:ht=ve[Ne+2],Mt=ve[Ne+3],128==(192&(dt=ve[Ne+1]))&&128==(192&ht)&&128==(192&Mt)&&(kt=(15&We)<<18|(63&dt)<<12|(63&ht)<<6|63&Mt)>65535&&kt<1114112&&(Xe=kt)}}null===Xe?(Xe=65533,nt=1):Xe>65535&&(Ve.push((Xe-=65536)>>>10&1023|55296),Xe=56320|1023&Xe),Ve.push(Xe),Ne+=nt}return function(_t){var ut=_t.length;if(ut<=ae)return String.fromCharCode.apply(String,_t);for(var st="",Lt=0;Lt<ut;)st+=String.fromCharCode.apply(String,_t.slice(Lt,Lt+=ae));return st}(Ve)}(v.TYPED_ARRAY_SUPPORT=function(){try{var ve=new Uint8Array(1),Ae={foo:function(){return 42}};return Object.setPrototypeOf(Ae,Uint8Array.prototype),Object.setPrototypeOf(ve,Ae),42===ve.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}}),v.poolSize=8192,v.from=function(ve,Ae,Le){return x(ve,Ae,Le)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array),v.alloc=function(ve,Ae,Le){return Ne=Ae,We=Le,y(Ve=ve),Ve<=0?m(Ve):void 0!==Ne?"string"==typeof We?m(Ve).fill(Ne,We):m(Ve).fill(Ne):m(Ve);var Ve,Ne,We},v.allocUnsafe=function(ve){return w(ve)},v.allocUnsafeSlow=function(ve){return w(ve)},v.isBuffer=function(ve){return null!=ve&&!0===ve._isBuffer&&ve!==v.prototype},v.compare=function(ve,Ae){if(Ce(ve,Uint8Array)&&(ve=v.from(ve,ve.offset,ve.byteLength)),Ce(Ae,Uint8Array)&&(Ae=v.from(Ae,Ae.offset,Ae.byteLength)),!v.isBuffer(ve)||!v.isBuffer(Ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===Ae)return 0;for(var Le=ve.length,Ve=Ae.length,Ne=0,We=Math.min(Le,Ve);Ne<We;++Ne)if(ve[Ne]!==Ae[Ne]){Le=ve[Ne],Ve=Ae[Ne];break}return Le<Ve?-1:Ve<Le?1:0},v.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(ve,Ae){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ve.length)return v.alloc(0);var Le;if(void 0===Ae)for(Ae=0,Le=0;Le<ve.length;++Le)Ae+=ve[Le].length;var Ve=v.allocUnsafe(Ae),Ne=0;for(Le=0;Le<ve.length;++Le){var We=ve[Le];if(Ce(We,Uint8Array))Ne+We.length>Ve.length?(v.isBuffer(We)||(We=v.from(We)),We.copy(Ve,Ne)):Uint8Array.prototype.set.call(Ve,We,Ne);else{if(!v.isBuffer(We))throw new TypeError('"list" argument must be an Array of Buffers');We.copy(Ve,Ne)}Ne+=We.length}return Ve},v.byteLength=D,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var ve=this.length;if(ve%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ae=0;Ae<ve;Ae+=2)P(this,Ae,Ae+1);return this},v.prototype.swap32=function(){var ve=this.length;if(ve%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ae=0;Ae<ve;Ae+=4)P(this,Ae,Ae+3),P(this,Ae+1,Ae+2);return this},v.prototype.swap64=function(){var ve=this.length;if(ve%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ae=0;Ae<ve;Ae+=8)P(this,Ae,Ae+7),P(this,Ae+1,Ae+6),P(this,Ae+2,Ae+5),P(this,Ae+3,Ae+4);return this},v.prototype.toString=function(){var ve=this.length;return 0===ve?"":0===arguments.length?G(this,0,ve):R.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(ve){if(!v.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve||0===v.compare(this,ve)},v.prototype.inspect=function(){var ve="",Ae=s.IS;return ve=this.toString("hex",0,Ae).replace(/(.{2})/g,"$1 ").trim(),this.length>Ae&&(ve+=" ... "),"<Buffer "+ve+">"},b&&(v.prototype[b]=v.prototype.inspect),v.prototype.compare=function(ve,Ae,Le,Ve,Ne){if(Ce(ve,Uint8Array)&&(ve=v.from(ve,ve.offset,ve.byteLength)),!v.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(ve));if(void 0===Ae&&(Ae=0),void 0===Le&&(Le=ve?ve.length:0),void 0===Ve&&(Ve=0),void 0===Ne&&(Ne=this.length),Ae<0||Le>ve.length||Ve<0||Ne>this.length)throw new RangeError("out of range index");if(Ve>=Ne&&Ae>=Le)return 0;if(Ve>=Ne)return-1;if(Ae>=Le)return 1;if(this===ve)return 0;for(var We=(Ne>>>=0)-(Ve>>>=0),Xe=(Le>>>=0)-(Ae>>>=0),nt=Math.min(We,Xe),dt=this.slice(Ve,Ne),ht=ve.slice(Ae,Le),Mt=0;Mt<nt;++Mt)if(dt[Mt]!==ht[Mt]){We=dt[Mt],Xe=ht[Mt];break}return We<Xe?-1:Xe<We?1:0},v.prototype.includes=function(ve,Ae,Le){return-1!==this.indexOf(ve,Ae,Le)},v.prototype.indexOf=function(ve,Ae,Le){return O(this,ve,Ae,Le,!0)},v.prototype.lastIndexOf=function(ve,Ae,Le){return O(this,ve,Ae,Le,!1)},v.prototype.write=function(ve,Ae,Le,Ve){if(void 0===Ae)Ve="utf8",Le=this.length,Ae=0;else if(void 0===Le&&"string"==typeof Ae)Ve=Ae,Le=this.length,Ae=0;else{if(!isFinite(Ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ae>>>=0,isFinite(Le)?(Le>>>=0,void 0===Ve&&(Ve="utf8")):(Ve=Le,Le=void 0)}var Ne=this.length-Ae;if((void 0===Le||Le>Ne)&&(Le=Ne),ve.length>0&&(Le<0||Ae<0)||Ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ve||(Ve="utf8");for(var We=!1;;)switch(Ve){case"hex":return q(this,ve,Ae,Le);case"utf8":case"utf-8":return N(this,ve,Ae,Le);case"ascii":case"latin1":case"binary":return H(this,ve,Ae,Le);case"base64":return $(this,ve,Ae,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,ve,Ae,Le);default:if(We)throw new TypeError("Unknown encoding: "+Ve);Ve=(""+Ve).toLowerCase(),We=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ae=4096;function te(ve,Ae,Le){var Ve="";Le=Math.min(ve.length,Le);for(var Ne=Ae;Ne<Le;++Ne)Ve+=String.fromCharCode(127&ve[Ne]);return Ve}function Q(ve,Ae,Le){var Ve="";Le=Math.min(ve.length,Le);for(var Ne=Ae;Ne<Le;++Ne)Ve+=String.fromCharCode(ve[Ne]);return Ve}function ee(ve,Ae,Le){var Ve=ve.length;(!Ae||Ae<0)&&(Ae=0),(!Le||Le<0||Le>Ve)&&(Le=Ve);for(var Ne="",We=Ae;We<Le;++We)Ne+=Oe[ve[We]];return Ne}function re(ve,Ae,Le){for(var Ve=ve.slice(Ae,Le),Ne="",We=0;We<Ve.length-1;We+=2)Ne+=String.fromCharCode(Ve[We]+256*Ve[We+1]);return Ne}function J(ve,Ae,Le){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+Ae>Le)throw new RangeError("Trying to access beyond buffer length")}function le(ve,Ae,Le,Ve,Ne,We){if(!v.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ae>Ne||Ae<We)throw new RangeError('"value" argument is out of bounds');if(Le+Ve>ve.length)throw new RangeError("Index out of range")}function fe(ve,Ae,Le,Ve,Ne){ye(Ae,Ve,Ne,ve,Le,7);var We=Number(Ae&BigInt(4294967295));ve[Le++]=We,ve[Le++]=We>>=8,ve[Le++]=We>>=8,ve[Le++]=We>>=8;var Xe=Number(Ae>>BigInt(32)&BigInt(4294967295));return ve[Le++]=Xe,ve[Le++]=Xe>>=8,ve[Le++]=Xe>>=8,ve[Le++]=Xe>>=8,Le}function ce(ve,Ae,Le,Ve,Ne){ye(Ae,Ve,Ne,ve,Le,7);var We=Number(Ae&BigInt(4294967295));ve[Le+7]=We,ve[Le+6]=We>>=8,ve[Le+5]=We>>=8,ve[Le+4]=We>>=8;var Xe=Number(Ae>>BigInt(32)&BigInt(4294967295));return ve[Le+3]=Xe,ve[Le+2]=Xe>>=8,ve[Le+1]=Xe>>=8,ve[Le]=Xe>>=8,Le+8}function ge(ve,Ae,Le,Ve,Ne,We){if(Le+Ve>ve.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("Index out of range")}function Te(ve,Ae,Le,Ve,Ne){return Ae=+Ae,Le>>>=0,Ne||ge(ve,0,Le,4),c.write(ve,Ae,Le,Ve,23,4),Le+4}function Me(ve,Ae,Le,Ve,Ne){return Ae=+Ae,Le>>>=0,Ne||ge(ve,0,Le,8),c.write(ve,Ae,Le,Ve,52,8),Le+8}v.prototype.slice=function(ve,Ae){var Le=this.length;(ve=~~ve)<0?(ve+=Le)<0&&(ve=0):ve>Le&&(ve=Le),(Ae=void 0===Ae?Le:~~Ae)<0?(Ae+=Le)<0&&(Ae=0):Ae>Le&&(Ae=Le),Ae<ve&&(Ae=ve);var Ve=this.subarray(ve,Ae);return Object.setPrototypeOf(Ve,v.prototype),Ve},v.prototype.readUintLE=v.prototype.readUIntLE=function(ve,Ae,Le){ve>>>=0,Ae>>>=0,Le||J(ve,Ae,this.length);for(var Ve=this[ve],Ne=1,We=0;++We<Ae&&(Ne*=256);)Ve+=this[ve+We]*Ne;return Ve},v.prototype.readUintBE=v.prototype.readUIntBE=function(ve,Ae,Le){ve>>>=0,Ae>>>=0,Le||J(ve,Ae,this.length);for(var Ve=this[ve+--Ae],Ne=1;Ae>0&&(Ne*=256);)Ve+=this[ve+--Ae]*Ne;return Ve},v.prototype.readUint8=v.prototype.readUInt8=function(ve,Ae){return ve>>>=0,Ae||J(ve,1,this.length),this[ve]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(ve,Ae){return ve>>>=0,Ae||J(ve,2,this.length),this[ve]|this[ve+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(ve,Ae){return ve>>>=0,Ae||J(ve,2,this.length),this[ve]<<8|this[ve+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(ve,Ae){return ve>>>=0,Ae||J(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+16777216*this[ve+3]},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(ve,Ae){return ve>>>=0,Ae||J(ve,4,this.length),16777216*this[ve]+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},v.prototype.readBigUInt64LE=ze(function(ve){Se(ve>>>=0,"offset");var Ae=this[ve],Le=this[ve+7];void 0!==Ae&&void 0!==Le||Ee(ve,this.length-8);var Ve=Ae+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24),Ne=this[++ve]+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+Le*Math.pow(2,24);return BigInt(Ve)+(BigInt(Ne)<<BigInt(32))}),v.prototype.readBigUInt64BE=ze(function(ve){Se(ve>>>=0,"offset");var Ae=this[ve],Le=this[ve+7];void 0!==Ae&&void 0!==Le||Ee(ve,this.length-8);var Ve=Ae*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve],Ne=this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Le;return(BigInt(Ve)<<BigInt(32))+BigInt(Ne)}),v.prototype.readIntLE=function(ve,Ae,Le){ve>>>=0,Ae>>>=0,Le||J(ve,Ae,this.length);for(var Ve=this[ve],Ne=1,We=0;++We<Ae&&(Ne*=256);)Ve+=this[ve+We]*Ne;return Ve>=(Ne*=128)&&(Ve-=Math.pow(2,8*Ae)),Ve},v.prototype.readIntBE=function(ve,Ae,Le){ve>>>=0,Ae>>>=0,Le||J(ve,Ae,this.length);for(var Ve=Ae,Ne=1,We=this[ve+--Ve];Ve>0&&(Ne*=256);)We+=this[ve+--Ve]*Ne;return We>=(Ne*=128)&&(We-=Math.pow(2,8*Ae)),We},v.prototype.readInt8=function(ve,Ae){return ve>>>=0,Ae||J(ve,1,this.length),128&this[ve]?-1*(255-this[ve]+1):this[ve]},v.prototype.readInt16LE=function(ve,Ae){ve>>>=0,Ae||J(ve,2,this.length);var Le=this[ve]|this[ve+1]<<8;return 32768&Le?4294901760|Le:Le},v.prototype.readInt16BE=function(ve,Ae){ve>>>=0,Ae||J(ve,2,this.length);var Le=this[ve+1]|this[ve]<<8;return 32768&Le?4294901760|Le:Le},v.prototype.readInt32LE=function(ve,Ae){return ve>>>=0,Ae||J(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},v.prototype.readInt32BE=function(ve,Ae){return ve>>>=0,Ae||J(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},v.prototype.readBigInt64LE=ze(function(ve){Se(ve>>>=0,"offset");var Ae=this[ve],Le=this[ve+7];void 0!==Ae&&void 0!==Le||Ee(ve,this.length-8);var Ve=this[ve+4]+this[ve+5]*Math.pow(2,8)+this[ve+6]*Math.pow(2,16)+(Le<<24);return(BigInt(Ve)<<BigInt(32))+BigInt(Ae+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24))}),v.prototype.readBigInt64BE=ze(function(ve){Se(ve>>>=0,"offset");var Ae=this[ve],Le=this[ve+7];void 0!==Ae&&void 0!==Le||Ee(ve,this.length-8);var Ve=(Ae<<24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve];return(BigInt(Ve)<<BigInt(32))+BigInt(this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Le)}),v.prototype.readFloatLE=function(ve,Ae){return ve>>>=0,Ae||J(ve,4,this.length),c.read(this,ve,!0,23,4)},v.prototype.readFloatBE=function(ve,Ae){return ve>>>=0,Ae||J(ve,4,this.length),c.read(this,ve,!1,23,4)},v.prototype.readDoubleLE=function(ve,Ae){return ve>>>=0,Ae||J(ve,8,this.length),c.read(this,ve,!0,52,8)},v.prototype.readDoubleBE=function(ve,Ae){return ve>>>=0,Ae||J(ve,8,this.length),c.read(this,ve,!1,52,8)},v.prototype.writeUintLE=v.prototype.writeUIntLE=function(ve,Ae,Le,Ve){ve=+ve,Ae>>>=0,Le>>>=0,Ve||le(this,ve,Ae,Le,Math.pow(2,8*Le)-1,0);var Ne=1,We=0;for(this[Ae]=255&ve;++We<Le&&(Ne*=256);)this[Ae+We]=ve/Ne&255;return Ae+Le},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(ve,Ae,Le,Ve){ve=+ve,Ae>>>=0,Le>>>=0,Ve||le(this,ve,Ae,Le,Math.pow(2,8*Le)-1,0);var Ne=Le-1,We=1;for(this[Ae+Ne]=255&ve;--Ne>=0&&(We*=256);)this[Ae+Ne]=ve/We&255;return Ae+Le},v.prototype.writeUint8=v.prototype.writeUInt8=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,1,255,0),this[Ae]=255&ve,Ae+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,2,65535,0),this[Ae]=255&ve,this[Ae+1]=ve>>>8,Ae+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,2,65535,0),this[Ae]=ve>>>8,this[Ae+1]=255&ve,Ae+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,4,4294967295,0),this[Ae+3]=ve>>>24,this[Ae+2]=ve>>>16,this[Ae+1]=ve>>>8,this[Ae]=255&ve,Ae+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,4,4294967295,0),this[Ae]=ve>>>24,this[Ae+1]=ve>>>16,this[Ae+2]=ve>>>8,this[Ae+3]=255&ve,Ae+4},v.prototype.writeBigUInt64LE=ze(function(ve){return fe(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=ze(function(ve){return ce(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(ve,Ae,Le,Ve){if(ve=+ve,Ae>>>=0,!Ve){var Ne=Math.pow(2,8*Le-1);le(this,ve,Ae,Le,Ne-1,-Ne)}var We=0,Xe=1,nt=0;for(this[Ae]=255&ve;++We<Le&&(Xe*=256);)ve<0&&0===nt&&0!==this[Ae+We-1]&&(nt=1),this[Ae+We]=(ve/Xe>>0)-nt&255;return Ae+Le},v.prototype.writeIntBE=function(ve,Ae,Le,Ve){if(ve=+ve,Ae>>>=0,!Ve){var Ne=Math.pow(2,8*Le-1);le(this,ve,Ae,Le,Ne-1,-Ne)}var We=Le-1,Xe=1,nt=0;for(this[Ae+We]=255&ve;--We>=0&&(Xe*=256);)ve<0&&0===nt&&0!==this[Ae+We+1]&&(nt=1),this[Ae+We]=(ve/Xe>>0)-nt&255;return Ae+Le},v.prototype.writeInt8=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,1,127,-128),ve<0&&(ve=255+ve+1),this[Ae]=255&ve,Ae+1},v.prototype.writeInt16LE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,2,32767,-32768),this[Ae]=255&ve,this[Ae+1]=ve>>>8,Ae+2},v.prototype.writeInt16BE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,2,32767,-32768),this[Ae]=ve>>>8,this[Ae+1]=255&ve,Ae+2},v.prototype.writeInt32LE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,4,2147483647,-2147483648),this[Ae]=255&ve,this[Ae+1]=ve>>>8,this[Ae+2]=ve>>>16,this[Ae+3]=ve>>>24,Ae+4},v.prototype.writeInt32BE=function(ve,Ae,Le){return ve=+ve,Ae>>>=0,Le||le(this,ve,Ae,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[Ae]=ve>>>24,this[Ae+1]=ve>>>16,this[Ae+2]=ve>>>8,this[Ae+3]=255&ve,Ae+4},v.prototype.writeBigInt64LE=ze(function(ve){return fe(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=ze(function(ve){return ce(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeFloatLE=function(ve,Ae,Le){return Te(this,ve,Ae,!0,Le)},v.prototype.writeFloatBE=function(ve,Ae,Le){return Te(this,ve,Ae,!1,Le)},v.prototype.writeDoubleLE=function(ve,Ae,Le){return Me(this,ve,Ae,!0,Le)},v.prototype.writeDoubleBE=function(ve,Ae,Le){return Me(this,ve,Ae,!1,Le)},v.prototype.copy=function(ve,Ae,Le,Ve){if(!v.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),Ve||0===Ve||(Ve=this.length),Ae>=ve.length&&(Ae=ve.length),Ae||(Ae=0),Ve>0&&Ve<Le&&(Ve=Le),Ve===Le||0===ve.length||0===this.length)return 0;if(Ae<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(Ve<0)throw new RangeError("sourceEnd out of bounds");Ve>this.length&&(Ve=this.length),ve.length-Ae<Ve-Le&&(Ve=ve.length-Ae+Le);var Ne=Ve-Le;return this===ve&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Ae,Le,Ve):Uint8Array.prototype.set.call(ve,this.subarray(Le,Ve),Ae),Ne},v.prototype.fill=function(ve,Ae,Le,Ve){if("string"==typeof ve){if("string"==typeof Ae?(Ve=Ae,Ae=0,Le=this.length):"string"==typeof Le&&(Ve=Le,Le=this.length),void 0!==Ve&&"string"!=typeof Ve)throw new TypeError("encoding must be a string");if("string"==typeof Ve&&!v.isEncoding(Ve))throw new TypeError("Unknown encoding: "+Ve);if(1===ve.length){var Ne=ve.charCodeAt(0);("utf8"===Ve&&Ne<128||"latin1"===Ve)&&(ve=Ne)}}else"number"==typeof ve?ve&=255:"boolean"==typeof ve&&(ve=Number(ve));if(Ae<0||this.length<Ae||this.length<Le)throw new RangeError("Out of range index");if(Le<=Ae)return this;var We;if(Ae>>>=0,Le=void 0===Le?this.length:Le>>>0,ve||(ve=0),"number"==typeof ve)for(We=Ae;We<Le;++We)this[We]=ve;else{var Xe=v.isBuffer(ve)?ve:v.from(ve,Ve),nt=Xe.length;if(0===nt)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(We=0;We<Le-Ae;++We)this[We+Ae]=Xe[We%nt]}return this};var we={};function xe(ve,Ae,Le){we[ve]=function(Ve){function Ne(){var nt,ht;return function(kt,_t){if(!(kt instanceof _t))throw new TypeError("Cannot call a class as a function")}(this,Ne),this,ht=o(ht=Ne),nt=function(kt,_t){if(_t&&("object"===l(_t)||"function"==typeof _t))return _t;if(void 0!==_t)throw new TypeError("Derived constructors may only return object or undefined");return function(ut){if(void 0===ut)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}(kt)}(this,r()?Reflect.construct(ht,[],o(this).constructor):ht.apply(this,undefined)),Object.defineProperty(nt,"message",{value:Ae.apply(nt,arguments),writable:!0,configurable:!0}),nt.name="".concat(nt.name," [").concat(ve,"]"),delete nt.name,nt}return function(nt,dt){if("function"!=typeof dt&&null!==dt)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),dt&&u(nt,dt)}(Ne,Ve),We=Ne,(Xe=[{key:"code",get:function(){return ve},set:function(nt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:nt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ve,"]: ").concat(this.message)}}])&&function i(ve,Ae){for(var Le=0;Le<Ae.length;Le++){var Ve=Ae[Le];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(ve,n(Ve.key),Ve)}}(We.prototype,Xe),Object.defineProperty(We,"prototype",{writable:!1}),We;var We,Xe}(Le)}function be(ve){for(var Ae="",Le=ve.length,Ve="-"===ve[0]?1:0;Le>=Ve+4;Le-=3)Ae="_".concat(ve.slice(Le-3,Le)).concat(Ae);return"".concat(ve.slice(0,Le)).concat(Ae)}function ye(ve,Ae,Le,Ve,Ne,We){if(ve>Le||ve<Ae){var Xe,nt="bigint"==typeof Ae?"n":"";throw Xe=We>3?0===Ae||Ae===BigInt(0)?">= 0".concat(nt," and < 2").concat(nt," ** ").concat(8*(We+1)).concat(nt):">= -(2".concat(nt," ** ").concat(8*(We+1)-1).concat(nt,") and < 2 ** ")+"".concat(8*(We+1)-1).concat(nt):">= ".concat(Ae).concat(nt," and <= ").concat(Le).concat(nt),new we.ERR_OUT_OF_RANGE("value",Xe,ve)}var dt,ht,Mt;dt=Ve,Mt=We,Se(ht=Ne,"offset"),void 0!==dt[ht]&&void 0!==dt[ht+Mt]||Ee(ht,dt.length-(Mt+1))}function Se(ve,Ae){if("number"!=typeof ve)throw new we.ERR_INVALID_ARG_TYPE(Ae,"number",ve)}function Ee(ve,Ae,Le){throw Math.floor(ve)!==ve?(Se(ve,Le),new we.ERR_OUT_OF_RANGE(Le||"offset","an integer",ve)):Ae<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE(Le||"offset",">= ".concat(Le?1:0," and <= ").concat(Ae),ve)}xe("ERR_BUFFER_OUT_OF_BOUNDS",function(ve){return ve?"".concat(ve," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),xe("ERR_INVALID_ARG_TYPE",function(ve,Ae){return'The "'.concat(ve,'" argument must be of type number. Received type ').concat(l(Ae))},TypeError),xe("ERR_OUT_OF_RANGE",function(ve,Ae,Le){var Ve='The value of "'.concat(ve,'" is out of range.'),Ne=Le;return Number.isInteger(Le)&&Math.abs(Le)>Math.pow(2,32)?Ne=be(String(Le)):"bigint"==typeof Le&&(Ne=String(Le),(Le>Math.pow(BigInt(2),BigInt(32))||Le<-Math.pow(BigInt(2),BigInt(32)))&&(Ne=be(Ne)),Ne+="n"),Ve+" It must be ".concat(Ae,". Received ").concat(Ne)},RangeError);var he=/[^+/0-9A-Za-z-_]/g;function ue(ve,Ae){var Le;Ae=Ae||1/0;for(var Ve=ve.length,Ne=null,We=[],Xe=0;Xe<Ve;++Xe){if((Le=ve.charCodeAt(Xe))>55295&&Le<57344){if(!Ne){if(Le>56319){(Ae-=3)>-1&&We.push(239,191,189);continue}if(Xe+1===Ve){(Ae-=3)>-1&&We.push(239,191,189);continue}Ne=Le;continue}if(Le<56320){(Ae-=3)>-1&&We.push(239,191,189),Ne=Le;continue}Le=65536+(Ne-55296<<10|Le-56320)}else Ne&&(Ae-=3)>-1&&We.push(239,191,189);if(Ne=null,Le<128){if((Ae-=1)<0)break;We.push(Le)}else if(Le<2048){if((Ae-=2)<0)break;We.push(Le>>6|192,63&Le|128)}else if(Le<65536){if((Ae-=3)<0)break;We.push(Le>>12|224,Le>>6&63|128,63&Le|128)}else{if(!(Le<1114112))throw new Error("Invalid code point");if((Ae-=4)<0)break;We.push(Le>>18|240,Le>>12&63|128,Le>>6&63|128,63&Le|128)}}return We}function me(ve){return h.toByteArray(function(Ae){if((Ae=(Ae=Ae.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;Ae.length%4!=0;)Ae+="=";return Ae}(ve))}function Pe(ve,Ae,Le,Ve){var Ne;for(Ne=0;Ne<Ve&&!(Ne+Le>=Ae.length||Ne>=ve.length);++Ne)Ae[Ne+Le]=ve[Ne];return Ne}function Ce(ve,Ae){return ve instanceof Ae||null!=ve&&null!=ve.constructor&&null!=ve.constructor.name&&ve.constructor.name===Ae.name}function Ie(ve){return ve!=ve}var Oe=function(){for(var ve="0123456789abcdef",Ae=new Array(256),Le=0;Le<16;++Le)for(var Ve=16*Le,Ne=0;Ne<16;++Ne)Ae[Ve+Ne]=ve[Le]+ve[Ne];return Ae}();function ze(ve){return typeof BigInt>"u"?je:ve}function je(){throw new Error("BigInt not supported")}},9216:function(d){"use strict";d.exports=n,d.exports.isMobile=n,d.exports.default=n;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function n(r){r||(r={});var o=r.ua;if(o||typeof navigator>"u"||(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),"string"!=typeof o)return!1;var u=s.test(o)&&!t.test(o)||!!r.tablet&&i.test(o);return!u&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==o.indexOf("Macintosh")&&-1!==o.indexOf("Safari")&&(u=!0),u}},6296:function(d,s,t){"use strict";d.exports=function(l){var h=(l=l||{}).eye||[0,0,1],c=l.center||[0,0,0],b=l.up||[0,1,0],p=l.distanceLimits||[0,1/0],m=l.mode||"turntable",v=i(),x=n(),y=r();return v.setDistanceLimits(p[0],p[1]),v.lookAt(0,h,c,b),x.setDistanceLimits(p[0],p[1]),x.lookAt(0,h,c,b),y.setDistanceLimits(p[0],p[1]),y.lookAt(0,h,c,b),new o({turntable:v,orbit:x,matrix:y},m)};var i=t(7261),n=t(9977),r=t(4192);function o(l,h){this._controllerNames=Object.keys(l),this._controllerList=this._controllerNames.map(function(c){return l[c]}),this._mode=h,this._active=l[h],this._active||(this._mode="turntable",this._active=l.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=o.prototype;u.flush=function(l){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].flush(l)},u.idle=function(l){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].idle(l)},u.lookAt=function(l,h,c,b){for(var p=this._controllerList,m=0;m<p.length;++m)p[m].lookAt(l,h,c,b)},u.rotate=function(l,h,c,b){for(var p=this._controllerList,m=0;m<p.length;++m)p[m].rotate(l,h,c,b)},u.pan=function(l,h,c,b){for(var p=this._controllerList,m=0;m<p.length;++m)p[m].pan(l,h,c,b)},u.translate=function(l,h,c,b){for(var p=this._controllerList,m=0;m<p.length;++m)p[m].translate(l,h,c,b)},u.setMatrix=function(l,h){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setMatrix(l,h)},u.setDistanceLimits=function(l,h){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setDistanceLimits(l,h)},u.setDistance=function(l,h){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setDistance(l,h)},u.recalcMatrix=function(l){this._active.recalcMatrix(l)},u.getDistance=function(l){return this._active.getDistance(l)},u.getDistanceLimits=function(l){return this._active.getDistanceLimits(l)},u.lastT=function(){return this._active.lastT()},u.setMode=function(l){if(l!==this._mode){var h=this._controllerNames.indexOf(l);if(!(h<0)){var c=this._active,b=this._controllerList[h],p=Math.max(c.lastT(),b.lastT());c.recalcMatrix(p),b.setMatrix(p,c.computedMatrix),this._active=b,this._mode=l,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode}},7169:function(d,s,t){"use strict";var i=typeof WeakMap>"u"?t(1538):WeakMap,n=t(2762),r=t(8116),o=new i;d.exports=function(u){var l=o.get(u),h=l&&(l._triangleBuffer.handle||l._triangleBuffer.buffer);if(!h||!u.isBuffer(h)){var c=n(u,new Float32Array([-1,-1,-1,4,4,-1]));(l=r(u,[{buffer:c,type:u.FLOAT,size:2}]))._triangleBuffer=c,o.set(u,l)}l.bind(),u.drawArrays(u.TRIANGLES,0,3),l.unbind()}},1085:function(d,s,t){var i=t(1371);d.exports=function(n,r,o){r="number"==typeof r?r:1,o=o||": ";var u=n.split(/\r?\n/),l=String(u.length+r-1).length;return u.map(function(h,c){var b=c+r,p=String(b).length;return i(b,l-p)+o+h}).join("\n")}},3952:function(d,s,t){"use strict";d.exports=function(r){var o=r.length;if(0===o)return[];if(1===o)return[0];for(var u=r[0].length,l=[r[0]],h=[0],c=1;c<o;++c)if(l.push(r[c]),n(l,u)){if(h.push(c),h.length===u+1)return h}else l.pop();return h};var i=t(3250);function n(r,o){for(var u=new Array(o+1),l=0;l<r.length;++l)u[l]=r[l];for(l=0;l<=r.length;++l){for(var h=r.length;h<=o;++h){for(var c=new Array(o),b=0;b<o;++b)c[b]=Math.pow(h+1-l,b);u[h]=c}if(i.apply(void 0,u))return!0}return!1}},5995:function(d,s,t){"use strict";d.exports=function(r,o){return i(o).filter(function(u){for(var l=new Array(u.length),h=0;h<u.length;++h)l[h]=o[u[h]];return n(l)*r<1})};var i=t(7642),n=t(6037)},3502:function(d,s,t){d.exports=function(r,o){return n(i(r,o))};var i=t(5995),n=t(9127)},6468:function(d){d.exports=function(s){return atob(s)}},2642:function(d,s,t){"use strict";d.exports=function(r,o){for(var u=o.length,l=new Array(u+1),h=0;h<u;++h){for(var c=new Array(u+1),b=0;b<=u;++b)c[b]=r[b][h];l[h]=c}for(l[u]=new Array(u+1),h=0;h<=u;++h)l[u][h]=1;var p=new Array(u+1);for(h=0;h<u;++h)p[h]=o[h];p[u]=1;var m=i(l,p),v=n(m[u+1]);0===v&&(v=1);var x=new Array(u+1);for(h=0;h<=u;++h)x[h]=n(m[h])/v;return x};var i=t(727);function n(r){for(var o=0,u=0;u<r.length;++u)o+=r[u];return o}},7507:function(d,s){"use strict";s.byteLength=function(h){var c=u(h),p=c[1];return 3*(c[0]+p)/4-p},s.toByteArray=function(h){var c,b,T,p=u(h),m=p[0],v=p[1],x=new n(3*(m+(T=v))/4-T),y=0,w=v>0?m-4:m;for(b=0;b<w;b+=4)c=i[h.charCodeAt(b)]<<18|i[h.charCodeAt(b+1)]<<12|i[h.charCodeAt(b+2)]<<6|i[h.charCodeAt(b+3)],x[y++]=c>>16&255,x[y++]=c>>8&255,x[y++]=255&c;return 2===v&&(c=i[h.charCodeAt(b)]<<2|i[h.charCodeAt(b+1)]>>4,x[y++]=255&c),1===v&&(c=i[h.charCodeAt(b)]<<10|i[h.charCodeAt(b+1)]<<4|i[h.charCodeAt(b+2)]>>2,x[y++]=c>>8&255,x[y++]=255&c),x},s.fromByteArray=function(h){for(var c,b=h.length,p=b%3,m=[],v=16383,x=0,y=b-p;x<y;x+=v)m.push(l(h,x,x+v>y?y:x+v));return 1===p?m.push(t[(c=h[b-1])>>2]+t[c<<4&63]+"=="):2===p&&m.push(t[(c=(h[b-2]<<8)+h[b-1])>>10]+t[c>>4&63]+t[c<<2&63]+"="),m.join("")};for(var t=[],i=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)t[o]=r[o],i[r.charCodeAt(o)]=o;function u(h){var c=h.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=h.indexOf("=");return-1===b&&(b=c),[b,b===c?0:4-b%4]}function l(h,c,b){for(var m,v=[],x=c;x<b;x+=3)v.push(t[(m=(h[x]<<16&16711680)+(h[x+1]<<8&65280)+(255&h[x+2]))>>18&63]+t[m>>12&63]+t[m>>6&63]+t[63&m]);return v.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},3865:function(d,s,t){"use strict";var i=t(869);d.exports=function(n,r){return i(n[0].mul(r[1]).add(r[0].mul(n[1])),n[1].mul(r[1]))}},1318:function(d){"use strict";d.exports=function(s,t){return s[0].mul(t[1]).cmp(t[0].mul(s[1]))}},8697:function(d,s,t){"use strict";var i=t(869);d.exports=function(n,r){return i(n[0].mul(r[1]),n[1].mul(r[0]))}},7842:function(d,s,t){"use strict";var i=t(6330),n=t(1533),r=t(2651),o=t(4387),u=t(869),l=t(8697);d.exports=function h(c,b){if(i(c))return b?l(c,h(b)):[c[0].clone(),c[1].clone()];var p,m,v=0;if(n(c))p=c.clone();else if("string"==typeof c)p=o(c);else{if(0===c)return[r(0),r(1)];if(c===Math.floor(c))p=r(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),v-=256;p=r(c)}}if(i(b))p.mul(b[1]),m=b[0].clone();else if(n(b))m=b.clone();else if("string"==typeof b)m=o(b);else if(b)if(b===Math.floor(b))m=r(b);else{for(;b!==Math.floor(b);)b*=Math.pow(2,256),v+=256;m=r(b)}else m=r(1);return v>0?p=p.ushln(v):v<0&&(m=m.ushln(-v)),u(p,m)}},6330:function(d,s,t){"use strict";var i=t(1533);d.exports=function(n){return Array.isArray(n)&&2===n.length&&i(n[0])&&i(n[1])}},5716:function(d,s,t){"use strict";var i=t(6859);d.exports=function(n){return n.cmp(new i(0))}},1369:function(d,s,t){"use strict";var i=t(5716);d.exports=function(n){var r=n.length,o=n.words,u=0;if(1===r)u=o[0];else if(2===r)u=o[0]+67108864*o[1];else for(var l=0;l<r;l++)u+=o[l]*Math.pow(67108864,l);return i(n)*u}},4025:function(d,s,t){"use strict";var i=t(2361),n=t(8828).countTrailingZeros;d.exports=function(r){var o=n(i.lo(r));if(o<32)return o;var u=n(i.hi(r));return u>20?52:u+32}},1533:function(d,s,t){"use strict";t(6859),d.exports=function(i){return i&&"object"==typeof i&&!!i.words}},2651:function(d,s,t){"use strict";var i=t(6859),n=t(2361);d.exports=function(r){var o=n.exponent(r);return o<52?new i(r):new i(r*Math.pow(2,52-o)).ushln(o-52)}},869:function(d,s,t){"use strict";var i=t(2651),n=t(5716);d.exports=function(r,o){var u=n(r),l=n(o);if(0===u)return[i(0),i(1)];if(0===l)return[i(0),i(0)];l<0&&(r=r.neg(),o=o.neg());var h=r.gcd(o);return h.cmpn(1)?[r.div(h),o.div(h)]:[r,o]}},4387:function(d,s,t){"use strict";var i=t(6859);d.exports=function(n){return new i(n)}},6504:function(d,s,t){"use strict";var i=t(869);d.exports=function(n,r){return i(n[0].mul(r[0]),n[1].mul(r[1]))}},7721:function(d,s,t){"use strict";var i=t(5716);d.exports=function(n){return i(n[0])*i(n[1])}},5572:function(d,s,t){"use strict";var i=t(869);d.exports=function(n,r){return i(n[0].mul(r[1]).sub(n[1].mul(r[0])),n[1].mul(r[1]))}},946:function(d,s,t){"use strict";var i=t(1369),n=t(4025);d.exports=function(r){var o=r[0],u=r[1];if(0===o.cmpn(0))return 0;var l=o.abs().divmod(u.abs()),c=i(l.div),b=l.mod,p=o.negative!==u.negative?-1:1;if(0===b.cmpn(0))return p*c;if(c){var m=n(c)+4;return p*(c+(x=i(b.ushln(m).divRound(u)))*Math.pow(2,-m))}var v=u.bitLength()-b.bitLength()+53,x=i(b.ushln(v).divRound(u));return v<1023?p*x*Math.pow(2,-v):p*(x*=Math.pow(2,-1023))*Math.pow(2,1023-v)}},2478:function(d){"use strict";function s(u,l,h,c,b){for(var p=b+1;c<=b;){var m=c+b>>>1,v=u[m];(void 0!==h?h(v,l):v-l)>=0?(p=m,b=m-1):c=m+1}return p}function t(u,l,h,c,b){for(var p=b+1;c<=b;){var m=c+b>>>1,v=u[m];(void 0!==h?h(v,l):v-l)>0?(p=m,b=m-1):c=m+1}return p}function i(u,l,h,c,b){for(var p=c-1;c<=b;){var m=c+b>>>1,v=u[m];(void 0!==h?h(v,l):v-l)<0?(p=m,c=m+1):b=m-1}return p}function n(u,l,h,c,b){for(var p=c-1;c<=b;){var m=c+b>>>1,v=u[m];(void 0!==h?h(v,l):v-l)<=0?(p=m,c=m+1):b=m-1}return p}function r(u,l,h,c,b){for(;c<=b;){var p=c+b>>>1,m=u[p],v=void 0!==h?h(m,l):m-l;if(0===v)return p;v<=0?c=p+1:b=p-1}return-1}function o(u,l,h,c,b,p){return"function"==typeof h?p(u,l,h,void 0===c?0:0|c,void 0===b?u.length-1:0|b):p(u,l,void 0,void 0===h?0:0|h,void 0===c?u.length-1:0|c)}d.exports={ge:function(u,l,h,c,b){return o(u,l,h,c,b,s)},gt:function(u,l,h,c,b){return o(u,l,h,c,b,t)},lt:function(u,l,h,c,b){return o(u,l,h,c,b,i)},le:function(u,l,h,c,b){return o(u,l,h,c,b,n)},eq:function(u,l,h,c,b){return o(u,l,h,c,b,r)}}},8828:function(d,s){"use strict";function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(n){return(n>0)-(n<0)},s.abs=function(n){var r=n>>31;return(n^r)-r},s.min=function(n,r){return r^(n^r)&-(n<r)},s.max=function(n,r){return n^(n^r)&-(n<r)},s.isPow2=function(n){return!(n&n-1||!n)},s.log2=function(n){var r,o;return r=(n>65535)<<4,r|=o=((n>>>=r)>255)<<3,r|=o=((n>>>=o)>15)<<2,(r|=o=((n>>>=o)>3)<<1)|(n>>>=o)>>1},s.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},s.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(n){return n+=0===n,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},s.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},s.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var o=r,u=r,l=7;for(o>>>=1;o;o>>>=1)u<<=1,u|=1&o,--l;n[r]=u<<l&255}})(i),s.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},s.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},s.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},s.interleave3=function(n,r,o){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},s.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},6859:function(d,s,t){!function(i,n){"use strict";function r(N,H){if(!N)throw new Error(H||"Assertion failed")}function o(N,H){N.super_=H;var $=function(){};$.prototype=H.prototype,N.prototype=new $,N.prototype.constructor=N}function u(N,H,$){if(u.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,null!==N&&("le"!==H&&"be"!==H||($=H,H=10),this._init(N||0,H||10,$||"be"))}var l;"object"==typeof i?i.exports=u:n.BN=u,u.BN=u,u.wordSize=26;try{l=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:t(7790).Buffer}catch{}function h(N,H){var $=N.charCodeAt(H);return $>=65&&$<=70?$-55:$>=97&&$<=102?$-87:$-48&15}function c(N,H,$){var j=h(N,$);return $-1>=H&&(j|=h(N,$-1)<<4),j}function b(N,H,$,j){for(var W=0,G=Math.min(N.length,$),ae=H;ae<G;ae++){var te=N.charCodeAt(ae)-48;W*=j,W+=te>=49?te-49+10:te>=17?te-17+10:te}return W}u.isBN=function(N){return N instanceof u||null!==N&&"object"==typeof N&&N.constructor.wordSize===u.wordSize&&Array.isArray(N.words)},u.max=function(N,H){return N.cmp(H)>0?N:H},u.min=function(N,H){return N.cmp(H)<0?N:H},u.prototype._init=function(N,H,$){if("number"==typeof N)return this._initNumber(N,H,$);if("object"==typeof N)return this._initArray(N,H,$);"hex"===H&&(H=16),r(H===(0|H)&&H>=2&&H<=36);var j=0;"-"===(N=N.toString().replace(/\s+/g,""))[0]&&(j++,this.negative=1),j<N.length&&(16===H?this._parseHex(N,j,$):(this._parseBase(N,H,j),"le"===$&&this._initArray(this.toArray(),H,$)))},u.prototype._initNumber=function(N,H,$){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(r(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),"le"===$&&this._initArray(this.toArray(),H,$)},u.prototype._initArray=function(N,H,$){if(r("number"==typeof N.length),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var W,G,ae=0;if("be"===$)for(j=N.length-1,W=0;j>=0;j-=3)this.words[W]|=(G=N[j]|N[j-1]<<8|N[j-2]<<16)<<ae&67108863,this.words[W+1]=G>>>26-ae&67108863,(ae+=24)>=26&&(ae-=26,W++);else if("le"===$)for(j=0,W=0;j<N.length;j+=3)this.words[W]|=(G=N[j]|N[j+1]<<8|N[j+2]<<16)<<ae&67108863,this.words[W+1]=G>>>26-ae&67108863,(ae+=24)>=26&&(ae-=26,W++);return this.strip()},u.prototype._parseHex=function(N,H,$){this.length=Math.ceil((N.length-H)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var W,G=0,ae=0;if("be"===$)for(j=N.length-1;j>=H;j-=2)W=c(N,H,j)<<G,this.words[ae]|=67108863&W,G>=18?(G-=18,this.words[ae+=1]|=W>>>26):G+=8;else for(j=(N.length-H)%2==0?H+1:H;j<N.length;j+=2)W=c(N,H,j)<<G,this.words[ae]|=67108863&W,G>=18?(G-=18,this.words[ae+=1]|=W>>>26):G+=8;this.strip()},u.prototype._parseBase=function(N,H,$){this.words=[0],this.length=1;for(var j=0,W=1;W<=67108863;W*=H)j++;j--,W=W/H|0;for(var G=N.length-$,ae=G%j,te=Math.min(G,G-ae)+$,Q=0,ee=$;ee<te;ee+=j)Q=b(N,ee,ee+j,H),this.imuln(W),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(0!==ae){var re=1;for(Q=b(N,ee,N.length,H),ee=0;ee<ae;ee++)re*=H;this.imuln(re),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this.strip()},u.prototype.copy=function(N){N.words=new Array(this.length);for(var H=0;H<this.length;H++)N.words[H]=this.words[H];N.length=this.length,N.negative=this.negative,N.red=this.red},u.prototype.clone=function(){var N=new u(null);return this.copy(N),N},u.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},u.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(N,H,$){$.negative=H.negative^N.negative;var j=N.length+H.length|0;$.length=j,j=j-1|0;var W=0|N.words[0],G=0|H.words[0],ae=W*G,Q=ae/67108864|0;$.words[0]=67108863&ae;for(var ee=1;ee<j;ee++){for(var re=Q>>>26,J=67108863&Q,le=Math.min(ee,H.length-1),fe=Math.max(0,ee-N.length+1);fe<=le;fe++)re+=(ae=(W=0|N.words[ee-fe|0])*(G=0|H.words[fe])+J)/67108864|0,J=67108863&ae;$.words[ee]=0|J,Q=0|re}return 0!==Q?$.words[ee]=0|Q:$.length--,$.strip()}u.prototype.toString=function(N,H){var $;if(H=0|H||1,16===(N=N||10)||"hex"===N){$="";for(var j=0,W=0,G=0;G<this.length;G++){var ae=this.words[G],te=(16777215&(ae<<j|W)).toString(16);$=0!=(W=ae>>>24-j&16777215)||G!==this.length-1?p[6-te.length]+te+$:te+$,(j+=2)>=26&&(j-=26,G--)}for(0!==W&&($=W.toString(16)+$);$.length%H!=0;)$="0"+$;return 0!==this.negative&&($="-"+$),$}if(N===(0|N)&&N>=2&&N<=36){var Q=m[N],ee=v[N];$="";var re=this.clone();for(re.negative=0;!re.isZero();){var J=re.modn(ee).toString(N);$=(re=re.idivn(ee)).isZero()?J+$:p[Q-J.length]+J+$}for(this.isZero()&&($="0"+$);$.length%H!=0;)$="0"+$;return 0!==this.negative&&($="-"+$),$}r(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var N=this.words[0];return 2===this.length?N+=67108864*this.words[1]:3===this.length&&1===this.words[2]?N+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-N:N},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(N,H){return r(void 0!==l),this.toArrayLike(l,N,H)},u.prototype.toArray=function(N,H){return this.toArrayLike(Array,N,H)},u.prototype.toArrayLike=function(N,H,$){var j=this.byteLength(),W=$||Math.max(1,j);r(j<=W,"byte array longer than desired length"),r(W>0,"Requested array length <= 0"),this.strip();var G,ae,te="le"===H,Q=new N(W),ee=this.clone();if(te){for(ae=0;!ee.isZero();ae++)G=ee.andln(255),ee.iushrn(8),Q[ae]=G;for(;ae<W;ae++)Q[ae]=0}else{for(ae=0;ae<W-j;ae++)Q[ae]=0;for(ae=0;!ee.isZero();ae++)G=ee.andln(255),ee.iushrn(8),Q[W-ae-1]=G}return Q},u.prototype._countBits=Math.clz32?function(N){return 32-Math.clz32(N)}:function(N){var H=N,$=0;return H>=4096&&($+=13,H>>>=13),H>=64&&($+=7,H>>>=7),H>=8&&($+=4,H>>>=4),H>=2&&($+=2,H>>>=2),$+H},u.prototype._zeroBits=function(N){if(0===N)return 26;var H=N,$=0;return!(8191&H)&&($+=13,H>>>=13),!(127&H)&&($+=7,H>>>=7),!(15&H)&&($+=4,H>>>=4),!(3&H)&&($+=2,H>>>=2),!(1&H)&&$++,$},u.prototype.bitLength=function(){var H=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+H},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,H=0;H<this.length;H++){var $=this._zeroBits(this.words[H]);if(N+=$,26!==$)break}return N},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(N){return 0!==this.negative?this.abs().inotn(N).iaddn(1):this.clone()},u.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return 0!==this.negative},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var H=0;H<N.length;H++)this.words[H]=this.words[H]|N.words[H];return this.strip()},u.prototype.ior=function(N){return r(0==(this.negative|N.negative)),this.iuor(N)},u.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},u.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},u.prototype.iuand=function(N){var H;H=this.length>N.length?N:this;for(var $=0;$<H.length;$++)this.words[$]=this.words[$]&N.words[$];return this.length=H.length,this.strip()},u.prototype.iand=function(N){return r(0==(this.negative|N.negative)),this.iuand(N)},u.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},u.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},u.prototype.iuxor=function(N){var H,$;this.length>N.length?(H=this,$=N):(H=N,$=this);for(var j=0;j<$.length;j++)this.words[j]=H.words[j]^$.words[j];if(this!==H)for(;j<H.length;j++)this.words[j]=H.words[j];return this.length=H.length,this.strip()},u.prototype.ixor=function(N){return r(0==(this.negative|N.negative)),this.iuxor(N)},u.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},u.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},u.prototype.inotn=function(N){r("number"==typeof N&&N>=0);var H=0|Math.ceil(N/26),$=N%26;this._expand(H),$>0&&H--;for(var j=0;j<H;j++)this.words[j]=67108863&~this.words[j];return $>0&&(this.words[j]=~this.words[j]&67108863>>26-$),this.strip()},u.prototype.notn=function(N){return this.clone().inotn(N)},u.prototype.setn=function(N,H){r("number"==typeof N&&N>=0);var $=N/26|0,j=N%26;return this._expand($+1),this.words[$]=H?this.words[$]|1<<j:this.words[$]&~(1<<j),this.strip()},u.prototype.iadd=function(N){var H,$,j;if(0!==this.negative&&0===N.negative)return this.negative=0,H=this.isub(N),this.negative^=1,this._normSign();if(0===this.negative&&0!==N.negative)return N.negative=0,H=this.isub(N),N.negative=1,H._normSign();this.length>N.length?($=this,j=N):($=N,j=this);for(var W=0,G=0;G<j.length;G++)this.words[G]=67108863&(H=(0|$.words[G])+(0|j.words[G])+W),W=H>>>26;for(;0!==W&&G<$.length;G++)this.words[G]=67108863&(H=(0|$.words[G])+W),W=H>>>26;if(this.length=$.length,0!==W)this.words[this.length]=W,this.length++;else if($!==this)for(;G<$.length;G++)this.words[G]=$.words[G];return this},u.prototype.add=function(N){var H;return 0!==N.negative&&0===this.negative?(N.negative=0,H=this.sub(N),N.negative^=1,H):0===N.negative&&0!==this.negative?(this.negative=0,H=N.sub(this),this.negative=1,H):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},u.prototype.isub=function(N){if(0!==N.negative){N.negative=0;var H=this.iadd(N);return N.negative=1,H._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var $,j,W=this.cmp(N);if(0===W)return this.negative=0,this.length=1,this.words[0]=0,this;W>0?($=this,j=N):($=N,j=this);for(var G=0,ae=0;ae<j.length;ae++)G=(H=(0|$.words[ae])-(0|j.words[ae])+G)>>26,this.words[ae]=67108863&H;for(;0!==G&&ae<$.length;ae++)G=(H=(0|$.words[ae])+G)>>26,this.words[ae]=67108863&H;if(0===G&&ae<$.length&&$!==this)for(;ae<$.length;ae++)this.words[ae]=$.words[ae];return this.length=Math.max(this.length,ae),$!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(N){return this.clone().isub(N)};var y=function(N,H,$){var j,W,G,ae=N.words,te=H.words,Q=$.words,ee=0,re=0|ae[0],J=8191&re,le=re>>>13,fe=0|ae[1],ce=8191&fe,ge=fe>>>13,Te=0|ae[2],Me=8191&Te,we=Te>>>13,xe=0|ae[3],be=8191&xe,ye=xe>>>13,Se=0|ae[4],Ee=8191&Se,he=Se>>>13,ue=0|ae[5],me=8191&ue,Pe=ue>>>13,Ce=0|ae[6],Ie=8191&Ce,Oe=Ce>>>13,ze=0|ae[7],je=8191&ze,ve=ze>>>13,Ae=0|ae[8],Le=8191&Ae,Ve=Ae>>>13,Ne=0|ae[9],We=8191&Ne,Xe=Ne>>>13,nt=0|te[0],dt=8191&nt,ht=nt>>>13,Mt=0|te[1],kt=8191&Mt,_t=Mt>>>13,ut=0|te[2],st=8191&ut,Lt=ut>>>13,Ut=0|te[3],Ht=8191&Ut,Pt=Ut>>>13,Je=0|te[4],tt=8191&Je,Ge=Je>>>13,Qe=0|te[5],pt=8191&Qe,ct=Qe>>>13,He=0|te[6],qe=8191&He,ft=He>>>13,et=0|te[7],xt=8191&et,wt=et>>>13,At=0|te[8],yt=8191&At,Ot=At>>>13,Ct=0|te[9],Rt=8191&Ct,Bt=Ct>>>13;$.negative=N.negative^H.negative,$.length=19;var jt=(ee+(j=Math.imul(J,dt))|0)+((8191&(W=(W=Math.imul(J,ht))+Math.imul(le,dt)|0))<<13)|0;ee=((G=Math.imul(le,ht))+(W>>>13)|0)+(jt>>>26)|0,jt&=67108863,j=Math.imul(ce,dt),W=(W=Math.imul(ce,ht))+Math.imul(ge,dt)|0,G=Math.imul(ge,ht);var Gt=(ee+(j=j+Math.imul(J,kt)|0)|0)+((8191&(W=(W=W+Math.imul(J,_t)|0)+Math.imul(le,kt)|0))<<13)|0;ee=((G=G+Math.imul(le,_t)|0)+(W>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,j=Math.imul(Me,dt),W=(W=Math.imul(Me,ht))+Math.imul(we,dt)|0,G=Math.imul(we,ht),j=j+Math.imul(ce,kt)|0,W=(W=W+Math.imul(ce,_t)|0)+Math.imul(ge,kt)|0,G=G+Math.imul(ge,_t)|0;var on=(ee+(j=j+Math.imul(J,st)|0)|0)+((8191&(W=(W=W+Math.imul(J,Lt)|0)+Math.imul(le,st)|0))<<13)|0;ee=((G=G+Math.imul(le,Lt)|0)+(W>>>13)|0)+(on>>>26)|0,on&=67108863,j=Math.imul(be,dt),W=(W=Math.imul(be,ht))+Math.imul(ye,dt)|0,G=Math.imul(ye,ht),j=j+Math.imul(Me,kt)|0,W=(W=W+Math.imul(Me,_t)|0)+Math.imul(we,kt)|0,G=G+Math.imul(we,_t)|0,j=j+Math.imul(ce,st)|0,W=(W=W+Math.imul(ce,Lt)|0)+Math.imul(ge,st)|0,G=G+Math.imul(ge,Lt)|0;var Jt=(ee+(j=j+Math.imul(J,Ht)|0)|0)+((8191&(W=(W=W+Math.imul(J,Pt)|0)+Math.imul(le,Ht)|0))<<13)|0;ee=((G=G+Math.imul(le,Pt)|0)+(W>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,j=Math.imul(Ee,dt),W=(W=Math.imul(Ee,ht))+Math.imul(he,dt)|0,G=Math.imul(he,ht),j=j+Math.imul(be,kt)|0,W=(W=W+Math.imul(be,_t)|0)+Math.imul(ye,kt)|0,G=G+Math.imul(ye,_t)|0,j=j+Math.imul(Me,st)|0,W=(W=W+Math.imul(Me,Lt)|0)+Math.imul(we,st)|0,G=G+Math.imul(we,Lt)|0,j=j+Math.imul(ce,Ht)|0,W=(W=W+Math.imul(ce,Pt)|0)+Math.imul(ge,Ht)|0,G=G+Math.imul(ge,Pt)|0;var $t=(ee+(j=j+Math.imul(J,tt)|0)|0)+((8191&(W=(W=W+Math.imul(J,Ge)|0)+Math.imul(le,tt)|0))<<13)|0;ee=((G=G+Math.imul(le,Ge)|0)+(W>>>13)|0)+($t>>>26)|0,$t&=67108863,j=Math.imul(me,dt),W=(W=Math.imul(me,ht))+Math.imul(Pe,dt)|0,G=Math.imul(Pe,ht),j=j+Math.imul(Ee,kt)|0,W=(W=W+Math.imul(Ee,_t)|0)+Math.imul(he,kt)|0,G=G+Math.imul(he,_t)|0,j=j+Math.imul(be,st)|0,W=(W=W+Math.imul(be,Lt)|0)+Math.imul(ye,st)|0,G=G+Math.imul(ye,Lt)|0,j=j+Math.imul(Me,Ht)|0,W=(W=W+Math.imul(Me,Pt)|0)+Math.imul(we,Ht)|0,G=G+Math.imul(we,Pt)|0,j=j+Math.imul(ce,tt)|0,W=(W=W+Math.imul(ce,Ge)|0)+Math.imul(ge,tt)|0,G=G+Math.imul(ge,Ge)|0;var tn=(ee+(j=j+Math.imul(J,pt)|0)|0)+((8191&(W=(W=W+Math.imul(J,ct)|0)+Math.imul(le,pt)|0))<<13)|0;ee=((G=G+Math.imul(le,ct)|0)+(W>>>13)|0)+(tn>>>26)|0,tn&=67108863,j=Math.imul(Ie,dt),W=(W=Math.imul(Ie,ht))+Math.imul(Oe,dt)|0,G=Math.imul(Oe,ht),j=j+Math.imul(me,kt)|0,W=(W=W+Math.imul(me,_t)|0)+Math.imul(Pe,kt)|0,G=G+Math.imul(Pe,_t)|0,j=j+Math.imul(Ee,st)|0,W=(W=W+Math.imul(Ee,Lt)|0)+Math.imul(he,st)|0,G=G+Math.imul(he,Lt)|0,j=j+Math.imul(be,Ht)|0,W=(W=W+Math.imul(be,Pt)|0)+Math.imul(ye,Ht)|0,G=G+Math.imul(ye,Pt)|0,j=j+Math.imul(Me,tt)|0,W=(W=W+Math.imul(Me,Ge)|0)+Math.imul(we,tt)|0,G=G+Math.imul(we,Ge)|0,j=j+Math.imul(ce,pt)|0,W=(W=W+Math.imul(ce,ct)|0)+Math.imul(ge,pt)|0,G=G+Math.imul(ge,ct)|0;var dn=(ee+(j=j+Math.imul(J,qe)|0)|0)+((8191&(W=(W=W+Math.imul(J,ft)|0)+Math.imul(le,qe)|0))<<13)|0;ee=((G=G+Math.imul(le,ft)|0)+(W>>>13)|0)+(dn>>>26)|0,dn&=67108863,j=Math.imul(je,dt),W=(W=Math.imul(je,ht))+Math.imul(ve,dt)|0,G=Math.imul(ve,ht),j=j+Math.imul(Ie,kt)|0,W=(W=W+Math.imul(Ie,_t)|0)+Math.imul(Oe,kt)|0,G=G+Math.imul(Oe,_t)|0,j=j+Math.imul(me,st)|0,W=(W=W+Math.imul(me,Lt)|0)+Math.imul(Pe,st)|0,G=G+Math.imul(Pe,Lt)|0,j=j+Math.imul(Ee,Ht)|0,W=(W=W+Math.imul(Ee,Pt)|0)+Math.imul(he,Ht)|0,G=G+Math.imul(he,Pt)|0,j=j+Math.imul(be,tt)|0,W=(W=W+Math.imul(be,Ge)|0)+Math.imul(ye,tt)|0,G=G+Math.imul(ye,Ge)|0,j=j+Math.imul(Me,pt)|0,W=(W=W+Math.imul(Me,ct)|0)+Math.imul(we,pt)|0,G=G+Math.imul(we,ct)|0,j=j+Math.imul(ce,qe)|0,W=(W=W+Math.imul(ce,ft)|0)+Math.imul(ge,qe)|0,G=G+Math.imul(ge,ft)|0;var Gn=(ee+(j=j+Math.imul(J,xt)|0)|0)+((8191&(W=(W=W+Math.imul(J,wt)|0)+Math.imul(le,xt)|0))<<13)|0;ee=((G=G+Math.imul(le,wt)|0)+(W>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,j=Math.imul(Le,dt),W=(W=Math.imul(Le,ht))+Math.imul(Ve,dt)|0,G=Math.imul(Ve,ht),j=j+Math.imul(je,kt)|0,W=(W=W+Math.imul(je,_t)|0)+Math.imul(ve,kt)|0,G=G+Math.imul(ve,_t)|0,j=j+Math.imul(Ie,st)|0,W=(W=W+Math.imul(Ie,Lt)|0)+Math.imul(Oe,st)|0,G=G+Math.imul(Oe,Lt)|0,j=j+Math.imul(me,Ht)|0,W=(W=W+Math.imul(me,Pt)|0)+Math.imul(Pe,Ht)|0,G=G+Math.imul(Pe,Pt)|0,j=j+Math.imul(Ee,tt)|0,W=(W=W+Math.imul(Ee,Ge)|0)+Math.imul(he,tt)|0,G=G+Math.imul(he,Ge)|0,j=j+Math.imul(be,pt)|0,W=(W=W+Math.imul(be,ct)|0)+Math.imul(ye,pt)|0,G=G+Math.imul(ye,ct)|0,j=j+Math.imul(Me,qe)|0,W=(W=W+Math.imul(Me,ft)|0)+Math.imul(we,qe)|0,G=G+Math.imul(we,ft)|0,j=j+Math.imul(ce,xt)|0,W=(W=W+Math.imul(ce,wt)|0)+Math.imul(ge,xt)|0,G=G+Math.imul(ge,wt)|0;var zn=(ee+(j=j+Math.imul(J,yt)|0)|0)+((8191&(W=(W=W+Math.imul(J,Ot)|0)+Math.imul(le,yt)|0))<<13)|0;ee=((G=G+Math.imul(le,Ot)|0)+(W>>>13)|0)+(zn>>>26)|0,zn&=67108863,j=Math.imul(We,dt),W=(W=Math.imul(We,ht))+Math.imul(Xe,dt)|0,G=Math.imul(Xe,ht),j=j+Math.imul(Le,kt)|0,W=(W=W+Math.imul(Le,_t)|0)+Math.imul(Ve,kt)|0,G=G+Math.imul(Ve,_t)|0,j=j+Math.imul(je,st)|0,W=(W=W+Math.imul(je,Lt)|0)+Math.imul(ve,st)|0,G=G+Math.imul(ve,Lt)|0,j=j+Math.imul(Ie,Ht)|0,W=(W=W+Math.imul(Ie,Pt)|0)+Math.imul(Oe,Ht)|0,G=G+Math.imul(Oe,Pt)|0,j=j+Math.imul(me,tt)|0,W=(W=W+Math.imul(me,Ge)|0)+Math.imul(Pe,tt)|0,G=G+Math.imul(Pe,Ge)|0,j=j+Math.imul(Ee,pt)|0,W=(W=W+Math.imul(Ee,ct)|0)+Math.imul(he,pt)|0,G=G+Math.imul(he,ct)|0,j=j+Math.imul(be,qe)|0,W=(W=W+Math.imul(be,ft)|0)+Math.imul(ye,qe)|0,G=G+Math.imul(ye,ft)|0,j=j+Math.imul(Me,xt)|0,W=(W=W+Math.imul(Me,wt)|0)+Math.imul(we,xt)|0,G=G+Math.imul(we,wt)|0,j=j+Math.imul(ce,yt)|0,W=(W=W+Math.imul(ce,Ot)|0)+Math.imul(ge,yt)|0,G=G+Math.imul(ge,Ot)|0;var Mn=(ee+(j=j+Math.imul(J,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(J,Bt)|0)+Math.imul(le,Rt)|0))<<13)|0;ee=((G=G+Math.imul(le,Bt)|0)+(W>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,j=Math.imul(We,kt),W=(W=Math.imul(We,_t))+Math.imul(Xe,kt)|0,G=Math.imul(Xe,_t),j=j+Math.imul(Le,st)|0,W=(W=W+Math.imul(Le,Lt)|0)+Math.imul(Ve,st)|0,G=G+Math.imul(Ve,Lt)|0,j=j+Math.imul(je,Ht)|0,W=(W=W+Math.imul(je,Pt)|0)+Math.imul(ve,Ht)|0,G=G+Math.imul(ve,Pt)|0,j=j+Math.imul(Ie,tt)|0,W=(W=W+Math.imul(Ie,Ge)|0)+Math.imul(Oe,tt)|0,G=G+Math.imul(Oe,Ge)|0,j=j+Math.imul(me,pt)|0,W=(W=W+Math.imul(me,ct)|0)+Math.imul(Pe,pt)|0,G=G+Math.imul(Pe,ct)|0,j=j+Math.imul(Ee,qe)|0,W=(W=W+Math.imul(Ee,ft)|0)+Math.imul(he,qe)|0,G=G+Math.imul(he,ft)|0,j=j+Math.imul(be,xt)|0,W=(W=W+Math.imul(be,wt)|0)+Math.imul(ye,xt)|0,G=G+Math.imul(ye,wt)|0,j=j+Math.imul(Me,yt)|0,W=(W=W+Math.imul(Me,Ot)|0)+Math.imul(we,yt)|0,G=G+Math.imul(we,Ot)|0;var ln=(ee+(j=j+Math.imul(ce,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(ce,Bt)|0)+Math.imul(ge,Rt)|0))<<13)|0;ee=((G=G+Math.imul(ge,Bt)|0)+(W>>>13)|0)+(ln>>>26)|0,ln&=67108863,j=Math.imul(We,st),W=(W=Math.imul(We,Lt))+Math.imul(Xe,st)|0,G=Math.imul(Xe,Lt),j=j+Math.imul(Le,Ht)|0,W=(W=W+Math.imul(Le,Pt)|0)+Math.imul(Ve,Ht)|0,G=G+Math.imul(Ve,Pt)|0,j=j+Math.imul(je,tt)|0,W=(W=W+Math.imul(je,Ge)|0)+Math.imul(ve,tt)|0,G=G+Math.imul(ve,Ge)|0,j=j+Math.imul(Ie,pt)|0,W=(W=W+Math.imul(Ie,ct)|0)+Math.imul(Oe,pt)|0,G=G+Math.imul(Oe,ct)|0,j=j+Math.imul(me,qe)|0,W=(W=W+Math.imul(me,ft)|0)+Math.imul(Pe,qe)|0,G=G+Math.imul(Pe,ft)|0,j=j+Math.imul(Ee,xt)|0,W=(W=W+Math.imul(Ee,wt)|0)+Math.imul(he,xt)|0,G=G+Math.imul(he,wt)|0,j=j+Math.imul(be,yt)|0,W=(W=W+Math.imul(be,Ot)|0)+Math.imul(ye,yt)|0,G=G+Math.imul(ye,Ot)|0;var vn=(ee+(j=j+Math.imul(Me,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(Me,Bt)|0)+Math.imul(we,Rt)|0))<<13)|0;ee=((G=G+Math.imul(we,Bt)|0)+(W>>>13)|0)+(vn>>>26)|0,vn&=67108863,j=Math.imul(We,Ht),W=(W=Math.imul(We,Pt))+Math.imul(Xe,Ht)|0,G=Math.imul(Xe,Pt),j=j+Math.imul(Le,tt)|0,W=(W=W+Math.imul(Le,Ge)|0)+Math.imul(Ve,tt)|0,G=G+Math.imul(Ve,Ge)|0,j=j+Math.imul(je,pt)|0,W=(W=W+Math.imul(je,ct)|0)+Math.imul(ve,pt)|0,G=G+Math.imul(ve,ct)|0,j=j+Math.imul(Ie,qe)|0,W=(W=W+Math.imul(Ie,ft)|0)+Math.imul(Oe,qe)|0,G=G+Math.imul(Oe,ft)|0,j=j+Math.imul(me,xt)|0,W=(W=W+Math.imul(me,wt)|0)+Math.imul(Pe,xt)|0,G=G+Math.imul(Pe,wt)|0,j=j+Math.imul(Ee,yt)|0,W=(W=W+Math.imul(Ee,Ot)|0)+Math.imul(he,yt)|0,G=G+Math.imul(he,Ot)|0;var hn=(ee+(j=j+Math.imul(be,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(be,Bt)|0)+Math.imul(ye,Rt)|0))<<13)|0;ee=((G=G+Math.imul(ye,Bt)|0)+(W>>>13)|0)+(hn>>>26)|0,hn&=67108863,j=Math.imul(We,tt),W=(W=Math.imul(We,Ge))+Math.imul(Xe,tt)|0,G=Math.imul(Xe,Ge),j=j+Math.imul(Le,pt)|0,W=(W=W+Math.imul(Le,ct)|0)+Math.imul(Ve,pt)|0,G=G+Math.imul(Ve,ct)|0,j=j+Math.imul(je,qe)|0,W=(W=W+Math.imul(je,ft)|0)+Math.imul(ve,qe)|0,G=G+Math.imul(ve,ft)|0,j=j+Math.imul(Ie,xt)|0,W=(W=W+Math.imul(Ie,wt)|0)+Math.imul(Oe,xt)|0,G=G+Math.imul(Oe,wt)|0,j=j+Math.imul(me,yt)|0,W=(W=W+Math.imul(me,Ot)|0)+Math.imul(Pe,yt)|0,G=G+Math.imul(Pe,Ot)|0;var _n=(ee+(j=j+Math.imul(Ee,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(Ee,Bt)|0)+Math.imul(he,Rt)|0))<<13)|0;ee=((G=G+Math.imul(he,Bt)|0)+(W>>>13)|0)+(_n>>>26)|0,_n&=67108863,j=Math.imul(We,pt),W=(W=Math.imul(We,ct))+Math.imul(Xe,pt)|0,G=Math.imul(Xe,ct),j=j+Math.imul(Le,qe)|0,W=(W=W+Math.imul(Le,ft)|0)+Math.imul(Ve,qe)|0,G=G+Math.imul(Ve,ft)|0,j=j+Math.imul(je,xt)|0,W=(W=W+Math.imul(je,wt)|0)+Math.imul(ve,xt)|0,G=G+Math.imul(ve,wt)|0,j=j+Math.imul(Ie,yt)|0,W=(W=W+Math.imul(Ie,Ot)|0)+Math.imul(Oe,yt)|0,G=G+Math.imul(Oe,Ot)|0;var Dn=(ee+(j=j+Math.imul(me,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(me,Bt)|0)+Math.imul(Pe,Rt)|0))<<13)|0;ee=((G=G+Math.imul(Pe,Bt)|0)+(W>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,j=Math.imul(We,qe),W=(W=Math.imul(We,ft))+Math.imul(Xe,qe)|0,G=Math.imul(Xe,ft),j=j+Math.imul(Le,xt)|0,W=(W=W+Math.imul(Le,wt)|0)+Math.imul(Ve,xt)|0,G=G+Math.imul(Ve,wt)|0,j=j+Math.imul(je,yt)|0,W=(W=W+Math.imul(je,Ot)|0)+Math.imul(ve,yt)|0,G=G+Math.imul(ve,Ot)|0;var Pn=(ee+(j=j+Math.imul(Ie,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(Ie,Bt)|0)+Math.imul(Oe,Rt)|0))<<13)|0;ee=((G=G+Math.imul(Oe,Bt)|0)+(W>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,j=Math.imul(We,xt),W=(W=Math.imul(We,wt))+Math.imul(Xe,xt)|0,G=Math.imul(Xe,wt),j=j+Math.imul(Le,yt)|0,W=(W=W+Math.imul(Le,Ot)|0)+Math.imul(Ve,yt)|0,G=G+Math.imul(Ve,Ot)|0;var Yn=(ee+(j=j+Math.imul(je,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(je,Bt)|0)+Math.imul(ve,Rt)|0))<<13)|0;ee=((G=G+Math.imul(ve,Bt)|0)+(W>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,j=Math.imul(We,yt),W=(W=Math.imul(We,Ot))+Math.imul(Xe,yt)|0,G=Math.imul(Xe,Ot);var jn=(ee+(j=j+Math.imul(Le,Rt)|0)|0)+((8191&(W=(W=W+Math.imul(Le,Bt)|0)+Math.imul(Ve,Rt)|0))<<13)|0;ee=((G=G+Math.imul(Ve,Bt)|0)+(W>>>13)|0)+(jn>>>26)|0,jn&=67108863;var Fn=(ee+(j=Math.imul(We,Rt))|0)+((8191&(W=(W=Math.imul(We,Bt))+Math.imul(Xe,Rt)|0))<<13)|0;return ee=((G=Math.imul(Xe,Bt))+(W>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,Q[0]=jt,Q[1]=Gt,Q[2]=on,Q[3]=Jt,Q[4]=$t,Q[5]=tn,Q[6]=dn,Q[7]=Gn,Q[8]=zn,Q[9]=Mn,Q[10]=ln,Q[11]=vn,Q[12]=hn,Q[13]=_n,Q[14]=Dn,Q[15]=Pn,Q[16]=Yn,Q[17]=jn,Q[18]=Fn,0!==ee&&(Q[19]=ee,$.length++),$};function w(N,H,$){return(new f).mulp(N,H,$)}function f(N,H){this.x=N,this.y=H}Math.imul||(y=x),u.prototype.mulTo=function(N,H){var j=this.length+N.length;return 10===this.length&&10===N.length?y(this,N,H):j<63?x(this,N,H):j<1024?function(W,G,ae){ae.negative=G.negative^W.negative,ae.length=W.length+G.length;for(var te=0,Q=0,ee=0;ee<ae.length-1;ee++){var re=Q;Q=0;for(var J=67108863&te,le=Math.min(ee,G.length-1),fe=Math.max(0,ee-W.length+1);fe<=le;fe++){var ge=(0|W.words[ee-fe])*(0|G.words[fe]),Te=67108863&ge;J=67108863&(Te=Te+J|0),Q+=(re=(re=re+(ge/67108864|0)|0)+(Te>>>26)|0)>>>26,re&=67108863}ae.words[ee]=J,te=re,re=Q}return 0!==te?ae.words[ee]=te:ae.length--,ae.strip()}(this,N,H):w(this,N,H)},f.prototype.makeRBT=function(N){for(var H=new Array(N),$=u.prototype._countBits(N)-1,j=0;j<N;j++)H[j]=this.revBin(j,$,N);return H},f.prototype.revBin=function(N,H,$){if(0===N||N===$-1)return N;for(var j=0,W=0;W<H;W++)j|=(1&N)<<H-W-1,N>>=1;return j},f.prototype.permute=function(N,H,$,j,W,G){for(var ae=0;ae<G;ae++)j[ae]=H[N[ae]],W[ae]=$[N[ae]]},f.prototype.transform=function(N,H,$,j,W,G){this.permute(G,N,H,$,j,W);for(var ae=1;ae<W;ae<<=1)for(var te=ae<<1,Q=Math.cos(2*Math.PI/te),ee=Math.sin(2*Math.PI/te),re=0;re<W;re+=te)for(var J=Q,le=ee,fe=0;fe<ae;fe++){var ce=$[re+fe],ge=j[re+fe],Te=$[re+fe+ae],Me=j[re+fe+ae],we=J*Te-le*Me;Me=J*Me+le*Te,$[re+fe]=ce+(Te=we),j[re+fe]=ge+Me,$[re+fe+ae]=ce-Te,j[re+fe+ae]=ge-Me,fe!==te&&(we=Q*J-ee*le,le=Q*le+ee*J,J=we)}},f.prototype.guessLen13b=function(N,H){var $=1|Math.max(H,N),j=1&$,W=0;for($=$/2|0;$;$>>>=1)W++;return 1<<W+1+j},f.prototype.conjugate=function(N,H,$){if(!($<=1))for(var j=0;j<$/2;j++){var W=N[j];N[j]=N[$-j-1],N[$-j-1]=W,W=H[j],H[j]=-H[$-j-1],H[$-j-1]=-W}},f.prototype.normalize13b=function(N,H){for(var $=0,j=0;j<H/2;j++){var W=8192*Math.round(N[2*j+1]/H)+Math.round(N[2*j]/H)+$;N[j]=67108863&W,$=W<67108864?0:W/67108864|0}return N},f.prototype.convert13b=function(N,H,$,j){for(var W=0,G=0;G<H;G++)$[2*G]=8191&(W+=0|N[G]),$[2*G+1]=8191&(W>>>=13),W>>>=13;for(G=2*H;G<j;++G)$[G]=0;r(0===W),r(0==(-8192&W))},f.prototype.stub=function(N){for(var H=new Array(N),$=0;$<N;$++)H[$]=0;return H},f.prototype.mulp=function(N,H,$){var j=2*this.guessLen13b(N.length,H.length),W=this.makeRBT(j),G=this.stub(j),ae=new Array(j),te=new Array(j),Q=new Array(j),ee=new Array(j),re=new Array(j),J=new Array(j),le=$.words;le.length=j,this.convert13b(N.words,N.length,ae,j),this.convert13b(H.words,H.length,ee,j),this.transform(ae,G,te,Q,j,W),this.transform(ee,G,re,J,j,W);for(var fe=0;fe<j;fe++){var ce=te[fe]*re[fe]-Q[fe]*J[fe];Q[fe]=te[fe]*J[fe]+Q[fe]*re[fe],te[fe]=ce}return this.conjugate(te,Q,j),this.transform(te,Q,le,G,j,W),this.conjugate(le,G,j),this.normalize13b(le,j),$.negative=N.negative^H.negative,$.length=N.length+H.length,$.strip()},u.prototype.mul=function(N){var H=new u(null);return H.words=new Array(this.length+N.length),this.mulTo(N,H)},u.prototype.mulf=function(N){var H=new u(null);return H.words=new Array(this.length+N.length),w(this,N,H)},u.prototype.imul=function(N){return this.clone().mulTo(N,this)},u.prototype.imuln=function(N){r("number"==typeof N),r(N<67108864);for(var H=0,$=0;$<this.length;$++){var j=(0|this.words[$])*N,W=(67108863&j)+(67108863&H);H>>=26,H+=j/67108864|0,H+=W>>>26,this.words[$]=67108863&W}return 0!==H&&(this.words[$]=H,this.length++),this},u.prototype.muln=function(N){return this.clone().imuln(N)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(N){var H=function(G){for(var ae=new Array(G.bitLength()),te=0;te<ae.length;te++){var ee=te%26;ae[te]=(G.words[te/26|0]&1<<ee)>>>ee}return ae}(N);if(0===H.length)return new u(1);for(var $=this,j=0;j<H.length&&0===H[j];j++,$=$.sqr());if(++j<H.length)for(var W=$.sqr();j<H.length;j++,W=W.sqr())0!==H[j]&&($=$.mul(W));return $},u.prototype.iushln=function(N){r("number"==typeof N&&N>=0);var H,$=N%26,j=(N-$)/26,W=67108863>>>26-$<<26-$;if(0!==$){var G=0;for(H=0;H<this.length;H++){var ae=this.words[H]&W;this.words[H]=(0|this.words[H])-ae<<$|G,G=ae>>>26-$}G&&(this.words[H]=G,this.length++)}if(0!==j){for(H=this.length-1;H>=0;H--)this.words[H+j]=this.words[H];for(H=0;H<j;H++)this.words[H]=0;this.length+=j}return this.strip()},u.prototype.ishln=function(N){return r(0===this.negative),this.iushln(N)},u.prototype.iushrn=function(N,H,$){var j;r("number"==typeof N&&N>=0),j=H?(H-H%26)/26:0;var W=N%26,G=Math.min((N-W)/26,this.length),ae=67108863^67108863>>>W<<W,te=$;if(j-=G,j=Math.max(0,j),te){for(var Q=0;Q<G;Q++)te.words[Q]=this.words[Q];te.length=G}if(0!==G)if(this.length>G)for(this.length-=G,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+G];else this.words[0]=0,this.length=1;var ee=0;for(Q=this.length-1;Q>=0&&(0!==ee||Q>=j);Q--){var re=0|this.words[Q];this.words[Q]=ee<<26-W|re>>>W,ee=re&ae}return te&&0!==ee&&(te.words[te.length++]=ee),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(N,H,$){return r(0===this.negative),this.iushrn(N,H,$)},u.prototype.shln=function(N){return this.clone().ishln(N)},u.prototype.ushln=function(N){return this.clone().iushln(N)},u.prototype.shrn=function(N){return this.clone().ishrn(N)},u.prototype.ushrn=function(N){return this.clone().iushrn(N)},u.prototype.testn=function(N){r("number"==typeof N&&N>=0);var H=N%26,$=(N-H)/26;return!(this.length<=$||!(this.words[$]&1<<H))},u.prototype.imaskn=function(N){r("number"==typeof N&&N>=0);var H=N%26,$=(N-H)/26;return r(0===this.negative,"imaskn works only with positive numbers"),this.length<=$?this:(0!==H&&$++,this.length=Math.min($,this.length),0!==H&&(this.words[this.length-1]&=67108863^67108863>>>H<<H),this.strip())},u.prototype.maskn=function(N){return this.clone().imaskn(N)},u.prototype.iaddn=function(N){return r("number"==typeof N),r(N<67108864),N<0?this.isubn(-N):0!==this.negative?1===this.length&&(0|this.words[0])<N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},u.prototype._iaddn=function(N){this.words[0]+=N;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},u.prototype.isubn=function(N){if(r("number"==typeof N),r(N<67108864),N<0)return this.iaddn(-N);if(0!==this.negative)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},u.prototype.addn=function(N){return this.clone().iaddn(N)},u.prototype.subn=function(N){return this.clone().isubn(N)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(N,H,$){var j,W;this._expand(N.length+$);var ae=0;for(j=0;j<N.length;j++){W=(0|this.words[j+$])+ae;var te=(0|N.words[j])*H;ae=((W-=67108863&te)>>26)-(te/67108864|0),this.words[j+$]=67108863&W}for(;j<this.length-$;j++)ae=(W=(0|this.words[j+$])+ae)>>26,this.words[j+$]=67108863&W;if(0===ae)return this.strip();for(r(-1===ae),ae=0,j=0;j<this.length;j++)ae=(W=-(0|this.words[j])+ae)>>26,this.words[j]=67108863&W;return this.negative=1,this.strip()},u.prototype._wordDiv=function(N,H){var $,j=this.clone(),W=N,G=0|W.words[W.length-1];0!=($=26-this._countBits(G))&&(W=W.ushln($),j.iushln($),G=0|W.words[W.length-1]);var ae,te=j.length-W.length;if("mod"!==H){(ae=new u(null)).length=te+1,ae.words=new Array(ae.length);for(var Q=0;Q<ae.length;Q++)ae.words[Q]=0}var ee=j.clone()._ishlnsubmul(W,1,te);0===ee.negative&&(j=ee,ae&&(ae.words[te]=1));for(var re=te-1;re>=0;re--){var J=67108864*(0|j.words[W.length+re])+(0|j.words[W.length+re-1]);for(J=Math.min(J/G|0,67108863),j._ishlnsubmul(W,J,re);0!==j.negative;)J--,j.negative=0,j._ishlnsubmul(W,1,re),j.isZero()||(j.negative^=1);ae&&(ae.words[re]=J)}return ae&&ae.strip(),j.strip(),"div"!==H&&0!==$&&j.iushrn($),{div:ae||null,mod:j}},u.prototype.divmod=function(N,H,$){return r(!N.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:0!==this.negative&&0===N.negative?(G=this.neg().divmod(N,H),"mod"!==H&&(j=G.div.neg()),"div"!==H&&(W=G.mod.neg(),$&&0!==W.negative&&W.iadd(N)),{div:j,mod:W}):0===this.negative&&0!==N.negative?(G=this.divmod(N.neg(),H),"mod"!==H&&(j=G.div.neg()),{div:j,mod:G.mod}):this.negative&N.negative?(G=this.neg().divmod(N.neg(),H),"div"!==H&&(W=G.mod.neg(),$&&0!==W.negative&&W.isub(N)),{div:G.div,mod:W}):N.length>this.length||this.cmp(N)<0?{div:new u(0),mod:this}:1===N.length?"div"===H?{div:this.divn(N.words[0]),mod:null}:"mod"===H?{div:null,mod:new u(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new u(this.modn(N.words[0]))}:this._wordDiv(N,H);var j,W,G},u.prototype.div=function(N){return this.divmod(N,"div",!1).div},u.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},u.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},u.prototype.divRound=function(N){var H=this.divmod(N);if(H.mod.isZero())return H.div;var $=0!==H.div.negative?H.mod.isub(N):H.mod,j=N.ushrn(1),W=N.andln(1),G=$.cmp(j);return G<0||1===W&&0===G?H.div:0!==H.div.negative?H.div.isubn(1):H.div.iaddn(1)},u.prototype.modn=function(N){r(N<=67108863);for(var H=67108864%N,$=0,j=this.length-1;j>=0;j--)$=(H*$+(0|this.words[j]))%N;return $},u.prototype.idivn=function(N){r(N<=67108863);for(var H=0,$=this.length-1;$>=0;$--){var j=(0|this.words[$])+67108864*H;this.words[$]=j/N|0,H=j%N}return this.strip()},u.prototype.divn=function(N){return this.clone().idivn(N)},u.prototype.egcd=function(N){r(0===N.negative),r(!N.isZero());var H=this,$=N.clone();H=0!==H.negative?H.umod(N):H.clone();for(var j=new u(1),W=new u(0),G=new u(0),ae=new u(1),te=0;H.isEven()&&$.isEven();)H.iushrn(1),$.iushrn(1),++te;for(var Q=$.clone(),ee=H.clone();!H.isZero();){for(var re=0,J=1;!(H.words[0]&J)&&re<26;++re,J<<=1);if(re>0)for(H.iushrn(re);re-- >0;)(j.isOdd()||W.isOdd())&&(j.iadd(Q),W.isub(ee)),j.iushrn(1),W.iushrn(1);for(var le=0,fe=1;!($.words[0]&fe)&&le<26;++le,fe<<=1);if(le>0)for($.iushrn(le);le-- >0;)(G.isOdd()||ae.isOdd())&&(G.iadd(Q),ae.isub(ee)),G.iushrn(1),ae.iushrn(1);H.cmp($)>=0?(H.isub($),j.isub(G),W.isub(ae)):($.isub(H),G.isub(j),ae.isub(W))}return{a:G,b:ae,gcd:$.iushln(te)}},u.prototype._invmp=function(N){r(0===N.negative),r(!N.isZero());var H=this,$=N.clone();H=0!==H.negative?H.umod(N):H.clone();for(var j,W=new u(1),G=new u(0),ae=$.clone();H.cmpn(1)>0&&$.cmpn(1)>0;){for(var te=0,Q=1;!(H.words[0]&Q)&&te<26;++te,Q<<=1);if(te>0)for(H.iushrn(te);te-- >0;)W.isOdd()&&W.iadd(ae),W.iushrn(1);for(var ee=0,re=1;!($.words[0]&re)&&ee<26;++ee,re<<=1);if(ee>0)for($.iushrn(ee);ee-- >0;)G.isOdd()&&G.iadd(ae),G.iushrn(1);H.cmp($)>=0?(H.isub($),W.isub(G)):($.isub(H),G.isub(W))}return(j=0===H.cmpn(1)?W:G).cmpn(0)<0&&j.iadd(N),j},u.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var H=this.clone(),$=N.clone();H.negative=0,$.negative=0;for(var j=0;H.isEven()&&$.isEven();j++)H.iushrn(1),$.iushrn(1);for(;;){for(;H.isEven();)H.iushrn(1);for(;$.isEven();)$.iushrn(1);var W=H.cmp($);if(W<0){var G=H;H=$,$=G}else if(0===W||0===$.cmpn(1))break;H.isub($)}return $.iushln(j)},u.prototype.invm=function(N){return this.egcd(N).a.umod(N)},u.prototype.isEven=function(){return 0==(1&this.words[0])},u.prototype.isOdd=function(){return 1==(1&this.words[0])},u.prototype.andln=function(N){return this.words[0]&N},u.prototype.bincn=function(N){r("number"==typeof N);var H=N%26,$=(N-H)/26,j=1<<H;if(this.length<=$)return this._expand($+1),this.words[$]|=j,this;for(var W=j,G=$;0!==W&&G<this.length;G++){var ae=0|this.words[G];W=(ae+=W)>>>26,this.words[G]=ae&=67108863}return 0!==W&&(this.words[G]=W,this.length++),this},u.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},u.prototype.cmpn=function(N){var H,$=N<0;if(0!==this.negative&&!$)return-1;if(0===this.negative&&$)return 1;if(this.strip(),this.length>1)H=1;else{$&&(N=-N),r(N<=67108863,"Number is too big");var j=0|this.words[0];H=j===N?0:j<N?-1:1}return 0!==this.negative?0|-H:H},u.prototype.cmp=function(N){if(0!==this.negative&&0===N.negative)return-1;if(0===this.negative&&0!==N.negative)return 1;var H=this.ucmp(N);return 0!==this.negative?0|-H:H},u.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var H=0,$=this.length-1;$>=0;$--){var j=0|this.words[$],W=0|N.words[$];if(j!==W){j<W?H=-1:j>W&&(H=1);break}}return H},u.prototype.gtn=function(N){return 1===this.cmpn(N)},u.prototype.gt=function(N){return 1===this.cmp(N)},u.prototype.gten=function(N){return this.cmpn(N)>=0},u.prototype.gte=function(N){return this.cmp(N)>=0},u.prototype.ltn=function(N){return-1===this.cmpn(N)},u.prototype.lt=function(N){return-1===this.cmp(N)},u.prototype.lten=function(N){return this.cmpn(N)<=0},u.prototype.lte=function(N){return this.cmp(N)<=0},u.prototype.eqn=function(N){return 0===this.cmpn(N)},u.prototype.eq=function(N){return 0===this.cmp(N)},u.red=function(N){return new B(N)},u.prototype.toRed=function(N){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),N.convertTo(this)._forceRed(N)},u.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(N){return this.red=N,this},u.prototype.forceRed=function(N){return r(!this.red,"Already a number in reduction context"),this._forceRed(N)},u.prototype.redAdd=function(N){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},u.prototype.redIAdd=function(N){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},u.prototype.redSub=function(N){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},u.prototype.redISub=function(N){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},u.prototype.redShl=function(N){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},u.prototype.redMul=function(N){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},u.prototype.redIMul=function(N){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},u.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(N){return r(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var C={k256:null,p224:null,p192:null,p25519:null};function T(N,H){this.name=N,this.p=new u(H,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function B(N){if("string"==typeof N){var H=u._prime(N);this.m=H.p,this.prime=H}else r(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function q(N){B.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var N=new u(null);return N.words=new Array(Math.ceil(this.n/13)),N},T.prototype.ireduce=function(N){var H,$=N;do{this.split($,this.tmp),H=($=($=this.imulK($)).iadd(this.tmp)).bitLength()}while(H>this.n);var j=H<this.n?-1:$.ucmp(this.p);return 0===j?($.words[0]=0,$.length=1):j>0?$.isub(this.p):void 0!==$.strip?$.strip():$._strip(),$},T.prototype.split=function(N,H){N.iushrn(this.n,0,H)},T.prototype.imulK=function(N){return N.imul(this.k)},o(D,T),D.prototype.split=function(N,H){for(var $=4194303,j=Math.min(N.length,9),W=0;W<j;W++)H.words[W]=N.words[W];if(H.length=j,N.length<=9)return N.words[0]=0,void(N.length=1);var G=N.words[9];for(H.words[H.length++]=G&$,W=10;W<N.length;W++){var ae=0|N.words[W];N.words[W-10]=(ae&$)<<4|G>>>22,G=ae}N.words[W-10]=G>>>=22,N.length-=0===G&&N.length>10?10:9},D.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var H=0,$=0;$<N.length;$++){var j=0|N.words[$];N.words[$]=67108863&(H+=977*j),H=64*j+(H/67108864|0)}return 0===N.words[N.length-1]&&(N.length--,0===N.words[N.length-1]&&N.length--),N},o(R,T),o(P,T),o(O,T),O.prototype.imulK=function(N){for(var H=0,$=0;$<N.length;$++){var j=19*(0|N.words[$])+H,W=67108863&j;j>>>=26,N.words[$]=W,H=j}return 0!==H&&(N.words[N.length++]=H),N},u._prime=function(N){if(C[N])return C[N];var H;if("k256"===N)H=new D;else if("p224"===N)H=new R;else if("p192"===N)H=new P;else{if("p25519"!==N)throw new Error("Unknown prime "+N);H=new O}return C[N]=H,H},B.prototype._verify1=function(N){r(0===N.negative,"red works only with positives"),r(N.red,"red works only with red numbers")},B.prototype._verify2=function(N,H){r(0==(N.negative|H.negative),"red works only with positives"),r(N.red&&N.red===H.red,"red works only with red numbers")},B.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},B.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},B.prototype.add=function(N,H){this._verify2(N,H);var $=N.add(H);return $.cmp(this.m)>=0&&$.isub(this.m),$._forceRed(this)},B.prototype.iadd=function(N,H){this._verify2(N,H);var $=N.iadd(H);return $.cmp(this.m)>=0&&$.isub(this.m),$},B.prototype.sub=function(N,H){this._verify2(N,H);var $=N.sub(H);return $.cmpn(0)<0&&$.iadd(this.m),$._forceRed(this)},B.prototype.isub=function(N,H){this._verify2(N,H);var $=N.isub(H);return $.cmpn(0)<0&&$.iadd(this.m),$},B.prototype.shl=function(N,H){return this._verify1(N),this.imod(N.ushln(H))},B.prototype.imul=function(N,H){return this._verify2(N,H),this.imod(N.imul(H))},B.prototype.mul=function(N,H){return this._verify2(N,H),this.imod(N.mul(H))},B.prototype.isqr=function(N){return this.imul(N,N.clone())},B.prototype.sqr=function(N){return this.mul(N,N)},B.prototype.sqrt=function(N){if(N.isZero())return N.clone();var H=this.m.andln(3);if(r(H%2==1),3===H){var $=this.m.add(new u(1)).iushrn(2);return this.pow(N,$)}for(var j=this.m.subn(1),W=0;!j.isZero()&&0===j.andln(1);)W++,j.iushrn(1);r(!j.isZero());var G=new u(1).toRed(this),ae=G.redNeg(),te=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new u(2*Q*Q).toRed(this);0!==this.pow(Q,te).cmp(ae);)Q.redIAdd(ae);for(var ee=this.pow(Q,j),re=this.pow(N,j.addn(1).iushrn(1)),J=this.pow(N,j),le=W;0!==J.cmp(G);){for(var fe=J,ce=0;0!==fe.cmp(G);ce++)fe=fe.redSqr();r(ce<le);var ge=this.pow(ee,new u(1).iushln(le-ce-1));re=re.redMul(ge),ee=ge.redSqr(),J=J.redMul(ee),le=ce}return re},B.prototype.invm=function(N){var H=N._invmp(this.m);return 0!==H.negative?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},B.prototype.pow=function(N,H){if(H.isZero())return new u(1).toRed(this);if(0===H.cmpn(1))return N.clone();var $=new Array(16);$[0]=new u(1).toRed(this),$[1]=N;for(var j=2;j<$.length;j++)$[j]=this.mul($[j-1],N);var W=$[0],G=0,ae=0,te=H.bitLength()%26;for(0===te&&(te=26),j=H.length-1;j>=0;j--){for(var Q=H.words[j],ee=te-1;ee>=0;ee--){var re=Q>>ee&1;W!==$[0]&&(W=this.sqr(W)),0!==re||0!==G?(G<<=1,G|=re,(4==++ae||0===j&&0===ee)&&(W=this.mul(W,$[G]),ae=0,G=0)):ae=0}te=26}return W},B.prototype.convertTo=function(N){var H=N.umod(this.m);return H===N?H.clone():H},B.prototype.convertFrom=function(N){var H=N.clone();return H.red=null,H},u.mont=function(N){return new q(N)},o(q,B),q.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},q.prototype.convertFrom=function(N){var H=this.imod(N.mul(this.rinv));return H.red=null,H},q.prototype.imul=function(N,H){if(N.isZero()||H.isZero())return N.words[0]=0,N.length=1,N;var $=N.imul(H),j=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=$.isub(j).iushrn(this.shift),G=W;return W.cmp(this.m)>=0?G=W.isub(this.m):W.cmpn(0)<0&&(G=W.iadd(this.m)),G._forceRed(this)},q.prototype.mul=function(N,H){if(N.isZero()||H.isZero())return new u(0)._forceRed(this);var $=N.mul(H),j=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=$.isub(j).iushrn(this.shift),G=W;return W.cmp(this.m)>=0?G=W.isub(this.m):W.cmpn(0)<0&&(G=W.iadd(this.m)),G._forceRed(this)},q.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}}(d=t.nmd(d),this)},6204:function(d){"use strict";d.exports=function(s){var t,i,n,r=s.length,o=0;for(t=0;t<r;++t)o+=s[t].length;var u=new Array(o),l=0;for(t=0;t<r;++t){var h=s[t],c=h.length;for(i=0;i<c;++i){var b=u[l++]=new Array(c-1),p=0;for(n=0;n<c;++n)n!==i&&(b[p++]=h[n]);if(1&i){var m=b[1];b[1]=b[0],b[0]=m}}}return u}},6867:function(d,s,t){"use strict";d.exports=function(b,p,m){switch(arguments.length){case 1:return i=[],h(v=b,v,c,!0),i;case 2:return"function"==typeof p?h(b,b,p,!0):(i=[],h(b,p,c,!1),i);case 3:return h(b,p,m,!1);default:throw new Error("box-intersect: Invalid arguments")}var v};var i,n=t(1888),r=t(855),o=t(7150);function u(b,p){for(var m=0;m<b;++m)if(!(p[m]<=p[m+b]))return!0;return!1}function l(b,p,m,v){for(var x=0,y=0,w=0,f=b.length;w<f;++w){var C=b[w];if(!u(p,C)){for(var T=0;T<2*p;++T)m[x++]=C[T];v[y++]=w}}return y}function h(b,p,m,v){var x=b.length,y=p.length;if(!(x<=0||y<=0)){var w=b[0].length>>>1;if(!(w<=0)){var f,C=n.mallocDouble(2*w*x),T=n.mallocInt32(x);if((x=l(b,w,C,T))>0){if(1===w&&v)r.init(x),f=r.sweepComplete(w,m,0,x,C,T,0,x,C,T);else{var D=n.mallocDouble(2*w*y),R=n.mallocInt32(y);(y=l(p,w,D,R))>0&&(r.init(x+y),f=1===w?r.sweepBipartite(w,m,0,x,C,T,0,y,D,R):o(w,m,v,x,C,T,y,D,R),n.free(D),n.free(R))}n.free(C),n.free(T)}return f}}}function c(b,p){i.push([b,p])}},2455:function(d,s){"use strict";function t(i){return i?function(n,r,o,u,l,h,c,b,p,m,v){return l-u>p-b?function(x,y,w,f,C,T,D,R,P,O,B){for(var q=2*x,N=f,H=q*f;N<C;++N,H+=q){var $=T[y+H],j=T[y+H+x],W=D[N];e:for(var G=R,ae=q*R;G<P;++G,ae+=q){var ee=B[G];if(!(O[y+ae+x]<$||j<O[y+ae])){for(var re=y+1;re<x;++re)if(T[re+x+H]<O[re+ae]||O[re+x+ae]<T[re+H])continue e;var ge=w(W,ee);if(void 0!==ge)return ge}}}}(n,r,o,u,l,h,c,b,p,m,v):function(x,y,w,f,C,T,D,R,P,O,B){for(var q=2*x,N=R,H=q*R;N<P;++N,H+=q){var $=O[y+H],j=O[y+H+x],W=B[N];e:for(var G=f,ae=q*f;G<C;++G,ae+=q){var ee=D[G];if(!(j<T[y+ae]||T[y+ae+x]<$)){for(var re=y+1;re<x;++re)if(T[re+x+ae]<O[re+H]||O[re+x+H]<T[re+ae])continue e;var ge=w(ee,W);if(void 0!==ge)return ge}}}}(n,r,o,u,l,h,c,b,p,m,v)}:function(n,r,o,u,l,h,c,b,p,m,v,x){return h-l>m-p?u?function(y,w,f,C,T,D,R,P,O,B,q){for(var N=2*y,H=C,$=N*C;H<T;++H,$+=N){var j=D[w+$],W=D[w+$+y],G=R[H];e:for(var ae=P,te=N*P;ae<O;++ae,te+=N){var Q=B[w+te],ee=q[ae];if(!(Q<=j||W<Q)){for(var re=w+1;re<y;++re)if(D[re+y+$]<B[re+te]||B[re+y+te]<D[re+$])continue e;var ge=f(ee,G);if(void 0!==ge)return ge}}}}(n,r,o,l,h,c,b,p,m,v,x):function(y,w,f,C,T,D,R,P,O,B,q){for(var N=2*y,H=C,$=N*C;H<T;++H,$+=N){var j=D[w+$],W=D[w+$+y],G=R[H];e:for(var ae=P,te=N*P;ae<O;++ae,te+=N){var Q=B[w+te],ee=q[ae];if(!(Q<j||W<Q)){for(var re=w+1;re<y;++re)if(D[re+y+$]<B[re+te]||B[re+y+te]<D[re+$])continue e;var ge=f(G,ee);if(void 0!==ge)return ge}}}}(n,r,o,l,h,c,b,p,m,v,x):u?function(y,w,f,C,T,D,R,P,O,B,q){for(var N=2*y,H=P,$=N*P;H<O;++H,$+=N){var j=B[w+$],W=q[H];e:for(var G=C,ae=N*C;G<T;++G,ae+=N){var ee=R[G];if(!(j<=D[w+ae]||D[w+ae+y]<j)){for(var re=w+1;re<y;++re)if(D[re+y+ae]<B[re+$]||B[re+y+$]<D[re+ae])continue e;var ge=f(W,ee);if(void 0!==ge)return ge}}}}(n,r,o,l,h,c,b,p,m,v,x):function(y,w,f,C,T,D,R,P,O,B,q){for(var N=2*y,H=P,$=N*P;H<O;++H,$+=N){var j=B[w+$],W=q[H];e:for(var G=C,ae=N*C;G<T;++G,ae+=N){var ee=R[G];if(!(j<D[w+ae]||D[w+ae+y]<j)){for(var re=w+1;re<y;++re)if(D[re+y+ae]<B[re+$]||B[re+y+$]<D[re+ae])continue e;var ge=f(ee,W);if(void 0!==ge)return ge}}}}(n,r,o,l,h,c,b,p,m,v,x)}}s.partial=t(!1),s.full=t(!0)},7150:function(d,s,t){"use strict";d.exports=function(N,H,$,j,W,G,ae,te,Q){!function(Ve,Ne){var We=8*n.log2(Ne+1)*(Ve+1)|0,Xe=n.nextPow2(T*We);R.length<Xe&&(i.free(R),R=i.mallocInt32(Xe));var nt=n.nextPow2(D*We);P.length<nt&&(i.free(P),P=i.mallocDouble(nt))}(N,j+ae);var ee,re=0,J=2*N;for(O(re++,0,0,j,0,ae,$?16:0,-1/0,1/0),$||O(re++,0,0,ae,0,j,1,-1/0,1/0);re>0;){var le=(re-=1)*T,fe=R[le],ce=R[le+1],ge=R[le+2],Te=R[le+3],Me=R[le+4],we=R[le+5],xe=re*D,be=P[xe],ye=P[xe+1],Se=1&we,Ee=!!(16&we),he=W,ue=G,me=te,Pe=Q;if(Se&&(he=te,ue=Q,me=W,Pe=G),!(2&we&&ce>=(ge=y(N,fe,ce,ge,he,ue,ye))||4&we&&(ce=w(N,fe,ce,ge,he,ue,be))>=ge)){var Ce=ge-ce,Ie=Me-Te;if(Ee){if(N*Ce*(Ce+Ie)<m){if(void 0!==(ee=l.scanComplete(N,fe,H,ce,ge,he,ue,Te,Me,me,Pe)))return ee;continue}}else{if(N*Math.min(Ce,Ie)<b){if(void 0!==(ee=o(N,fe,H,Se,ce,ge,he,ue,Te,Me,me,Pe)))return ee;continue}if(N*Ce*Ie<p){if(void 0!==(ee=l.scanBipartite(N,fe,H,Se,ce,ge,he,ue,Te,Me,me,Pe)))return ee;continue}}var Oe=v(N,fe,ce,ge,he,ue,be,ye);if(ce<Oe)if(N*(Oe-ce)<b){if(void 0!==(ee=u(N,fe+1,H,ce,Oe,he,ue,Te,Me,me,Pe)))return ee}else if(fe===N-2){if(void 0!==(ee=Se?l.sweepBipartite(N,H,Te,Me,me,Pe,ce,Oe,he,ue):l.sweepBipartite(N,H,ce,Oe,he,ue,Te,Me,me,Pe)))return ee}else O(re++,fe+1,ce,Oe,Te,Me,Se,-1/0,1/0),O(re++,fe+1,Te,Me,ce,Oe,1^Se,-1/0,1/0);if(Oe<ge){var ze=h(N,fe,Te,Me,me,Pe),je=me[J*ze+fe],ve=x(N,fe,ze,Me,me,Pe,je);if(ve<Me&&O(re++,fe,Oe,ge,ve,Me,(4|Se)+(Ee?16:0),je,ye),Te<ze&&O(re++,fe,Oe,ge,Te,ze,(2|Se)+(Ee?16:0),be,je),ze+1===ve){if(void 0!==(ee=Ee?q(N,fe,H,Oe,ge,he,ue,ze,me,Pe[ze]):B(N,fe,H,Se,Oe,ge,he,ue,ze,me,Pe[ze])))return ee}else if(ze<ve){var Ae;if(Ee){if(Oe<(Ae=f(N,fe,Oe,ge,he,ue,je))){var Le=x(N,fe,Oe,Ae,he,ue,je);if(fe===N-2){if(Oe<Le&&void 0!==(ee=l.sweepComplete(N,H,Oe,Le,he,ue,ze,ve,me,Pe))||Le<Ae&&void 0!==(ee=l.sweepBipartite(N,H,Le,Ae,he,ue,ze,ve,me,Pe)))return ee}else Oe<Le&&O(re++,fe+1,Oe,Le,ze,ve,16,-1/0,1/0),Le<Ae&&(O(re++,fe+1,Le,Ae,ze,ve,0,-1/0,1/0),O(re++,fe+1,ze,ve,Le,Ae,1,-1/0,1/0))}}else Oe<(Ae=Se?C(N,fe,Oe,ge,he,ue,je):f(N,fe,Oe,ge,he,ue,je))&&(fe===N-2?ee=Se?l.sweepBipartite(N,H,ze,ve,me,Pe,Oe,Ae,he,ue):l.sweepBipartite(N,H,Oe,Ae,he,ue,ze,ve,me,Pe):(O(re++,fe+1,Oe,Ae,ze,ve,Se,-1/0,1/0),O(re++,fe+1,ze,ve,Oe,Ae,1^Se,-1/0,1/0)))}}}}};var i=t(1888),n=t(8828),r=t(2455),o=r.partial,u=r.full,l=t(855),h=t(3545),c=t(8105),b=128,p=1<<22,m=1<<22,v=c("!(lo>=p0)&&!(p1>=hi)"),x=c("lo===p0"),y=c("lo<p0"),w=c("hi<=p0"),f=c("lo<=p0&&p0<=hi"),C=c("lo<p0&&p0<=hi"),T=6,D=2,R=i.mallocInt32(1024),P=i.mallocDouble(1024);function O(N,H,$,j,W,G,ae,te,Q){var ee=T*N;R[ee]=H,R[ee+1]=$,R[ee+2]=j,R[ee+3]=W,R[ee+4]=G,R[ee+5]=ae;var re=D*N;P[re]=te,P[re+1]=Q}function B(N,H,$,j,W,G,ae,te,Q,ee,re){var J=2*N,le=Q*J,fe=ee[le+H];e:for(var ce=W,ge=W*J;ce<G;++ce,ge+=J){var Te=ae[ge+H],Me=ae[ge+H+N];if(!(fe<Te||Me<fe||j&&fe===Te)){for(var we,xe=te[ce],be=H+1;be<N;++be)if(Te=ae[ge+be],(Me=ae[ge+be+N])<ee[le+be]||ee[le+be+N]<Te)continue e;if(void 0!==(we=j?$(re,xe):$(xe,re)))return we}}}function q(N,H,$,j,W,G,ae,te,Q,ee){var re=2*N,J=te*re,le=Q[J+H];e:for(var fe=j,ce=j*re;fe<W;++fe,ce+=re){var ge=ae[fe];if(ge!==ee){var Te=G[ce+H],Me=G[ce+H+N];if(!(le<Te||Me<le)){for(var we=H+1;we<N;++we)if(Te=G[ce+we],(Me=G[ce+we+N])<Q[J+we]||Q[J+we+N]<Te)continue e;var ye=$(ge,ee);if(void 0!==ye)return ye}}}}},3545:function(d,s,t){"use strict";d.exports=function(o,u,l,h,c,b){if(h<=l+1)return l;for(var p=l,m=h,v=h+l>>>1,x=2*o,y=v,w=c[x*v+u];p<m;){if(m-p<n){r(o,u,p,m,c,b),w=c[x*v+u];break}var f=m-p,C=Math.random()*f+p|0,T=c[x*C+u],D=Math.random()*f+p|0,R=c[x*D+u],P=Math.random()*f+p|0,O=c[x*P+u];T<=R?O>=R?(y=D,w=R):T>=O?(y=C,w=T):(y=P,w=O):R>=O?(y=D,w=R):O>=T?(y=C,w=T):(y=P,w=O);for(var B=x*(m-1),q=x*y,N=0;N<x;++N,++B,++q){var H=c[B];c[B]=c[q],c[q]=H}var $=b[m-1];for(b[m-1]=b[y],b[y]=$,B=x*(m-1),q=x*(y=i(o,u,p,m-1,c,b,w)),N=0;N<x;++N,++B,++q)H=c[B],c[B]=c[q],c[q]=H;if($=b[m-1],b[m-1]=b[y],b[y]=$,v<y){for(m=y-1;p<m&&c[x*(m-1)+u]===w;)m-=1;m+=1}else{if(!(y<v))break;for(p=y+1;p<m&&c[x*p+u]===w;)p+=1}}return i(o,u,l,v,c,b,c[x*v+u])};var i=t(8105)("lo<p0"),n=8;function r(o,u,l,h,c,b){for(var p=2*o,m=p*(l+1)+u,v=l+1;v<h;++v,m+=p)for(var x=c[m],y=v,w=p*(v-1);y>l&&c[w+u]>x;--y,w-=p){for(var f=w,C=w+p,T=0;T<p;++T,++f,++C){var D=c[f];c[f]=c[C],c[C]=D}var R=b[y];b[y]=b[y-1],b[y-1]=R}}},8105:function(d){"use strict";d.exports=function(t){return s[t]};var s={"lo===p0":function(t,i,n,r,o,u,l){for(var h=2*t,c=h*n,b=c,p=n,m=i,v=n;r>v;++v,c+=h)if(o[c+m]===l)if(p===v)p+=1,b+=h;else{for(var x=0;h>x;++x){var y=o[c+x];o[c+x]=o[b],o[b++]=y}var w=u[v];u[v]=u[p],u[p++]=w}return p},"lo<p0":function(t,i,n,r,o,u,l){for(var h=2*t,c=h*n,b=c,p=n,m=i,v=n;r>v;++v,c+=h)if(o[c+m]<l)if(p===v)p+=1,b+=h;else{for(var x=0;h>x;++x){var y=o[c+x];o[c+x]=o[b],o[b++]=y}var w=u[v];u[v]=u[p],u[p++]=w}return p},"lo<=p0":function(t,i,n,r,o,u,l){for(var h=2*t,c=h*n,b=c,p=n,m=t+i,v=n;r>v;++v,c+=h)if(o[c+m]<=l)if(p===v)p+=1,b+=h;else{for(var x=0;h>x;++x){var y=o[c+x];o[c+x]=o[b],o[b++]=y}var w=u[v];u[v]=u[p],u[p++]=w}return p},"hi<=p0":function(t,i,n,r,o,u,l){for(var h=2*t,c=h*n,b=c,p=n,m=t+i,v=n;r>v;++v,c+=h)if(o[c+m]<=l)if(p===v)p+=1,b+=h;else{for(var x=0;h>x;++x){var y=o[c+x];o[c+x]=o[b],o[b++]=y}var w=u[v];u[v]=u[p],u[p++]=w}return p},"lo<p0&&p0<=hi":function(t,i,n,r,o,u,l){for(var h=2*t,c=h*n,b=c,p=n,m=i,v=t+i,x=n;r>x;++x,c+=h)if(o[c+m]<l&&l<=o[c+v])if(p===x)p+=1,b+=h;else{for(var f=0;h>f;++f){var C=o[c+f];o[c+f]=o[b],o[b++]=C}var T=u[x];u[x]=u[p],u[p++]=T}return p},"lo<=p0&&p0<=hi":function(t,i,n,r,o,u,l){for(var h=2*t,c=h*n,b=c,p=n,m=i,v=t+i,x=n;r>x;++x,c+=h)if(o[c+m]<=l&&l<=o[c+v])if(p===x)p+=1,b+=h;else{for(var f=0;h>f;++f){var C=o[c+f];o[c+f]=o[b],o[b++]=C}var T=u[x];u[x]=u[p],u[p++]=T}return p},"!(lo>=p0)&&!(p1>=hi)":function(t,i,n,r,o,u,l,h){for(var c=2*t,b=c*n,p=b,m=n,v=i,x=t+i,y=n;r>y;++y,b+=c)if(!(o[b+v]>=l||h>=o[b+x]))if(m===y)m+=1,p+=c;else{for(var C=0;c>C;++C){var T=o[b+C];o[b+C]=o[p],o[p++]=T}var D=u[y];u[y]=u[m],u[m++]=D}return m}}},1811:function(d){"use strict";d.exports=function(c,b){b<=4*s?t(0,b-1,c):h(0,b-1,c)};var s=32;function t(c,b,p){for(var m=2*(c+1),v=c+1;v<=b;++v){for(var x=p[m++],y=p[m++],w=v,f=m-2;w-- >c;){var C=p[f-2],T=p[f-1];if(C<x||C===x&&T<y)break;p[f]=C,p[f+1]=T,f-=2}p[f]=x,p[f+1]=y}}function i(c,b,p){var m=p[c*=2],v=p[c+1];p[c]=p[b*=2],p[c+1]=p[b+1],p[b]=m,p[b+1]=v}function n(c,b,p){p[c*=2]=p[b*=2],p[c+1]=p[b+1]}function r(c,b,p,m){p*=2;var v=m[c*=2],x=m[c+1];m[c]=m[b*=2],m[c+1]=m[b+1],m[b]=m[p],m[b+1]=m[p+1],m[p]=v,m[p+1]=x}function o(c,b,p,m,v){v[c*=2]=v[b*=2],v[b]=p,v[c+1]=v[b+1],v[b+1]=m}function u(c,b,p){var m=p[c*=2],v=p[b*=2];return!(m<v)&&(m!==v||p[c+1]>p[b+1])}function l(c,b,p,m){var v=m[c*=2];return v<b||v===b&&m[c+1]<p}function h(c,b,p){var m=(b-c+1)/6|0,v=c+m,x=b-m,y=c+b>>1,w=y-m,f=y+m,C=v,T=w,D=y,R=f,P=x,O=c+1,B=b-1,q=0;u(C,T,p)&&(q=C,C=T,T=q),u(R,P,p)&&(q=R,R=P,P=q),u(C,D,p)&&(q=C,C=D,D=q),u(T,D,p)&&(q=T,T=D,D=q),u(C,R,p)&&(q=C,C=R,R=q),u(D,R,p)&&(q=D,D=R,R=q),u(T,P,p)&&(q=T,T=P,P=q),u(T,D,p)&&(q=T,T=D,D=q),u(R,P,p)&&(q=R,R=P,P=q);for(var N=p[2*T],H=p[2*T+1],$=p[2*R],j=p[2*R+1],W=2*C,G=2*D,ae=2*P,te=2*v,Q=2*y,ee=2*x,re=0;re<2;++re){var le=p[G+re],fe=p[ae+re];p[te+re]=p[W+re],p[Q+re]=le,p[ee+re]=fe}n(w,c,p),n(f,b,p);for(var ce=O;ce<=B;++ce)if(l(ce,N,H,p))ce!==O&&i(ce,O,p),++O;else if(!l(ce,$,j,p))for(;;){if(l(B,$,j,p)){l(B,N,H,p)?(r(ce,O,B,p),++O,--B):(i(ce,B,p),--B);break}if(--B<ce)break}o(c,O-1,N,H,p),o(b,B+1,$,j,p),O-2-c<=s?t(c,O-2,p):h(c,O-2,p),b-(B+2)<=s?t(B+2,b,p):h(B+2,b,p),B-O<=s?t(O,B,p):h(O,B,p)}},855:function(d,s,t){"use strict";d.exports={init:function(w){var f=n.nextPow2(w);l.length<f&&(i.free(l),l=i.mallocInt32(f)),h.length<f&&(i.free(h),h=i.mallocInt32(f)),c.length<f&&(i.free(c),c=i.mallocInt32(f)),b.length<f&&(i.free(b),b=i.mallocInt32(f)),p.length<f&&(i.free(p),p=i.mallocInt32(f)),m.length<f&&(i.free(m),m=i.mallocInt32(f));var C=8*f;v.length<C&&(i.free(v),v=i.mallocDouble(C))},sweepBipartite:function(w,f,C,T,D,R,P,O,B,q){for(var N=0,H=2*w,$=w-1,j=H-1,W=C;W<T;++W){var G=R[W],ae=H*W;v[N++]=D[ae+$],v[N++]=-(G+1),v[N++]=D[ae+j],v[N++]=G}for(W=P;W<O;++W){G=q[W]+o;var te=H*W;v[N++]=B[te+$],v[N++]=-G,v[N++]=B[te+j],v[N++]=G}var Q=N>>>1;r(v,Q);var ee=0,re=0;for(W=0;W<Q;++W){var J=0|v[2*W+1];if(J>=o)x(c,b,re--,J=J-o|0);else if(J>=0)x(l,h,ee--,J);else if(J<=-o){J=-J-o|0;for(var le=0;le<ee;++le)if(void 0!==(fe=f(l[le],J)))return fe;y(c,b,re++,J)}else{for(J=-J-1|0,le=0;le<re;++le){var fe;if(void 0!==(fe=f(J,c[le])))return fe}y(l,h,ee++,J)}}},sweepComplete:function(w,f,C,T,D,R,P,O,B,q){for(var N=0,H=2*w,$=w-1,j=H-1,W=C;W<T;++W){var G=R[W]+1<<1,ae=H*W;v[N++]=D[ae+$],v[N++]=-G,v[N++]=D[ae+j],v[N++]=G}for(W=P;W<O;++W){G=q[W]+1<<1;var te=H*W;v[N++]=B[te+$],v[N++]=1|-G,v[N++]=B[te+j],v[N++]=1|G}var Q=N>>>1;r(v,Q);var ee=0,re=0,J=0;for(W=0;W<Q;++W){var le=0|v[2*W+1],fe=1&le;if(W<Q-1&&le>>1==v[2*W+3]>>1&&(fe=2,W+=1),le<0){for(var ce=-(le>>1)-1,ge=0;ge<J;++ge)if(void 0!==(Te=f(p[ge],ce)))return Te;if(0!==fe)for(ge=0;ge<ee;++ge)if(void 0!==(Te=f(l[ge],ce)))return Te;if(1!==fe)for(ge=0;ge<re;++ge){var Te;if(void 0!==(Te=f(c[ge],ce)))return Te}0===fe?y(l,h,ee++,ce):1===fe?y(c,b,re++,ce):2===fe&&y(p,m,J++,ce)}else ce=(le>>1)-1,0===fe?x(l,h,ee--,ce):1===fe?x(c,b,re--,ce):2===fe&&x(p,m,J--,ce)}},scanBipartite:function(w,f,C,T,D,R,P,O,B,q,N,H){var $=0,j=2*w,W=f,G=f+w,ae=1,te=1;T?te=o:ae=o;for(var Q=D;Q<R;++Q){var ee=Q+ae,re=j*Q;v[$++]=P[re+W],v[$++]=-ee,v[$++]=P[re+G],v[$++]=ee}for(Q=B;Q<q;++Q)ee=Q+te,v[$++]=N[j*Q+W],v[$++]=-ee;var le=$>>>1;r(v,le);var fe=0;for(Q=0;Q<le;++Q){var ce=0|v[2*Q+1];if(ce<0){var ge=!1;if((ee=-ce)>=o?(ge=!T,ee-=o):(ge=!!T,ee-=1),ge)y(l,h,fe++,ee);else{var Te=H[ee],Me=j*ee,we=N[Me+f+1],xe=N[Me+f+1+w];e:for(var be=0;be<fe;++be){var ye=l[be],Se=j*ye;if(!(xe<P[Se+f+1]||P[Se+f+1+w]<we)){for(var Ee=f+2;Ee<w;++Ee)if(N[Me+Ee+w]<P[Se+Ee]||P[Se+Ee+w]<N[Me+Ee])continue e;var he,ue=O[ye];if(void 0!==(he=T?C(Te,ue):C(ue,Te)))return he}}}}else x(l,h,fe--,ce-ae)}},scanComplete:function(w,f,C,T,D,R,P,O,B,q,N){for(var H=0,$=2*w,j=f,W=f+w,G=T;G<D;++G){var ae=G+o,te=$*G;v[H++]=R[te+j],v[H++]=-ae,v[H++]=R[te+W],v[H++]=ae}for(G=O;G<B;++G)ae=G+1,v[H++]=q[$*G+j],v[H++]=-ae;var ee=H>>>1;r(v,ee);var re=0;for(G=0;G<ee;++G){var J=0|v[2*G+1];if(J<0)if((ae=-J)>=o)l[re++]=ae-o;else{var le=N[ae-=1],fe=$*ae,ce=q[fe+f+1],ge=q[fe+f+1+w];e:for(var Te=0;Te<re;++Te){var Me=l[Te],we=P[Me];if(we===le)break;var xe=$*Me;if(!(ge<R[xe+f+1]||R[xe+f+1+w]<ce)){for(var be=f+2;be<w;++be)if(q[fe+be+w]<R[xe+be]||R[xe+be+w]<q[fe+be])continue e;var ye=C(we,le);if(void 0!==ye)return ye}}}else{for(ae=J-o,Te=re-1;Te>=0;--Te)if(l[Te]===ae){for(be=Te+1;be<re;++be)l[be-1]=l[be];break}--re}}}};var i=t(1888),n=t(8828),r=t(1811),o=1<<28,u=1024,l=i.mallocInt32(u),h=i.mallocInt32(u),c=i.mallocInt32(u),b=i.mallocInt32(u),p=i.mallocInt32(u),m=i.mallocInt32(u),v=i.mallocDouble(8192);function x(w,f,C,T){var D=f[T],R=w[C-1];w[D]=R,f[R]=D}function y(w,f,C,T){w[C]=T,f[T]=C}},2538:function(d,s,t){"use strict";var i=t(8902),n=t(5542),r=t(2272),o=t(5023);function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,b){return c[0]-b[0]||c[1]-b[1]}function h(c,b,p){return b in c?c[b]:p}d.exports=function(c,b,p){Array.isArray(b)?(p=p||{},b=b||[]):(p=b||{},b=[]);var m=!!h(p,"delaunay",!0),v=!!h(p,"interior",!0),x=!!h(p,"exterior",!0),y=!!h(p,"infinity",!1);if(!v&&!x||0===c.length)return[];var w=i(c,b);if(m||v!==x||y){for(var f=n(c.length,b.map(u).sort(l)),C=0;C<w.length;++C){var T=w[C];f.addTriangle(T[0],T[1],T[2])}return m&&r(c,f),x?v?y?o(f,0,y):f.cells():o(f,1,y):o(f,-1)}return w}},2272:function(d,s,t){"use strict";var i=t(2646)[4];function n(r,o,u,l,h,c){var b=o.opposite(l,h);if(!(b<0)){if(h<l){var p=l;l=h,h=p,p=c,c=b,b=p}o.isConstraint(l,h)||i(r[l],r[h],r[c],r[b])<0&&u.push(l,h)}}t(2478),d.exports=function(r,o){for(var u=[],l=r.length,h=o.stars,c=0;c<l;++c)for(var b=h[c],p=1;p<b.length;p+=2)if(!((y=b[p])<c||o.isConstraint(c,y))){for(var m=b[p-1],v=-1,x=1;x<b.length;x+=2)if(b[x-1]===y){v=b[x];break}v<0||i(r[c],r[y],r[m],r[v])<0&&u.push(c,y)}for(;u.length>0;){for(var y=u.pop(),w=(m=-1,v=-1,b=h[c=u.pop()],1);w<b.length;w+=2){var f=b[w-1],C=b[w];f===y?v=C:C===y&&(m=f)}m<0||v<0||i(r[c],r[y],r[m],r[v])>=0||(o.flip(c,y),n(r,o,u,m,c,v),n(r,o,u,c,v,m),n(r,o,u,v,y,m),n(r,o,u,y,m,v))}}},5023:function(d,s,t){"use strict";var i,n=t(2478);function r(u,l,h,c,b,p,m){this.cells=u,this.neighbor=l,this.flags=c,this.constraint=h,this.active=b,this.next=p,this.boundary=m}function o(u,l){return u[0]-l[0]||u[1]-l[1]||u[2]-l[2]}d.exports=function(u,l,h){var c=function(P,O){for(var B=P.cells(),q=B.length,N=0;N<q;++N){var H=(J=B[N])[0],$=J[1],j=J[2];$<j?$<H&&(J[0]=$,J[1]=j,J[2]=H):j<H&&(J[0]=j,J[1]=H,J[2]=$)}B.sort(o);var W=new Array(q);for(N=0;N<W.length;++N)W[N]=0;var G=[],ae=[],te=new Array(3*q),Q=new Array(3*q),ee=null;O&&(ee=[]);var re=new r(B,te,Q,W,G,ae,ee);for(N=0;N<q;++N)for(var J=B[N],le=0;le<3;++le){var fe=te[3*N+le]=re.locate($=J[(le+1)%3],H=J[le],P.opposite($,H)),ce=Q[3*N+le]=P.isConstraint(H,$);fe<0&&(ce?ae.push(N):(G.push(N),W[N]=1),O&&ee.push([$,H,-1]))}return re}(u,h);if(0===l)return h?c.cells.concat(c.boundary):c.cells;for(var b=1,p=c.active,m=c.next,v=c.flags,x=c.cells,y=c.constraint,w=c.neighbor;p.length>0||m.length>0;){for(;p.length>0;){var f=p.pop();if(v[f]!==-b){v[f]=b;for(var C=0;C<3;++C){var T=w[3*f+C];T>=0&&0===v[T]&&(y[3*f+C]?m.push(T):(p.push(T),v[T]=b))}}}var D=m;m=p,p=D,m.length=0,b=-b}var R=function(P,O,B){for(var q=0,N=0;N<P.length;++N)O[N]===B&&(P[q++]=P[N]);return P.length=q,P}(x,v,l);return h?R.concat(c.boundary):R},r.prototype.locate=(i=[0,0,0],function(u,l,h){var c=u,b=l,p=h;return l<h?l<u&&(c=l,b=h,p=u):h<u&&(c=h,b=u,p=l),c<0?-1:(i[0]=c,i[1]=b,i[2]=p,n.eq(this.cells,i,o))})},8902:function(d,s,t){"use strict";var i=t(2478),n=t(3250)[3];function r(m,v,x,y,w){this.a=m,this.b=v,this.idx=x,this.lowerIds=y,this.upperIds=w}function o(m,v,x,y){this.a=m,this.b=v,this.type=x,this.idx=y}function u(m,v){var x=m.a[0]-v.a[0]||m.a[1]-v.a[1]||m.type-v.type;return x||(0!==m.type&&(x=n(m.a,m.b,v.b))?x:m.idx-v.idx)}function l(m,v){return n(m.a,m.b,v)}function h(m,v,x,y,w){for(var f=i.lt(v,y,l),C=i.gt(v,y,l),T=f;T<C;++T){for(var D=v[T],R=D.lowerIds,P=R.length;P>1&&n(x[R[P-2]],x[R[P-1]],y)>0;)m.push([R[P-1],R[P-2],w]),P-=1;R.length=P,R.push(w);var O=D.upperIds;for(P=O.length;P>1&&n(x[O[P-2]],x[O[P-1]],y)<0;)m.push([O[P-2],O[P-1],w]),P-=1;O.length=P,O.push(w)}}function c(m,v){var x;return(x=m.a[0]<v.a[0]?n(m.a,m.b,v.a):n(v.b,v.a,m.a))?x:(x=v.b[0]<m.b[0]?n(m.a,m.b,v.b):n(v.b,v.a,m.b))||m.idx-v.idx}function b(m,v,x){var y=i.le(m,x,c),w=m[y],f=w.upperIds,C=f[f.length-1];w.upperIds=[C],m.splice(y+1,0,new r(x.a,x.b,x.idx,[C],f))}function p(m,v,x){var y=x.a;x.a=x.b,x.b=y;var w=i.eq(m,x,c);m[w-1].upperIds=m[w].upperIds,m.splice(w,1)}d.exports=function(m,v){for(var x=m.length,y=v.length,w=[],f=0;f<x;++f)w.push(new o(m[f],null,0,f));for(f=0;f<y;++f){var C=v[f],T=m[C[0]],D=m[C[1]];T[0]<D[0]?w.push(new o(T,D,2,f),new o(D,T,1,f)):T[0]>D[0]&&w.push(new o(D,T,2,f),new o(T,D,1,f))}w.sort(u);for(var R=w[0].a[0]-(1+Math.abs(w[0].a[0]))*Math.pow(2,-52),P=[new r([R,1],[R,0],-1,[],[],[],[])],O=[],B=(f=0,w.length);f<B;++f){var q=w[f],N=q.type;0===N?h(O,P,m,q.a,q.idx):2===N?b(P,0,q):p(P,0,q)}return O}},5542:function(d,s,t){"use strict";var i=t(2478);function n(u,l){this.stars=u,this.edges=l}d.exports=function(u,l){for(var h=new Array(u),c=0;c<u;++c)h[c]=[];return new n(h,l)};var r=n.prototype;function o(u,l,h){for(var c=1,b=u.length;c<b;c+=2)if(u[c-1]===l&&u[c]===h)return u[c-1]=u[b-2],u[c]=u[b-1],void(u.length=b-2)}r.isConstraint=function(){var u=[0,0];function l(h,c){return h[0]-c[0]||h[1]-c[1]}return function(h,c){return u[0]=Math.min(h,c),u[1]=Math.max(h,c),i.eq(this.edges,u,l)>=0}}(),r.removeTriangle=function(u,l,h){var c=this.stars;o(c[u],l,h),o(c[l],h,u),o(c[h],u,l)},r.addTriangle=function(u,l,h){var c=this.stars;c[u].push(l,h),c[l].push(h,u),c[h].push(u,l)},r.opposite=function(u,l){for(var h=this.stars[l],c=1,b=h.length;c<b;c+=2)if(h[c]===u)return h[c-1];return-1},r.flip=function(u,l){var h=this.opposite(u,l),c=this.opposite(l,u);this.removeTriangle(u,l,h),this.removeTriangle(l,u,c),this.addTriangle(u,c,h),this.addTriangle(l,h,c)},r.edges=function(){for(var u=this.stars,l=[],h=0,c=u.length;h<c;++h)for(var b=u[h],p=0,m=b.length;p<m;p+=2)l.push([b[p],b[p+1]]);return l},r.cells=function(){for(var u=this.stars,l=[],h=0,c=u.length;h<c;++h)for(var b=u[h],p=0,m=b.length;p<m;p+=2){var v=b[p],x=b[p+1];h<Math.min(v,x)&&l.push([h,v,x])}return l}},2419:function(d){"use strict";d.exports=function(s){for(var t=1,i=1;i<s.length;++i)for(var n=0;n<i;++n)if(s[i]<s[n])t=-t;else if(s[n]===s[i])return 0;return t}},3628:function(d,s,t){"use strict";var i=t(1338),n=t(727);function r(l,h){for(var c=0,b=l.length,p=0;p<b;++p)c+=l[p]*h[p];return c}function o(l){var h=l.length;if(0===h)return[];var c=i([l.length+1,l.length+1],1),b=i([l.length+1],1);c[h][h]=0;for(var p=0;p<h;++p){for(var m=0;m<=p;++m)c[m][p]=c[p][m]=2*r(l[p],l[m]);b[p]=r(l[p],l[p])}var v=n(c,b),x=0,y=v[h+1];for(p=0;p<y.length;++p)x+=y[p];var w=new Array(h);for(p=0;p<h;++p){y=v[p];var f=0;for(m=0;m<y.length;++m)f+=y[m];w[p]=f/x}return w}function u(l){if(0===l.length)return[];for(var h=l[0].length,c=i([h]),b=o(l),p=0;p<l.length;++p)for(var m=0;m<h;++m)c[m]+=l[p][m]*b[p];return c}u.barycenetric=o,d.exports=u},6037:function(d,s,t){d.exports=function(n){for(var r=i(n),o=0,u=0;u<n.length;++u)for(var l=n[u],h=0;h<r.length;++h)o+=Math.pow(l[h]-r[h],2);return Math.sqrt(o/n.length)};var i=t(3628)},332:function(d,s,t){"use strict";d.exports=function(C,T,D){var R,N,$,j;if(D){R=T;for(var P=new Array(T.length),O=0;O<T.length;++O){var B=T[O];P[O]=[B[0],B[1],D[O]]}T=P}for(var q=($=!!D,void 0,w(T,j=v(N=C,[],m(N)),$),!!j);f(C,T,!!D);)q=!0;if(D&&q)for(R.length=0,D.length=0,O=0;O<T.length;++O)R.push([(B=T[O])[0],B[1]]),D.push(B[2]);return q};var i=t(1755),n=t(6867),r=t(1125),o=t(7842),u=t(1318),l=t(946),h=t(5838),c=t(1278),b=t(3637);function p(C){var T=l(C);return[c(T,-1/0),c(T,1/0)]}function m(C){for(var T=new Array(C.length),D=0;D<C.length;++D){var R=C[D];T[D]=[c(R[0],-1/0),c(R[1],-1/0),c(R[0],1/0),c(R[1],1/0)]}return T}function v(C,T,D){for(var R=T.length,P=new i(R),O=[],B=0;B<T.length;++B){var q=T[B],N=p(q[0]),H=p(q[1]);O.push([c(N[0],-1/0),c(H[0],-1/0),c(N[1],1/0),c(H[1],1/0)])}n(O,function(ae,te){P.link(ae,te)});var $=!0,j=new Array(R);for(B=0;B<R;++B)(G=P.find(B))!==B&&($=!1,C[G]=[Math.min(C[B][0],C[G][0]),Math.min(C[B][1],C[G][1])]);if($)return null;var W=0;for(B=0;B<R;++B){var G;(G=P.find(B))===B?(j[B]=W,C[W++]=C[B]):j[B]=-1}for(C.length=W,B=0;B<R;++B)j[B]<0&&(j[B]=j[P.find(B)]);return j}function x(C,T){return C[0]-T[0]||C[1]-T[1]}function y(C,T){return C[0]-T[0]||C[1]-T[1]||(C[2]<T[2]?-1:C[2]>T[2]?1:0)}function w(C,T,D){if(0!==C.length){if(T)for(var R=0;R<C.length;++R){var P=T[(B=C[R])[0]],O=T[B[1]];B[0]=Math.min(P,O),B[1]=Math.max(P,O)}else for(R=0;R<C.length;++R){var B;P=(B=C[R])[0],O=B[1],B[0]=Math.min(P,O),B[1]=Math.max(P,O)}C.sort(D?y:x);var q=1;for(R=1;R<C.length;++R){var N=C[R-1],H=C[R];(H[0]!==N[0]||H[1]!==N[1]||D&&H[2]!==N[2])&&(C[q++]=H)}C.length=q}}function f(C,T,D){var N,H,j,R=function(N,H){for(var $=new Array(H.length),j=0;j<H.length;++j){var W=H[j],G=N[W[0]],ae=N[W[1]];$[j]=[c(Math.min(G[0],ae[0]),-1/0),c(Math.min(G[1],ae[1]),-1/0),c(Math.max(G[0],ae[0]),1/0),c(Math.max(G[1],ae[1]),1/0)]}return $}(C,T),P=(N=C,H=T,j=[],n(R,function(W,G){var ae=H[W],te=H[G];ae[0]!==te[0]&&ae[0]!==te[1]&&ae[1]!==te[0]&&ae[1]!==te[1]&&r(N[ae[0]],N[ae[1]],N[te[0]],N[te[1]])&&j.push([W,G])}),j),O=function(N,H,$,j){var W=[];return n($,j,function(G,ae){var te=H[G];if(te[0]!==ae&&te[1]!==ae){var Q=N[ae];r(N[te[0]],N[te[1]],Q,Q)&&W.push([G,ae])}}),W}(C,T,R,m(C)),B=function(N,H,$,j,W){var G,ae,te=N.map(function(he){return[o(he[0]),o(he[1])]});for(G=0;G<$.length;++G){var Q=$[G],ee=Q[1],re=H[ae=Q[0]],J=H[ee],le=b(h(N[re[0]]),h(N[re[1]]),h(N[J[0]]),h(N[J[1]]));if(le){var fe=N.length;N.push([l(le[0]),l(le[1])]),te.push(le),j.push([ae,fe],[ee,fe])}}for(j.sort(function(he,ue){if(he[0]!==ue[0])return he[0]-ue[0];var me=te[he[1]],Pe=te[ue[1]];return u(me[0],Pe[0])||u(me[1],Pe[1])}),G=j.length-1;G>=0;--G){var ce=H[ae=(Se=j[G])[0]],ge=ce[0],Te=ce[1],Me=N[ge],we=N[Te];if((Me[0]-we[0]||Me[1]-we[1])<0){var xe=ge;ge=Te,Te=xe}ce[0]=ge;var be,ye=ce[1]=Se[1];for(W&&(be=ce[2]);G>0&&j[G-1][0]===ae;){var Se,Ee=(Se=j[--G])[1];H.push(W?[ye,Ee,be]:[ye,Ee]),ye=Ee}H.push(W?[ye,Te,be]:[ye,Te])}return te}(C,T,P,O,D),q=v(C,B);return w(T,q,D),!!q||P.length>0||O.length>0}},3637:function(d,s,t){"use strict";d.exports=function(b,p,m,v){var x=u(p,b),y=u(v,m),w=c(x,y);if(0===o(w))return null;var f=c(y,u(b,m)),C=n(f,w),T=h(x,C);return l(b,T)};var i=t(6504),n=t(8697),r=t(5572),o=t(7721),u=t(544),l=t(2653),h=t(8987);function c(b,p){return r(i(b[0],p[1]),i(b[1],p[0]))}},3642:function(d){d.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(d,s,t){"use strict";var i=t(3642),n=t(395);function r(l){return[l[0]/255,l[1]/255,l[2]/255,l[3]]}function o(l){for(var h,c="#",b=0;b<3;++b)c+=("00"+(h=(h=l[b]).toString(16))).substr(h.length);return c}function u(l){return"rgba("+l.join(",")+")"}d.exports=function(l){var h,c,b,p,m,v,x,y,w,f;if(l||(l={}),y=(l.nshades||72)-1,x=l.format||"hex",(v=l.colormap)||(v="jet"),"string"==typeof v){if(v=v.toLowerCase(),!i[v])throw Error(v+" not a supported colorscale");m=i[v]}else{if(!Array.isArray(v))throw Error("unsupported colormap option",v);m=v.slice()}if(m.length>y+1)throw new Error(v+" map requires nshades to be at least size "+m.length);w=Array.isArray(l.alpha)?2!==l.alpha.length?[1,1]:l.alpha.slice():"number"==typeof l.alpha?[l.alpha,l.alpha]:[1,1],h=m.map(function(P){return Math.round(P.index*y)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var C=m.map(function(P,O){var B=m[O].index,q=m[O].rgb.slice();return 4===q.length&&q[3]>=0&&q[3]<=1||(q[3]=w[0]+(w[1]-w[0])*B),q}),T=[];for(f=0;f<h.length-1;++f){p=h[f+1]-h[f],c=C[f],b=C[f+1];for(var D=0;D<p;D++){var R=D/p;T.push([Math.round(n(c[0],b[0],R)),Math.round(n(c[1],b[1],R)),Math.round(n(c[2],b[2],R)),n(c[3],b[3],R)])}}return T.push(m[m.length-1].rgb.concat(w[1])),"hex"===x?T=T.map(o):"rgbaString"===x?T=T.map(u):"float"===x&&(T=T.map(r)),T}},3140:function(d,s,t){"use strict";d.exports=function(h,c,b,p){var m=i(c,b,p);if(0===m){var v=n(i(h,c,b)),x=n(i(h,c,p));if(v===x){if(0===v){var y=l(h,c,b);return y===l(h,c,p)?0:y?1:-1}return 0}return 0===x?v>0||l(h,c,p)?-1:1:0===v?x>0||l(h,c,b)?1:-1:n(x-v)}var w=i(h,c,b);return w>0?m>0&&i(h,c,p)>0?1:-1:w<0?m>0||i(h,c,p)>0?1:-1:i(h,c,p)>0||l(h,c,b)?1:-1};var i=t(3250),n=t(8572),r=t(9362),o=t(5382),u=t(8210);function l(h,c,b){var p=r(h[0],-c[0]),m=r(h[1],-c[1]),v=r(b[0],-c[0]),x=r(b[1],-c[1]),y=u(o(p,v),o(m,x));return y[y.length-1]>=0}},8572:function(d){"use strict";d.exports=function(s){return s<0?-1:s>0?1:0}},8507:function(d){d.exports=function(i,n){var r=i.length,o=i.length-n.length;if(o)return o;switch(r){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||s(i[0],i[1])-s(n[0],n[1]);case 3:var u=i[0]+i[1],l=n[0]+n[1];if(o=u+i[2]-(l+n[2]))return o;var h=s(i[0],i[1]),c=s(n[0],n[1]);return s(h,i[2])-s(c,n[2])||s(h+i[2],u)-s(c+n[2],l);case 4:var b=i[0],p=i[1],m=i[2],v=i[3],x=n[0],y=n[1],w=n[2],f=n[3];return b+p+m+v-(x+y+w+f)||s(b,p,m,v)-s(x,y,w,f,x)||s(b+p,b+m,b+v,p+m,p+v,m+v)-s(x+y,x+w,x+f,y+w,y+f,w+f)||s(b+p+m,b+p+v,b+m+v,p+m+v)-s(x+y+w,x+y+f,x+w+f,y+w+f);default:for(var C=i.slice().sort(t),T=n.slice().sort(t),D=0;D<r;++D)if(o=C[D]-T[D])return o;return 0}};var s=Math.min;function t(i,n){return i-n}},3788:function(d,s,t){"use strict";var i=t(8507),n=t(2419);d.exports=function(r,o){return i(r,o)||n(r)-n(o)}},7352:function(d,s,t){"use strict";var i=t(5721),n=t(4750),r=t(2690);d.exports=function(o){var u=o.length;if(0===u)return[];if(1===u)return[[0]];var l=o[0].length;return 0===l?[]:1===l?i(o):2===l?n(o):r(o,l)}},5721:function(d){"use strict";d.exports=function(s){for(var t=0,i=0,n=1;n<s.length;++n)s[n][0]<s[t][0]&&(t=n),s[n][0]>s[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},4750:function(d,s,t){"use strict";d.exports=function(n){var r=i(n),o=r.length;if(o<=2)return[];for(var u=new Array(o),l=r[o-1],h=0;h<o;++h){var c=r[h];u[h]=[l,c],l=c}return u};var i=t(3090)},2690:function(d,s,t){"use strict";d.exports=function(r,o){try{return i(r,!0)}catch{var u=n(r);if(u.length<=o)return[];var l=function(c,b){for(var p=c.length,m=new Array(p),v=0;v<b.length;++v)m[v]=c[b[v]];var x=b.length;for(v=0;v<p;++v)b.indexOf(v)<0&&(m[x++]=c[v]);return m}(r,u);return function(c,b){for(var p=c.length,m=b.length,v=0;v<p;++v)for(var x=c[v],y=0;y<x.length;++y){var w=x[y];if(w<m)x[y]=b[w];else{w-=m;for(var f=0;f<m;++f)w>=b[f]&&(w+=1);x[y]=w}}return c}(i(l,!0),u)}};var i=t(8954),n=t(3952)},4769:function(d){"use strict";d.exports=function(s,t,i,n,r,o){var u=r-1,l=r*r,h=u*u,c=(1+2*r)*h,b=r*h,p=l*(3-2*r),m=l*u;if(s.length){o||(o=new Array(s.length));for(var v=s.length-1;v>=0;--v)o[v]=c*s[v]+b*t[v]+p*i[v]+m*n[v];return o}return c*s+b*t+p*i+m*n},d.exports.derivative=function(s,t,i,n,r,o){var u=6*r*r-6*r,l=3*r*r-4*r+1,h=-6*r*r+6*r,c=3*r*r-2*r;if(s.length){o||(o=new Array(s.length));for(var b=s.length-1;b>=0;--b)o[b]=u*s[b]+l*t[b]+h*i[b]+c*n[b];return o}return u*s+l*t+h*i[b]+c*n}},7642:function(d,s,t){"use strict";var i=t(8954),n=t(1682);function r(u,l){this.point=u,this.index=l}function o(u,l){for(var h=u.point,c=l.point,b=h.length,p=0;p<b;++p){var m=c[p]-h[p];if(m)return m}return 0}d.exports=function(u,l){var h=u.length;if(0===h)return[];var c=u[0].length;if(c<1)return[];if(1===c)return function(B,q,N){if(1===B)return N?[[-1,0]]:[];var H=q.map(function(ae,te){return[ae[0],te]});H.sort(function(ae,te){return ae[0]-te[0]});for(var $=new Array(B-1),j=1;j<B;++j)$[j-1]=[H[j-1][1],H[j][1]];return N&&$.push([-1,$[0][1]],[$[B-1][1],-1]),$}(h,u,l);for(var b=new Array(h),p=1,m=0;m<h;++m){for(var v=u[m],x=new Array(c+1),y=0,w=0;w<c;++w){var f=v[w];x[w]=f,y+=f*f}x[c]=y,b[m]=new r(x,m),p=Math.max(y,p)}n(b,o),h=b.length;var C=new Array(h+c+1),T=new Array(h+c+1),D=(c+1)*(c+1)*p,R=new Array(c+1);for(m=0;m<=c;++m)R[m]=0;for(R[c]=D,C[0]=R.slice(),T[0]=-1,m=0;m<=c;++m)(x=R.slice())[m]=1,C[m+1]=x,T[m+1]=-1;for(m=0;m<h;++m){var P=b[m];C[m+c+1]=P.point,T[m+c+1]=P.index}var O=i(C,!1);if(O=O.filter(l?function(B){for(var q=0,N=0;N<=c;++N){var H=T[B[N]];if(H<0&&++q>=2)return!1;B[N]=H}return!0}:function(B){for(var q=0;q<=c;++q){var N=T[B[q]];if(N<0)return!1;B[q]=N}return!0}),1&c)for(m=0;m<O.length;++m)x=(P=O[m])[0],P[0]=P[1],P[1]=x;return O}},2361:function(d){var s=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,s=!0,1072693248===i[1]?(d.exports=function(r){return t[0]=r,[i[0],i[1]]},d.exports.pack=function(r,o){return i[0]=r,i[1]=o,t[0]},d.exports.lo=function(r){return t[0]=r,i[0]},d.exports.hi=function(r){return t[0]=r,i[1]}):1072693248===i[0]?(d.exports=function(r){return t[0]=r,[i[1],i[0]]},d.exports.pack=function(r,o){return i[1]=r,i[0]=o,t[0]},d.exports.lo=function(r){return t[0]=r,i[1]},d.exports.hi=function(r){return t[0]=r,i[0]}):s=!1}if(!s){var n=new Buffer(8);d.exports=function(r){return n.writeDoubleLE(r,0,!0),[n.readUInt32LE(0,!0),n.readUInt32LE(4,!0)]},d.exports.pack=function(r,o){return n.writeUInt32LE(r,0,!0),n.writeUInt32LE(o,4,!0),n.readDoubleLE(0,!0)},d.exports.lo=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(0,!0)},d.exports.hi=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(4,!0)}}d.exports.sign=function(r){return d.exports.hi(r)>>>31},d.exports.exponent=function(r){return(d.exports.hi(r)<<1>>>21)-1023},d.exports.fraction=function(r){var o=d.exports.lo(r),u=d.exports.hi(r),l=1048575&u;return 2146435072&u&&(l+=1048576),[o,l]},d.exports.denormalized=function(r){return!(2146435072&d.exports.hi(r))}},1338:function(d){"use strict";function s(t,i,n){var r=0|t[n];if(r<=0)return[];var o,u=new Array(r);if(n===t.length-1)for(o=0;o<r;++o)u[o]=i;else for(o=0;o<r;++o)u[o]=s(t,i,n+1);return u}d.exports=function(t,i){switch(void 0===i&&(i=0),typeof t){case"number":if(t>0)return function(n,r){var o,u;for(o=new Array(n),u=0;u<n;++u)o[u]=r;return o}(0|t,i);break;case"object":if("number"==typeof t.length)return s(t,i,0)}return[]}},3134:function(d,s,t){"use strict";d.exports=function(n,r){var o=n.length;if("number"!=typeof r){r=0;for(var u=0;u<o;++u){var l=n[u];r=Math.max(r,l[0],l[1])}r=1+(0|r)}r|=0;var h=new Array(r);for(u=0;u<r;++u)h[u]=[];for(u=0;u<o;++u)h[(l=n[u])[0]].push(l[1]),h[l[1]].push(l[0]);for(var c=0;c<r;++c)i(h[c],function(b,p){return b-p});return h};var i=t(1682)},5033:function(d){"use strict";d.exports=function(s,t,i){var n=t||0,r=i||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[n*s[12]+s[8],n*s[13]+s[9],n*s[14]+s[10],n*s[15]+s[11]],[r*s[12]-s[8],r*s[13]-s[9],r*s[14]-s[10],r*s[15]-s[11]]]}},9215:function(d,s,t){"use strict";d.exports=function(h,c,b){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return"number"==typeof h?new o(p=l(h),p,0):new o(h,l(h.length),0);case 2:var p;if("number"==typeof c)return new o(h,p=l(h.length),+c);b=0;case 3:if(h.length!==c.length)throw new Error("state and velocity lengths must match");return new o(h,c,b)}};var i=t(4769),n=t(2478);function r(h,c,b){return Math.min(c,Math.max(h,b))}function o(h,c,b){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var p=0;p<this.dimension;++p)this.bounds[0][p]=-1/0,this.bounds[1][p]=1/0;this._state=h.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[b],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=o.prototype;function l(h){for(var c=new Array(h),b=0;b<h;++b)c[b]=0;return c}u.flush=function(h){var c=n.gt(this._time,h)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},u.curve=function(h){var c=this._time,b=c.length,p=n.le(c,h),m=this._scratch[0],v=this._state,x=this._velocity,y=this.dimension,w=this.bounds;if(p<0)for(var f=y-1,C=0;C<y;++C,--f)m[C]=v[f];else if(p>=b-1){f=v.length-1;var T=h-c[b-1];for(C=0;C<y;++C,--f)m[C]=v[f]+T*x[f]}else{f=y*(p+1)-1;var D=c[p],R=c[p+1]-D||1,P=this._scratch[1],O=this._scratch[2],B=this._scratch[3],q=this._scratch[4],N=!0;for(C=0;C<y;++C,--f)P[C]=v[f],B[C]=x[f]*R,O[C]=v[f+y],q[C]=x[f+y]*R,N=N&&P[C]===O[C]&&B[C]===q[C]&&0===B[C];if(N)for(C=0;C<y;++C)m[C]=P[C];else i(P,B,O,q,(h-D)/R,m)}var H=w[0],$=w[1];for(C=0;C<y;++C)m[C]=r(H[C],$[C],m[C]);return m},u.dcurve=function(h){var c=this._time,b=c.length,p=n.le(c,h),m=this._scratch[0],v=this._state,x=this._velocity,y=this.dimension;if(p>=b-1)for(var w=v.length-1,f=0;f<y;++f,--w)m[f]=x[w];else{w=y*(p+1)-1;var C=c[p],T=c[p+1]-C||1,D=this._scratch[1],R=this._scratch[2],P=this._scratch[3],O=this._scratch[4],B=!0;for(f=0;f<y;++f,--w)D[f]=v[w],P[f]=x[w]*T,R[f]=v[w+y],O[f]=x[w+y]*T,B=B&&D[f]===R[f]&&P[f]===O[f]&&0===P[f];if(B)for(f=0;f<y;++f)m[f]=0;else for(i.derivative(D,P,R,O,(h-C)/T,m),f=0;f<y;++f)m[f]/=T}return m},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,c=h.length,b=this.dimension-1;b>=0;--b)if(h[--c])return!1;return!0},u.jump=function(h){var c=this.lastT(),b=this.dimension;if(!(h<c||arguments.length!==b+1)){var p=this._state,m=this._velocity,v=p.length-this.dimension,x=this.bounds,y=x[0],w=x[1];this._time.push(c,h);for(var f=0;f<2;++f)for(var C=0;C<b;++C)p.push(p[v++]),m.push(0);for(this._time.push(h),C=b;C>0;--C)p.push(r(y[C-1],w[C-1],arguments[C])),m.push(0)}},u.push=function(h){var c=this.lastT(),b=this.dimension;if(!(h<c||arguments.length!==b+1)){var p=this._state,m=this._velocity,v=p.length-this.dimension,x=h-c,y=this.bounds,w=y[0],f=y[1],C=x>1e-6?1/x:0;this._time.push(h);for(var T=b;T>0;--T){var D=r(w[T-1],f[T-1],arguments[T]);p.push(D),m.push((D-p[v++])*C)}}},u.set=function(h){var c=this.dimension;if(!(h<this.lastT()||arguments.length!==c+1)){var b=this._state,p=this._velocity,m=this.bounds,v=m[0],x=m[1];this._time.push(h);for(var y=c;y>0;--y)b.push(r(v[y-1],x[y-1],arguments[y])),p.push(0)}},u.move=function(h){var c=this.lastT(),b=this.dimension;if(!(h<=c||arguments.length!==b+1)){var p=this._state,m=this._velocity,v=p.length-this.dimension,x=this.bounds,y=x[0],w=x[1],f=h-c,C=f>1e-6?1/f:0;this._time.push(h);for(var T=b;T>0;--T){var D=arguments[T];p.push(r(y[T-1],w[T-1],p[v++]+D)),m.push(D*C)}}},u.idle=function(h){var c=this.lastT();if(!(h<c)){var b=this.dimension,p=this._state,m=this._velocity,v=p.length-b,x=this.bounds,y=x[0],w=x[1],f=h-c;this._time.push(h);for(var C=b-1;C>=0;--C)p.push(r(y[C],w[C],p[v]+f*m[v])),m.push(0),v+=1}}},3840:function(d){"use strict";function s(v,x,y,w,f,C){this._color=v,this.key=x,this.value=y,this.left=w,this.right=f,this._count=C}function t(v){return new s(v._color,v.key,v.value,v.left,v.right,v._count)}function i(v,x){return new s(v,x.key,x.value,x.left,x.right,x._count)}function n(v){v._count=1+(v.left?v.left._count:0)+(v.right?v.right._count:0)}function r(v,x){this._compare=v,this.root=x}d.exports=function(v){return new r(v||m,null)};var o=r.prototype;function u(v,x){var y;return x.left&&(y=u(v,x.left))?y:(y=v(x.key,x.value))||(x.right?u(v,x.right):void 0)}function l(v,x,y,w){var f;return x(v,w.key)<=0&&(w.left&&(f=l(v,x,y,w.left))||(f=y(w.key,w.value)))?f:w.right?l(v,x,y,w.right):void 0}function h(v,x,y,w,f){var C,T=y(v,f.key),D=y(x,f.key);return T<=0&&(f.left&&(C=h(v,x,y,w,f.left))||D>0&&(C=w(f.key,f.value)))?C:D>0&&f.right?h(v,x,y,w,f.right):void 0}function c(v,x){this.tree=v,this._stack=x}Object.defineProperty(o,"keys",{get:function(){var v=[];return this.forEach(function(x,y){v.push(x)}),v}}),Object.defineProperty(o,"values",{get:function(){var v=[];return this.forEach(function(x,y){v.push(y)}),v}}),Object.defineProperty(o,"length",{get:function(){return this.root?this.root._count:0}}),o.insert=function(v,x){for(var y=this._compare,w=this.root,f=[],C=[];w;){var T=y(v,w.key);f.push(w),C.push(T),w=T<=0?w.left:w.right}f.push(new s(0,v,x,null,null,1));for(var D=f.length-2;D>=0;--D)w=f[D],f[D]=C[D]<=0?new s(w._color,w.key,w.value,f[D+1],w.right,w._count+1):new s(w._color,w.key,w.value,w.left,f[D+1],w._count+1);for(D=f.length-1;D>1;--D){var R=f[D-1];if(w=f[D],1===R._color||1===w._color)break;var P=f[D-2];if(P.left===R)if(R.left===w){if(!(O=P.right)||0!==O._color){P._color=0,P.left=R.right,R._color=1,R.right=P,f[D-2]=R,f[D-1]=w,n(P),n(R),D>=3&&((B=f[D-3]).left===P?B.left=R:B.right=R);break}R._color=1,P.right=i(1,O),P._color=0,D-=1}else{if(!(O=P.right)||0!==O._color){R.right=w.left,P._color=0,P.left=w.right,w._color=1,w.left=R,w.right=P,f[D-2]=w,f[D-1]=R,n(P),n(R),n(w),D>=3&&((B=f[D-3]).left===P?B.left=w:B.right=w);break}R._color=1,P.right=i(1,O),P._color=0,D-=1}else if(R.right===w){if(!(O=P.left)||0!==O._color){P._color=0,P.right=R.left,R._color=1,R.left=P,f[D-2]=R,f[D-1]=w,n(P),n(R),D>=3&&((B=f[D-3]).right===P?B.right=R:B.left=R);break}R._color=1,P.left=i(1,O),P._color=0,D-=1}else{var O;if(!(O=P.left)||0!==O._color){var B;R.left=w.right,P._color=0,P.right=w.left,w._color=1,w.right=R,w.left=P,f[D-2]=w,f[D-1]=R,n(P),n(R),n(w),D>=3&&((B=f[D-3]).right===P?B.right=w:B.left=w);break}R._color=1,P.left=i(1,O),P._color=0,D-=1}}return f[0]._color=1,new r(y,f[0])},o.forEach=function(v,x,y){if(this.root)switch(arguments.length){case 1:return u(v,this.root);case 2:return l(x,this._compare,v,this.root);case 3:return this._compare(x,y)>=0?void 0:h(x,y,this._compare,v,this.root)}},Object.defineProperty(o,"begin",{get:function(){for(var v=[],x=this.root;x;)v.push(x),x=x.left;return new c(this,v)}}),Object.defineProperty(o,"end",{get:function(){for(var v=[],x=this.root;x;)v.push(x),x=x.right;return new c(this,v)}}),o.at=function(v){if(v<0)return new c(this,[]);for(var x=this.root,y=[];;){if(y.push(x),x.left){if(v<x.left._count){x=x.left;continue}v-=x.left._count}if(!v)return new c(this,y);if(v-=1,!x.right||v>=x.right._count)break;x=x.right}return new c(this,[])},o.ge=function(v){for(var x=this._compare,y=this.root,w=[],f=0;y;){var C=x(v,y.key);w.push(y),C<=0&&(f=w.length),y=C<=0?y.left:y.right}return w.length=f,new c(this,w)},o.gt=function(v){for(var x=this._compare,y=this.root,w=[],f=0;y;){var C=x(v,y.key);w.push(y),C<0&&(f=w.length),y=C<0?y.left:y.right}return w.length=f,new c(this,w)},o.lt=function(v){for(var x=this._compare,y=this.root,w=[],f=0;y;){var C=x(v,y.key);w.push(y),C>0&&(f=w.length),y=C<=0?y.left:y.right}return w.length=f,new c(this,w)},o.le=function(v){for(var x=this._compare,y=this.root,w=[],f=0;y;){var C=x(v,y.key);w.push(y),C>=0&&(f=w.length),y=C<0?y.left:y.right}return w.length=f,new c(this,w)},o.find=function(v){for(var x=this._compare,y=this.root,w=[];y;){var f=x(v,y.key);if(w.push(y),0===f)return new c(this,w);y=f<=0?y.left:y.right}return new c(this,[])},o.remove=function(v){var x=this.find(v);return x?x.remove():this},o.get=function(v){for(var x=this._compare,y=this.root;y;){var w=x(v,y.key);if(0===w)return y.value;y=w<=0?y.left:y.right}};var b=c.prototype;function p(v,x){v.key=x.key,v.value=x.value,v.left=x.left,v.right=x.right,v._color=x._color,v._count=x._count}function m(v,x){return v<x?-1:v>x?1:0}Object.defineProperty(b,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(b,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),b.clone=function(){return new c(this.tree,this._stack.slice())},b.remove=function(){var v=this._stack;if(0===v.length)return this.tree;var x=new Array(v.length),y=v[v.length-1];x[x.length-1]=new s(y._color,y.key,y.value,y.left,y.right,y._count);for(var w=v.length-2;w>=0;--w)x[w]=(y=v[w]).left===v[w+1]?new s(y._color,y.key,y.value,x[w+1],y.right,y._count):new s(y._color,y.key,y.value,y.left,x[w+1],y._count);if((y=x[x.length-1]).left&&y.right){var f=x.length;for(y=y.left;y.right;)x.push(y),y=y.right;var C=x[f-1];for(x.push(new s(y._color,C.key,C.value,y.left,y.right,y._count)),x[f-1].key=y.key,x[f-1].value=y.value,w=x.length-2;w>=f;--w)x[w]=new s((y=x[w])._color,y.key,y.value,y.left,x[w+1],y._count);x[f-1].left=x[f]}if(0===(y=x[x.length-1])._color){var T=x[x.length-2];for(T.left===y?T.left=null:T.right===y&&(T.right=null),x.pop(),w=0;w<x.length;++w)x[w]._count--;return new r(this.tree._compare,x[0])}if(y.left||y.right){for(y.left?p(y,y.left):y.right&&p(y,y.right),y._color=1,w=0;w<x.length-1;++w)x[w]._count--;return new r(this.tree._compare,x[0])}if(1===x.length)return new r(this.tree._compare,null);for(w=0;w<x.length;++w)x[w]._count--;var D=x[x.length-2];return function(R){for(var P,O,B,q,N=R.length-1;N>=0;--N){if(P=R[N],0===N)return void(P._color=1);if((O=R[N-1]).left===P){if((B=O.right).right&&0===B.right._color)return q=(B=O.right=t(B)).right=t(B.right),O.right=B.left,B.left=O,B.right=q,B._color=O._color,P._color=1,O._color=1,q._color=1,n(O),n(B),N>1&&((H=R[N-2]).left===O?H.left=B:H.right=B),void(R[N-1]=B);if(B.left&&0===B.left._color)return q=(B=O.right=t(B)).left=t(B.left),O.right=q.left,B.left=q.right,q.left=O,q.right=B,q._color=O._color,O._color=1,B._color=1,P._color=1,n(O),n(B),n(q),N>1&&((H=R[N-2]).left===O?H.left=q:H.right=q),void(R[N-1]=q);if(1===B._color){if(0===O._color)return O._color=1,void(O.right=i(0,B));O.right=i(0,B);continue}B=t(B),O.right=B.left,B.left=O,B._color=O._color,O._color=0,n(O),n(B),N>1&&((H=R[N-2]).left===O?H.left=B:H.right=B),R[N-1]=B,R[N]=O,N+1<R.length?R[N+1]=P:R.push(P),N+=2}else{if((B=O.left).left&&0===B.left._color)return q=(B=O.left=t(B)).left=t(B.left),O.left=B.right,B.right=O,B.left=q,B._color=O._color,P._color=1,O._color=1,q._color=1,n(O),n(B),N>1&&((H=R[N-2]).right===O?H.right=B:H.left=B),void(R[N-1]=B);if(B.right&&0===B.right._color)return q=(B=O.left=t(B)).right=t(B.right),O.left=q.right,B.right=q.left,q.right=O,q.left=B,q._color=O._color,O._color=1,B._color=1,P._color=1,n(O),n(B),n(q),N>1&&((H=R[N-2]).right===O?H.right=q:H.left=q),void(R[N-1]=q);if(1===B._color){if(0===O._color)return O._color=1,void(O.left=i(0,B));O.left=i(0,B);continue}var H;B=t(B),O.left=B.right,B.right=O,B._color=O._color,O._color=0,n(O),n(B),N>1&&((H=R[N-2]).right===O?H.right=B:H.left=B),R[N-1]=B,R[N]=O,N+1<R.length?R[N+1]=P:R.push(P),N+=2}}}(x),D.left===y?D.left=null:D.right=null,new r(this.tree._compare,x[0])},Object.defineProperty(b,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(b,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(b,"index",{get:function(){var v=0,x=this._stack;if(0===x.length){var y=this.tree.root;return y?y._count:0}x[x.length-1].left&&(v=x[x.length-1].left._count);for(var w=x.length-2;w>=0;--w)x[w+1]===x[w].right&&(++v,x[w].left&&(v+=x[w].left._count));return v},enumerable:!0}),b.next=function(){var v=this._stack;if(0!==v.length){var x=v[v.length-1];if(x.right)for(x=x.right;x;)v.push(x),x=x.left;else for(v.pop();v.length>0&&v[v.length-1].right===x;)x=v[v.length-1],v.pop()}},Object.defineProperty(b,"hasNext",{get:function(){var v=this._stack;if(0===v.length)return!1;if(v[v.length-1].right)return!0;for(var x=v.length-1;x>0;--x)if(v[x-1].left===v[x])return!0;return!1}}),b.update=function(v){var x=this._stack;if(0===x.length)throw new Error("Can't update empty node!");var y=new Array(x.length),w=x[x.length-1];y[y.length-1]=new s(w._color,w.key,v,w.left,w.right,w._count);for(var f=x.length-2;f>=0;--f)y[f]=(w=x[f]).left===x[f+1]?new s(w._color,w.key,w.value,y[f+1],w.right,w._count):new s(w._color,w.key,w.value,w.left,y[f+1],w._count);return new r(this.tree._compare,y[0])},b.prev=function(){var v=this._stack;if(0!==v.length){var x=v[v.length-1];if(x.left)for(x=x.left;x;)v.push(x),x=x.right;else for(v.pop();v.length>0&&v[v.length-1].left===x;)x=v[v.length-1],v.pop()}},Object.defineProperty(b,"hasPrev",{get:function(){var v=this._stack;if(0===v.length)return!1;if(v[v.length-1].left)return!0;for(var x=v.length-1;x>0;--x)if(v[x-1].right===v[x])return!0;return!1}})},3837:function(d,s,t){"use strict";d.exports=function(T,D){var R=new c(T);return R.update(D),R};var i=t(4935),n=t(501),r=t(5304),o=t(6429),u=t(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function h(T,D){return T[0]=D[0],T[1]=D[1],T[2]=D[2],T}function c(T){this.gl=T,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=r(T)}var b=c.prototype;function p(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}b.update=function(T){function D(Q,ee,re){if(re in T){var J,le=T[re],fe=this[re];this[re]=J=(Q?Array.isArray(le)&&Array.isArray(le[0]):Array.isArray(le))?[ee(le[0]),ee(le[1]),ee(le[2])]:[ee(le),ee(le),ee(le)];for(var ce=0;ce<3;++ce)if(J[ce]!==fe[ce])return!0}return!1}T=T||{};var R,P=D.bind(this,!1,Number),O=D.bind(this,!1,Boolean),B=D.bind(this,!1,String),q=D.bind(this,!0,function(Q){if(Array.isArray(Q)){if(3===Q.length)return[+Q[0],+Q[1],+Q[2],1];if(4===Q.length)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),N=!1,H=!1;if("bounds"in T)for(var $=T.bounds,j=0;j<2;++j)for(var W=0;W<3;++W)$[j][W]!==this.bounds[j][W]&&(H=!0),this.bounds[j][W]=$[j][W];if("ticks"in T)for(R=T.ticks,N=!0,this.autoTicks=!1,j=0;j<3;++j)this.tickSpacing[j]=0;else P("tickSpacing")&&(this.autoTicks=!0,H=!0);if(this._firstInit&&("ticks"in T||"tickSpacing"in T||(this.autoTicks=!0),H=!0,N=!0,this._firstInit=!1),H&&this.autoTicks&&(R=u.create(this.bounds,this.tickSpacing),N=!0),N){for(j=0;j<3;++j)R[j].sort(function(Q,ee){return Q.x-ee.x});u.equal(R,this.ticks)?N=!1:this.ticks=R}O("tickEnable"),B("tickFont")&&(N=!0),B("tickFontStyle")&&(N=!0),B("tickFontWeight")&&(N=!0),B("tickFontVariant")&&(N=!0),P("tickSize"),P("tickAngle"),P("tickPad"),q("tickColor");var G=B("labels");B("labelFont")&&(G=!0),B("labelFontStyle")&&(G=!0),B("labelFontWeight")&&(G=!0),B("labelFontVariant")&&(G=!0),O("labelEnable"),P("labelSize"),P("labelPad"),q("labelColor"),O("lineEnable"),O("lineMirror"),P("lineWidth"),q("lineColor"),O("lineTickEnable"),O("lineTickMirror"),P("lineTickLength"),P("lineTickWidth"),q("lineTickColor"),O("gridEnable"),P("gridWidth"),q("gridColor"),O("zeroEnable"),q("zeroLineColor"),P("zeroLineWidth"),O("backgroundEnable"),q("backgroundColor");var ae=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],te=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(G||N)&&this._text.update(this.bounds,this.labels,ae,this.ticks,te):this._text=i(this.gl,this.bounds,this.labels,ae,this.ticks,te),this._lines&&N&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=n(this.gl,this.bounds,this.ticks))};var m=[new p,new p,new p];function v(T,D,R,P,O){for(var B=T.primalOffset,q=T.primalMinor,N=T.mirrorOffset,H=T.mirrorMinor,$=P[D],j=0;j<3;++j)if(D!==j){var W=B,G=N,ae=q,te=H;$&1<<j&&(W=N,G=B,ae=H,te=q),W[j]=R[0][j],G[j]=R[1][j],O[j]>0?(ae[j]=-1,te[j]=0):(ae[j]=0,te[j]=1)}}var x=[0,0,0],y={model:l,view:l,projection:l,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(T){};var w=[0,0,0],f=[0,0,0],C=[0,0,0];b.draw=function(T){for(var D=this.gl,R=(T=T||y).model||l,P=T.view||l,O=T.projection||l,B=this.bounds,q=T._ortho||!1,N=o(R,P,O,B,q),H=N.cubeEdges,$=N.axis,te=(q?2:1)*this.pixelRatio*(O[3]*P[12]+O[7]*P[13]+O[11]*P[14]+O[15]*P[15])/D.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=H[Q],this.lastCubeProps.axis[Q]=$[Q];var ee=m;for(Q=0;Q<3;++Q)v(m[Q],Q,this.bounds,H,$);D=this.gl;var re,J,le,Ce,Ie,Oe,ze,je,ve,Ae,Le,Ve,fe=x;for(Q=0;Q<3;++Q)fe[Q]=this.backgroundEnable[Q]?$[Q]:0;for(this._background.draw(R,P,O,B,fe,this.backgroundColor),this._lines.bind(R,P,O,this),Q=0;Q<3;++Q){var ce=[0,0,0];ce[Q]=$[Q]>0?B[1][Q]:B[0][Q];for(var ge=0;ge<2;++ge){var Te=(Q+1+ge)%3,Me=(Q+1+(1^ge))%3;this.gridEnable[Te]&&this._lines.drawGrid(Te,Me,this.bounds,ce,this.gridColor[Te],this.gridWidth[Te]*this.pixelRatio)}for(ge=0;ge<2;++ge)Te=(Q+1+ge)%3,this.zeroEnable[Me=(Q+1+(1^ge))%3]&&Math.min(B[0][Me],B[1][Me])<=0&&Math.max(B[0][Me],B[1][Me])>=0&&this._lines.drawZero(Te,Me,this.bounds,ce,this.zeroLineColor[Me],this.zeroLineWidth[Me]*this.pixelRatio)}for(Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,ee[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,ee[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);var we=h(w,ee[Q].primalMinor),xe=h(f,ee[Q].mirrorMinor),be=this.lineTickLength;for(ge=0;ge<3;++ge){var ye=te/R[5*ge];we[ge]*=be[ge]*ye,xe[ge]*=be[ge]*ye}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,ee[Q].primalOffset,we,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,ee[Q].mirrorOffset,xe,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}function Se(Ce){(le=[0,0,0])[Ce]=1}for(this._lines.unbind(),this._text.bind(R,P,O,this.pixelRatio),Q=0;Q<3;++Q){var he=ee[Q].primalMinor,ue=ee[Q].mirrorMinor,me=h(C,ee[Q].primalOffset);for(ge=0;ge<3;++ge)this.lineTickEnable[Q]&&(me[ge]+=te*he[ge]*Math.max(this.lineTickLength[ge],0)/R[5*ge]);var Pe=[0,0,0];if(Pe[Q]=1,this.tickEnable[Q]){for(-3600===this.tickAngle[Q]?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,re[0]="auto"===(re=[this.tickAlign[Q],.5,J=1])[0]?0:parseInt(""+re[0]),le=[0,0,0],ze=void 0,je=void 0,ve=void 0,Ae=void 0,Le=void 0,Ve=void 0,Ae=(Ie=he)[je=((Ce=Q)+2)%3],Le=(Oe=ue)[ze=(Ce+1)%3],Ve=Oe[je],(ve=Ie[ze])>0&&Ve>0||ve>0&&Ve<0||ve<0&&Ve>0||ve<0&&Ve<0?Se(ze):(Ae>0&&Le>0||Ae>0&&Le<0||Ae<0&&Le>0||Ae<0&&Le<0)&&Se(je),ge=0;ge<3;++ge)me[ge]+=te*he[ge]*this.tickPad[ge]/R[5*ge];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],me,this.tickColor[Q],Pe,le,re)}if(this.labelEnable[Q]){for(J=0,le=[0,0,0],this.labels[Q].length>4&&(Se(Q),J=1),re[0]="auto"===(re=[this.labelAlign[Q],.5,J])[0]?0:parseInt(""+re[0]),ge=0;ge<3;++ge)me[ge]+=te*he[ge]*this.labelPad[ge]/R[5*ge];me[Q]+=.5*(B[0][Q]+B[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],me,this.labelColor[Q],[0,0,0],le,re)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},5304:function(d,s,t){"use strict";d.exports=function(l){for(var h=[],c=[],b=0,p=0;p<3;++p)for(var m=(p+1)%3,v=(p+2)%3,x=[0,0,0],y=[0,0,0],w=-1;w<=1;w+=2){c.push(b,b+2,b+1,b+1,b+2,b+3),x[p]=w,y[p]=w;for(var f=-1;f<=1;f+=2){x[m]=f;for(var C=-1;C<=1;C+=2)x[v]=C,h.push(x[0],x[1],x[2],y[0],y[1],y[2]),b+=1}var T=m;m=v,v=T}var D=i(l,new Float32Array(h)),R=i(l,new Uint16Array(c),l.ELEMENT_ARRAY_BUFFER),P=n(l,[{buffer:D,type:l.FLOAT,size:3,offset:0,stride:24},{buffer:D,type:l.FLOAT,size:3,offset:12,stride:24}],R),O=r(l);return O.attributes.position.location=0,O.attributes.normal.location=1,new o(l,D,P,O)};var i=t(2762),n=t(8116),r=t(1879).bg;function o(l,h,c,b){this.gl=l,this.buffer=h,this.vao=c,this.shader=b}var u=o.prototype;u.draw=function(l,h,c,b,p,m){for(var v=!1,x=0;x<3;++x)v=v||p[x];if(v){var y=this.gl;y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:l,view:h,projection:c,bounds:b,enable:p,colors:m},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),y.disable(y.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6429:function(d,s,t){"use strict";d.exports=function(f,C,T,D,R){n(u,C,f),n(u,T,u);for(var P=0,O=0;O<2;++O){c[2]=D[O][2];for(var B=0;B<2;++B){c[1]=D[B][1];for(var q=0;q<2;++q)c[0]=D[q][0],p(l[P],c,u),P+=1}}var N=-1;for(O=0;O<8;++O){for(var H=l[O][3],$=0;$<3;++$)h[O][$]=l[O][$]/H;R&&(h[O][2]*=-1),H<0&&(N<0||h[O][2]<h[N][2])&&(N=O)}if(N<0){N=0;for(var j=0;j<3;++j){for(var W=(j+2)%3,G=(j+1)%3,ae=-1,te=-1,Q=0;Q<2;++Q){var ee=(J=Q<<j)+(Q<<W)+(1-Q<<G),re=J+(1-Q<<W)+(Q<<G);o(h[J],h[ee],h[re],b)<0||(Q?ae=1:te=1)}if(ae<0||te<0)te>ae&&(N|=1<<j);else{for(Q=0;Q<2;++Q){ee=(J=Q<<j)+(Q<<W)+(1-Q<<G);var J,le=v([l[J],l[ee],l[re=J+(1-Q<<W)+(Q<<G)],l[J+(1<<W)+(1<<G)]]);Q?ae=le:te=le}te>ae&&(N|=1<<j)}}}var fe=7^N,ce=-1;for(O=0;O<8;++O)O!==N&&O!==fe&&(ce<0||h[ce][1]>h[O][1])&&(ce=O);var ge=-1;for(O=0;O<3;++O)(Me=ce^1<<O)!==N&&Me!==fe&&(ge<0&&(ge=Me),(G=h[Me])[0]<h[ge][0]&&(ge=Me));var Te=-1;for(O=0;O<3;++O){var Me;(Me=ce^1<<O)!==N&&Me!==fe&&Me!==ge&&(Te<0&&(Te=Me),(G=h[Me])[0]>h[Te][0]&&(Te=Me))}var we=x;we[0]=we[1]=we[2]=0,we[i.log2(ge^ce)]=ce&ge,we[i.log2(ce^Te)]=ce&Te;var xe=7^Te;xe===N||xe===fe?we[i.log2(Te^(xe=7^ge))]=xe&Te:we[i.log2(ge^xe)]=xe&ge;var be=y,ye=N;for(j=0;j<3;++j)be[j]=ye&1<<j?-1:1;return w};var i=t(8828),n=t(6760),r=t(5202),o=t(3250),u=new Array(16),l=new Array(8),h=new Array(8),c=new Array(3),b=[0,0,0];function p(f,C,T){for(var D=0;D<4;++D){f[D]=T[12+D];for(var R=0;R<3;++R)f[D]+=C[R]*T[4*R+D]}}!function(){for(var f=0;f<8;++f)l[f]=[1,1,1,1],h[f]=[1,1,1]}();var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function v(f){for(var C=0;C<m.length;++C)if((f=r.positive(f,m[C])).length<3)return 0;var T=f[0],D=T[0]/T[3],R=T[1]/T[3],P=0;for(C=1;C+1<f.length;++C){var O=f[C],B=f[C+1];P+=Math.abs((O[0]/O[3]-D)*(B[1]/B[3]-R)-(O[1]/O[3]-R)*(B[0]/B[3]-D))}return P}var x=[1,1,1],y=[0,0,0],w={cubeEdges:x,axis:y}},501:function(d,s,t){"use strict";d.exports=function(x,y,w){var f=[],C=[0,0,0],T=[0,0,0],D=[0,0,0],R=[0,0,0];f.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var P=0;P<3;++P){for(var O=f.length/3|0,B=0;B<w[P].length;++B){var q=+w[P][B].x;f.push(q,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1)}var N=f.length/3|0;C[P]=O,T[P]=N-O,O=f.length/3|0;for(var H=0;H<w[P].length;++H)f.push(q=+w[P][H].x,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1);N=f.length/3|0,D[P]=O,R[P]=N-O}var $=i(x,new Float32Array(f)),j=n(x,[{buffer:$,type:x.FLOAT,size:3,stride:0,offset:0}]),W=r(x);return W.attributes.position.location=0,new m(x,$,j,W,T,C,R,D)};var i=t(2762),n=t(8116),r=t(1879).n,o=[0,0,0],u=[0,0,0],l=[0,0,0],h=[0,0,0],c=[1,1];function b(x){return x[0]=x[1]=x[2]=0,x}function p(x,y){return x[0]=y[0],x[1]=y[1],x[2]=y[2],x}function m(x,y,w,f,C,T,D,R){this.gl=x,this.vertBuffer=y,this.vao=w,this.shader=f,this.tickCount=C,this.tickOffset=T,this.gridCount=D,this.gridOffset=R}var v=m.prototype;v.bind=function(x,y,w){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=y,this.shader.uniforms.projection=w,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},v.unbind=function(){this.vao.unbind()},v.drawAxisLine=function(x,y,w,f,C){var T=b(u);this.shader.uniforms.majorAxis=u,T[x]=y[1][x]-y[0][x],this.shader.uniforms.minorAxis=T;var D,R=p(h,w);R[x]+=y[0][x],this.shader.uniforms.offset=R,this.shader.uniforms.lineWidth=C,this.shader.uniforms.color=f,(D=b(l))[(x+2)%3]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,6),(D=b(l))[(x+1)%3]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,6)},v.drawAxisTicks=function(x,y,w,f,C){if(this.tickCount[x]){var T=b(o);T[x]=1,this.shader.uniforms.majorAxis=T,this.shader.uniforms.offset=y,this.shader.uniforms.minorAxis=w,this.shader.uniforms.color=f,this.shader.uniforms.lineWidth=C;var D=b(l);D[x]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},v.drawGrid=function(x,y,w,f,C,T){if(this.gridCount[x]){var D=b(u);D[y]=w[1][y]-w[0][y],this.shader.uniforms.minorAxis=D;var R=p(h,f);R[y]+=w[0][y],this.shader.uniforms.offset=R;var P=b(o);P[x]=1,this.shader.uniforms.majorAxis=P;var O=b(l);O[x]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=C,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},v.drawZero=function(x,y,w,f,C,T){var D=b(u);this.shader.uniforms.majorAxis=D,D[x]=w[1][x]-w[0][x],this.shader.uniforms.minorAxis=D;var R=p(h,f);R[x]+=w[0][x],this.shader.uniforms.offset=R;var P=b(l);P[y]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=C,this.vao.draw(this.gl.TRIANGLES,6)},v.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1879:function(d,s,t){"use strict";var i=t(3236),n=t(9405),r=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);s.n=function(b){return n(b,r,o,null,[{name:"position",type:"vec3"}])};var u=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);s.Q=function(b){return n(b,u,l,null,[{name:"position",type:"vec3"}])};var h=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);s.bg=function(b){return n(b,h,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(d,s,t){"use strict";d.exports=function(p,m,v,x,y,w){var f=i(p),C=n(p,[{buffer:f,size:3}]),T=o(p);T.attributes.position.location=0;var D=new h(p,T,f,C);return D.update(m,v,x,y,w),D};var i=t(2762),n=t(8116),r=t(4359),o=t(1879).Q,u=window||S.global||{},l=u.__TEXT_CACHE||{};function h(p,m,v,x){this.gl=p,this.shader=m,this.buffer=v,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}u.__TEXT_CACHE={};var c=h.prototype,b=[0,0];c.bind=function(p,m,v,x){this.vao.bind(),this.shader.bind();var y=this.shader.uniforms;y.model=p,y.view=m,y.projection=v,y.pixelScale=x,b[0]=this.gl.drawingBufferWidth,b[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=b},c.unbind=function(){this.vao.unbind()},c.update=function(p,m,v,x,y){var w=[];function f(N,H,$,j,W,G){var ae=[$.style,$.weight,$.variant,$.family].join("_"),te=l[ae];te||(te=l[ae]={});var Q=te[H];Q||(Q=te[H]=function(Me,we){try{return r(Me,we)}catch(xe){return console.warn('error vectorizing text:"'+Me+'" error:',xe),{cells:[],positions:[]}}}(H,{triangles:!0,font:$.family,fontStyle:$.style,fontWeight:$.weight,fontVariant:$.variant,textAlign:"center",textBaseline:"middle",lineSpacing:W,styletags:G}));for(var ee=(j||12)/12,re=Q.positions,J=Q.cells,le=0,fe=J.length;le<fe;++le)for(var ce=J[le],ge=2;ge>=0;--ge){var Te=re[ce[ge]];w.push(ee*Te[0],-ee*Te[1],N)}}for(var C=[0,0,0],T=[0,0,0],D=[0,0,0],R=[0,0,0],P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){D[O]=w.length/3|0,f(.5*(p[0][O]+p[1][O]),m[O],v[O],12,1.25,P),R[O]=(w.length/3|0)-D[O],C[O]=w.length/3|0;for(var B=0;B<x[O].length;++B)x[O][B].text&&f(x[O][B].x,x[O][B].text,{family:x[O][B].font||y[O].family,style:y[O].fontStyle||y[O].style,weight:y[O].fontWeight||y[O].weight,variant:y[O].fontVariant||y[O].variant},x[O][B].fontSize||12,1.25,P);T[O]=(w.length/3|0)-C[O]}this.buffer.update(w),this.tickOffset=C,this.tickCount=T,this.labelOffset=D,this.labelCount=R},c.drawTicks=function(p,m,v,x,y,w,f,C){this.tickCount[p]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=y,this.shader.uniforms.angle=v,this.shader.uniforms.scale=m,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[p],this.tickOffset[p]))},c.drawLabel=function(p,m,v,x,y,w,f,C){this.labelCount[p]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=y,this.shader.uniforms.angle=v,this.shader.uniforms.scale=m,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[p],this.labelOffset[p]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},6444:function(d,s){"use strict";function t(i,n){var r=i+"",o=r.indexOf("."),u=0;o>=0&&(u=r.length-o-1);var l=Math.pow(10,u),h=Math.round(i*n*l),c=h+"";if(c.indexOf("e")>=0)return c;var b=h/l,p=h%l;h<0?(b=0|-Math.ceil(b),p=0|-p):(b=0|Math.floor(b),p|=0);var m=""+b;if(h<0&&(m="-"+m),u){for(var v=""+p;v.length<u;)v="0"+v;return m+"."+v}return m}s.create=function(i,n){for(var r=[],o=0;o<3;++o){for(var u=[],l=0;l*n[o]<=i[1][o];++l)u.push({x:l*n[o],text:t(n[o],l)});for(l=-1;l*n[o]>=i[0][o];--l)u.push({x:l*n[o],text:t(n[o],l)});r.push(u)}return r},s.equal=function(i,n){for(var r=0;r<3;++r){if(i[r].length!==n[r].length)return!1;for(var o=0;o<i[r].length;++o){var u=i[r][o],l=n[r][o];if(u.x!==l.x||u.text!==l.text||u.font!==l.font||u.fontColor!==l.fontColor||u.fontSize!==l.fontSize||u.dx!==l.dx||u.dy!==l.dy)return!1}}return!0}},5445:function(d,s,t){"use strict";d.exports=function(w,f,C,T,D){var R=f.model||h,P=f.view||h,O=f.projection||h,B=f._ortho||!1,q=w.bounds,N=(D=D||r(R,P,O,q,B)).axis;o(c,P,R),o(c,O,c);for(var H=x,$=0;$<3;++$)H[$].lo=1/0,H[$].hi=-1/0,H[$].pixelsPerDataUnit=1/0;var j=i(u(c,c));u(c,c);for(var W=0;W<3;++W){var G=(W+1)%3,ae=(W+2)%3,te=y;e:for($=0;$<2;++$){var Q=[];if(N[W]<0!=!!$){te[W]=q[$][W];for(var ee=0;ee<2;++ee){te[G]=q[ee^$][G];for(var re=0;re<2;++re)te[ae]=q[re^ee^$][ae],Q.push(te.slice())}var J=B?5:4;for(ee=J;ee===J;++ee){if(0===Q.length)continue e;Q=n.positive(Q,j[ee])}for(ee=0;ee<Q.length;++ee){var le=v(y,c,ae=Q[ee],C,T);for(re=0;re<3;++re)H[re].lo=Math.min(H[re].lo,ae[re]),H[re].hi=Math.max(H[re].hi,ae[re]),re!==W&&(H[re].pixelsPerDataUnit=Math.min(H[re].pixelsPerDataUnit,Math.abs(le[re])))}}}}return H};var i=t(5033),n=t(5202),r=t(6429),o=t(6760),u=t(5665),l=t(5352),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function b(w,f,C){this.lo=w,this.hi=f,this.pixelsPerDataUnit=C}var p=[0,0,0,1],m=[0,0,0,1];function v(w,f,C,T,D){for(var R=0;R<3;++R){for(var P=p,O=m,B=0;B<3;++B)O[B]=P[B]=C[B];O[3]=P[3]=1,O[R]+=1,l(O,O,f),O[3]<0&&(w[R]=1/0),P[R]-=1,l(P,P,f),P[3]<0&&(w[R]=1/0);var q=(P[0]/P[3]-O[0]/O[3])*T,N=(P[1]/P[3]-O[1]/O[3])*D;w[R]=.25*Math.sqrt(q*q+N*N)}return w}var x=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],y=[0,0,0]},2762:function(d,s,t){"use strict";var i=t(1888),n=t(5298),r=t(9618),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(b,p,m,v,x){this.gl=b,this.type=p,this.handle=m,this.length=v,this.usage=x}var l=u.prototype;function h(b,p,m,v,x,y){var w=x.length*x.BYTES_PER_ELEMENT;if(y<0)return b.bufferData(p,x,v),w;if(w+y>m)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return b.bufferSubData(p,y,x),m}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(b,p){if("number"!=typeof p&&(p=-1),this.bind(),"object"==typeof b&&void 0!==b.shape){var m=b.dtype;if(o.indexOf(m)<0&&(m="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(m=gl.getExtension("OES_element_index_uint")&&"uint16"!==m?"uint32":"uint16"),m===b.dtype&&function(w,f){for(var C=1,T=f.length-1;T>=0;--T){if(f[T]!==C)return!1;C*=w[T]}return!0}(b.shape,b.stride))this.length=h(this.gl,this.type,this.length,this.usage,0===b.offset&&b.data.length===b.shape[0]?b.data:b.data.subarray(b.offset,b.shape[0]),p);else{var v=i.malloc(b.size,m),x=r(v,b.shape);n.assign(x,b),this.length=h(this.gl,this.type,this.length,this.usage,p<0?v:v.subarray(0,b.size),p),i.free(v)}}else if(Array.isArray(b)){var y;y=function c(b,p){for(var m=i.malloc(b.length,p),v=b.length,x=0;x<v;++x)m[x]=b[x];return m}(b,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=h(this.gl,this.type,this.length,this.usage,p<0?y:y.subarray(0,b.length),p),i.free(y)}else if("object"==typeof b&&"number"==typeof b.length)this.length=h(this.gl,this.type,this.length,this.usage,b,p);else{if("number"!=typeof b&&void 0!==b)throw new Error("gl-buffer: Invalid data type");if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(b|=0)<=0&&(b=1),this.gl.bufferData(this.type,0|b,this.usage),this.length=b}},d.exports=function(b,p,m,v){if(v=v||b.DYNAMIC_DRAW,(m=m||b.ARRAY_BUFFER)!==b.ARRAY_BUFFER&&m!==b.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(v!==b.DYNAMIC_DRAW&&v!==b.STATIC_DRAW&&v!==b.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var x=b.createBuffer(),y=new u(b,m,x,0,v);return y.update(p),y}},6405:function(d,s,t){"use strict";var i=t(2931);d.exports=function(r,o){var u=r.positions,l=r.vectors,h={positions:[],vertexIntensity:[],vertexIntensityBounds:r.vertexIntensityBounds,vectors:[],cells:[],coneOffset:r.coneOffset,colormap:r.colormap};if(0===r.positions.length)return o&&(o[0]=[0,0,0],o[1]=[0,0,0]),h;for(var c=0,b=1/0,p=-1/0,m=1/0,v=-1/0,x=1/0,y=-1/0,w=null,f=null,C=[],T=1/0,D=!1,R="raw"===r.coneSizemode,P=0;P<u.length;P++){var O=u[P];b=Math.min(O[0],b),p=Math.max(O[0],p),m=Math.min(O[1],m),v=Math.max(O[1],v),x=Math.min(O[2],x),y=Math.max(O[2],y);var B=l[P];if(i.length(B)>c&&(c=i.length(B)),P&&!R){var q=2*i.distance(w,O)/(i.length(f)+i.length(B));q?(T=Math.min(T,q),D=!1):D=!0}D||(w=O,f=B),C.push(B)}var H=[p,v,y];o&&(o[0]=[b,m,x],o[1]=H),0===c&&(c=1);var $=1/c;isFinite(T)||(T=1),h.vectorScale=T;var j=r.coneSize||(R?1:.5);r.absoluteConeSize&&(j=r.absoluteConeSize*$),h.coneScale=j,P=0;for(var W=0;P<u.length;P++)for(var G=(O=u[P])[0],ae=O[1],te=O[2],Q=C[P],ee=i.length(Q)*$,re=0;re<8;re++){h.positions.push([G,ae,te,W++]),h.positions.push([G,ae,te,W++]),h.positions.push([G,ae,te,W++]),h.positions.push([G,ae,te,W++]),h.positions.push([G,ae,te,W++]),h.positions.push([G,ae,te,W++]),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vertexIntensity.push(ee,ee,ee),h.vertexIntensity.push(ee,ee,ee);var J=h.positions.length;h.cells.push([J-6,J-5,J-4],[J-3,J-2,J-1])}return h};var n=t(614);d.exports.createMesh=t(9060),d.exports.createConeMesh=function(r,o){return d.exports.createMesh(r,o,{shaders:n,traceType:"cone"})}},9060:function(d,s,t){"use strict";var i=t(9405),n=t(2762),r=t(8116),o=t(7766),u=t(6760),l=t(7608),h=t(9618),c=t(6729),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(v,x,y,w,f,C,T,D,R,P,O){this.gl=v,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=y,this.pickShader=w,this.trianglePositions=f,this.triangleVectors=C,this.triangleColors=D,this.triangleUVs=R,this.triangleIds=T,this.triangleVAO=P,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var m=p.prototype;m.isOpaque=function(){return this.opacity>=1},m.isTransparent=function(){return this.opacity<1},m.pickSlots=1,m.setPickBase=function(v){this.pickId=v},m.update=function(v){v=v||{};var x=this.gl;this.dirty=!0,"lightPosition"in v&&(this.lightPosition=v.lightPosition),"opacity"in v&&(this.opacity=v.opacity),"ambient"in v&&(this.ambientLight=v.ambient),"diffuse"in v&&(this.diffuseLight=v.diffuse),"specular"in v&&(this.specularLight=v.specular),"roughness"in v&&(this.roughness=v.roughness),"fresnel"in v&&(this.fresnel=v.fresnel),void 0!==v.tubeScale&&(this.tubeScale=v.tubeScale),void 0!==v.vectorScale&&(this.vectorScale=v.vectorScale),void 0!==v.coneScale&&(this.coneScale=v.coneScale),void 0!==v.coneOffset&&(this.coneOffset=v.coneOffset),v.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(function(le){for(var fe=c({colormap:le,nshades:256,format:"rgba"}),ce=new Uint8Array(1024),ge=0;ge<256;++ge){for(var Te=fe[ge],Me=0;Me<3;++Me)ce[4*ge+Me]=Te[Me];ce[4*ge+3]=255*Te[3]}return h(ce,[256,256,4],[4,0,1])}(v.colormap)),this.texture.generateMipmap());var y=v.cells,w=v.positions,f=v.vectors;if(w&&y&&f){var C=[],T=[],D=[],R=[],P=[];this.cells=y,this.positions=w,this.vectors=f;var O=v.meshColor||[1,1,1,1],B=v.vertexIntensity,q=1/0,N=-1/0;if(B)if(v.vertexIntensityBounds)q=+v.vertexIntensityBounds[0],N=+v.vertexIntensityBounds[1];else for(var H=0;H<B.length;++H){var $=B[H];q=Math.min(q,$),N=Math.max(N,$)}else for(H=0;H<w.length;++H)$=w[H][2],q=Math.min(q,$),N=Math.max(N,$);for(this.intensity=B||function(le){for(var fe=le.length,ce=new Array(fe),ge=0;ge<fe;++ge)ce[ge]=le[ge][2];return ce}(w),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=0;H<w.length;++H)for(var j=w[H],W=0;W<3;++W)!isNaN(j[W])&&isFinite(j[W])&&(this.bounds[0][W]=Math.min(this.bounds[0][W],j[W]),this.bounds[1][W]=Math.max(this.bounds[1][W],j[W]));var G=0;e:for(H=0;H<y.length;++H){var ae=y[H];if(3===ae.length){for(W=0;W<3;++W){j=w[Q=ae[W]];for(var te=0;te<3;++te)if(isNaN(j[te])||!isFinite(j[te]))continue e}for(W=0;W<3;++W){var Q;j=w[Q=ae[2-W]],C.push(j[0],j[1],j[2],j[3]);var ee=f[Q];T.push(ee[0],ee[1],ee[2],ee[3]||0);var re;D.push(O[0],O[1],O[2],3===O.length?1:O[3]),R.push((re=B?[(B[Q]-q)/(N-q),0]:[(j[2]-q)/(N-q),0])[0],re[1]),P.push(H)}G+=1}}this.triangleCount=G,this.trianglePositions.update(C),this.triangleVectors.update(T),this.triangleColors.update(D),this.triangleUVs.update(R),this.triangleIds.update(new Uint32Array(P))}},m.drawTransparent=m.draw=function(v){for(var x=this.gl,y=(v=v||{}).model||b,w=v.view||b,f=v.projection||b,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)C[0][T]=Math.max(C[0][T],this.clipBounds[0][T]),C[1][T]=Math.min(C[1][T],this.clipBounds[1][T]);var D={model:y,view:w,projection:f,inverseModel:b.slice(),clipBounds:C,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};D.inverseModel=l(D.inverseModel,D.model),x.disable(x.CULL_FACE),this.texture.bind(0);var R=new Array(16);for(u(R,D.view,D.model),u(R,D.projection,R),l(R,R),T=0;T<3;++T)D.eyePosition[T]=R[12+T]/R[15];var P=R[15];for(T=0;T<3;++T)P+=this.lightPosition[T]*R[4*T+3];for(T=0;T<3;++T){for(var O=R[12+T],B=0;B<3;++B)O+=R[4*B+T]*this.lightPosition[B];D.lightPosition[T]=O/P}if(this.triangleCount>0){var q=this.triShader;q.bind(),q.uniforms=D,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},m.drawPick=function(v){for(var x=this.gl,y=(v=v||{}).model||b,w=v.view||b,f=v.projection||b,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)C[0][T]=Math.max(C[0][T],this.clipBounds[0][T]),C[1][T]=Math.min(C[1][T],this.clipBounds[1][T]);this._model=[].slice.call(y),this._view=[].slice.call(w),this._projection=[].slice.call(f),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var D={model:y,view:w,projection:f,clipBounds:C,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},R=this.pickShader;R.bind(),R.uniforms=D,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},m.pick=function(v){if(!v||v.id!==this.pickId)return null;var x=v.value[0]+256*v.value[1]+65536*v.value[2],y=this.cells[x],w=this.positions[y[1]].slice(0,3),f={position:w,dataCoordinate:w,index:Math.floor(y[1]/48)};return"cone"===this.traceType?f.index=Math.floor(y[1]/48):"streamtube"===this.traceType&&(f.intensity=this.intensity[y[1]],f.velocity=this.vectors[y[1]].slice(0,3),f.divergence=this.vectors[y[1]][3],f.index=x),f},m.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},d.exports=function(v,x,y){var w=y.shaders;1===arguments.length&&(v=(x=v).gl);var H,$,f=(($=i(v,(H=w).meshShader.vertex,H.meshShader.fragment,null,H.meshShader.attributes)).attributes.position.location=0,$.attributes.color.location=2,$.attributes.uv.location=3,$.attributes.vector.location=4,$),C=function(N,H){var $=i(N,H.pickShader.vertex,H.pickShader.fragment,null,H.pickShader.attributes);return $.attributes.position.location=0,$.attributes.id.location=1,$.attributes.vector.location=4,$}(v,w),T=o(v,h(new Uint8Array([255,255,255,255]),[1,1,4]));T.generateMipmap(),T.minFilter=v.LINEAR_MIPMAP_LINEAR,T.magFilter=v.LINEAR;var D=n(v),R=n(v),P=n(v),O=n(v),B=n(v),q=new p(v,T,f,C,D,R,B,P,O,r(v,[{buffer:D,type:v.FLOAT,size:4},{buffer:B,type:v.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:v.FLOAT,size:4},{buffer:O,type:v.FLOAT,size:2},{buffer:R,type:v.FLOAT,size:4}]),y.traceType||"cone");return q.update(x),q}},614:function(d,s,t){var i=t(3236),n=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),r=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);s.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:o,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(d){d.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(d,s,t){var i=t(737);d.exports=function(n){return i[n]}},9165:function(d,s,t){"use strict";d.exports=function(p){var m=p.gl,v=i(m),x=n(m,[{buffer:v,type:m.FLOAT,size:3,offset:0,stride:40},{buffer:v,type:m.FLOAT,size:4,offset:12,stride:40},{buffer:v,type:m.FLOAT,size:3,offset:28,stride:40}]),y=r(m);y.attributes.position.location=0,y.attributes.color.location=1,y.attributes.offset.location=2;var w=new u(m,v,x,y);return w.update(p),w};var i=t(2762),n=t(8116),r=t(3436),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(p,m,v,x){this.gl=p,this.shader=x,this.buffer=m,this.vao=v,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;function h(p,m){for(var v=0;v<3;++v)p[0][v]=Math.min(p[0][v],m[v]),p[1][v]=Math.max(p[1][v],m[v])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(p){var m=this.gl,v=this.shader.uniforms;this.shader.bind();var x=v.view=p.view||o,y=v.projection=p.projection||o;v.model=p.model||o,v.clipBounds=this.clipBounds,v.opacity=this.opacity;var D=(p._ortho?2:1)*this.pixelRatio*(y[3]*x[12]+y[7]*x[13]+y[11]*x[14]+y[15]*x[15])/m.drawingBufferHeight;this.vao.bind();for(var R=0;R<3;++R)m.lineWidth(this.lineWidth[R]*this.pixelRatio),v.capSize=this.capSize[R]*D,this.lineCount[R]&&m.drawArrays(m.LINES,this.lineOffset[R],this.lineCount[R]);this.vao.unbind()};var c=function(){for(var p=new Array(3),m=0;m<3;++m){for(var v=[],x=1;x<=2;++x)for(var y=-1;y<=1;y+=2){var w=[0,0,0];w[(x+m)%3]=y,v.push(w)}p[m]=v}return p}();function b(p,m,v,x){for(var y=c[x],w=0;w<y.length;++w){var f=y[w];p.push(m[0],m[1],m[2],v[0],v[1],v[2],v[3],f[0],f[1],f[2])}return y.length}l.update=function(p){"lineWidth"in(p=p||{})&&(this.lineWidth=p.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in p&&(this.capSize=p.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in p&&(this.opacity=+p.opacity,this.opacity<1&&(this.hasAlpha=!0));var m=p.color||[[0,0,0],[0,0,0],[0,0,0]],v=p.position,x=p.error;if(Array.isArray(m[0])||(m=[m,m,m]),v&&x){var y=[],w=v.length,f=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var C=0;C<3;++C){this.lineOffset[C]=f;e:for(var T=0;T<w;++T){for(var D=v[T],R=0;R<3;++R)if(isNaN(D[R])||!isFinite(D[R]))continue e;var P,O=x[T],B=m[C];Array.isArray(B[0])&&(B=m[T]),3===B.length?B=[B[0],B[1],B[2],1]:4===B.length&&(B=[B[0],B[1],B[2],B[3]],!this.hasAlpha&&B[3]<1&&(this.hasAlpha=!0)),!isNaN(O[0][C])&&!isNaN(O[1][C])&&(O[0][C]<0&&((P=D.slice())[C]+=O[0][C],y.push(D[0],D[1],D[2],B[0],B[1],B[2],B[3],0,0,0,P[0],P[1],P[2],B[0],B[1],B[2],B[3],0,0,0),h(this.bounds,P),f+=2+b(y,P,B,C)),O[1][C]>0&&((P=D.slice())[C]+=O[1][C],y.push(D[0],D[1],D[2],B[0],B[1],B[2],B[3],0,0,0,P[0],P[1],P[2],B[0],B[1],B[2],B[3],0,0,0),h(this.bounds,P),f+=2+b(y,P,B,C)))}this.lineCount[C]=f-this.lineOffset[C]}this.buffer.update(y)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},3436:function(d,s,t){"use strict";var i=t(3236),n=t(9405),r=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);d.exports=function(u){return n(u,r,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(d,s,t){"use strict";var i=t(7766);d.exports=function(w,f,C,T){n||(n=w.FRAMEBUFFER_UNSUPPORTED,r=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var D=w.getExtension("WEBGL_draw_buffers");if(!l&&D&&function(H,$){var j=H.getParameter($.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(j+1);for(var W=0;W<=j;++W){for(var G=new Array(j),ae=0;ae<W;++ae)G[ae]=H.COLOR_ATTACHMENT0+ae;for(ae=W;ae<j;++ae)G[ae]=H.NONE;l[W]=G}}(w,D),Array.isArray(f)&&(T=C,C=0|f[1],f=0|f[0]),"number"!=typeof f)throw new Error("gl-fbo: Missing shape parameter");var R=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(f<0||f>R||C<0||C>R)throw new Error("gl-fbo: Parameters are too large for FBO");var P=1;if("color"in(T=T||{})){if((P=Math.max(0|T.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(P>1){if(!D)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(P>w.getParameter(D.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+P+" draw buffers")}}var O=w.UNSIGNED_BYTE,B=w.getExtension("OES_texture_float");if(T.float&&P>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");O=w.FLOAT}else T.preferFloat&&P>0&&B&&(O=w.FLOAT);var q=!0;"depth"in T&&(q=!!T.depth);var N=!1;return"stencil"in T&&(N=!!T.stencil),new v(w,f,C,O,P,q,N,D)};var n,r,o,u,l=null;function h(w){return[w.getParameter(w.FRAMEBUFFER_BINDING),w.getParameter(w.RENDERBUFFER_BINDING),w.getParameter(w.TEXTURE_BINDING_2D)]}function c(w,f){w.bindFramebuffer(w.FRAMEBUFFER,f[0]),w.bindRenderbuffer(w.RENDERBUFFER,f[1]),w.bindTexture(w.TEXTURE_2D,f[2])}function b(w){switch(w){case n:throw new Error("gl-fbo: Framebuffer unsupported");case r:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function p(w,f,C,T,D,R){if(!T)return null;var P=i(w,f,C,D,T);return P.magFilter=w.NEAREST,P.minFilter=w.NEAREST,P.mipSamples=1,P.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,R,w.TEXTURE_2D,P.handle,0),P}function m(w,f,C,T,D){var R=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,R),w.renderbufferStorage(w.RENDERBUFFER,T,f,C),w.framebufferRenderbuffer(w.FRAMEBUFFER,D,w.RENDERBUFFER,R),R}function v(w,f,C,T,D,R,P,O){this.gl=w,this._shape=[0|f,0|C],this._destroyed=!1,this._ext=O,this.color=new Array(D);for(var B=0;B<D;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=R,this._useStencil=P;var q=this,N=[0|f,0|C];Object.defineProperties(N,{0:{get:function(){return q._shape[0]},set:function(H){return q.width=H}},1:{get:function(){return q._shape[1]},set:function(H){return q.height=H}}}),this._shapeVector=N,function(H){var $=h(H.gl),j=H.gl,W=H.handle=j.createFramebuffer(),G=H._shape[0],ae=H._shape[1],te=H.color.length,Q=H._ext,ee=H._useStencil,re=H._useDepth,J=H._colorType;j.bindFramebuffer(j.FRAMEBUFFER,W);for(var le=0;le<te;++le)H.color[le]=p(j,G,ae,J,j.RGBA,j.COLOR_ATTACHMENT0+le);0===te?(H._color_rb=m(j,G,ae,j.RGBA4,j.COLOR_ATTACHMENT0),Q&&Q.drawBuffersWEBGL(l[0])):te>1&&Q.drawBuffersWEBGL(l[te]);var fe=j.getExtension("WEBGL_depth_texture");fe?ee?H.depth=p(j,G,ae,fe.UNSIGNED_INT_24_8_WEBGL,j.DEPTH_STENCIL,j.DEPTH_STENCIL_ATTACHMENT):re&&(H.depth=p(j,G,ae,j.UNSIGNED_SHORT,j.DEPTH_COMPONENT,j.DEPTH_ATTACHMENT)):re&&ee?H._depth_rb=m(j,G,ae,j.DEPTH_STENCIL,j.DEPTH_STENCIL_ATTACHMENT):re?H._depth_rb=m(j,G,ae,j.DEPTH_COMPONENT16,j.DEPTH_ATTACHMENT):ee&&(H._depth_rb=m(j,G,ae,j.STENCIL_INDEX,j.STENCIL_ATTACHMENT));var ce=j.checkFramebufferStatus(j.FRAMEBUFFER);if(ce!==j.FRAMEBUFFER_COMPLETE){for(H._destroyed=!0,j.bindFramebuffer(j.FRAMEBUFFER,null),j.deleteFramebuffer(H.handle),H.handle=null,H.depth&&(H.depth.dispose(),H.depth=null),H._depth_rb&&(j.deleteRenderbuffer(H._depth_rb),H._depth_rb=null),le=0;le<H.color.length;++le)H.color[le].dispose(),H.color[le]=null;H._color_rb&&(j.deleteRenderbuffer(H._color_rb),H._color_rb=null),c(j,$),b(ce)}c(j,$)}(this)}var x=v.prototype;function y(w,f,C){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(w._shape[0]!==f||w._shape[1]!==C){var T=w.gl,D=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(f<0||f>D||C<0||C>D)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=f,w._shape[1]=C;for(var R=h(T),P=0;P<w.color.length;++P)w.color[P].shape=w._shape;w._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,w._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,w._shape[0],w._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,w.handle);var O=T.checkFramebufferStatus(T.FRAMEBUFFER);O!==T.FRAMEBUFFER_COMPLETE&&(w.dispose(),c(T,R),b(O)),c(T,R)}}Object.defineProperties(x,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[0|w,0|w]),2!==w.length)throw new Error("gl-fbo: Shape vector must be length 2");var f=0|w[0],C=0|w[1];return y(this,f,C),[f,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return y(this,w|=0,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return y(this,this._shape[0],w|=0),w},enumerable:!1}}),x.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},x.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2992:function(d,s,t){var i=t(3387).sprintf,n=t(5171),r=t(1848),o=t(1085);d.exports=function(u,l,h){"use strict";var c=r(l)||"of unknown name (see npm glsl-shader-name)",b="unknown type";void 0!==h&&(b=h===n.FRAGMENT_SHADER?"fragment":"vertex");for(var p=i("Error compiling %s shader %s:\n",b,c),m=i("%s%s",p,u),v=u.split("\n"),x={},y=0;y<v.length;y++){var w=v[y];if(""!==w&&"\0"!==w){var f=parseInt(w.split(":")[2]);if(isNaN(f))throw new Error(i("Could not parse error: %s",w));x[f]=w}}var C=o(l).split("\n");for(y=0;y<C.length;y++)if((x[y+3]||x[y+2]||x[y+1])&&(p+=C[y]+"\n",x[y+1])){var T=x[y+1];T=T.substr(T.split(":",3).join(":").length+1).trim(),p+=i("^^^ %s\n\n",T)}return{long:p.trim(),short:m.trim()}}},2510:function(d,s,t){"use strict";d.exports=function(m,v){var x=m.gl,y=new h(m,o(x,l.vertex,l.fragment),o(x,l.pickVertex,l.pickFragment),u(x),u(x),u(x),u(x));return y.update(v),m.addObject(y),y};var i=t(2478),n=t(7762),r=t(1888),o=t(9405),u=t(2762),l=t(6768);function h(m,v,x,y,w,f,C){this.plot=m,this.shader=v,this.pickShader=x,this.positionBuffer=y,this.weightBuffer=w,this.colorBuffer=f,this.idBuffer=C,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,m,v,b=h.prototype,p=[0,0,1,0,0,1,1,0,1,1,0,1];b.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var m=this.plot,v=this.shader,x=this.bounds,y=this.numVertices;if(!(y<=0)){var w=m.gl,f=m.dataBox,T=x[3]-x[1],D=f[2]-f[0],R=f[3]-f[1];c[0]=2*(x[2]-x[0])/D,c[4]=2*T/R,c[6]=2*(x[0]-f[0])/D-1,c[7]=2*(x[1]-f[1])/R-1,v.bind();var P=v.uniforms;P.viewTransform=c,P.shape=this.shape;var O=v.attributes;this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(w.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),O.color.pointer(w.UNSIGNED_BYTE,!0),w.drawArrays(w.TRIANGLES,0,y)}}),b.drawPick=(m=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0],function(x){var y=this.plot,w=this.pickShader,f=this.bounds,C=this.numVertices;if(!(C<=0)){var T=y.gl,D=y.dataBox,P=f[3]-f[1],O=D[2]-D[0],B=D[3]-D[1];m[0]=2*(f[2]-f[0])/O,m[4]=2*P/B,m[6]=2*(f[0]-D[0])/O-1,m[7]=2*(f[1]-D[1])/B-1;for(var q=0;q<4;++q)v[q]=x>>8*q&255;this.pickOffset=x,w.bind();var N=w.uniforms;N.viewTransform=m,N.pickOffset=v,N.shape=this.shape;var H=w.attributes;return this.positionBuffer.bind(),H.position.pointer(),this.weightBuffer.bind(),H.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),H.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,C),x+this.shape[0]*this.shape[1]}}),b.pick=function(m,v,x){var y=this.pickOffset;if(x<y||x>=y+this.shape[0]*this.shape[1])return null;var f=x-y;return{object:this,pointId:f,dataCoord:[this.xData[f%this.shape[0]],this.yData[f/this.shape[0]|0]]}},b.update=function(m){var v=(m=m||{}).shape||[0,0],x=m.x||n(v[0]),y=m.y||n(v[1]),w=m.z||new Float32Array(v[0]*v[1]),f=!1!==m.zsmooth;this.xData=x,this.yData=y;var C,T,D,R,P=m.colorLevels||[0],O=m.colorValues||[0,0,0,1],B=P.length,q=this.bounds;f?(C=q[0]=x[0],T=q[1]=y[0],D=q[2]=x[x.length-1],R=q[3]=y[y.length-1]):(C=q[0]=x[0]+(x[1]-x[0])/2,T=q[1]=y[0]+(y[1]-y[0])/2,D=q[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,R=q[3]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2);var N=1/(D-C),H=1/(R-T),$=v[0],j=v[1];this.shape=[$,j];var W=(f?($-1)*(j-1):$*j)*(p.length>>>1);this.numVertices=W;for(var G=r.mallocUint8(4*W),ae=r.mallocFloat32(2*W),te=r.mallocUint8(2*W),Q=r.mallocUint32(W),ee=0,re=f?$-1:$,J=f?j-1:j,le=0;le<J;++le){var fe,ce;f?(fe=H*(y[le]-T),ce=H*(y[le+1]-T)):(fe=le<j-1?H*(y[le]-(y[le+1]-y[le])/2-T):H*(y[le]-(y[le]-y[le-1])/2-T),ce=le<j-1?H*(y[le]+(y[le+1]-y[le])/2-T):H*(y[le]+(y[le]-y[le-1])/2-T));for(var ge=0;ge<re;++ge){var Te,Me;f?(Te=N*(x[ge]-C),Me=N*(x[ge+1]-C)):(Te=ge<$-1?N*(x[ge]-(x[ge+1]-x[ge])/2-C):N*(x[ge]-(x[ge]-x[ge-1])/2-C),Me=ge<$-1?N*(x[ge]+(x[ge+1]-x[ge])/2-C):N*(x[ge]+(x[ge]-x[ge-1])/2-C));for(var we=0;we<p.length;we+=2){var xe,be,ye,Se,Ee=p[we],he=p[we+1],ue=w[f?(le+he)*$+(ge+Ee):le*$+ge],me=i.le(P,ue);if(me<0)xe=O[0],be=O[1],ye=O[2],Se=O[3];else if(me===B-1)xe=O[4*B-4],be=O[4*B-3],ye=O[4*B-2],Se=O[4*B-1];else{var Pe=(ue-P[me])/(P[me+1]-P[me]),Ce=1-Pe,Ie=4*me,Oe=4*(me+1);xe=Ce*O[Ie]+Pe*O[Oe],be=Ce*O[Ie+1]+Pe*O[Oe+1],ye=Ce*O[Ie+2]+Pe*O[Oe+2],Se=Ce*O[Ie+3]+Pe*O[Oe+3]}G[4*ee]=255*xe,G[4*ee+1]=255*be,G[4*ee+2]=255*ye,G[4*ee+3]=255*Se,ae[2*ee]=.5*Te+.5*Me,ae[2*ee+1]=.5*fe+.5*ce,te[2*ee]=Ee,te[2*ee+1]=he,Q[ee]=le*$+ge,ee+=1}}}this.positionBuffer.update(ae),this.weightBuffer.update(te),this.colorBuffer.update(G),this.idBuffer.update(Q),r.free(ae),r.free(G),r.free(te),r.free(Q)},b.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},6768:function(d,s,t){"use strict";var i=t(3236);d.exports={fragment:i(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},7319:function(d,s,t){var i=t(3236),n=t(9405),r=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(h){return n(h,r,o,null,l)},s.createPickShader=function(h){return n(h,r,u,null,l)}},5714:function(d,s,t){"use strict";d.exports=function(C){var T=C.gl||C.scene&&C.scene.gl,D=b(T);D.attributes.position.location=0,D.attributes.nextPosition.location=1,D.attributes.arcLength.location=2,D.attributes.lineWidth.location=3,D.attributes.color.location=4;var R=p(T);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var P=i(T),O=n(T,[{buffer:P,size:3,offset:0,stride:48},{buffer:P,size:3,offset:12,stride:48},{buffer:P,size:1,offset:24,stride:48},{buffer:P,size:1,offset:28,stride:48},{buffer:P,size:4,offset:32,stride:48}]),B=h(new Array(1024),[256,1,4]),q=0;q<1024;++q)B.data[q]=255;var N=r(T,B);N.wrap=T.REPEAT;var H=new w(T,D,R,P,O,N);return H.update(C),H};var i=t(2762),n=t(8116),r=t(7766),o=new Uint8Array(4),u=new Float32Array(o.buffer),l=t(2478),h=t(9618),c=t(7319),b=c.createShader,p=c.createPickShader,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(C,T){for(var D=0,R=0;R<3;++R){var P=C[R]-T[R];D+=P*P}return Math.sqrt(D)}function x(C){for(var T=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)T[0][D]=Math.max(C[0][D],T[0][D]),T[1][D]=Math.min(C[1][D],T[1][D]);return T}function y(C,T,D,R){this.arcLength=C,this.position=T,this.index=D,this.dataCoordinate=R}function w(C,T,D,R,P,O){this.gl=C,this.shader=T,this.pickShader=D,this.buffer=R,this.vao=P,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=O,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var f=w.prototype;f.isTransparent=function(){return this.hasAlpha},f.isOpaque=function(){return!this.hasAlpha},f.pickSlots=1,f.setPickBase=function(C){this.pickId=C},f.drawTransparent=f.draw=function(C){if(this.vertexCount){var T=this.gl,D=this.shader,R=this.vao;D.bind(),D.uniforms={model:C.model||m,view:C.view||m,projection:C.projection||m,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(T.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},f.drawPick=function(C){if(this.vertexCount){var T=this.gl,D=this.pickShader,R=this.vao;D.bind(),D.uniforms={model:C.model||m,view:C.view||m,projection:C.projection||m,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(T.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},f.update=function(C){var T,D;this.dirty=!0;var R=!!C.connectGaps;"dashScale"in C&&(this.dashScale=C.dashScale),this.hasAlpha=!1,"opacity"in C&&(this.opacity=+C.opacity,this.opacity<1&&(this.hasAlpha=!0));var P=[],O=[],B=[],q=0,N=0,H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],$=C.position||C.positions;if($){var j=C.color||C.colors||[0,0,0,1],W=C.lineWidth||1,G=!1;e:for(T=1;T<$.length;++T){var ae,te,Q,ee=$[T-1],re=$[T];for(O.push(q),B.push(ee.slice()),D=0;D<3;++D){if(isNaN(ee[D])||isNaN(re[D])||!isFinite(ee[D])||!isFinite(re[D])){if(!R&&P.length>0){for(var J=0;J<24;++J)P.push(P[P.length-12]);N+=2,G=!0}continue e}H[0][D]=Math.min(H[0][D],ee[D],re[D]),H[1][D]=Math.max(H[1][D],ee[D],re[D])}Array.isArray(j[0])?(ae=j.length>T-1?j[T-1]:j.length>0?j[j.length-1]:[0,0,0,1],te=j.length>T?j[T]:j.length>0?j[j.length-1]:[0,0,0,1]):ae=te=j,3===ae.length&&(ae=[ae[0],ae[1],ae[2],1]),3===te.length&&(te=[te[0],te[1],te[2],1]),!this.hasAlpha&&ae[3]<1&&(this.hasAlpha=!0),Q=Array.isArray(W)?W.length>T-1?W[T-1]:W.length>0?W[W.length-1]:[0,0,0,1]:W;var le=q;if(q+=v(ee,re),G){for(D=0;D<2;++D)P.push(ee[0],ee[1],ee[2],re[0],re[1],re[2],le,Q,ae[0],ae[1],ae[2],ae[3]);N+=2,G=!1}P.push(ee[0],ee[1],ee[2],re[0],re[1],re[2],le,Q,ae[0],ae[1],ae[2],ae[3],ee[0],ee[1],ee[2],re[0],re[1],re[2],le,-Q,ae[0],ae[1],ae[2],ae[3],re[0],re[1],re[2],ee[0],ee[1],ee[2],q,-Q,te[0],te[1],te[2],te[3],re[0],re[1],re[2],ee[0],ee[1],ee[2],q,Q,te[0],te[1],te[2],te[3]),N+=4}}if(this.buffer.update(P),O.push(q),B.push($[$.length-1].slice()),this.bounds=H,this.vertexCount=N,this.points=B,this.arcLength=O,"dashes"in C){var fe=C.dashes.slice();for(fe.unshift(0),T=1;T<fe.length;++T)fe[T]=fe[T-1]+fe[T];var ce=h(new Array(1024),[256,1,4]);for(T=0;T<256;++T){for(D=0;D<4;++D)ce.set(T,0,D,0);1&l.le(fe,fe[fe.length-1]*T/255)?ce.set(T,0,0,0):ce.set(T,0,0,255)}this.texture.setPixels(ce)}},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},f.pick=function(C){if(!C||C.id!==this.pickId)return null;var $,j,W,T=($=C.value[0],j=C.value[1],W=C.value[2],o[0]=0,o[1]=W,o[2]=j,o[3]=$,u[0]),D=l.le(this.arcLength,T);if(D<0)return null;if(D===this.arcLength.length-1)return new y(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),D);for(var R=this.points[D],P=this.points[Math.min(D+1,this.points.length-1)],O=(T-this.arcLength[D])/(this.arcLength[D+1]-this.arcLength[D]),B=1-O,q=[0,0,0],N=0;N<3;++N)q[N]=B*R[N]+O*P[N];var H=Math.min(O<.5?D:D+1,this.points.length-1);return new y(T,q,H,this.points[H])}},1903:function(d){d.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},6864:function(d){d.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9921:function(d){d.exports=function(s){var t=s[0],i=s[1],n=s[2],r=s[3],o=s[4],u=s[5],l=s[6],h=s[7],c=s[8],b=s[9],p=s[10],m=s[11],v=s[12],x=s[13],y=s[14],w=s[15];return(t*u-i*o)*(p*w-m*y)-(t*l-n*o)*(b*w-m*x)+(t*h-r*o)*(b*y-p*x)+(i*l-n*u)*(c*w-m*v)-(i*h-r*u)*(c*y-p*v)+(n*h-r*l)*(c*x-b*v)}},7399:function(d){d.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=t[3],u=i+i,l=n+n,h=r+r,c=i*u,b=n*u,p=n*l,m=r*u,v=r*l,x=r*h,y=o*u,w=o*l,f=o*h;return s[0]=1-p-x,s[1]=b+f,s[2]=m-w,s[3]=0,s[4]=b-f,s[5]=1-c-x,s[6]=v+y,s[7]=0,s[8]=m+w,s[9]=v-y,s[10]=1-c-p,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},6743:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],u=t[3],l=n+n,h=r+r,c=o+o,b=n*l,p=n*h,m=n*c,v=r*h,x=r*c,y=o*c,w=u*l,f=u*h,C=u*c;return s[0]=1-(v+y),s[1]=p+C,s[2]=m-f,s[3]=0,s[4]=p-C,s[5]=1-(b+y),s[6]=x+w,s[7]=0,s[8]=m+f,s[9]=x-w,s[10]=1-(b+v),s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}},7894:function(d){d.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7608:function(d){d.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=t[3],u=t[4],l=t[5],h=t[6],c=t[7],b=t[8],p=t[9],m=t[10],v=t[11],x=t[12],y=t[13],w=t[14],f=t[15],C=i*l-n*u,T=i*h-r*u,D=i*c-o*u,R=n*h-r*l,P=n*c-o*l,O=r*c-o*h,B=b*y-p*x,q=b*w-m*x,N=b*f-v*x,H=p*w-m*y,$=p*f-v*y,j=m*f-v*w,W=C*j-T*$+D*H+R*N-P*q+O*B;return W?(s[0]=(l*j-h*$+c*H)*(W=1/W),s[1]=(r*$-n*j-o*H)*W,s[2]=(y*O-w*P+f*R)*W,s[3]=(m*P-p*O-v*R)*W,s[4]=(h*N-u*j-c*q)*W,s[5]=(i*j-r*N+o*q)*W,s[6]=(w*D-x*O-f*T)*W,s[7]=(b*O-m*D+v*T)*W,s[8]=(u*$-l*N+c*B)*W,s[9]=(n*N-i*$-o*B)*W,s[10]=(x*P-y*D+f*C)*W,s[11]=(p*D-b*P-v*C)*W,s[12]=(l*q-u*H-h*B)*W,s[13]=(i*H-n*q+r*B)*W,s[14]=(y*T-x*R-w*C)*W,s[15]=(b*R-p*T+m*C)*W,s):null}},6582:function(d,s,t){var i=t(7894);d.exports=function(n,r,o,u){var l,h,c,b,p,m,v,x,y,w,f=r[0],C=r[1],T=r[2],D=u[0],R=u[1],P=u[2],O=o[0],B=o[1],q=o[2];return Math.abs(f-O)<1e-6&&Math.abs(C-B)<1e-6&&Math.abs(T-q)<1e-6?i(n):(v=f-O,x=C-B,y=T-q,l=R*(y*=w=1/Math.sqrt(v*v+x*x+y*y))-P*(x*=w),h=P*(v*=w)-D*y,c=D*x-R*v,(w=Math.sqrt(l*l+h*h+c*c))?(l*=w=1/w,h*=w,c*=w):(l=0,h=0,c=0),b=x*c-y*h,p=y*l-v*c,m=v*h-x*l,(w=Math.sqrt(b*b+p*p+m*m))?(b*=w=1/w,p*=w,m*=w):(b=0,p=0,m=0),n[0]=l,n[1]=b,n[2]=v,n[3]=0,n[4]=h,n[5]=p,n[6]=x,n[7]=0,n[8]=c,n[9]=m,n[10]=y,n[11]=0,n[12]=-(l*f+h*C+c*T),n[13]=-(b*f+p*C+m*T),n[14]=-(v*f+x*C+y*T),n[15]=1,n)}},6760:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],u=t[3],l=t[4],h=t[5],c=t[6],b=t[7],p=t[8],m=t[9],v=t[10],x=t[11],y=t[12],w=t[13],f=t[14],C=t[15],T=i[0],D=i[1],R=i[2],P=i[3];return s[0]=T*n+D*l+R*p+P*y,s[1]=T*r+D*h+R*m+P*w,s[2]=T*o+D*c+R*v+P*f,s[3]=T*u+D*b+R*x+P*C,s[4]=(T=i[4])*n+(D=i[5])*l+(R=i[6])*p+(P=i[7])*y,s[5]=T*r+D*h+R*m+P*w,s[6]=T*o+D*c+R*v+P*f,s[7]=T*u+D*b+R*x+P*C,s[8]=(T=i[8])*n+(D=i[9])*l+(R=i[10])*p+(P=i[11])*y,s[9]=T*r+D*h+R*m+P*w,s[10]=T*o+D*c+R*v+P*f,s[11]=T*u+D*b+R*x+P*C,s[12]=(T=i[12])*n+(D=i[13])*l+(R=i[14])*p+(P=i[15])*y,s[13]=T*r+D*h+R*m+P*w,s[14]=T*o+D*c+R*v+P*f,s[15]=T*u+D*b+R*x+P*C,s}},4040:function(d){d.exports=function(s,t,i,n,r,o,u){var l=1/(t-i),h=1/(n-r),c=1/(o-u);return s[0]=-2*l,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(t+i)*l,s[13]=(r+n)*h,s[14]=(u+o)*c,s[15]=1,s}},4772:function(d){d.exports=function(s,t,i,n,r){var o=1/Math.tan(t/2),u=1/(n-r);return s[0]=o/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(r+n)*u,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*r*n*u,s[15]=0,s}},6079:function(d){d.exports=function(s,t,i,n){var r,o,u,l,h,c,b,p,m,v,x,y,w,f,C,T,D,R,P,O,B,q,N,H,$=n[0],j=n[1],W=n[2],G=Math.sqrt($*$+j*j+W*W);return Math.abs(G)<1e-6?null:($*=G=1/G,j*=G,W*=G,r=Math.sin(i),u=1-(o=Math.cos(i)),h=t[1],c=t[2],b=t[3],m=t[5],v=t[6],x=t[7],w=t[9],f=t[10],C=t[11],P=$*j*u-W*r,O=j*j*u+o,B=W*j*u+$*r,q=$*W*u+j*r,N=j*W*u-$*r,H=W*W*u+o,s[0]=(l=t[0])*(T=$*$*u+o)+(p=t[4])*(D=j*$*u+W*r)+(y=t[8])*(R=W*$*u-j*r),s[1]=h*T+m*D+w*R,s[2]=c*T+v*D+f*R,s[3]=b*T+x*D+C*R,s[4]=l*P+p*O+y*B,s[5]=h*P+m*O+w*B,s[6]=c*P+v*O+f*B,s[7]=b*P+x*O+C*B,s[8]=l*q+p*N+y*H,s[9]=h*q+m*N+w*H,s[10]=c*q+v*N+f*H,s[11]=b*q+x*N+C*H,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},5567:function(d){d.exports=function(s,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[4],u=t[5],l=t[6],h=t[7],c=t[8],b=t[9],p=t[10],m=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=o*r+c*n,s[5]=u*r+b*n,s[6]=l*r+p*n,s[7]=h*r+m*n,s[8]=c*r-o*n,s[9]=b*r-u*n,s[10]=p*r-l*n,s[11]=m*r-h*n,s}},2408:function(d){d.exports=function(s,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[0],u=t[1],l=t[2],h=t[3],c=t[8],b=t[9],p=t[10],m=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=o*r-c*n,s[1]=u*r-b*n,s[2]=l*r-p*n,s[3]=h*r-m*n,s[8]=o*n+c*r,s[9]=u*n+b*r,s[10]=l*n+p*r,s[11]=h*n+m*r,s}},7089:function(d){d.exports=function(s,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[0],u=t[1],l=t[2],h=t[3],c=t[4],b=t[5],p=t[6],m=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=o*r+c*n,s[1]=u*r+b*n,s[2]=l*r+p*n,s[3]=h*r+m*n,s[4]=c*r-o*n,s[5]=b*r-u*n,s[6]=p*r-l*n,s[7]=m*r-h*n,s}},2504:function(d){d.exports=function(s,t,i){var n=i[0],r=i[1],o=i[2];return s[0]=t[0]*n,s[1]=t[1]*n,s[2]=t[2]*n,s[3]=t[3]*n,s[4]=t[4]*r,s[5]=t[5]*r,s[6]=t[6]*r,s[7]=t[7]*r,s[8]=t[8]*o,s[9]=t[9]*o,s[10]=t[10]*o,s[11]=t[11]*o,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},7656:function(d){d.exports=function(s,t,i){var n,r,o,u,l,h,c,b,p,m,v,x,y=i[0],w=i[1],f=i[2];return t===s?(s[12]=t[0]*y+t[4]*w+t[8]*f+t[12],s[13]=t[1]*y+t[5]*w+t[9]*f+t[13],s[14]=t[2]*y+t[6]*w+t[10]*f+t[14],s[15]=t[3]*y+t[7]*w+t[11]*f+t[15]):(r=t[1],o=t[2],u=t[3],l=t[4],h=t[5],c=t[6],b=t[7],p=t[8],m=t[9],v=t[10],x=t[11],s[0]=n=t[0],s[1]=r,s[2]=o,s[3]=u,s[4]=l,s[5]=h,s[6]=c,s[7]=b,s[8]=p,s[9]=m,s[10]=v,s[11]=x,s[12]=n*y+l*w+p*f+t[12],s[13]=r*y+h*w+m*f+t[13],s[14]=o*y+c*w+v*f+t[14],s[15]=u*y+b*w+x*f+t[15]),s}},5665:function(d){d.exports=function(s,t){if(s===t){var i=t[1],n=t[2],r=t[3],o=t[6],u=t[7],l=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=i,s[6]=t[9],s[7]=t[13],s[8]=n,s[9]=o,s[11]=t[14],s[12]=r,s[13]=u,s[14]=l}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},7626:function(d,s,t){"use strict";var i=t(2642),n=t(9346);function r(l,h){for(var c=[0,0,0,0],b=0;b<4;++b)for(var p=0;p<4;++p)c[p]+=l[4*b+p]*h[b];return c}function o(l,h,c,b,p){for(var m=r(b,r(c,r(h,[l[0],l[1],l[2],1]))),v=0;v<3;++v)m[v]/=m[3];return[.5*p[0]*(1+m[0]),.5*p[1]*(1-m[1])]}function u(l,h){for(var c=[0,0,0],b=0;b<l.length;++b)for(var p=l[b],m=h[b],v=0;v<3;++v)c[v]+=m*p[v];return c}d.exports=function(l,h,c,b,p,m){if(1===l.length)return[0,l[0].slice()];for(var v=new Array(l.length),x=0;x<l.length;++x)v[x]=o(l[x],c,b,p,m);var y=0,w=1/0;for(x=0;x<v.length;++x){for(var f=0,C=0;C<2;++C)f+=Math.pow(v[x][C]-h[C],2);f<w&&(w=f,y=x)}var T=function(R,P){if(2===R.length){for(var O=0,B=0,q=0;q<2;++q)O+=Math.pow(P[q]-R[0][q],2),B+=Math.pow(P[q]-R[1][q],2);return(O=Math.sqrt(O))+(B=Math.sqrt(B))<1e-6?[1,0]:[B/(O+B),O/(B+O)]}if(3===R.length){var N=[0,0];return n(R[0],R[1],R[2],P,N),i(R,N)}return[]}(v,h),D=0;for(x=0;x<3;++x){if(T[x]<-.001||T[x]>1.0001)return null;D+=T[x]}return Math.abs(D-1)>.001?null:[y,u(l,T),T]}},840:function(d,s,t){var i=t(3236),n=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),r=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),h=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),b=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),p=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),m=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),v=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);s.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:o,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:l,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:p,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:m,fragment:v,attributes:[{name:"position",type:"vec3"}]}},7201:function(d,s,t){"use strict";var i=t(9405),n=t(2762),r=t(8116),o=t(7766),u=t(8406),l=t(6760),h=t(7608),c=t(9618),b=t(6729),p=t(7765),m=t(1888),v=t(840),x=t(7626),y=v.meshShader,w=v.wireShader,f=v.pointShader,C=v.pickShader,T=v.pointPickShader,D=v.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function P(j,W,G,ae,te,Q,ee,re,J,le,fe,ce,ge,Te,Me,we,xe,be,ye,Se,Ee,he,ue,me,Pe,Ce,Ie){this.gl=j,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=W,this.dirty=!0,this.triShader=G,this.lineShader=ae,this.pointShader=te,this.pickShader=Q,this.pointPickShader=ee,this.contourShader=re,this.trianglePositions=J,this.triangleColors=fe,this.triangleNormals=ge,this.triangleUVs=ce,this.triangleIds=le,this.triangleVAO=Te,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Me,this.edgeColors=xe,this.edgeUVs=be,this.edgeIds=we,this.edgeVAO=ye,this.edgeCount=0,this.pointPositions=Se,this.pointColors=he,this.pointUVs=ue,this.pointSizes=me,this.pointIds=Ee,this.pointVAO=Pe,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Ce,this.contourVAO=Ie,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var O=P.prototype;function B(j,W){if(!W||!W.length)return 1;for(var G=0;G<W.length;++G){if(W.length<2)return 1;if(W[G][0]===j)return W[G][1];if(W[G][0]>j&&G>0){var ae=(W[G][0]-j)/(W[G][0]-W[G-1][0]);return W[G][1]*(1-ae)+ae*W[G-1][1]}}return 1}O.isOpaque=function(){return!this.hasAlpha},O.isTransparent=function(){return this.hasAlpha},O.pickSlots=1,O.setPickBase=function(j){this.pickId=j},O.highlight=function(j){if(j&&this.contourEnable){for(var W=p(this.cells,this.intensity,j.intensity),G=W.cells,ae=W.vertexIds,te=W.vertexWeights,Q=G.length,ee=m.mallocFloat32(6*Q),re=0,J=0;J<Q;++J)for(var le=G[J],fe=0;fe<2;++fe){var ce=le[0];2===le.length&&(ce=le[fe]);for(var Me=te[ce],we=1-Me,xe=this.positions[ae[ce][0]],be=this.positions[ae[ce][1]],ye=0;ye<3;++ye)ee[re++]=Me*xe[ye]+we*be[ye]}this.contourCount=re/3|0,this.contourPositions.update(ee.subarray(0,re)),m.free(ee)}else this.contourCount=0},O.update=function(j){j=j||{};var W=this.gl;this.dirty=!0,"contourEnable"in j&&(this.contourEnable=j.contourEnable),"contourColor"in j&&(this.contourColor=j.contourColor),"lineWidth"in j&&(this.lineWidth=j.lineWidth),"lightPosition"in j&&(this.lightPosition=j.lightPosition),this.hasAlpha=!1,"opacity"in j&&(this.opacity=j.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in j&&(this.opacityscale=j.opacityscale,this.hasAlpha=!0),"ambient"in j&&(this.ambientLight=j.ambient),"diffuse"in j&&(this.diffuseLight=j.diffuse),"specular"in j&&(this.specularLight=j.specular),"roughness"in j&&(this.roughness=j.roughness),"fresnel"in j&&(this.fresnel=j.fresnel),j.texture?(this.texture.dispose(),this.texture=o(W,j.texture)):j.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=W.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=W.LINEAR,this.texture.setPixels(function(Ut,Ht){for(var Pt=b({colormap:Ut,nshades:256,format:"rgba"}),Je=new Uint8Array(1024),tt=0;tt<256;++tt){for(var Ge=Pt[tt],Qe=0;Qe<3;++Qe)Je[4*tt+Qe]=Ge[Qe];Je[4*tt+3]=Ht?255*B(tt/255,Ht):255*Ge[3]}return c(Je,[256,256,4],[4,0,1])}(j.colormap,this.opacityscale)),this.texture.generateMipmap());var G=j.cells,ae=j.positions;if(ae&&G){var te=[],Q=[],ee=[],re=[],J=[],le=[],fe=[],ce=[],ge=[],Te=[],Me=[],we=[],xe=[],be=[];this.cells=G,this.positions=ae;var ye=j.vertexNormals,Se=j.cellNormals,Ee=void 0===j.vertexNormalsEpsilon?1e-6:j.vertexNormalsEpsilon;j.useFacetNormals&&!Se&&(Se=u.faceNormals(G,ae,void 0===j.faceNormalsEpsilon?1e-6:j.faceNormalsEpsilon)),Se||ye||(ye=u.vertexNormals(G,ae,Ee));var ue=j.vertexColors,me=j.cellColors,Pe=j.meshColor||[1,1,1,1],Ce=j.vertexUVs,Ie=j.vertexIntensity,Oe=j.cellUVs,ze=j.cellIntensity,je=1/0,ve=-1/0;if(!Ce&&!Oe)if(Ie)if(j.vertexIntensityBounds)je=+j.vertexIntensityBounds[0],ve=+j.vertexIntensityBounds[1];else for(var Ae=0;Ae<Ie.length;++Ae){var Le=Ie[Ae];je=Math.min(je,Le),ve=Math.max(ve,Le)}else if(ze)if(j.cellIntensityBounds)je=+j.cellIntensityBounds[0],ve=+j.cellIntensityBounds[1];else for(Ae=0;Ae<ze.length;++Ae)Le=ze[Ae],je=Math.min(je,Le),ve=Math.max(ve,Le);else for(Ae=0;Ae<ae.length;++Ae)Le=ae[Ae][2],je=Math.min(je,Le),ve=Math.max(ve,Le);this.intensity=Ie||ze||function(Ut){for(var Ht=Ut.length,Pt=new Array(Ht),Je=0;Je<Ht;++Je)Pt[Je]=Ut[Je][2];return Pt}(ae),this.pickVertex=!(ze||me);var Ve=j.pointSizes,Ne=j.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ae=0;Ae<ae.length;++Ae)for(var We=ae[Ae],Xe=0;Xe<3;++Xe)!isNaN(We[Xe])&&isFinite(We[Xe])&&(this.bounds[0][Xe]=Math.min(this.bounds[0][Xe],We[Xe]),this.bounds[1][Xe]=Math.max(this.bounds[1][Xe],We[Xe]));var nt=0,dt=0,ht=0;e:for(Ae=0;Ae<G.length;++Ae){var Mt=G[Ae];switch(Mt.length){case 1:for(We=ae[_t=Mt[0]],Xe=0;Xe<3;++Xe)if(isNaN(We[Xe])||!isFinite(We[Xe]))continue e;Te.push(We[0],We[1],We[2]),ut=ue?ue[_t]:me?me[Ae]:Pe,this.opacityscale&&Ie?Q.push(ut[0],ut[1],ut[2],this.opacity*B((Ie[_t]-je)/(ve-je),this.opacityscale)):3===ut.length?Me.push(ut[0],ut[1],ut[2],this.opacity):(Me.push(ut[0],ut[1],ut[2],ut[3]*this.opacity),ut[3]<1&&(this.hasAlpha=!0)),we.push((st=Ce?Ce[_t]:Ie?[(Ie[_t]-je)/(ve-je),0]:Oe?Oe[Ae]:ze?[(ze[Ae]-je)/(ve-je),0]:[(We[2]-je)/(ve-je),0])[0],st[1]),xe.push(Ve?Ve[_t]:Ne),be.push(Ae),ht+=1;break;case 2:for(Xe=0;Xe<2;++Xe){We=ae[_t=Mt[Xe]];for(var kt=0;kt<3;++kt)if(isNaN(We[kt])||!isFinite(We[kt]))continue e}for(Xe=0;Xe<2;++Xe)We=ae[_t=Mt[Xe]],le.push(We[0],We[1],We[2]),ut=ue?ue[_t]:me?me[Ae]:Pe,this.opacityscale&&Ie?Q.push(ut[0],ut[1],ut[2],this.opacity*B((Ie[_t]-je)/(ve-je),this.opacityscale)):3===ut.length?fe.push(ut[0],ut[1],ut[2],this.opacity):(fe.push(ut[0],ut[1],ut[2],ut[3]*this.opacity),ut[3]<1&&(this.hasAlpha=!0)),ce.push((st=Ce?Ce[_t]:Ie?[(Ie[_t]-je)/(ve-je),0]:Oe?Oe[Ae]:ze?[(ze[Ae]-je)/(ve-je),0]:[(We[2]-je)/(ve-je),0])[0],st[1]),ge.push(Ae);dt+=1;break;case 3:for(Xe=0;Xe<3;++Xe)for(We=ae[_t=Mt[Xe]],kt=0;kt<3;++kt)if(isNaN(We[kt])||!isFinite(We[kt]))continue e;for(Xe=0;Xe<3;++Xe){var _t,ut,st,Lt;We=ae[_t=Mt[2-Xe]],te.push(We[0],We[1],We[2]),(ut=ue?ue[_t]:me?me[Ae]:Pe)?this.opacityscale&&Ie?Q.push(ut[0],ut[1],ut[2],this.opacity*B((Ie[_t]-je)/(ve-je),this.opacityscale)):3===ut.length?Q.push(ut[0],ut[1],ut[2],this.opacity):(Q.push(ut[0],ut[1],ut[2],ut[3]*this.opacity),ut[3]<1&&(this.hasAlpha=!0)):Q.push(.5,.5,.5,1),re.push((st=Ce?Ce[_t]:Ie?[(Ie[_t]-je)/(ve-je),0]:Oe?Oe[Ae]:ze?[(ze[Ae]-je)/(ve-je),0]:[(We[2]-je)/(ve-je),0])[0],st[1]),ee.push((Lt=ye?ye[_t]:Se[Ae])[0],Lt[1],Lt[2]),J.push(Ae)}nt+=1}}this.pointCount=ht,this.edgeCount=dt,this.triangleCount=nt,this.pointPositions.update(Te),this.pointColors.update(Me),this.pointUVs.update(we),this.pointSizes.update(xe),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(le),this.edgeColors.update(fe),this.edgeUVs.update(ce),this.edgeIds.update(new Uint32Array(ge)),this.trianglePositions.update(te),this.triangleColors.update(Q),this.triangleUVs.update(re),this.triangleNormals.update(ee),this.triangleIds.update(new Uint32Array(J))}},O.drawTransparent=O.draw=function(j){for(var W=this.gl,G=(j=j||{}).model||R,ae=j.view||R,te=j.projection||R,Q=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)Q[0][ee]=Math.max(Q[0][ee],this.clipBounds[0][ee]),Q[1][ee]=Math.min(Q[1][ee],this.clipBounds[1][ee]);var re={model:G,view:ae,projection:te,inverseModel:R.slice(),clipBounds:Q,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};re.inverseModel=h(re.inverseModel,re.model),W.disable(W.CULL_FACE),this.texture.bind(0);var J=new Array(16);for(l(J,re.view,re.model),l(J,re.projection,J),h(J,J),ee=0;ee<3;++ee)re.eyePosition[ee]=J[12+ee]/J[15];var le,fe=J[15];for(ee=0;ee<3;++ee)fe+=this.lightPosition[ee]*J[4*ee+3];for(ee=0;ee<3;++ee){for(var ce=J[12+ee],ge=0;ge<3;++ge)ce+=J[4*ge+ee]*this.lightPosition[ge];re.lightPosition[ee]=ce/fe}this.triangleCount>0&&((le=this.triShader).bind(),le.uniforms=re,this.triangleVAO.bind(),W.drawArrays(W.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((le=this.lineShader).bind(),le.uniforms=re,this.edgeVAO.bind(),W.lineWidth(this.lineWidth*this.pixelRatio),W.drawArrays(W.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((le=this.pointShader).bind(),le.uniforms=re,this.pointVAO.bind(),W.drawArrays(W.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((le=this.contourShader).bind(),le.uniforms=re,this.contourVAO.bind(),W.drawArrays(W.LINES,0,this.contourCount),this.contourVAO.unbind())},O.drawPick=function(j){for(var W=this.gl,G=(j=j||{}).model||R,ae=j.view||R,te=j.projection||R,Q=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)Q[0][ee]=Math.max(Q[0][ee],this.clipBounds[0][ee]),Q[1][ee]=Math.min(Q[1][ee],this.clipBounds[1][ee]);this._model=[].slice.call(G),this._view=[].slice.call(ae),this._projection=[].slice.call(te),this._resolution=[W.drawingBufferWidth,W.drawingBufferHeight];var re,J={model:G,view:ae,projection:te,clipBounds:Q,pickId:this.pickId/255};(re=this.pickShader).bind(),re.uniforms=J,this.triangleCount>0&&(this.triangleVAO.bind(),W.drawArrays(W.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),W.lineWidth(this.lineWidth*this.pixelRatio),W.drawArrays(W.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((re=this.pointPickShader).bind(),re.uniforms=J,this.pointVAO.bind(),W.drawArrays(W.POINTS,0,this.pointCount),this.pointVAO.unbind())},O.pick=function(j){if(!j||j.id!==this.pickId)return null;for(var W=j.value[0]+256*j.value[1]+65536*j.value[2],G=this.cells[W],ae=this.positions,te=new Array(G.length),Q=0;Q<G.length;++Q)te[Q]=ae[G[Q]];var ee=j.coord[0],re=j.coord[1];if(!this.pickVertex){var J=this.positions[G[0]],le=this.positions[G[1]],fe=this.positions[G[2]];return{_cellCenter:!0,position:[ee,re],index:W,cell:G,cellId:W,intensity:this.intensity[W],dataCoordinate:[(J[0]+le[0]+fe[0])/3,(J[1]+le[1]+fe[1])/3,(J[2]+le[2]+fe[2])/3]}}var ge=x(te,[ee*this.pixelRatio,this._resolution[1]-re*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ge)return null;var Te=ge[2],Me=0;for(Q=0;Q<G.length;++Q)Me+=Te[Q]*this.intensity[G[Q]];return{position:ge[1],index:G[ge[0]],cell:G,cellId:W,intensity:Me,dataCoordinate:this.positions[G[ge[0]]]}},O.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},d.exports=function(j,W){if(1===arguments.length&&(j=(W=j).gl),!(j.getExtension("OES_standard_derivatives")||j.getExtension("MOZ_OES_standard_derivatives")||j.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var je,G=((je=i(j,y.vertex,y.fragment)).attributes.position.location=0,je.attributes.color.location=2,je.attributes.uv.location=3,je.attributes.normal.location=4,je),ae=function(ze){var je=i(ze,w.vertex,w.fragment);return je.attributes.position.location=0,je.attributes.color.location=2,je.attributes.uv.location=3,je}(j),te=function q(j){var W=i(j,f.vertex,f.fragment);return W.attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W.attributes.pointSize.location=4,W}(j),Q=function N(j){var W=i(j,C.vertex,C.fragment);return W.attributes.position.location=0,W.attributes.id.location=1,W}(j),ee=function H(j){var W=i(j,T.vertex,T.fragment);return W.attributes.position.location=0,W.attributes.id.location=1,W.attributes.pointSize.location=4,W}(j),re=function $(j){var W=i(j,D.vertex,D.fragment);return W.attributes.position.location=0,W}(j),J=o(j,c(new Uint8Array([255,255,255,255]),[1,1,4]));J.generateMipmap(),J.minFilter=j.LINEAR_MIPMAP_LINEAR,J.magFilter=j.LINEAR;var le=n(j),fe=n(j),ce=n(j),ge=n(j),Te=n(j),Me=r(j,[{buffer:le,type:j.FLOAT,size:3},{buffer:Te,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:fe,type:j.FLOAT,size:4},{buffer:ce,type:j.FLOAT,size:2},{buffer:ge,type:j.FLOAT,size:3}]),we=n(j),xe=n(j),be=n(j),ye=n(j),Se=r(j,[{buffer:we,type:j.FLOAT,size:3},{buffer:ye,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:j.FLOAT,size:4},{buffer:be,type:j.FLOAT,size:2}]),Ee=n(j),he=n(j),ue=n(j),me=n(j),Pe=n(j),Ce=r(j,[{buffer:Ee,type:j.FLOAT,size:3},{buffer:Pe,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:he,type:j.FLOAT,size:4},{buffer:ue,type:j.FLOAT,size:2},{buffer:me,type:j.FLOAT,size:1}]),Ie=n(j),Oe=new P(j,J,G,ae,te,Q,ee,re,le,Te,fe,ce,ge,Me,we,ye,xe,be,Se,Ee,Pe,he,ue,me,Ce,Ie,r(j,[{buffer:Ie,type:j.FLOAT,size:3}]));return Oe.update(W),Oe}},8120:function(d,s,t){"use strict";d.exports=function(c){var b=c.gl;return new o(c,i(b,[0,0,0,1,1,0,1,1]),n(b,r.boxVert,r.lineFrag))};var i=t(2762),n=t(9405),r=t(3603);function o(c,b,p){this.plot=c,this.vbo=b,this.shader=p}var u,l,h=o.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawBox=(u=[0,0],l=[0,0],function(c,b,p,m,v){var y=this.shader,w=this.plot.gl;u[0]=c,u[1]=b,l[0]=p,l[1]=m,y.uniforms.lo=u,y.uniforms.hi=l,y.uniforms.color=v,w.drawArrays(w.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1913:function(d,s,t){"use strict";d.exports=function(x){var y=x.gl;return new u(x,i(y),n(y,o.gridVert,o.gridFrag),n(y,o.tickVert,o.gridFrag))};var i=t(2762),n=t(9405),r=t(2478),o=t(3603);function u(x,y,w,f){this.plot=x,this.vbo=y,this.shader=w,this.tickShader=f,this.ticks=[[],[]]}function l(x,y){return x-y}var h,c,b,p,m,x,y,w,f,C,T,v=u.prototype;v.draw=(h=[0,0],c=[0,0],b=[0,0],function(){for(var x=this.plot,y=this.vbo,w=this.shader,f=this.ticks,C=x.gl,T=x._tickBounds,D=x.dataBox,R=x.viewBox,P=x.gridLineWidth,O=x.gridLineColor,B=x.gridLineEnable,q=x.pixelRatio,N=0;N<2;++N){var H=T[N],j=.5*(D[N+2]+D[N]),W=D[N+2]-D[N];c[N]=2*(T[N+2]-H)/W,h[N]=2*(H-j)/W}w.bind(),y.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=h,w.uniforms.dataScale=c;var G=0;for(N=0;N<2;++N){b[0]=b[1]=0,b[N]=1,w.uniforms.dataAxis=b,w.uniforms.lineWidth=P[N]/(R[N+2]-R[N])*q,w.uniforms.color=O[N];var ae=6*f[N].length;B[N]&&ae&&C.drawArrays(C.TRIANGLES,G,ae),G+=ae}}),v.drawTickMarks=(x=[0,0],y=[0,0],w=[1,0],f=[0,1],C=[0,0],T=[0,0],function(){for(var D=this.plot,R=this.vbo,P=this.tickShader,O=this.ticks,B=D.gl,q=D._tickBounds,N=D.dataBox,H=D.viewBox,$=D.pixelRatio,j=D.screenBox,W=j[2]-j[0],G=j[3]-j[1],ae=H[2]-H[0],te=H[3]-H[1],Q=0;Q<2;++Q){var ee=q[Q],J=.5*(N[Q+2]+N[Q]),le=N[Q+2]-N[Q];y[Q]=2*(q[Q+2]-ee)/le,x[Q]=2*(ee-J)/le}y[0]*=ae/W,x[0]*=ae/W,y[1]*=te/G,x[1]*=te/G,P.bind(),R.bind(),P.attributes.dataCoord.pointer();var fe=P.uniforms;fe.dataShift=x,fe.dataScale=y;var ce=D.tickMarkLength,ge=D.tickMarkWidth,Te=D.tickMarkColor,Me=6*O[0].length,we=Math.min(r.ge(O[0],(N[0]-q[0])/(q[2]-q[0]),l),O[0].length),xe=Math.min(r.gt(O[0],(N[2]-q[0])/(q[2]-q[0]),l),O[0].length),be=0+6*we,ye=6*Math.max(0,xe-we),Se=Math.min(r.ge(O[1],(N[1]-q[1])/(q[3]-q[1]),l),O[1].length),Ee=Math.min(r.gt(O[1],(N[3]-q[1])/(q[3]-q[1]),l),O[1].length),he=Me+6*Se,ue=6*Math.max(0,Ee-Se);C[0]=2*(H[0]-ce[1])/W-1,C[1]=(H[3]+H[1])/G-1,T[0]=ce[1]*$/W,T[1]=ge[1]*$/G,ue&&(fe.color=Te[1],fe.tickScale=T,fe.dataAxis=f,fe.screenOffset=C,B.drawArrays(B.TRIANGLES,he,ue)),C[0]=(H[2]+H[0])/W-1,C[1]=2*(H[1]-ce[0])/G-1,T[0]=ge[0]*$/W,T[1]=ce[0]*$/G,ye&&(fe.color=Te[0],fe.tickScale=T,fe.dataAxis=w,fe.screenOffset=C,B.drawArrays(B.TRIANGLES,be,ye)),C[0]=2*(H[2]+ce[3])/W-1,C[1]=(H[3]+H[1])/G-1,T[0]=ce[3]*$/W,T[1]=ge[3]*$/G,ue&&(fe.color=Te[3],fe.tickScale=T,fe.dataAxis=f,fe.screenOffset=C,B.drawArrays(B.TRIANGLES,he,ue)),C[0]=(H[2]+H[0])/W-1,C[1]=2*(H[3]+ce[2])/G-1,T[0]=ge[2]*$/W,T[1]=ce[2]*$/G,ye&&(fe.color=Te[2],fe.tickScale=T,fe.dataAxis=w,fe.screenOffset=C,B.drawArrays(B.TRIANGLES,be,ye))}),v.update=(p=[1,1,-1,-1,1,-1],m=[1,-1,1,1,-1,-1],function(x){for(var y=x.ticks,w=x.bounds,f=new Float32Array(18*(y[0].length+y[1].length)),C=0,T=[[],[]],D=0;D<2;++D)for(var R=T[D],P=y[D],O=w[D],B=w[D+2],q=0;q<P.length;++q){var N=(P[q].x-O)/(B-O);R.push(N);for(var H=0;H<6;++H)f[C++]=N,f[C++]=p[H],f[C++]=m[H]}this.ticks=T,this.vbo.update(f)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},4747:function(d,s,t){"use strict";d.exports=function(c){var b=c.gl;return new o(c,i(b,[-1,-1,-1,1,1,-1,1,1]),n(b,r.lineVert,r.lineFrag))};var i=t(2762),n=t(9405),r=t(3603);function o(c,b,p){this.plot=c,this.vbo=b,this.shader=p}var u,l,h=o.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawLine=(u=[0,0],l=[0,0],function(c,b,p,m,v,x){var y=this.plot,w=this.shader,f=y.gl;u[0]=c,u[1]=b,l[0]=p,l[1]=m,w.uniforms.start=u,w.uniforms.end=l,w.uniforms.width=v*y.pixelRatio,w.uniforms.color=x,f.drawArrays(f.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3603:function(d,s,t){"use strict";var i=t(3236),n=i(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);d.exports={lineVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:n,textVert:i(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:n,gridVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:n,boxVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},2142:function(d,s,t){"use strict";d.exports=function(y){var w=y.gl;return new l(y,i(w),n(w,u.textVert,u.textFrag))};var i=t(2762),n=t(9405),r=t(529),o=t(2478),u=t(3603);function l(y,w,f){this.plot=y,this.vbo=w,this.shader=f,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var h,c,b,p,m,v,y,w,x=l.prototype;x.drawTicks=(h=[0,0],c=[0,0],b=[0,0],function(y){var w=this.plot,f=this.shader,C=this.tickX[y],T=this.tickOffset[y],D=w.gl,R=w.viewBox,P=w.dataBox,O=w.screenBox,B=w.pixelRatio,q=w.tickEnable,N=w.tickPad,H=w.tickColor,$=w.tickAngle,j=w.labelEnable,W=w.labelPad,G=w.labelColor,ae=w.labelAngle,te=this.labelOffset[y],Q=this.labelCount[y],ee=o.lt(C,P[y]),re=o.le(C,P[y+2]);h[0]=h[1]=0,h[y]=1,c[y]=(R[2+y]+R[y])/(O[2+y]-O[y])-1;var J=2/O[2+(1^y)]-O[1^y];c[1^y]=J*R[1^y]-1,q[y]&&(c[1^y]-=J*B*N[y],ee<re&&T[re]>T[ee]&&(f.uniforms.dataAxis=h,f.uniforms.screenOffset=c,f.uniforms.color=H[y],f.uniforms.angle=$[y],D.drawArrays(D.TRIANGLES,T[ee],T[re]-T[ee]))),j[y]&&Q&&(c[1^y]-=J*B*W[y],f.uniforms.dataAxis=b,f.uniforms.screenOffset=c,f.uniforms.color=G[y],f.uniforms.angle=ae[y],D.drawArrays(D.TRIANGLES,te,Q)),c[1^y]=J*R[2+(1^y)]-1,q[y+2]&&(c[1^y]+=J*B*N[y+2],ee<re&&T[re]>T[ee]&&(f.uniforms.dataAxis=h,f.uniforms.screenOffset=c,f.uniforms.color=H[y+2],f.uniforms.angle=$[y+2],D.drawArrays(D.TRIANGLES,T[ee],T[re]-T[ee]))),j[y+2]&&Q&&(c[1^y]+=J*B*W[y+2],f.uniforms.dataAxis=b,f.uniforms.screenOffset=c,f.uniforms.color=G[y+2],f.uniforms.angle=ae[y+2],D.drawArrays(D.TRIANGLES,te,Q))}),x.drawTitle=(y=[0,0],w=[0,0],function(){var f=this.plot,C=this.shader,T=f.gl,D=f.screenBox,R=f.titleCenter,P=f.titleAngle,O=f.titleColor,B=f.pixelRatio;if(this.titleCount){for(var q=0;q<2;++q)w[q]=2*(R[q]*B-D[q])/(D[2+q]-D[q])-1;C.bind(),C.uniforms.dataAxis=y,C.uniforms.screenOffset=w,C.uniforms.angle=P,C.uniforms.color=O,T.drawArrays(T.TRIANGLES,this.titleOffset,this.titleCount)}}),x.bind=(p=[0,0],m=[0,0],v=[0,0],function(){var y=this.plot,w=this.shader,f=y._tickBounds,C=y.dataBox,T=y.screenBox,D=y.viewBox;w.bind();for(var R=0;R<2;++R){var P=f[R],B=.5*(C[R+2]+C[R]),q=C[R+2]-C[R],H=D[R+2]-D[R],j=T[R+2]-T[R];m[R]=2*(f[R+2]-P)/q*H/j,p[R]=2*(P-B)/q*H/j}v[1]=2*y.pixelRatio/(T[3]-T[1]),v[0]=v[1]*(T[3]-T[1])/(T[2]-T[0]),w.uniforms.dataScale=m,w.uniforms.dataShift=p,w.uniforms.textScale=v,this.vbo.bind(),w.attributes.textCoordinate.pointer()}),x.update=function(y){var w,f,C,T,D,R=[],P=y.ticks,O=y.bounds;for(D=0;D<2;++D){var B=[Math.floor(R.length/3)],q=[-1/0],N=P[D];for(w=0;w<N.length;++w){var H=N[w],$=H.x,W=H.font||"sans-serif",G=H.fontStyle||"normal",ae=H.fontWeight||"normal",te=H.fontVariant||"normal";T=H.fontSize||12;for(var Q=1/(O[D+2]-O[D]),ee=O[D],re=H.text.split("\n"),J=0;J<re.length;J++)for(C=r(W,re[J],{fontStyle:G,fontWeight:ae,fontVariant:te}).data,f=0;f<C.length;f+=2)R.push(C[f]*T,-C[f+1]*T-J*T*1.2,($-ee)*Q);B.push(Math.floor(R.length/3)),q.push($)}this.tickOffset[D]=B,this.tickX[D]=q}for(D=0;D<2;++D){for(this.labelOffset[D]=Math.floor(R.length/3),C=r(y.labelFont[D],y.labels[D],{fontStyle:y.labelFontStyle[D],fontWeight:y.labelFontWeight[D],fontVariant:y.labelFontVariant[D],textAlign:"center"}).data,T=y.labelSize[D],w=0;w<C.length;w+=2)R.push(C[w]*T,-C[w+1]*T,0);this.labelCount[D]=Math.floor(R.length/3)-this.labelOffset[D]}for(this.titleOffset=Math.floor(R.length/3),C=r(y.titleFont,y.title,{fontStyle:y.titleFontStyle,fontWeight:y.titleFontWeight,fontVariant:y.titleFontVariant}).data,T=y.titleSize,w=0;w<C.length;w+=2)R.push(C[w]*T,-C[w+1]*T,0);this.titleCount=Math.floor(R.length/3)-this.titleOffset,this.vbo.update(R)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1850:function(d,s,t){"use strict";d.exports=function(p){var m=p.gl,v=new l(m,i(m,[m.drawingBufferWidth,m.drawingBufferHeight]));return v.grid=n(v),v.text=r(v),v.line=o(v),v.box=u(v),v.update(p),v};var i=t(3589),n=t(1913),r=t(2142),o=t(4747),u=t(8120);function l(p,m){this.gl=p,this.pickBuffer=m,this.screenBox=[0,0,p.drawingBufferWidth,p.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var h=l.prototype;function c(p){for(var m=p.slice(),v=0;v<m.length;++v)m[v]=m[v].slice();return m}function b(p,m){return p.x-m.x}h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536},h.draw=function(){var p=this.gl,m=this.screenBox,v=this.viewBox,x=this.dataBox,y=this.pixelRatio,w=this.grid,f=this.line,C=this.text,T=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,p.bindFramebuffer(p.FRAMEBUFFER,null),p.enable(p.SCISSOR_TEST),p.disable(p.DEPTH_TEST),p.depthFunc(p.LESS),p.depthMask(!1),p.enable(p.BLEND),p.blendEquation(p.FUNC_ADD,p.FUNC_ADD),p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA),this.borderColor){p.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]);var D=this.borderColor;p.clearColor(D[0]*D[3],D[1]*D[3],D[2]*D[3],D[3]),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT)}p.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]),p.viewport(v[0],v[1],v[2]-v[0],v[3]-v[1]);var R=this.backgroundColor;p.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),p.clear(p.COLOR_BUFFER_BIT),w.draw();var P=this.zeroLineEnable,O=this.zeroLineColor,B=this.zeroLineWidth;if(P[0]||P[1]){f.bind();for(var q=0;q<2;++q)if(P[q]&&x[q]<=0&&x[q+2]>=0){var N=m[q]-x[q]*(m[q+2]-m[q])/(x[q+2]-x[q]);0===q?f.drawLine(N,m[1],N,m[3],B[q],O[q]):f.drawLine(m[0],N,m[2],N,B[q],O[q])}}for(q=0;q<T.length;++q)T[q].draw();p.viewport(m[0],m[1],m[2]-m[0],m[3]-m[1]),p.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]),this.grid.drawTickMarks(),f.bind();var H=this.borderLineEnable,$=this.borderLineWidth,j=this.borderLineColor;for(H[1]&&f.drawLine(v[0],v[1]-.5*$[1]*y,v[0],v[3]+.5*$[3]*y,$[1],j[1]),H[0]&&f.drawLine(v[0]-.5*$[0]*y,v[1],v[2]+.5*$[2]*y,v[1],$[0],j[0]),H[3]&&f.drawLine(v[2],v[1]-.5*$[1]*y,v[2],v[3]+.5*$[3]*y,$[3],j[3]),H[2]&&f.drawLine(v[0]-.5*$[0]*y,v[3],v[2]+.5*$[2]*y,v[3],$[2],j[2]),C.bind(),q=0;q<2;++q)C.drawTicks(q);this.titleEnable&&C.drawTitle();var W=this.overlays;for(q=0;q<W.length;++q)W[q].draw();p.disable(p.SCISSOR_TEST),p.disable(p.BLEND),p.depthMask(!0)}},h.drawPick=function(){if(!this.static){var p=this.pickBuffer;this._pickTimeout=null,p.begin();for(var m=1,v=this.objects,x=0;x<v.length;++x)m=v[x].drawPick(m);p.end()}},h.pick=function(p,m){if(!this.static){var v=this.pixelRatio,x=this.pickPixelRatio,y=this.viewBox,w=0|Math.round((p-y[0]/v)*x),f=0|Math.round((m-y[1]/v)*x),C=this.pickBuffer.query(w,f,this.pickRadius);if(!C)return null;for(var T=C.id+(C.value[0]<<8)+(C.value[1]<<16)+(C.value[2]<<24),D=this.objects,R=0;R<D.length;++R){var P=D[R].pick(w,f,T);if(P)return P}return null}},h.setScreenBox=function(p){var m=this.screenBox,v=this.pixelRatio;m[0]=0|Math.round(p[0]*v),m[1]=0|Math.round(p[1]*v),m[2]=0|Math.round(p[2]*v),m[3]=0|Math.round(p[3]*v),this.setDirty()},h.setDataBox=function(p){var m=this.dataBox;(m[0]!==p[0]||m[1]!==p[1]||m[2]!==p[2]||m[3]!==p[3])&&(m[0]=p[0],m[1]=p[1],m[2]=p[2],m[3]=p[3],this.setDirty())},h.setViewBox=function(p){var m=this.pixelRatio,v=this.viewBox;v[0]=0|Math.round(p[0]*m),v[1]=0|Math.round(p[1]*m),v[2]=0|Math.round(p[2]*m),v[3]=0|Math.round(p[3]*m);var x=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((p[2]-p[0])*x),0|Math.round((p[3]-p[1])*x)],this.setDirty()},h.update=function(p){var m=this.gl;this.pixelRatio=(p=p||{}).pixelRatio||1;var v=this.pixelRatio;this.pickPixelRatio=Math.max(v,1),this.setScreenBox(p.screenBox||[0,0,m.drawingBufferWidth/v,m.drawingBufferHeight/v]),this.setViewBox(p.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/v,.125*(this.screenBox[3]-this.screenBox[1])/v,.875*(this.screenBox[2]-this.screenBox[0])/v,.875*(this.screenBox[3]-this.screenBox[1])/v]);var x=this.viewBox,y=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(p.dataBox||[-10,-10/y,10,10/y]),this.borderColor=!1!==p.borderColor&&(p.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(p.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(p.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(p.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(p.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(p.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(p.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(p.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(p.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(p.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(p.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(p.titleCenter||[.5*(x[0]+x[2])/v,(x[3]+120)/v]).slice(),this.titleEnable=!("titleEnable"in p)||!!p.titleEnable,this.titleAngle=p.titleAngle||0,this.titleColor=(p.titleColor||[0,0,0,1]).slice(),this.labelPad=(p.labelPad||[15,15,15,15]).slice(),this.labelAngle=(p.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(p.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(p.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(p.tickPad||[15,15,15,15]).slice(),this.tickAngle=(p.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(p.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(p.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(p.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(p.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(p.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var w=p.ticks||[[],[]],f=this._tickBounds;f[0]=f[1]=1/0,f[2]=f[3]=-1/0;for(var C=0;C<2;++C){var T=w[C].slice(0);0!==T.length&&(T.sort(b),f[C]=Math.min(f[C],T[0].x),f[C+2]=Math.max(f[C+2],T[T.length-1].x))}this.grid.update({bounds:f,ticks:w}),this.text.update({bounds:f,ticks:w,labels:p.labels||["x","y"],labelSize:p.labelSize||[12,12],labelFont:p.labelFont||["sans-serif","sans-serif"],labelFontStyle:p.labelFontStyle||["normal","normal"],labelFontWeight:p.labelFontWeight||["normal","normal"],labelFontVariant:p.labelFontVariant||["normal","normal"],title:p.title||"",titleSize:p.titleSize||18,titleFont:p.titleFont||"sans-serif",titleFontStyle:p.titleFontStyle||"normal",titleFontWeight:p.titleFontWeight||"normal",titleFontVariant:p.titleFontVariant||"normal"}),this.static=!!p.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var p=this.objects.length-1;p>=0;--p)this.objects[p].dispose();for(this.objects.length=0,p=this.overlays.length-1;p>=0;--p)this.overlays[p].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(p){this.objects.indexOf(p)<0&&(this.objects.push(p),this.setDirty())},h.removeObject=function(p){for(var m=this.objects,v=0;v<m.length;++v)if(m[v]===p){m.splice(v,1),this.setDirty();break}},h.addOverlay=function(p){this.overlays.indexOf(p)<0&&(this.overlays.push(p),this.setOverlayDirty())},h.removeOverlay=function(p){for(var m=this.overlays,v=0;v<m.length;++v)if(m[v]===p){m.splice(v,1),this.setOverlayDirty();break}}},4437:function(d,s,t){"use strict";d.exports=function(h,c){h=h||document.body;var b=[.01,1/0];"distanceLimits"in(c=c||{})&&(b[0]=c.distanceLimits[0],b[1]=c.distanceLimits[1]),"zoomMin"in c&&(b[0]=c.zoomMin),"zoomMax"in c&&(b[1]=c.zoomMax);var p=n({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:b}),m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0,x=h.clientWidth,y=h.clientHeight,w={keyBindingMode:"rotate",enableWheel:!0,view:p,element:h,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:p.modes,_ortho:c._ortho||c.projection&&"orthographic"===c.projection.type||!1,tick:function(){var f=i(),C=this.delay,T=f-2*C;p.idle(f-C),p.recalcMatrix(T),p.flush(f-(100+2*C));for(var D=!0,R=p.computedMatrix,P=0;P<16;++P)D=D&&m[P]===R[P],m[P]=R[P];var O=h.clientWidth===x&&h.clientHeight===y;return x=h.clientWidth,y=h.clientHeight,D?!O:(v=Math.exp(p.computedRadius[0]),!0)},lookAt:function(f,C,T){p.lookAt(p.lastT(),f,C,T)},rotate:function(f,C,T){p.rotate(p.lastT(),f,C,T)},pan:function(f,C,T){p.pan(p.lastT(),f,C,T)},translate:function(f,C,T){p.translate(p.lastT(),f,C,T)}};return Object.defineProperties(w,{matrix:{get:function(){return p.computedMatrix},set:function(f){return p.setMatrix(p.lastT(),f),p.computedMatrix},enumerable:!0},mode:{get:function(){return p.getMode()},set:function(f){var C=p.computedUp.slice(),T=p.computedEye.slice(),D=p.computedCenter.slice();if(p.setMode(f),"turntable"===f){var R=i();p._active.lookAt(R,T,D,C),p._active.lookAt(R+500,T,D,[0,0,1]),p._active.flush(R)}return p.getMode()},enumerable:!0},center:{get:function(){return p.computedCenter},set:function(f){return p.lookAt(p.lastT(),null,f),p.computedCenter},enumerable:!0},eye:{get:function(){return p.computedEye},set:function(f){return p.lookAt(p.lastT(),f),p.computedEye},enumerable:!0},up:{get:function(){return p.computedUp},set:function(f){return p.lookAt(p.lastT(),null,null,f),p.computedUp},enumerable:!0},distance:{get:function(){return v},set:function(f){return p.setDistance(p.lastT(),f),f},enumerable:!0},distanceLimits:{get:function(){return p.getDistanceLimits(b)},set:function(f){return p.setDistanceLimits(f),f},enumerable:!0}}),h.addEventListener("contextmenu",function(f){return f.preventDefault(),!1}),w._lastX=-1,w._lastY=-1,w._lastMods={shift:!1,control:!1,alt:!1,meta:!1},w.enableMouseListeners=function(){function f(C,T,D,R){var P=w.keyBindingMode;if(!1!==P){var O="rotate"===P,B="pan"===P,q="zoom"===P,N=!!R.control,H=!!R.alt,$=!!R.shift,j=!!(1&C),W=!!(2&C),G=!!(4&C),ae=1/h.clientHeight,te=ae*(T-w._lastX),Q=ae*(D-w._lastY),ee=w.flipX?1:-1,re=w.flipY?1:-1,J=Math.PI*w.rotateSpeed,le=i();if(-1!==w._lastX&&-1!==w._lastY&&((O&&j&&!N&&!H&&!$||j&&!N&&!H&&$)&&p.rotate(le,ee*J*te,-re*J*Q,0),(B&&j&&!N&&!H&&!$||W||j&&N&&!H&&!$)&&p.pan(le,-w.translateSpeed*te*v,w.translateSpeed*Q*v,0),q&&j&&!N&&!H&&!$||G||j&&!N&&H&&!$)){var fe=-w.zoomSpeed*Q/window.innerHeight*(le-p.lastT())*100;p.pan(le,0,0,v*(Math.exp(fe)-1))}return w._lastX=T,w._lastY=D,w._lastMods=R,!0}}w.mouseListener=r(h,f),h.addEventListener("touchstart",function(C){var T=u(C.changedTouches[0],h);f(0,T[0],T[1],w._lastMods),f(1,T[0],T[1],w._lastMods)},!!l&&{passive:!0}),h.addEventListener("touchmove",function(C){var T=u(C.changedTouches[0],h);f(1,T[0],T[1],w._lastMods),C.preventDefault()},!!l&&{passive:!1}),h.addEventListener("touchend",function(C){f(0,w._lastX,w._lastY,w._lastMods)},!!l&&{passive:!0}),w.wheelListener=o(h,function(C,T){if(!1!==w.keyBindingMode&&w.enableWheel){var D=w.flipX?1:-1,R=w.flipY?1:-1,P=i();if(Math.abs(C)>Math.abs(T))p.rotate(P,0,0,-C*D*Math.PI*w.rotateSpeed/window.innerWidth);else if(!w._ortho){var O=-w.zoomSpeed*R*T/window.innerHeight*(P-p.lastT())/20;p.pan(P,0,0,v*(Math.exp(O)-1))}}},!0)},w.enableMouseListeners(),w};var i=t(3025),n=t(6296),r=t(351),o=t(8512),u=t(24),l=t(7520)},799:function(d,s,t){var i=t(3236),n=t(9405),r=i(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),o=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);d.exports=function(u){return n(u,r,o,null,[{name:"position",type:"vec2"}])}},4100:function(d,s,t){"use strict";var i=t(4437),n=t(3837),r=t(5445),o=t(4449),u=t(3589),l=t(2260),h=t(7169),c=t(351),b=t(4772),p=t(4040),m=t(799),v=t(9216)({tablet:!0,featureDetect:!0});function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function y(f){var C=Math.round(Math.log(Math.abs(f))/Math.log(10));if(C<0){var T=Math.round(Math.pow(10,-C));return Math.ceil(f*T)/T}return C>0?(T=Math.round(Math.pow(10,C)),Math.ceil(f/T)*T):Math.ceil(f)}function w(f){return"boolean"!=typeof f||f}d.exports={createScene:function(f){(f=f||{}).camera=f.camera||{};var C=f.canvas;C||(C=document.createElement("canvas"),f.container?f.container.appendChild(C):document.body.appendChild(C));var T=f.gl;if(T||(f.glOptions&&(v=!!f.glOptions.preserveDrawingBuffer),T=function(ye,Se){var Ee=null;try{(Ee=ye.getContext("webgl",Se))||(Ee=ye.getContext("experimental-webgl",Se))}catch{return null}return Ee}(C,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:v})),!T)throw new Error("webgl not supported");var D=f.bounds||[[-10,-10,-10],[10,10,10]],R=new x,P=l(T,T.drawingBufferWidth,T.drawingBufferHeight,{preferFloat:!v}),O=m(T),B=f.cameraObject&&!0===f.cameraObject._ortho||f.camera.projection&&"orthographic"===f.camera.projection.type||!1,q={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:B},N=f.axes||{},H=n(T,N);H.enable=!N.disable;var j=o(T,f.spikes||{}),W=[],G=[],ae=[],te=[],Q=!0,ee=!0,re={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},J=(ee=!0,[T.drawingBufferWidth,T.drawingBufferHeight]),le=f.cameraObject||i(C,q),fe={gl:T,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:C,selection:R,camera:le,axes:H,axesPixels:null,spikes:j,bounds:D,objects:W,shape:J,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:w(f.autoResize),autoBounds:w(f.autoBounds),autoScale:!!f.autoScale,autoCenter:w(f.autoCenter),clipToBounds:w(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:re,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ye){this.aspect[0]=ye.x,this.aspect[1]=ye.y,this.aspect[2]=ye.z,ee=!0},setBounds:function(ye,Se){this.bounds[0][ye]=Se.min,this.bounds[1][ye]=Se.max},setClearColor:function(ye){this.clearColor=ye},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[T.drawingBufferWidth/fe.pixelRatio|0,T.drawingBufferHeight/fe.pixelRatio|0];function ge(){if(!fe._stopped&&fe.autoResize){var ye=C.parentNode,Se=1,Ee=1;ye&&ye!==document.body?(Se=ye.clientWidth,Ee=ye.clientHeight):(Se=window.innerWidth,Ee=window.innerHeight);var he=0|Math.ceil(Se*fe.pixelRatio),ue=0|Math.ceil(Ee*fe.pixelRatio);if(he!==C.width||ue!==C.height){C.width=he,C.height=ue;var me=C.style;me.position=me.position||"absolute",me.left="0px",me.top="0px",me.width=Se+"px",me.height=Ee+"px",Q=!0}}}function Te(){for(var ye=W.length,Se=te.length,Ee=0;Ee<Se;++Ee)ae[Ee]=0;e:for(Ee=0;Ee<ye;++Ee){var he=W[Ee],ue=he.pickSlots;if(ue){for(var me=0;me<Se;++me)if(ae[me]+ue<255){G[Ee]=me,he.setPickBase(ae[me]+1),ae[me]+=ue;continue e}var Pe=u(T,J);G[Ee]=Se,te.push(Pe),ae.push(ue),he.setPickBase(1),Se+=1}else G[Ee]=-1}for(;Se>0&&0===ae[Se-1];)ae.pop(),te.pop().dispose()}function Me(){if(fe.contextLost)return!0;T.isContextLost()&&(fe.contextLost=!0,fe.mouseListener.enabled=!1,fe.selection.object=null,fe.oncontextloss&&fe.oncontextloss())}fe.autoResize&&ge(),window.addEventListener("resize",ge),fe.update=function(ye){fe._stopped||(ye=ye||{},Q=!0,ee=!0)},fe.add=function(ye){fe._stopped||(ye.axes=H,W.push(ye),G.push(-1),Q=!0,ee=!0,Te())},fe.remove=function(ye){if(!fe._stopped){var Se=W.indexOf(ye);Se<0||(W.splice(Se,1),G.pop(),Q=!0,ee=!0,Te())}},fe.dispose=function(){if(!fe._stopped&&(fe._stopped=!0,window.removeEventListener("resize",ge),C.removeEventListener("webglcontextlost",Me),fe.mouseListener.enabled=!1,!fe.contextLost)){H.dispose(),j.dispose();for(var ye=0;ye<W.length;++ye)W[ye].dispose();for(P.dispose(),ye=0;ye<te.length;++ye)te[ye].dispose();O.dispose(),T=null,H=null,j=null,W=[]}},fe._mouseRotating=!1,fe._prevButtons=0,fe.enableMouseListeners=function(){fe.mouseListener=c(C,function(ye,Se,Ee){if(!fe._stopped){var he=te.length,ue=W.length,me=R.object;R.distance=1/0,R.mouse[0]=Se,R.mouse[1]=Ee,R.object=null,R.screen=null,R.dataCoordinate=R.dataPosition=null;var Pe=!1;if(ye&&fe._prevButtons)fe._mouseRotating=!0;else{fe._mouseRotating&&(ee=!0),fe._mouseRotating=!1;for(var Ce=0;Ce<he;++Ce){var Ie=te[Ce].query(Se,ce[1]-Ee-1,fe.pickRadius);if(Ie){if(Ie.distance>R.distance)continue;for(var Oe=0;Oe<ue;++Oe){var ze=W[Oe];if(G[Oe]===Ce){var je=ze.pick(Ie);je&&(R.buttons=ye,R.screen=Ie.coord,R.distance=Ie.distance,R.object=ze,R.index=je.distance,R.dataPosition=je.position,R.dataCoordinate=je.dataCoordinate,R.data=je,Pe=!0)}}}}}me&&me!==R.object&&(me.highlight&&me.highlight(null),Q=!0),R.object&&(R.object.highlight&&R.object.highlight(R.data),Q=!0),(Pe=Pe||R.object!==me)&&fe.onselect&&fe.onselect(R),1&ye&&!(1&fe._prevButtons)&&fe.onclick&&fe.onclick(R),fe._prevButtons=ye}})},C.addEventListener("webglcontextlost",Me);var we=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],xe=[we[0].slice(),we[1].slice()];function be(){if(!Me()){ge();var ye=fe.camera.tick();re.view=fe.camera.matrix,Q=Q||ye,ee=ee||ye,H.pixelRatio=fe.pixelRatio,j.pixelRatio=fe.pixelRatio;var Se=W.length,Ee=we[0],he=we[1];Ee[0]=Ee[1]=Ee[2]=1/0,he[0]=he[1]=he[2]=-1/0;for(var ue=0;ue<Se;++ue){(Ne=W[ue]).pixelRatio=fe.pixelRatio,Ne.axes=fe.axes,Q=Q||!!Ne.dirty,ee=ee||!!Ne.dirty;var me=Ne.bounds;if(me)for(var Pe=me[0],Ce=me[1],Ie=0;Ie<3;++Ie)Ee[Ie]=Math.min(Ee[Ie],Pe[Ie]),he[Ie]=Math.max(he[Ie],Ce[Ie])}var Oe=fe.bounds;if(fe.autoBounds)for(Ie=0;Ie<3;++Ie){if(he[Ie]<Ee[Ie])Ee[Ie]=-1,he[Ie]=1;else{Ee[Ie]===he[Ie]&&(Ee[Ie]-=1,he[Ie]+=1);var ze=.05*(he[Ie]-Ee[Ie]);Ee[Ie]=Ee[Ie]-ze,he[Ie]=he[Ie]+ze}Oe[0][Ie]=Ee[Ie],Oe[1][Ie]=he[Ie]}var je=!1;for(Ie=0;Ie<3;++Ie)je=je||xe[0][Ie]!==Oe[0][Ie]||xe[1][Ie]!==Oe[1][Ie],xe[0][Ie]=Oe[0][Ie],xe[1][Ie]=Oe[1][Ie];if(ee=ee||je,Q=Q||je){if(je){var ve=[0,0,0];for(ue=0;ue<3;++ue)ve[ue]=y((Oe[1][ue]-Oe[0][ue])/10);H.update(H.autoTicks?{bounds:Oe,tickSpacing:ve}:{bounds:Oe})}var Ae=T.drawingBufferWidth,Le=T.drawingBufferHeight;for(J[0]=Ae,J[1]=Le,ce[0]=0|Math.max(Ae/fe.pixelRatio,1),ce[1]=0|Math.max(Le/fe.pixelRatio,1),function(We,Xe){var nt=We.bounds,dt=We.cameraParams,ht=dt.projection,Mt=dt.model,ut=We.zNear,st=We.zFar,Lt=We.fovy,Ut=We.gl.drawingBufferWidth/We.gl.drawingBufferHeight;Xe?(p(ht,-Ut,Ut,-1,1,ut,st),dt._ortho=!0):(b(ht,Lt,Ut,ut,st),dt._ortho=!1);for(var Ht=0;Ht<16;++Ht)Mt[Ht]=0;Mt[15]=1;var Pt=0;for(Ht=0;Ht<3;++Ht)Pt=Math.max(Pt,nt[1][Ht]-nt[0][Ht]);for(Ht=0;Ht<3;++Ht)Mt[5*Ht]=We.autoScale?We.aspect[Ht]/(nt[1][Ht]-nt[0][Ht]):1/Pt,We.autoCenter&&(Mt[12+Ht]=.5*-Mt[5*Ht]*(nt[0][Ht]+nt[1][Ht]))}(fe,B),ue=0;ue<Se;++ue)(Ne=W[ue]).axesBounds=Oe,fe.clipToBounds&&(Ne.clipBounds=Oe);R.object&&(j.position=fe.snapToData?R.dataCoordinate:R.dataPosition,j.bounds=Oe),ee&&(ee=!1,function(){if(!Me()){T.colorMask(!0,!0,!0,!0),T.depthMask(!0),T.disable(T.BLEND),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL);for(var We=W.length,Xe=te.length,nt=0;nt<Xe;++nt){var dt=te[nt];dt.shape=ce,dt.begin();for(var ht=0;ht<We;++ht)if(G[ht]===nt){var Mt=W[ht];Mt.drawPick&&(Mt.pixelRatio=1,Mt.drawPick(re))}dt.end()}}}()),fe.axesPixels=r(fe.axes,re,Ae,Le),fe.onrender&&fe.onrender(),T.bindFramebuffer(T.FRAMEBUFFER,null),T.viewport(0,0,Ae,Le),fe.clearRGBA(),T.depthMask(!0),T.colorMask(!0,!0,!0,!0),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.disable(T.BLEND),T.disable(T.CULL_FACE);var Ve=!1;for(H.enable&&(Ve=Ve||H.isTransparent(),H.draw(re)),j.axes=H,R.object&&j.draw(re),T.disable(T.CULL_FACE),ue=0;ue<Se;++ue)(Ne=W[ue]).axes=H,Ne.pixelRatio=fe.pixelRatio,Ne.isOpaque&&Ne.isOpaque()&&Ne.draw(re),Ne.isTransparent&&Ne.isTransparent()&&(Ve=!0);if(Ve){for(P.shape=J,P.bind(),T.clear(T.DEPTH_BUFFER_BIT),T.colorMask(!1,!1,!1,!1),T.depthMask(!0),T.depthFunc(T.LESS),H.enable&&H.isTransparent()&&H.drawTransparent(re),ue=0;ue<Se;++ue)(Ne=W[ue]).isOpaque&&Ne.isOpaque()&&Ne.draw(re);for(T.enable(T.BLEND),T.blendEquation(T.FUNC_ADD),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.colorMask(!0,!0,!0,!0),T.depthMask(!1),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),H.isTransparent()&&H.drawTransparent(re),ue=0;ue<Se;++ue){var Ne;(Ne=W[ue]).isTransparent&&Ne.isTransparent()&&Ne.drawTransparent(re)}T.bindFramebuffer(T.FRAMEBUFFER,null),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.disable(T.DEPTH_TEST),O.bind(),P.color[0].bind(0),O.uniforms.accumBuffer=0,h(T),T.disable(T.BLEND)}for(Q=!1,ue=0;ue<Se;++ue)W[ue].dirty=!1}}}return fe.enableMouseListeners(),function ye(){fe._stopped||fe.contextLost||(be(),requestAnimationFrame(ye))}(),fe.redraw=function(){fe._stopped||(Q=!0,be())},fe},createCamera:i}},6640:function(d,s,t){var i=t(3236);s.pointVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),s.pointFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),s.pickVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),s.pickFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},4696:function(d,s,t){"use strict";var i=t(9405),n=t(2762),r=t(1888),o=t(6640);function u(b,p,m,v,x){this.plot=b,this.offsetBuffer=p,this.pickBuffer=m,this.shader=v,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}d.exports=function(b,p){var m=b.gl,v=new u(b,n(m),n(m),i(m,o.pointVertex,o.pointFragment),i(m,o.pickVertex,o.pickFragment));return v.update(p),b.addObject(v),v};var l,h,c=u.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(b){var p;function m(T,D){return T in b?b[T]:D}b=b||{},this.sizeMin=m("sizeMin",.5),this.sizeMax=m("sizeMax",20),this.color=m("color",[1,0,0,1]).slice(),this.areaRatio=m("areaRatio",1),this.borderColor=m("borderColor",[0,0,0,1]).slice(),this.blend=m("blend",!1);var v=b.positions.length>>>1,x=b.positions instanceof Float32Array,y=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=v,w=b.positions,f=x?w:r.mallocFloat32(w.length),C=y?b.idToIndex:r.mallocInt32(v);if(x||f.set(w),!y)for(f.set(w),p=0;p<v;p++)C[p]=p;this.points=w,this.offsetBuffer.update(f),this.pickBuffer.update(C),x||r.free(f),y||r.free(C),this.pointCount=v,this.pickOffset=0},c.unifiedDraw=(l=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0],function(b){var p=void 0!==b,m=p?this.pickShader:this.shader,v=this.plot.gl,x=this.plot.dataBox;if(0===this.pointCount)return b;var y=x[2]-x[0],w=x[3]-x[1],f=function(R,P){var O,B=0,q=R.length>>>1;for(O=0;O<q;O++){var N=R[2*O],H=R[2*O+1];N>=P[0]&&N<=P[2]&&H>=P[1]&&H<=P[3]&&B++}return B}(this.points,x),C=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(f,.33333)));l[0]=2/y,l[4]=2/w,l[6]=-2*x[0]/y-1,l[7]=-2*x[1]/w-1,this.offsetBuffer.bind(),m.bind(),m.attributes.position.pointer(),m.uniforms.matrix=l,m.uniforms.color=this.color,m.uniforms.borderColor=this.borderColor,m.uniforms.pointCloud=C<5,m.uniforms.pointSize=C,m.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(h[0]=255&b,h[1]=b>>8&255,h[2]=b>>16&255,h[3]=b>>24&255,this.pickBuffer.bind(),m.attributes.pickId.pointer(v.UNSIGNED_BYTE),m.uniforms.pickOffset=h,this.pickOffset=b);var T=v.getParameter(v.BLEND),D=v.getParameter(v.DITHER);return T&&!this.blend&&v.disable(v.BLEND),D&&v.disable(v.DITHER),v.drawArrays(v.POINTS,0,this.pointCount),T&&!this.blend&&v.enable(v.BLEND),D&&v.enable(v.DITHER),b+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(b,p,m){var v=this.pickOffset;if(m<v||m>=v+this.pointCount)return null;var y=m-v,w=this.points;return{object:this,pointId:y,dataCoord:[w[2*y],w[2*y+1]]}}},783:function(d){d.exports=function(s,t,i,n){var r,o,u,l,h,c=t[0],b=t[1],p=t[2],m=t[3],v=i[0],x=i[1],y=i[2],w=i[3];return(o=c*v+b*x+p*y+m*w)<0&&(o=-o,v=-v,x=-x,y=-y,w=-w),1-o>1e-6?(r=Math.acos(o),u=Math.sin(r),l=Math.sin((1-n)*r)/u,h=Math.sin(n*r)/u):(l=1-n,h=n),s[0]=l*c+h*v,s[1]=l*b+h*x,s[2]=l*p+h*y,s[3]=l*m+h*w,s}},5964:function(d){"use strict";d.exports=function(s){return s||0===s?s.toString():""}},9366:function(d,s,t){"use strict";var i=t(4359);d.exports=function(r,o,u){var l=[o.style,o.weight,o.variant,o.family].join("_"),h=n[l];if(h||(h=n[l]={}),r in h)return h[r];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:o.family,fontStyle:o.style,fontWeight:o.weight,fontVariant:o.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},b=i(r,c);c.triangles=!1;var p,m,v=i(r,c);if(u&&1!==u){for(p=0;p<b.positions.length;++p)for(m=0;m<b.positions[p].length;++m)b.positions[p][m]/=u;for(p=0;p<v.positions.length;++p)for(m=0;m<v.positions[p].length;++m)v.positions[p][m]/=u}var x=[[1/0,1/0],[-1/0,-1/0]],y=v.positions.length;for(p=0;p<y;++p){var w=v.positions[p];for(m=0;m<2;++m)x[0][m]=Math.min(x[0][m],w[m]),x[1][m]=Math.max(x[1][m],w[m])}return h[r]=[b,v,x]};var n={}},1283:function(d,s,t){var i=t(9405),n=t(3236),r=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),o=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),u=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:r,fragment:l,attributes:c},p={vertex:o,fragment:l,attributes:c},m={vertex:u,fragment:l,attributes:c},v={vertex:r,fragment:h,attributes:c},x={vertex:o,fragment:h,attributes:c},y={vertex:u,fragment:h,attributes:c};function w(f,C){var T=i(f,C),D=T.attributes;return D.position.location=0,D.color.location=1,D.glyph.location=2,D.id.location=3,T}s.createPerspective=function(f){return w(f,b)},s.createOrtho=function(f){return w(f,p)},s.createProject=function(f){return w(f,m)},s.createPickPerspective=function(f){return w(f,v)},s.createPickOrtho=function(f){return w(f,x)},s.createPickProject=function(f){return w(f,y)}},8418:function(d,s,t){"use strict";var i=t(5219),n=t(2762),r=t(8116),o=t(1888),u=t(6760),l=t(1283),h=t(9366),c=t(5964),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(G,ae){var te=G[0],Q=G[1],ee=G[2],re=G[3];return G[0]=ae[0]*te+ae[4]*Q+ae[8]*ee+ae[12]*re,G[1]=ae[1]*te+ae[5]*Q+ae[9]*ee+ae[13]*re,G[2]=ae[2]*te+ae[6]*Q+ae[10]*ee+ae[14]*re,G[3]=ae[3]*te+ae[7]*Q+ae[11]*ee+ae[15]*re,G}function m(G,ae,te,Q){return p(Q,Q),p(Q,Q),p(Q,Q)}function v(G,ae){this.index=G,this.dataCoordinate=this.position=ae}function x(G){return!0===G||G>1?1:G}function y(G,ae,te,Q,ee,re,J,le,fe,ce,ge,Te){this.gl=G,this.pixelRatio=1,this.shader=ae,this.orthoShader=te,this.projectShader=Q,this.pointBuffer=ee,this.colorBuffer=re,this.glyphBuffer=J,this.idBuffer=le,this.vao=fe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ce,this.pickOrthoShader=ge,this.pickProjectShader=Te,this.points=[],this._selectResult=new v(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}d.exports=function(G){var ae=G.gl,te=l.createPerspective(ae),Q=l.createOrtho(ae),ee=l.createProject(ae),re=l.createPickPerspective(ae),J=l.createPickOrtho(ae),le=l.createPickProject(ae),fe=n(ae),ce=n(ae),ge=n(ae),Te=n(ae),Me=new y(ae,te,Q,ee,fe,ce,ge,Te,r(ae,[{buffer:fe,size:3,type:ae.FLOAT},{buffer:ce,size:4,type:ae.FLOAT},{buffer:ge,size:2,type:ae.FLOAT},{buffer:Te,size:4,type:ae.UNSIGNED_BYTE,normalized:!0}]),re,J,le);return Me.update(G),Me};var w=y.prototype;w.pickSlots=1,w.setPickBase=function(G){this.pickId=G},w.isTransparent=function(){if(this.hasAlpha)return!0;for(var G=0;G<3;++G)if(this.axesProject[G]&&this.projectHasAlpha)return!0;return!1},w.isOpaque=function(){if(!this.hasAlpha)return!0;for(var G=0;G<3;++G)if(this.axesProject[G]&&!this.projectHasAlpha)return!0;return!1};var f=[0,0],C=[0,0,0],T=[0,0,0],D=[0,0,0,1],R=[0,0,0,1],P=b.slice(),O=[0,0,0],B=[[0,0,0],[0,0,0]];function q(G){return G[0]=G[1]=G[2]=0,G}function N(G,ae){return G[0]=ae[0],G[1]=ae[1],G[2]=ae[2],G[3]=1,G}function H(G,ae,te,Q){return G[0]=ae[0],G[1]=ae[1],G[2]=ae[2],G[te]=Q,G}var $=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function j(G,ae,te,Q,ee,re,J){var le=te.gl;if((re===te.projectHasAlpha||J)&&function(ce,ge,Te,Me){var we,xe=ge.axesProject,be=ge.gl,ye=ce.uniforms,Se=Te.model||b,Ee=Te.view||b,he=Te.projection||b,ue=ge.axesBounds,me=function(nt){for(var dt=B,ht=0;ht<2;++ht)for(var Mt=0;Mt<3;++Mt)dt[ht][Mt]=Math.max(Math.min(nt[ht][Mt],1e8),-1e8);return dt}(ge.clipBounds);we=ge.axes&&ge.axes.lastCubeProps?ge.axes.lastCubeProps.axis:[1,1,1],f[0]=2/be.drawingBufferWidth,f[1]=2/be.drawingBufferHeight,ce.bind(),ye.view=Ee,ye.projection=he,ye.screenSize=f,ye.highlightId=ge.highlightId,ye.highlightScale=ge.highlightScale,ye.clipBounds=me,ye.pickGroup=ge.pickId/255,ye.pixelRatio=Me;for(var Pe=0;Pe<3;++Pe)if(xe[Pe]){ye.scale=ge.projectScale[Pe],ye.opacity=ge.projectOpacity[Pe];for(var Ce=P,Ie=0;Ie<16;++Ie)Ce[Ie]=0;for(Ie=0;Ie<4;++Ie)Ce[5*Ie]=1;Ce[5*Pe]=0,Ce[12+Pe]=we[Pe]<0?ue[0][Pe]:ue[1][Pe],u(Ce,Se,Ce),ye.model=Ce;var Oe=(Pe+1)%3,ze=(Pe+2)%3,je=q(C),ve=q(T);je[Oe]=1,ve[ze]=1;var Ae=m(0,0,0,N(D,je)),Le=m(0,0,0,N(R,ve));if(Math.abs(Ae[1])>Math.abs(Le[1])){var Ve=Ae;Ae=Le,Le=Ve,Ve=je,je=ve,ve=Ve;var Ne=Oe;Oe=ze,ze=Ne}Ae[0]<0&&(je[Oe]=-1),Le[1]>0&&(ve[ze]=-1);var We=0,Xe=0;for(Ie=0;Ie<4;++Ie)We+=Math.pow(Se[4*Oe+Ie],2),Xe+=Math.pow(Se[4*ze+Ie],2);je[Oe]/=Math.sqrt(We),ve[ze]/=Math.sqrt(Xe),ye.axes[0]=je,ye.axes[1]=ve,ye.fragClipBounds[0]=H(O,me[0],Pe,-1e8),ye.fragClipBounds[1]=H(O,me[1],Pe,1e8),ge.vao.bind(),ge.vao.draw(be.TRIANGLES,ge.vertexCount),ge.lineWidth>0&&(be.lineWidth(ge.lineWidth*Me),ge.vao.draw(be.LINES,ge.lineVertexCount,ge.vertexCount)),ge.vao.unbind()}}(ae,te,Q,ee),re===te.hasAlpha||J){G.bind();var fe=G.uniforms;fe.model=Q.model||b,fe.view=Q.view||b,fe.projection=Q.projection||b,f[0]=2/le.drawingBufferWidth,f[1]=2/le.drawingBufferHeight,fe.screenSize=f,fe.highlightId=te.highlightId,fe.highlightScale=te.highlightScale,fe.fragClipBounds=$,fe.clipBounds=te.axes.bounds,fe.opacity=te.opacity,fe.pickGroup=te.pickId/255,fe.pixelRatio=ee,te.vao.bind(),te.vao.draw(le.TRIANGLES,te.vertexCount),te.lineWidth>0&&(le.lineWidth(te.lineWidth*ee),te.vao.draw(le.LINES,te.lineVertexCount,te.vertexCount)),te.vao.unbind()}}function W(G,ae,te,Q){var ee;ee=Array.isArray(G)?ae<G.length?G[ae]:void 0:G,ee=c(ee);var re=!0;i(ee)&&(ee="\u25bc",re=!1),te||(te={});var J=te.family;Array.isArray(J)&&(J=J[ae]),J||(J="normal");var le=te.weight;Array.isArray(le)&&(le=le[ae]),le||(le="normal");var fe=te.style;Array.isArray(fe)&&(fe=fe[ae]),fe||(fe="normal");var ce=te.variant;Array.isArray(ce)&&(ce=ce[ae]),ce||(ce="normal");var ge=h(ee,{family:J,weight:le,style:fe,variant:ce},Q);return{mesh:(ge=h(ee,te,Q))[0],lines:ge[1],bounds:ge[2],visible:re}}w.draw=function(G){j(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,G,this.pixelRatio,!1,!1)},w.drawTransparent=function(G){j(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,G,this.pixelRatio,!0,!1)},w.drawPick=function(G){j(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,G,1,!0,!0)},w.pick=function(G){if(!G||G.id!==this.pickId)return null;var ae=G.value[2]+(G.value[1]<<8)+(G.value[0]<<16);if(ae>=this.pointCount||ae<0)return null;var te=this.points[ae],Q=this._selectResult;Q.index=ae;for(var ee=0;ee<3;++ee)Q.position[ee]=Q.dataCoordinate[ee]=te[ee];return Q},w.highlight=function(G){if(G){var ae=G.index;this.highlightId=[(255&ae)/255,(ae>>8&255)/255,(ae>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},w.update=function(G){if("perspective"in(G=G||{})&&(this.useOrtho=!G.perspective),"orthographic"in G&&(this.useOrtho=!!G.orthographic),"lineWidth"in G&&(this.lineWidth=G.lineWidth),"project"in G)if(Array.isArray(G.project))this.axesProject=G.project;else{var ae=!!G.project;this.axesProject=[ae,ae,ae]}if("projectScale"in G)if(Array.isArray(G.projectScale))this.projectScale=G.projectScale.slice();else{var te=+G.projectScale;this.projectScale=[te,te,te]}if(this.projectHasAlpha=!1,"projectOpacity"in G){this.projectOpacity=Array.isArray(G.projectOpacity)?G.projectOpacity.slice():[te=+G.projectOpacity,te,te];for(var Q=0;Q<3;++Q)this.projectOpacity[Q]=x(this.projectOpacity[Q]),this.projectOpacity[Q]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in G&&(this.opacity=x(G.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ee,re,J=G.position,le={family:G.font||"normal",style:G.fontStyle||"normal",weight:G.fontWeight||"normal",variant:G.fontVariant||"normal"},fe=G.alignment||[0,0];if(2===fe.length)ee=fe[0],re=fe[1];else for(ee=[],re=[],Q=0;Q<fe.length;++Q)ee[Q]=fe[Q][0],re[Q]=fe[Q][1];var ce=[1/0,1/0,1/0],ge=[-1/0,-1/0,-1/0],Te=G.glyph,Me=G.color,we=G.size,xe=G.angle,be=G.lineColor,ye=-1,Se=0,Ee=0,he=0;if(J.length){he=J.length;e:for(Q=0;Q<he;++Q){for(var ue=J[Q],me=0;me<3;++me)if(isNaN(ue[me])||!isFinite(ue[me]))continue e;var Pe=(dt=W(Te,Q,le,this.pixelRatio)).mesh,Ce=dt.lines,Ie=dt.bounds;Se+=3*Pe.cells.length,Ee+=2*Ce.edges.length}}var Oe=Se+Ee,ze=o.mallocFloat(3*Oe),je=o.mallocFloat(4*Oe),ve=o.mallocFloat(2*Oe),Ae=o.mallocUint32(Oe);if(Oe>0){var Le=0,Ve=Se,Ne=[0,0,0,1],We=[0,0,0,1],Xe=Array.isArray(Me)&&Array.isArray(Me[0]),nt=Array.isArray(be)&&Array.isArray(be[0]);e:for(Q=0;Q<he;++Q){for(ye+=1,ue=J[Q],me=0;me<3;++me){if(isNaN(ue[me])||!isFinite(ue[me]))continue e;ge[me]=Math.max(ge[me],ue[me]),ce[me]=Math.min(ce[me],ue[me])}Pe=(dt=W(Te,Q,le,this.pixelRatio)).mesh,Ce=dt.lines,Ie=dt.bounds;var dt,ht=dt.visible;if(ht)if(Array.isArray(Me)){if(3===(Mt=Xe?Q<Me.length?Me[Q]:[0,0,0,0]:Me).length){for(me=0;me<3;++me)Ne[me]=Mt[me];Ne[3]=1}else if(4===Mt.length){for(me=0;me<4;++me)Ne[me]=Mt[me];!this.hasAlpha&&Mt[3]<1&&(this.hasAlpha=!0)}}else Ne[0]=Ne[1]=Ne[2]=0,Ne[3]=1;else Ne=[1,1,1,0];if(ht)if(Array.isArray(be)){var Mt;if(3===(Mt=nt?Q<be.length?be[Q]:[0,0,0,0]:be).length){for(me=0;me<3;++me)We[me]=Mt[me];We[me]=1}else if(4===Mt.length){for(me=0;me<4;++me)We[me]=Mt[me];!this.hasAlpha&&Mt[3]<1&&(this.hasAlpha=!0)}}else We[0]=We[1]=We[2]=0,We[3]=1;else We=[1,1,1,0];var kt=.5;ht?Array.isArray(we)?kt=Q<we.length?+we[Q]:12:we?kt=+we:this.useOrtho&&(kt=12):kt=0;var _t=0;Array.isArray(xe)?_t=Q<xe.length?+xe[Q]:0:xe&&(_t=+xe);var ut=Math.cos(_t),st=Math.sin(_t);for(ue=J[Q],me=0;me<3;++me)ge[me]=Math.max(ge[me],ue[me]),ce[me]=Math.min(ce[me],ue[me]);var Lt=ee,Ut=re;Lt=0,Array.isArray(ee)?Lt=Q<ee.length?ee[Q]:0:ee&&(Lt=ee),Ut=0,Array.isArray(re)?Ut=Q<re.length?re[Q]:0:re&&(Ut=re);var Ht=[Lt*=Lt>0?1-Ie[0][0]:Lt<0?1+Ie[1][0]:1,Ut*=Ut>0?1-Ie[0][1]:Ut<0?1+Ie[1][1]:1],Pt=Pe.cells||[],Je=Pe.positions||[];for(me=0;me<Pt.length;++me)for(var tt=Pt[me],Ge=0;Ge<3;++Ge){for(var Qe=0;Qe<3;++Qe)ze[3*Le+Qe]=ue[Qe];for(Qe=0;Qe<4;++Qe)je[4*Le+Qe]=Ne[Qe];Ae[Le]=ye;var pt=Je[tt[Ge]];ve[2*Le]=kt*(ut*pt[0]-st*pt[1]+Ht[0]),ve[2*Le+1]=kt*(st*pt[0]+ut*pt[1]+Ht[1]),Le+=1}for(Pt=Ce.edges,Je=Ce.positions,me=0;me<Pt.length;++me)for(tt=Pt[me],Ge=0;Ge<2;++Ge){for(Qe=0;Qe<3;++Qe)ze[3*Ve+Qe]=ue[Qe];for(Qe=0;Qe<4;++Qe)je[4*Ve+Qe]=We[Qe];Ae[Ve]=ye,ve[2*Ve]=kt*(ut*(pt=Je[tt[Ge]])[0]-st*pt[1]+Ht[0]),ve[2*Ve+1]=kt*(st*pt[0]+ut*pt[1]+Ht[1]),Ve+=1}}}this.bounds=[ce,ge],this.points=J,this.pointCount=J.length,this.vertexCount=Se,this.lineVertexCount=Ee,this.pointBuffer.update(ze),this.colorBuffer.update(je),this.glyphBuffer.update(ve),this.idBuffer.update(Ae),o.free(ze),o.free(je),o.free(ve),o.free(Ae)},w.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},4298:function(d,s,t){"use strict";var i=t(3236);s.boxVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),s.boxFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},3161:function(d,s,t){"use strict";var i=t(9405),n=t(2762),r=t(4298);function o(l,h,c){this.plot=l,this.boxBuffer=h,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}d.exports=function(l,h){var c=l.gl,b=new o(l,n(c,[0,0,0,1,1,0,1,1]),i(c,r.boxVertex,r.boxFragment));return b.update(h),l.addOverlay(b),b};var u=o.prototype;u.draw=function(){if(this.enabled){var l=this.plot,h=this.selectBox,c=this.borderWidth,b=this.innerColor,p=this.outerColor,m=this.borderColor,v=l.box,x=l.screenBox,y=l.dataBox,w=l.viewBox,f=l.pixelRatio,C=(h[0]-y[0])*(w[2]-w[0])/(y[2]-y[0])+w[0],T=(h[1]-y[1])*(w[3]-w[1])/(y[3]-y[1])+w[1],D=(h[2]-y[0])*(w[2]-w[0])/(y[2]-y[0])+w[0],R=(h[3]-y[1])*(w[3]-w[1])/(y[3]-y[1])+w[1];if(C=Math.max(C,w[0]),T=Math.max(T,w[1]),D=Math.min(D,w[2]),R=Math.min(R,w[3]),!(D<C||R<T)){v.bind();var P=x[2]-x[0],O=x[3]-x[1];if(this.outerFill&&(v.drawBox(0,0,P,T,p),v.drawBox(0,T,C,R,p),v.drawBox(0,R,P,O,p),v.drawBox(D,T,P,R,p)),this.innerFill&&v.drawBox(C,T,D,R,b),c>0){var B=c*f;v.drawBox(C-B,T-B,D+B,T+B,m),v.drawBox(C-B,R-B,D+B,R+B,m),v.drawBox(C-B,T-B,C+B,R+B,m),v.drawBox(D-B,T-B,D+B,R+B,m)}}}},u.update=function(l){this.innerFill=!!(l=l||{}).innerFill,this.outerFill=!!l.outerFill,this.innerColor=(l.innerColor||[0,0,0,.5]).slice(),this.outerColor=(l.outerColor||[0,0,0,.5]).slice(),this.borderColor=(l.borderColor||[0,0,0,1]).slice(),this.borderWidth=l.borderWidth||0,this.selectBox=(l.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},3589:function(d,s,t){"use strict";d.exports=function(c,b){var p=b[0],m=b[1];return new l(c,i(c,p,m,{}),n.mallocUint8(p*m*4))};var i=t(2260),n=t(1888),r=t(9618),o=t(8828).nextPow2;function u(c,b,p,m,v){this.coord=[c,b],this.id=p,this.value=m,this.distance=v}function l(c,b,p){this.gl=c,this.fbo=b,this.buffer=p,this._readTimeout=null;var m=this;this._readCallback=function(){m.gl&&(b.bind(),c.readPixels(0,0,b.shape[0],b.shape[1],c.RGBA,c.UNSIGNED_BYTE,m.buffer),m._readTimeout=null)}}var h=l.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var b=this.fbo.shape[0],p=this.fbo.shape[1];if(p*b*4>this.buffer.length){n.free(this.buffer);for(var m=this.buffer=n.mallocUint8(o(p*b*4)),v=0;v<p*b*4;++v)m[v]=255}return c}}}),h.begin=function(){var c=this.gl;c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,b,p){if(!this.gl)return null;var m=this.fbo.shape.slice();c|=0,b|=0,"number"!=typeof p&&(p=1);var v=0|Math.min(Math.max(c-p,0),m[0]),x=0|Math.min(Math.max(c+p,0),m[0]),y=0|Math.min(Math.max(b-p,0),m[1]),w=0|Math.min(Math.max(b+p,0),m[1]);if(x<=v||w<=y)return null;var f=[x-v,w-y],C=r(this.buffer,[f[0],f[1],4],[4,4*m[0],1],4*(v+m[0]*y)),T=function(P,O,B){for(var q=1e8,N=-1,H=-1,$=P.shape[0],j=P.shape[1],W=0;W<$;W++)for(var G=0;G<j;G++){var ae=P.get(W,G,0),te=P.get(W,G,1),Q=P.get(W,G,2),ee=P.get(W,G,3);if(ae<255||te<255||Q<255||ee<255){var re=O-W,J=B-G,le=re*re+J*J;le<q&&(q=le,N=W,H=G)}}return[N,H,q]}(C.hi(f[0],f[1],1),p,p),D=T[0],R=T[1];return D<0||Math.pow(this.radius,2)<T[2]?null:new u(D+v|0,R+y|0,C.get(D,R,0),[C.get(D,R,1),C.get(D,R,2),C.get(D,R,3)],Math.sqrt(T[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),n.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},9405:function(d,s,t){"use strict";var i=t(3327),n=t(8731),r=t(216),o=t(5091),u=t(2145),l=t(8866);function h(p){this.gl=p,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=h.prototype;function b(p,m){return p.name<m.name?-1:1}c.bind=function(){var p;this.program||this._relink();var m=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),v=this.gl.lastAttribCount;if(m>v)for(p=v;p<m;p++)this.gl.enableVertexAttribArray(p);else if(v>m)for(p=m;p<v;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=m,this.gl.useProgram(this.program)},c.dispose=function(){for(var p=this.gl.lastAttribCount,m=0;m<p;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(p,m,v,x){if(!m||1===arguments.length){var y=p;p=y.vertex,m=y.fragment,v=y.uniforms,x=y.attributes}var w=this,f=w.gl,C=w._vref;w._vref=o.shader(f,f.VERTEX_SHADER,p),C&&C.dispose(),w.vertShader=w._vref.shader;var T=this._fref;if(w._fref=o.shader(f,f.FRAGMENT_SHADER,m),T&&T.dispose(),w.fragShader=w._fref.shader,!v||!x){var D=f.createProgram();if(f.attachShader(D,w.fragShader),f.attachShader(D,w.vertShader),f.linkProgram(D),!f.getProgramParameter(D,f.LINK_STATUS)){var R=f.getProgramInfoLog(D);throw new l(R,"Error linking program:"+R)}v=v||u.uniforms(f,D),x=x||u.attributes(f,D),f.deleteProgram(D)}(x=x.slice()).sort(b);var P,O=[],B=[],q=[];for(P=0;P<x.length;++P){var N=x[P];if(N.type.indexOf("mat")>=0){for(var H=0|N.type.charAt(N.type.length-1),$=new Array(H),j=0;j<H;++j)$[j]=q.length,B.push(N.name+"["+j+"]"),"number"==typeof N.location?q.push(N.location+j):Array.isArray(N.location)&&N.location.length===H&&"number"==typeof N.location[j]?q.push(0|N.location[j]):q.push(-1);O.push({name:N.name,type:N.type,locations:$})}else O.push({name:N.name,type:N.type,locations:[q.length]}),B.push(N.name),q.push("number"==typeof N.location?0|N.location:-1)}var W=0;for(P=0;P<q.length;++P)if(q[P]<0){for(;q.indexOf(W)>=0;)W+=1;q[P]=W}var G=new Array(v.length);function ae(){w.program=o.program(f,w._vref,w._fref,B,q);for(var te=0;te<v.length;++te)G[te]=f.getUniformLocation(w.program,v[te].name)}ae(),w._relink=ae,w.types={uniforms:r(v),attributes:r(x)},w.attributes=n(f,w,O,q),Object.defineProperty(w,"uniforms",i(f,w,v,G))},d.exports=function(p,m,v,x,y){var w=new h(p);return w.update(m,v,x,y),w}},8866:function(d){function s(t,i,n){this.shortMessage=i||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}(s.prototype=new Error).name="GLError",s.prototype.constructor=s,d.exports=s},8731:function(d,s,t){"use strict";d.exports=function(h,c,b,p){for(var m={},v=0,x=b.length;v<x;++v){var y=b[v],w=y.name,f=y.type,C=y.locations;switch(f){case"bool":case"int":case"float":u(h,c,C[0],p,1,m,w);break;default:if(f.indexOf("vec")>=0){if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+w+": "+f);u(h,c,C[0],p,T,m,w)}else{if(!(f.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+w+": "+f);var T;if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+w+": "+f);l(h,c,C,p,T,m,w)}}}return m};var i=t(8866);function n(h,c,b,p,m,v){this._gl=h,this._wrapper=c,this._index=b,this._locations=p,this._dimension=m,this._constFunc=v}var r=n.prototype;r.pointer=function(h,c,b,p){var m=this,v=m._gl,x=m._locations[m._index];v.vertexAttribPointer(x,m._dimension,h||v.FLOAT,!!c,b||0,p||0),v.enableVertexAttribArray(x)},r.set=function(h,c,b,p){return this._constFunc(this._locations[this._index],h,c,b,p)},Object.defineProperty(r,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=0|h,this._wrapper.program=null),0|h}});var o=[function(h,c,b){return void 0===b.length?h.vertexAttrib1f(c,b):h.vertexAttrib1fv(c,b)},function(h,c,b,p){return void 0===b.length?h.vertexAttrib2f(c,b,p):h.vertexAttrib2fv(c,b)},function(h,c,b,p,m){return void 0===b.length?h.vertexAttrib3f(c,b,p,m):h.vertexAttrib3fv(c,b)},function(h,c,b,p,m,v){return void 0===b.length?h.vertexAttrib4f(c,b,p,m,v):h.vertexAttrib4fv(c,b)}];function u(h,c,b,p,m,v,x){var y=o[m],w=new n(h,c,b,p,m,y);Object.defineProperty(v,x,{set:function(f){return h.disableVertexAttribArray(p[b]),y(h,p[b],f),f},get:function(){return w},enumerable:!0})}function l(h,c,b,p,m,v,x){for(var y=new Array(m),w=new Array(m),f=0;f<m;++f)u(h,c,b[f],p,m,y,f),w[f]=y[f];Object.defineProperty(y,"location",{set:function(D){if(Array.isArray(D))for(var R=0;R<m;++R)w[R].location=D[R];else for(R=0;R<m;++R)w[R].location=D+R;return D},get:function(){for(var D=new Array(m),R=0;R<m;++R)D[R]=p[b[R]];return D},enumerable:!0}),y.pointer=function(D,R,P,O){D=D||h.FLOAT,R=!!R,P=P||m*m,O=O||0;for(var B=0;B<m;++B){var q=p[b[B]];h.vertexAttribPointer(q,m,D,R,P,O+B*m),h.enableVertexAttribArray(q)}};var C=new Array(m),T=h["vertexAttrib"+m+"fv"];Object.defineProperty(v,x,{set:function(D){for(var R=0;R<m;++R){var P=p[b[R]];if(h.disableVertexAttribArray(P),Array.isArray(D[0]))T.call(h,P,D[R]);else{for(var O=0;O<m;++O)C[O]=D[m*R+O];T.call(h,P,C)}}return D},get:function(){return y},enumerable:!0})}},3327:function(d,s,t){"use strict";var i=t(216),n=t(8866);function r(u){return function(){return u}}function o(u,l){for(var h=new Array(u),c=0;c<u;++c)h[c]=l;return h}d.exports=function(u,l,h,c){function b(y){return function(w){for(var f=p("",y),C=0;C<f.length;++C){var T=f[C],D=T[0],R=T[1];if(c[R]){var P=w;if("string"==typeof D&&(0===D.indexOf(".")||0===D.indexOf("["))){var O=D;if(0===D.indexOf(".")&&(O=D.slice(1)),O.indexOf("]")===O.length-1){var B=O.indexOf("["),q=O.slice(0,B),N=O.slice(B+1,O.length-1);P=q?w[q][N]:w[N]}else P=w[O]}var H,$=h[R].type;switch($){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(c[R],P);break;case"float":u.uniform1f(c[R],P);break;default:var j=$.indexOf("vec");if(!(0<=j&&j<=1&&$.length===4+j)){if(0===$.indexOf("mat")&&4===$.length){if((H=$.charCodeAt($.length-1)-48)<2||H>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+$);u["uniformMatrix"+H+"fv"](c[R],!1,P);break}throw new n("","Unknown uniform data type for "+name+": "+$)}if((H=$.charCodeAt($.length-1)-48)<2||H>4)throw new n("","Invalid data type");switch($.charAt(0)){case"b":case"i":u["uniform"+H+"iv"](c[R],P);break;case"v":u["uniform"+H+"fv"](c[R],P);break;default:throw new n("","Unrecognized data type for vector "+name+": "+$)}}}}}}function p(y,w){if("object"!=typeof w)return[[y,w]];var f=[];for(var C in w){var T=w[C],D=y;parseInt(C)+""===C?D+="["+C+"]":D+="."+C,"object"==typeof T?f.push.apply(f,p(D,T)):f.push([D,T])}return f}function m(y,w,f){if("object"==typeof f){var C=v(f);Object.defineProperty(y,w,{get:r(C),set:b(f),enumerable:!0,configurable:!1})}else c[f]?Object.defineProperty(y,w,{get:(T=f,function(D,R,P){return D.getUniform(R.program,P[T])}),set:b(f),enumerable:!0,configurable:!1}):y[w]=function(D){switch(D){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var R=D.indexOf("vec");if(0<=R&&R<=1&&D.length===4+R){if((P=D.charCodeAt(D.length-1)-48)<2||P>4)throw new n("","Invalid data type");return"b"===D.charAt(0)?o(P,!1):o(P,0)}if(0===D.indexOf("mat")&&4===D.length){var P;if((P=D.charCodeAt(D.length-1)-48)<2||P>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+D);return o(P*P,0)}throw new n("","Unknown uniform data type for "+name+": "+D)}}(h[f].type);var T}function v(y){var w;if(Array.isArray(y)){w=new Array(y.length);for(var f=0;f<y.length;++f)m(w,f,y[f])}else for(var C in w={},y)m(w,C,y[C]);return w}var x=i(h,!0);return{get:r(v(x)),set:b(x),enumerable:!0,configurable:!0}}},216:function(d){"use strict";d.exports=function(s,t){for(var i={},n=0;n<s.length;++n)for(var r=s[n].name.split("."),o=i,u=0;u<r.length;++u){var l=r[u].split("[");if(l.length>1){l[0]in o||(o[l[0]]=[]),o=o[l[0]];for(var h=1;h<l.length;++h){var c=parseInt(l[h]);h<l.length-1||u<r.length-1?(c in o||(o[c]=h<l.length-1?[]:{}),o=o[c]):o[c]=t?n:s[n].type}}else u<r.length-1?(l[0]in o||(o[l[0]]={}),o=o[l[0]]):o[l[0]]=t?n:s[n].type}return i}},2145:function(d,s){"use strict";s.uniforms=function(r,o){for(var u=r.getProgramParameter(o,r.ACTIVE_UNIFORMS),l=[],h=0;h<u;++h){var c=r.getActiveUniform(o,h);if(c){var b=n(r,c.type);if(c.size>1)for(var p=0;p<c.size;++p)l.push({name:c.name.replace("[0]","["+p+"]"),type:b});else l.push({name:c.name,type:b})}}return l},s.attributes=function(r,o){for(var u=r.getProgramParameter(o,r.ACTIVE_ATTRIBUTES),l=[],h=0;h<u;++h){var c=r.getActiveAttrib(o,h);c&&l.push({name:c.name,type:n(r,c.type)})}return l};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function n(r,o){if(!i){var u=Object.keys(t);i={};for(var l=0;l<u.length;++l){var h=u[l];i[r[h]]=t[h]}}return i[o]}},5091:function(d,s,t){"use strict";s.shader=function(b,p,m){return c(b).getShaderReference(p,m)},s.program=function(b,p,m,v,x){return c(b).getProgram(p,m,v,x)};var i=t(8866),n=t(2992),r=new(typeof WeakMap>"u"?t(606):WeakMap),o=0;function u(b,p,m,v,x,y,w){this.id=b,this.src=p,this.type=m,this.shader=v,this.count=y,this.programs=[],this.cache=w}function l(b){this.gl=b,this.shaders=[{},{}],this.programs={}}u.prototype.dispose=function(){if(0==--this.count){for(var b=this.cache,p=b.gl,m=this.programs,v=0,x=m.length;v<x;++v){var y=b.programs[m[v]];y&&(delete b.programs[v],p.deleteProgram(y))}p.deleteShader(this.shader),delete b.shaders[this.type===p.FRAGMENT_SHADER|0][this.src]}};var h=l.prototype;function c(b){var p=r.get(b);return p||(p=new l(b),r.set(b,p)),p}h.getShaderReference=function(b,p){var m=this.gl,v=this.shaders[b===m.FRAGMENT_SHADER|0],x=v[p];if(x&&m.isShader(x.shader))x.count+=1;else{var y=function(w,f,C){var T=w.createShader(f);if(w.shaderSource(T,C),w.compileShader(T),!w.getShaderParameter(T,w.COMPILE_STATUS)){var D=w.getShaderInfoLog(T);try{var R=n(D,C,f)}catch(P){throw console.warn("Failed to format compiler error: "+P),new i(D,"Error compiling shader:\n"+D)}throw new i(D,R.short,R.long)}return T}(m,b,p);x=v[p]=new u(o++,p,b,y,[],1,this)}return x},h.getProgram=function(b,p,m,v){var x=[b.id,p.id,m.join(":"),v.join(":")].join("@"),y=this.programs[x];return y&&this.gl.isProgram(y)||(this.programs[x]=y=function(w,f,C,T,D){var R=w.createProgram();w.attachShader(R,f),w.attachShader(R,C);for(var P=0;P<T.length;++P)w.bindAttribLocation(R,D[P],T[P]);if(w.linkProgram(R),!w.getProgramParameter(R,w.LINK_STATUS)){var O=w.getProgramInfoLog(R);throw new i(O,"Error linking program: "+O)}return R}(this.gl,b.shader,p.shader,m,v),b.programs.push(x),p.programs.push(x)),y}},4098:function(d){"use strict";function s(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}d.exports=function(i,n){var r=new s(i);return r.update(n),i.addOverlay(r),r};var t=s.prototype;t.update=function(i){this.enable=((i=i||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,n=this.width,r=this.color,o=this.center,u=this.plot,l=u.line,h=u.dataBox,c=u.viewBox;if(l.bind(),h[0]<=o[0]&&o[0]<=h[2]&&h[1]<=o[1]&&o[1]<=h[3]){var b=c[0]+(o[0]-h[0])/(h[2]-h[0])*(c[2]-c[0]),p=c[1]+(o[1]-h[1])/(h[3]-h[1])*(c[3]-c[1]);i[0]&&l.drawLine(b,p,c[0],p,n[0],r[0]),i[1]&&l.drawLine(b,p,b,c[1],n[1],r[1]),i[2]&&l.drawLine(b,p,c[2],p,n[2],r[2]),i[3]&&l.drawLine(b,p,b,c[3],n[3],r[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},1493:function(d,s,t){"use strict";var i=t(3236),n=t(9405),r=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),o=i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);d.exports=function(u){return n(u,r,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(d,s,t){"use strict";var i=t(2762),n=t(8116),r=t(1493);d.exports=function(p,m){var v=[];function x(T,D,R,P,O,B){var q=[T,D,R,0,0,0,1];q[P+3]=1,q[P]=O,v.push.apply(v,q),q[6]=-1,v.push.apply(v,q),q[P]=B,v.push.apply(v,q),v.push.apply(v,q),q[6]=1,v.push.apply(v,q),q[P]=O,v.push.apply(v,q)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var y=i(p,v),w=n(p,[{type:p.FLOAT,buffer:y,size:3,offset:0,stride:28},{type:p.FLOAT,buffer:y,size:3,offset:12,stride:28},{type:p.FLOAT,buffer:y,size:1,offset:24,stride:28}]),f=r(p);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.weight.location=2;var C=new u(p,y,w,f);return C.update(m),C};var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(p,m,v,x){this.gl=p,this.buffer=m,this.vao=v,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,h=[0,0,0],c=[0,0,0],b=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(p){},l.draw=function(p){var m=this.gl,v=this.vao,x=this.shader;v.bind(),x.bind();var y,w=p.model||o,f=p.view||o,C=p.projection||o;this.axes&&(y=this.axes.lastCubeProps.axis);for(var T=h,D=c,R=0;R<3;++R)y&&y[R]<0?(T[R]=this.bounds[0][R],D[R]=this.bounds[1][R]):(T[R]=this.bounds[1][R],D[R]=this.bounds[0][R]);for(b[0]=m.drawingBufferWidth,b[1]=m.drawingBufferHeight,x.uniforms.model=w,x.uniforms.view=f,x.uniforms.projection=C,x.uniforms.coordinates=[this.position,T,D],x.uniforms.colors=this.colors,x.uniforms.screenShape=b,R=0;R<3;++R)x.uniforms.lineWidth=this.lineWidth[R]*this.pixelRatio,this.enabled[R]&&(v.draw(m.TRIANGLES,6,6*R),this.drawSides[R]&&v.draw(m.TRIANGLES,12,18+12*R));v.unbind()},l.update=function(p){p&&("bounds"in p&&(this.bounds=p.bounds),"position"in p&&(this.position=p.position),"lineWidth"in p&&(this.lineWidth=p.lineWidth),"colors"in p&&(this.colors=p.colors),"enabled"in p&&(this.enabled=p.enabled),"drawSides"in p&&(this.drawSides=p.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6740:function(d,s,t){var i=t(3236),n=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),r=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);s.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:o,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(d,s,t){"use strict";var i=t(2931),n=t(9970),r=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(b,p){var m,v=b.length;for(m=0;m<v;m++){var x=b[m];if(x===p)return m;if(x>p)return m-1}return m},u=function(b,p,m){return b<p?p:b>m?m:b},l=function(b){var p=1/0;b.sort(function(y,w){return y-w});for(var m=b.length,v=1;v<m;v++){var x=Math.abs(b[v]-b[v-1]);x<p&&(p=x)}return p};d.exports=function(b,p){var m=b.startingPositions,v=b.maxLength||1e3,x=b.tubeSize||1,y=b.absoluteTubeSize,w=b.gridFill||"+x+y+z",f={};-1!==w.indexOf("-x")&&(f.reversedX=!0),-1!==w.indexOf("-y")&&(f.reversedY=!0),-1!==w.indexOf("-z")&&(f.reversedZ=!0),f.filled=r.indexOf(w.replace(/-/g,"").replace(/\+/g,""));var be,ye,Se,Ee,C=b.getVelocity||function(be){return function(ye,Se,Ee){var he=Se.vectors,ue=Se.meshgrid,me=ye[0],Pe=ye[1],Ce=ye[2],Ie=ue[0].length,Oe=ue[1].length,ze=ue[2].length,je=o(ue[0],me),ve=o(ue[1],Pe),Ae=o(ue[2],Ce),Le=je+1,Ve=ve+1,Ne=Ae+1;if(je=u(je,0,Ie-1),Le=u(Le,0,Ie-1),ve=u(ve,0,Oe-1),Ve=u(Ve,0,Oe-1),Ae=u(Ae,0,ze-1),Ne=u(Ne,0,ze-1),je<0||ve<0||Ae<0||Le>Ie-1||Ve>Oe-1||Ne>ze-1)return i.create();var We,Xe,nt,dt,ht,Mt,kt=ue[0][je],ut=ue[1][ve],Lt=ue[2][Ae],Ut=(me-kt)/(ue[0][Le]-kt),Ht=(Pe-ut)/(ue[1][Ve]-ut),Pt=(Ce-Lt)/(ue[2][Ne]-Lt);switch(isFinite(Ut)||(Ut=.5),isFinite(Ht)||(Ht=.5),isFinite(Pt)||(Pt=.5),Ee.reversedX&&(je=Ie-1-je,Le=Ie-1-Le),Ee.reversedY&&(ve=Oe-1-ve,Ve=Oe-1-Ve),Ee.reversedZ&&(Ae=ze-1-Ae,Ne=ze-1-Ne),Ee.filled){case 5:ht=Ae,Mt=Ne,nt=ve*ze,dt=Ve*ze,We=je*ze*Oe,Xe=Le*ze*Oe;break;case 4:ht=Ae,Mt=Ne,We=je*ze,Xe=Le*ze,nt=ve*ze*Ie,dt=Ve*ze*Ie;break;case 3:nt=ve,dt=Ve,ht=Ae*Oe,Mt=Ne*Oe,We=je*Oe*ze,Xe=Le*Oe*ze;break;case 2:nt=ve,dt=Ve,We=je*Oe,Xe=Le*Oe,ht=Ae*Oe*Ie,Mt=Ne*Oe*Ie;break;case 1:We=je,Xe=Le,ht=Ae*Ie,Mt=Ne*Ie,nt=ve*Ie*ze,dt=Ve*Ie*ze;break;default:We=je,Xe=Le,nt=ve*Ie,dt=Ve*Ie,ht=Ae*Ie*Oe,Mt=Ne*Ie*Oe}var Je=he[We+nt+ht],tt=he[We+nt+Mt],Ge=he[We+dt+ht],Qe=he[We+dt+Mt],pt=he[Xe+nt+ht],ct=he[Xe+nt+Mt],He=he[Xe+dt+ht],qe=he[Xe+dt+Mt],ft=i.create(),et=i.create(),xt=i.create(),wt=i.create();i.lerp(ft,Je,pt,Ut),i.lerp(et,tt,ct,Ut),i.lerp(xt,Ge,He,Ut),i.lerp(wt,Qe,qe,Ut);var At=i.create(),yt=i.create();i.lerp(At,ft,xt,Ht),i.lerp(yt,et,wt,Ht);var Ot=i.create();return i.lerp(Ot,At,yt,Pt),Ot}(be,b,f)},T=b.getDivergence||function(be,ye){var Se=i.create(),Ee=1e-4;i.add(Se,be,[Ee,0,0]);var he=C(Se);i.subtract(he,he,ye),i.scale(he,he,1/Ee),i.add(Se,be,[0,Ee,0]);var ue=C(Se);i.subtract(ue,ue,ye),i.scale(ue,ue,1/Ee),i.add(Se,be,[0,0,Ee]);var me=C(Se);return i.subtract(me,me,ye),i.scale(me,me,1/Ee),i.add(Se,he,ue),i.add(Se,Se,me),Se},D=[],R=p[0][0],P=p[0][1],O=p[0][2],B=p[1][0],q=p[1][1],N=p[1][2],$=10*i.distance(p[0],p[1])/v,j=$*$,W=1,G=0,ae=m.length;ae>1&&(W=function(be){for(var ye=[],Se=[],Ee=[],he={},ue={},me={},Pe=be.length,Ce=0;Ce<Pe;Ce++){var Ie=be[Ce],Oe=Ie[0],ze=Ie[1],je=Ie[2];he[Oe]||(ye.push(Oe),he[Oe]=!0),ue[ze]||(Se.push(ze),ue[ze]=!0),me[je]||(Ee.push(je),me[je]=!0)}var ve=l(ye),Ae=l(Se),Le=l(Ee),Ve=Math.min(ve,Ae,Le);return isFinite(Ve)?Ve:1}(m));for(var te=0;te<ae;te++){var Q=i.create();i.copy(Q,m[te]);var ee=[Q],re=[],J=C(Q),le=Q;re.push(J);var fe=[],ce=T(Q,J),ge=i.length(ce);isFinite(ge)&&ge>G&&(G=ge),fe.push(ge),D.push({points:ee,velocities:re,divergences:fe});for(var Te=0;Te<100*v&&ee.length<v&&(ye=void 0,Se=void 0,Ee=void 0,Se=(be=Q)[1],Ee=be[2],!((ye=be[0])<R||ye>B||Se<P||Se>q||Ee<O||Ee>N));){Te++;var Me=i.clone(J),we=i.squaredLength(Me);if(0===we)break;we>j&&i.scale(Me,Me,$/Math.sqrt(we)),i.add(Me,Me,Q),J=C(Me),i.squaredDistance(le,Me)-j>-1e-4*j&&(ee.push(Me),le=Me,re.push(J),ce=T(Me,J),ge=i.length(ce),isFinite(ge)&&ge>G&&(G=ge),fe.push(ge)),Q=Me}}var xe=function(be,ye,Se,Ee){for(var he=0,ue=0;ue<be.length;ue++)for(var me=be[ue].velocities,Pe=0;Pe<me.length;Pe++)he=Math.max(he,i.length(me[Pe]));var Ce=be.map(function(We){return function(Xe,nt,dt,ht){for(var Mt=Xe.points,kt=Xe.velocities,_t=Xe.divergences,ut=[],st=[],Lt=[],Ut=[],Ht=[],Pt=[],Je=0,tt=0,Ge=n.create(),Qe=n.create(),pt=0;pt<Mt.length;pt++){var ct=Mt[pt],He=kt[pt],qe=_t[pt];0===nt&&(qe=.05*dt),tt=i.length(He)/ht,Ge=n.create(),i.copy(Ge,He),Ge[3]=qe;for(var ft=0;ft<8;ft++)Ht[ft]=[ct[0],ct[1],ct[2],ft];if(Ut.length>0)for(ft=0;ft<8;ft++){var et=(ft+1)%8;ut.push(Ut[ft],Ht[ft],Ht[et],Ht[et],Ut[et],Ut[ft]),Lt.push(Qe,Ge,Ge,Ge,Qe,Qe),Pt.push(Je,tt,tt,tt,Je,Je);var xt=ut.length;st.push([xt-6,xt-5,xt-4],[xt-3,xt-2,xt-1])}var wt=Ut;Ut=Ht,Ht=wt;var At=Qe;Qe=Ge,Ge=At;var yt=Je;Je=tt,tt=yt}return{positions:ut,cells:st,vectors:Lt,vertexIntensity:Pt}}(We,Se,Ee,he)}),Ie=[],Oe=[],ze=[],je=[];for(ue=0;ue<Ce.length;ue++){var ve=Ce[ue],Ae=Ie.length;for(Ie=Ie.concat(ve.positions),ze=ze.concat(ve.vectors),je=je.concat(ve.vertexIntensity),Pe=0;Pe<ve.cells.length;Pe++){var Le=ve.cells[Pe],Ve=[];Oe.push(Ve);for(var Ne=0;Ne<Le.length;Ne++)Ve.push(Le[Ne]+Ae)}}return{positions:Ie,cells:Oe,vectors:ze,vertexIntensity:je,colormap:ye}}(D,b.colormap,G,W);return y?xe.tubeScale=y:(0===G&&(G=1),xe.tubeScale=.5*x*W/G),xe};var h=t(6740),c=t(6405).createMesh;d.exports.createTubeMesh=function(b,p){return c(b,p,{shaders:h,traceType:"streamtube"})}},990:function(d,s,t){var i=t(9405),n=t(3236),r=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),o=n(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),u=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);s.createShader=function(h){var c=i(h,r,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(h){var c=i(h,r,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(h){var c=i(h,u,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(h){var c=i(h,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(d,s,t){"use strict";d.exports=function(ce){var ge=ce.gl,Te=f(ge),Me=T(ge),we=C(ge),xe=D(ge),be=n(ge),ye=r(ge,[{buffer:be,size:4,stride:R,offset:0},{buffer:be,size:3,stride:R,offset:16},{buffer:be,size:3,stride:R,offset:28}]),Se=n(ge),Ee=r(ge,[{buffer:Se,size:4,stride:20,offset:0},{buffer:Se,size:1,stride:20,offset:16}]),he=n(ge),ue=r(ge,[{buffer:he,size:2,type:ge.FLOAT}]),me=o(ge,1,N,ge.RGBA,ge.UNSIGNED_BYTE);me.minFilter=ge.LINEAR,me.magFilter=ge.LINEAR;var Pe=new H(ge,[0,0],[[0,0,0],[0,0,0]],Te,Me,be,ye,me,we,xe,Se,Ee,he,ue,[0,0,0]),Ce={levels:[[],[],[]]};for(var Ie in ce)Ce[Ie]=ce[Ie];return Ce.colormap=Ce.colormap||"jet",Pe.update(Ce),Pe};var i=t(8828),n=t(2762),r=t(8116),o=t(7766),u=t(1888),l=t(6729),h=t(5298),c=t(9994),b=t(9618),p=t(3711),m=t(6760),v=t(7608),x=t(2478),y=t(6199),w=t(990),f=w.createShader,C=w.createContourShader,T=w.createPickShader,D=w.createPickContourShader,R=40,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],O=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],B=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function q(ce,ge,Te,Me,we){this.position=ce,this.index=ge,this.uv=Te,this.level=Me,this.dataCoordinate=we}!function(){for(var ce=0;ce<3;++ce){var ge=B[ce],Te=(ce+2)%3;ge[(ce+1)%3+0]=1,ge[Te+3]=1,ge[ce+6]=1}}();var N=256;function H(ce,ge,Te,Me,we,xe,be,ye,Se,Ee,he,ue,me,Pe,Ce){this.gl=ce,this.shape=ge,this.bounds=Te,this.objectOffset=Ce,this.intensityBounds=[],this._shader=Me,this._pickShader=we,this._coordinateBuffer=xe,this._vao=be,this._colorMap=ye,this._contourShader=Se,this._contourPickShader=Ee,this._contourBuffer=he,this._contourVAO=ue,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new q([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=me,this._dynamicVAO=Pe,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(u.mallocFloat(1024),[0,0]),b(u.mallocFloat(1024),[0,0]),b(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var $=H.prototype;$.genColormap=function(ce,ge){var Te=!1,Me=c([l({colormap:ce,nshades:N,format:"rgba"}).map(function(we,xe){var be=ge?function(ye,Se){if(!Se||!Se.length)return 1;for(var Ee=0;Ee<Se.length;++Ee){if(Se.length<2)return 1;if(Se[Ee][0]===ye)return Se[Ee][1];if(Se[Ee][0]>ye&&Ee>0){var he=(Se[Ee][0]-ye)/(Se[Ee][0]-Se[Ee-1][0]);return Se[Ee][1]*(1-he)+he*Se[Ee-1][1]}}return 1}(xe/255,ge):we[3];return be<1&&(Te=!0),[we[0],we[1],we[2],255*be]})]);return h.divseq(Me,255),this.hasAlphaScale=Te,Me},$.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},$.isOpaque=function(){return!this.isTransparent()},$.pickSlots=1,$.setPickBase=function(ce){this.pickId=ce};var j=[0,0,0],W={showSurface:!1,showContour:!1,projections:[P.slice(),P.slice(),P.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function G(ce,ge){var Te,Me,we,xe=ge.axes&&ge.axes.lastCubeProps.axis||j,be=ge.showSurface,ye=ge.showContour;for(Te=0;Te<3;++Te)for(be=be||ge.surfaceProject[Te],Me=0;Me<3;++Me)ye=ye||ge.contourProject[Te][Me];for(Te=0;Te<3;++Te){var Se=W.projections[Te];for(Me=0;Me<16;++Me)Se[Me]=0;for(Me=0;Me<4;++Me)Se[5*Me]=1;Se[5*Te]=0,Se[12+Te]=ge.axesBounds[+(xe[Te]>0)][Te],m(Se,ce.model,Se);var Ee=W.clipBounds[Te];for(we=0;we<2;++we)for(Me=0;Me<3;++Me)Ee[we][Me]=ce.clipBounds[we][Me];Ee[0][Te]=-1e8,Ee[1][Te]=1e8}return W.showSurface=be,W.showContour=ye,W}var ae={model:P,view:P,projection:P,inverseModel:P.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},te=P.slice(),Q=[1,0,0,0,1,0,0,0,1];function ee(ce,ge){ce=ce||{};var Te=this.gl;Te.disable(Te.CULL_FACE),this._colorMap.bind(0);var Me=ae;Me.model=ce.model||P,Me.view=ce.view||P,Me.projection=ce.projection||P,Me.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Me.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Me.objectOffset=this.objectOffset,Me.contourColor=this.contourColor[0],Me.inverseModel=v(Me.inverseModel,Me.model);for(var we=0;we<2;++we)for(var xe=Me.clipBounds[we],be=0;be<3;++be)xe[be]=Math.min(Math.max(this.clipBounds[we][be],-1e8),1e8);Me.kambient=this.ambientLight,Me.kdiffuse=this.diffuseLight,Me.kspecular=this.specularLight,Me.roughness=this.roughness,Me.fresnel=this.fresnel,Me.opacity=this.opacity,Me.height=0,Me.permutation=Q,Me.vertexColor=this.vertexColor;var ye=te;for(m(ye,Me.view,Me.model),m(ye,Me.projection,ye),v(ye,ye),we=0;we<3;++we)Me.eyePosition[we]=ye[12+we]/ye[15];var Se=ye[15];for(we=0;we<3;++we)Se+=this.lightPosition[we]*ye[4*we+3];for(we=0;we<3;++we){var Ee=ye[12+we];for(be=0;be<3;++be)Ee+=ye[4*be+we]*this.lightPosition[be];Me.lightPosition[we]=Ee/Se}var he=G(Me,this);if(he.showSurface){for(this._shader.bind(),this._shader.uniforms=Me,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(Te.TRIANGLES,this._vertexCount),we=0;we<3;++we)this.surfaceProject[we]&&this.vertexCount&&(this._shader.uniforms.model=he.projections[we],this._shader.uniforms.clipBounds=he.clipBounds[we],this._vao.draw(Te.TRIANGLES,this._vertexCount));this._vao.unbind()}if(he.showContour){var ue=this._contourShader;Me.kambient=1,Me.kdiffuse=0,Me.kspecular=0,Me.opacity=1,ue.bind(),ue.uniforms=Me;var me=this._contourVAO;for(me.bind(),we=0;we<3;++we)for(ue.uniforms.permutation=B[we],Te.lineWidth(this.contourWidth[we]*this.pixelRatio),be=0;be<this.contourLevels[we].length;++be)be===this.highlightLevel[we]?(ue.uniforms.contourColor=this.highlightColor[we],ue.uniforms.contourTint=this.highlightTint[we]):0!==be&&be-1!==this.highlightLevel[we]||(ue.uniforms.contourColor=this.contourColor[we],ue.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][be]&&(ue.uniforms.height=this.contourLevels[we][be],me.draw(Te.LINES,this._contourCounts[we][be],this._contourOffsets[we][be]));for(we=0;we<3;++we)for(ue.uniforms.model=he.projections[we],ue.uniforms.clipBounds=he.clipBounds[we],be=0;be<3;++be)if(this.contourProject[we][be]){ue.uniforms.permutation=B[be],Te.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var Pe=0;Pe<this.contourLevels[be].length;++Pe)Pe===this.highlightLevel[be]?(ue.uniforms.contourColor=this.highlightColor[be],ue.uniforms.contourTint=this.highlightTint[be]):0!==Pe&&Pe-1!==this.highlightLevel[be]||(ue.uniforms.contourColor=this.contourColor[be],ue.uniforms.contourTint=this.contourTint[be]),this._contourCounts[be][Pe]&&(ue.uniforms.height=this.contourLevels[be][Pe],me.draw(Te.LINES,this._contourCounts[be][Pe],this._contourOffsets[be][Pe]))}for(me.unbind(),(me=this._dynamicVAO).bind(),we=0;we<3;++we)if(0!==this._dynamicCounts[we])for(ue.uniforms.model=Me.model,ue.uniforms.clipBounds=Me.clipBounds,ue.uniforms.permutation=B[we],Te.lineWidth(this.dynamicWidth[we]*this.pixelRatio),ue.uniforms.contourColor=this.dynamicColor[we],ue.uniforms.contourTint=this.dynamicTint[we],ue.uniforms.height=this.dynamicLevel[we],me.draw(Te.LINES,this._dynamicCounts[we],this._dynamicOffsets[we]),be=0;be<3;++be)this.contourProject[be][we]&&(ue.uniforms.model=he.projections[be],ue.uniforms.clipBounds=he.clipBounds[be],me.draw(Te.LINES,this._dynamicCounts[we],this._dynamicOffsets[we]));me.unbind()}}$.draw=function(ce){return ee.call(this,ce,!1)},$.drawTransparent=function(ce){return ee.call(this,ce,!0)};var re={model:P,view:P,projection:P,inverseModel:P,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function J(ce,ge){return Array.isArray(ce)?[ge(ce[0]),ge(ce[1]),ge(ce[2])]:[ge(ce),ge(ce),ge(ce)]}function le(ce){return Array.isArray(ce)?3===ce.length?[ce[0],ce[1],ce[2],1]:[ce[0],ce[1],ce[2],ce[3]]:[0,0,0,1]}function fe(ce){if(Array.isArray(ce)){if(Array.isArray(ce))return[le(ce[0]),le(ce[1]),le(ce[2])];var ge=le(ce);return[ge.slice(),ge.slice(),ge.slice()]}}$.drawPick=function(ce){ce=ce||{};var ge=this.gl;ge.disable(ge.CULL_FACE);var Te=re;Te.model=ce.model||P,Te.view=ce.view||P,Te.projection=ce.projection||P,Te.shape=this._field[2].shape,Te.pickId=this.pickId/255,Te.lowerBound=this.bounds[0],Te.upperBound=this.bounds[1],Te.objectOffset=this.objectOffset,Te.permutation=Q;for(var Me=0;Me<2;++Me)for(var we=Te.clipBounds[Me],xe=0;xe<3;++xe)we[xe]=Math.min(Math.max(this.clipBounds[Me][xe],-1e8),1e8);var be=G(Te,this);if(be.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=Te,this._vao.bind(),this._vao.draw(ge.TRIANGLES,this._vertexCount),Me=0;Me<3;++Me)this.surfaceProject[Me]&&(this._pickShader.uniforms.model=be.projections[Me],this._pickShader.uniforms.clipBounds=be.clipBounds[Me],this._vao.draw(ge.TRIANGLES,this._vertexCount));this._vao.unbind()}if(be.showContour){var ye=this._contourPickShader;ye.bind(),ye.uniforms=Te;var Se=this._contourVAO;for(Se.bind(),xe=0;xe<3;++xe)for(ge.lineWidth(this.contourWidth[xe]*this.pixelRatio),ye.uniforms.permutation=B[xe],Me=0;Me<this.contourLevels[xe].length;++Me)this._contourCounts[xe][Me]&&(ye.uniforms.height=this.contourLevels[xe][Me],Se.draw(ge.LINES,this._contourCounts[xe][Me],this._contourOffsets[xe][Me]));for(Me=0;Me<3;++Me)for(ye.uniforms.model=be.projections[Me],ye.uniforms.clipBounds=be.clipBounds[Me],xe=0;xe<3;++xe)if(this.contourProject[Me][xe]){ye.uniforms.permutation=B[xe],ge.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[xe].length;++Ee)this._contourCounts[xe][Ee]&&(ye.uniforms.height=this.contourLevels[xe][Ee],Se.draw(ge.LINES,this._contourCounts[xe][Ee],this._contourOffsets[xe][Ee]))}Se.unbind()}},$.pick=function(ce){if(!ce||ce.id!==this.pickId)return null;var ge=this._field[2].shape,Te=this._pickResult,Me=ge[0]*(ce.value[0]+(ce.value[2]>>4)/16)/255,we=Math.floor(Me),xe=Me-we,be=ge[1]*(ce.value[1]+(15&ce.value[2])/16)/255,ye=Math.floor(be),Se=be-ye;we+=1,ye+=1;var Ee=Te.position;Ee[0]=Ee[1]=Ee[2]=0;for(var he=0;he<2;++he)for(var ue=he?xe:1-xe,me=0;me<2;++me)for(var Pe=we+he,Ce=ye+me,Ie=ue*(me?Se:1-Se),Oe=0;Oe<3;++Oe)Ee[Oe]+=this._field[Oe].get(Pe,Ce)*Ie;for(var ze=this._pickResult.level,je=0;je<3;++je)if(ze[je]=x.le(this.contourLevels[je],Ee[je]),ze[je]<0)this.contourLevels[je].length>0&&(ze[je]=0);else if(ze[je]<this.contourLevels[je].length-1){var Ae=this.contourLevels[je][ze[je]+1];Math.abs(this.contourLevels[je][ze[je]]-Ee[je])>Math.abs(Ae-Ee[je])&&(ze[je]+=1)}for(Te.index[0]=xe<.5?we:we+1,Te.index[1]=Se<.5?ye:ye+1,Te.uv[0]=Me/ge[0],Te.uv[1]=be/ge[1],Oe=0;Oe<3;++Oe)Te.dataCoordinate[Oe]=this._field[Oe].get(Te.index[0],Te.index[1]);return Te},$.padField=function(ce,ge){var Te=ge.shape.slice(),Me=ce.shape.slice();h.assign(ce.lo(1,1).hi(Te[0],Te[1]),ge),h.assign(ce.lo(1).hi(Te[0],1),ge.hi(Te[0],1)),h.assign(ce.lo(1,Me[1]-1).hi(Te[0],1),ge.lo(0,Te[1]-1).hi(Te[0],1)),h.assign(ce.lo(0,1).hi(1,Te[1]),ge.hi(1)),h.assign(ce.lo(Me[0]-1,1).hi(1,Te[1]),ge.lo(Te[0]-1)),ce.set(0,0,ge.get(0,0)),ce.set(0,Me[1]-1,ge.get(0,Te[1]-1)),ce.set(Me[0]-1,0,ge.get(Te[0]-1,0)),ce.set(Me[0]-1,Me[1]-1,ge.get(Te[0]-1,Te[1]-1))},$.update=function(ce){this.objectOffset=(ce=ce||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ce&&(this.contourWidth=J(ce.contourWidth,Number)),"showContour"in ce&&(this.showContour=J(ce.showContour,Boolean)),"showSurface"in ce&&(this.showSurface=!!ce.showSurface),"contourTint"in ce&&(this.contourTint=J(ce.contourTint,Boolean)),"contourColor"in ce&&(this.contourColor=fe(ce.contourColor)),"contourProject"in ce&&(this.contourProject=J(ce.contourProject,function(vn){return J(vn,Boolean)})),"surfaceProject"in ce&&(this.surfaceProject=ce.surfaceProject),"dynamicColor"in ce&&(this.dynamicColor=fe(ce.dynamicColor)),"dynamicTint"in ce&&(this.dynamicTint=J(ce.dynamicTint,Number)),"dynamicWidth"in ce&&(this.dynamicWidth=J(ce.dynamicWidth,Number)),"opacity"in ce&&(this.opacity=ce.opacity),"opacityscale"in ce&&(this.opacityscale=ce.opacityscale),"colorBounds"in ce&&(this.colorBounds=ce.colorBounds),"vertexColor"in ce&&(this.vertexColor=ce.vertexColor?1:0),"colormap"in ce&&this._colorMap.setPixels(this.genColormap(ce.colormap,this.opacityscale));var ge=ce.field||ce.coords&&ce.coords[2]||null,Te=!1;if(ge||(ge=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ce||"coords"in ce){var Me=(ge.shape[0]+2)*(ge.shape[1]+2);Me>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(i.nextPow2(Me))),this._field[2]=b(this._field[2].data,[ge.shape[0]+2,ge.shape[1]+2]),this.padField(this._field[2],ge),this.shape=ge.shape.slice();for(var we=this.shape,xe=0;xe<2;++xe)this._field[2].size>this._field[xe].data.length&&(u.freeFloat(this._field[xe].data),this._field[xe].data=u.mallocFloat(this._field[2].size)),this._field[xe]=b(this._field[xe].data,[we[0]+2,we[1]+2]);if(ce.coords){var be=ce.coords;if(!Array.isArray(be)||3!==be.length)throw new Error("gl-surface: invalid coordinates for x/y");for(xe=0;xe<2;++xe){var ye=be[xe];for(me=0;me<2;++me)if(ye.shape[me]!==we[me])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[xe],ye)}}else if(ce.ticks){var Se=ce.ticks;if(!Array.isArray(Se)||2!==Se.length)throw new Error("gl-surface: invalid ticks");for(xe=0;xe<2;++xe){var Ee=Se[xe];if((Array.isArray(Ee)||Ee.length)&&(Ee=b(Ee)),Ee.shape[0]!==we[xe])throw new Error("gl-surface: invalid tick length");var he=b(Ee.data,we);he.stride[xe]=Ee.stride[0],he.stride[1^xe]=0,this.padField(this._field[xe],he)}}else{for(xe=0;xe<2;++xe){var ue=[0,0];ue[xe]=1,this._field[xe]=b(this._field[xe].data,[we[0]+2,we[1]+2],ue,0)}this._field[0].set(0,0,0);for(var me=0;me<we[0];++me)this._field[0].set(me+1,0,me);for(this._field[0].set(we[0]+1,0,we[0]-1),this._field[1].set(0,0,0),me=0;me<we[1];++me)this._field[1].set(0,me+1,me);this._field[1].set(0,we[1]+1,we[1]-1)}var Pe=this._field,Ce=b(u.mallocFloat(3*Pe[2].size*2),[3,we[0]+2,we[1]+2,2]);for(xe=0;xe<3;++xe)y(Ce.pick(xe),Pe[xe],"mirror");var Ie=b(u.mallocFloat(3*Pe[2].size),[we[0]+2,we[1]+2,3]);for(xe=0;xe<we[0]+2;++xe)for(me=0;me<we[1]+2;++me){var Oe=Ce.get(0,xe,me,0),ze=Ce.get(0,xe,me,1),je=Ce.get(1,xe,me,0),ve=Ce.get(1,xe,me,1),Ae=Ce.get(2,xe,me,0),Le=Ce.get(2,xe,me,1),Ve=je*Le-ve*Ae,Ne=Ae*ze-Le*Oe,We=Oe*ve-ze*je,Xe=Math.sqrt(Ve*Ve+Ne*Ne+We*We);Xe<1e-8?(Xe=Math.max(Math.abs(Ve),Math.abs(Ne),Math.abs(We)))<1e-8?(We=1,Ne=Ve=0,Xe=1):Xe=1/Xe:Xe=1/Math.sqrt(Xe),Ie.set(xe,me,0,Ve*Xe),Ie.set(xe,me,1,Ne*Xe),Ie.set(xe,me,2,We*Xe)}u.free(Ce.data);var nt=[1/0,1/0,1/0],dt=[-1/0,-1/0,-1/0],ht=1/0,Mt=-1/0,_t=u.mallocFloat(i.nextPow2((we[0]-1)*(we[1]-1)*6*10)),ut=0,st=0;for(xe=0;xe<we[0]-1;++xe)e:for(me=0;me<we[1]-1;++me){for(var Lt=0;Lt<2;++Lt)for(var Ut=0;Ut<2;++Ut)for(var Ht=0;Ht<3;++Ht){var Pt=this._field[Ht].get(1+xe+Lt,1+me+Ut);if(isNaN(Pt)||!isFinite(Pt))continue e}for(Ht=0;Ht<6;++Ht){var Je=xe+O[Ht][0],tt=me+O[Ht][1],Ge=this._field[0].get(Je+1,tt+1),Qe=this._field[1].get(Je+1,tt+1);Pt=this._field[2].get(Je+1,tt+1),Ve=Ie.get(Je+1,tt+1,0),Ne=Ie.get(Je+1,tt+1,1),We=Ie.get(Je+1,tt+1,2),ce.intensity&&(pt=ce.intensity.get(Je,tt));var pt=ce.intensity?ce.intensity.get(Je,tt):Pt+this.objectOffset[2];_t[ut++]=Je,_t[ut++]=tt,_t[ut++]=Ge,_t[ut++]=Qe,_t[ut++]=Pt,_t[ut++]=0,_t[ut++]=pt,_t[ut++]=Ve,_t[ut++]=Ne,_t[ut++]=We,nt[0]=Math.min(nt[0],Ge+this.objectOffset[0]),nt[1]=Math.min(nt[1],Qe+this.objectOffset[1]),nt[2]=Math.min(nt[2],Pt+this.objectOffset[2]),ht=Math.min(ht,pt),dt[0]=Math.max(dt[0],Ge+this.objectOffset[0]),dt[1]=Math.max(dt[1],Qe+this.objectOffset[1]),dt[2]=Math.max(dt[2],Pt+this.objectOffset[2]),Mt=Math.max(Mt,pt),st+=1}}for(ce.intensityBounds&&(ht=+ce.intensityBounds[0],Mt=+ce.intensityBounds[1]),xe=6;xe<ut;xe+=10)_t[xe]=(_t[xe]-ht)/(Mt-ht);this._vertexCount=st,this._coordinateBuffer.update(_t.subarray(0,ut)),u.freeFloat(_t),u.free(Ie.data),this.bounds=[nt,dt],this.intensity=ce.intensity||this._field[2],this.intensityBounds[0]===ht&&this.intensityBounds[1]===Mt||(Te=!0),this.intensityBounds=[ht,Mt]}if("levels"in ce){var ct=ce.levels;for(ct=Array.isArray(ct[0])?ct.slice():[[],[],ct],xe=0;xe<3;++xe)ct[xe]=ct[xe].slice(),ct[xe].sort(function(vn,hn){return vn-hn});for(xe=0;xe<3;++xe)for(me=0;me<ct[xe].length;++me)ct[xe][me]-=this.objectOffset[xe];e:for(xe=0;xe<3;++xe){if(ct[xe].length!==this.contourLevels[xe].length){Te=!0;break}for(me=0;me<ct[xe].length;++me)if(ct[xe][me]!==this.contourLevels[xe][me]){Te=!0;break e}}this.contourLevels=ct}if(Te){Pe=this._field,we=this.shape;for(var He=[],qe=0;qe<3;++qe){var ft=this.contourLevels[qe],et=[],xt=[],wt=[0,0,0];for(xe=0;xe<ft.length;++xe){var At=p(this._field[qe],ft[xe]);et.push(He.length/5|0),st=0;e:for(me=0;me<At.cells.length;++me){var yt=At.cells[me];for(Ht=0;Ht<2;++Ht){var Ot=At.positions[yt[Ht]],Ct=Ot[0],Rt=0|Math.floor(Ct),Bt=Ct-Rt,jt=Ot[1],Gt=0|Math.floor(jt),on=jt-Gt,Jt=!1;t:for(var $t=0;$t<3;++$t){wt[$t]=0;var tn=(qe+$t+1)%3;for(Lt=0;Lt<2;++Lt){var dn=Lt?Bt:1-Bt;for(Je=0|Math.min(Math.max(Rt+Lt,0),we[0]),Ut=0;Ut<2;++Ut){var Gn=Ut?on:1-on;if(tt=0|Math.min(Math.max(Gt+Ut,0),we[1]),Pt=$t<2?this._field[tn].get(Je,tt):(this.intensity.get(Je,tt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Pt)||isNaN(Pt)){Jt=!0;break t}wt[$t]+=dn*Gn*Pt}}}if(Jt){if(Ht>0){for(var Mn=0;Mn<5;++Mn)He.pop();st-=1}continue e}He.push(wt[0],wt[1],Ot[0],Ot[1],wt[2]),st+=1}}xt.push(st)}this._contourOffsets[qe]=et,this._contourCounts[qe]=xt}var ln=u.mallocFloat(He.length);for(xe=0;xe<He.length;++xe)ln[xe]=He[xe];this._contourBuffer.update(ln),u.freeFloat(ln)}},$.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ce=0;ce<3;++ce)u.freeFloat(this._field[ce].data)},$.highlight=function(ce){var ge,Te;if(!ce)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ge=0;ge<3;++ge)this.highlightLevel[ge]=this.enableHighlight[ge]?ce.level[ge]:-1;for(Te=this.snapToData?ce.dataCoordinate:ce.position,ge=0;ge<3;++ge)Te[ge]-=this.objectOffset[ge];if(this.enableDynamic[0]&&Te[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&Te[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&Te[2]!==this.dynamicLevel[2]){for(var Me=0,we=this.shape,xe=u.mallocFloat(12*we[0]*we[1]),be=0;be<3;++be)if(this.enableDynamic[be]){this.dynamicLevel[be]=Te[be];var he=this._field[(be+1)%3],ue=this._field[(be+2)%3],me=p(this._field[be],Te[be]),Pe=me.cells,Ce=me.positions;for(this._dynamicOffsets[be]=Me,ge=0;ge<Pe.length;++ge)for(var Ie=Pe[ge],Oe=0;Oe<2;++Oe){var ze=Ce[Ie[Oe]],je=+ze[0],ve=0|je,Ae=0|Math.min(ve+1,we[0]),Le=je-ve,Ve=1-Le,Ne=+ze[1],We=0|Ne,Xe=0|Math.min(We+1,we[1]),nt=Ne-We,dt=1-nt,ht=Ve*dt,Mt=Ve*nt,kt=Le*dt,_t=Le*nt,ut=ht*he.get(ve,We)+Mt*he.get(ve,Xe)+kt*he.get(Ae,We)+_t*he.get(Ae,Xe),st=ht*ue.get(ve,We)+Mt*ue.get(ve,Xe)+kt*ue.get(Ae,We)+_t*ue.get(Ae,Xe);if(isNaN(ut)||isNaN(st)){Oe&&(Me-=1);break}xe[2*Me+0]=ut,xe[2*Me+1]=st,Me+=1}this._dynamicCounts[be]=Me-this._dynamicOffsets[be]}else this.dynamicLevel[be]=NaN,this._dynamicCounts[be]=0;this._dynamicBuffer.update(xe.subarray(0,2*Me)),u.freeFloat(xe)}}},7766:function(d,s,t){"use strict";var i=t(9618),n=t(5298),r=t(1888);d.exports=function(w){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||(o=[(T=w).LINEAR,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_NEAREST],u=[T.NEAREST,T.LINEAR,T.NEAREST_MIPMAP_NEAREST,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_LINEAR],l=[T.REPEAT,T.CLAMP_TO_EDGE,T.MIRRORED_REPEAT]),"number"==typeof arguments[1])return y(w,arguments[1],arguments[2],arguments[3]||w.RGBA,arguments[4]||w.UNSIGNED_BYTE);var T;if(Array.isArray(arguments[1]))return y(w,0|arguments[1][0],0|arguments[1][1],arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var f=arguments[1],C=h(f)?f:f.raw;if(C)return function(T,D,R,P,O,B){var q=x(T);return T.texImage2D(T.TEXTURE_2D,0,O,O,B,D),new p(T,q,R,P,O,B)}(w,C,0|f.width,0|f.height,arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if(f.shape&&f.data&&f.stride)return function(T,D){var R=D.dtype,P=D.shape.slice(),O=T.getParameter(T.MAX_TEXTURE_SIZE);if(P[0]<0||P[0]>O||P[1]<0||P[1]>O)throw new Error("gl-texture2d: Invalid texture size");var B=v(P,D.stride.slice()),q=0;"float32"===R?q=T.FLOAT:"float64"===R?(q=T.FLOAT,B=!1,R="float32"):"uint8"===R?q=T.UNSIGNED_BYTE:(q=T.UNSIGNED_BYTE,B=!1,R="uint8");var N,H,$=0;if(2===P.length)$=T.LUMINANCE,D=i(D.data,P=[P[0],P[1],1],[D.stride[0],D.stride[1],1],D.offset);else{if(3!==P.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===P[2])$=T.ALPHA;else if(2===P[2])$=T.LUMINANCE_ALPHA;else if(3===P[2])$=T.RGB;else{if(4!==P[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");$=T.RGBA}}q!==T.FLOAT||T.getExtension("OES_texture_float")||(q=T.UNSIGNED_BYTE,B=!1);var j=D.size;if(B)N=0===D.offset&&D.data.length===j?D.data:D.data.subarray(D.offset,D.offset+j);else{var W=[P[2],P[2]*P[0],1];H=r.malloc(j,R);var G=i(H,P,W,0);"float32"!==R&&"float64"!==R||q!==T.UNSIGNED_BYTE?n.assign(G,D):c(G,D),N=H.subarray(0,j)}var ae=x(T);return T.texImage2D(T.TEXTURE_2D,0,$,P[0],P[1],0,$,q,N),B||r.free(H),new p(T,ae,P[0],P[1],$,q)}(w,f)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,u=null,l=null;function h(w){return typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&w instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&w instanceof HTMLVideoElement||typeof ImageData<"u"&&w instanceof ImageData}var c=function(w,f){n.muls(w,f,255)};function b(w,f,C){var T=w.gl,D=T.getParameter(T.MAX_TEXTURE_SIZE);if(f<0||f>D||C<0||C>D)throw new Error("gl-texture2d: Invalid texture size");return w._shape=[f,C],w.bind(),T.texImage2D(T.TEXTURE_2D,0,w.format,f,C,0,w.format,w.type,null),w._mipLevels=[0],w}function p(w,f,C,T,D,R){this.gl=w,this.handle=f,this.format=D,this.type=R,this._shape=[C,T],this._mipLevels=[0],this._magFilter=w.NEAREST,this._minFilter=w.NEAREST,this._wrapS=w.CLAMP_TO_EDGE,this._wrapT=w.CLAMP_TO_EDGE,this._anisoSamples=1;var P=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return P._wrapS},set:function(q){return P.wrapS=q}},{get:function(){return P._wrapT},set:function(q){return P.wrapT=q}}]),this._wrapVector=O;var B=[this._shape[0],this._shape[1]];Object.defineProperties(B,[{get:function(){return P._shape[0]},set:function(q){return P.width=q}},{get:function(){return P._shape[1]},set:function(q){return P.height=q}}]),this._shapeVector=B}var m=p.prototype;function v(w,f){return 3===w.length?1===f[2]&&f[1]===w[0]*w[2]&&f[0]===w[2]:1===f[0]&&f[1]===w[0]}function x(w){var f=w.createTexture();return w.bindTexture(w.TEXTURE_2D,f),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),f}function y(w,f,C,T,D){var R=w.getParameter(w.MAX_TEXTURE_SIZE);if(f<0||f>R||C<0||C>R)throw new Error("gl-texture2d: Invalid texture shape");if(D===w.FLOAT&&!w.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var P=x(w);return w.texImage2D(w.TEXTURE_2D,0,T,f,C,0,T,D,null),new p(w,P,f,C,T,D)}Object.defineProperties(m,{minFilter:{get:function(){return this._minFilter},set:function(w){this.bind();var f=this.gl;if(this.type===f.FLOAT&&o.indexOf(w)>=0&&(f.getExtension("OES_texture_float_linear")||(w=f.NEAREST)),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,w),this._minFilter=w}},magFilter:{get:function(){return this._magFilter},set:function(w){this.bind();var f=this.gl;if(this.type===f.FLOAT&&o.indexOf(w)>=0&&(f.getExtension("OES_texture_float_linear")||(w=f.NEAREST)),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,w),this._magFilter=w}},mipSamples:{get:function(){return this._anisoSamples},set:function(w){var f=this._anisoSamples;if(this._anisoSamples=0|Math.max(w,1),f!==this._anisoSamples){var C=this.gl.getExtension("EXT_texture_filter_anisotropic");C&&this.gl.texParameterf(this.gl.TEXTURE_2D,C.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(w){if(this.bind(),l.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,w),this._wrapS=w}},wrapT:{get:function(){return this._wrapT},set:function(w){if(this.bind(),l.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,w),this._wrapT=w}},wrap:{get:function(){return this._wrapVector},set:function(w){if(Array.isArray(w)||(w=[w,w]),2!==w.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var f=0;f<2;++f)if(l.indexOf(w[f])<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);this._wrapS=w[0],this._wrapT=w[1];var C=this.gl;return this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,this._wrapS),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,this._wrapT),w}},shape:{get:function(){return this._shapeVector},set:function(w){if(Array.isArray(w)){if(2!==w.length)throw new Error("gl-texture2d: Invalid texture shape")}else w=[0|w,0|w];return b(this,0|w[0],0|w[1]),[0|w[0],0|w[1]]}},width:{get:function(){return this._shape[0]},set:function(w){return b(this,w|=0,this._shape[1]),w}},height:{get:function(){return this._shape[1]},set:function(w){return b(this,this._shape[0],w|=0),w}}}),m.bind=function(w){var f=this.gl;return void 0!==w&&f.activeTexture(f.TEXTURE0+(0|w)),f.bindTexture(f.TEXTURE_2D,this.handle),void 0!==w?0|w:f.getParameter(f.ACTIVE_TEXTURE)-f.TEXTURE0},m.dispose=function(){this.gl.deleteTexture(this.handle)},m.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var w=Math.min(this._shape[0],this._shape[1]),f=0;w>0;++f,w>>>=1)this._mipLevels.indexOf(f)<0&&this._mipLevels.push(f)},m.setPixels=function(w,f,C,T){var D=this.gl;this.bind(),Array.isArray(f)?(T=C,C=0|f[1],f=0|f[0]):(f=f||0,C=C||0),T=T||0;var R=h(w)?w:w.raw;if(R)this._mipLevels.indexOf(T)<0?(D.texImage2D(D.TEXTURE_2D,0,this.format,this.format,this.type,R),this._mipLevels.push(T)):D.texSubImage2D(D.TEXTURE_2D,T,f,C,this.format,this.type,R);else{if(!(w.shape&&w.stride&&w.data))throw new Error("gl-texture2d: Unsupported data type");if(w.shape.length<2||f+w.shape[1]>this._shape[1]>>>T||C+w.shape[0]>this._shape[0]>>>T||f<0||C<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(P,O,B,q,N,H,$,j){var W=j.dtype,G=j.shape.slice();if(G.length<2||G.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var ae=0,te=0,Q=v(G,j.stride.slice());if("float32"===W?ae=P.FLOAT:"float64"===W?(ae=P.FLOAT,Q=!1,W="float32"):"uint8"===W?ae=P.UNSIGNED_BYTE:(ae=P.UNSIGNED_BYTE,Q=!1,W="uint8"),2===G.length)te=P.LUMINANCE,j=i(j.data,G=[G[0],G[1],1],[j.stride[0],j.stride[1],1],j.offset);else{if(3!==G.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===G[2])te=P.ALPHA;else if(2===G[2])te=P.LUMINANCE_ALPHA;else if(3===G[2])te=P.RGB;else{if(4!==G[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");te=P.RGBA}}if(te!==P.LUMINANCE&&te!==P.ALPHA||N!==P.LUMINANCE&&N!==P.ALPHA||(te=N),te!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ee=j.size,re=$.indexOf(q)<0;if(re&&$.push(q),ae===H&&Q)0===j.offset&&j.data.length===ee?re?P.texImage2D(P.TEXTURE_2D,q,N,G[0],G[1],0,N,H,j.data):P.texSubImage2D(P.TEXTURE_2D,q,O,B,G[0],G[1],N,H,j.data):re?P.texImage2D(P.TEXTURE_2D,q,N,G[0],G[1],0,N,H,j.data.subarray(j.offset,j.offset+ee)):P.texSubImage2D(P.TEXTURE_2D,q,O,B,G[0],G[1],N,H,j.data.subarray(j.offset,j.offset+ee));else{var J;J=H===P.FLOAT?r.mallocFloat32(ee):r.mallocUint8(ee);var le=i(J,G,[G[2],G[2]*G[0],1]);ae===P.FLOAT&&H===P.UNSIGNED_BYTE?c(le,j):n.assign(le,j),re?P.texImage2D(P.TEXTURE_2D,q,N,G[0],G[1],0,N,H,J.subarray(0,ee)):P.texSubImage2D(P.TEXTURE_2D,q,O,B,G[0],G[1],N,H,J.subarray(0,ee)),H===P.FLOAT?r.freeFloat32(J):r.freeUint8(J)}}(D,f,C,T,this.format,this.type,this._mipLevels,w)}}},1433:function(d){"use strict";d.exports=function(s,t,i){t?t.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var n=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var r=0;r<i.length;++r){var o=i[r];if(o.buffer){var l=o.size||4,h=o.type||s.FLOAT,c=!!o.normalized,b=o.stride||0,p=o.offset||0;o.buffer.bind(),s.enableVertexAttribArray(r),s.vertexAttribPointer(r,l,h,c,b,p)}else{if("number"==typeof o)s.vertexAttrib1f(r,o);else if(1===o.length)s.vertexAttrib1f(r,o[0]);else if(2===o.length)s.vertexAttrib2f(r,o[0],o[1]);else if(3===o.length)s.vertexAttrib3f(r,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(r,o[0],o[1],o[2],o[3])}s.disableVertexAttribArray(r)}}for(;r<n;++r)s.disableVertexAttribArray(r)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),r=0;r<n;++r)s.disableVertexAttribArray(r)}},870:function(d,s,t){"use strict";var i=t(1433);function n(r){this.gl=r,this._elements=null,this._attributes=null,this._elementsType=r.UNSIGNED_SHORT}n.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},n.prototype.update=function(r,o,u){this._elements=o,this._attributes=r,this._elementsType=u||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(r,o,u){u=u||0;var l=this.gl;this._elements?l.drawElements(r,o,this._elementsType,u):l.drawArrays(r,u,o)},d.exports=function(r){return new n(r)}},7518:function(d,s,t){"use strict";var i=t(1433);function n(o,u,l,h,c,b){this.location=o,this.dimension=u,this.a=l,this.b=h,this.c=c,this.d=b}function r(o,u,l){this.gl=o,this._ext=u,this.handle=l,this._attribs=[],this._useElements=!1,this._elementsType=o.UNSIGNED_SHORT}n.prototype.bind=function(o){switch(this.dimension){case 1:o.vertexAttrib1f(this.location,this.a);break;case 2:o.vertexAttrib2f(this.location,this.a,this.b);break;case 3:o.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:o.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},r.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var o=0;o<this._attribs.length;++o)this._attribs[o].bind(this.gl)},r.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},r.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},r.prototype.update=function(o,u,l){if(this.bind(),i(this.gl,u,o),this.unbind(),this._attribs.length=0,o)for(var h=0;h<o.length;++h){var c=o[h];"number"==typeof c?this._attribs.push(new n(h,1,c)):Array.isArray(c)&&this._attribs.push(new n(h,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!u,this._elementsType=l||this.gl.UNSIGNED_SHORT},r.prototype.draw=function(o,u,l){l=l||0;var h=this.gl;this._useElements?h.drawElements(o,u,this._elementsType,l):h.drawArrays(o,l,u)},d.exports=function(o,u){return new r(o,u,u.createVertexArrayOES())}},8116:function(d,s,t){"use strict";var i=t(7518),n=t(870);function r(o){this.bindVertexArrayOES=o.bindVertexArray.bind(o),this.createVertexArrayOES=o.createVertexArray.bind(o),this.deleteVertexArrayOES=o.deleteVertexArray.bind(o)}d.exports=function(o,u,l,h){var c,b=o.createVertexArray?new r(o):o.getExtension("OES_vertex_array_object");return(c=b?i(o,b):n(o)).update(u,l,h),c}},5632:function(d){d.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s}},8192:function(d,s,t){d.exports=function(o,u){var l=i(o[0],o[1],o[2]),h=i(u[0],u[1],u[2]);n(l,l),n(h,h);var c=r(l,h);return c>1?0:Math.acos(c)};var i=t(2825),n=t(3536),r=t(244)},9226:function(d){d.exports=function(s,t){return s[0]=Math.ceil(t[0]),s[1]=Math.ceil(t[1]),s[2]=Math.ceil(t[2]),s}},3126:function(d){d.exports=function(s){var t=new Float32Array(3);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t}},3990:function(d){d.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}},1091:function(d){d.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},5911:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],u=i[0],l=i[1],h=i[2];return s[0]=r*h-o*l,s[1]=o*u-n*h,s[2]=n*l-r*u,s}},5455:function(d,s,t){d.exports=t(7056)},7056:function(d){d.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2];return Math.sqrt(i*i+n*n+r*r)}},4008:function(d,s,t){d.exports=t(6690)},6690:function(d){d.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s}},244:function(d){d.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}},2613:function(d){d.exports=1e-6},9922:function(d,s,t){d.exports=function(n,r){var o=n[0],u=n[1],l=n[2],h=r[0],c=r[1],b=r[2];return Math.abs(o-h)<=i*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-c)<=i*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(l-b)<=i*Math.max(1,Math.abs(l),Math.abs(b))};var i=t(2613)},9265:function(d){d.exports=function(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}},2681:function(d){d.exports=function(s,t){return s[0]=Math.floor(t[0]),s[1]=Math.floor(t[1]),s[2]=Math.floor(t[2]),s}},5137:function(d,s,t){d.exports=function(n,r,o,u,l,h){var c,b;for(r||(r=3),o||(o=0),b=u?Math.min(u*r+o,n.length):n.length,c=o;c<b;c+=r)i[0]=n[c],i[1]=n[c+1],i[2]=n[c+2],l(i,i,h),n[c]=i[0],n[c+1]=i[1],n[c+2]=i[2];return n};var i=t(1091)()},2825:function(d){d.exports=function(s,t,i){var n=new Float32Array(3);return n[0]=s,n[1]=t,n[2]=i,n}},2931:function(d,s,t){d.exports={EPSILON:t(2613),create:t(1091),clone:t(3126),angle:t(8192),fromValues:t(2825),copy:t(3990),set:t(1463),equals:t(9922),exactEquals:t(9265),add:t(5632),subtract:t(6843),sub:t(2229),multiply:t(5847),mul:t(4505),divide:t(6690),div:t(4008),min:t(8107),max:t(7417),floor:t(2681),ceil:t(9226),round:t(2447),scale:t(6621),scaleAndAdd:t(8489),distance:t(7056),dist:t(5455),squaredDistance:t(2953),sqrDist:t(6141),length:t(1387),len:t(868),squaredLength:t(3066),sqrLen:t(5486),negate:t(5093),inverse:t(811),normalize:t(3536),dot:t(244),cross:t(5911),lerp:t(6658),random:t(7636),transformMat4:t(5673),transformMat3:t(492),transformQuat:t(264),rotateX:t(6894),rotateY:t(109),rotateZ:t(8692),forEach:t(5137)}},811:function(d){d.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}},868:function(d,s,t){d.exports=t(1387)},1387:function(d){d.exports=function(s){var t=s[0],i=s[1],n=s[2];return Math.sqrt(t*t+i*i+n*n)}},6658:function(d){d.exports=function(s,t,i,n){var r=t[0],o=t[1],u=t[2];return s[0]=r+n*(i[0]-r),s[1]=o+n*(i[1]-o),s[2]=u+n*(i[2]-u),s}},7417:function(d){d.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s}},8107:function(d){d.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s}},4505:function(d,s,t){d.exports=t(5847)},5847:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s}},5093:function(d){d.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}},3536:function(d){d.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=i*i+n*n+r*r;return o>0&&(o=1/Math.sqrt(o),s[0]=t[0]*o,s[1]=t[1]*o,s[2]=t[2]*o),s}},7636:function(d){d.exports=function(s,t){t=t||1;var i=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return s[0]=Math.cos(i)*r,s[1]=Math.sin(i)*r,s[2]=n*t,s}},6894:function(d){d.exports=function(s,t,i,n){var r=i[1],o=i[2],u=t[1]-r,l=t[2]-o,h=Math.sin(n),c=Math.cos(n);return s[0]=t[0],s[1]=r+u*c-l*h,s[2]=o+u*h+l*c,s}},109:function(d){d.exports=function(s,t,i,n){var r=i[0],o=i[2],u=t[0]-r,l=t[2]-o,h=Math.sin(n),c=Math.cos(n);return s[0]=r+l*h+u*c,s[1]=t[1],s[2]=o+l*c-u*h,s}},8692:function(d){d.exports=function(s,t,i,n){var r=i[0],o=i[1],u=t[0]-r,l=t[1]-o,h=Math.sin(n),c=Math.cos(n);return s[0]=r+u*c-l*h,s[1]=o+u*h+l*c,s[2]=t[2],s}},2447:function(d){d.exports=function(s,t){return s[0]=Math.round(t[0]),s[1]=Math.round(t[1]),s[2]=Math.round(t[2]),s}},6621:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s}},8489:function(d){d.exports=function(s,t,i,n){return s[0]=t[0]+i[0]*n,s[1]=t[1]+i[1]*n,s[2]=t[2]+i[2]*n,s}},1463:function(d){d.exports=function(s,t,i,n){return s[0]=t,s[1]=i,s[2]=n,s}},6141:function(d,s,t){d.exports=t(2953)},5486:function(d,s,t){d.exports=t(3066)},2953:function(d){d.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2];return i*i+n*n+r*r}},3066:function(d){d.exports=function(s){var t=s[0],i=s[1],n=s[2];return t*t+i*i+n*n}},2229:function(d,s,t){d.exports=t(6843)},6843:function(d){d.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s}},492:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2];return s[0]=n*i[0]+r*i[3]+o*i[6],s[1]=n*i[1]+r*i[4]+o*i[7],s[2]=n*i[2]+r*i[5]+o*i[8],s}},5673:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],u=i[3]*n+i[7]*r+i[11]*o+i[15];return s[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/(u=u||1),s[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/u,s[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/u,s}},264:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],u=i[0],l=i[1],h=i[2],c=i[3],b=c*n+l*o-h*r,p=c*r+h*n-u*o,m=c*o+u*r-l*n,v=-u*n-l*r-h*o;return s[0]=b*c+v*-u+p*-h-m*-l,s[1]=p*c+v*-l+m*-u-b*-h,s[2]=m*c+v*-h+b*-l-p*-u,s}},4361:function(d){d.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s[3]=t[3]+i[3],s}},2335:function(d){d.exports=function(s){var t=new Float32Array(4);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t}},2933:function(d){d.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}},7536:function(d){d.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},4691:function(d){d.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2],o=t[3]-s[3];return Math.sqrt(i*i+n*n+r*r+o*o)}},1373:function(d){d.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s[3]=t[3]/i[3],s}},3750:function(d){d.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}},3390:function(d){d.exports=function(s,t,i,n){var r=new Float32Array(4);return r[0]=s,r[1]=t,r[2]=i,r[3]=n,r}},9970:function(d,s,t){d.exports={create:t(7536),clone:t(2335),fromValues:t(3390),copy:t(2933),set:t(4578),add:t(4361),subtract:t(6860),multiply:t(3576),divide:t(1373),min:t(2334),max:t(160),scale:t(9288),scaleAndAdd:t(4844),distance:t(4691),squaredDistance:t(7960),length:t(6808),squaredLength:t(483),negate:t(1498),inverse:t(4494),normalize:t(5177),dot:t(3750),lerp:t(2573),random:t(9131),transformMat4:t(5352),transformQuat:t(4041)}},4494:function(d){d.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s[3]=1/t[3],s}},6808:function(d){d.exports=function(s){var t=s[0],i=s[1],n=s[2],r=s[3];return Math.sqrt(t*t+i*i+n*n+r*r)}},2573:function(d){d.exports=function(s,t,i,n){var r=t[0],o=t[1],u=t[2],l=t[3];return s[0]=r+n*(i[0]-r),s[1]=o+n*(i[1]-o),s[2]=u+n*(i[2]-u),s[3]=l+n*(i[3]-l),s}},160:function(d){d.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s[3]=Math.max(t[3],i[3]),s}},2334:function(d){d.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s[3]=Math.min(t[3],i[3]),s}},3576:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s[3]=t[3]*i[3],s}},1498:function(d){d.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=-t[3],s}},5177:function(d){d.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=t[3],u=i*i+n*n+r*r+o*o;return u>0&&(u=1/Math.sqrt(u),s[0]=i*u,s[1]=n*u,s[2]=r*u,s[3]=o*u),s}},9131:function(d,s,t){var i=t(5177),n=t(9288);d.exports=function(r,o){return o=o||1,r[0]=Math.random(),r[1]=Math.random(),r[2]=Math.random(),r[3]=Math.random(),i(r,r),n(r,r,o),r}},9288:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s[3]=t[3]*i,s}},4844:function(d){d.exports=function(s,t,i,n){return s[0]=t[0]+i[0]*n,s[1]=t[1]+i[1]*n,s[2]=t[2]+i[2]*n,s[3]=t[3]+i[3]*n,s}},4578:function(d){d.exports=function(s,t,i,n,r){return s[0]=t,s[1]=i,s[2]=n,s[3]=r,s}},7960:function(d){d.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2],o=t[3]-s[3];return i*i+n*n+r*r+o*o}},483:function(d){d.exports=function(s){var t=s[0],i=s[1],n=s[2],r=s[3];return t*t+i*i+n*n+r*r}},6860:function(d){d.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s[3]=t[3]-i[3],s}},5352:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],u=t[3];return s[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*u,s[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*u,s[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*u,s[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*u,s}},4041:function(d){d.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],u=i[0],l=i[1],h=i[2],c=i[3],b=c*n+l*o-h*r,p=c*r+h*n-u*o,m=c*o+u*r-l*n,v=-u*n-l*r-h*o;return s[0]=b*c+v*-u+p*-h-m*-l,s[1]=p*c+v*-l+m*-u-b*-h,s[2]=m*c+v*-h+b*-l-p*-u,s[3]=t[3],s}},1848:function(d,s,t){var i=t(4905),n=t(6468);d.exports=function(r){for(var o=Array.isArray(r)?r:i(r),u=0;u<o.length;u++){var l=o[u];if("preprocessor"===l.type){var h=l.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var b=h[2];return(h[1]?n(b):b).trim()}}}}},5874:function(d,s,t){d.exports=function(P){var O,B,q,N=0,H=0,$=l,j=[],W=[],G=1,ae=0,te=0,Q=!1,ee=!1,re="",J=r,le=i;"300 es"===(P=P||{}).version&&(J=u,le=o);var fe={},ce={};for(N=0;N<J.length;N++)fe[J[N]]=!0;for(N=0;N<le.length;N++)ce[le[N]]=!0;return function(me){return W=[],null!==me?function(Pe){var Ce;for(N=0,Pe.toString&&(Pe=Pe.toString()),re+=Pe.replace(/\r\n/g,"\n"),q=re.length;O=re[N],N<q;){switch(Ce=N,$){case c:N="/"===O&&"*"===B?(j.push(O),ge(j.join("")),$=l,N+1):(j.push(O),B=O,N+1);break;case b:case p:N="\r"!==O&&"\n"!==O||"\\"===B?(j.push(O),B=O,N+1):(ge(j.join("")),$=l,N);break;case m:N=be();break;case v:N="."===O||/[eE]/.test(O)?(j.push(O),$=x,B=O,N+1):"x"===O&&1===j.length&&"0"===j[0]?($=D,j.push(O),B=O,N+1):/[^\d]/.test(O)?(ge(j.join("")),$=l,N):(j.push(O),B=O,N+1);break;case D:N=/[^a-fA-F0-9]/.test(O)?(ge(j.join("")),$=l,N):(j.push(O),B=O,N+1);break;case x:"f"===O&&(j.push(O),B=O,N+=1),N=/[eE]/.test(O)?(j.push(O),B=O,N+1):("-"!==O&&"+"!==O||!/[eE]/.test(B))&&/[^\d]/.test(O)?(ge(j.join("")),$=l,N):(j.push(O),B=O,N+1);break;case h:N=ue();break;case C:N=/[^\s]/g.test(O)?(ge(j.join("")),$=l,N):(j.push(O),B=O,N+1);break;case l:j=j.length?[]:j,N="/"===B&&"*"===O?(te=H+N-1,$=c,B=O,N+1):"/"===B&&"/"===O?(te=H+N-1,$=b,B=O,N+1):"#"===O?($=p,te=H+N,N):/\s/.test(O)?($=C,te=H+N,N):(Q=/\d/.test(O),ee=/[^\w_]/.test(O),te=H+N,$=Q?v:ee?m:h,N)}Ce!==N&&("\n"===re[Ce]?(ae=0,++G):++ae)}return H+=N,re=re.slice(N),W}(me):(j.length&&ge(j.join("")),$=T,ge("(eof)"),W)};function ge(me){me.length&&W.push({type:R[$],data:me,position:te,line:G,column:ae})}function be(){if("."===B&&/\d/.test(O))return $=x,N;if("/"===B&&"*"===O)return $=c,N;if("/"===B&&"/"===O)return $=b,N;if("."===O&&j.length){for(;ye(j););return $=x,N}if(";"===O||")"===O||"("===O){if(j.length)for(;ye(j););return ge(O),$=l,N+1}var me=2===j.length&&"="!==O;if(/[\w_\d\s]/.test(O)||me){for(;ye(j););return $=l,N}return j.push(O),B=O,N+1}function ye(me){for(var Pe,Ce,Ie=0;;){if(Pe=n.indexOf(me.slice(0,me.length+Ie).join("")),Ce=n[Pe],-1===Pe){if(Ie--+me.length>0)continue;Ce=me.slice(0,1).join("")}return ge(Ce),te+=Ce.length,(j=j.slice(Ce.length)).length}}function ue(){if(/[^\d\w_]/.test(O)){var me=j.join("");return $=ce[me]?f:fe[me]?w:y,ge(j.join("")),$=l,N}return j.push(O),B=O,N+1}};var i=t(620),n=t(7827),r=t(6852),o=t(7932),u=t(3508),l=999,h=9999,c=0,b=1,p=2,m=3,v=4,x=5,y=6,w=7,f=8,C=9,T=10,D=11,R=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3508:function(d,s,t){var i=t(6852);i=i.slice().filter(function(n){return!/^(gl\_|texture)/.test(n)}),d.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(d){d.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(d,s,t){var i=t(620);d.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(d){d.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(d){d.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(d,s,t){var i=t(5874);d.exports=function(n,r){var o=i(r),u=[];return(u=u.concat(o(n))).concat(o(null))}},3236:function(d){d.exports=function(s){"string"==typeof s&&(s=[s]);for(var t=[].slice.call(arguments,1),i=[],n=0;n<s.length-1;n++)i.push(s[n],t[n]||"");return i.push(s[n]),i.join("")}},7520:function(d,s,t){"use strict";var i=t(9507);d.exports=i&&function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{n=!1}return n}()},3778:function(d,s){s.read=function(t,i,n,r,o){var u,l,h=8*o-r-1,c=(1<<h)-1,b=c>>1,p=-7,m=n?o-1:0,v=n?-1:1,x=t[i+m];for(m+=v,u=x&(1<<-p)-1,x>>=-p,p+=h;p>0;u=256*u+t[i+m],m+=v,p-=8);for(l=u&(1<<-p)-1,u>>=-p,p+=r;p>0;l=256*l+t[i+m],m+=v,p-=8);if(0===u)u=1-b;else{if(u===c)return l?NaN:1/0*(x?-1:1);l+=Math.pow(2,r),u-=b}return(x?-1:1)*l*Math.pow(2,u-r)},s.write=function(t,i,n,r,o,u){var l,h,c,b=8*u-o-1,p=(1<<b)-1,m=p>>1,v=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:u-1,y=r?1:-1,w=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,l=p):(l=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-l))<1&&(l--,c*=2),(i+=l+m>=1?v/c:v*Math.pow(2,1-m))*c>=2&&(l++,c/=2),l+m>=p?(h=0,l=p):l+m>=1?(h=(i*c-1)*Math.pow(2,o),l+=m):(h=i*Math.pow(2,m-1)*Math.pow(2,o),l=0));o>=8;t[n+x]=255&h,x+=y,h/=256,o-=8);for(l=l<<o|h,b+=o;b>0;t[n+x]=255&l,x+=y,l/=256,b-=8);t[n+x-y]|=128*w}},8954:function(d,s,t){"use strict";d.exports=function(b,p){var m=b.length;if(0===m)throw new Error("Must have at least d+1 points");var v=b[0].length;if(m<=v)throw new Error("Must input at least d+1 points");var x=b.slice(0,v+1),y=i.apply(void 0,x);if(0===y)throw new Error("Input not in general position");for(var w=new Array(v+1),f=0;f<=v;++f)w[f]=f;y<0&&(w[0]=1,w[1]=0);var C=new r(w,new Array(v+1),!1),T=C.adjacent,D=new Array(v+2);for(f=0;f<=v;++f){for(var R=w.slice(),P=0;P<=v;++P)P===f&&(R[P]=-1);var O=R[0];R[0]=R[1],R[1]=O;var B=new r(R,new Array(v+1),!0);T[f]=B,D[f]=B}for(D[v+1]=C,f=0;f<=v;++f){R=T[f].vertices;var q=T[f].adjacent;for(P=0;P<=v;++P){var N=R[P];if(N<0)q[P]=C;else for(var H=0;H<=v;++H)T[H].vertices.indexOf(N)<0&&(q[P]=T[H])}}var $=new h(v,x,D),j=!!p;for(f=v+1;f<m;++f)$.insert(b[f],j);return $.boundary()};var i=t(3250),n=t(6803).Fw;function r(b,p,m){this.vertices=b,this.adjacent=p,this.boundary=m,this.lastVisited=-1}function o(b,p,m){this.vertices=b,this.cell=p,this.index=m}function u(b,p){return n(b.vertices,p.vertices)}r.prototype.flip=function(){var b=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=b;var p=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=p};var l=[];function h(b,p,m){this.dimension=b,this.vertices=p,this.simplices=m,this.interior=m.filter(function(w){return!w.boundary}),this.tuple=new Array(b+1);for(var v=0;v<=b;++v)this.tuple[v]=this.vertices[v];var x,w,y=l[b];y||(y=l[b]=((x=i[b+1])||(x=i),w=x,function(){return w.apply(this,this.tuple)})),this.orient=y}var c=h.prototype;c.handleBoundaryDegeneracy=function(b,p){var m=this.dimension,v=this.vertices.length-1,x=this.tuple,y=this.vertices,w=[b];for(b.lastVisited=-v;w.length>0;)for(var f=(b=w.pop()).adjacent,C=0;C<=m;++C){var T=f[C];if(T.boundary&&!(T.lastVisited<=-v)){for(var D=T.vertices,R=0;R<=m;++R){var P=D[R];x[R]=P<0?p:y[P]}var O=this.orient();if(O>0)return T;T.lastVisited=-v,0===O&&w.push(T)}}return null},c.walk=function(b,p){var m=this.vertices.length-1,v=this.dimension,x=this.vertices,y=this.tuple,w=p?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[w];e:for(;!f.boundary;){for(var C=f.vertices,T=f.adjacent,D=0;D<=v;++D)y[D]=x[C[D]];for(f.lastVisited=m,D=0;D<=v;++D){var R=T[D];if(!(R.lastVisited>=m)){var P=y[D];y[D]=b;var O=this.orient();if(y[D]=P,O<0){f=R;continue e}R.lastVisited=R.boundary?-m:m}}return}return f},c.addPeaks=function(b,p){var m=this.vertices.length-1,v=this.dimension,x=this.vertices,y=this.tuple,w=this.interior,f=this.simplices,C=[p];p.lastVisited=m,p.vertices[p.vertices.indexOf(-1)]=m,p.boundary=!1,w.push(p);for(var T=[];C.length>0;){var D=(p=C.pop()).vertices,R=p.adjacent,P=D.indexOf(m);if(!(P<0))for(var O=0;O<=v;++O)if(O!==P){var B=R[O];if(B.boundary&&!(B.lastVisited>=m)){var q=B.vertices;if(B.lastVisited!==-m){for(var N=0,H=0;H<=v;++H)q[H]<0?(N=H,y[H]=b):y[H]=x[q[H]];if(this.orient()>0){q[N]=m,B.boundary=!1,w.push(B),C.push(B),B.lastVisited=m;continue}B.lastVisited=-m}var $=B.adjacent,j=D.slice(),W=R.slice(),G=new r(j,W,!0);f.push(G);var ae=$.indexOf(p);if(!(ae<0))for($[ae]=G,W[P]=B,j[O]=-1,W[O]=p,R[O]=G,G.flip(),H=0;H<=v;++H){var te=j[H];if(!(te<0||te===m)){for(var Q=new Array(v-1),ee=0,re=0;re<=v;++re){var J=j[re];J<0||re===H||(Q[ee++]=J)}T.push(new o(Q,G,H))}}}}}for(T.sort(u),O=0;O+1<T.length;O+=2){var le=T[O],fe=T[O+1];le.index<0||fe.index<0||(le.cell.adjacent[le.index]=fe.cell,fe.cell.adjacent[fe.index]=le.cell)}},c.insert=function(b,p){var m=this.vertices;m.push(b);var v=this.walk(b,p);if(v){for(var x=this.dimension,y=this.tuple,w=0;w<=x;++w){var f=v.vertices[w];y[w]=f<0?b:m[f]}var C=this.orient(y);C<0||(0!==C||(v=this.handleBoundaryDegeneracy(v,b)))&&this.addPeaks(b,v)}},c.boundary=function(){for(var b=this.dimension,p=[],m=this.simplices,v=m.length,x=0;x<v;++x){var y=m[x];if(y.boundary){for(var w=new Array(b),f=y.vertices,C=0,T=0,D=0;D<=b;++D)f[D]>=0?w[C++]=f[D]:T=1&D;if(T===(1&b)){var R=w[0];w[0]=w[1],w[1]=R}p.push(w)}}return p}},3352:function(d,s,t){"use strict";var i=t(2478);function n(C,T,D,R,P){this.mid=C,this.left=T,this.right=D,this.leftPoints=R,this.rightPoints=P,this.count=(T?T.count:0)+(D?D.count:0)+R.length}d.exports=function(C){return new w(C&&0!==C.length?y(C):null)};var r=n.prototype;function o(C,T){C.mid=T.mid,C.left=T.left,C.right=T.right,C.leftPoints=T.leftPoints,C.rightPoints=T.rightPoints,C.count=T.count}function u(C,T){var D=y(T);C.mid=D.mid,C.left=D.left,C.right=D.right,C.leftPoints=D.leftPoints,C.rightPoints=D.rightPoints,C.count=D.count}function l(C,T){var D=C.intervals([]);D.push(T),u(C,D)}function h(C,T){var D=C.intervals([]),R=D.indexOf(T);return R<0?0:(D.splice(R,1),u(C,D),1)}function c(C,T,D){for(var R=0;R<C.length&&C[R][0]<=T;++R){var P=D(C[R]);if(P)return P}}function b(C,T,D){for(var R=C.length-1;R>=0&&C[R][1]>=T;--R){var P=D(C[R]);if(P)return P}}function p(C,T){for(var D=0;D<C.length;++D){var R=T(C[D]);if(R)return R}}function m(C,T){return C-T}function v(C,T){return C[0]-T[0]||C[1]-T[1]}function x(C,T){return C[1]-T[1]||C[0]-T[0]}function y(C){if(0===C.length)return null;for(var T=[],D=0;D<C.length;++D)T.push(C[D][0],C[D][1]);T.sort(m);var R=T[T.length>>1],P=[],O=[],B=[];for(D=0;D<C.length;++D){var q=C[D];q[1]<R?P.push(q):R<q[0]?O.push(q):B.push(q)}var N=B,H=B.slice();return N.sort(v),H.sort(x),new n(R,y(P),y(O),N,H)}function w(C){this.root=C}r.intervals=function(C){return C.push.apply(C,this.leftPoints),this.left&&this.left.intervals(C),this.right&&this.right.intervals(C),C},r.insert=function(C){var T=this.count-this.leftPoints.length;if(this.count+=1,C[1]<this.mid)this.left?4*(this.left.count+1)>3*(T+1)?l(this,C):this.left.insert(C):this.left=y([C]);else if(C[0]>this.mid)this.right?4*(this.right.count+1)>3*(T+1)?l(this,C):this.right.insert(C):this.right=y([C]);else{var D=i.ge(this.leftPoints,C,v),R=i.ge(this.rightPoints,C,x);this.leftPoints.splice(D,0,C),this.rightPoints.splice(R,0,C)}},r.remove=function(C){var T=this.count-this.leftPoints;if(C[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(T-1)?h(this,C):2===(O=this.left.remove(C))?(this.left=null,this.count-=1,1):(1===O&&(this.count-=1),O):0;if(C[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(T-1)?h(this,C):2===(O=this.right.remove(C))?(this.right=null,this.count-=1,1):(1===O&&(this.count-=1),O):0;if(1===this.count)return this.leftPoints[0]===C?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===C){if(this.left&&this.right){for(var D=this,R=this.left;R.right;)D=R,R=R.right;if(D===this)R.right=this.right;else{var P=this.left,O=this.right;D.count-=R.count,D.right=R.left,R.left=P,R.right=O}o(this,R),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else o(this,this.left?this.left:this.right);return 1}for(P=i.ge(this.leftPoints,C,v);P<this.leftPoints.length&&this.leftPoints[P][0]===C[0];++P)if(this.leftPoints[P]===C)for(this.count-=1,this.leftPoints.splice(P,1),O=i.ge(this.rightPoints,C,x);O<this.rightPoints.length&&this.rightPoints[O][1]===C[1];++O)if(this.rightPoints[O]===C)return this.rightPoints.splice(O,1),1;return 0},r.queryPoint=function(C,T){return C<this.mid?this.left&&(D=this.left.queryPoint(C,T))?D:c(this.leftPoints,C,T):C>this.mid?this.right&&(D=this.right.queryPoint(C,T))?D:b(this.rightPoints,C,T):p(this.leftPoints,T);var D},r.queryInterval=function(C,T,D){var R;return C<this.mid&&this.left&&(R=this.left.queryInterval(C,T,D))||T>this.mid&&this.right&&(R=this.right.queryInterval(C,T,D))?R:T<this.mid?c(this.leftPoints,T,D):C>this.mid?b(this.rightPoints,C,D):p(this.leftPoints,D)};var f=w.prototype;f.insert=function(C){this.root?this.root.insert(C):this.root=new n(C[0],null,null,[C],[C])},f.remove=function(C){if(this.root){var T=this.root.remove(C);return 2===T&&(this.root=null),0!==T}return!1},f.queryPoint=function(C,T){if(this.root)return this.root.queryPoint(C,T)},f.queryInterval=function(C,T,D){if(C<=T&&this.root)return this.root.queryInterval(C,T,D)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},7762:function(d){"use strict";d.exports=function(s){for(var t=new Array(s),i=0;i<s;++i)t[i]=i;return t}},9507:function(d){d.exports=!0},7163:function(d){function s(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}d.exports=function(t){return null!=t&&(s(t)||"function"==typeof(i=t).readFloatLE&&"function"==typeof i.slice&&s(i.slice(0,0))||!!t._isBuffer);var i}},5219:function(d){"use strict";d.exports=function(s){for(var t,i=s.length,n=0;n<i;n++)if(((t=s.charCodeAt(n))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},395:function(d){d.exports=function(s,t,i){return s*(1-i)+t*i}},2652:function(d,s,t){var i=t(4335),n=t(6864),r=t(1903),o=t(9921),u=t(7608),l=t(5665),h={length:t(1387),normalize:t(3536),dot:t(244),cross:t(5911)},c=n(),b=n(),p=[0,0,0,0],m=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];function x(y,w,f,C,T){y[0]=w[0]*C+f[0]*T,y[1]=w[1]*C+f[1]*T,y[2]=w[2]*C+f[2]*T}d.exports=function(y,w,f,C,T,D){if(w||(w=[0,0,0]),f||(f=[0,0,0]),C||(C=[0,0,0]),T||(T=[0,0,0,1]),D||(D=[0,0,0,1]),!i(c,y)||(r(b,c),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(o(b)<1e-8)))return!1;var R,P,O,B,q,N,H,re,J,$=c[3],j=c[7],W=c[11],G=c[12],ae=c[13],te=c[14],Q=c[15];if(0!==$||0!==j||0!==W){if(p[0]=$,p[1]=j,p[2]=W,p[3]=Q,!u(b,b))return!1;l(b,b),B=(P=p)[0],(R=T)[0]=(O=b)[0]*B+O[4]*(q=P[1])+O[8]*(N=P[2])+O[12]*(H=P[3]),R[1]=O[1]*B+O[5]*q+O[9]*N+O[13]*H,R[2]=O[2]*B+O[6]*q+O[10]*N+O[14]*H,R[3]=O[3]*B+O[7]*q+O[11]*N+O[15]*H}else T[0]=T[1]=T[2]=0,T[3]=1;if(w[0]=G,w[1]=ae,w[2]=te,(re=m)[0][0]=(J=c)[0],re[0][1]=J[1],re[0][2]=J[2],re[1][0]=J[4],re[1][1]=J[5],re[1][2]=J[6],re[2][0]=J[8],re[2][1]=J[9],re[2][2]=J[10],f[0]=h.length(m[0]),h.normalize(m[0],m[0]),C[0]=h.dot(m[0],m[1]),x(m[1],m[1],m[0],1,-C[0]),f[1]=h.length(m[1]),h.normalize(m[1],m[1]),C[0]/=f[1],C[1]=h.dot(m[0],m[2]),x(m[2],m[2],m[0],1,-C[1]),C[2]=h.dot(m[1],m[2]),x(m[2],m[2],m[1],1,-C[2]),f[2]=h.length(m[2]),h.normalize(m[2],m[2]),C[1]/=f[2],C[2]/=f[2],h.cross(v,m[1],m[2]),h.dot(m[0],v)<0)for(var ee=0;ee<3;ee++)f[ee]*=-1,m[ee][0]*=-1,m[ee][1]*=-1,m[ee][2]*=-1;return D[0]=.5*Math.sqrt(Math.max(1+m[0][0]-m[1][1]-m[2][2],0)),D[1]=.5*Math.sqrt(Math.max(1-m[0][0]+m[1][1]-m[2][2],0)),D[2]=.5*Math.sqrt(Math.max(1-m[0][0]-m[1][1]+m[2][2],0)),D[3]=.5*Math.sqrt(Math.max(1+m[0][0]+m[1][1]+m[2][2],0)),m[2][1]>m[1][2]&&(D[0]=-D[0]),m[0][2]>m[2][0]&&(D[1]=-D[1]),m[1][0]>m[0][1]&&(D[2]=-D[2]),!0}},4335:function(d){d.exports=function(s,t){var i=t[15];if(0===i)return!1;for(var n=1/i,r=0;r<16;r++)s[r]=t[r]*n;return!0}},7442:function(d,s,t){var i=t(6658),n=t(7182),r=t(2652),o=t(9921),u=t(8648),l=b(),h=b(),c=b();function b(){return{translate:p(),scale:p(1),skew:p(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function p(m){return[m||0,m||0,m||0]}d.exports=function(m,v,x,y){if(0===o(v)||0===o(x))return!1;var w=r(v,l.translate,l.scale,l.skew,l.perspective,l.quaternion),f=r(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!w||!f||(i(c.translate,l.translate,h.translate,y),i(c.skew,l.skew,h.skew,y),i(c.scale,l.scale,h.scale,y),i(c.perspective,l.perspective,h.perspective,y),u(c.quaternion,l.quaternion,h.quaternion,y),n(m,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},7182:function(d,s,t){var i={identity:t(7894),translate:t(7656),multiply:t(6760),create:t(6864),scale:t(2504),fromRotationTranslation:t(6743)},n=(i.create(),i.create());d.exports=function(r,o,u,l,h,c){return i.identity(r),i.fromRotationTranslation(r,c,o),r[3]=h[0],r[7]=h[1],r[11]=h[2],r[15]=h[3],i.identity(n),0!==l[2]&&(n[9]=l[2],i.multiply(r,r,n)),0!==l[1]&&(n[9]=0,n[8]=l[1],i.multiply(r,r,n)),0!==l[0]&&(n[8]=0,n[4]=l[0],i.multiply(r,r,n)),i.scale(r,r,u),r}},4192:function(d,s,t){"use strict";var i=t(2478),n=t(7442),r=t(7608),o=t(5567),u=t(2408),l=t(7089),h=t(6582),c=t(7656),b=(t(2504),t(3536)),p=[0,0,0];function m(y){this._components=y.slice(),this._time=[0],this.prevMatrix=y.slice(),this.nextMatrix=y.slice(),this.computedMatrix=y.slice(),this.computedInverse=y.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}d.exports=function(y){return new m((y=y||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var v=m.prototype;v.recalcMatrix=function(y){var w=this._time,f=i.le(w,y),C=this.computedMatrix;if(!(f<0)){var T=this._components;if(f===w.length-1)for(var D=16*f,R=0;R<16;++R)C[R]=T[D++];else{var P=w[f+1]-w[f],O=(D=16*f,this.prevMatrix),B=!0;for(R=0;R<16;++R)O[R]=T[D++];var q=this.nextMatrix;for(R=0;R<16;++R)q[R]=T[D++],B=B&&O[R]===q[R];if(P<1e-6||B)for(R=0;R<16;++R)C[R]=O[R];else n(C,O,q,(y-w[f])/P)}var N=this.computedUp;N[0]=C[1],N[1]=C[5],N[2]=C[9],b(N,N);var H=this.computedInverse;r(H,C);var $=this.computedEye,j=H[15];$[0]=H[12]/j,$[1]=H[13]/j,$[2]=H[14]/j;var W=this.computedCenter,G=Math.exp(this.computedRadius[0]);for(R=0;R<3;++R)W[R]=$[R]-C[2+4*R]*G}},v.idle=function(y){if(!(y<this.lastT())){for(var w=this._components,f=w.length-16,C=0;C<16;++C)w.push(w[f++]);this._time.push(y)}},v.flush=function(y){var w=i.gt(this._time,y)-2;w<0||(this._time.splice(0,w),this._components.splice(0,16*w))},v.lastT=function(){return this._time[this._time.length-1]},v.lookAt=function(y,w,f,C){this.recalcMatrix(y),this.setMatrix(y,h(this.computedMatrix,w=w||this.computedEye,f=f||p,C=C||this.computedUp));for(var T=0,D=0;D<3;++D)T+=Math.pow(f[D]-w[D],2);T=Math.log(Math.sqrt(T)),this.computedRadius[0]=T},v.rotate=function(y,w,f,C){this.recalcMatrix(y);var T=this.computedInverse;w&&u(T,T,w),f&&o(T,T,f),C&&l(T,T,C),this.setMatrix(y,r(this.computedMatrix,T))};var x=[0,0,0];v.pan=function(y,w,f,C){x[0]=-(w||0),x[1]=-(f||0),x[2]=-(C||0),this.recalcMatrix(y);var T=this.computedInverse;c(T,T,x),this.setMatrix(y,r(T,T))},v.translate=function(y,w,f,C){x[0]=w||0,x[1]=f||0,x[2]=C||0,this.recalcMatrix(y);var T=this.computedMatrix;c(T,T,x),this.setMatrix(y,T)},v.setMatrix=function(y,w){if(!(y<this.lastT())){this._time.push(y);for(var f=0;f<16;++f)this._components.push(w[f])}},v.setDistance=function(y,w){this.computedRadius[0]=w},v.setDistanceLimits=function(y,w){var f=this._limits;f[0]=y,f[1]=w},v.getDistanceLimits=function(y){var w=this._limits;return y?(y[0]=w[0],y[1]=w[1],y):w}},3090:function(d,s,t){"use strict";d.exports=function(n){var r=n.length;if(r<3){for(var o=new Array(r),u=0;u<r;++u)o[u]=u;return 2===r&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:o}var l=new Array(r);for(u=0;u<r;++u)l[u]=u;l.sort(function(w,f){return n[w][0]-n[f][0]||n[w][1]-n[f][1]});var h=[l[0],l[1]],c=[l[0],l[1]];for(u=2;u<r;++u){for(var b=l[u],p=n[b],m=h.length;m>1&&i(n[h[m-2]],n[h[m-1]],p)<=0;)m-=1,h.pop();for(h.push(b),m=c.length;m>1&&i(n[c[m-2]],n[c[m-1]],p)>=0;)m-=1,c.pop();c.push(b)}o=new Array(c.length+h.length-2);for(var v=0,x=(u=0,h.length);u<x;++u)o[v++]=h[u];for(var y=c.length-2;y>0;--y)o[v++]=c[y];return o};var i=t(3250)[3]},351:function(d,s,t){"use strict";d.exports=function(n,r){r||(r=n,n=window);var o=0,u=0,l=0,h={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function b(D){var R=!1;return"altKey"in D&&(R=R||D.altKey!==h.alt,h.alt=!!D.altKey),"shiftKey"in D&&(R=R||D.shiftKey!==h.shift,h.shift=!!D.shiftKey),"ctrlKey"in D&&(R=R||D.ctrlKey!==h.control,h.control=!!D.ctrlKey),"metaKey"in D&&(R=R||D.metaKey!==h.meta,h.meta=!!D.metaKey),R}function p(D,R){var P=i.x(R),O=i.y(R);"buttons"in R&&(D=0|R.buttons),(D!==o||P!==u||O!==l||b(R))&&(o=0|D,u=P||0,l=O||0,r&&r(o,u,l,h))}function m(D){p(0,D)}function v(){(o||u||l||h.shift||h.alt||h.meta||h.control)&&(u=l=0,o=0,h.shift=h.alt=h.control=h.meta=!1,r&&r(0,0,0,h))}function x(D){b(D)&&r&&r(o,u,l,h)}function y(D){0===i.buttons(D)?p(0,D):p(o,D)}function w(D){p(o|i.buttons(D),D)}function f(D){p(o&~i.buttons(D),D)}function C(){c||(c=!0,n.addEventListener("mousemove",y),n.addEventListener("mousedown",w),n.addEventListener("mouseup",f),n.addEventListener("mouseleave",m),n.addEventListener("mouseenter",m),n.addEventListener("mouseout",m),n.addEventListener("mouseover",m),n.addEventListener("blur",v),n.addEventListener("keyup",x),n.addEventListener("keydown",x),n.addEventListener("keypress",x),n!==window&&(window.addEventListener("blur",v),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}C();var T={element:n};return Object.defineProperties(T,{enabled:{get:function(){return c},set:function(D){D?C():c&&(c=!1,n.removeEventListener("mousemove",y),n.removeEventListener("mousedown",w),n.removeEventListener("mouseup",f),n.removeEventListener("mouseleave",m),n.removeEventListener("mouseenter",m),n.removeEventListener("mouseout",m),n.removeEventListener("mouseover",m),n.removeEventListener("blur",v),n.removeEventListener("keyup",x),n.removeEventListener("keydown",x),n.removeEventListener("keypress",x),n!==window&&(window.removeEventListener("blur",v),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return l},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),T};var i=t(4687)},24:function(d){var s={left:0,top:0};d.exports=function(t,i,n){i=i||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r,o=t.clientX||0,u=t.clientY||0,l=(r=i)===window||r===document||r===document.body?s:r.getBoundingClientRect();return n[0]=o-l.left,n[1]=u-l.top,n}},4687:function(d,s){"use strict";function t(i){return i.target||i.srcElement||window}s.buttons=function(i){if("object"==typeof i){if("buttons"in i)return i.buttons;if("which"in i){if(2===(n=i.which))return 4;if(3===n)return 2;if(n>0)return 1<<n-1}else if("button"in i){var n;if(1===(n=i.button))return 4;if(2===n)return 2;if(n>=0)return 1<<n}}return 0},s.element=t,s.x=function(i){if("object"==typeof i){if("offsetX"in i)return i.offsetX;var n=t(i).getBoundingClientRect();return i.clientX-n.left}return 0},s.y=function(i){if("object"==typeof i){if("offsetY"in i)return i.offsetY;var n=t(i).getBoundingClientRect();return i.clientY-n.top}return 0}},8512:function(d,s,t){"use strict";var i=t(665);d.exports=function(n,r,o){"function"==typeof n&&(o=!!r,r=n,n=window);var u=i("ex",n),l=function(h){o&&h.preventDefault();var c=h.deltaX||0,b=h.deltaY||0,p=h.deltaZ||0,m=1;switch(h.deltaMode){case 1:m=u;break;case 2:m=window.innerHeight}if(b*=m,p*=m,(c*=m)||b||p)return r(c,b,p,h)};return n.addEventListener("wheel",l),l}},2640:function(d,s,t){"use strict";var i=t(1888);d.exports=function(r){function o(p){throw new Error("ndarray-extract-contour: "+p)}"object"!=typeof r&&o("Must specify arguments");var u=r.order;Array.isArray(u)||o("Must specify order");var p,m,v,f,l=r.arrayArguments||1;l<1&&o("Must have at least one array argument"),(r.scalarArguments||0)<0&&o("Scalar arg count must be > 0"),"function"!=typeof r.vertex&&o("Must specify vertex creation function"),"function"!=typeof r.cell&&o("Must specify cell creation function"),"function"!=typeof r.phase&&o("Must specify phase function");for(var h=r.getters||[],c=new Array(l),b=0;b<l;++b)c[b]=h.indexOf(b)>=0;return p=r.vertex,m=r.cell,v=r.phase,f=[c,u].join(","),(0,n[f])(p,m,v,i.mallocUint32,i.freeUint32)};var n={"false,0,1":function(r,o,u,l,h){return function(c,b,p,m){var v,x=0|c.shape[0],y=0|c.shape[1],w=c.data,C=0|c.stride[0],T=0|c.stride[1],D=0|c.offset,R=0|-C,P=0,O=0|-T,B=0,q=-C-T|0,N=0,H=0|C,$=T-C*x|0,j=0,W=0,G=0,ae=2*x|0,te=l(ae),Q=l(ae),ee=0,re=0,J=-1,le=-1,fe=0,ce=0|-x,ge=0|x,Te=0,Me=-x-1|0,we=x-1|0,xe=0,be=0,ye=0;for(j=0;j<x;++j)te[ee++]=u(w[D],b,p,m),D+=H;if(D+=$,y>0){if(W=1,te[ee++]=u(w[D],b,p,m),D+=H,x>0)for(j=1,re=te[ee]=u(v=w[D],b,p,m),Te=te[ee+ce],xe=te[ee+Me],re===(fe=te[ee+J])&&re===Te&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,fe,Te,xe,b,p,m),be=Q[ee]=G++),ee+=1,D+=H,j=2;j<x;++j)re=te[ee]=u(v=w[D],b,p,m),Te=te[ee+ce],xe=te[ee+Me],re===(fe=te[ee+J])&&re===Te&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,fe,Te,xe,b,p,m),be=Q[ee]=G++,xe!==fe&&o(Q[ee+J],be,N,P,xe,fe,b,p,m)),ee+=1,D+=H;for(D+=$,ee=0,ye=J,J=le,le=ye,ye=ce,ce=ge,ge=ye,ye=Me,Me=we,we=ye,W=2;W<y;++W){if(te[ee++]=u(w[D],b,p,m),D+=H,x>0)for(j=1,re=te[ee]=u(v=w[D],b,p,m),Te=te[ee+ce],xe=te[ee+Me],re===(fe=te[ee+J])&&re===Te&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,fe,Te,xe,b,p,m),be=Q[ee]=G++,xe!==Te&&o(Q[ee+ce],be,B,N,Te,xe,b,p,m)),ee+=1,D+=H,j=2;j<x;++j)re=te[ee]=u(v=w[D],b,p,m),Te=te[ee+ce],xe=te[ee+Me],re===(fe=te[ee+J])&&re===Te&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,fe,Te,xe,b,p,m),be=Q[ee]=G++,xe!==Te&&o(Q[ee+ce],be,B,N,Te,xe,b,p,m),xe!==fe&&o(Q[ee+J],be,N,P,xe,fe,b,p,m)),ee+=1,D+=H;1&W&&(ee=0),ye=J,J=le,le=ye,ye=ce,ce=ge,ge=ye,ye=Me,Me=we,we=ye,D+=$}}h(Q),h(te)}},"false,1,0":function(r,o,u,l,h){return function(c,b,p,m){var v,x=0|c.shape[0],y=0|c.shape[1],w=c.data,C=0|c.stride[0],T=0|c.stride[1],D=0|c.offset,R=0|-C,P=0,O=0|-T,B=0,q=-C-T|0,N=0,H=0|T,$=C-T*y|0,j=0,W=0,G=0,ae=2*y|0,te=l(ae),Q=l(ae),ee=0,re=0,J=-1,le=-1,fe=0,ce=0|-y,ge=0|y,Te=0,Me=-y-1|0,we=y-1|0,xe=0,be=0,ye=0;for(W=0;W<y;++W)te[ee++]=u(w[D],b,p,m),D+=H;if(D+=$,x>0){if(j=1,te[ee++]=u(w[D],b,p,m),D+=H,y>0)for(W=1,re=te[ee]=u(v=w[D],b,p,m),fe=te[ee+J],xe=te[ee+Me],re===(Te=te[ee+ce])&&re===fe&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,Te,fe,xe,b,p,m),be=Q[ee]=G++),ee+=1,D+=H,W=2;W<y;++W)re=te[ee]=u(v=w[D],b,p,m),fe=te[ee+J],xe=te[ee+Me],re===(Te=te[ee+ce])&&re===fe&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,Te,fe,xe,b,p,m),be=Q[ee]=G++,xe!==fe&&o(Q[ee+J],be,B,N,fe,xe,b,p,m)),ee+=1,D+=H;for(D+=$,ee=0,ye=ce,ce=ge,ge=ye,ye=J,J=le,le=ye,ye=Me,Me=we,we=ye,j=2;j<x;++j){if(te[ee++]=u(w[D],b,p,m),D+=H,y>0)for(W=1,re=te[ee]=u(v=w[D],b,p,m),fe=te[ee+J],xe=te[ee+Me],re===(Te=te[ee+ce])&&re===fe&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,Te,fe,xe,b,p,m),be=Q[ee]=G++,xe!==Te&&o(Q[ee+ce],be,N,P,xe,Te,b,p,m)),ee+=1,D+=H,W=2;W<y;++W)re=te[ee]=u(v=w[D],b,p,m),fe=te[ee+J],xe=te[ee+Me],re===(Te=te[ee+ce])&&re===fe&&re===xe||(r(j,W,v,P=w[D+R],B=w[D+O],N=w[D+q],re,Te,fe,xe,b,p,m),be=Q[ee]=G++,xe!==fe&&o(Q[ee+J],be,B,N,fe,xe,b,p,m),xe!==Te&&o(Q[ee+ce],be,N,P,xe,Te,b,p,m)),ee+=1,D+=H;1&j&&(ee=0),ye=ce,ce=ge,ge=ye,ye=J,J=le,le=ye,ye=Me,Me=we,we=ye,D+=$}}h(Q),h(te)}}}},6199:function(d,s,t){"use strict";var i=t(1338),n={zero:function(x,y,w,f){var C=x[0];f|=0;var T=0,D=w[0];for(T=0;T<C;++T)y[f]=0,f+=D},fdTemplate1:function(x,y,w,f,C,T,D){var R=x[0],P=w[0],O=-1*P,B=P;f|=0,D|=0;var q=0,N=P,H=T[0];for(q=0;q<R;++q)C[D]=.5*(y[f+O]-y[f+B]),f+=N,D+=H},fdTemplate2:function(x,y,w,f,C,T,D,R,P,O){var B=x[0],q=x[1],N=w[0],H=w[1],j=T[1],G=P[1],ae=-1*N,te=N,Q=-1*H,ee=H;f|=0,D|=0,O|=0;var re=0,J=0,le=H,fe=N-q*H,ce=j,ge=T[0]-q*j,Te=G,Me=P[0]-q*G;for(J=0;J<B;++J){for(re=0;re<q;++re)C[D]=.5*(y[f+ae]-y[f+te]),R[O]=.5*(y[f+Q]-y[f+ee]),f+=le,D+=ce,O+=Te;f+=fe,D+=ge,O+=Me}}},r={cdiff:function(x){var y={};return function(w,f,C){var T=w.dtype,D=w.order,R=f.dtype,P=f.order,O=C.dtype,B=C.order,q=[T,D.join(),R,P.join(),O,B.join()].join(),N=y[q];return N||(y[q]=N=x([T,D,R,P,O,B])),N(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset,C.data,C.stride,0|C.offset)}},zero:function(x){var y={};return function(w){var f=w.dtype,C=w.order,T=[f,C.join()].join(),D=y[T];return D||(y[T]=D=x([f,C])),D(w.shape.slice(0),w.data,w.stride,0|w.offset)}},fdTemplate1:function(x){var y={};return function(w,f){var C=w.dtype,T=w.order,D=f.dtype,R=f.order,P=[C,T.join(),D,R.join()].join(),O=y[P];return O||(y[P]=O=x([C,T,D,R])),O(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset)}},fdTemplate2:function(x){var y={};return function(w,f,C){var T=w.dtype,D=w.order,R=f.dtype,P=f.order,O=C.dtype,B=C.order,q=[T,D.join(),R,P.join(),O,B.join()].join(),N=y[q];return N||(y[q]=N=x([T,D,R,P,O,B])),N(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset,C.data,C.stride,0|C.offset)}}};function o(x){return(0,r[x.funcName])(u.bind(void 0,x))}function u(x){return n[x.funcName]}function l(x){return o({funcName:x.funcName})}var h={},c={},b=l({funcName:"cdiff"}),p=l({funcName:"zero"});function m(x){return x in h?h[x]:h[x]=l({funcName:"fdTemplate"+x})}function v(x,y,w,f){return function(C,T){var D=T.shape.slice();return D[0]>2&&D[1]>2&&f(T.pick(-1,-1).lo(1,1).hi(D[0]-2,D[1]-2),C.pick(-1,-1,0).lo(1,1).hi(D[0]-2,D[1]-2),C.pick(-1,-1,1).lo(1,1).hi(D[0]-2,D[1]-2)),D[1]>2&&(w(T.pick(0,-1).lo(1).hi(D[1]-2),C.pick(0,-1,1).lo(1).hi(D[1]-2)),y(C.pick(0,-1,0).lo(1).hi(D[1]-2))),D[1]>2&&(w(T.pick(D[0]-1,-1).lo(1).hi(D[1]-2),C.pick(D[0]-1,-1,1).lo(1).hi(D[1]-2)),y(C.pick(D[0]-1,-1,0).lo(1).hi(D[1]-2))),D[0]>2&&(w(T.pick(-1,0).lo(1).hi(D[0]-2),C.pick(-1,0,0).lo(1).hi(D[0]-2)),y(C.pick(-1,0,1).lo(1).hi(D[0]-2))),D[0]>2&&(w(T.pick(-1,D[1]-1).lo(1).hi(D[0]-2),C.pick(-1,D[1]-1,0).lo(1).hi(D[0]-2)),y(C.pick(-1,D[1]-1,1).lo(1).hi(D[0]-2))),C.set(0,0,0,0),C.set(0,0,1,0),C.set(D[0]-1,0,0,0),C.set(D[0]-1,0,1,0),C.set(0,D[1]-1,0,0),C.set(0,D[1]-1,1,0),C.set(D[0]-1,D[1]-1,0,0),C.set(D[0]-1,D[1]-1,1,0),C}}d.exports=function(x,y,w){return Array.isArray(w)||(w=i(y.dimension,"string"==typeof w?w:"clamp")),0===y.size?x:0===y.dimension?(x.set(0),x):function(f){var C=f.join();if(P=c[C])return P;for(var T=f.length,D=[b,p],R=1;R<=T;++R)D.push(m(R));var P=v.apply(void 0,D);return c[C]=P,P}(w)(x,y)}},4317:function(d){"use strict";function s(r,o){var u=Math.floor(o),l=o-u,c=0<=u+1&&u+1<r.shape[0];return(1-l)*(0<=u&&u<r.shape[0]?+r.get(u):0)+l*(c?+r.get(u+1):0)}function t(r,o,u){var l=Math.floor(o),h=o-l,c=0<=l&&l<r.shape[0],b=0<=l+1&&l+1<r.shape[0],p=Math.floor(u),m=u-p,v=0<=p&&p<r.shape[1],x=0<=p+1&&p+1<r.shape[1],y=c&&v?r.get(l,p):0,w=c&&x?r.get(l,p+1):0;return(1-m)*((1-h)*y+h*(b&&v?r.get(l+1,p):0))+m*((1-h)*w+h*(b&&x?r.get(l+1,p+1):0))}function i(r,o,u,l){var h=Math.floor(o),c=o-h,b=0<=h&&h<r.shape[0],p=0<=h+1&&h+1<r.shape[0],m=Math.floor(u),v=u-m,x=0<=m&&m<r.shape[1],y=0<=m+1&&m+1<r.shape[1],w=Math.floor(l),f=l-w,C=0<=w&&w<r.shape[2],T=0<=w+1&&w+1<r.shape[2],D=b&&x&&C?r.get(h,m,w):0,R=b&&y&&C?r.get(h,m+1,w):0,P=p&&x&&C?r.get(h+1,m,w):0,O=p&&y&&C?r.get(h+1,m+1,w):0,B=b&&x&&T?r.get(h,m,w+1):0,q=b&&y&&T?r.get(h,m+1,w+1):0;return(1-f)*((1-v)*((1-c)*D+c*P)+v*((1-c)*R+c*O))+f*((1-v)*((1-c)*B+c*(p&&x&&T?r.get(h+1,m,w+1):0))+v*((1-c)*q+c*(p&&y&&T?r.get(h+1,m+1,w+1):0)))}function n(r){var o,u,l=0|r.shape.length,h=new Array(l),c=new Array(l),b=new Array(l),p=new Array(l);for(o=0;o<l;++o)u=+arguments[o+1],h[o]=Math.floor(u),c[o]=u-h[o],b[o]=0<=h[o]&&h[o]<r.shape[o],p[o]=0<=h[o]+1&&h[o]+1<r.shape[o];var m,v,x,y=0;e:for(o=0;o<1<<l;++o){for(v=1,x=r.offset,m=0;m<l;++m)if(o&1<<m){if(!p[m])continue e;v*=c[m],x+=r.stride[m]*(h[m]+1)}else{if(!b[m])continue e;v*=1-c[m],x+=r.stride[m]*h[m]}y+=v*r.data[x]}return y}d.exports=function(r,o,u,l){switch(r.shape.length){case 0:return 0;case 1:return s(r,o);case 2:return t(r,o,u);case 3:return i(r,o,u,l);default:return n.apply(void 0,arguments)}},d.exports.d1=s,d.exports.d2=t,d.exports.d3=i},5298:function(d,s){"use strict";var t={"float64,2,1,0":function(){return function(u,l,h,c,b){var p=u[0],m=u[1],v=u[2],y=h[1],w=h[2];c|=0;var f=0,C=0,T=0,D=w,R=y-v*w,P=h[0]-m*y;for(T=0;T<p;++T){for(C=0;C<m;++C){for(f=0;f<v;++f)l[c]/=b,c+=D;c+=R}c+=P}}},"uint8,2,0,1,float64,2,1,0":function(){return function(u,l,h,c,b,p,m,v){for(var x=u[0],y=u[1],w=u[2],f=h[0],C=h[1],T=h[2],D=p[0],R=p[1],P=p[2],O=c|=0,B=m|=0,q=0|u[0];q>0;){q<64?(x=q,q=0):(x=64,q-=64);for(var N=0|u[1];N>0;){N<64?(y=N,N=0):(y=64,N-=64),c=O+q*f+N*C,m=B+q*D+N*R;var H=0,$=0,j=0,W=T,G=f-w*T,ae=C-x*f,te=P,Q=D-w*P,ee=R-x*D;for(j=0;j<y;++j){for($=0;$<x;++$){for(H=0;H<w;++H)l[c]=b[m]*v,c+=W,m+=te;c+=G,m+=Q}c+=ae,m+=ee}}}}},"float32,1,0,float32,1,0":function(){return function(u,l,h,c,b,p,m){var v=u[0],x=u[1],w=h[1],C=p[1];c|=0,m|=0;var T=0,D=0,R=w,P=h[0]-x*w,O=C,B=p[0]-x*C;for(D=0;D<v;++D){for(T=0;T<x;++T)l[c]=b[m],c+=R,m+=O;c+=P,m+=B}}},"float32,1,0,float32,0,1":function(){return function(u,l,h,c,b,p,m){for(var v=u[0],x=u[1],y=h[0],w=h[1],f=p[0],C=p[1],T=c|=0,D=m|=0,R=0|u[1];R>0;){R<64?(x=R,R=0):(x=64,R-=64);for(var P=0|u[0];P>0;){P<64?(v=P,P=0):(v=64,P-=64),c=T+R*w+P*y,m=D+R*C+P*f;var O=0,B=0,q=w,N=y-x*w,H=C,$=f-x*C;for(B=0;B<v;++B){for(O=0;O<x;++O)l[c]=b[m],c+=q,m+=H;c+=N,m+=$}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(u,l,h,c,b,p,m){for(var v=u[0],x=u[1],y=u[2],w=h[0],f=h[1],C=h[2],T=p[0],D=p[1],R=p[2],P=c|=0,O=m|=0,B=0|u[2];B>0;){B<64?(y=B,B=0):(y=64,B-=64);for(var q=0|u[0];q>0;){q<64?(v=q,q=0):(v=64,q-=64);for(var N=0|u[1];N>0;){N<64?(x=N,N=0):(x=64,N-=64),c=P+B*C+q*w+N*f,m=O+B*R+q*T+N*D;var H=0,$=0,j=0,W=C,G=w-y*C,ae=f-v*w,te=R,Q=T-y*R,ee=D-v*T;for(j=0;j<x;++j){for($=0;$<v;++$){for(H=0;H<y;++H)l[c]=b[m],c+=W,m+=te;c+=G,m+=Q}c+=ae,m+=ee}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(u,l,h,c,b,p,m){var v=u[0],x=u[1],y=u[2],w=h[0],C=h[2],T=p[0],R=p[2];c|=0,m|=0;var P=0,O=0,B=0,q=C,N=w-y*C,H=h[1]-v*w,$=R,j=T-y*R,W=p[1]-v*T;for(B=0;B<x;++B){for(O=0;O<v;++O){for(P=0;P<y;++P)l[c]=b[m],c+=q,m+=$;c+=N,m+=j}c+=H,m+=W}}}},i=function(u,l){var h=l.join(",");return(0,t[h])()},n={mul:function(u){var l={};return function(h,c,b){var p=h.dtype,m=h.order,v=c.dtype,x=c.order,y=b.dtype,w=b.order,f=[p,m.join(),v,x.join(),y,w.join()].join(),C=l[f];return C||(l[f]=C=u([p,m,v,x,y,w])),C(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b.data,b.stride,0|b.offset)}},muls:function(u){var l={};return function(h,c,b){var p=h.dtype,m=h.order,v=c.dtype,x=c.order,y=[p,m.join(),v,x.join()].join(),w=l[y];return w||(l[y]=w=u([p,m,v,x])),w(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b)}},mulseq:function(u){var l={};return function(h,c){var b=h.dtype,p=h.order,m=[b,p.join()].join(),v=l[m];return v||(l[m]=v=u([b,p])),v(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},div:function(u){var l={};return function(h,c,b){var p=h.dtype,m=h.order,v=c.dtype,x=c.order,y=b.dtype,w=b.order,f=[p,m.join(),v,x.join(),y,w.join()].join(),C=l[f];return C||(l[f]=C=u([p,m,v,x,y,w])),C(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b.data,b.stride,0|b.offset)}},divs:function(u){var l={};return function(h,c,b){var p=h.dtype,m=h.order,v=c.dtype,x=c.order,y=[p,m.join(),v,x.join()].join(),w=l[y];return w||(l[y]=w=u([p,m,v,x])),w(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b)}},divseq:function(u){var l={};return function(h,c){var b=h.dtype,p=h.order,m=[b,p.join()].join(),v=l[m];return v||(l[m]=v=u([b,p])),v(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},assign:function(u){var l={};return function(h,c){var b=h.dtype,p=h.order,m=c.dtype,v=c.order,x=[b,p.join(),m,v.join()].join(),y=l[x];return y||(l[x]=y=u([b,p,m,v])),y(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset)}}};function r(u){return(0,n[(l={funcName:u.funcName}).funcName])(i.bind(void 0,l));var l}var o={mul:"*",div:"/"};(function(){for(var u in o)s[u]=r({funcName:u}),s[u+"s"]=r({funcName:u+"s"}),s[u+"seq"]=r({funcName:u+"seq"})})(),s.assign=r({funcName:"assign"})},9994:function(d,s,t){"use strict";var i=t(9618),n=t(8277);d.exports=function(r,o){for(var u=[],l=r,h=1;Array.isArray(l);)u.push(l.length),h*=l.length,l=l[0];return 0===u.length?i():(o||(o=i(new Float64Array(h),u)),n(o,r),o)}},8277:function(d){"use strict";var s,t;d.exports=(s=function(){return function(s,t,i,n,r){var o=s[0],u=s[1],l=s[2],c=i[1],b=i[2],p=[0,0,0];n|=0;var m=0,v=0,x=0,y=b,w=c-l*b,f=i[0]-u*c;for(x=0;x<o;++x){for(v=0;v<u;++v){for(m=0;m<l;++m){var C,T=r;for(C=0;C<p.length-1;++C)T=T[p[C]];t[n]=T[p[p.length-1]],n+=y,++p[2]}n+=w,p[2]-=l,++p[1]}n+=f,p[1]-=u,++p[0]}}}.bind(void 0,{funcName:"convert"}),t={},function(i,n){var r=i.dtype,o=i.order,u=[r,o.join()].join(),l=t[u];return l||(t[u]=l=s([r,o])),l(i.shape.slice(0),i.data,i.stride,0|i.offset,n)})},7640:function(d,s,t){"use strict";var i=t(1888);function n(l){return"uint32"===l?[i.mallocUint32,i.freeUint32]:null}var r={"uint32,1,0":function(l,h){return function(c,b,p,m,v,x,y,w,f,C,T){var D,R,P,O,B,q,N,H,$=c*v+m,j=l(w);for(D=c+1;D<=b;++D){for(R=D,P=$+=v,B=0,q=$,O=0;O<w;++O)j[B++]=p[q],q+=f;e:for(;R-- >c;){B=0,q=P-v;t:for(O=0;O<w;++O){if((N=p[q])<(H=j[B]))break e;if(N>H)break t;q+=C,B+=T}for(B=P,q=P-v,O=0;O<w;++O)p[B]=p[q],B+=f,q+=f;P-=v}for(B=P,q=0,O=0;O<w;++O)p[B]=j[q++],B+=f}h(j)}}},o={"uint32,1,0":function(l,h,c){return function b(p,m,v,x,y,w,f,C,T,D,R){var P,O,q,N,H,$,j,W,G,ae,te,Q,ee,re,J,le,fe,ce,ge,Te,Me,we,xe,be,ye=(m-p+1)/6|0,Se=p+ye,Ee=m-ye,he=p+m>>1,ue=he-ye,me=he+ye,Pe=Se,Ce=ue,Ie=he,Oe=me,ze=Ee,je=p+1,ve=m-1,Ae=!0,Le=0,Ve=0,Ne=0,We=C,Xe=h(We),nt=h(We);ae=y*Pe,te=y*Ce,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Pe,Pe=Ce,Ce=O;break e}if(Ne<0)break e;be+=D}ae=y*Oe,te=y*ze,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Oe,Oe=ze,ze=O;break e}if(Ne<0)break e;be+=D}ae=y*Pe,te=y*Ie,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Pe,Pe=Ie,Ie=O;break e}if(Ne<0)break e;be+=D}ae=y*Ce,te=y*Ie,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Ce,Ce=Ie,Ie=O;break e}if(Ne<0)break e;be+=D}ae=y*Pe,te=y*Oe,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Pe,Pe=Oe,Oe=O;break e}if(Ne<0)break e;be+=D}ae=y*Ie,te=y*Oe,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Ie,Ie=Oe,Oe=O;break e}if(Ne<0)break e;be+=D}ae=y*Ce,te=y*ze,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Ce,Ce=ze,ze=O;break e}if(Ne<0)break e;be+=D}ae=y*Ce,te=y*Ie,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Ce,Ce=Ie,Ie=O;break e}if(Ne<0)break e;be+=D}ae=y*Oe,te=y*ze,be=x;e:for(G=0;G<C;++G){if((Ne=v[$=ae+be]-v[j=te+be])>0){O=Oe,Oe=ze,ze=O;break e}if(Ne<0)break e;be+=D}for(ae=y*Pe,te=y*Ce,Q=y*Ie,ee=y*Oe,re=y*ze,J=y*Se,le=y*he,fe=y*Ee,xe=0,be=x,G=0;G<C;++G)$=ae+be,W=Q+be,ce=ee+be,ge=re+be,Te=J+be,Me=le+be,we=fe+be,Xe[xe]=v[j=te+be],nt[xe]=v[ce],Ae=Ae&&Xe[xe]===nt[xe],q=v[W],N=v[ge],v[Te]=v[$],v[Me]=q,v[we]=N,++xe,be+=T;for(ae=y*ue,te=y*p,be=x,G=0;G<C;++G)v[$=ae+be]=v[j=te+be],be+=T;for(ae=y*me,te=y*m,be=x,G=0;G<C;++G)v[$=ae+be]=v[j=te+be],be+=T;if(Ae)for(H=je;H<=ve;++H){for($=x+H*y,xe=0,G=0;G<C&&0==(Ne=v[$]-Xe[xe]);++G)xe+=R,$+=D;if(0!==Ne)if(Ne<0){if(H!==je)for(ae=y*H,te=y*je,be=x,G=0;G<C;++G)P=v[$=ae+be],v[$]=v[j=te+be],v[j]=P,be+=T;++je}else for(;;){for($=x+ve*y,xe=0,G=0;G<C&&0==(Ne=v[$]-Xe[xe]);++G)xe+=R,$+=D;if(!(Ne>0)){if(Ne<0){for(ae=y*H,te=y*je,Q=y*ve,be=x,G=0;G<C;++G)W=Q+be,P=v[$=ae+be],v[$]=v[j=te+be],v[j]=v[W],v[W]=P,be+=T;++je,--ve;break}for(ae=y*H,te=y*ve,be=x,G=0;G<C;++G)P=v[$=ae+be],v[$]=v[j=te+be],v[j]=P,be+=T;--ve;break}ve--}}else for(H=je;H<=ve;++H){for($=x+H*y,xe=0,G=0;G<C&&0==(Le=v[$]-Xe[xe]);++G)xe+=R,$+=D;if(Le<0){if(H!==je)for(ae=y*H,te=y*je,be=x,G=0;G<C;++G)P=v[$=ae+be],v[$]=v[j=te+be],v[j]=P,be+=T;++je}else{for($=x+H*y,xe=0,G=0;G<C&&0==(Ve=v[$]-nt[xe]);++G)xe+=R,$+=D;if(Ve>0)for(;;){for($=x+ve*y,xe=0,G=0;G<C&&0==(Ne=v[$]-nt[xe]);++G)xe+=R,$+=D;if(!(Ne>0)){for($=x+ve*y,xe=0,G=0;G<C&&0==(Ne=v[$]-Xe[xe]);++G)xe+=R,$+=D;if(Ne<0){for(ae=y*H,te=y*je,Q=y*ve,be=x,G=0;G<C;++G)W=Q+be,P=v[$=ae+be],v[$]=v[j=te+be],v[j]=v[W],v[W]=P,be+=T;++je,--ve}else{for(ae=y*H,te=y*ve,be=x,G=0;G<C;++G)P=v[$=ae+be],v[$]=v[j=te+be],v[j]=P,be+=T;--ve}break}if(--ve<H)break}}}for(ae=y*p,te=y*(je-1),xe=0,be=x,G=0;G<C;++G)v[$=ae+be]=v[j=te+be],v[j]=Xe[xe],++xe,be+=T;for(ae=y*m,te=y*(ve+1),xe=0,be=x,G=0;G<C;++G)v[$=ae+be]=v[j=te+be],v[j]=nt[xe],++xe,be+=T;if(je-2-p<=32?l(p,je-2,v,x,y,w,f,C,T,D,R):b(p,je-2,v,x,y,w,f,C,T,D,R),m-(ve+2)<=32?l(ve+2,m,v,x,y,w,f,C,T,D,R):b(ve+2,m,v,x,y,w,f,C,T,D,R),Ae)return c(Xe),void c(nt);if(je<Se&&ve>Ee){e:for(;;){for($=x+je*y,xe=0,be=x,G=0;G<C;++G){if(v[$]!==Xe[xe])break e;++xe,$+=T}++je}e:for(;;){for($=x+ve*y,xe=0,be=x,G=0;G<C;++G){if(v[$]!==nt[xe])break e;++xe,$+=T}--ve}for(H=je;H<=ve;++H){for($=x+H*y,xe=0,G=0;G<C&&0==(Le=v[$]-Xe[xe]);++G)xe+=R,$+=D;if(0===Le){if(H!==je)for(ae=y*H,te=y*je,be=x,G=0;G<C;++G)P=v[$=ae+be],v[$]=v[j=te+be],v[j]=P,be+=T;++je}else{for($=x+H*y,xe=0,G=0;G<C&&0==(Ve=v[$]-nt[xe]);++G)xe+=R,$+=D;if(0===Ve)for(;;){for($=x+ve*y,xe=0,G=0;G<C&&0==(Ne=v[$]-nt[xe]);++G)xe+=R,$+=D;if(0!==Ne){for($=x+ve*y,xe=0,G=0;G<C&&0==(Ne=v[$]-Xe[xe]);++G)xe+=R,$+=D;if(Ne<0){for(ae=y*H,te=y*je,Q=y*ve,be=x,G=0;G<C;++G)W=Q+be,P=v[$=ae+be],v[$]=v[j=te+be],v[j]=v[W],v[W]=P,be+=T;++je,--ve}else{for(ae=y*H,te=y*ve,be=x,G=0;G<C;++G)P=v[$=ae+be],v[$]=v[j=te+be],v[j]=P,be+=T;--ve}break}if(--ve<H)break}}}}c(Xe),c(nt),ve-je<=32?l(je,ve,v,x,y,w,f,C,T,D,R):b(je,ve,v,x,y,w,f,C,T,D,R)}}},u={"uint32,1,0":function(l,h){return function(c){var b=c.data,p=0|c.offset,m=c.shape,v=c.stride,x=0|v[0],y=0|m[0],w=0|v[1],f=0|m[1],C=w,T=w;y<=32?l(0,y-1,b,p,x,w,y,f,C,T,1):h(0,y-1,b,p,x,w,y,f,C,T,1)}}};d.exports=function(l,h){var v,x,y,w,f,c=[h,l].join(","),b=u[c],p=(v=l,y=n(x=h),w=[x,v].join(","),f=r[w],y?f(y[0],y[1]):f()),m=function(v,x,y){var w=n(x),f=[x,v].join(","),C=o[f];return v.length>1&&w?C(y,w[0],w[1]):C(y)}(l,h,p);return b(p,m)}},446:function(d,s,t){"use strict";var i=t(7640),n={};d.exports=function(r){var o=r.order,u=r.dtype,l=[o,u].join(":"),h=n[l];return h||(n[l]=h=i(o,u)),h(r),r}},9618:function(d,s,t){var i=t(7163),n=typeof Float64Array<"u";function r(c,b){return c[0]-b[0]}function o(){var c,b=this.stride,p=new Array(b.length);for(c=0;c<p.length;++c)p[c]=[Math.abs(b[c]),c];p.sort(r);var m=new Array(p.length);for(c=0;c<m.length;++c)m[c]=p[c][1];return m}var u={T:function(c){function b(m){this.data=m}var p=b.prototype;return p.dtype=c,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new b(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(m){return new b(m)}},0:function(c,b){function p(v,x){this.data=v,this.offset=x}var m=p.prototype;return m.dtype=c,m.index=function(){return this.offset},m.dimension=0,m.size=1,m.shape=m.stride=m.order=[],m.lo=m.hi=m.transpose=m.step=function(){return new p(this.data,this.offset)},m.pick=function(){return b(this.data)},m.valueOf=m.get=function(){return"generic"===c?this.data.get(this.offset):this.data[this.offset]},m.set=function(v){return"generic"===c?this.data.set(this.offset,v):this.data[this.offset]=v},function(v,x,y,w){return new p(v,w)}},1:function(c,b,p){function m(x,y,w,f){this.data=x,this.shape=[y],this.stride=[w],this.offset=0|f}var v=m.prototype;return v.dtype=c,v.dimension=1,Object.defineProperty(v,"size",{get:function(){return this.shape[0]}}),v.order=[0],v.set=function(x,y){return"generic"===c?this.data.set(this.offset+this.stride[0]*x,y):this.data[this.offset+this.stride[0]*x]=y},v.get=function(x){return"generic"===c?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},v.index=function(x){return this.offset+this.stride[0]*x},v.hi=function(x){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},v.lo=function(x){var y=this.offset,w=0,f=this.shape[0],C=this.stride[0];return"number"==typeof x&&x>=0&&(y+=C*(w=0|x),f-=w),new m(this.data,f,C,y)},v.step=function(x){var y=this.shape[0],w=this.stride[0],f=this.offset,C=0,T=Math.ceil;return"number"==typeof x&&((C=0|x)<0?(f+=w*(y-1),y=T(-y/C)):y=T(y/C),w*=C),new m(this.data,y,w,f)},v.transpose=function(x){return new m(this.data,this.shape[x=void 0===x?0:0|x],this.stride[x],this.offset)},v.pick=function(x){var y=[],w=[],f=this.offset;return"number"==typeof x&&x>=0?f=f+this.stride[0]*x|0:(y.push(this.shape[0]),w.push(this.stride[0])),(0,b[y.length+1])(this.data,y,w,f)},function(x,y,w,f){return new m(x,y[0],w[0],f)}},2:function(c,b,p){function m(x,y,w,f,C,T){this.data=x,this.shape=[y,w],this.stride=[f,C],this.offset=0|T}var v=m.prototype;return v.dtype=c,v.dimension=2,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(v,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),v.set=function(x,y,w){return"generic"===c?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*y,w):this.data[this.offset+this.stride[0]*x+this.stride[1]*y]=w},v.get=function(x,y){return"generic"===c?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*y):this.data[this.offset+this.stride[0]*x+this.stride[1]*y]},v.index=function(x,y){return this.offset+this.stride[0]*x+this.stride[1]*y},v.hi=function(x,y){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof y||y<0?this.shape[1]:0|y,this.stride[0],this.stride[1],this.offset)},v.lo=function(x,y){var w=this.offset,f=0,C=this.shape[0],T=this.shape[1],D=this.stride[0],R=this.stride[1];return"number"==typeof x&&x>=0&&(w+=D*(f=0|x),C-=f),"number"==typeof y&&y>=0&&(w+=R*(f=0|y),T-=f),new m(this.data,C,T,D,R,w)},v.step=function(x,y){var w=this.shape[0],f=this.shape[1],C=this.stride[0],T=this.stride[1],D=this.offset,R=0,P=Math.ceil;return"number"==typeof x&&((R=0|x)<0?(D+=C*(w-1),w=P(-w/R)):w=P(w/R),C*=R),"number"==typeof y&&((R=0|y)<0?(D+=T*(f-1),f=P(-f/R)):f=P(f/R),T*=R),new m(this.data,w,f,C,T,D)},v.transpose=function(x,y){var w=this.shape,f=this.stride;return new m(this.data,w[x=void 0===x?0:0|x],w[y=void 0===y?1:0|y],f[x],f[y],this.offset)},v.pick=function(x,y){var w=[],f=[],C=this.offset;return"number"==typeof x&&x>=0?C=C+this.stride[0]*x|0:(w.push(this.shape[0]),f.push(this.stride[0])),"number"==typeof y&&y>=0?C=C+this.stride[1]*y|0:(w.push(this.shape[1]),f.push(this.stride[1])),(0,b[w.length+1])(this.data,w,f,C)},function(x,y,w,f){return new m(x,y[0],y[1],w[0],w[1],f)}},3:function(c,b,p){function m(x,y,w,f,C,T,D,R){this.data=x,this.shape=[y,w,f],this.stride=[C,T,D],this.offset=0|R}var v=m.prototype;return v.dtype=c,v.dimension=3,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(v,"order",{get:function(){var x=Math.abs(this.stride[0]),y=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return x>y?y>w?[2,1,0]:x>w?[1,2,0]:[1,0,2]:x>w?[2,0,1]:w>y?[0,1,2]:[0,2,1]}}),v.set=function(x,y,w,f){return"generic"===c?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w,f):this.data[this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w]=f},v.get=function(x,y,w){return"generic"===c?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w):this.data[this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w]},v.index=function(x,y,w){return this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w},v.hi=function(x,y,w){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof y||y<0?this.shape[1]:0|y,"number"!=typeof w||w<0?this.shape[2]:0|w,this.stride[0],this.stride[1],this.stride[2],this.offset)},v.lo=function(x,y,w){var f=this.offset,C=0,T=this.shape[0],D=this.shape[1],R=this.shape[2],P=this.stride[0],O=this.stride[1],B=this.stride[2];return"number"==typeof x&&x>=0&&(f+=P*(C=0|x),T-=C),"number"==typeof y&&y>=0&&(f+=O*(C=0|y),D-=C),"number"==typeof w&&w>=0&&(f+=B*(C=0|w),R-=C),new m(this.data,T,D,R,P,O,B,f)},v.step=function(x,y,w){var f=this.shape[0],C=this.shape[1],T=this.shape[2],D=this.stride[0],R=this.stride[1],P=this.stride[2],O=this.offset,B=0,q=Math.ceil;return"number"==typeof x&&((B=0|x)<0?(O+=D*(f-1),f=q(-f/B)):f=q(f/B),D*=B),"number"==typeof y&&((B=0|y)<0?(O+=R*(C-1),C=q(-C/B)):C=q(C/B),R*=B),"number"==typeof w&&((B=0|w)<0?(O+=P*(T-1),T=q(-T/B)):T=q(T/B),P*=B),new m(this.data,f,C,T,D,R,P,O)},v.transpose=function(x,y,w){var f=this.shape,C=this.stride;return new m(this.data,f[x=void 0===x?0:0|x],f[y=void 0===y?1:0|y],f[w=void 0===w?2:0|w],C[x],C[y],C[w],this.offset)},v.pick=function(x,y,w){var f=[],C=[],T=this.offset;return"number"==typeof x&&x>=0?T=T+this.stride[0]*x|0:(f.push(this.shape[0]),C.push(this.stride[0])),"number"==typeof y&&y>=0?T=T+this.stride[1]*y|0:(f.push(this.shape[1]),C.push(this.stride[1])),"number"==typeof w&&w>=0?T=T+this.stride[2]*w|0:(f.push(this.shape[2]),C.push(this.stride[2])),(0,b[f.length+1])(this.data,f,C,T)},function(x,y,w,f){return new m(x,y[0],y[1],y[2],w[0],w[1],w[2],f)}},4:function(c,b,p){function m(x,y,w,f,C,T,D,R,P,O){this.data=x,this.shape=[y,w,f,C],this.stride=[T,D,R,P],this.offset=0|O}var v=m.prototype;return v.dtype=c,v.dimension=4,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(v,"order",{get:p}),v.set=function(x,y,w,f,C){return"generic"===c?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f,C):this.data[this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f]=C},v.get=function(x,y,w,f){return"generic"===c?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f):this.data[this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f]},v.index=function(x,y,w,f){return this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f},v.hi=function(x,y,w,f){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof y||y<0?this.shape[1]:0|y,"number"!=typeof w||w<0?this.shape[2]:0|w,"number"!=typeof f||f<0?this.shape[3]:0|f,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},v.lo=function(x,y,w,f){var C=this.offset,T=0,D=this.shape[0],R=this.shape[1],P=this.shape[2],O=this.shape[3],B=this.stride[0],q=this.stride[1],N=this.stride[2],H=this.stride[3];return"number"==typeof x&&x>=0&&(C+=B*(T=0|x),D-=T),"number"==typeof y&&y>=0&&(C+=q*(T=0|y),R-=T),"number"==typeof w&&w>=0&&(C+=N*(T=0|w),P-=T),"number"==typeof f&&f>=0&&(C+=H*(T=0|f),O-=T),new m(this.data,D,R,P,O,B,q,N,H,C)},v.step=function(x,y,w,f){var C=this.shape[0],T=this.shape[1],D=this.shape[2],R=this.shape[3],P=this.stride[0],O=this.stride[1],B=this.stride[2],q=this.stride[3],N=this.offset,H=0,$=Math.ceil;return"number"==typeof x&&((H=0|x)<0?(N+=P*(C-1),C=$(-C/H)):C=$(C/H),P*=H),"number"==typeof y&&((H=0|y)<0?(N+=O*(T-1),T=$(-T/H)):T=$(T/H),O*=H),"number"==typeof w&&((H=0|w)<0?(N+=B*(D-1),D=$(-D/H)):D=$(D/H),B*=H),"number"==typeof f&&((H=0|f)<0?(N+=q*(R-1),R=$(-R/H)):R=$(R/H),q*=H),new m(this.data,C,T,D,R,P,O,B,q,N)},v.transpose=function(x,y,w,f){var C=this.shape,T=this.stride;return new m(this.data,C[x=void 0===x?0:0|x],C[y=void 0===y?1:0|y],C[w=void 0===w?2:0|w],C[f=void 0===f?3:0|f],T[x],T[y],T[w],T[f],this.offset)},v.pick=function(x,y,w,f){var C=[],T=[],D=this.offset;return"number"==typeof x&&x>=0?D=D+this.stride[0]*x|0:(C.push(this.shape[0]),T.push(this.stride[0])),"number"==typeof y&&y>=0?D=D+this.stride[1]*y|0:(C.push(this.shape[1]),T.push(this.stride[1])),"number"==typeof w&&w>=0?D=D+this.stride[2]*w|0:(C.push(this.shape[2]),T.push(this.stride[2])),"number"==typeof f&&f>=0?D=D+this.stride[3]*f|0:(C.push(this.shape[3]),T.push(this.stride[3])),(0,b[C.length+1])(this.data,C,T,D)},function(x,y,w,f){return new m(x,y[0],y[1],y[2],y[3],w[0],w[1],w[2],w[3],f)}},5:function(c,b,p){function m(x,y,w,f,C,T,D,R,P,O,B,q){this.data=x,this.shape=[y,w,f,C,T],this.stride=[D,R,P,O,B],this.offset=0|q}var v=m.prototype;return v.dtype=c,v.dimension=5,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(v,"order",{get:p}),v.set=function(x,y,w,f,C,T){return"generic"===c?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f+this.stride[4]*C,T):this.data[this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f+this.stride[4]*C]=T},v.get=function(x,y,w,f,C){return"generic"===c?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f+this.stride[4]*C):this.data[this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f+this.stride[4]*C]},v.index=function(x,y,w,f,C){return this.offset+this.stride[0]*x+this.stride[1]*y+this.stride[2]*w+this.stride[3]*f+this.stride[4]*C},v.hi=function(x,y,w,f,C){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof y||y<0?this.shape[1]:0|y,"number"!=typeof w||w<0?this.shape[2]:0|w,"number"!=typeof f||f<0?this.shape[3]:0|f,"number"!=typeof C||C<0?this.shape[4]:0|C,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},v.lo=function(x,y,w,f,C){var T=this.offset,D=0,R=this.shape[0],P=this.shape[1],O=this.shape[2],B=this.shape[3],q=this.shape[4],N=this.stride[0],H=this.stride[1],$=this.stride[2],j=this.stride[3],W=this.stride[4];return"number"==typeof x&&x>=0&&(T+=N*(D=0|x),R-=D),"number"==typeof y&&y>=0&&(T+=H*(D=0|y),P-=D),"number"==typeof w&&w>=0&&(T+=$*(D=0|w),O-=D),"number"==typeof f&&f>=0&&(T+=j*(D=0|f),B-=D),"number"==typeof C&&C>=0&&(T+=W*(D=0|C),q-=D),new m(this.data,R,P,O,B,q,N,H,$,j,W,T)},v.step=function(x,y,w,f,C){var T=this.shape[0],D=this.shape[1],R=this.shape[2],P=this.shape[3],O=this.shape[4],B=this.stride[0],q=this.stride[1],N=this.stride[2],H=this.stride[3],$=this.stride[4],j=this.offset,W=0,G=Math.ceil;return"number"==typeof x&&((W=0|x)<0?(j+=B*(T-1),T=G(-T/W)):T=G(T/W),B*=W),"number"==typeof y&&((W=0|y)<0?(j+=q*(D-1),D=G(-D/W)):D=G(D/W),q*=W),"number"==typeof w&&((W=0|w)<0?(j+=N*(R-1),R=G(-R/W)):R=G(R/W),N*=W),"number"==typeof f&&((W=0|f)<0?(j+=H*(P-1),P=G(-P/W)):P=G(P/W),H*=W),"number"==typeof C&&((W=0|C)<0?(j+=$*(O-1),O=G(-O/W)):O=G(O/W),$*=W),new m(this.data,T,D,R,P,O,B,q,N,H,$,j)},v.transpose=function(x,y,w,f,C){var T=this.shape,D=this.stride;return new m(this.data,T[x=void 0===x?0:0|x],T[y=void 0===y?1:0|y],T[w=void 0===w?2:0|w],T[f=void 0===f?3:0|f],T[C=void 0===C?4:0|C],D[x],D[y],D[w],D[f],D[C],this.offset)},v.pick=function(x,y,w,f,C){var T=[],D=[],R=this.offset;return"number"==typeof x&&x>=0?R=R+this.stride[0]*x|0:(T.push(this.shape[0]),D.push(this.stride[0])),"number"==typeof y&&y>=0?R=R+this.stride[1]*y|0:(T.push(this.shape[1]),D.push(this.stride[1])),"number"==typeof w&&w>=0?R=R+this.stride[2]*w|0:(T.push(this.shape[2]),D.push(this.stride[2])),"number"==typeof f&&f>=0?R=R+this.stride[3]*f|0:(T.push(this.shape[3]),D.push(this.stride[3])),"number"==typeof C&&C>=0?R=R+this.stride[4]*C|0:(T.push(this.shape[4]),D.push(this.stride[4])),(0,b[T.length+1])(this.data,T,D,R)},function(x,y,w,f){return new m(x,y[0],y[1],y[2],y[3],y[4],w[0],w[1],w[2],w[3],w[4],f)}}};function l(c,b){var p=-1===b?"T":String(b),m=u[p];return-1===b?m(c):0===b?m(c,h[c][0]):m(c,h[c],o)}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};d.exports=function(c,b,p,m){if(void 0===c)return(0,h.array[0])([]);"number"==typeof c&&(c=[c]),void 0===b&&(b=[c.length]);var v=b.length;if(void 0===p){p=new Array(v);for(var x=v-1,y=1;x>=0;--x)p[x]=y,y*=b[x]}if(void 0===m)for(m=0,x=0;x<v;++x)p[x]<0&&(m-=(b[x]-1)*p[x]);for(var w=function(C){if(i(C))return"buffer";if(n)switch(Object.prototype.toString.call(C)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(C)?"array":"generic"}(c),f=h[w];f.length<=v+1;)f.push(l(w,f.length-1));return(0,f[v+1])(c,b,p,m)}},1278:function(d,s,t){"use strict";var i=t(2361),n=Math.pow(2,-1074),r=-1>>>0;d.exports=function(o,u){if(isNaN(o)||isNaN(u))return NaN;if(o===u)return o;if(0===o)return u<0?-n:n;var l=i.hi(o),h=i.lo(o);return u>o==o>0?h===r?(l+=1,h=0):h+=1:0===h?(h=r,l-=1):h-=1,i.pack(h,l)}},8406:function(d,s){s.vertexNormals=function(t,i,n){for(var r=i.length,o=new Array(r),u=void 0===n?1e-6:n,l=0;l<r;++l)o[l]=[0,0,0];for(l=0;l<t.length;++l)for(var h=t[l],b=h[h.length-1],p=h[0],m=0;m<h.length;++m){for(var v=i[b],x=i[b=p],y=i[p=h[(m+1)%h.length]],w=new Array(3),f=0,C=new Array(3),T=0,D=0;D<3;++D)w[D]=v[D]-x[D],f+=w[D]*w[D],C[D]=y[D]-x[D],T+=C[D]*C[D];if(f*T>u){var R=o[b],P=1/Math.sqrt(f*T);for(D=0;D<3;++D){var O=(D+1)%3,B=(D+2)%3;R[D]+=P*(C[O]*w[B]-C[B]*w[O])}}}for(l=0;l<r;++l){R=o[l];var q=0;for(D=0;D<3;++D)q+=R[D]*R[D];if(q>u)for(P=1/Math.sqrt(q),D=0;D<3;++D)R[D]*=P;else for(D=0;D<3;++D)R[D]=0}return o},s.faceNormals=function(t,i,n){for(var r=t.length,o=new Array(r),u=void 0===n?1e-6:n,l=0;l<r;++l){for(var h=t[l],c=new Array(3),b=0;b<3;++b)c[b]=i[h[b]];var p=new Array(3),m=new Array(3);for(b=0;b<3;++b)p[b]=c[1][b]-c[0][b],m[b]=c[2][b]-c[0][b];var v=new Array(3),x=0;for(b=0;b<3;++b){var y=(b+1)%3,w=(b+2)%3;v[b]=p[y]*m[w]-p[w]*m[y],x+=v[b]*v[b]}for(x=x>u?1/Math.sqrt(x):0,b=0;b<3;++b)v[b]*=x;o[l]=v}return o}},4081:function(d){"use strict";d.exports=function(s,t,i,n,r,o,u,l,h,c){var b=t+o+c;if(p>0){var p=Math.sqrt(b+1);s[0]=.5*(u-h)/p,s[1]=.5*(l-n)/p,s[2]=.5*(i-o)/p,s[3]=.5*p}else{var m=Math.max(t,o,c);p=Math.sqrt(2*m-b+1),t>=m?(s[0]=.5*p,s[1]=.5*(r+i)/p,s[2]=.5*(l+n)/p,s[3]=.5*(u-h)/p):o>=m?(s[0]=.5*(i+r)/p,s[1]=.5*p,s[2]=.5*(h+u)/p,s[3]=.5*(l-n)/p):(s[0]=.5*(n+l)/p,s[1]=.5*(u+h)/p,s[2]=.5*p,s[3]=.5*(i-r)/p)}return s}},9977:function(d,s,t){"use strict";d.exports=function(m){var v=(m=m||{}).center||[0,0,0],x=m.rotation||[0,0,0,1],y=m.radius||1;v=[].slice.call(v,0,3),c(x=[].slice.call(x,0,4),x);var w=new b(x,v,Math.log(y));return w.setDistanceLimits(m.zoomMin,m.zoomMax),("eye"in m||"up"in m)&&w.lookAt(0,m.eye,m.center,m.up),w};var i=t(9215),n=t(6582),r=t(7399),o=t(7608),u=t(4081);function l(m,v,x){return Math.sqrt(Math.pow(m,2)+Math.pow(v,2)+Math.pow(x,2))}function h(m,v,x,y){return Math.sqrt(Math.pow(m,2)+Math.pow(v,2)+Math.pow(x,2)+Math.pow(y,2))}function c(m,v){var x=v[0],y=v[1],w=v[2],f=v[3],C=h(x,y,w,f);C>1e-6?(m[0]=x/C,m[1]=y/C,m[2]=w/C,m[3]=f/C):(m[0]=m[1]=m[2]=0,m[3]=1)}function b(m,v,x){this.radius=i([x]),this.center=i(v),this.rotation=i(m),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var p=b.prototype;p.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},p.recalcMatrix=function(m){this.radius.curve(m),this.center.curve(m),this.rotation.curve(m);var v=this.computedRotation;c(v,v);var x=this.computedMatrix;r(x,v);var y=this.computedCenter,w=this.computedEye,f=this.computedUp,C=Math.exp(this.computedRadius[0]);w[0]=y[0]+C*x[2],w[1]=y[1]+C*x[6],w[2]=y[2]+C*x[10],f[0]=x[1],f[1]=x[5],f[2]=x[9];for(var T=0;T<3;++T){for(var D=0,R=0;R<3;++R)D+=x[T+4*R]*w[R];x[12+T]=-D}},p.getMatrix=function(m,v){this.recalcMatrix(m);var x=this.computedMatrix;if(v){for(var y=0;y<16;++y)v[y]=x[y];return v}return x},p.idle=function(m){this.center.idle(m),this.radius.idle(m),this.rotation.idle(m)},p.flush=function(m){this.center.flush(m),this.radius.flush(m),this.rotation.flush(m)},p.pan=function(m,v,x,y){v=v||0,x=x||0,y=y||0,this.recalcMatrix(m);var w=this.computedMatrix,f=w[1],C=w[5],T=w[9],D=l(f,C,T),R=w[0],P=w[4],O=w[8],B=R*(f/=D)+P*(C/=D)+O*(T/=D),q=l(R-=f*B,P-=C*B,O-=T*B),N=w[2],H=w[6],$=w[10],j=N*f+H*C+$*T,W=N*(R/=q)+H*(P/=q)+$*(O/=q),G=l(N-=j*f+W*R,H-=j*C+W*P,$-=j*T+W*O);N/=G,H/=G,$/=G,this.center.move(m,R*v+f*x,P*v+C*x,O*v+T*x);var ee=Math.exp(this.computedRadius[0]);ee=Math.max(1e-4,ee+y),this.radius.set(m,Math.log(ee))},p.rotate=function(m,v,x,y){this.recalcMatrix(m);var w=this.computedMatrix,O=w[2],B=w[6],q=w[10],N=(v=v||0)*w[0]+(x=x||0)*w[1],H=v*w[4]+x*w[5],$=v*w[8]+x*w[9],j=-(B*$-q*H),W=-(q*N-O*$),G=-(O*H-B*N),ae=Math.sqrt(Math.max(0,1-Math.pow(j,2)-Math.pow(W,2)-Math.pow(G,2))),te=h(j,W,G,ae);te>1e-6?(j/=te,W/=te,G/=te,ae/=te):(j=W=G=0,ae=1);var Q=this.computedRotation,ee=Q[0],re=Q[1],J=Q[2],le=Q[3],fe=ee*ae+le*j+re*G-J*W,ce=re*ae+le*W+J*j-ee*G,ge=J*ae+le*G+ee*W-re*j,Te=le*ae-ee*j-re*W-J*G;if(y){j=O,W=B,G=q;var Me=Math.sin(y)/l(j,W,G);j*=Me,W*=Me,G*=Me,Te=Te*(ae=Math.cos(v))-(fe=fe*ae+Te*j+ce*G-ge*W)*j-(ce=ce*ae+Te*W+ge*j-fe*G)*W-(ge=ge*ae+Te*G+fe*W-ce*j)*G}var we=h(fe,ce,ge,Te);we>1e-6?(fe/=we,ce/=we,ge/=we,Te/=we):(fe=ce=ge=0,Te=1),this.rotation.set(m,fe,ce,ge,Te)},p.lookAt=function(m,v,x,y){this.recalcMatrix(m);var w=this.computedMatrix;n(w,v=v||this.computedEye,x=x||this.computedCenter,y=y||this.computedUp);var f=this.computedRotation;u(f,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),c(f,f),this.rotation.set(m,f[0],f[1],f[2],f[3]);for(var C=0,T=0;T<3;++T)C+=Math.pow(x[T]-v[T],2);this.radius.set(m,.5*Math.log(Math.max(C,1e-6))),this.center.set(m,x[0],x[1],x[2])},p.translate=function(m,v,x,y){this.center.move(m,v||0,x||0,y||0)},p.setMatrix=function(m,v){var x=this.computedRotation;u(x,v[0],v[1],v[2],v[4],v[5],v[6],v[8],v[9],v[10]),c(x,x),this.rotation.set(m,x[0],x[1],x[2],x[3]);var y=this.computedMatrix;o(y,v);var w=y[15];if(Math.abs(w)>1e-6){var f=y[12]/w,C=y[13]/w,T=y[14]/w;this.recalcMatrix(m);var D=Math.exp(this.computedRadius[0]);this.center.set(m,f-y[2]*D,C-y[6]*D,T-y[10]*D),this.radius.idle(m)}else this.center.idle(m),this.radius.idle(m)},p.setDistance=function(m,v){v>0&&this.radius.set(m,Math.log(v))},p.setDistanceLimits=function(m,v){m=m>0?Math.log(m):-1/0,v=v>0?Math.log(v):1/0,v=Math.max(v,m),this.radius.bounds[0][0]=m,this.radius.bounds[1][0]=v},p.getDistanceLimits=function(m){var v=this.radius.bounds;return m?(m[0]=Math.exp(v[0][0]),m[1]=Math.exp(v[1][0]),m):[Math.exp(v[0][0]),Math.exp(v[1][0])]},p.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},p.fromJSON=function(m){var v=this.lastT(),x=m.center;x&&this.center.set(v,x[0],x[1],x[2]);var y=m.rotation;y&&this.rotation.set(v,y[0],y[1],y[2],y[3]);var w=m.distance;w&&w>0&&this.radius.set(v,Math.log(w)),this.setDistanceLimits(m.zoomMin,m.zoomMax)}},1371:function(d,s,t){"use strict";var i=t(3233);d.exports=function(n,r,o){return i(o=void 0!==o?o+"":" ",r)+n}},3202:function(d){d.exports=function(s,t){t||(t=[0,""]),s=String(s);var i=parseFloat(s,10);return t[0]=i,t[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(d,s,t){"use strict";d.exports=function(n,r){for(var o=0|r.length,u=n.length,l=[new Array(o),new Array(o)],h=0;h<o;++h)l[0][h]=[],l[1][h]=[];for(h=0;h<u;++h){var c=n[h];l[0][c[0]].push(c),l[1][c[1]].push(c)}var T,b=[];for(h=0;h<o;++h)l[0][h].length+l[1][h].length===0&&b.push([h]);function p(C,T){var D=l[T][C[T]];D.splice(D.indexOf(C),1)}function m(C,T,D){for(var R,P,O,B=0;B<2;++B)if(l[B][T].length>0){R=l[B][T][0],O=B;break}P=R[1^O];for(var q=0;q<2;++q)for(var N=l[q][T],H=0;H<N.length;++H){var $=N[H],j=$[1^q];i(r[C],r[T],r[P],r[j])>0&&(R=$,P=j,O=q)}return D||R&&p(R,O),P}function v(C,T){var D=l[T][C][0],R=[C];p(D,T);for(var P=D[1^T];;){for(;P!==C;)R.push(P),P=m(R[R.length-2],P,!1);if(l[0][C].length+l[1][C].length===0)break;var O=R[R.length-1],B=C,q=R[1],N=m(O,B,!0);if(i(r[O],r[B],r[q],r[N])<0)break;R.push(C),P=m(O,B)}return R}for(h=0;h<o;++h)for(var y=0;y<2;++y){for(var w=[];l[y][h].length>0;){var f=v(h,y);(T=f)[1]===T[T.length-1]?w.push.apply(w,f):(w.length>0&&b.push(w),w=f)}w.length>0&&b.push(w)}return b};var i=t(3140)},5609:function(d,s,t){"use strict";d.exports=function(n,r){for(var o=i(n,r.length),u=new Array(r.length),l=new Array(r.length),h=[],c=0;c<r.length;++c){var b=o[c].length;l[c]=b,u[c]=!0,b<=1&&h.push(c)}for(;h.length>0;){u[y=h.pop()]=!1;var p=o[y];for(c=0;c<p.length;++c){var m=p[c];0==--l[m]&&h.push(m)}}var v=new Array(r.length),x=[];for(c=0;c<r.length;++c)if(u[c]){var y=x.length;v[c]=y,x.push(r[c])}else v[c]=-1;var w=[];for(c=0;c<n.length;++c){var f=n[c];u[f[0]]&&u[f[1]]&&w.push([v[f[0]],v[f[1]]])}return[w,x]};var i=t(3134)},2095:function(d,s,t){"use strict";d.exports=function(b,p){for(var m=h(b,p),v=(p=m[1]).length,x=i(b=m[0],p.length),y=0;y<v;++y)if(x[y].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var w=n(b,p),f=(w=w.filter(function(ye){for(var Se=ye.length,Ee=[0],he=0;he<Se;++he){var ue=p[ye[he]],me=p[ye[(he+1)%Se]],Pe=o(-ue[0],ue[1]),Ce=o(-ue[0],me[1]),Ie=o(me[0],ue[1]),Oe=o(me[0],me[1]);Ee=u(Ee,u(u(Pe,Ce),u(Ie,Oe)))}return Ee[Ee.length-1]>0})).length,C=new Array(f),T=new Array(f);for(y=0;y<f;++y){C[y]=y;var D=new Array(f),R=w[y].map(function(ye){return p[ye]}),P=r([R]),O=0;e:for(var B=0;B<f;++B)if(D[B]=0,y!==B){for(var q=(xe=w[B]).length,N=0;N<q;++N){var H=P(p[xe[N]]);if(0!==H){H<0&&(D[B]=1,O+=1);continue e}}D[B]=1,O+=1}T[y]=[O,y,D]}for(T.sort(function(ye,Se){return Se[0]-ye[0]}),y=0;y<f;++y){var $=(D=T[y])[1],j=D[2];for(B=0;B<f;++B)j[B]&&(C[B]=$)}var W=function(ye){for(var Se=new Array(ye),Ee=0;Ee<ye;++Ee)Se[Ee]=[];return Se}(f);for(y=0;y<f;++y)W[y].push(C[y]),W[C[y]].push(y);var G={},ae=c(v,!1);for(y=0;y<f;++y)for(q=(xe=w[y]).length,B=0;B<q;++B){var te=xe[B],Q=xe[(B+1)%q],ee=Math.min(te,Q)+":"+Math.max(te,Q);if(ee in G){var re=G[ee];W[re].push(y),W[y].push(re),ae[te]=ae[Q]=!0}else G[ee]=y}function J(ye){for(var Se=ye.length,Ee=0;Ee<Se;++Ee)if(!ae[ye[Ee]])return!1;return!0}var le=[],fe=c(f,-1);for(y=0;y<f;++y)C[y]!==y||J(w[y])?fe[y]=-1:(le.push(y),fe[y]=0);for(m=[];le.length>0;){var ce=le.pop(),ge=W[ce];l(ge,function(ye,Se){return ye-Se});var Te,Me=ge.length,we=fe[ce];for(0===we&&(Te=[xe=w[ce]]),y=0;y<Me;++y){var xe,be=ge[y];fe[be]>=0||(fe[be]=1^we,le.push(be),0===we&&(J(xe=w[be])||(xe.reverse(),Te.push(xe))))}0===we&&m.push(Te)}return m};var i=t(3134),n=t(3088),r=t(5085),o=t(5250),u=t(8210),l=t(1682),h=t(5609);function c(b,p){for(var m=new Array(b),v=0;v<b;++v)m[v]=p;return m}},5085:function(d,s,t){d.exports=function(c){for(var b=c.length,p=[],m=[],v=0;v<b;++v)for(var x=c[v],y=x.length,w=y-1,f=0;f<y;w=f++){var C=x[w],T=x[f];C[0]===T[0]?m.push([C,T]):p.push([C,T])}if(0===p.length)return 0===m.length?h:(D=l(m),function(O){return D(O[0],O[1])?0:1});var D,O,B,R=n(p),P=(O=R.slabs,B=R.coordinates,function(q){var N=o.le(B,q[0]);if(N<0)return 1;var H=O[N];if(!H){if(!(N>0&&B[N]===q[0]))return 1;H=O[N-1]}for(var $=1;H;){var j=H.key,W=i(q,j[0],j[1]);if(j[0][0]<j[1][0])if(W<0)H=H.left;else{if(!(W>0))return 0;$=-1,H=H.right}else if(W>0)H=H.left;else{if(!(W<0))return 0;$=1,H=H.right}}return $});return 0===m.length?P:function(O,B){return function(q){return O(q[0],q[1])?0:B(q)}}(l(m),P)};var i=t(3250)[3],n=t(4209),r=t(3352),o=t(2478);function u(){return!0}function l(c){for(var b={},p=0;p<c.length;++p){var m=c[p],v=m[0][0],x=m[0][1],y=m[1][1],w=[Math.min(x,y),Math.max(x,y)];v in b?b[v].push(w):b[v]=[w]}var D,f={},C=Object.keys(b);for(p=0;p<C.length;++p)f[C[p]]=r(b[C[p]]);return D=f,function(R,P){var O=D[R];return!!O&&!!O.queryPoint(P,u)}}function h(c){return 1}},9346:function(d){"use strict";var s=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);d.exports=function(n,r,o,u,l){s.length<u.length&&(s=new Float64Array(u.length),t=new Float64Array(u.length),i=new Float64Array(u.length));for(var h=0;h<u.length;++h)s[h]=n[h]-u[h],t[h]=r[h]-n[h],i[h]=o[h]-n[h];var c=0,b=0,p=0,m=0,v=0,x=0;for(h=0;h<u.length;++h){var y=t[h],w=i[h],f=s[h];c+=y*y,b+=y*w,p+=w*w,m+=f*y,v+=f*w,x+=f*f}var C,T,D,R,P,O=Math.abs(c*p-b*b),B=b*v-p*m,q=b*m-c*v;if(B+q<=O)if(B<0)q<0&&m<0?(q=0,-m>=c?(B=1,C=c+2*m+x):C=m*(B=-m/c)+x):(B=0,v>=0?(q=0,C=x):-v>=p?(q=1,C=p+2*v+x):C=v*(q=-v/p)+x);else if(q<0)q=0,m>=0?(B=0,C=x):-m>=c?(B=1,C=c+2*m+x):C=m*(B=-m/c)+x;else{var N=1/O;C=(B*=N)*(c*B+b*(q*=N)+2*m)+q*(b*B+p*q+2*v)+x}else B<0?(D=p+v)>(T=b+m)?(R=D-T)>=(P=c-2*b+p)?(B=1,q=0,C=c+2*m+x):C=(B=R/P)*(c*B+b*(q=1-B)+2*m)+q*(b*B+p*q+2*v)+x:(B=0,D<=0?(q=1,C=p+2*v+x):v>=0?(q=0,C=x):C=v*(q=-v/p)+x):q<0?(D=c+m)>(T=b+v)?(R=D-T)>=(P=c-2*b+p)?(q=1,B=0,C=p+2*v+x):C=(B=1-(q=R/P))*(c*B+b*q+2*m)+q*(b*B+p*q+2*v)+x:(q=0,D<=0?(B=1,C=c+2*m+x):m>=0?(B=0,C=x):C=m*(B=-m/c)+x):(R=p+v-b-m)<=0?(B=0,q=1,C=p+2*v+x):R>=(P=c-2*b+p)?(B=1,q=0,C=c+2*m+x):C=(B=R/P)*(c*B+b*(q=1-B)+2*m)+q*(b*B+p*q+2*v)+x;var H=1-B-q;for(h=0;h<u.length;++h)l[h]=H*n[h]+B*r[h]+q*o[h];return C<0?0:C}},8648:function(d,s,t){d.exports=t(783)},2653:function(d,s,t){"use strict";var i=t(3865);d.exports=function(n,r){for(var o=n.length,u=new Array(o),l=0;l<o;++l)u[l]=i(n[l],r[l]);return u}},5838:function(d,s,t){"use strict";d.exports=function(n){for(var r=new Array(n.length),o=0;o<n.length;++o)r[o]=i(n[o]);return r};var i=t(7842)},8987:function(d,s,t){"use strict";var i=t(7842),n=t(6504);d.exports=function(r,o){for(var u=i(o),l=r.length,h=new Array(l),c=0;c<l;++c)h[c]=n(r[c],u);return h}},544:function(d,s,t){"use strict";var i=t(5572);d.exports=function(n,r){for(var o=n.length,u=new Array(o),l=0;l<o;++l)u[l]=i(n[l],r[l]);return u}},5771:function(d,s,t){"use strict";var i=t(8507),n=t(3788),r=t(2419);d.exports=function(o){o.sort(n);for(var u=o.length,l=0,h=0;h<u;++h){var c=o[h],b=r(c);if(0!==b){if(l>0){var p=o[l-1];if(0===i(c,p)&&r(p)!==b){l-=1;continue}}o[l++]=c}}return o.length=l,o}},3233:function(d){"use strict";var s,t="";d.exports=function(i,n){if("string"!=typeof i)throw new TypeError("expected a string");if(1===n)return i;if(2===n)return i+i;var r=i.length*n;if(s!==i||void 0===s)s=i,t="";else if(t.length>=r)return t.substr(0,r);for(;r>t.length&&n>1;)1&n&&(t+=i),n>>=1,i+=i;return t=(t+=i).substr(0,r)}},3025:function(d,s,t){d.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(d){"use strict";d.exports=function(s){for(var t=s.length,i=s[s.length-1],n=t,r=t-2;r>=0;--r){var o=i;(h=(l=s[r])-((i=o+l)-o))&&(s[--n]=i,i=h)}var u=0;for(r=n;r<t;++r){var l,h;(h=(l=i)-((i=(o=s[r])+l)-o))&&(s[u++]=h)}return s[u++]=i,s.length=u,s}},2962:function(d,s,t){"use strict";var i=t(5250),n=t(8210),r=t(3012),o=t(7004);function u(v,x,y,w){return function(f){return w(v(y(f[0][0],f[1][1]),y(-f[0][1],f[1][0])))}}function l(v,x,y,w){return function(f){return w(v(x(v(y(f[1][1],f[2][2]),y(-f[1][2],f[2][1])),f[0][0]),v(x(v(y(f[1][0],f[2][2]),y(-f[1][2],f[2][0])),-f[0][1]),x(v(y(f[1][0],f[2][1]),y(-f[1][1],f[2][0])),f[0][2]))))}}function h(v,x,y,w){return function(f){return w(v(v(x(v(x(v(y(f[2][2],f[3][3]),y(-f[2][3],f[3][2])),f[1][1]),v(x(v(y(f[2][1],f[3][3]),y(-f[2][3],f[3][1])),-f[1][2]),x(v(y(f[2][1],f[3][2]),y(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),x(v(x(v(y(f[2][2],f[3][3]),y(-f[2][3],f[3][2])),f[1][0]),v(x(v(y(f[2][0],f[3][3]),y(-f[2][3],f[3][0])),-f[1][2]),x(v(y(f[2][0],f[3][2]),y(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),v(x(v(x(v(y(f[2][1],f[3][3]),y(-f[2][3],f[3][1])),f[1][0]),v(x(v(y(f[2][0],f[3][3]),y(-f[2][3],f[3][0])),-f[1][1]),x(v(y(f[2][0],f[3][1]),y(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),x(v(x(v(y(f[2][1],f[3][2]),y(-f[2][2],f[3][1])),f[1][0]),v(x(v(y(f[2][0],f[3][2]),y(-f[2][2],f[3][0])),-f[1][1]),x(v(y(f[2][0],f[3][1]),y(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function c(v,x,y,w){return function(f){return w(v(v(x(v(v(x(v(x(v(y(f[3][3],f[4][4]),y(-f[3][4],f[4][3])),f[2][2]),v(x(v(y(f[3][2],f[4][4]),y(-f[3][4],f[4][2])),-f[2][3]),x(v(y(f[3][2],f[4][3]),y(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),x(v(x(v(y(f[3][3],f[4][4]),y(-f[3][4],f[4][3])),f[2][1]),v(x(v(y(f[3][1],f[4][4]),y(-f[3][4],f[4][1])),-f[2][3]),x(v(y(f[3][1],f[4][3]),y(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),v(x(v(x(v(y(f[3][2],f[4][4]),y(-f[3][4],f[4][2])),f[2][1]),v(x(v(y(f[3][1],f[4][4]),y(-f[3][4],f[4][1])),-f[2][2]),x(v(y(f[3][1],f[4][2]),y(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),x(v(x(v(y(f[3][2],f[4][3]),y(-f[3][3],f[4][2])),f[2][1]),v(x(v(y(f[3][1],f[4][3]),y(-f[3][3],f[4][1])),-f[2][2]),x(v(y(f[3][1],f[4][2]),y(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),x(v(v(x(v(x(v(y(f[3][3],f[4][4]),y(-f[3][4],f[4][3])),f[2][2]),v(x(v(y(f[3][2],f[4][4]),y(-f[3][4],f[4][2])),-f[2][3]),x(v(y(f[3][2],f[4][3]),y(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),x(v(x(v(y(f[3][3],f[4][4]),y(-f[3][4],f[4][3])),f[2][0]),v(x(v(y(f[3][0],f[4][4]),y(-f[3][4],f[4][0])),-f[2][3]),x(v(y(f[3][0],f[4][3]),y(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),v(x(v(x(v(y(f[3][2],f[4][4]),y(-f[3][4],f[4][2])),f[2][0]),v(x(v(y(f[3][0],f[4][4]),y(-f[3][4],f[4][0])),-f[2][2]),x(v(y(f[3][0],f[4][2]),y(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),x(v(x(v(y(f[3][2],f[4][3]),y(-f[3][3],f[4][2])),f[2][0]),v(x(v(y(f[3][0],f[4][3]),y(-f[3][3],f[4][0])),-f[2][2]),x(v(y(f[3][0],f[4][2]),y(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),v(x(v(v(x(v(x(v(y(f[3][3],f[4][4]),y(-f[3][4],f[4][3])),f[2][1]),v(x(v(y(f[3][1],f[4][4]),y(-f[3][4],f[4][1])),-f[2][3]),x(v(y(f[3][1],f[4][3]),y(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),x(v(x(v(y(f[3][3],f[4][4]),y(-f[3][4],f[4][3])),f[2][0]),v(x(v(y(f[3][0],f[4][4]),y(-f[3][4],f[4][0])),-f[2][3]),x(v(y(f[3][0],f[4][3]),y(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),v(x(v(x(v(y(f[3][1],f[4][4]),y(-f[3][4],f[4][1])),f[2][0]),v(x(v(y(f[3][0],f[4][4]),y(-f[3][4],f[4][0])),-f[2][1]),x(v(y(f[3][0],f[4][1]),y(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),x(v(x(v(y(f[3][1],f[4][3]),y(-f[3][3],f[4][1])),f[2][0]),v(x(v(y(f[3][0],f[4][3]),y(-f[3][3],f[4][0])),-f[2][1]),x(v(y(f[3][0],f[4][1]),y(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),v(x(v(v(x(v(x(v(y(f[3][2],f[4][4]),y(-f[3][4],f[4][2])),f[2][1]),v(x(v(y(f[3][1],f[4][4]),y(-f[3][4],f[4][1])),-f[2][2]),x(v(y(f[3][1],f[4][2]),y(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),x(v(x(v(y(f[3][2],f[4][4]),y(-f[3][4],f[4][2])),f[2][0]),v(x(v(y(f[3][0],f[4][4]),y(-f[3][4],f[4][0])),-f[2][2]),x(v(y(f[3][0],f[4][2]),y(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),v(x(v(x(v(y(f[3][1],f[4][4]),y(-f[3][4],f[4][1])),f[2][0]),v(x(v(y(f[3][0],f[4][4]),y(-f[3][4],f[4][0])),-f[2][1]),x(v(y(f[3][0],f[4][1]),y(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),x(v(x(v(y(f[3][1],f[4][2]),y(-f[3][2],f[4][1])),f[2][0]),v(x(v(y(f[3][0],f[4][2]),y(-f[3][2],f[4][0])),-f[2][1]),x(v(y(f[3][0],f[4][1]),y(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),x(v(v(x(v(x(v(y(f[3][2],f[4][3]),y(-f[3][3],f[4][2])),f[2][1]),v(x(v(y(f[3][1],f[4][3]),y(-f[3][3],f[4][1])),-f[2][2]),x(v(y(f[3][1],f[4][2]),y(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),x(v(x(v(y(f[3][2],f[4][3]),y(-f[3][3],f[4][2])),f[2][0]),v(x(v(y(f[3][0],f[4][3]),y(-f[3][3],f[4][0])),-f[2][2]),x(v(y(f[3][0],f[4][2]),y(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),v(x(v(x(v(y(f[3][1],f[4][3]),y(-f[3][3],f[4][1])),f[2][0]),v(x(v(y(f[3][0],f[4][3]),y(-f[3][3],f[4][0])),-f[2][1]),x(v(y(f[3][0],f[4][1]),y(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),x(v(x(v(y(f[3][1],f[4][2]),y(-f[3][2],f[4][1])),f[2][0]),v(x(v(y(f[3][0],f[4][2]),y(-f[3][2],f[4][0])),-f[2][1]),x(v(y(f[3][0],f[4][1]),y(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function b(v){return(2===v?u:3===v?l:4===v?h:5===v?c:void 0)(n,r,i,o)}var p=[function(){return[0]},function(v){return[v[0][0]]}];function m(v,x,y,w,f,C,T,D){return function(R){switch(R.length){case 0:return v(R);case 1:return x(R);case 2:return y(R);case 3:return w(R);case 4:return f(R);case 5:return C(R)}var P=T[R.length];return P||(P=T[R.length]=D(R.length)),P(R)}}!function(){for(;p.length<6;)p.push(b(p.length));d.exports=m.apply(void 0,p.concat([p,b]));for(var v=0;v<p.length;++v)d.exports[v]=p[v]}()},1944:function(d,s,t){"use strict";var i=t(5250),n=t(8210);d.exports=function(r,o){for(var u=i(r[0],o[0]),l=1;l<r.length;++l)u=n(u,i(r[l],o[l]));return u}},2646:function(d,s,t){"use strict";var i=t(5250),n=t(8210),r=t(8545),o=t(3012);function u(x){return(3===x?l:4===x?h:5===x?c:b)(n,r,i,o)}function l(x,y,w,f){return function(C,T,D){var R=w(C[0],C[0]),P=f(R,T[0]),O=f(R,D[0]),B=w(T[0],T[0]),q=f(B,C[0]),N=f(B,D[0]),H=w(D[0],D[0]),$=f(H,C[0]),j=f(H,T[0]),W=x(y(j,N),y(q,P)),G=y($,O),ae=y(W,G);return ae[ae.length-1]}}function h(x,y,w,f){return function(C,T,D,R){var P=x(w(C[0],C[0]),w(C[1],C[1])),O=f(P,T[0]),B=f(P,D[0]),q=f(P,R[0]),N=x(w(T[0],T[0]),w(T[1],T[1])),H=f(N,C[0]),$=f(N,D[0]),j=f(N,R[0]),W=x(w(D[0],D[0]),w(D[1],D[1])),G=f(W,C[0]),ae=f(W,T[0]),te=f(W,R[0]),Q=x(w(R[0],R[0]),w(R[1],R[1])),ee=f(Q,C[0]),re=f(Q,T[0]),J=f(Q,D[0]),le=x(x(f(y(J,te),T[1]),x(f(y(re,j),-D[1]),f(y(ae,$),R[1]))),x(f(y(re,j),C[1]),x(f(y(ee,q),-T[1]),f(y(H,O),R[1])))),fe=x(x(f(y(J,te),C[1]),x(f(y(ee,q),-D[1]),f(y(G,B),R[1]))),x(f(y(ae,$),C[1]),x(f(y(G,B),-T[1]),f(y(H,O),D[1])))),ce=y(le,fe);return ce[ce.length-1]}}function c(x,y,w,f){return function(C,T,D,R,P){var O=x(w(C[0],C[0]),x(w(C[1],C[1]),w(C[2],C[2]))),B=f(O,T[0]),q=f(O,D[0]),N=f(O,R[0]),H=f(O,P[0]),$=x(w(T[0],T[0]),x(w(T[1],T[1]),w(T[2],T[2]))),j=f($,C[0]),W=f($,D[0]),G=f($,R[0]),ae=f($,P[0]),te=x(w(D[0],D[0]),x(w(D[1],D[1]),w(D[2],D[2]))),Q=f(te,C[0]),ee=f(te,T[0]),re=f(te,R[0]),J=f(te,P[0]),le=x(w(R[0],R[0]),x(w(R[1],R[1]),w(R[2],R[2]))),fe=f(le,C[0]),ce=f(le,T[0]),ge=f(le,D[0]),Te=f(le,P[0]),Me=x(w(P[0],P[0]),x(w(P[1],P[1]),w(P[2],P[2]))),we=f(Me,C[0]),xe=f(Me,T[0]),be=f(Me,D[0]),ye=f(Me,R[0]),Se=x(x(x(f(x(f(y(ye,Te),D[1]),x(f(y(be,J),-R[1]),f(y(ge,re),P[1]))),T[2]),x(f(x(f(y(ye,Te),T[1]),x(f(y(xe,ae),-R[1]),f(y(ce,G),P[1]))),-D[2]),f(x(f(y(be,J),T[1]),x(f(y(xe,ae),-D[1]),f(y(ee,W),P[1]))),R[2]))),x(f(x(f(y(ge,re),T[1]),x(f(y(ce,G),-D[1]),f(y(ee,W),R[1]))),-P[2]),x(f(x(f(y(ye,Te),T[1]),x(f(y(xe,ae),-R[1]),f(y(ce,G),P[1]))),C[2]),f(x(f(y(ye,Te),C[1]),x(f(y(we,H),-R[1]),f(y(fe,N),P[1]))),-T[2])))),x(x(f(x(f(y(xe,ae),C[1]),x(f(y(we,H),-T[1]),f(y(j,B),P[1]))),R[2]),x(f(x(f(y(ce,G),C[1]),x(f(y(fe,N),-T[1]),f(y(j,B),R[1]))),-P[2]),f(x(f(y(ge,re),T[1]),x(f(y(ce,G),-D[1]),f(y(ee,W),R[1]))),C[2]))),x(f(x(f(y(ge,re),C[1]),x(f(y(fe,N),-D[1]),f(y(Q,q),R[1]))),-T[2]),x(f(x(f(y(ce,G),C[1]),x(f(y(fe,N),-T[1]),f(y(j,B),R[1]))),D[2]),f(x(f(y(ee,W),C[1]),x(f(y(Q,q),-T[1]),f(y(j,B),D[1]))),-R[2]))))),Ee=x(x(x(f(x(f(y(ye,Te),D[1]),x(f(y(be,J),-R[1]),f(y(ge,re),P[1]))),C[2]),f(x(f(y(ye,Te),C[1]),x(f(y(we,H),-R[1]),f(y(fe,N),P[1]))),-D[2])),x(f(x(f(y(be,J),C[1]),x(f(y(we,H),-D[1]),f(y(Q,q),P[1]))),R[2]),f(x(f(y(ge,re),C[1]),x(f(y(fe,N),-D[1]),f(y(Q,q),R[1]))),-P[2]))),x(x(f(x(f(y(be,J),T[1]),x(f(y(xe,ae),-D[1]),f(y(ee,W),P[1]))),C[2]),f(x(f(y(be,J),C[1]),x(f(y(we,H),-D[1]),f(y(Q,q),P[1]))),-T[2])),x(f(x(f(y(xe,ae),C[1]),x(f(y(we,H),-T[1]),f(y(j,B),P[1]))),D[2]),f(x(f(y(ee,W),C[1]),x(f(y(Q,q),-T[1]),f(y(j,B),D[1]))),-P[2])))),he=y(Se,Ee);return he[he.length-1]}}function b(x,y,w,f){return function(C,T,D,R,P,O){var B=x(x(w(C[0],C[0]),w(C[1],C[1])),x(w(C[2],C[2]),w(C[3],C[3]))),q=f(B,T[0]),N=f(B,D[0]),H=f(B,R[0]),$=f(B,P[0]),j=f(B,O[0]),W=x(x(w(T[0],T[0]),w(T[1],T[1])),x(w(T[2],T[2]),w(T[3],T[3]))),G=f(W,C[0]),ae=f(W,D[0]),te=f(W,R[0]),Q=f(W,P[0]),ee=f(W,O[0]),re=x(x(w(D[0],D[0]),w(D[1],D[1])),x(w(D[2],D[2]),w(D[3],D[3]))),J=f(re,C[0]),le=f(re,T[0]),fe=f(re,R[0]),ce=f(re,P[0]),ge=f(re,O[0]),Te=x(x(w(R[0],R[0]),w(R[1],R[1])),x(w(R[2],R[2]),w(R[3],R[3]))),Me=f(Te,C[0]),we=f(Te,T[0]),xe=f(Te,D[0]),be=f(Te,P[0]),ye=f(Te,O[0]),Se=x(x(w(P[0],P[0]),w(P[1],P[1])),x(w(P[2],P[2]),w(P[3],P[3]))),Ee=f(Se,C[0]),he=f(Se,T[0]),ue=f(Se,D[0]),me=f(Se,R[0]),Pe=f(Se,O[0]),Ce=x(x(w(O[0],O[0]),w(O[1],O[1])),x(w(O[2],O[2]),w(O[3],O[3]))),Ie=f(Ce,C[0]),Oe=f(Ce,T[0]),ze=f(Ce,D[0]),je=f(Ce,R[0]),ve=f(Ce,P[0]),Ae=x(x(x(f(x(x(f(x(f(y(ve,Pe),R[1]),x(f(y(je,ye),-P[1]),f(y(me,be),O[1]))),D[2]),f(x(f(y(ve,Pe),D[1]),x(f(y(ze,ge),-P[1]),f(y(ue,ce),O[1]))),-R[2])),x(f(x(f(y(je,ye),D[1]),x(f(y(ze,ge),-R[1]),f(y(xe,fe),O[1]))),P[2]),f(x(f(y(me,be),D[1]),x(f(y(ue,ce),-R[1]),f(y(xe,fe),P[1]))),-O[2]))),T[3]),x(f(x(x(f(x(f(y(ve,Pe),R[1]),x(f(y(je,ye),-P[1]),f(y(me,be),O[1]))),T[2]),f(x(f(y(ve,Pe),T[1]),x(f(y(Oe,ee),-P[1]),f(y(he,Q),O[1]))),-R[2])),x(f(x(f(y(je,ye),T[1]),x(f(y(Oe,ee),-R[1]),f(y(we,te),O[1]))),P[2]),f(x(f(y(me,be),T[1]),x(f(y(he,Q),-R[1]),f(y(we,te),P[1]))),-O[2]))),-D[3]),f(x(x(f(x(f(y(ve,Pe),D[1]),x(f(y(ze,ge),-P[1]),f(y(ue,ce),O[1]))),T[2]),f(x(f(y(ve,Pe),T[1]),x(f(y(Oe,ee),-P[1]),f(y(he,Q),O[1]))),-D[2])),x(f(x(f(y(ze,ge),T[1]),x(f(y(Oe,ee),-D[1]),f(y(le,ae),O[1]))),P[2]),f(x(f(y(ue,ce),T[1]),x(f(y(he,Q),-D[1]),f(y(le,ae),P[1]))),-O[2]))),R[3]))),x(x(f(x(x(f(x(f(y(je,ye),D[1]),x(f(y(ze,ge),-R[1]),f(y(xe,fe),O[1]))),T[2]),f(x(f(y(je,ye),T[1]),x(f(y(Oe,ee),-R[1]),f(y(we,te),O[1]))),-D[2])),x(f(x(f(y(ze,ge),T[1]),x(f(y(Oe,ee),-D[1]),f(y(le,ae),O[1]))),R[2]),f(x(f(y(xe,fe),T[1]),x(f(y(we,te),-D[1]),f(y(le,ae),R[1]))),-O[2]))),-P[3]),f(x(x(f(x(f(y(me,be),D[1]),x(f(y(ue,ce),-R[1]),f(y(xe,fe),P[1]))),T[2]),f(x(f(y(me,be),T[1]),x(f(y(he,Q),-R[1]),f(y(we,te),P[1]))),-D[2])),x(f(x(f(y(ue,ce),T[1]),x(f(y(he,Q),-D[1]),f(y(le,ae),P[1]))),R[2]),f(x(f(y(xe,fe),T[1]),x(f(y(we,te),-D[1]),f(y(le,ae),R[1]))),-P[2]))),O[3])),x(f(x(x(f(x(f(y(ve,Pe),R[1]),x(f(y(je,ye),-P[1]),f(y(me,be),O[1]))),T[2]),f(x(f(y(ve,Pe),T[1]),x(f(y(Oe,ee),-P[1]),f(y(he,Q),O[1]))),-R[2])),x(f(x(f(y(je,ye),T[1]),x(f(y(Oe,ee),-R[1]),f(y(we,te),O[1]))),P[2]),f(x(f(y(me,be),T[1]),x(f(y(he,Q),-R[1]),f(y(we,te),P[1]))),-O[2]))),C[3]),f(x(x(f(x(f(y(ve,Pe),R[1]),x(f(y(je,ye),-P[1]),f(y(me,be),O[1]))),C[2]),f(x(f(y(ve,Pe),C[1]),x(f(y(Ie,j),-P[1]),f(y(Ee,$),O[1]))),-R[2])),x(f(x(f(y(je,ye),C[1]),x(f(y(Ie,j),-R[1]),f(y(Me,H),O[1]))),P[2]),f(x(f(y(me,be),C[1]),x(f(y(Ee,$),-R[1]),f(y(Me,H),P[1]))),-O[2]))),-T[3])))),x(x(x(f(x(x(f(x(f(y(ve,Pe),T[1]),x(f(y(Oe,ee),-P[1]),f(y(he,Q),O[1]))),C[2]),f(x(f(y(ve,Pe),C[1]),x(f(y(Ie,j),-P[1]),f(y(Ee,$),O[1]))),-T[2])),x(f(x(f(y(Oe,ee),C[1]),x(f(y(Ie,j),-T[1]),f(y(G,q),O[1]))),P[2]),f(x(f(y(he,Q),C[1]),x(f(y(Ee,$),-T[1]),f(y(G,q),P[1]))),-O[2]))),R[3]),f(x(x(f(x(f(y(je,ye),T[1]),x(f(y(Oe,ee),-R[1]),f(y(we,te),O[1]))),C[2]),f(x(f(y(je,ye),C[1]),x(f(y(Ie,j),-R[1]),f(y(Me,H),O[1]))),-T[2])),x(f(x(f(y(Oe,ee),C[1]),x(f(y(Ie,j),-T[1]),f(y(G,q),O[1]))),R[2]),f(x(f(y(we,te),C[1]),x(f(y(Me,H),-T[1]),f(y(G,q),R[1]))),-O[2]))),-P[3])),x(f(x(x(f(x(f(y(me,be),T[1]),x(f(y(he,Q),-R[1]),f(y(we,te),P[1]))),C[2]),f(x(f(y(me,be),C[1]),x(f(y(Ee,$),-R[1]),f(y(Me,H),P[1]))),-T[2])),x(f(x(f(y(he,Q),C[1]),x(f(y(Ee,$),-T[1]),f(y(G,q),P[1]))),R[2]),f(x(f(y(we,te),C[1]),x(f(y(Me,H),-T[1]),f(y(G,q),R[1]))),-P[2]))),O[3]),f(x(x(f(x(f(y(je,ye),D[1]),x(f(y(ze,ge),-R[1]),f(y(xe,fe),O[1]))),T[2]),f(x(f(y(je,ye),T[1]),x(f(y(Oe,ee),-R[1]),f(y(we,te),O[1]))),-D[2])),x(f(x(f(y(ze,ge),T[1]),x(f(y(Oe,ee),-D[1]),f(y(le,ae),O[1]))),R[2]),f(x(f(y(xe,fe),T[1]),x(f(y(we,te),-D[1]),f(y(le,ae),R[1]))),-O[2]))),C[3]))),x(x(f(x(x(f(x(f(y(je,ye),D[1]),x(f(y(ze,ge),-R[1]),f(y(xe,fe),O[1]))),C[2]),f(x(f(y(je,ye),C[1]),x(f(y(Ie,j),-R[1]),f(y(Me,H),O[1]))),-D[2])),x(f(x(f(y(ze,ge),C[1]),x(f(y(Ie,j),-D[1]),f(y(J,N),O[1]))),R[2]),f(x(f(y(xe,fe),C[1]),x(f(y(Me,H),-D[1]),f(y(J,N),R[1]))),-O[2]))),-T[3]),f(x(x(f(x(f(y(je,ye),T[1]),x(f(y(Oe,ee),-R[1]),f(y(we,te),O[1]))),C[2]),f(x(f(y(je,ye),C[1]),x(f(y(Ie,j),-R[1]),f(y(Me,H),O[1]))),-T[2])),x(f(x(f(y(Oe,ee),C[1]),x(f(y(Ie,j),-T[1]),f(y(G,q),O[1]))),R[2]),f(x(f(y(we,te),C[1]),x(f(y(Me,H),-T[1]),f(y(G,q),R[1]))),-O[2]))),D[3])),x(f(x(x(f(x(f(y(ze,ge),T[1]),x(f(y(Oe,ee),-D[1]),f(y(le,ae),O[1]))),C[2]),f(x(f(y(ze,ge),C[1]),x(f(y(Ie,j),-D[1]),f(y(J,N),O[1]))),-T[2])),x(f(x(f(y(Oe,ee),C[1]),x(f(y(Ie,j),-T[1]),f(y(G,q),O[1]))),D[2]),f(x(f(y(le,ae),C[1]),x(f(y(J,N),-T[1]),f(y(G,q),D[1]))),-O[2]))),-R[3]),f(x(x(f(x(f(y(xe,fe),T[1]),x(f(y(we,te),-D[1]),f(y(le,ae),R[1]))),C[2]),f(x(f(y(xe,fe),C[1]),x(f(y(Me,H),-D[1]),f(y(J,N),R[1]))),-T[2])),x(f(x(f(y(we,te),C[1]),x(f(y(Me,H),-T[1]),f(y(G,q),R[1]))),D[2]),f(x(f(y(le,ae),C[1]),x(f(y(J,N),-T[1]),f(y(G,q),D[1]))),-R[2]))),O[3]))))),Le=x(x(x(f(x(x(f(x(f(y(ve,Pe),R[1]),x(f(y(je,ye),-P[1]),f(y(me,be),O[1]))),D[2]),f(x(f(y(ve,Pe),D[1]),x(f(y(ze,ge),-P[1]),f(y(ue,ce),O[1]))),-R[2])),x(f(x(f(y(je,ye),D[1]),x(f(y(ze,ge),-R[1]),f(y(xe,fe),O[1]))),P[2]),f(x(f(y(me,be),D[1]),x(f(y(ue,ce),-R[1]),f(y(xe,fe),P[1]))),-O[2]))),C[3]),x(f(x(x(f(x(f(y(ve,Pe),R[1]),x(f(y(je,ye),-P[1]),f(y(me,be),O[1]))),C[2]),f(x(f(y(ve,Pe),C[1]),x(f(y(Ie,j),-P[1]),f(y(Ee,$),O[1]))),-R[2])),x(f(x(f(y(je,ye),C[1]),x(f(y(Ie,j),-R[1]),f(y(Me,H),O[1]))),P[2]),f(x(f(y(me,be),C[1]),x(f(y(Ee,$),-R[1]),f(y(Me,H),P[1]))),-O[2]))),-D[3]),f(x(x(f(x(f(y(ve,Pe),D[1]),x(f(y(ze,ge),-P[1]),f(y(ue,ce),O[1]))),C[2]),f(x(f(y(ve,Pe),C[1]),x(f(y(Ie,j),-P[1]),f(y(Ee,$),O[1]))),-D[2])),x(f(x(f(y(ze,ge),C[1]),x(f(y(Ie,j),-D[1]),f(y(J,N),O[1]))),P[2]),f(x(f(y(ue,ce),C[1]),x(f(y(Ee,$),-D[1]),f(y(J,N),P[1]))),-O[2]))),R[3]))),x(x(f(x(x(f(x(f(y(je,ye),D[1]),x(f(y(ze,ge),-R[1]),f(y(xe,fe),O[1]))),C[2]),f(x(f(y(je,ye),C[1]),x(f(y(Ie,j),-R[1]),f(y(Me,H),O[1]))),-D[2])),x(f(x(f(y(ze,ge),C[1]),x(f(y(Ie,j),-D[1]),f(y(J,N),O[1]))),R[2]),f(x(f(y(xe,fe),C[1]),x(f(y(Me,H),-D[1]),f(y(J,N),R[1]))),-O[2]))),-P[3]),f(x(x(f(x(f(y(me,be),D[1]),x(f(y(ue,ce),-R[1]),f(y(xe,fe),P[1]))),C[2]),f(x(f(y(me,be),C[1]),x(f(y(Ee,$),-R[1]),f(y(Me,H),P[1]))),-D[2])),x(f(x(f(y(ue,ce),C[1]),x(f(y(Ee,$),-D[1]),f(y(J,N),P[1]))),R[2]),f(x(f(y(xe,fe),C[1]),x(f(y(Me,H),-D[1]),f(y(J,N),R[1]))),-P[2]))),O[3])),x(f(x(x(f(x(f(y(ve,Pe),D[1]),x(f(y(ze,ge),-P[1]),f(y(ue,ce),O[1]))),T[2]),f(x(f(y(ve,Pe),T[1]),x(f(y(Oe,ee),-P[1]),f(y(he,Q),O[1]))),-D[2])),x(f(x(f(y(ze,ge),T[1]),x(f(y(Oe,ee),-D[1]),f(y(le,ae),O[1]))),P[2]),f(x(f(y(ue,ce),T[1]),x(f(y(he,Q),-D[1]),f(y(le,ae),P[1]))),-O[2]))),C[3]),f(x(x(f(x(f(y(ve,Pe),D[1]),x(f(y(ze,ge),-P[1]),f(y(ue,ce),O[1]))),C[2]),f(x(f(y(ve,Pe),C[1]),x(f(y(Ie,j),-P[1]),f(y(Ee,$),O[1]))),-D[2])),x(f(x(f(y(ze,ge),C[1]),x(f(y(Ie,j),-D[1]),f(y(J,N),O[1]))),P[2]),f(x(f(y(ue,ce),C[1]),x(f(y(Ee,$),-D[1]),f(y(J,N),P[1]))),-O[2]))),-T[3])))),x(x(x(f(x(x(f(x(f(y(ve,Pe),T[1]),x(f(y(Oe,ee),-P[1]),f(y(he,Q),O[1]))),C[2]),f(x(f(y(ve,Pe),C[1]),x(f(y(Ie,j),-P[1]),f(y(Ee,$),O[1]))),-T[2])),x(f(x(f(y(Oe,ee),C[1]),x(f(y(Ie,j),-T[1]),f(y(G,q),O[1]))),P[2]),f(x(f(y(he,Q),C[1]),x(f(y(Ee,$),-T[1]),f(y(G,q),P[1]))),-O[2]))),D[3]),f(x(x(f(x(f(y(ze,ge),T[1]),x(f(y(Oe,ee),-D[1]),f(y(le,ae),O[1]))),C[2]),f(x(f(y(ze,ge),C[1]),x(f(y(Ie,j),-D[1]),f(y(J,N),O[1]))),-T[2])),x(f(x(f(y(Oe,ee),C[1]),x(f(y(Ie,j),-T[1]),f(y(G,q),O[1]))),D[2]),f(x(f(y(le,ae),C[1]),x(f(y(J,N),-T[1]),f(y(G,q),D[1]))),-O[2]))),-P[3])),x(f(x(x(f(x(f(y(ue,ce),T[1]),x(f(y(he,Q),-D[1]),f(y(le,ae),P[1]))),C[2]),f(x(f(y(ue,ce),C[1]),x(f(y(Ee,$),-D[1]),f(y(J,N),P[1]))),-T[2])),x(f(x(f(y(he,Q),C[1]),x(f(y(Ee,$),-T[1]),f(y(G,q),P[1]))),D[2]),f(x(f(y(le,ae),C[1]),x(f(y(J,N),-T[1]),f(y(G,q),D[1]))),-P[2]))),O[3]),f(x(x(f(x(f(y(me,be),D[1]),x(f(y(ue,ce),-R[1]),f(y(xe,fe),P[1]))),T[2]),f(x(f(y(me,be),T[1]),x(f(y(he,Q),-R[1]),f(y(we,te),P[1]))),-D[2])),x(f(x(f(y(ue,ce),T[1]),x(f(y(he,Q),-D[1]),f(y(le,ae),P[1]))),R[2]),f(x(f(y(xe,fe),T[1]),x(f(y(we,te),-D[1]),f(y(le,ae),R[1]))),-P[2]))),C[3]))),x(x(f(x(x(f(x(f(y(me,be),D[1]),x(f(y(ue,ce),-R[1]),f(y(xe,fe),P[1]))),C[2]),f(x(f(y(me,be),C[1]),x(f(y(Ee,$),-R[1]),f(y(Me,H),P[1]))),-D[2])),x(f(x(f(y(ue,ce),C[1]),x(f(y(Ee,$),-D[1]),f(y(J,N),P[1]))),R[2]),f(x(f(y(xe,fe),C[1]),x(f(y(Me,H),-D[1]),f(y(J,N),R[1]))),-P[2]))),-T[3]),f(x(x(f(x(f(y(me,be),T[1]),x(f(y(he,Q),-R[1]),f(y(we,te),P[1]))),C[2]),f(x(f(y(me,be),C[1]),x(f(y(Ee,$),-R[1]),f(y(Me,H),P[1]))),-T[2])),x(f(x(f(y(he,Q),C[1]),x(f(y(Ee,$),-T[1]),f(y(G,q),P[1]))),R[2]),f(x(f(y(we,te),C[1]),x(f(y(Me,H),-T[1]),f(y(G,q),R[1]))),-P[2]))),D[3])),x(f(x(x(f(x(f(y(ue,ce),T[1]),x(f(y(he,Q),-D[1]),f(y(le,ae),P[1]))),C[2]),f(x(f(y(ue,ce),C[1]),x(f(y(Ee,$),-D[1]),f(y(J,N),P[1]))),-T[2])),x(f(x(f(y(he,Q),C[1]),x(f(y(Ee,$),-T[1]),f(y(G,q),P[1]))),D[2]),f(x(f(y(le,ae),C[1]),x(f(y(J,N),-T[1]),f(y(G,q),D[1]))),-P[2]))),-R[3]),f(x(x(f(x(f(y(xe,fe),T[1]),x(f(y(we,te),-D[1]),f(y(le,ae),R[1]))),C[2]),f(x(f(y(xe,fe),C[1]),x(f(y(Me,H),-D[1]),f(y(J,N),R[1]))),-T[2])),x(f(x(f(y(we,te),C[1]),x(f(y(Me,H),-T[1]),f(y(G,q),R[1]))),D[2]),f(x(f(y(le,ae),C[1]),x(f(y(J,N),-T[1]),f(y(G,q),D[1]))),-R[2]))),P[3]))))),Ve=y(Ae,Le);return Ve[Ve.length-1]}}var p=[function(){return 0},function(){return 0},function(){return 0}];function m(x){var y=p[x.length];return y||(y=p[x.length]=u(x.length)),y.apply(void 0,x)}function v(x,y,w,f,C,T,D,R){return function(P,O,B,q,N,H){switch(arguments.length){case 0:case 1:return 0;case 2:return f(P,O);case 3:return C(P,O,B);case 4:return T(P,O,B,q);case 5:return D(P,O,B,q,N);case 6:return R(P,O,B,q,N,H)}for(var $=new Array(arguments.length),j=0;j<arguments.length;++j)$[j]=arguments[j];return x($)}}!function(){for(;p.length<=6;)p.push(u(p.length));d.exports=v.apply(void 0,[m].concat(p));for(var x=0;x<=6;++x)d.exports[x]=p[x]}()},727:function(d,s,t){"use strict";var i=t(2962);function n(p){return(2===p?r:3===p?o:4===p?u:5===p?l:h)(p<6?i[p]:i)}function r(p){return function(m,v){return[p([[+v[0],+m[0][1]],[+v[1],+m[1][1]]]),p([[+m[0][0],+v[0]],[+m[1][0],+v[1]]]),p(m)]}}function o(p){return function(m,v){return[p([[+v[0],+m[0][1],+m[0][2]],[+v[1],+m[1][1],+m[1][2]],[+v[2],+m[2][1],+m[2][2]]]),p([[+m[0][0],+v[0],+m[0][2]],[+m[1][0],+v[1],+m[1][2]],[+m[2][0],+v[2],+m[2][2]]]),p([[+m[0][0],+m[0][1],+v[0]],[+m[1][0],+m[1][1],+v[1]],[+m[2][0],+m[2][1],+v[2]]]),p(m)]}}function u(p){return function(m,v){return[p([[+v[0],+m[0][1],+m[0][2],+m[0][3]],[+v[1],+m[1][1],+m[1][2],+m[1][3]],[+v[2],+m[2][1],+m[2][2],+m[2][3]],[+v[3],+m[3][1],+m[3][2],+m[3][3]]]),p([[+m[0][0],+v[0],+m[0][2],+m[0][3]],[+m[1][0],+v[1],+m[1][2],+m[1][3]],[+m[2][0],+v[2],+m[2][2],+m[2][3]],[+m[3][0],+v[3],+m[3][2],+m[3][3]]]),p([[+m[0][0],+m[0][1],+v[0],+m[0][3]],[+m[1][0],+m[1][1],+v[1],+m[1][3]],[+m[2][0],+m[2][1],+v[2],+m[2][3]],[+m[3][0],+m[3][1],+v[3],+m[3][3]]]),p([[+m[0][0],+m[0][1],+m[0][2],+v[0]],[+m[1][0],+m[1][1],+m[1][2],+v[1]],[+m[2][0],+m[2][1],+m[2][2],+v[2]],[+m[3][0],+m[3][1],+m[3][2],+v[3]]]),p(m)]}}function l(p){return function(m,v){return[p([[+v[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+v[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+v[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+v[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+v[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),p([[+m[0][0],+v[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+v[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+v[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+v[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+v[4],+m[4][2],+m[4][3],+m[4][4]]]),p([[+m[0][0],+m[0][1],+v[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+v[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+v[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+v[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+v[4],+m[4][3],+m[4][4]]]),p([[+m[0][0],+m[0][1],+m[0][2],+v[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+v[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+v[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+v[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+v[4],+m[4][4]]]),p([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+v[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+v[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+v[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+v[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+v[4]]]),p(m)]}}function h(p){return function(m,v){return[p([[+v[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+v[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+v[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+v[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+v[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+v[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),p([[+m[0][0],+v[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+v[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+v[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+v[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+v[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+v[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),p([[+m[0][0],+m[0][1],+v[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+v[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+v[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+v[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+v[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+v[5],+m[5][3],+m[5][4],+m[5][5]]]),p([[+m[0][0],+m[0][1],+m[0][2],+v[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+v[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+v[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+v[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+v[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+v[5],+m[5][4],+m[5][5]]]),p([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+v[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+v[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+v[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+v[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+v[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+v[5],+m[5][5]]]),p([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+v[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+v[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+v[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+v[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+v[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+v[5]]]),p(m)]}}var c=[function(){return[[0]]},function(p,m){return[[m[0]],[p[0][0]]]}];function b(p,m,v,x,y,w,f,C){return function(T,D){switch(T.length){case 0:return p(T,D);case 1:return m(T,D);case 2:return v(T,D);case 3:return x(T,D);case 4:return y(T,D);case 5:return w(T,D)}var R=f[T.length];return R||(R=f[T.length]=C(T.length)),R(T,D)}}!function(){for(;c.length<6;)c.push(n(c.length));d.exports=b.apply(void 0,c.concat([c,n]));for(var p=0;p<6;++p)d.exports[p]=c[p]}()},3250:function(d,s,t){"use strict";var i=t(5250),n=t(8210),r=t(3012),o=t(8545);function u(y,w,f,C){return function(T,D,R){var P=y(y(w(D[1],R[0]),w(-R[1],D[0])),y(w(T[1],D[0]),w(-D[1],T[0]))),O=y(w(T[1],R[0]),w(-R[1],T[0])),B=C(P,O);return B[B.length-1]}}function l(y,w,f,C){return function(T,D,R,P){var O=y(y(f(y(w(R[1],P[0]),w(-P[1],R[0])),D[2]),y(f(y(w(D[1],P[0]),w(-P[1],D[0])),-R[2]),f(y(w(D[1],R[0]),w(-R[1],D[0])),P[2]))),y(f(y(w(D[1],P[0]),w(-P[1],D[0])),T[2]),y(f(y(w(T[1],P[0]),w(-P[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),P[2])))),B=y(y(f(y(w(R[1],P[0]),w(-P[1],R[0])),T[2]),y(f(y(w(T[1],P[0]),w(-P[1],T[0])),-R[2]),f(y(w(T[1],R[0]),w(-R[1],T[0])),P[2]))),y(f(y(w(D[1],R[0]),w(-R[1],D[0])),T[2]),y(f(y(w(T[1],R[0]),w(-R[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),R[2])))),q=C(O,B);return q[q.length-1]}}function h(y,w,f,C){return function(T,D,R,P,O){var B=y(y(y(f(y(f(y(w(P[1],O[0]),w(-O[1],P[0])),R[2]),y(f(y(w(R[1],O[0]),w(-O[1],R[0])),-P[2]),f(y(w(R[1],P[0]),w(-P[1],R[0])),O[2]))),D[3]),y(f(y(f(y(w(P[1],O[0]),w(-O[1],P[0])),D[2]),y(f(y(w(D[1],O[0]),w(-O[1],D[0])),-P[2]),f(y(w(D[1],P[0]),w(-P[1],D[0])),O[2]))),-R[3]),f(y(f(y(w(R[1],O[0]),w(-O[1],R[0])),D[2]),y(f(y(w(D[1],O[0]),w(-O[1],D[0])),-R[2]),f(y(w(D[1],R[0]),w(-R[1],D[0])),O[2]))),P[3]))),y(f(y(f(y(w(R[1],P[0]),w(-P[1],R[0])),D[2]),y(f(y(w(D[1],P[0]),w(-P[1],D[0])),-R[2]),f(y(w(D[1],R[0]),w(-R[1],D[0])),P[2]))),-O[3]),y(f(y(f(y(w(P[1],O[0]),w(-O[1],P[0])),D[2]),y(f(y(w(D[1],O[0]),w(-O[1],D[0])),-P[2]),f(y(w(D[1],P[0]),w(-P[1],D[0])),O[2]))),T[3]),f(y(f(y(w(P[1],O[0]),w(-O[1],P[0])),T[2]),y(f(y(w(T[1],O[0]),w(-O[1],T[0])),-P[2]),f(y(w(T[1],P[0]),w(-P[1],T[0])),O[2]))),-D[3])))),y(y(f(y(f(y(w(D[1],O[0]),w(-O[1],D[0])),T[2]),y(f(y(w(T[1],O[0]),w(-O[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),O[2]))),P[3]),y(f(y(f(y(w(D[1],P[0]),w(-P[1],D[0])),T[2]),y(f(y(w(T[1],P[0]),w(-P[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),P[2]))),-O[3]),f(y(f(y(w(R[1],P[0]),w(-P[1],R[0])),D[2]),y(f(y(w(D[1],P[0]),w(-P[1],D[0])),-R[2]),f(y(w(D[1],R[0]),w(-R[1],D[0])),P[2]))),T[3]))),y(f(y(f(y(w(R[1],P[0]),w(-P[1],R[0])),T[2]),y(f(y(w(T[1],P[0]),w(-P[1],T[0])),-R[2]),f(y(w(T[1],R[0]),w(-R[1],T[0])),P[2]))),-D[3]),y(f(y(f(y(w(D[1],P[0]),w(-P[1],D[0])),T[2]),y(f(y(w(T[1],P[0]),w(-P[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),P[2]))),R[3]),f(y(f(y(w(D[1],R[0]),w(-R[1],D[0])),T[2]),y(f(y(w(T[1],R[0]),w(-R[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),R[2]))),-P[3]))))),q=y(y(y(f(y(f(y(w(P[1],O[0]),w(-O[1],P[0])),R[2]),y(f(y(w(R[1],O[0]),w(-O[1],R[0])),-P[2]),f(y(w(R[1],P[0]),w(-P[1],R[0])),O[2]))),T[3]),f(y(f(y(w(P[1],O[0]),w(-O[1],P[0])),T[2]),y(f(y(w(T[1],O[0]),w(-O[1],T[0])),-P[2]),f(y(w(T[1],P[0]),w(-P[1],T[0])),O[2]))),-R[3])),y(f(y(f(y(w(R[1],O[0]),w(-O[1],R[0])),T[2]),y(f(y(w(T[1],O[0]),w(-O[1],T[0])),-R[2]),f(y(w(T[1],R[0]),w(-R[1],T[0])),O[2]))),P[3]),f(y(f(y(w(R[1],P[0]),w(-P[1],R[0])),T[2]),y(f(y(w(T[1],P[0]),w(-P[1],T[0])),-R[2]),f(y(w(T[1],R[0]),w(-R[1],T[0])),P[2]))),-O[3]))),y(y(f(y(f(y(w(R[1],O[0]),w(-O[1],R[0])),D[2]),y(f(y(w(D[1],O[0]),w(-O[1],D[0])),-R[2]),f(y(w(D[1],R[0]),w(-R[1],D[0])),O[2]))),T[3]),f(y(f(y(w(R[1],O[0]),w(-O[1],R[0])),T[2]),y(f(y(w(T[1],O[0]),w(-O[1],T[0])),-R[2]),f(y(w(T[1],R[0]),w(-R[1],T[0])),O[2]))),-D[3])),y(f(y(f(y(w(D[1],O[0]),w(-O[1],D[0])),T[2]),y(f(y(w(T[1],O[0]),w(-O[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),O[2]))),R[3]),f(y(f(y(w(D[1],R[0]),w(-R[1],D[0])),T[2]),y(f(y(w(T[1],R[0]),w(-R[1],T[0])),-D[2]),f(y(w(T[1],D[0]),w(-D[1],T[0])),R[2]))),-O[3])))),N=C(B,q);return N[N.length-1]}}function c(y){return(3===y?u:4===y?l:h)(n,i,r,o)}var b=c(3),p=c(4),m=[function(){return 0},function(){return 0},function(y,w){return w[0]-y[0]},function(y,w,f){var C,T=(y[1]-f[1])*(w[0]-f[0]),D=(y[0]-f[0])*(w[1]-f[1]),R=T-D;if(T>0){if(D<=0)return R;C=T+D}else{if(!(T<0)||D>=0)return R;C=-(T+D)}var P=33306690738754716e-32*C;return R>=P||R<=-P?R:b(y,w,f)},function(y,w,f,C){var T=y[0]-C[0],D=w[0]-C[0],R=f[0]-C[0],P=y[1]-C[1],O=w[1]-C[1],B=f[1]-C[1],q=y[2]-C[2],N=w[2]-C[2],H=f[2]-C[2],$=D*B,j=R*O,W=R*P,G=T*B,ae=T*O,te=D*P,Q=q*($-j)+N*(W-G)+H*(ae-te),ee=7771561172376103e-31*((Math.abs($)+Math.abs(j))*Math.abs(q)+(Math.abs(W)+Math.abs(G))*Math.abs(N)+(Math.abs(ae)+Math.abs(te))*Math.abs(H));return Q>ee||-Q>ee?Q:p(y,w,f,C)}];function v(y){var w=m[y.length];return w||(w=m[y.length]=c(y.length)),w.apply(void 0,y)}function x(y,w,f,C,T,D,R){return function(P,O,B,q,N){switch(arguments.length){case 0:case 1:return 0;case 2:return C(P,O);case 3:return T(P,O,B);case 4:return D(P,O,B,q);case 5:return R(P,O,B,q,N)}for(var H=new Array(arguments.length),$=0;$<arguments.length;++$)H[$]=arguments[$];return y(H)}}!function(){for(;m.length<=5;)m.push(c(m.length));d.exports=x.apply(void 0,[v].concat(m));for(var y=0;y<=5;++y)d.exports[y]=m[y]}()},5382:function(d,s,t){"use strict";var i=t(8210),n=t(3012);d.exports=function(r,o){if(1===r.length)return n(o,r[0]);if(1===o.length)return n(r,o[0]);if(0===r.length||0===o.length)return[0];var u=[0];if(r.length<o.length)for(var l=0;l<r.length;++l)u=i(u,n(o,r[l]));else for(l=0;l<o.length;++l)u=i(u,n(r,o[l]));return u}},3012:function(d,s,t){"use strict";var i=t(5250),n=t(9362);d.exports=function(r,o){var u=r.length;if(1===u){var l=i(r[0],o);return l[0]?l:[l[1]]}var h=new Array(2*u),c=[.1,.1],b=[.1,.1],p=0;i(r[0],o,c),c[0]&&(h[p++]=c[0]);for(var m=1;m<u;++m){i(r[m],o,b),n(c[1],b[0],c),c[0]&&(h[p++]=c[0]);var x=b[1],y=c[1],w=x+y,f=y-(w-x);c[1]=w,f&&(h[p++]=f)}return c[1]&&(h[p++]=c[1]),0===p&&(h[p++]=0),h.length=p,h}},1125:function(d,s,t){"use strict";d.exports=function(n,r,o,u){var l=i(n,o,u),h=i(r,o,u);if(l>0&&h>0||l<0&&h<0)return!1;var c=i(o,n,r),b=i(u,n,r);return!(c>0&&b>0||c<0&&b<0)&&(0!==l||0!==h||0!==c||0!==b||function(p,m,v,x){for(var y=0;y<2;++y){var w=p[y],f=m[y],C=Math.min(w,f),T=Math.max(w,f),D=v[y],R=x[y],P=Math.min(D,R);if(Math.max(D,R)<C||T<P)return!1}return!0}(n,r,o,u))};var i=t(3250)[3]},8545:function(d){"use strict";d.exports=function(s,t){var P,O,B,q,N,i=0|s.length,n=0|t.length;if(1===i&&1===n)return(N=(P=s[0])-((B=P+(O=-t[0]))-(q=B-P))+(O-q))?[N,B]:[B];var r,o,u=new Array(i+n),l=0,h=0,c=0,b=Math.abs,p=s[h],m=b(p),v=-t[c],x=b(v);m<x?(o=p,(h+=1)<i&&(m=b(p=s[h]))):(o=v,(c+=1)<n&&(x=b(v=-t[c]))),h<i&&m<x||c>=n?(r=p,(h+=1)<i&&(m=b(p=s[h]))):(r=v,(c+=1)<n&&(x=b(v=-t[c])));for(var y,w,f=r+o,C=f-r,T=o-C,D=T,R=f;h<i&&c<n;)m<x?(r=p,(h+=1)<i&&(m=b(p=s[h]))):(r=v,(c+=1)<n&&(x=b(v=-t[c]))),(T=(o=D)-(C=(f=r+o)-r))&&(u[l++]=T),D=R-((y=R+f)-(w=y-R))+(f-w),R=y;for(;h<i;)(T=(o=D)-(C=(f=(r=p)+o)-r))&&(u[l++]=T),D=R-((y=R+f)-(w=y-R))+(f-w),R=y,(h+=1)<i&&(p=s[h]);for(;c<n;)(T=(o=D)-(C=(f=(r=v)+o)-r))&&(u[l++]=T),D=R-((y=R+f)-(w=y-R))+(f-w),R=y,(c+=1)<n&&(v=-t[c]);return D&&(u[l++]=D),R&&(u[l++]=R),l||(u[l++]=0),u.length=l,u}},8210:function(d){"use strict";d.exports=function(s,t){var P,O,B,q,N,i=0|s.length,n=0|t.length;if(1===i&&1===n)return(N=(P=s[0])-((B=P+(O=t[0]))-(q=B-P))+(O-q))?[N,B]:[B];var r,o,u=new Array(i+n),l=0,h=0,c=0,b=Math.abs,p=s[h],m=b(p),v=t[c],x=b(v);m<x?(o=p,(h+=1)<i&&(m=b(p=s[h]))):(o=v,(c+=1)<n&&(x=b(v=t[c]))),h<i&&m<x||c>=n?(r=p,(h+=1)<i&&(m=b(p=s[h]))):(r=v,(c+=1)<n&&(x=b(v=t[c])));for(var y,w,f=r+o,C=f-r,T=o-C,D=T,R=f;h<i&&c<n;)m<x?(r=p,(h+=1)<i&&(m=b(p=s[h]))):(r=v,(c+=1)<n&&(x=b(v=t[c]))),(T=(o=D)-(C=(f=r+o)-r))&&(u[l++]=T),D=R-((y=R+f)-(w=y-R))+(f-w),R=y;for(;h<i;)(T=(o=D)-(C=(f=(r=p)+o)-r))&&(u[l++]=T),D=R-((y=R+f)-(w=y-R))+(f-w),R=y,(h+=1)<i&&(p=s[h]);for(;c<n;)(T=(o=D)-(C=(f=(r=v)+o)-r))&&(u[l++]=T),D=R-((y=R+f)-(w=y-R))+(f-w),R=y,(c+=1)<n&&(v=t[c]);return D&&(u[l++]=D),R&&(u[l++]=R),l||(u[l++]=0),u.length=l,u}},9127:function(d,s,t){"use strict";d.exports=function(r){return n(i(r))};var i=t(6204),n=t(5771)},7765:function(d,s,t){"use strict";d.exports=function(u,l,h,c){if(h=h||0,void 0===c&&(c=function(f){for(var C=f.length,T=0,D=0;D<C;++D)T=0|Math.max(T,f[D].length);return T-1}(u)),0===u.length||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var b=function(f,C){for(var T=f.length,D=n.mallocUint8(T),R=0;R<T;++R)D[R]=f[R]<C|0;return D}(l,+h),p=function(f,C){for(var T=f.length,R=n.mallocUint32(2*(C*(C+1)/2*T|0)),P=0,O=0;O<T;++O)for(var B=f[O],q=(C=B.length,0);q<C;++q)for(var N=0;N<q;++N){var H=B[N],$=B[q];R[P++]=0|Math.min(H,$),R[P++]=0|Math.max(H,$)}r(i(R,[P/2|0,2]));var j=2;for(O=2;O<P;O+=2)R[O-2]===R[O]&&R[O-1]===R[O+1]||(R[j++]=R[O],R[j++]=R[O+1]);return i(R,[j/2|0,2])}(u,c),m=function(f,C,T,D){for(var R=f.data,P=f.shape[0],O=n.mallocDouble(P),B=0,q=0;q<P;++q){var N=R[2*q],H=R[2*q+1];if(T[N]!==T[H]){var $=C[N],j=C[H];R[2*B]=N,R[2*B+1]=H,O[B++]=(j-D)/(j-$)}}return f.shape[0]=B,i(O,[B])}(p,l,b,+h),v=function(f,C){var T=n.mallocInt32(2*C),D=f.shape[0],R=f.data;T[0]=0;for(var P=0,O=0;O<D;++O){var B=R[2*O];if(B!==P){for(T[2*P+1]=O;++P<B;)T[2*P]=O,T[2*P+1]=O;T[2*P]=O}}for(T[2*P+1]=D;++P<C;)T[2*P]=T[2*P+1]=D;return T}(p,0|l.length),x=o(c)(u,p.data,v,b),y=function(f){for(var C=0|f.shape[0],T=f.data,D=new Array(C),R=0;R<C;++R)D[R]=[T[2*R],T[2*R+1]];return D}(p),w=[].slice.call(m.data,0,m.shape[0]);return n.free(b),n.free(p.data),n.free(m.data),n.free(v),{cells:x,vertexIds:y,vertexWeights:w}};var i=t(9618),n=t(1888),r=t(446),o=t(1570)},1570:function(d){"use strict";d.exports=function(t){return s[t]()};var s=[function(){return function(t,i,n,r){for(var o=t.length,u=0;u<o;++u);return[]}},function(){function t(i,n,r,o){for(var u=0|Math.min(r,o),l=0|Math.max(r,o),h=i[2*u],c=i[2*u+1];h<c;){var b=h+c>>1,p=n[2*b+1];if(p===l)return b;l<p?c=b:h=b+1}return h}return function(i,n,r,o){for(var u=i.length,l=[],h=0;h<u;++h){var c=i[h];if(2===c.length){var b=(o[c[0]]<<0)+(o[c[1]]<<1);if(0===b||3===b)continue;switch(b){case 0:case 3:break;case 1:l.push([t(r,n,c[0],c[1])]);break;case 2:l.push([t(r,n,c[1],c[0])])}}}return l}},function(){function t(i,n,r,o){for(var u=0|Math.min(r,o),l=0|Math.max(r,o),h=i[2*u],c=i[2*u+1];h<c;){var b=h+c>>1,p=n[2*b+1];if(p===l)return b;l<p?c=b:h=b+1}return h}return function(i,n,r,o){for(var u=i.length,l=[],h=0;h<u;++h){var c=i[h],b=c.length;if(3===b){if(0==(p=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))||7===p)continue;switch(p){case 0:case 7:break;case 1:l.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:l.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:l.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:l.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:l.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:l.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(2===b){var p;if(0==(p=(o[c[0]]<<0)+(o[c[1]]<<1))||3===p)continue;switch(p){case 0:case 3:break;case 1:l.push([t(r,n,c[0],c[1])]);break;case 2:l.push([t(r,n,c[1],c[0])])}}}return l}},function(){function t(i,n,r,o){for(var u=0|Math.min(r,o),l=0|Math.max(r,o),h=i[2*u],c=i[2*u+1];h<c;){var b=h+c>>1,p=n[2*b+1];if(p===l)return b;l<p?c=b:h=b+1}return h}return function(i,n,r,o){for(var u=i.length,l=[],h=0;h<u;++h){var c=i[h],b=c.length;if(4===b){if(0==(p=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2)+(o[c[3]]<<3))||15===p)continue;switch(p){case 0:case 15:break;case 1:l.push([t(r,n,c[0],c[1]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])]);break;case 2:l.push([t(r,n,c[1],c[2]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])]);break;case 3:l.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])],[t(r,n,c[1],c[3]),t(r,n,c[1],c[2]),t(r,n,c[0],c[3])]);break;case 4:l.push([t(r,n,c[2],c[0]),t(r,n,c[2],c[1]),t(r,n,c[2],c[3])]);break;case 5:l.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[0],c[3])],[t(r,n,c[2],c[1]),t(r,n,c[2],c[3]),t(r,n,c[0],c[3])]);break;case 6:l.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])],[t(r,n,c[2],c[3]),t(r,n,c[2],c[0]),t(r,n,c[1],c[3])]);break;case 7:l.push([t(r,n,c[0],c[3]),t(r,n,c[1],c[3]),t(r,n,c[2],c[3])]);break;case 8:l.push([t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[3],c[2])]);break;case 9:l.push([t(r,n,c[3],c[1]),t(r,n,c[0],c[1]),t(r,n,c[0],c[2])],[t(r,n,c[3],c[2]),t(r,n,c[3],c[1]),t(r,n,c[0],c[2])]);break;case 10:l.push([t(r,n,c[1],c[0]),t(r,n,c[3],c[0]),t(r,n,c[1],c[2])],[t(r,n,c[3],c[0]),t(r,n,c[3],c[2]),t(r,n,c[1],c[2])]);break;case 11:l.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[3],c[2])]);break;case 12:l.push([t(r,n,c[3],c[0]),t(r,n,c[2],c[0]),t(r,n,c[2],c[1])],[t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[2],c[1])]);break;case 13:l.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[3],c[1])]);break;case 14:l.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[3],c[0])])}}else if(3===b){if(0==(p=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))||7===p)continue;switch(p){case 0:case 7:break;case 1:l.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:l.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:l.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:l.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:l.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:l.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(2===b){var p;if(0==(p=(o[c[0]]<<0)+(o[c[1]]<<1))||3===p)continue;switch(p){case 0:case 3:break;case 1:l.push([t(r,n,c[0],c[1])]);break;case 2:l.push([t(r,n,c[1],c[0])])}}}return l}}]},6803:function(d,s,t){"use strict";t(8828),t(1755),s.Fw=function i(n,r){var o=n.length,u=n.length-r.length,l=Math.min;if(u)return u;switch(o){case 0:return 0;case 1:return n[0]-r[0];case 2:return(b=n[0]+n[1]-r[0]-r[1])||l(n[0],n[1])-l(r[0],r[1]);case 3:var h=n[0]+n[1],c=r[0]+r[1];if(b=h+n[2]-(c+r[2]))return b;var b,p=l(n[0],n[1]),m=l(r[0],r[1]);return(b=l(p,n[2])-l(m,r[2]))||l(p+n[2],h)-l(m+r[2],c);default:var v=n.slice(0);v.sort();var x=r.slice(0);x.sort();for(var y=0;y<o;++y)if(u=v[y]-x[y])return u;return 0}}},3105:function(d,s){"use strict";function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(n){return(n>0)-(n<0)},s.abs=function(n){var r=n>>31;return(n^r)-r},s.min=function(n,r){return r^(n^r)&-(n<r)},s.max=function(n,r){return n^(n^r)&-(n<r)},s.isPow2=function(n){return!(n&n-1||!n)},s.log2=function(n){var r,o;return r=(n>65535)<<4,r|=o=((n>>>=r)>255)<<3,r|=o=((n>>>=o)>15)<<2,(r|=o=((n>>>=o)>3)<<1)|(n>>>=o)>>1},s.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},s.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(n){return n+=0===n,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},s.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},s.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var o=r,u=r,l=7;for(o>>>=1;o;o>>>=1)u<<=1,u|=1&o,--l;n[r]=u<<l&255}})(i),s.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},s.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},s.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},s.interleave3=function(n,r,o){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},s.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},2014:function(d,s,t){"use strict";var i=t(3105),n=t(4623);function r(p,m){var v=p.length,x=p.length-m.length,y=Math.min;if(x)return x;switch(v){case 0:return 0;case 1:return p[0]-m[0];case 2:return(C=p[0]+p[1]-m[0]-m[1])||y(p[0],p[1])-y(m[0],m[1]);case 3:var w=p[0]+p[1],f=m[0]+m[1];if(C=w+p[2]-(f+m[2]))return C;var C,T=y(p[0],p[1]),D=y(m[0],m[1]);return(C=y(T,p[2])-y(D,m[2]))||y(T+p[2],w)-y(D+m[2],f);default:var R=p.slice(0);R.sort();var P=m.slice(0);P.sort();for(var O=0;O<v;++O)if(x=R[O]-P[O])return x;return 0}}function o(p,m){return r(p[0],m[0])}function u(p,m){if(m){for(var v=p.length,x=new Array(v),y=0;y<v;++y)x[y]=[p[y],m[y]];for(x.sort(o),y=0;y<v;++y)p[y]=x[y][0],m[y]=x[y][1];return p}return p.sort(r),p}function l(p){if(0===p.length)return[];for(var m=1,v=p.length,x=1;x<v;++x){var y=p[x];if(r(y,p[x-1])){if(x===m){m++;continue}p[m++]=y}}return p.length=m,p}function h(p,m){for(var v=0,x=p.length-1,y=-1;v<=x;){var w=v+x>>1,f=r(p[w],m);f<=0?(0===f&&(y=w),v=w+1):f>0&&(x=w-1)}return y}function c(p,m){for(var v=new Array(p.length),x=0,y=v.length;x<y;++x)v[x]=[];for(var w=[],f=(x=0,m.length);x<f;++x)for(var C=m[x],T=C.length,D=1,R=1<<T;D<R;++D){w.length=i.popCount(D);for(var P=0,O=0;O<T;++O)D&1<<O&&(w[P++]=C[O]);var B=h(p,w);if(!(B<0))for(;v[B++].push(x),!(B>=p.length||0!==r(p[B],w)););}return v}function b(p,m){if(m<0)return[];for(var v=[],x=(1<<m+1)-1,y=0;y<p.length;++y)for(var w=p[y],f=x;f<1<<w.length;f=i.nextCombination(f)){for(var C=new Array(m+1),T=0,D=0;D<w.length;++D)f&1<<D&&(C[T++]=w[D]);v.push(C)}return u(v)}s.dimension=function(p){for(var m=0,v=Math.max,x=0,y=p.length;x<y;++x)m=v(m,p[x].length);return m-1},s.countVertices=function(p){for(var m=-1,v=Math.max,x=0,y=p.length;x<y;++x)for(var w=p[x],f=0,C=w.length;f<C;++f)m=v(m,w[f]);return m+1},s.cloneCells=function(p){for(var m=new Array(p.length),v=0,x=p.length;v<x;++v)m[v]=p[v].slice(0);return m},s.compareCells=r,s.normalize=u,s.unique=l,s.findCell=h,s.incidence=c,s.dual=function(p,m){if(!m)return c(l(b(p,0)),p);for(var v=new Array(m),x=0;x<m;++x)v[x]=[];x=0;for(var y=p.length;x<y;++x)for(var w=p[x],f=0,C=w.length;f<C;++f)v[w[f]].push(x);return v},s.explode=function(p){for(var m=[],v=0,x=p.length;v<x;++v)for(var y=p[v],w=0|y.length,f=1,C=1<<w;f<C;++f){for(var T=[],D=0;D<w;++D)f>>>D&1&&T.push(y[D]);m.push(T)}return u(m)},s.skeleton=b,s.boundary=function(p){for(var m=[],v=0,x=p.length;v<x;++v)for(var y=p[v],w=0,f=y.length;w<f;++w){for(var C=new Array(y.length-1),T=0,D=0;T<f;++T)T!==w&&(C[D++]=y[T]);m.push(C)}return u(m)},s.connectedComponents=function(p,m){return m?function(v,x){for(var y=new n(x),w=0;w<v.length;++w)for(var f=v[w],C=0;C<f.length;++C)for(var T=C+1;T<f.length;++T)y.link(f[C],f[T]);var D=[],R=y.ranks;for(w=0;w<R.length;++w)R[w]=-1;for(w=0;w<v.length;++w){var P=y.find(v[w][0]);R[P]<0?(R[P]=D.length,D.push([v[w].slice(0)])):D[R[P]].push(v[w].slice(0))}return D}(p,m):function(v){for(var x=l(u(b(v,0))),y=new n(x.length),w=0;w<v.length;++w)for(var f=v[w],C=0;C<f.length;++C)for(var T=h(x,[f[C]]),D=C+1;D<f.length;++D)y.link(T,h(x,[f[D]]));var R=[],P=y.ranks;for(w=0;w<P.length;++w)P[w]=-1;for(w=0;w<v.length;++w){var O=y.find(h(x,[v[w][0]]));P[O]<0?(P[O]=R.length,R.push([v[w].slice(0)])):R[P[O]].push(v[w].slice(0))}return R}(p)}},4623:function(d){"use strict";function s(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}d.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},s.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var n=i[t];i[t]=i[n],t=n}return t},s.prototype.link=function(t,i){var n=this.find(t),r=this.find(i);if(n!==r){var o=this.ranks,u=this.roots,l=o[n],h=o[r];l<h?u[n]=r:h<l?u[r]=n:(u[r]=n,++o[n])}}},5878:function(d,s,t){"use strict";d.exports=function(r,o,u){for(var l=o.length,h=r.length,c=new Array(l),b=new Array(l),p=new Array(l),m=new Array(l),v=0;v<l;++v)c[v]=b[v]=-1,p[v]=1/0,m[v]=!1;for(v=0;v<h;++v){var x=r[v];if(2!==x.length)throw new Error("Input must be a graph");var y=x[1],w=x[0];b[w]=-1!==b[w]?-2:y,c[y]=-1!==c[y]?-2:w}function f(te){if(m[te])return 1/0;var ee,re,J=c[te],le=b[te];return J<0||le<0?1/0:(ee=o[J],re=o[le],Math.abs(i(o[te],ee,re))/Math.sqrt(Math.pow(ee[0]-re[0],2)+Math.pow(ee[1]-re[1],2)))}function C(te,Q){var ee=N[te],re=N[Q];N[te]=re,N[Q]=ee,H[ee]=Q,H[re]=te}function T(te){return p[N[te]]}function D(te){return 1&te?te-1>>1:(te>>1)-1}function R(te){for(var Q=T(te);;){var ee=Q,re=2*te+1,J=2*(te+1),le=te;if(re<$){var fe=T(re);fe<ee&&(le=re,ee=fe)}if(J<$&&T(J)<ee&&(le=J),le===te)return te;C(te,le),te=le}}function P(te){for(var Q=T(te);te>0;){var ee=D(te);if(!(ee>=0&&Q<T(ee)))return te;C(te,ee),te=ee}}function O(){if($>0){var te=N[0];return C(0,$-1),$-=1,R(0),te}return-1}function B(te,Q){var ee=N[te];return p[ee]===Q?te:(p[ee]=-1/0,P(te),O(),p[ee]=Q,P(($+=1)-1))}function q(te){if(!m[te]){m[te]=!0;var Q=c[te],ee=b[te];c[ee]>=0&&(c[ee]=Q),b[Q]>=0&&(b[Q]=ee),H[Q]>=0&&B(H[Q],f(Q)),H[ee]>=0&&B(H[ee],f(ee))}}var N=[],H=new Array(l);for(v=0;v<l;++v)(p[v]=f(v))<1/0?(H[v]=N.length,N.push(v)):H[v]=-1;var $=N.length;for(v=$>>1;v>=0;--v)R(v);for(;;){var j=O();if(j<0||p[j]>u)break;q(j)}var W=[];for(v=0;v<l;++v)m[v]||(H[v]=W.length,W.push(o[v].slice()));function G(te,Q){if(te[Q]<0)return Q;var ee=Q,re=Q;do{var J=te[re];if(!m[re]||J<0||J===re||(J=te[re=J],!m[re]||J<0||J===re))break;re=J,ee=te[ee]}while(ee!==re);for(var le=Q;le!==re;le=te[le])te[le]=re;return re}var ae=[];return r.forEach(function(te){var Q=G(c,te[0]),ee=G(b,te[1]);if(Q>=0&&ee>=0&&Q!==ee){var re=H[Q],J=H[ee];re!==J&&ae.push([re,J])}}),n.unique(n.normalize(ae)),{positions:W,edges:ae}};var i=t(3250),n=t(2014)},1303:function(d,s,t){"use strict";d.exports=function(r,o){var u,l,h,c;if(o[0][0]<o[1][0])u=o[0],l=o[1];else{if(!(o[0][0]>o[1][0]))return n(o,r);u=o[1],l=o[0]}if(r[0][0]<r[1][0])h=r[0],c=r[1];else{if(!(r[0][0]>r[1][0]))return-n(r,o);h=r[1],c=r[0]}var b=i(u,l,c),p=i(u,l,h);if(b<0){if(p<=0)return b}else if(b>0){if(p>=0)return b}else if(p)return p;if(b=i(c,h,l),p=i(c,h,u),b<0){if(p<=0)return b}else if(b>0){if(p>=0)return b}else if(p)return p;return l[0]-c[0]};var i=t(3250);function n(r,o){var u,l,h,c;if(o[0][0]<o[1][0])u=o[0],l=o[1];else{if(!(o[0][0]>o[1][0])){var b=Math.min(r[0][1],r[1][1]),p=Math.max(r[0][1],r[1][1]),m=Math.min(o[0][1],o[1][1]),v=Math.max(o[0][1],o[1][1]);return p<m?p-m:b>v?b-v:p-v}u=o[1],l=o[0]}r[0][1]<r[1][1]?(h=r[0],c=r[1]):(h=r[1],c=r[0]);var x=i(l,u,h);return x||(x=i(l,u,c))||c-l}},4209:function(d,s,t){"use strict";d.exports=function(p){for(var m=p.length,v=2*m,x=new Array(v),y=0;y<m;++y){var w=p[y],f=w[0][0]<w[1][0];x[2*y]=new b(w[0][0],w,f,y),x[2*y+1]=new b(w[1][0],w,!f,y)}x.sort(function(q,N){var H=q.x-N.x;return H||(H=q.create-N.create)||Math.min(q.segment[0][1],q.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});var C=n(o),T=[],D=[],R=[];for(y=0;y<v;){for(var P=x[y].x,O=[];y<v;){var B=x[y];if(B.x!==P)break;y+=1,B.segment[0][0]===B.x&&B.segment[1][0]===B.x?B.create&&(B.segment[0][1]<B.segment[1][1]?(O.push(new c(B.segment[0][1],B.index,!0,!0)),O.push(new c(B.segment[1][1],B.index,!1,!1))):(O.push(new c(B.segment[1][1],B.index,!0,!1)),O.push(new c(B.segment[0][1],B.index,!1,!0)))):C=B.create?C.insert(B.segment,B.index):C.remove(B.segment)}T.push(C.root),D.push(P),R.push(O)}return new u(T,D,R)};var i=t(2478),n=t(3840),r=t(3250),o=t(1303);function u(p,m,v){this.slabs=p,this.coordinates=m,this.horizontal=v}function l(p,m){return p.y-m}function h(p,m){for(var v=null;p;){var x,y,w=p.key;w[0][0]<w[1][0]?(x=w[0],y=w[1]):(x=w[1],y=w[0]);var f=r(x,y,m);if(f<0)p=p.left;else if(f>0)if(m[0]!==w[1][0])v=p,p=p.right;else{if(C=h(p.right,m))return C;p=p.left}else{if(m[0]!==w[1][0])return p;var C;if(C=h(p.right,m))return C;p=p.left}}return v}function c(p,m,v,x){this.y=p,this.index=m,this.start=v,this.closed=x}function b(p,m,v,x){this.x=p,this.segment=m,this.create=v,this.index=x}u.prototype.castUp=function(p){var m=i.le(this.coordinates,p[0]);if(m<0)return-1;var v=h(this.slabs[m],p),x=-1;if(v&&(x=v.value),this.coordinates[m]===p[0]){var y=null;if(v&&(y=v.key),m>0){var w=h(this.slabs[m-1],p);w&&(y?o(w.key,y)>0&&(y=w.key,x=w.value):(x=w.value,y=w.key))}var f=this.horizontal[m];if(f.length>0){var C=i.ge(f,p[1],l);if(C<f.length){var T=f[C];if(p[1]===T.y){if(T.closed)return T.index;for(;C<f.length-1&&f[C+1].y===p[1];)if((T=f[C+=1]).closed)return T.index;if(T.y===p[1]&&!T.start){if((C+=1)>=f.length)return x;T=f[C]}}if(T.start)if(y){var D=r(y[0],y[1],[p[0],T.y]);y[0][0]>y[1][0]&&(D=-D),D>0&&(x=T.index)}else x=T.index;else T.y!==p[1]&&(x=T.index)}}}return x}},5202:function(d,s,t){"use strict";var i=t(1944),n=t(8210);function r(u,l){var h=n(i(u,l),[l[l.length-1]]);return h[h.length-1]}function o(u,l,h,c){var b=-l/(c-l);b<0?b=0:b>1&&(b=1);for(var p=1-b,m=u.length,v=new Array(m),x=0;x<m;++x)v[x]=b*u[x]+p*h[x];return v}d.exports=function(u,l){for(var h=[],c=[],b=r(u[u.length-1],l),p=u[u.length-1],m=u[0],v=0;v<u.length;++v,p=m){var x=r(m=u[v],l);if(b<0&&x>0||b>0&&x<0){var y=o(p,x,m,b);h.push(y),c.push(y.slice())}x<0?c.push(m.slice()):x>0?h.push(m.slice()):(h.push(m.slice()),c.push(m.slice())),b=x}return{positive:h,negative:c}},d.exports.positive=function(u,l){for(var h=[],c=r(u[u.length-1],l),b=u[u.length-1],p=u[0],m=0;m<u.length;++m,b=p){var v=r(p=u[m],l);(c<0&&v>0||c>0&&v<0)&&h.push(o(b,v,p,c)),v>=0&&h.push(p.slice()),c=v}return h},d.exports.negative=function(u,l){for(var h=[],c=r(u[u.length-1],l),b=u[u.length-1],p=u[0],m=0;m<u.length;++m,b=p){var v=r(p=u[m],l);(c<0&&v>0||c>0&&v<0)&&h.push(o(b,v,p,c)),v<=0&&h.push(p.slice()),c=v}return h}},3387:function(d,s,t){var i;!function(){"use strict";var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(l){return function(h,c){var b,p,m,v,x,y,w,f,C,T=1,D=h.length,R="";for(p=0;p<D;p++)if("string"==typeof h[p])R+=h[p];else if("object"==typeof h[p]){if((v=h[p]).keys)for(b=c[T],m=0;m<v.keys.length;m++){if(null==b)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',v.keys[m],v.keys[m-1]));b=b[v.keys[m]]}else b=v.param_no?c[v.param_no]:c[T++];if(n.not_type.test(v.type)&&n.not_primitive.test(v.type)&&b instanceof Function&&(b=b()),n.numeric_arg.test(v.type)&&"number"!=typeof b&&isNaN(b))throw new TypeError(r("[sprintf] expecting number but found %T",b));switch(n.number.test(v.type)&&(f=b>=0),v.type){case"b":b=parseInt(b,10).toString(2);break;case"c":b=String.fromCharCode(parseInt(b,10));break;case"d":case"i":b=parseInt(b,10);break;case"j":b=JSON.stringify(b,null,v.width?parseInt(v.width):0);break;case"e":b=v.precision?parseFloat(b).toExponential(v.precision):parseFloat(b).toExponential();break;case"f":b=v.precision?parseFloat(b).toFixed(v.precision):parseFloat(b);break;case"g":b=v.precision?String(Number(b.toPrecision(v.precision))):parseFloat(b);break;case"o":b=(parseInt(b,10)>>>0).toString(8);break;case"s":b=String(b),b=v.precision?b.substring(0,v.precision):b;break;case"t":b=String(!!b),b=v.precision?b.substring(0,v.precision):b;break;case"T":b=Object.prototype.toString.call(b).slice(8,-1).toLowerCase(),b=v.precision?b.substring(0,v.precision):b;break;case"u":b=parseInt(b,10)>>>0;break;case"v":b=b.valueOf(),b=v.precision?b.substring(0,v.precision):b;break;case"x":b=(parseInt(b,10)>>>0).toString(16);break;case"X":b=(parseInt(b,10)>>>0).toString(16).toUpperCase()}n.json.test(v.type)?R+=b:(!n.number.test(v.type)||f&&!v.sign?C="":(C=f?"+":"-",b=b.toString().replace(n.sign,"")),y=v.pad_char?"0"===v.pad_char?"0":v.pad_char.charAt(1):" ",w=v.width-(C+b).length,x=v.width&&w>0?y.repeat(w):"",R+=v.align?C+b+x:"0"===y?C+x+b:x+C+b)}return R}(function(h){if(u[h])return u[h];for(var c,b=h,p=[],m=0;b;){if(null!==(c=n.text.exec(b)))p.push(c[0]);else if(null!==(c=n.modulo.exec(b)))p.push("%");else{if(null===(c=n.placeholder.exec(b)))throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){m|=1;var v=[],x=c[2],y=[];if(null===(y=n.key.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(v.push(y[1]);""!==(x=x.substring(y[0].length));)if(null!==(y=n.key_access.exec(x)))v.push(y[1]);else{if(null===(y=n.index_access.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");v.push(y[1])}c[2]=v}else m|=2;if(3===m)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");p.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}b=b.substring(c[0].length)}return u[h]=p}(l),arguments)}function o(l,h){return r.apply(null,[l].concat(h||[]))}var u=Object.create(null);s.sprintf=r,s.vsprintf=o,typeof window<"u"&&(window.sprintf=r,window.vsprintf=o,void 0===(i=function(){return{sprintf:r,vsprintf:o}}.call(s,t,s,d))||(d.exports=i))}()},3711:function(d,s,t){"use strict";d.exports=function(u,l){if(u.dimension<=0)return{positions:[],cells:[]};if(1===u.dimension)return function(b,p){for(var m=n(b,p),v=m.length,x=new Array(v),y=new Array(v),w=0;w<v;++w)x[w]=[m[w]],y[w]=[w];return{positions:x,cells:y}}(u,l);var h=u.order.join()+"-"+u.dtype,c=o[h];return l=+l||0,c||(c=o[h]=function(b,p){var v=r[b.length+"d"];if(v)return v(i,b,p)}(u.order,u.dtype)),c(u,l)};var i=t(2640),n=t(781),r={"2d":function(u,l,h){var c=u({order:l,scalarArguments:3,getters:"generic"===h?[0]:void 0,phase:function(b,p,m,v){return b>v|0},vertex:function(b,p,m,v,x,y,w,f,C,T,D,R,P){var O=(w<<0)+(f<<1)+(C<<2)+(T<<3)|0;if(0!==O&&15!==O)switch(O){case 0:case 15:D.push([b-.5,p-.5]);break;case 1:D.push([b-.25-.25*(v+m-2*P)/(m-v),p-.25-.25*(x+m-2*P)/(m-x)]);break;case 2:D.push([b-.75-.25*(-v-m+2*P)/(v-m),p-.25-.25*(y+v-2*P)/(v-y)]);break;case 3:D.push([b-.5,p-.5-.5*(x+m+y+v-4*P)/(m-x+v-y)]);break;case 4:D.push([b-.25-.25*(y+x-2*P)/(x-y),p-.75-.25*(-x-m+2*P)/(x-m)]);break;case 5:D.push([b-.5-.5*(v+m+y+x-4*P)/(m-v+x-y),p-.5]);break;case 6:D.push([b-.5-.25*(-v-m+y+x)/(v-m+x-y),p-.5-.25*(-x-m+y+v)/(x-m+v-y)]);break;case 7:D.push([b-.75-.25*(y+x-2*P)/(x-y),p-.75-.25*(y+v-2*P)/(v-y)]);break;case 8:D.push([b-.75-.25*(-y-x+2*P)/(y-x),p-.75-.25*(-y-v+2*P)/(y-v)]);break;case 9:D.push([b-.5-.25*(v+m+-y-x)/(m-v+y-x),p-.5-.25*(x+m+-y-v)/(m-x+y-v)]);break;case 10:D.push([b-.5-.5*(-v-m-y-x+4*P)/(v-m+y-x),p-.5]);break;case 11:D.push([b-.25-.25*(-y-x+2*P)/(y-x),p-.75-.25*(x+m-2*P)/(m-x)]);break;case 12:D.push([b-.5,p-.5-.5*(-x-m-y-v+4*P)/(x-m+y-v)]);break;case 13:D.push([b-.75-.25*(v+m-2*P)/(m-v),p-.25-.25*(-y-v+2*P)/(y-v)]);break;case 14:D.push([b-.25-.25*(-v-m+2*P)/(v-m),p-.25-.25*(-x-m+2*P)/(x-m)])}},cell:function(b,p,m,v,x,y,w,f,C){f.push(x?[b,p]:[p,b])}});return function(b,p){var m=[],v=[];return c(b,m,v,p),{positions:m,cells:v}}}},o={}},529:function(d,s,t){"use strict";d.exports=function o(u,l,h){var c=(h=h||{}).fontStyle||"normal",b=h.fontWeight||"normal",p=h.fontVariant||"normal",m=[c,b,p,u].join("_"),v=r[m];v||(v=r[m]={" ":{data:new Float32Array(0),shape:.2}});var x=v[l];if(!x)if(l.length<=1||!/\d/.test(l))x=v[l]=function(q){for(var N=q.cells,H=q.positions,$=new Float32Array(6*N.length),j=0,W=0,G=0;G<N.length;++G)for(var ae=N[G],te=0;te<3;++te){var Q=H[ae[te]];$[j++]=Q[0],$[j++]=Q[1]+1.4,W=Math.max(Q[0],W)}return{data:$,shape:W}}(i(l,{triangles:!0,font:u,fontStyle:c,fontWeight:b,fontVariant:p,textAlign:h.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=l.split(/(\d|\s)/),w=new Array(y.length),f=0,C=0,T=0;T<y.length;++T)w[T]=o(u,y[T]),f+=w[T].data.length,C+=w[T].shape,T>0&&(C+=.02);var D=new Float32Array(f),R=0,P=-.5*C;for(T=0;T<w.length;++T){for(var O=w[T].data,B=0;B<O.length;B+=2)D[R++]=O[B]+P,D[R++]=O[B+1];P+=w[T].shape+.02}x=v[l]={data:D,shape:C}}return x};var i=t(4359),n=window||S.global||{},r=n.__TEXT_CACHE||{};n.__TEXT_CACHE={}},665:function(d,s,t){"use strict";var i=t(3202);d.exports=o;var n=96;function r(u,l){var h=i(getComputedStyle(u).getPropertyValue(l));return h[0]*o(h[1],u)}function o(u,l){switch(l=l||document.body,u=(u||"px").trim().toLowerCase(),l!==window&&l!==document||(l=document.body),u){case"%":return l.clientHeight/100;case"ch":case"ex":return function(h,c){var b=document.createElement("div");b.style["font-size"]="128"+h,c.appendChild(b);var p=r(b,"font-size")/128;return c.removeChild(b),p}(u,l);case"em":return r(l,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return n;case"cm":return n/2.54;case"mm":return n/25.4;case"pt":return n/72;case"pc":return n/6}return 1}},7261:function(d,s,t){"use strict";d.exports=function(x){var y=(x=x||{}).center||[0,0,0],w=x.up||[0,1,0],f=x.right||b(w),C=x.radius||1,T=x.theta||0,D=x.phi||0;if(y=[].slice.call(y,0,3),w=[].slice.call(w,0,3),u(w,w),f=[].slice.call(f,0,3),u(f,f),"eye"in x){var R=x.eye,P=[R[0]-y[0],R[1]-y[1],R[2]-y[2]];o(f,P,w),h(f[0],f[1],f[2])<1e-6?f=b(w):u(f,f),C=h(P[0],P[1],P[2]);var O=l(w,P)/C,B=l(f,P)/C;D=Math.acos(O),T=Math.acos(B)}return C=Math.log(C),new p(x.zoomMin,x.zoomMax,y,w,f,C,T,D)};var i=t(9215),n=t(7608),r=t(6079),o=t(5911),u=t(3536),l=t(244);function h(x,y,w){return Math.sqrt(Math.pow(x,2)+Math.pow(y,2)+Math.pow(w,2))}function c(x){return Math.min(1,Math.max(-1,x))}function b(x){var y=Math.abs(x[0]),w=Math.abs(x[1]),f=Math.abs(x[2]),C=[0,0,0];y>Math.max(w,f)?C[2]=1:w>Math.max(y,f)?C[0]=1:C[1]=1;for(var T=0,D=0,R=0;R<3;++R)T+=x[R]*x[R],D+=C[R]*x[R];for(R=0;R<3;++R)C[R]-=D/T*x[R];return u(C,C),C}function p(x,y,w,f,C,T,D,R){this.center=i(w),this.up=i(f),this.right=i(C),this.radius=i([T]),this.angle=i([D,R]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,y),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var P=0;P<16;++P)this.computedMatrix[P]=.5;this.recalcMatrix(0)}var m=p.prototype;m.setDistanceLimits=function(x,y){x=x>0?Math.log(x):-1/0,y=y>0?Math.log(y):1/0,y=Math.max(y,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=y},m.getDistanceLimits=function(x){var y=this.radius.bounds[0];return x?(x[0]=Math.exp(y[0][0]),x[1]=Math.exp(y[1][0]),x):[Math.exp(y[0][0]),Math.exp(y[1][0])]},m.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var y=this.computedUp,w=this.computedRight,f=0,C=0,T=0;T<3;++T)C+=y[T]*w[T],f+=y[T]*y[T];var D=Math.sqrt(f),R=0;for(T=0;T<3;++T)w[T]-=y[T]*C/f,R+=w[T]*w[T],y[T]/=D;var P=Math.sqrt(R);for(T=0;T<3;++T)w[T]/=P;var O=this.computedToward;o(O,y,w),u(O,O);var B=Math.exp(this.computedRadius[0]),q=this.computedAngle[0],N=this.computedAngle[1],H=Math.cos(q),$=Math.sin(q),j=Math.cos(N),W=Math.sin(N),G=this.computedCenter,ae=H*j,te=$*j,Q=W,ee=-H*W,re=-$*W,J=j,le=this.computedEye,fe=this.computedMatrix;for(T=0;T<3;++T){var ce=ae*w[T]+te*O[T]+Q*y[T];fe[4*T+1]=ee*w[T]+re*O[T]+J*y[T],fe[4*T+2]=ce,fe[4*T+3]=0}var ge=fe[1],Te=fe[5],Me=fe[9],we=fe[2],xe=fe[6],be=fe[10],ye=Te*be-Me*xe,Se=Me*we-ge*be,Ee=ge*xe-Te*we,he=h(ye,Se,Ee);for(Se/=he,Ee/=he,fe[0]=ye/=he,fe[4]=Se,fe[8]=Ee,T=0;T<3;++T)le[T]=G[T]+fe[2+4*T]*B;for(T=0;T<3;++T){R=0;for(var ue=0;ue<3;++ue)R+=fe[T+4*ue]*le[ue];fe[12+T]=-R}fe[15]=1},m.getMatrix=function(x,y){this.recalcMatrix(x);var w=this.computedMatrix;if(y){for(var f=0;f<16;++f)y[f]=w[f];return y}return w};var v=[0,0,0];m.rotate=function(x,y,w,f){if(this.angle.move(x,y,w),f){this.recalcMatrix(x);var C=this.computedMatrix;v[0]=C[2],v[1]=C[6],v[2]=C[10];for(var T=this.computedUp,D=this.computedRight,R=this.computedToward,P=0;P<3;++P)C[4*P]=T[P],C[4*P+1]=D[P],C[4*P+2]=R[P];for(r(C,C,f,v),P=0;P<3;++P)T[P]=C[4*P],D[P]=C[4*P+1];this.up.set(x,T[0],T[1],T[2]),this.right.set(x,D[0],D[1],D[2])}},m.pan=function(x,y,w,f){y=y||0,w=w||0,f=f||0,this.recalcMatrix(x);var C=this.computedMatrix,T=(Math.exp(this.computedRadius[0]),C[1]),D=C[5],R=C[9],P=h(T,D,R),O=C[0],B=C[4],q=C[8],N=O*(T/=P)+B*(D/=P)+q*(R/=P),H=h(O-=T*N,B-=D*N,q-=R*N),$=(O/=H)*y+T*w,j=(B/=H)*y+D*w,W=(q/=H)*y+R*w;this.center.move(x,$,j,W);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+f),this.radius.set(x,Math.log(G))},m.translate=function(x,y,w,f){this.center.move(x,y||0,w||0,f||0)},m.setMatrix=function(x,y,w,f){var C=1;"number"==typeof w&&(C=0|w),(C<0||C>3)&&(C=1);var T=(C+2)%3;y||(this.recalcMatrix(x),y=this.computedMatrix);var D=y[C],R=y[C+4],P=y[C+8];if(f){var O=Math.abs(D),B=Math.abs(R),q=Math.abs(P),N=Math.max(O,B,q);O===N?(D=D<0?-1:1,R=P=0):q===N?(P=P<0?-1:1,D=R=0):(R=R<0?-1:1,D=P=0)}else{var H=h(D,R,P);D/=H,R/=H,P/=H}var $,j,W=y[T],G=y[T+4],ae=y[T+8],te=W*D+G*R+ae*P,Q=h(W-=D*te,G-=R*te,ae-=P*te),ee=R*(ae/=Q)-P*(G/=Q),re=P*(W/=Q)-D*ae,J=D*G-R*W,le=h(ee,re,J);if(ee/=le,re/=le,J/=le,this.center.jump(x,Ie,Oe,ze),this.radius.idle(x),this.up.jump(x,D,R,P),this.right.jump(x,W,G,ae),2===C){var fe=y[1],ce=y[5],ge=y[9];$=ye<0?-Math.PI/2:Math.PI/2,j=Math.atan2(fe*ee+ce*re+ge*J,fe*W+ce*G+ge*ae)}else{var we=y[2],xe=y[6],be=y[10],ye=we*D+xe*R+be*P,Se=we*W+xe*G+be*ae,Ee=we*ee+xe*re+be*J;$=Math.asin(c(ye)),j=Math.atan2(Ee,Se)}this.angle.jump(x,j,$),this.recalcMatrix(x);var he=y[2],ue=y[6],me=y[10],Pe=this.computedMatrix;n(Pe,y);var Ce=Pe[15],Ie=Pe[12]/Ce,Oe=Pe[13]/Ce,ze=Pe[14]/Ce,je=Math.exp(this.computedRadius[0]);this.center.jump(x,Ie-he*je,Oe-ue*je,ze-me*je)},m.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},m.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},m.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},m.setDistance=function(x,y){y>0&&this.radius.set(x,Math.log(y))},m.lookAt=function(x,y,w,f){this.recalcMatrix(x),y=y||this.computedEye,w=w||this.computedCenter;var C=(f=f||this.computedUp)[0],T=f[1],D=f[2],R=h(C,T,D);if(!(R<1e-6)){C/=R,T/=R,D/=R;var P=y[0]-w[0],O=y[1]-w[1],B=y[2]-w[2],q=h(P,O,B);if(!(q<1e-6)){P/=q,O/=q,B/=q;var N=this.computedRight,H=N[0],$=N[1],j=N[2],W=C*H+T*$+D*j,G=h(H-=W*C,$-=W*T,j-=W*D);if(!(G<.01&&(G=h(H=T*B-D*O,$=D*P-C*B,j=C*O-T*P))<1e-6)){H/=G,$/=G,j/=G,this.up.set(x,C,T,D),this.right.set(x,H,$,j),this.center.set(x,w[0],w[1],w[2]),this.radius.set(x,Math.log(q));var ae=T*j-D*$,te=D*H-C*j,Q=C*$-T*H,ee=h(ae,te,Q),J=H*P+$*O+j*B,le=(ae/=ee)*P+(te/=ee)*O+(Q/=ee)*B,fe=Math.asin(c(C*P+T*O+D*B)),ce=Math.atan2(le,J),ge=this.angle._state,Te=ge[ge.length-1],Me=ge[ge.length-2];Te%=2*Math.PI;var we=Math.abs(Te+2*Math.PI-ce),xe=Math.abs(Te-ce),be=Math.abs(Te-2*Math.PI-ce);we<xe&&(Te+=2*Math.PI),be<xe&&(Te-=2*Math.PI),this.angle.jump(this.angle.lastT(),Te,Me),this.angle.set(x,ce,fe)}}}}},5250:function(d){"use strict";d.exports=function(t,i,n){var r=t*i,o=s*t,u=o-(o-t),l=t-u,h=s*i,c=h-(h-i),b=i-c,p=l*b-(r-u*c-l*c-u*b);return n?(n[0]=p,n[1]=r,n):[p,r]};var s=+(Math.pow(2,27)+1)},9362:function(d){"use strict";d.exports=function(s,t,i){var n=s+t,r=n-s,o=t-r,u=s-(n-r);return i?(i[0]=u+o,i[1]=n,i):[u+o,n]}},1888:function(d,s,t){"use strict";var i=t(8828),n=t(1338),r=t(4793).hp;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:n([32,0]),UINT16:n([32,0]),UINT32:n([32,0]),BIGUINT64:n([32,0]),INT8:n([32,0]),INT16:n([32,0]),INT32:n([32,0]),BIGINT64:n([32,0]),FLOAT:n([32,0]),DOUBLE:n([32,0]),DATA:n([32,0]),UINT8C:n([32,0]),BUFFER:n([32,0])});var o=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",h=t.g.__TYPEDARRAY_POOL;h.UINT8C||(h.UINT8C=n([32,0])),h.BIGUINT64||(h.BIGUINT64=n([32,0])),h.BIGINT64||(h.BIGINT64=n([32,0])),h.BUFFER||(h.BUFFER=n([32,0]));var c=h.DATA,b=h.BUFFER;function p(N){if(N){var $=i.log2(N.length||N.byteLength);c[$].push(N)}}function m(N){N=i.nextPow2(N);var H=i.log2(N),$=c[H];return $.length>0?$.pop():new ArrayBuffer(N)}function v(N){return new Uint8Array(m(N),0,N)}function x(N){return new Uint16Array(m(2*N),0,N)}function y(N){return new Uint32Array(m(4*N),0,N)}function w(N){return new Int8Array(m(N),0,N)}function f(N){return new Int16Array(m(2*N),0,N)}function C(N){return new Int32Array(m(4*N),0,N)}function T(N){return new Float32Array(m(4*N),0,N)}function D(N){return new Float64Array(m(8*N),0,N)}function R(N){return o?new Uint8ClampedArray(m(N),0,N):v(N)}function P(N){return u?new BigUint64Array(m(8*N),0,N):null}function O(N){return l?new BigInt64Array(m(8*N),0,N):null}function B(N){return new DataView(m(N),0,N)}function q(N){N=i.nextPow2(N);var H=i.log2(N),$=b[H];return $.length>0?$.pop():new r(N)}s.free=function(N){if(r.isBuffer(N))b[i.log2(N.length)].push(N);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(N)&&(N=N.buffer),!N)return;var $=0|i.log2(N.length||N.byteLength);c[$].push(N)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(N){p(N.buffer)},s.freeArrayBuffer=p,s.freeBuffer=function(N){b[i.log2(N.length)].push(N)},s.malloc=function(N,H){if(void 0===H||"arraybuffer"===H)return m(N);switch(H){case"uint8":return v(N);case"uint16":return x(N);case"uint32":return y(N);case"int8":return w(N);case"int16":return f(N);case"int32":return C(N);case"float":case"float32":return T(N);case"double":case"float64":return D(N);case"uint8_clamped":return R(N);case"bigint64":return O(N);case"biguint64":return P(N);case"buffer":return q(N);case"data":case"dataview":return B(N);default:return null}return null},s.mallocArrayBuffer=m,s.mallocUint8=v,s.mallocUint16=x,s.mallocUint32=y,s.mallocInt8=w,s.mallocInt16=f,s.mallocInt32=C,s.mallocFloat32=s.mallocFloat=T,s.mallocFloat64=s.mallocDouble=D,s.mallocUint8Clamped=R,s.mallocBigUint64=P,s.mallocBigInt64=O,s.mallocDataView=B,s.mallocBuffer=q,s.clearCache=function(){for(var N=0;N<32;++N)h.UINT8[N].length=0,h.UINT16[N].length=0,h.UINT32[N].length=0,h.INT8[N].length=0,h.INT16[N].length=0,h.INT32[N].length=0,h.FLOAT[N].length=0,h.DOUBLE[N].length=0,h.BIGUINT64[N].length=0,h.BIGINT64[N].length=0,h.UINT8C[N].length=0,c[N].length=0,b[N].length=0}},1755:function(d){"use strict";function s(i){this.roots=new Array(i),this.ranks=new Array(i);for(var n=0;n<i;++n)this.roots[n]=n,this.ranks[n]=0}d.exports=s;var t=s.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var n=i,r=this.roots;r[i]!==i;)i=r[i];for(;r[n]!==i;){var o=r[n];r[n]=i,n=o}return i},t.link=function(i,n){var r=this.find(i),o=this.find(n);if(r!==o){var u=this.ranks,l=this.roots,h=u[r],c=u[o];h<c?l[r]=o:c<h?l[o]=r:(l[o]=r,++u[r])}}},1682:function(d){"use strict";d.exports=function(s,t,i){return 0===s.length?s:t?(i||s.sort(t),function(n,r){for(var o=1,u=n.length,l=n[0],h=n[0],c=1;c<u;++c)if(h=l,r(l=n[c],h)){if(c===o){o++;continue}n[o++]=l}return n.length=o,n}(s,t)):(i||s.sort(),function(n){for(var r=1,o=n.length,u=n[0],l=n[0],h=1;h<o;++h,l=u)if(l=u,(u=n[h])!==l){if(h===r){r++;continue}n[r++]=u}return n.length=r,n}(s))}},4359:function(d,s,t){"use strict";d.exports=function(o,u){return"object"==typeof u&&null!==u||(u={}),i(o,u.canvas||n,u.context||r,u)};var i=t(7718),n=null,r=null;typeof document<"u"&&((n=document.createElement("canvas")).width=8192,n.height=1024,r=n.getContext("2d"))},7718:function(d,s,t){d.exports=function(P,O,B,q){var N=64,H=1.25,$={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return q&&(q.size&&q.size>0&&(N=q.size),q.lineSpacing&&q.lineSpacing>0&&(H=q.lineSpacing),q.styletags&&q.styletags.breaklines&&($.breaklines=!!q.styletags.breaklines),q.styletags&&q.styletags.bolds&&($.bolds=!!q.styletags.bolds),q.styletags&&q.styletags.italics&&($.italics=!!q.styletags.italics),q.styletags&&q.styletags.subscripts&&($.subscripts=!!q.styletags.subscripts),q.styletags&&q.styletags.superscripts&&($.superscripts=!!q.styletags.superscripts)),B.font=[q.fontStyle,q.fontVariant,q.fontWeight,N+"px",q.font].filter(function(j){return j}).join(" "),B.textAlign="start",B.textBaseline="alphabetic",B.direction="ltr",R(function(j,W,G,ae,te,Q){G=(G=G.replace(/\n/g,"")).replace(/\<br\>/g,!0===Q.breaklines?"\n":" ");var ee="",re=[];for(ce=0;ce<G.length;++ce)re[ce]=ee;!0===Q.bolds&&(re=C(h,c,G,re)),!0===Q.italics&&(re=C(b,p,G,re)),!0===Q.superscripts&&(re=C(m,x,G,re)),!0===Q.subscripts&&(re=C(y,f,G,re));var J=[],le="";for(ce=0;ce<G.length;++ce)null!==re[ce]&&(le+=G[ce],J.push(re[ce]));var fe,ce,ge,Te,Me,we=le.split("\n"),xe=we.length,be=Math.round(te*ae),ye=ae,Se=2*ae,Ee=0,he=xe*be+Se;j.height<he&&(j.height=he),W.fillStyle="#000",W.fillRect(0,0,j.width,j.height),W.fillStyle="#fff";var ue=0,me="";function Pe(){if(""!==me){var Le=W.measureText(me).width;W.fillText(me,ye+ge,Se+Te),ge+=Le}}function Ce(){return Math.round(Me)+"px "}function Ie(Le,Ve){var Ne=""+W.font;if(!0===Q.subscripts){var We=Le.indexOf(w),Xe=Ve.indexOf(w),nt=We>-1?parseInt(Le[1+We]):0,dt=Xe>-1?parseInt(Ve[1+Xe]):0;nt!==dt&&(Ne=Ne.replace(Ce(),"?px "),Me*=Math.pow(.75,dt-nt),Ne=Ne.replace("?px ",Ce())),Te+=.25*be*(dt-nt)}if(!0===Q.superscripts){var ht=Le.indexOf(v),Mt=Ve.indexOf(v),kt=ht>-1?parseInt(Le[1+ht]):0,_t=Mt>-1?parseInt(Ve[1+Mt]):0;kt!==_t&&(Ne=Ne.replace(Ce(),"?px "),Me*=Math.pow(.75,_t-kt),Ne=Ne.replace("?px ",Ce())),Te-=.25*be*(_t-kt)}if(!0===Q.bolds){var ut=Le.indexOf(c)>-1,st=Ve.indexOf(c)>-1;!ut&&st&&(Ne=Lt?Ne.replace("italic ","italic bold "):"bold "+Ne),ut&&!st&&(Ne=Ne.replace("bold ",""))}if(!0===Q.italics){var Lt=Le.indexOf(p)>-1,Ut=Ve.indexOf(p)>-1;!Lt&&Ut&&(Ne="italic "+Ne),Lt&&!Ut&&(Ne=Ne.replace("italic ",""))}W.font=Ne}for(fe=0;fe<xe;++fe){var Oe=we[fe]+"\n";for(ge=0,Te=fe*be,Me=ae,me="",ce=0;ce<Oe.length;++ce){var ze=ce+ue<J.length?J[ce+ue]:J[J.length-1];ee===ze?me+=Oe[ce]:(Pe(),me=Oe[ce],void 0!==ze&&(Ie(ee,ze),ee=ze))}Pe(),ue+=Oe.length;var je=0|Math.round(ge+2*ye);Ee<je&&(Ee=je)}var ve=Ee,Ae=Se+be*xe;return n(W.getImageData(0,0,ve,Ae).data,[Ae,ve,4]).pick(-1,-1,0).transpose(1,0)}(O,B,P,N,H,$),q,N)},d.exports.processPixels=R;var i=t(3711),n=t(9618),r=t(5878),o=t(332),u=t(2538),l=t(2095),h="b",c="b|",b="i",p="i|",m="sup",v="+",x="+1",y="sub",w="-",f="-1";function C(P,O,B,q){for(var N="<"+P+">",H="</"+P+">",$=N.length,j=H.length,W=O[0]===v||O[0]===w,G=0,ae=-j;G>-1&&-1!==(G=B.indexOf(N,G))&&-1!==(ae=B.indexOf(H,G+$))&&!(ae<=G);){for(var te=G;te<ae+j;++te)if(te<G+$||te>=ae)q[te]=null,B=B.substr(0,te)+" "+B.substr(te+1);else if(null!==q[te]){var Q=q[te].indexOf(O[0]);-1===Q?q[te]+=O:W&&(q[te]=q[te].substr(0,Q+1)+(1+parseInt(q[te][Q+1]))+q[te].substr(Q+2))}var ee=G+$,re=B.substr(ee,ae-ee).indexOf(N);G=-1!==re?re:ae+j}return q}function D(P,O,B,q){var N=function T(P,O){var B=i(P,128);return O?r(B.cells,B.positions,.25):{edges:B.cells,positions:B.positions}}(P,q),H=function(fe,ce,ge){for(var Te=ce.textAlign||"start",Me=ce.textBaseline||"alphabetic",we=[1<<30,1<<30],xe=[0,0],be=fe.length,ye=0;ye<be;++ye)for(var Se=fe[ye],Ee=0;Ee<2;++Ee)we[Ee]=0|Math.min(we[Ee],Se[Ee]),xe[Ee]=0|Math.max(xe[Ee],Se[Ee]);var he=0;switch(Te){case"center":he=-.5*(we[0]+xe[0]);break;case"right":case"end":he=-xe[0];break;case"left":case"start":he=-we[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+Te+"'")}var ue=0;switch(Me){case"hanging":case"top":ue=-we[1];break;case"middle":ue=-.5*(we[1]+xe[1]);break;case"alphabetic":case"ideographic":ue=-3*ge;break;case"bottom":ue=-xe[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Me+"'")}var me=1/ge;return"lineHeight"in ce?me*=+ce.lineHeight:"width"in ce?me=ce.width/(xe[0]-we[0]):"height"in ce&&(me=ce.height/(xe[1]-we[1])),fe.map(function(Pe){return[me*(Pe[0]+he),me*(Pe[1]+ue)]})}(N.positions,O,B),$=N.edges,j="ccw"===O.orientation;if(o(H,$),O.polygons||O.polygon||O.polyline){for(var W=l($,H),G=new Array(W.length),ae=0;ae<W.length;++ae){for(var te=W[ae],Q=new Array(te.length),ee=0;ee<te.length;++ee){for(var re=te[ee],J=new Array(re.length),le=0;le<re.length;++le)J[le]=H[re[le]].slice();j&&J.reverse(),Q[ee]=J}G[ae]=Q}return G}return O.triangles||O.triangulate||O.triangle?{cells:u(H,$,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:$,positions:H}}function R(P,O,B){try{return D(P,O,B,!0)}catch{}try{return D(P,O,B,!1)}catch{}return O.polygons||O.polyline||O.polygon?[]:O.triangles||O.triangulate||O.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},1538:function(d){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=y);var s=!1;if("function"==typeof WeakMap){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,n=Object.freeze({});if(i.set(n,1),1===i.get(n))return void(d.exports=WeakMap);s=!0}}var r=Object.getOwnPropertyNames,o=Object.defineProperty,u=Object.isExtensible,l="weakmap:",h=l+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var c=new ArrayBuffer(25),b=new Uint8Array(c);crypto.getRandomValues(b),h=l+"rand:"+Array.prototype.map.call(b,function(D){return(D%36).toString(36)}).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(D){return r(D).filter(w)}}),"getPropertyNames"in Object){var p=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(D){return p(D).filter(w)}})}!function(){var D=Object.freeze;o(Object,"freeze",{value:function(O){return f(O),D(O)}});var R=Object.seal;o(Object,"seal",{value:function(O){return f(O),R(O)}});var P=Object.preventExtensions;o(Object,"preventExtensions",{value:function(O){return f(O),P(O)}})}();var m=!1,v=0,x=function(){this instanceof x||T();var D=[],R=[],P=v++;return Object.create(x.prototype,{get___:{value:C(function(O,B){var q,N=f(O);return N?P in N?N[P]:B:(q=D.indexOf(O))>=0?R[q]:B})},has___:{value:C(function(O){var B=f(O);return B?P in B:D.indexOf(O)>=0})},set___:{value:C(function(O,B){var q,N=f(O);return N?N[P]=B:(q=D.indexOf(O))>=0?R[q]=B:(R[q=D.length]=B,D[q]=O),this})},delete___:{value:C(function(O){var B,q,N=f(O);return N?P in N&&delete N[P]:!((B=D.indexOf(O))<0||(q=D.length-1,D[B]=void 0,R[B]=R[q],D[B]=D[q],D.length=q,R.length=q,0))})}})};x.prototype=Object.create(Object.prototype,{get:{value:function(D,R){return this.get___(D,R)},writable:!0,configurable:!0},has:{value:function(D){return this.has___(D)},writable:!0,configurable:!0},set:{value:function(D,R){return this.set___(D,R)},writable:!0,configurable:!0},delete:{value:function(D){return this.delete___(D)},writable:!0,configurable:!0}}),"function"==typeof t?function(){function D(){this instanceof x||T();var R,P=new t,O=void 0,B=!1;return R=s?function(q,N){return P.set(q,N),P.has(q)||(O||(O=new x),O.set(q,N)),this}:function(q,N){if(B)try{P.set(q,N)}catch{O||(O=new x),O.set___(q,N)}else P.set(q,N);return this},Object.create(x.prototype,{get___:{value:C(function(q,N){return O?P.has(q)?P.get(q):O.get___(q,N):P.get(q,N)})},has___:{value:C(function(q){return P.has(q)||!!O&&O.has___(q)})},set___:{value:C(R)},delete___:{value:C(function(q){var N=!!P.delete(q);return O&&O.delete___(q)||N})},permitHostObjects___:{value:C(function(q){if(q!==y)throw new Error("bogus call to permitHostObjects___");B=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),D.prototype=x.prototype,d.exports=D,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),d.exports=x)}function y(D){D.permitHostObjects___&&D.permitHostObjects___(y)}function w(D){return!(D.substr(0,8)==l&&"___"===D.substr(D.length-3))}function f(D){if(D!==Object(D))throw new TypeError("Not an object: "+D);var R=D[h];if(R&&R.key===D)return R;if(u(D)){R={key:D};try{return o(D,h,{value:R,writable:!1,enumerable:!1,configurable:!1}),R}catch{return}}}function C(D){return D.prototype=null,Object.freeze(D)}function T(){m||typeof console>"u"||(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},236:function(d,s,t){var i=t(8284);d.exports=function(){var n={};return function(r){if(("object"!=typeof r||null===r)&&"function"!=typeof r)throw new Error("Weakmap-shim: Key must be object");var o=r.valueOf(n);return o&&o.identity===n?o:i(r,n)}}},8284:function(d){d.exports=function(s,t){var i={identity:t},n=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(r){return r!==t?n.apply(this,arguments):i},writable:!0}),i}},606:function(d,s,t){var i=t(236);d.exports=function(){var n=i();return{get:function(r,o){var u=n(r);return u.hasOwnProperty("value")?u.value:o},set:function(r,o){return n(r).value=o,this},has:function(r){return"value"in n(r)},delete:function(r){return delete n(r).value}}}},3349:function(d){"use strict";var s,t;d.exports=(s=function(){return function(s,t,i,n,r,o){var u=s[0],l=i[0],h=[0],c=l;n|=0;var b=0,p=l;for(b=0;b<u;++b){var m=t[n]-o,v=t[n+c]-o;m>=0!=v>=0&&r.push(h[0]+.5+.5*(m+v)/(m-v)),n+=p,++h[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),t={},function(i,n,r){var o=i.dtype,u=i.order,l=[o,u.join()].join(),h=t[l];return h||(t[l]=h=s([o,u])),h(i.shape.slice(0),i.data,i.stride,0|i.offset,n,r)})},781:function(d,s,t){"use strict";d.exports=function(n,r){var o=[];return r=+r||0,i(n.hi(n.shape[0]-1),o,r),o};var i=t(3349)},7790:function(){}},a={};function M(d){var s=a[d];if(void 0!==s)return s.exports;var t=a[d]={id:d,loaded:!1,exports:{}};return A[d].call(t.exports,t,t.exports,M),t.loaded=!0,t.exports}M.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),M.nmd=function(d){return d.paths=[],d.children||(d.children=[]),d};var _=M(1964);ie.exports=_}()},33576:function(ie,z,e){"use strict";function A(he){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ue){return ue.__proto__||Object.getPrototypeOf(ue)})(he)}function a(he){if(void 0===he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function M(he,ue){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(me,Pe){return me.__proto__=Pe,me})(he,ue)}function _(he){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue})(he)}var d=e(59968),s=e(35984),t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=r,z.SlowBuffer=function(he){return+he!=he&&(he=0),r.alloc(+he)},z.INSPECT_MAX_BYTES=50;var i=2147483647;function n(he){if(he>i)throw new RangeError('The value "'+he+'" is invalid for option "size"');var ue=new Uint8Array(he);return Object.setPrototypeOf(ue,r.prototype),ue}function r(he,ue,me){if("number"==typeof he){if("string"==typeof ue)throw new TypeError('The "string" argument must be of type string. Received type number');return l(he)}return o(he,ue,me)}function o(he,ue,me){if("string"==typeof he)return function(Ie,Oe){if("string"==typeof Oe&&""!==Oe||(Oe="utf8"),!r.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);var ze=0|p(Ie,Oe),je=n(ze),ve=je.write(Ie,Oe);return ve!==ze&&(je=je.slice(0,ve)),je}(he,ue);if(ArrayBuffer.isView(he))return function(Ie){if(xe(Ie,Uint8Array)){var Oe=new Uint8Array(Ie);return c(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return h(Ie)}(he);if(null==he)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_(he));if(xe(he,ArrayBuffer)||he&&xe(he.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(he,SharedArrayBuffer)||he&&xe(he.buffer,SharedArrayBuffer)))return c(he,ue,me);if("number"==typeof he)throw new TypeError('The "value" argument must not be of type number. Received type number');var Pe=he.valueOf&&he.valueOf();if(null!=Pe&&Pe!==he)return r.from(Pe,ue,me);var Ce=function(Ie){if(r.isBuffer(Ie)){var Oe=0|b(Ie.length),ze=n(Oe);return 0===ze.length||Ie.copy(ze,0,0,Oe),ze}return void 0!==Ie.length?"number"!=typeof Ie.length||be(Ie.length)?n(0):h(Ie):"Buffer"===Ie.type&&Array.isArray(Ie.data)?h(Ie.data):void 0}(he);if(Ce)return Ce;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof he[Symbol.toPrimitive])return r.from(he[Symbol.toPrimitive]("string"),ue,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_(he))}function u(he){if("number"!=typeof he)throw new TypeError('"size" argument must be of type number');if(he<0)throw new RangeError('The value "'+he+'" is invalid for option "size"')}function l(he){return u(he),n(he<0?0:0|b(he))}function h(he){for(var ue=he.length<0?0:0|b(he.length),me=n(ue),Pe=0;Pe<ue;Pe+=1)me[Pe]=255&he[Pe];return me}function c(he,ue,me){if(ue<0||he.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(he.byteLength<ue+(me||0))throw new RangeError('"length" is outside of buffer bounds');var Pe;return Pe=void 0===ue&&void 0===me?new Uint8Array(he):void 0===me?new Uint8Array(he,ue):new Uint8Array(he,ue,me),Object.setPrototypeOf(Pe,r.prototype),Pe}function b(he){if(he>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|he}function p(he,ue){if(r.isBuffer(he))return he.length;if(ArrayBuffer.isView(he)||xe(he,ArrayBuffer))return he.byteLength;if("string"!=typeof he)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+_(he));var me=he.length,Pe=arguments.length>2&&!0===arguments[2];if(!Pe&&0===me)return 0;for(var Ce=!1;;)switch(ue){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return Te(he).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*me;case"hex":return me>>>1;case"base64":return Me(he).length;default:if(Ce)return Pe?-1:Te(he).length;ue=(""+ue).toLowerCase(),Ce=!0}}function m(he,ue,me){var Pe=!1;if((void 0===ue||ue<0)&&(ue=0),ue>this.length||((void 0===me||me>this.length)&&(me=this.length),me<=0)||(me>>>=0)<=(ue>>>=0))return"";for(he||(he="utf8");;)switch(he){case"hex":return N(this,ue,me);case"utf8":case"utf-8":return P(this,ue,me);case"ascii":return B(this,ue,me);case"latin1":case"binary":return q(this,ue,me);case"base64":return R(this,ue,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,ue,me);default:if(Pe)throw new TypeError("Unknown encoding: "+he);he=(he+"").toLowerCase(),Pe=!0}}function v(he,ue,me){var Pe=he[ue];he[ue]=he[me],he[me]=Pe}function x(he,ue,me,Pe,Ce){if(0===he.length)return-1;if("string"==typeof me?(Pe=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),be(me=+me)&&(me=Ce?0:he.length-1),me<0&&(me=he.length+me),me>=he.length){if(Ce)return-1;me=he.length-1}else if(me<0){if(!Ce)return-1;me=0}if("string"==typeof ue&&(ue=r.from(ue,Pe)),r.isBuffer(ue))return 0===ue.length?-1:y(he,ue,me,Pe,Ce);if("number"==typeof ue)return ue&=255,"function"==typeof Uint8Array.prototype.indexOf?Ce?Uint8Array.prototype.indexOf.call(he,ue,me):Uint8Array.prototype.lastIndexOf.call(he,ue,me):y(he,[ue],me,Pe,Ce);throw new TypeError("val must be string, number or Buffer")}function y(he,ue,me,Pe,Ce){var Ie,Oe=1,ze=he.length,je=ue.length;if(void 0!==Pe&&("ucs2"===(Pe=String(Pe).toLowerCase())||"ucs-2"===Pe||"utf16le"===Pe||"utf-16le"===Pe)){if(he.length<2||ue.length<2)return-1;Oe=2,ze/=2,je/=2,me/=2}function ve(Ne,We){return 1===Oe?Ne[We]:Ne.readUInt16BE(We*Oe)}if(Ce){var Ae=-1;for(Ie=me;Ie<ze;Ie++)if(ve(he,Ie)===ve(ue,-1===Ae?0:Ie-Ae)){if(-1===Ae&&(Ae=Ie),Ie-Ae+1===je)return Ae*Oe}else-1!==Ae&&(Ie-=Ie-Ae),Ae=-1}else for(me+je>ze&&(me=ze-je),Ie=me;Ie>=0;Ie--){for(var Le=!0,Ve=0;Ve<je;Ve++)if(ve(he,Ie+Ve)!==ve(ue,Ve)){Le=!1;break}if(Le)return Ie}return-1}function w(he,ue,me,Pe){me=Number(me)||0;var Ce=he.length-me;Pe?(Pe=Number(Pe))>Ce&&(Pe=Ce):Pe=Ce;var Ie,Oe=ue.length;for(Pe>Oe/2&&(Pe=Oe/2),Ie=0;Ie<Pe;++Ie){var ze=parseInt(ue.substr(2*Ie,2),16);if(be(ze))return Ie;he[me+Ie]=ze}return Ie}function f(he,ue,me,Pe){return we(Te(ue,he.length-me),he,me,Pe)}function C(he,ue,me,Pe){return we(function(Ce){for(var Ie=[],Oe=0;Oe<Ce.length;++Oe)Ie.push(255&Ce.charCodeAt(Oe));return Ie}(ue),he,me,Pe)}function T(he,ue,me,Pe){return we(Me(ue),he,me,Pe)}function D(he,ue,me,Pe){return we(function(Ce,Ie){for(var Oe,ze,ve=[],Ae=0;Ae<Ce.length&&!((Ie-=2)<0);++Ae)ze=(Oe=Ce.charCodeAt(Ae))>>8,ve.push(Oe%256),ve.push(ze);return ve}(ue,he.length-me),he,me,Pe)}function R(he,ue,me){return d.fromByteArray(0===ue&&me===he.length?he:he.slice(ue,me))}function P(he,ue,me){me=Math.min(he.length,me);for(var Pe=[],Ce=ue;Ce<me;){var Ie=he[Ce],Oe=null,ze=Ie>239?4:Ie>223?3:Ie>191?2:1;if(Ce+ze<=me){var je=void 0,ve=void 0,Ae=void 0,Le=void 0;switch(ze){case 1:Ie<128&&(Oe=Ie);break;case 2:128==(192&(je=he[Ce+1]))&&(Le=(31&Ie)<<6|63&je)>127&&(Oe=Le);break;case 3:ve=he[Ce+2],128==(192&(je=he[Ce+1]))&&128==(192&ve)&&(Le=(15&Ie)<<12|(63&je)<<6|63&ve)>2047&&(Le<55296||Le>57343)&&(Oe=Le);break;case 4:ve=he[Ce+2],Ae=he[Ce+3],128==(192&(je=he[Ce+1]))&&128==(192&ve)&&128==(192&Ae)&&(Le=(15&Ie)<<18|(63&je)<<12|(63&ve)<<6|63&Ae)>65535&&Le<1114112&&(Oe=Le)}}null===Oe?(Oe=65533,ze=1):Oe>65535&&(Pe.push((Oe-=65536)>>>10&1023|55296),Oe=56320|1023&Oe),Pe.push(Oe),Ce+=ze}return function(Ve){var Ne=Ve.length;if(Ne<=O)return String.fromCharCode.apply(String,Ve);for(var We="",Xe=0;Xe<Ne;)We+=String.fromCharCode.apply(String,Ve.slice(Xe,Xe+=O));return We}(Pe)}z.kMaxLength=i,(r.TYPED_ARRAY_SUPPORT=function(){try{var he=new Uint8Array(1),ue={foo:function(){return 42}};return Object.setPrototypeOf(ue,Uint8Array.prototype),Object.setPrototypeOf(he,ue),42===he.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),r.poolSize=8192,r.from=function(he,ue,me){return o(he,ue,me)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(he,ue,me){return Ce=ue,Ie=me,u(Pe=he),Pe<=0?n(Pe):void 0!==Ce?"string"==typeof Ie?n(Pe).fill(Ce,Ie):n(Pe).fill(Ce):n(Pe);var Pe,Ce,Ie},r.allocUnsafe=function(he){return l(he)},r.allocUnsafeSlow=function(he){return l(he)},r.isBuffer=function(he){return null!=he&&!0===he._isBuffer&&he!==r.prototype},r.compare=function(he,ue){if(xe(he,Uint8Array)&&(he=r.from(he,he.offset,he.byteLength)),xe(ue,Uint8Array)&&(ue=r.from(ue,ue.offset,ue.byteLength)),!r.isBuffer(he)||!r.isBuffer(ue))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(he===ue)return 0;for(var me=he.length,Pe=ue.length,Ce=0,Ie=Math.min(me,Pe);Ce<Ie;++Ce)if(he[Ce]!==ue[Ce]){me=he[Ce],Pe=ue[Ce];break}return me<Pe?-1:Pe<me?1:0},r.isEncoding=function(he){switch(String(he).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(he,ue){if(!Array.isArray(he))throw new TypeError('"list" argument must be an Array of Buffers');if(0===he.length)return r.alloc(0);var me;if(void 0===ue)for(ue=0,me=0;me<he.length;++me)ue+=he[me].length;var Pe=r.allocUnsafe(ue),Ce=0;for(me=0;me<he.length;++me){var Ie=he[me];if(xe(Ie,Uint8Array))Ce+Ie.length>Pe.length?(r.isBuffer(Ie)||(Ie=r.from(Ie)),Ie.copy(Pe,Ce)):Uint8Array.prototype.set.call(Pe,Ie,Ce);else{if(!r.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Pe,Ce)}Ce+=Ie.length}return Pe},r.byteLength=p,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var he=this.length;if(he%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ue=0;ue<he;ue+=2)v(this,ue,ue+1);return this},r.prototype.swap32=function(){var he=this.length;if(he%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ue=0;ue<he;ue+=4)v(this,ue,ue+3),v(this,ue+1,ue+2);return this},r.prototype.swap64=function(){var he=this.length;if(he%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ue=0;ue<he;ue+=8)v(this,ue,ue+7),v(this,ue+1,ue+6),v(this,ue+2,ue+5),v(this,ue+3,ue+4);return this},r.prototype.toString=function(){var he=this.length;return 0===he?"":0===arguments.length?P(this,0,he):m.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(he){if(!r.isBuffer(he))throw new TypeError("Argument must be a Buffer");return this===he||0===r.compare(this,he)},r.prototype.inspect=function(){var he="",ue=z.INSPECT_MAX_BYTES;return he=this.toString("hex",0,ue).replace(/(.{2})/g,"$1 ").trim(),this.length>ue&&(he+=" ... "),"<Buffer "+he+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(he,ue,me,Pe,Ce){if(xe(he,Uint8Array)&&(he=r.from(he,he.offset,he.byteLength)),!r.isBuffer(he))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+_(he));if(void 0===ue&&(ue=0),void 0===me&&(me=he?he.length:0),void 0===Pe&&(Pe=0),void 0===Ce&&(Ce=this.length),ue<0||me>he.length||Pe<0||Ce>this.length)throw new RangeError("out of range index");if(Pe>=Ce&&ue>=me)return 0;if(Pe>=Ce)return-1;if(ue>=me)return 1;if(this===he)return 0;for(var Ie=(Ce>>>=0)-(Pe>>>=0),Oe=(me>>>=0)-(ue>>>=0),ze=Math.min(Ie,Oe),je=this.slice(Pe,Ce),ve=he.slice(ue,me),Ae=0;Ae<ze;++Ae)if(je[Ae]!==ve[Ae]){Ie=je[Ae],Oe=ve[Ae];break}return Ie<Oe?-1:Oe<Ie?1:0},r.prototype.includes=function(he,ue,me){return-1!==this.indexOf(he,ue,me)},r.prototype.indexOf=function(he,ue,me){return x(this,he,ue,me,!0)},r.prototype.lastIndexOf=function(he,ue,me){return x(this,he,ue,me,!1)},r.prototype.write=function(he,ue,me,Pe){if(void 0===ue)Pe="utf8",me=this.length,ue=0;else if(void 0===me&&"string"==typeof ue)Pe=ue,me=this.length,ue=0;else{if(!isFinite(ue))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ue>>>=0,isFinite(me)?(me>>>=0,void 0===Pe&&(Pe="utf8")):(Pe=me,me=void 0)}var Ce=this.length-ue;if((void 0===me||me>Ce)&&(me=Ce),he.length>0&&(me<0||ue<0)||ue>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pe||(Pe="utf8");for(var Ie=!1;;)switch(Pe){case"hex":return w(this,he,ue,me);case"utf8":case"utf-8":return f(this,he,ue,me);case"ascii":case"latin1":case"binary":return C(this,he,ue,me);case"base64":return T(this,he,ue,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,he,ue,me);default:if(Ie)throw new TypeError("Unknown encoding: "+Pe);Pe=(""+Pe).toLowerCase(),Ie=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function B(he,ue,me){var Pe="";me=Math.min(he.length,me);for(var Ce=ue;Ce<me;++Ce)Pe+=String.fromCharCode(127&he[Ce]);return Pe}function q(he,ue,me){var Pe="";me=Math.min(he.length,me);for(var Ce=ue;Ce<me;++Ce)Pe+=String.fromCharCode(he[Ce]);return Pe}function N(he,ue,me){var Pe=he.length;(!ue||ue<0)&&(ue=0),(!me||me<0||me>Pe)&&(me=Pe);for(var Ce="",Ie=ue;Ie<me;++Ie)Ce+=ye[he[Ie]];return Ce}function H(he,ue,me){for(var Pe=he.slice(ue,me),Ce="",Ie=0;Ie<Pe.length-1;Ie+=2)Ce+=String.fromCharCode(Pe[Ie]+256*Pe[Ie+1]);return Ce}function $(he,ue,me){if(he%1!=0||he<0)throw new RangeError("offset is not uint");if(he+ue>me)throw new RangeError("Trying to access beyond buffer length")}function j(he,ue,me,Pe,Ce,Ie){if(!r.isBuffer(he))throw new TypeError('"buffer" argument must be a Buffer instance');if(ue>Ce||ue<Ie)throw new RangeError('"value" argument is out of bounds');if(me+Pe>he.length)throw new RangeError("Index out of range")}function W(he,ue,me,Pe,Ce){le(ue,Pe,Ce,he,me,7);var Ie=Number(ue&BigInt(4294967295));he[me++]=Ie,he[me++]=Ie>>=8,he[me++]=Ie>>=8,he[me++]=Ie>>=8;var Oe=Number(ue>>BigInt(32)&BigInt(4294967295));return he[me++]=Oe,he[me++]=Oe>>=8,he[me++]=Oe>>=8,he[me++]=Oe>>=8,me}function G(he,ue,me,Pe,Ce){le(ue,Pe,Ce,he,me,7);var Ie=Number(ue&BigInt(4294967295));he[me+7]=Ie,he[me+6]=Ie>>=8,he[me+5]=Ie>>=8,he[me+4]=Ie>>=8;var Oe=Number(ue>>BigInt(32)&BigInt(4294967295));return he[me+3]=Oe,he[me+2]=Oe>>=8,he[me+1]=Oe>>=8,he[me]=Oe>>=8,me+8}function ae(he,ue,me,Pe,Ce,Ie){if(me+Pe>he.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function te(he,ue,me,Pe,Ce){return ue=+ue,me>>>=0,Ce||ae(he,0,me,4),s.write(he,ue,me,Pe,23,4),me+4}function Q(he,ue,me,Pe,Ce){return ue=+ue,me>>>=0,Ce||ae(he,0,me,8),s.write(he,ue,me,Pe,52,8),me+8}r.prototype.slice=function(he,ue){var me=this.length;(he=~~he)<0?(he+=me)<0&&(he=0):he>me&&(he=me),(ue=void 0===ue?me:~~ue)<0?(ue+=me)<0&&(ue=0):ue>me&&(ue=me),ue<he&&(ue=he);var Pe=this.subarray(he,ue);return Object.setPrototypeOf(Pe,r.prototype),Pe},r.prototype.readUintLE=r.prototype.readUIntLE=function(he,ue,me){he>>>=0,ue>>>=0,me||$(he,ue,this.length);for(var Pe=this[he],Ce=1,Ie=0;++Ie<ue&&(Ce*=256);)Pe+=this[he+Ie]*Ce;return Pe},r.prototype.readUintBE=r.prototype.readUIntBE=function(he,ue,me){he>>>=0,ue>>>=0,me||$(he,ue,this.length);for(var Pe=this[he+--ue],Ce=1;ue>0&&(Ce*=256);)Pe+=this[he+--ue]*Ce;return Pe},r.prototype.readUint8=r.prototype.readUInt8=function(he,ue){return he>>>=0,ue||$(he,1,this.length),this[he]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(he,ue){return he>>>=0,ue||$(he,2,this.length),this[he]|this[he+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(he,ue){return he>>>=0,ue||$(he,2,this.length),this[he]<<8|this[he+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(he,ue){return he>>>=0,ue||$(he,4,this.length),(this[he]|this[he+1]<<8|this[he+2]<<16)+16777216*this[he+3]},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(he,ue){return he>>>=0,ue||$(he,4,this.length),16777216*this[he]+(this[he+1]<<16|this[he+2]<<8|this[he+3])},r.prototype.readBigUInt64LE=Se(function(he){fe(he>>>=0,"offset");var ue=this[he],me=this[he+7];void 0!==ue&&void 0!==me||ce(he,this.length-8);var Pe=ue+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24),Ce=this[++he]+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+me*Math.pow(2,24);return BigInt(Pe)+(BigInt(Ce)<<BigInt(32))}),r.prototype.readBigUInt64BE=Se(function(he){fe(he>>>=0,"offset");var ue=this[he],me=this[he+7];void 0!==ue&&void 0!==me||ce(he,this.length-8);var Pe=ue*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he],Ce=this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+me;return(BigInt(Pe)<<BigInt(32))+BigInt(Ce)}),r.prototype.readIntLE=function(he,ue,me){he>>>=0,ue>>>=0,me||$(he,ue,this.length);for(var Pe=this[he],Ce=1,Ie=0;++Ie<ue&&(Ce*=256);)Pe+=this[he+Ie]*Ce;return Pe>=(Ce*=128)&&(Pe-=Math.pow(2,8*ue)),Pe},r.prototype.readIntBE=function(he,ue,me){he>>>=0,ue>>>=0,me||$(he,ue,this.length);for(var Pe=ue,Ce=1,Ie=this[he+--Pe];Pe>0&&(Ce*=256);)Ie+=this[he+--Pe]*Ce;return Ie>=(Ce*=128)&&(Ie-=Math.pow(2,8*ue)),Ie},r.prototype.readInt8=function(he,ue){return he>>>=0,ue||$(he,1,this.length),128&this[he]?-1*(255-this[he]+1):this[he]},r.prototype.readInt16LE=function(he,ue){he>>>=0,ue||$(he,2,this.length);var me=this[he]|this[he+1]<<8;return 32768&me?4294901760|me:me},r.prototype.readInt16BE=function(he,ue){he>>>=0,ue||$(he,2,this.length);var me=this[he+1]|this[he]<<8;return 32768&me?4294901760|me:me},r.prototype.readInt32LE=function(he,ue){return he>>>=0,ue||$(he,4,this.length),this[he]|this[he+1]<<8|this[he+2]<<16|this[he+3]<<24},r.prototype.readInt32BE=function(he,ue){return he>>>=0,ue||$(he,4,this.length),this[he]<<24|this[he+1]<<16|this[he+2]<<8|this[he+3]},r.prototype.readBigInt64LE=Se(function(he){fe(he>>>=0,"offset");var ue=this[he],me=this[he+7];void 0!==ue&&void 0!==me||ce(he,this.length-8);var Pe=this[he+4]+this[he+5]*Math.pow(2,8)+this[he+6]*Math.pow(2,16)+(me<<24);return(BigInt(Pe)<<BigInt(32))+BigInt(ue+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24))}),r.prototype.readBigInt64BE=Se(function(he){fe(he>>>=0,"offset");var ue=this[he],me=this[he+7];void 0!==ue&&void 0!==me||ce(he,this.length-8);var Pe=(ue<<24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he];return(BigInt(Pe)<<BigInt(32))+BigInt(this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+me)}),r.prototype.readFloatLE=function(he,ue){return he>>>=0,ue||$(he,4,this.length),s.read(this,he,!0,23,4)},r.prototype.readFloatBE=function(he,ue){return he>>>=0,ue||$(he,4,this.length),s.read(this,he,!1,23,4)},r.prototype.readDoubleLE=function(he,ue){return he>>>=0,ue||$(he,8,this.length),s.read(this,he,!0,52,8)},r.prototype.readDoubleBE=function(he,ue){return he>>>=0,ue||$(he,8,this.length),s.read(this,he,!1,52,8)},r.prototype.writeUintLE=r.prototype.writeUIntLE=function(he,ue,me,Pe){he=+he,ue>>>=0,me>>>=0,Pe||j(this,he,ue,me,Math.pow(2,8*me)-1,0);var Ce=1,Ie=0;for(this[ue]=255&he;++Ie<me&&(Ce*=256);)this[ue+Ie]=he/Ce&255;return ue+me},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(he,ue,me,Pe){he=+he,ue>>>=0,me>>>=0,Pe||j(this,he,ue,me,Math.pow(2,8*me)-1,0);var Ce=me-1,Ie=1;for(this[ue+Ce]=255&he;--Ce>=0&&(Ie*=256);)this[ue+Ce]=he/Ie&255;return ue+me},r.prototype.writeUint8=r.prototype.writeUInt8=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,1,255,0),this[ue]=255&he,ue+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,2,65535,0),this[ue]=255&he,this[ue+1]=he>>>8,ue+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,2,65535,0),this[ue]=he>>>8,this[ue+1]=255&he,ue+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,4,4294967295,0),this[ue+3]=he>>>24,this[ue+2]=he>>>16,this[ue+1]=he>>>8,this[ue]=255&he,ue+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,4,4294967295,0),this[ue]=he>>>24,this[ue+1]=he>>>16,this[ue+2]=he>>>8,this[ue+3]=255&he,ue+4},r.prototype.writeBigUInt64LE=Se(function(he){return W(this,he,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=Se(function(he){return G(this,he,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(he,ue,me,Pe){if(he=+he,ue>>>=0,!Pe){var Ce=Math.pow(2,8*me-1);j(this,he,ue,me,Ce-1,-Ce)}var Ie=0,Oe=1,ze=0;for(this[ue]=255&he;++Ie<me&&(Oe*=256);)he<0&&0===ze&&0!==this[ue+Ie-1]&&(ze=1),this[ue+Ie]=(he/Oe>>0)-ze&255;return ue+me},r.prototype.writeIntBE=function(he,ue,me,Pe){if(he=+he,ue>>>=0,!Pe){var Ce=Math.pow(2,8*me-1);j(this,he,ue,me,Ce-1,-Ce)}var Ie=me-1,Oe=1,ze=0;for(this[ue+Ie]=255&he;--Ie>=0&&(Oe*=256);)he<0&&0===ze&&0!==this[ue+Ie+1]&&(ze=1),this[ue+Ie]=(he/Oe>>0)-ze&255;return ue+me},r.prototype.writeInt8=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,1,127,-128),he<0&&(he=255+he+1),this[ue]=255&he,ue+1},r.prototype.writeInt16LE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,2,32767,-32768),this[ue]=255&he,this[ue+1]=he>>>8,ue+2},r.prototype.writeInt16BE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,2,32767,-32768),this[ue]=he>>>8,this[ue+1]=255&he,ue+2},r.prototype.writeInt32LE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,4,2147483647,-2147483648),this[ue]=255&he,this[ue+1]=he>>>8,this[ue+2]=he>>>16,this[ue+3]=he>>>24,ue+4},r.prototype.writeInt32BE=function(he,ue,me){return he=+he,ue>>>=0,me||j(this,he,ue,4,2147483647,-2147483648),he<0&&(he=4294967295+he+1),this[ue]=he>>>24,this[ue+1]=he>>>16,this[ue+2]=he>>>8,this[ue+3]=255&he,ue+4},r.prototype.writeBigInt64LE=Se(function(he){return W(this,he,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=Se(function(he){return G(this,he,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeFloatLE=function(he,ue,me){return te(this,he,ue,!0,me)},r.prototype.writeFloatBE=function(he,ue,me){return te(this,he,ue,!1,me)},r.prototype.writeDoubleLE=function(he,ue,me){return Q(this,he,ue,!0,me)},r.prototype.writeDoubleBE=function(he,ue,me){return Q(this,he,ue,!1,me)},r.prototype.copy=function(he,ue,me,Pe){if(!r.isBuffer(he))throw new TypeError("argument should be a Buffer");if(me||(me=0),Pe||0===Pe||(Pe=this.length),ue>=he.length&&(ue=he.length),ue||(ue=0),Pe>0&&Pe<me&&(Pe=me),Pe===me||0===he.length||0===this.length)return 0;if(ue<0)throw new RangeError("targetStart out of bounds");if(me<0||me>=this.length)throw new RangeError("Index out of range");if(Pe<0)throw new RangeError("sourceEnd out of bounds");Pe>this.length&&(Pe=this.length),he.length-ue<Pe-me&&(Pe=he.length-ue+me);var Ce=Pe-me;return this===he&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ue,me,Pe):Uint8Array.prototype.set.call(he,this.subarray(me,Pe),ue),Ce},r.prototype.fill=function(he,ue,me,Pe){if("string"==typeof he){if("string"==typeof ue?(Pe=ue,ue=0,me=this.length):"string"==typeof me&&(Pe=me,me=this.length),void 0!==Pe&&"string"!=typeof Pe)throw new TypeError("encoding must be a string");if("string"==typeof Pe&&!r.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);if(1===he.length){var Ce=he.charCodeAt(0);("utf8"===Pe&&Ce<128||"latin1"===Pe)&&(he=Ce)}}else"number"==typeof he?he&=255:"boolean"==typeof he&&(he=Number(he));if(ue<0||this.length<ue||this.length<me)throw new RangeError("Out of range index");if(me<=ue)return this;var Ie;if(ue>>>=0,me=void 0===me?this.length:me>>>0,he||(he=0),"number"==typeof he)for(Ie=ue;Ie<me;++Ie)this[Ie]=he;else{var Oe=r.isBuffer(he)?he:r.from(he,Pe),ze=Oe.length;if(0===ze)throw new TypeError('The value "'+he+'" is invalid for argument "value"');for(Ie=0;Ie<me-ue;++Ie)this[Ie+ue]=Oe[Ie%ze]}return this};var ee={};function re(he,ue,me){ee[he]=function(Pe){function Ce(){var ze,ve;return function(je,ve){if(!(je instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,Ce),this,ve=A(ve=Ce),ze=function(Le,Ve){if(Ve&&("object"===_(Ve)||"function"==typeof Ve))return Ve;if(void 0!==Ve)throw new TypeError("Derived constructors may only return object or undefined");return a(Le)}(this,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(ve,[],A(this).constructor):ve.apply(this,undefined)),Object.defineProperty(a(ze),"message",{value:ue.apply(a(ze),arguments),writable:!0,configurable:!0}),ze.name="".concat(ze.name," [").concat(he,"]"),delete ze.name,ze}var Ie,Oe;return function(ze,je){if("function"!=typeof je&&null!==je)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(je&&je.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),je&&M(ze,je)}(Ce,Pe),Ie=Ce,(Oe=[{key:"code",get:function(){return he},set:function(ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ze,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(he,"]: ").concat(this.message)}}])&&function S(he,ue){for(var me=0;me<ue.length;me++){var Pe=ue[me];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(he,(Ce=function(Ie,Oe){if("object"!==_(Ie)||null===Ie)return Ie;var ze=Ie[Symbol.toPrimitive];if(void 0!==ze){var je=ze.call(Ie,"string");if("object"!==_(je))return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ie)}(Pe.key),"symbol"===_(Ce)?Ce:String(Ce)),Pe)}var Ce}(Ie.prototype,Oe),Object.defineProperty(Ie,"prototype",{writable:!1}),Ce}(me)}function J(he){for(var ue="",me=he.length,Pe="-"===he[0]?1:0;me>=Pe+4;me-=3)ue="_".concat(he.slice(me-3,me)).concat(ue);return"".concat(he.slice(0,me)).concat(ue)}function le(he,ue,me,Pe,Ce,Ie){if(he>me||he<ue){var Oe,ze="bigint"==typeof ue?"n":"";throw Oe=Ie>3?0===ue||ue===BigInt(0)?">= 0".concat(ze," and < 2").concat(ze," ** ").concat(8*(Ie+1)).concat(ze):">= -(2".concat(ze," ** ").concat(8*(Ie+1)-1).concat(ze,") and < 2 ** ")+"".concat(8*(Ie+1)-1).concat(ze):">= ".concat(ue).concat(ze," and <= ").concat(me).concat(ze),new ee.ERR_OUT_OF_RANGE("value",Oe,he)}var je,ve,Ae;je=Pe,Ae=Ie,fe(ve=Ce,"offset"),void 0!==je[ve]&&void 0!==je[ve+Ae]||ce(ve,je.length-(Ae+1))}function fe(he,ue){if("number"!=typeof he)throw new ee.ERR_INVALID_ARG_TYPE(ue,"number",he)}function ce(he,ue,me){throw Math.floor(he)!==he?(fe(he,me),new ee.ERR_OUT_OF_RANGE(me||"offset","an integer",he)):ue<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE(me||"offset",">= ".concat(me?1:0," and <= ").concat(ue),he)}re("ERR_BUFFER_OUT_OF_BOUNDS",function(he){return he?"".concat(he," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(he,ue){return'The "'.concat(he,'" argument must be of type number. Received type ').concat(_(ue))},TypeError),re("ERR_OUT_OF_RANGE",function(he,ue,me){var Pe='The value of "'.concat(he,'" is out of range.'),Ce=me;return Number.isInteger(me)&&Math.abs(me)>Math.pow(2,32)?Ce=J(String(me)):"bigint"==typeof me&&(Ce=String(me),(me>Math.pow(BigInt(2),BigInt(32))||me<-Math.pow(BigInt(2),BigInt(32)))&&(Ce=J(Ce)),Ce+="n"),Pe+" It must be ".concat(ue,". Received ").concat(Ce)},RangeError);var ge=/[^+/0-9A-Za-z-_]/g;function Te(he,ue){var me;ue=ue||1/0;for(var Pe=he.length,Ce=null,Ie=[],Oe=0;Oe<Pe;++Oe){if((me=he.charCodeAt(Oe))>55295&&me<57344){if(!Ce){if(me>56319){(ue-=3)>-1&&Ie.push(239,191,189);continue}if(Oe+1===Pe){(ue-=3)>-1&&Ie.push(239,191,189);continue}Ce=me;continue}if(me<56320){(ue-=3)>-1&&Ie.push(239,191,189),Ce=me;continue}me=65536+(Ce-55296<<10|me-56320)}else Ce&&(ue-=3)>-1&&Ie.push(239,191,189);if(Ce=null,me<128){if((ue-=1)<0)break;Ie.push(me)}else if(me<2048){if((ue-=2)<0)break;Ie.push(me>>6|192,63&me|128)}else if(me<65536){if((ue-=3)<0)break;Ie.push(me>>12|224,me>>6&63|128,63&me|128)}else{if(!(me<1114112))throw new Error("Invalid code point");if((ue-=4)<0)break;Ie.push(me>>18|240,me>>12&63|128,me>>6&63|128,63&me|128)}}return Ie}function Me(he){return d.toByteArray(function(ue){if((ue=(ue=ue.split("=")[0]).trim().replace(ge,"")).length<2)return"";for(;ue.length%4!=0;)ue+="=";return ue}(he))}function we(he,ue,me,Pe){var Ce;for(Ce=0;Ce<Pe&&!(Ce+me>=ue.length||Ce>=he.length);++Ce)ue[Ce+me]=he[Ce];return Ce}function xe(he,ue){return he instanceof ue||null!=he&&null!=he.constructor&&null!=he.constructor.name&&he.constructor.name===ue.name}function be(he){return he!=he}var ye=function(){for(var he="0123456789abcdef",ue=new Array(256),me=0;me<16;++me)for(var Pe=16*me,Ce=0;Ce<16;++Ce)ue[Pe+Ce]=he[me]+he[Ce];return ue}();function Se(he){return typeof BigInt>"u"?Ee:he}function Ee(){throw new Error("BigInt not supported")}},25928:function(ie){"use strict";ie.exports=A,ie.exports.isMobile=A,ie.exports.default=A;var z=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,S=/android|ipad|playbook|silk/i;function A(a){a||(a={});var M=a.ua;if(M||typeof navigator>"u"||(M=navigator.userAgent),M&&M.headers&&"string"==typeof M.headers["user-agent"]&&(M=M.headers["user-agent"]),"string"!=typeof M)return!1;var _=z.test(M)&&!e.test(M)||!!a.tablet&&S.test(M);return!_&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==M.indexOf("Macintosh")&&-1!==M.indexOf("Safari")&&(_=!0),_}},48932:function(ie,z,e){"use strict";e.r(z),e.d(z,{sankeyCenter:function(){return n},sankeyCircular:function(){return R},sankeyJustify:function(){return i},sankeyLeft:function(){return s},sankeyRight:function(){return t}});var S=e(84706),A=e(34712),a=e(10132),M=e(6688),_=e.n(M);function d(we){return we.target.depth}function s(we){return we.depth}function t(we,xe){return xe-1-we.height}function i(we,xe){return we.sourceLinks.length?we.depth:xe-1}function n(we){return we.targetLinks.length?we.depth:we.sourceLinks.length?(0,S.SY)(we.sourceLinks,d)-1:0}function r(we){return function(){return we}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we};function u(we,xe){return h(we.source,xe.source)||we.index-xe.index}function l(we,xe){return h(we.target,xe.target)||we.index-xe.index}function h(we,xe){return we.partOfCycle===xe.partOfCycle?we.y0-xe.y0:"top"===we.circularLinkType||"bottom"===xe.circularLinkType?-1:1}function c(we){return we.value}function b(we){return(we.y0+we.y1)/2}function p(we){return b(we.source)}function m(we){return b(we.target)}function v(we){return we.index}function x(we){return we.nodes}function y(we){return we.links}function w(we,xe){var be=we.get(xe);if(!be)throw new Error("missing: "+xe);return be}function f(we,xe){return xe(we)}var C=25,T=10,D=.3;function R(){var we,xe,be=0,ye=0,Se=1,Ee=1,he=24,ue=v,me=i,Pe=x,Ce=y,Ie=32,Oe=2,ze=null;function je(){var Ae={nodes:Pe.apply(null,arguments),links:Ce.apply(null,arguments)};(function(Ve){Ve.nodes.forEach(function(We,Xe){We.index=Xe,We.sourceLinks=[],We.targetLinks=[]});var Ne=(0,A.kH)(Ve.nodes,ue);Ve.links.forEach(function(We,Xe){We.index=Xe;var nt=We.source,dt=We.target;"object"!==(void 0===nt?"undefined":o(nt))&&(nt=We.source=w(Ne,nt)),"object"!==(void 0===dt?"undefined":o(dt))&&(dt=We.target=w(Ne,dt)),nt.sourceLinks.push(We),dt.targetLinks.push(We)})})(Ae),function(Ve,Ne,We){var Xe=0;if(null===We){for(var nt=[],dt=0;dt<Ve.links.length;dt++){var ht=Ve.links[dt],Mt=ht.source.index,kt=ht.target.index;nt[Mt]||(nt[Mt]=[]),nt[kt]||(nt[kt]=[]),-1===nt[Mt].indexOf(kt)&&nt[Mt].push(kt)}var _t=_()(nt);_t.sort(function(Lt,Ut){return Lt.length-Ut.length});var ut={};for(dt=0;dt<_t.length;dt++){var st=_t[dt].slice(-2);ut[st[0]]||(ut[st[0]]={}),ut[st[0]][st[1]]=!0}Ve.links.forEach(function(Lt){var Ut=Lt.target.index,Ht=Lt.source.index;Ut===Ht||ut[Ht]&&ut[Ht][Ut]?(Lt.circular=!0,Lt.circularLinkID=Xe,Xe+=1):Lt.circular=!1})}else Ve.links.forEach(function(Lt){Lt.source[We]<Lt.target[We]?Lt.circular=!1:(Lt.circular=!0,Lt.circularLinkID=Xe,Xe+=1)})}(Ae,0,ze),Ae.nodes.forEach(function(Ne){Ne.partOfCycle=!1,Ne.value=Math.max((0,S.oh)(Ne.sourceLinks,c),(0,S.oh)(Ne.targetLinks,c)),Ne.sourceLinks.forEach(function(We){We.circular&&(Ne.partOfCycle=!0,Ne.circularLinkType=We.circularLinkType)}),Ne.targetLinks.forEach(function(We){We.circular&&(Ne.partOfCycle=!0,Ne.circularLinkType=We.circularLinkType)})}),function(Ve){var Ne,We,Xe;for(Ne=Ve.nodes,We=[],Xe=0;Ne.length;++Xe,Ne=We,We=[])Ne.forEach(function(nt){nt.depth=Xe,nt.sourceLinks.forEach(function(dt){We.indexOf(dt.target)<0&&!dt.circular&&We.push(dt.target)})});for(Ne=Ve.nodes,We=[],Xe=0;Ne.length;++Xe,Ne=We,We=[])Ne.forEach(function(nt){nt.height=Xe,nt.targetLinks.forEach(function(dt){We.indexOf(dt.source)<0&&!dt.circular&&We.push(dt.source)})});Ve.nodes.forEach(function(nt){nt.column=Math.floor(me.call(null,nt,Xe))})}(Ae),P(Ae,ue),function(Ve,Ne,We){var Xe=(0,A.UJ)().key(function(kt){return kt.column}).sortKeys(S.XE).entries(Ve.nodes).map(function(kt){return kt.values});(function(kt){if(xe){var _t=1/0;Xe.forEach(function(Ut){var Ht=Ee*xe/(Ut.length+1);_t=Ht<_t?Ht:_t}),we=_t}var ut=(0,S.SY)(Xe,function(Ut){return(Ee-ye-(Ut.length-1)*we)/(0,S.oh)(Ut,c)});ut*=D,Ve.links.forEach(function(Ut){Ut.width=Ut.value*ut});var Ut,Ht,Pt,Je,tt,Ge,st=(Ht=0,Pt=0,Je=0,tt=0,Ge=(0,S.kv)((Ut=Ve).nodes,function(Qe){return Qe.column}),Ut.links.forEach(function(Qe){Qe.circular&&("top"==Qe.circularLinkType?Ht+=Qe.width:Pt+=Qe.width,0==Qe.target.column&&(tt+=Qe.width),Qe.source.column==Ge&&(Je+=Qe.width))}),{top:Ht=Ht>0?Ht+C+T:Ht,bottom:Pt=Pt>0?Pt+C+T:Pt,left:tt=tt>0?tt+C+T:tt,right:Je=Je>0?Je+C+T:Je}),Lt=function(Ut,Ht){var Pt=(0,S.kv)(Ut.nodes,function(pt){return pt.column}),Je=Se-be,tt=Ee-ye,Ge=Je/(Je+Ht.right+Ht.left),Qe=tt/(tt+Ht.top+Ht.bottom);return be=be*Ge+Ht.left,Se=0==Ht.right?Se:Se*Ge,ye=ye*Qe+Ht.top,Ee*=Qe,Ut.nodes.forEach(function(pt){pt.x0=be+pt.column*((Se-be-he)/Pt),pt.x1=pt.x0+he}),Qe}(Ve,st);ut*=Lt,Ve.links.forEach(function(Ut){Ut.width=Ut.value*ut}),Xe.forEach(function(Ut){var Ht=Ut.length;Ut.forEach(function(Pt,Je){Pt.depth==Xe.length-1&&1==Ht||0==Pt.depth&&1==Ht?(Pt.y0=Ee/2-Pt.value*ut,Pt.y1=Pt.y0+Pt.value*ut):Pt.partOfCycle?0==B(Pt,kt)?(Pt.y0=Ee/2+Je,Pt.y1=Pt.y0+Pt.value*ut):"top"==Pt.circularLinkType?(Pt.y0=ye+Je,Pt.y1=Pt.y0+Pt.value*ut):(Pt.y0=Ee-Pt.value*ut-Je,Pt.y1=Pt.y0+Pt.value*ut):0==st.top||0==st.bottom?(Pt.y0=(Ee-ye)/Ht*Je,Pt.y1=Pt.y0+Pt.value*ut):(Pt.y0=(Ee-ye)/2-Ht/2+Je,Pt.y1=Pt.y0+Pt.value*ut)})})})(We),Mt();for(var nt=1,dt=Ne;dt>0;--dt)ht(nt*=.99,We),Mt();function ht(kt,_t){var ut=Xe.length;Xe.forEach(function(st){var Lt=st.length,Ut=st[0].depth;st.forEach(function(Ht){var Pt;if((Ht.sourceLinks.length||Ht.targetLinks.length)&&!(Ht.partOfCycle&&B(Ht,_t)>0))if(0==Ut&&1==Lt)Ht.y0=Ee/2-(Pt=Ht.y1-Ht.y0)/2,Ht.y1=Ee/2+Pt/2;else if(Ut==ut-1&&1==Lt)Ht.y0=Ee/2-(Pt=Ht.y1-Ht.y0)/2,Ht.y1=Ee/2+Pt/2;else{var Je=(0,S.mo)(Ht.sourceLinks,m),tt=(0,S.mo)(Ht.targetLinks,p),Ge=((Je&&tt?(Je+tt)/2:Je||tt)-b(Ht))*kt;Ht.y0+=Ge,Ht.y1+=Ge}})})}function Mt(){Xe.forEach(function(kt){var _t,ut,st,Lt=ye,Ut=kt.length;for(kt.sort(h),st=0;st<Ut;++st)(ut=Lt-(_t=kt[st]).y0)>0&&(_t.y0+=ut,_t.y1+=ut),Lt=_t.y1+we;if((ut=Lt-we-Ee)>0)for(Lt=_t.y0-=ut,_t.y1-=ut,st=Ut-2;st>=0;--st)(ut=(_t=kt[st]).y1+we-Lt)>0&&(_t.y0-=ut,_t.y1-=ut),Lt=_t.y0})}}(Ae,Ie,ue),ve(Ae);for(var Le=0;Le<4;Le++)fe(Ae,Ee,ue),ce(Ae,0,ue),J(Ae,ye,Ee,ue),fe(Ae,Ee,ue),ce(Ae,0,ue);return function(Ve,Ne,We){var Xe=Ve.nodes,nt=Ve.links,dt=!1,ht=!1;if(nt.forEach(function(_t){"top"==_t.circularLinkType?dt=!0:"bottom"==_t.circularLinkType&&(ht=!0)}),0==dt||0==ht){var Mt=(0,S.SY)(Xe,function(_t){return _t.y0}),kt=(We-Ne)/((0,S.kv)(Xe,function(_t){return _t.y1})-Mt);Xe.forEach(function(_t){var ut=(_t.y1-_t.y0)*kt;_t.y0=(_t.y0-Mt)*kt,_t.y1=_t.y0+ut}),nt.forEach(function(_t){_t.y0=(_t.y0-Mt)*kt,_t.y1=(_t.y1-Mt)*kt,_t.width=_t.width*kt})}}(Ae,ye,Ee),H(Ae,Oe,Ee,ue),Ae}function ve(Ae){Ae.nodes.forEach(function(Le){Le.sourceLinks.sort(l),Le.targetLinks.sort(u)}),Ae.nodes.forEach(function(Le){var Ve=Le.y0,Ne=Ve,We=Le.y1,Xe=We;Le.sourceLinks.forEach(function(nt){nt.circular?(nt.y0=We-nt.width/2,We-=nt.width):(nt.y0=Ve+nt.width/2,Ve+=nt.width)}),Le.targetLinks.forEach(function(nt){nt.circular?(nt.y1=Xe-nt.width/2,Xe-=nt.width):(nt.y1=Ne+nt.width/2,Ne+=nt.width)})})}return je.nodeId=function(Ae){return arguments.length?(ue="function"==typeof Ae?Ae:r(Ae),je):ue},je.nodeAlign=function(Ae){return arguments.length?(me="function"==typeof Ae?Ae:r(Ae),je):me},je.nodeWidth=function(Ae){return arguments.length?(he=+Ae,je):he},je.nodePadding=function(Ae){return arguments.length?(we=+Ae,je):we},je.nodes=function(Ae){return arguments.length?(Pe="function"==typeof Ae?Ae:r(Ae),je):Pe},je.links=function(Ae){return arguments.length?(Ce="function"==typeof Ae?Ae:r(Ae),je):Ce},je.size=function(Ae){return arguments.length?(be=ye=0,Se=+Ae[0],Ee=+Ae[1],je):[Se-be,Ee-ye]},je.extent=function(Ae){return arguments.length?(be=+Ae[0][0],Se=+Ae[1][0],ye=+Ae[0][1],Ee=+Ae[1][1],je):[[be,ye],[Se,Ee]]},je.iterations=function(Ae){return arguments.length?(Ie=+Ae,je):Ie},je.circularLinkGap=function(Ae){return arguments.length?(Oe=+Ae,je):Oe},je.nodePaddingRatio=function(Ae){return arguments.length?(xe=+Ae,je):xe},je.sortNodes=function(Ae){return arguments.length?(ze=Ae,je):ze},je.update=function(Ae){return P(Ae,ue),ve(Ae),Ae.links.forEach(function(Le){Le.circular&&(Le.circularLinkType=Le.y0+Le.y1<Ee?"top":"bottom",Le.source.circularLinkType=Le.circularLinkType,Le.target.circularLinkType=Le.circularLinkType)}),fe(Ae,Ee,ue,!1),ce(Ae,0,ue),H(Ae,Oe,Ee,ue),Ae},je}function P(we,xe){var be=0,ye=0;we.links.forEach(function(Se){Se.circular&&(Se.circularLinkType=Se.source.circularLinkType||Se.target.circularLinkType?Se.source.circularLinkType?Se.source.circularLinkType:Se.target.circularLinkType:be<ye?"top":"bottom","top"==Se.circularLinkType?be+=1:ye+=1,we.nodes.forEach(function(Ee){f(Ee,xe)!=f(Se.source,xe)&&f(Ee,xe)!=f(Se.target,xe)||(Ee.circularLinkType=Se.circularLinkType)}))}),we.links.forEach(function(Se){Se.circular&&(Se.source.circularLinkType==Se.target.circularLinkType&&(Se.circularLinkType=Se.source.circularLinkType),Me(Se,xe)&&(Se.circularLinkType=Se.source.circularLinkType))})}function O(we){var xe=Math.abs(we.y1-we.y0),be=Math.abs(we.target.x0-we.source.x1);return Math.atan(be/xe)}function B(we,xe){var be=0;we.sourceLinks.forEach(function(Se){be=Se.circular&&!Me(Se,xe)?be+1:be});var ye=0;return we.targetLinks.forEach(function(Se){ye=Se.circular&&!Me(Se,xe)?ye+1:ye}),be+ye}function q(we){var be=0;we.source.sourceLinks.forEach(function(Ee){be=Ee.circular?be+1:be});var Se=0;return we.target.targetLinks.forEach(function(Ee){Se=Ee.circular?Se+1:Se}),!(be>1||Se>1)}function N(we,xe,be){return we.sort($),we.forEach(function(ye,Se){var Ee,he,ue=0;if(Me(ye,be)&&q(ye))ye.circularPathData.verticalBuffer=ue+ye.width/2;else{for(var me=0;me<Se;me++)if(!((Ee=we[Se]).source.column<(he=we[me]).target.column||Ee.target.column>he.source.column)){var Pe=we[me].circularPathData.verticalBuffer+we[me].width/2+xe;ue=Pe>ue?Pe:ue}ye.circularPathData.verticalBuffer=ue+ye.width/2}}),we}function H(we,xe,be,ye){var Se=(0,S.SY)(we.links,function(Ee){return Ee.source.y0});we.links.forEach(function(Ee){Ee.circular&&(Ee.circularPathData={})}),N(we.links.filter(function(Ee){return"top"==Ee.circularLinkType}),xe,ye),N(we.links.filter(function(Ee){return"bottom"==Ee.circularLinkType}),xe,ye),we.links.forEach(function(Ee){if(Ee.circular){if(Ee.circularPathData.arcRadius=Ee.width+T,Ee.circularPathData.leftNodeBuffer=5,Ee.circularPathData.rightNodeBuffer=5,Ee.circularPathData.sourceWidth=Ee.source.x1-Ee.source.x0,Ee.circularPathData.sourceX=Ee.source.x0+Ee.circularPathData.sourceWidth,Ee.circularPathData.targetX=Ee.target.x0,Ee.circularPathData.sourceY=Ee.y0,Ee.circularPathData.targetY=Ee.y1,Me(Ee,ye)&&q(Ee))Ee.circularPathData.leftSmallArcRadius=T+Ee.width/2,Ee.circularPathData.leftLargeArcRadius=T+Ee.width/2,Ee.circularPathData.rightSmallArcRadius=T+Ee.width/2,Ee.circularPathData.rightLargeArcRadius=T+Ee.width/2,"bottom"==Ee.circularLinkType?(Ee.circularPathData.verticalFullExtent=Ee.source.y1+C+Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.rightLargeArcRadius):(Ee.circularPathData.verticalFullExtent=Ee.source.y0-C-Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.rightLargeArcRadius);else{var he=Ee.source.column,ue=Ee.circularLinkType,me=we.links.filter(function(Ie){return Ie.source.column==he&&Ie.circularLinkType==ue});me.sort("bottom"==Ee.circularLinkType?W:j);var Pe=0;me.forEach(function(Ie,Oe){Ie.circularLinkID==Ee.circularLinkID&&(Ee.circularPathData.leftSmallArcRadius=T+Ee.width/2+Pe,Ee.circularPathData.leftLargeArcRadius=T+Ee.width/2+Oe*xe+Pe),Pe+=Ie.width}),he=Ee.target.column,(me=we.links.filter(function(Ie){return Ie.target.column==he&&Ie.circularLinkType==ue})).sort("bottom"==Ee.circularLinkType?ae:G),Pe=0,me.forEach(function(Ie,Oe){Ie.circularLinkID==Ee.circularLinkID&&(Ee.circularPathData.rightSmallArcRadius=T+Ee.width/2+Pe,Ee.circularPathData.rightLargeArcRadius=T+Ee.width/2+Oe*xe+Pe),Pe+=Ie.width}),"bottom"==Ee.circularLinkType?(Ee.circularPathData.verticalFullExtent=Math.max(be,Ee.source.y1,Ee.target.y1)+C+Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.rightLargeArcRadius):(Ee.circularPathData.verticalFullExtent=Se-C-Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.rightLargeArcRadius)}Ee.circularPathData.leftInnerExtent=Ee.circularPathData.sourceX+Ee.circularPathData.leftNodeBuffer,Ee.circularPathData.rightInnerExtent=Ee.circularPathData.targetX-Ee.circularPathData.rightNodeBuffer,Ee.circularPathData.leftFullExtent=Ee.circularPathData.sourceX+Ee.circularPathData.leftLargeArcRadius+Ee.circularPathData.leftNodeBuffer,Ee.circularPathData.rightFullExtent=Ee.circularPathData.targetX-Ee.circularPathData.rightLargeArcRadius-Ee.circularPathData.rightNodeBuffer}if(Ee.circular)Ee.path="top"==(Ie=Ee).circularLinkType?"M"+Ie.circularPathData.sourceX+" "+Ie.circularPathData.sourceY+" L"+Ie.circularPathData.leftInnerExtent+" "+Ie.circularPathData.sourceY+" A"+Ie.circularPathData.leftLargeArcRadius+" "+Ie.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ie.circularPathData.leftFullExtent+" "+(Ie.circularPathData.sourceY-Ie.circularPathData.leftSmallArcRadius)+" L"+Ie.circularPathData.leftFullExtent+" "+Ie.circularPathData.verticalLeftInnerExtent+" A"+Ie.circularPathData.leftLargeArcRadius+" "+Ie.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ie.circularPathData.leftInnerExtent+" "+Ie.circularPathData.verticalFullExtent+" L"+Ie.circularPathData.rightInnerExtent+" "+Ie.circularPathData.verticalFullExtent+" A"+Ie.circularPathData.rightLargeArcRadius+" "+Ie.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ie.circularPathData.rightFullExtent+" "+Ie.circularPathData.verticalRightInnerExtent+" L"+Ie.circularPathData.rightFullExtent+" "+(Ie.circularPathData.targetY-Ie.circularPathData.rightSmallArcRadius)+" A"+Ie.circularPathData.rightLargeArcRadius+" "+Ie.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ie.circularPathData.rightInnerExtent+" "+Ie.circularPathData.targetY+" L"+Ie.circularPathData.targetX+" "+Ie.circularPathData.targetY:"M"+Ie.circularPathData.sourceX+" "+Ie.circularPathData.sourceY+" L"+Ie.circularPathData.leftInnerExtent+" "+Ie.circularPathData.sourceY+" A"+Ie.circularPathData.leftLargeArcRadius+" "+Ie.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ie.circularPathData.leftFullExtent+" "+(Ie.circularPathData.sourceY+Ie.circularPathData.leftSmallArcRadius)+" L"+Ie.circularPathData.leftFullExtent+" "+Ie.circularPathData.verticalLeftInnerExtent+" A"+Ie.circularPathData.leftLargeArcRadius+" "+Ie.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ie.circularPathData.leftInnerExtent+" "+Ie.circularPathData.verticalFullExtent+" L"+Ie.circularPathData.rightInnerExtent+" "+Ie.circularPathData.verticalFullExtent+" A"+Ie.circularPathData.rightLargeArcRadius+" "+Ie.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ie.circularPathData.rightFullExtent+" "+Ie.circularPathData.verticalRightInnerExtent+" L"+Ie.circularPathData.rightFullExtent+" "+(Ie.circularPathData.targetY+Ie.circularPathData.rightSmallArcRadius)+" A"+Ie.circularPathData.rightLargeArcRadius+" "+Ie.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ie.circularPathData.rightInnerExtent+" "+Ie.circularPathData.targetY+" L"+Ie.circularPathData.targetX+" "+Ie.circularPathData.targetY;else{var Ce=(0,a.ak)().source(function(Ie){return[Ie.source.x0+(Ie.source.x1-Ie.source.x0),Ie.y0]}).target(function(Ie){return[Ie.target.x0,Ie.y1]});Ee.path=Ce(Ee)}var Ie})}function $(we,xe){return te(we)==te(xe)?"bottom"==we.circularLinkType?W(we,xe):j(we,xe):te(xe)-te(we)}function j(we,xe){return we.y0-xe.y0}function W(we,xe){return xe.y0-we.y0}function G(we,xe){return we.y1-xe.y1}function ae(we,xe){return xe.y1-we.y1}function te(we){return we.target.column-we.source.column}function Q(we){return we.target.x0-we.source.x1}function ee(we,xe){var be=O(we),ye=Q(xe)/Math.tan(be);return"up"==Te(we)?we.y1+ye:we.y1-ye}function re(we,xe){var be=O(we),ye=Q(xe)/Math.tan(be);return"up"==Te(we)?we.y1-ye:we.y1+ye}function J(we,xe,be,ye){we.links.forEach(function(Se){if(!Se.circular&&Se.target.column-Se.source.column>1){var Ee=Se.source.column+1,he=Se.target.column-1,ue=1,me=he-Ee+1;for(ue=1;Ee<=he;Ee++,ue++)we.nodes.forEach(function(Pe){if(Pe.column==Ee){var Ce,Ie=ue/(me+1),Oe=Math.pow(1-Ie,3),ze=3*Ie*Math.pow(1-Ie,2),je=3*Math.pow(Ie,2)*(1-Ie),ve=Math.pow(Ie,3),Ae=Oe*Se.y0+ze*Se.y0+je*Se.y1+ve*Se.y1,Le=Ae-Se.width/2,Ve=Ae+Se.width/2;Le>Pe.y0&&Le<Pe.y1?(Ce=Pe.y1-Le+10,Pe=le(Pe,Ce="bottom"==Pe.circularLinkType?Ce:-Ce,xe,be),we.nodes.forEach(function(Ne){var We,Xe;f(Ne,ye)!=f(Pe,ye)&&Ne.column==Pe.column&&((We=Pe).y0>(Xe=Ne).y0&&We.y0<Xe.y1||We.y1>Xe.y0&&We.y1<Xe.y1||We.y0<Xe.y0&&We.y1>Xe.y1)&&le(Ne,Ce,xe,be)})):(Ve>Pe.y0&&Ve<Pe.y1||Le<Pe.y0&&Ve>Pe.y1)&&(Pe=le(Pe,Ce=Ve-Pe.y0+10,xe,be),we.nodes.forEach(function(Ne){f(Ne,ye)!=f(Pe,ye)&&Ne.column==Pe.column&&Ne.y0<Pe.y1&&Ne.y1>Pe.y1&&le(Ne,Ce,xe,be)}))}})}})}function le(we,xe,be,ye){return we.y0+xe>=be&&we.y1+xe<=ye&&(we.y0=we.y0+xe,we.y1=we.y1+xe,we.targetLinks.forEach(function(Se){Se.y1=Se.y1+xe}),we.sourceLinks.forEach(function(Se){Se.y0=Se.y0+xe})),we}function fe(we,xe,be,ye){we.nodes.forEach(function(Se){ye&&Se.y+(Se.y1-Se.y0)>xe&&(Se.y=Se.y-(Se.y+(Se.y1-Se.y0)-xe));var Ee=we.links.filter(function(me){return f(me.source,be)==f(Se,be)}),he=Ee.length;he>1&&Ee.sort(function(me,Pe){if(!me.circular&&!Pe.circular){if(me.target.column==Pe.target.column||!ge(me,Pe))return me.y1-Pe.y1;if(me.target.column>Pe.target.column){var Ce=re(Pe,me);return me.y1-Ce}if(Pe.target.column>me.target.column)return re(me,Pe)-Pe.y1}return me.circular&&!Pe.circular?"top"==me.circularLinkType?-1:1:Pe.circular&&!me.circular?"top"==Pe.circularLinkType?1:-1:me.circular&&Pe.circular?me.circularLinkType===Pe.circularLinkType&&"top"==me.circularLinkType?me.target.column===Pe.target.column?me.target.y1-Pe.target.y1:Pe.target.column-me.target.column:me.circularLinkType===Pe.circularLinkType&&"bottom"==me.circularLinkType?me.target.column===Pe.target.column?Pe.target.y1-me.target.y1:me.target.column-Pe.target.column:"top"==me.circularLinkType?-1:1:void 0});var ue=Se.y0;Ee.forEach(function(me){me.y0=ue+me.width/2,ue+=me.width}),Ee.forEach(function(me,Pe){if("bottom"==me.circularLinkType){for(var Ce=Pe+1,Ie=0;Ce<he;Ce++)Ie+=Ee[Ce].width;me.y0=Se.y1-Ie-me.width/2}})})}function ce(we,xe,be){we.nodes.forEach(function(ye){var Se=we.links.filter(function(ue){return f(ue.target,be)==f(ye,be)}),Ee=Se.length;Ee>1&&Se.sort(function(ue,me){if(!ue.circular&&!me.circular){if(ue.source.column==me.source.column||!ge(ue,me))return ue.y0-me.y0;if(me.source.column<ue.source.column){var Pe=ee(me,ue);return ue.y0-Pe}if(ue.source.column<me.source.column)return ee(ue,me)-me.y0}return ue.circular&&!me.circular?"top"==ue.circularLinkType?-1:1:me.circular&&!ue.circular?"top"==me.circularLinkType?1:-1:ue.circular&&me.circular?ue.circularLinkType===me.circularLinkType&&"top"==ue.circularLinkType?ue.source.column===me.source.column?ue.source.y1-me.source.y1:ue.source.column-me.source.column:ue.circularLinkType===me.circularLinkType&&"bottom"==ue.circularLinkType?ue.source.column===me.source.column?ue.source.y1-me.source.y1:me.source.column-ue.source.column:"top"==ue.circularLinkType?-1:1:void 0});var he=ye.y0;Se.forEach(function(ue){ue.y1=he+ue.width/2,he+=ue.width}),Se.forEach(function(ue,me){if("bottom"==ue.circularLinkType){for(var Pe=me+1,Ce=0;Pe<Ee;Pe++)Ce+=Se[Pe].width;ue.y1=ye.y1-Ce-ue.width/2}})})}function ge(we,xe){return Te(we)==Te(xe)}function Te(we){return we.y0-we.y1>0?"up":"down"}function Me(we,xe){return f(we.source,xe)==f(we.target,xe)}},26800:function(ie,z,e){"use strict";e.r(z),e.d(z,{sankey:function(){return v},sankeyCenter:function(){return s},sankeyJustify:function(){return d},sankeyLeft:function(){return M},sankeyLinkHorizontal:function(){return f},sankeyRight:function(){return _}});var S=e(84706),A=e(34712);function a(C){return C.target.depth}function M(C){return C.depth}function _(C,T){return T-1-C.height}function d(C,T){return C.sourceLinks.length?C.depth:T-1}function s(C){return C.targetLinks.length?C.depth:C.sourceLinks.length?(0,S.SY)(C.sourceLinks,a)-1:0}function t(C){return function(){return C}}function i(C,T){return r(C.source,T.source)||C.index-T.index}function n(C,T){return r(C.target,T.target)||C.index-T.index}function r(C,T){return C.y0-T.y0}function o(C){return C.value}function u(C){return(C.y0+C.y1)/2}function l(C){return u(C.source)*C.value}function h(C){return u(C.target)*C.value}function c(C){return C.index}function b(C){return C.nodes}function p(C){return C.links}function m(C,T){var D=C.get(T);if(!D)throw new Error("missing: "+T);return D}function v(){var C=0,T=0,D=1,R=1,P=24,O=8,B=c,q=d,N=b,H=p,$=32;function j(){var G={nodes:N.apply(null,arguments),links:H.apply(null,arguments)};return function(ae){ae.nodes.forEach(function(Q,ee){Q.index=ee,Q.sourceLinks=[],Q.targetLinks=[]});var te=(0,A.kH)(ae.nodes,B);ae.links.forEach(function(Q,ee){Q.index=ee;var re=Q.source,J=Q.target;"object"!=typeof re&&(re=Q.source=m(te,re)),"object"!=typeof J&&(J=Q.target=m(te,J)),re.sourceLinks.push(Q),J.targetLinks.push(Q)})}(G),G.nodes.forEach(function(te){te.value=Math.max((0,S.oh)(te.sourceLinks,o),(0,S.oh)(te.targetLinks,o))}),function(ae){var te,Q,ee;for(te=ae.nodes,Q=[],ee=0;te.length;++ee,te=Q,Q=[])te.forEach(function(J){J.depth=ee,J.sourceLinks.forEach(function(le){Q.indexOf(le.target)<0&&Q.push(le.target)})});for(te=ae.nodes,Q=[],ee=0;te.length;++ee,te=Q,Q=[])te.forEach(function(J){J.height=ee,J.targetLinks.forEach(function(le){Q.indexOf(le.source)<0&&Q.push(le.source)})});var re=(D-C-P)/(ee-1);ae.nodes.forEach(function(J){J.x1=(J.x0=C+Math.max(0,Math.min(ee-1,Math.floor(q.call(null,J,ee))))*re)+P})}(G),function(ae){var te=(0,A.UJ)().key(function(fe){return fe.x0}).sortKeys(S.XE).entries(ae.nodes).map(function(fe){return fe.values});(function(){var fe=(0,S.kv)(te,function(Te){return Te.length}),ce=.6666666666666666*(R-T)/(fe-1);O>ce&&(O=ce);var ge=(0,S.SY)(te,function(Te){return(R-T-(Te.length-1)*O)/(0,S.oh)(Te,o)});te.forEach(function(Te){Te.forEach(function(Me,we){Me.y1=(Me.y0=we)+Me.value*ge})}),ae.links.forEach(function(Te){Te.width=Te.value*ge})})(),le();for(var Q=1,ee=$;ee>0;--ee)J(Q*=.99),le(),re(Q),le();function re(fe){te.forEach(function(ce){ce.forEach(function(ge){if(ge.targetLinks.length){var Te=((0,S.oh)(ge.targetLinks,l)/(0,S.oh)(ge.targetLinks,o)-u(ge))*fe;ge.y0+=Te,ge.y1+=Te}})})}function J(fe){te.slice().reverse().forEach(function(ce){ce.forEach(function(ge){if(ge.sourceLinks.length){var Te=((0,S.oh)(ge.sourceLinks,h)/(0,S.oh)(ge.sourceLinks,o)-u(ge))*fe;ge.y0+=Te,ge.y1+=Te}})})}function le(){te.forEach(function(fe){var ce,ge,Te,Me=T,we=fe.length;for(fe.sort(r),Te=0;Te<we;++Te)(ge=Me-(ce=fe[Te]).y0)>0&&(ce.y0+=ge,ce.y1+=ge),Me=ce.y1+O;if((ge=Me-O-R)>0)for(Me=ce.y0-=ge,ce.y1-=ge,Te=we-2;Te>=0;--Te)(ge=(ce=fe[Te]).y1+O-Me)>0&&(ce.y0-=ge,ce.y1-=ge),Me=ce.y0})}}(G),W(G),G}function W(G){G.nodes.forEach(function(ae){ae.sourceLinks.sort(n),ae.targetLinks.sort(i)}),G.nodes.forEach(function(ae){var te=ae.y0,Q=te;ae.sourceLinks.forEach(function(ee){ee.y0=te+ee.width/2,te+=ee.width}),ae.targetLinks.forEach(function(ee){ee.y1=Q+ee.width/2,Q+=ee.width})})}return j.update=function(G){return W(G),G},j.nodeId=function(G){return arguments.length?(B="function"==typeof G?G:t(G),j):B},j.nodeAlign=function(G){return arguments.length?(q="function"==typeof G?G:t(G),j):q},j.nodeWidth=function(G){return arguments.length?(P=+G,j):P},j.nodePadding=function(G){return arguments.length?(O=+G,j):O},j.nodes=function(G){return arguments.length?(N="function"==typeof G?G:t(G),j):N},j.links=function(G){return arguments.length?(H="function"==typeof G?G:t(G),j):H},j.size=function(G){return arguments.length?(C=T=0,D=+G[0],R=+G[1],j):[D-C,R-T]},j.extent=function(G){return arguments.length?(C=+G[0][0],D=+G[1][0],T=+G[0][1],R=+G[1][1],j):[[C,T],[D,R]]},j.iterations=function(G){return arguments.length?($=+G,j):$},j}var x=e(10132);function y(C){return[C.source.x1,C.y0]}function w(C){return[C.target.x0,C.y1]}function f(){return(0,x.ak)().source(y).target(w)}},33428:function(ie,z,e){var S,A;(function(){var a={version:"3.8.0"},M=[].slice,_=function(L){return M.call(L)},d=self.document;function s(L){return L&&(L.ownerDocument||L.document||L).documentElement}function t(L){return L&&(L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView)}if(d)try{_(d.documentElement.childNodes)}catch{_=function(Y){for(var ne=Y.length,se=new Array(ne);ne--;)se[ne]=Y[ne];return se}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,n=i.setAttribute,r=i.setAttributeNS,o=this.CSSStyleDeclaration.prototype,u=o.setProperty;i.setAttribute=function(Y,ne){n.call(this,Y,ne+"")},i.setAttributeNS=function(Y,ne,se){r.call(this,Y,ne,se+"")},o.setProperty=function(Y,ne,se){u.call(this,Y,ne+"",se)}}function l(L,Y){return L<Y?-1:L>Y?1:L>=Y?0:NaN}function h(L){return null===L?NaN:+L}function c(L){return!isNaN(L)}function b(L){return{left:function(Y,ne,se,pe){for(arguments.length<3&&(se=0),arguments.length<4&&(pe=Y.length);se<pe;){var ke=se+pe>>>1;L(Y[ke],ne)<0?se=ke+1:pe=ke}return se},right:function(Y,ne,se,pe){for(arguments.length<3&&(se=0),arguments.length<4&&(pe=Y.length);se<pe;){var ke=se+pe>>>1;L(Y[ke],ne)>0?pe=ke:se=ke+1}return se}}}a.ascending=l,a.descending=function(L,Y){return Y<L?-1:Y>L?1:Y>=L?0:NaN},a.min=function(L,Y){var ne,se,pe=-1,ke=L.length;if(1===arguments.length){for(;++pe<ke;)if(null!=(se=L[pe])&&se>=se){ne=se;break}for(;++pe<ke;)null!=(se=L[pe])&&ne>se&&(ne=se)}else{for(;++pe<ke;)if(null!=(se=Y.call(L,L[pe],pe))&&se>=se){ne=se;break}for(;++pe<ke;)null!=(se=Y.call(L,L[pe],pe))&&ne>se&&(ne=se)}return ne},a.max=function(L,Y){var ne,se,pe=-1,ke=L.length;if(1===arguments.length){for(;++pe<ke;)if(null!=(se=L[pe])&&se>=se){ne=se;break}for(;++pe<ke;)null!=(se=L[pe])&&se>ne&&(ne=se)}else{for(;++pe<ke;)if(null!=(se=Y.call(L,L[pe],pe))&&se>=se){ne=se;break}for(;++pe<ke;)null!=(se=Y.call(L,L[pe],pe))&&se>ne&&(ne=se)}return ne},a.extent=function(L,Y){var ne,se,pe,ke=-1,Re=L.length;if(1===arguments.length){for(;++ke<Re;)if(null!=(se=L[ke])&&se>=se){ne=pe=se;break}for(;++ke<Re;)null!=(se=L[ke])&&(ne>se&&(ne=se),pe<se&&(pe=se))}else{for(;++ke<Re;)if(null!=(se=Y.call(L,L[ke],ke))&&se>=se){ne=pe=se;break}for(;++ke<Re;)null!=(se=Y.call(L,L[ke],ke))&&(ne>se&&(ne=se),pe<se&&(pe=se))}return[ne,pe]},a.sum=function(L,Y){var ne,se=0,pe=L.length,ke=-1;if(1===arguments.length)for(;++ke<pe;)c(ne=+L[ke])&&(se+=ne);else for(;++ke<pe;)c(ne=+Y.call(L,L[ke],ke))&&(se+=ne);return se},a.mean=function(L,Y){var ne,se=0,pe=L.length,ke=-1,Re=pe;if(1===arguments.length)for(;++ke<pe;)c(ne=h(L[ke]))?se+=ne:--Re;else for(;++ke<pe;)c(ne=h(Y.call(L,L[ke],ke)))?se+=ne:--Re;if(Re)return se/Re},a.quantile=function(L,Y){var ne=(L.length-1)*Y+1,se=Math.floor(ne),pe=+L[se-1],ke=ne-se;return ke?pe+ke*(L[se]-pe):pe},a.median=function(L,Y){var ne,se=[],pe=L.length,ke=-1;if(1===arguments.length)for(;++ke<pe;)c(ne=h(L[ke]))&&se.push(ne);else for(;++ke<pe;)c(ne=h(Y.call(L,L[ke],ke)))&&se.push(ne);if(se.length)return a.quantile(se.sort(l),.5)},a.variance=function(L,Y){var ne,se,pe=L.length,ke=0,Re=0,Be=-1,Ze=0;if(1===arguments.length)for(;++Be<pe;)c(ne=h(L[Be]))&&(Re+=(se=ne-ke)*(ne-(ke+=se/++Ze)));else for(;++Be<pe;)c(ne=h(Y.call(L,L[Be],Be)))&&(Re+=(se=ne-ke)*(ne-(ke+=se/++Ze)));if(Ze>1)return Re/(Ze-1)},a.deviation=function(){var L=a.variance.apply(this,arguments);return L&&Math.sqrt(L)};var p=b(l);function m(L){return L.length}a.bisectLeft=p.left,a.bisect=a.bisectRight=p.right,a.bisector=function(L){return b(1===L.length?function(Y,ne){return l(L(Y),ne)}:L)},a.shuffle=function(L,Y,ne){(ke=arguments.length)<3&&(ne=L.length,ke<2&&(Y=0));for(var se,pe,ke=ne-Y;ke;)pe=Math.random()*ke--|0,se=L[ke+Y],L[ke+Y]=L[pe+Y],L[pe+Y]=se;return L},a.permute=function(L,Y){for(var ne=Y.length,se=new Array(ne);ne--;)se[ne]=L[Y[ne]];return se},a.pairs=function(L){for(var Y=0,ne=L.length-1,se=L[0],pe=new Array(ne<0?0:ne);Y<ne;)pe[Y]=[se,se=L[++Y]];return pe},a.transpose=function(L){if(!(pe=L.length))return[];for(var Y=-1,ne=a.min(L,m),se=new Array(ne);++Y<ne;)for(var pe,ke=-1,Re=se[Y]=new Array(pe);++ke<pe;)Re[ke]=L[ke][Y];return se},a.zip=function(){return a.transpose(arguments)},a.keys=function(L){var Y=[];for(var ne in L)Y.push(ne);return Y},a.values=function(L){var Y=[];for(var ne in L)Y.push(L[ne]);return Y},a.entries=function(L){var Y=[];for(var ne in L)Y.push({key:ne,value:L[ne]});return Y},a.merge=function(L){for(var Y,ne,se,pe=L.length,ke=-1,Re=0;++ke<pe;)Re+=L[ke].length;for(ne=new Array(Re);--pe>=0;)for(Y=(se=L[pe]).length;--Y>=0;)ne[--Re]=se[Y];return ne};var v=Math.abs;function x(L,Y){for(var ne in Y)Object.defineProperty(L.prototype,ne,{value:Y[ne],enumerable:!1})}function y(){this._=Object.create(null)}a.range=function(L,Y,ne){if(arguments.length<3&&(ne=1,arguments.length<2&&(Y=L,L=0)),(Y-L)/ne==1/0)throw new Error("infinite range");var se,pe=[],ke=function(Be){for(var Ze=1;Be*Ze%1;)Ze*=10;return Ze}(v(ne)),Re=-1;if(L*=ke,Y*=ke,(ne*=ke)<0)for(;(se=L+ne*++Re)>Y;)pe.push(se/ke);else for(;(se=L+ne*++Re)<Y;)pe.push(se/ke);return pe},a.map=function(L,Y){var ne=new y;if(L instanceof y)L.forEach(function(Be,Ze){ne.set(Be,Ze)});else if(Array.isArray(L)){var se,pe=-1,ke=L.length;if(1===arguments.length)for(;++pe<ke;)ne.set(pe,L[pe]);else for(;++pe<ke;)ne.set(Y.call(L,se=L[pe],pe),se)}else for(var Re in L)ne.set(Re,L[Re]);return ne};var w="__proto__",f="\0";function C(L){return(L+="")===w||L[0]===f?f+L:L}function T(L){return(L+="")[0]===f?L.slice(1):L}function D(L){return C(L)in this._}function R(L){return(L=C(L))in this._&&delete this._[L]}function P(){var L=[];for(var Y in this._)L.push(T(Y));return L}function O(){var L=0;for(var Y in this._)++L;return L}function B(){for(var L in this._)return!1;return!0}function q(){this._=Object.create(null)}function N(L){return L}function H(L,Y,ne){return function(){var se=ne.apply(Y,arguments);return se===Y?L:se}}function $(L,Y){if(Y in L)return Y;Y=Y.charAt(0).toUpperCase()+Y.slice(1);for(var ne=0,se=j.length;ne<se;++ne){var pe=j[ne]+Y;if(pe in L)return pe}}x(y,{has:D,get:function(L){return this._[C(L)]},set:function(L,Y){return this._[C(L)]=Y},remove:R,keys:P,values:function(){var L=[];for(var Y in this._)L.push(this._[Y]);return L},entries:function(){var L=[];for(var Y in this._)L.push({key:T(Y),value:this._[Y]});return L},size:O,empty:B,forEach:function(L){for(var Y in this._)L.call(this,T(Y),this._[Y])}}),a.nest=function(){var L,Y,ne={},se=[],pe=[];function ke(Be,Ze,Ke){if(Ke>=se.length)return Y?Y.call(ne,Ze):L?Ze.sort(L):Ze;for(var lt,vt,bt,St,Ft=-1,It=Ze.length,Wt=se[Ke++],zt=new y;++Ft<It;)(St=zt.get(lt=Wt(vt=Ze[Ft])))?St.push(vt):zt.set(lt,[vt]);return Be?(vt=Be(),bt=function(sn,en){vt.set(sn,ke(Be,en,Ke))}):(vt={},bt=function(sn,en){vt[sn]=ke(Be,en,Ke)}),zt.forEach(bt),vt}function Re(Be,Ze){if(Ze>=se.length)return Be;var Ke=[],lt=pe[Ze++];return Be.forEach(function(vt,bt){Ke.push({key:vt,values:Re(bt,Ze)})}),lt?Ke.sort(function(vt,bt){return lt(vt.key,bt.key)}):Ke}return ne.map=function(Be,Ze){return ke(Ze,Be,0)},ne.entries=function(Be){return Re(ke(a.map,Be,0),0)},ne.key=function(Be){return se.push(Be),ne},ne.sortKeys=function(Be){return pe[se.length-1]=Be,ne},ne.sortValues=function(Be){return L=Be,ne},ne.rollup=function(Be){return Y=Be,ne},ne},a.set=function(L){var Y=new q;if(L)for(var ne=0,se=L.length;ne<se;++ne)Y.add(L[ne]);return Y},x(q,{has:D,add:function(L){return this._[C(L+="")]=!0,L},remove:R,values:P,size:O,empty:B,forEach:function(L){for(var Y in this._)L.call(this,T(Y))}}),a.behavior={},a.rebind=function(L,Y){for(var ne,se=1,pe=arguments.length;++se<pe;)L[ne=arguments[se]]=H(L,Y,Y[ne]);return L};var j=["webkit","ms","moz","Moz","o","O"];function W(){}function G(){}function ae(L){var Y=[],ne=new y;function se(){for(var pe,ke=Y,Re=-1,Be=ke.length;++Re<Be;)(pe=ke[Re].on)&&pe.apply(this,arguments);return L}return se.on=function(pe,ke){var Re,Be=ne.get(pe);return arguments.length<2?Be&&Be.on:(Be&&(Be.on=null,Y=Y.slice(0,Re=Y.indexOf(Be)).concat(Y.slice(Re+1)),ne.remove(pe)),ke&&Y.push(ne.set(pe,{on:ke})),L)},se}function te(){a.event.preventDefault()}function Q(){for(var L,Y=a.event;L=Y.sourceEvent;)Y=L;return Y}function ee(L){for(var Y=new G,ne=0,se=arguments.length;++ne<se;)Y[arguments[ne]]=ae(Y);return Y.of=function(pe,ke){return function(Re){try{var Be=Re.sourceEvent=a.event;Re.target=L,a.event=Re,Y[Re.type].apply(pe,ke)}finally{a.event=Be}}},Y}a.dispatch=function(){for(var L=new G,Y=-1,ne=arguments.length;++Y<ne;)L[arguments[Y]]=ae(L);return L},G.prototype.on=function(L,Y){var ne=L.indexOf("."),se="";if(ne>=0&&(se=L.slice(ne+1),L=L.slice(0,ne)),L)return arguments.length<2?this[L].on(se):this[L].on(se,Y);if(2===arguments.length){if(null==Y)for(L in this)this.hasOwnProperty(L)&&this[L].on(se,null);return this}},a.event=null,a.requote=function(L){return L.replace(re,"\\$&")};var re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,J={}.__proto__?function(L,Y){L.__proto__=Y}:function(L,Y){for(var ne in Y)L[ne]=Y[ne]};function le(L){return J(L,Te),L}var fe=function(L,Y){return Y.querySelector(L)},ce=function(L,Y){return Y.querySelectorAll(L)},ge=function(L,Y){var ne=L.matches||L[$(L,"matchesSelector")];return(ge=function(se,pe){return ne.call(se,pe)})(L,Y)};"function"==typeof Sizzle&&(fe=function(L,Y){return Sizzle(L,Y)[0]||null},ce=Sizzle,ge=Sizzle.matchesSelector),a.selection=function(){return a.select(d.documentElement)};var Te=a.selection.prototype=[];function Me(L){return"function"==typeof L?L:function(){return fe(L,this)}}function we(L){return"function"==typeof L?L:function(){return ce(L,this)}}Te.select=function(L){var Y,ne,se,pe,ke=[];L=Me(L);for(var Re=-1,Be=this.length;++Re<Be;){ke.push(Y=[]),Y.parentNode=(se=this[Re]).parentNode;for(var Ze=-1,Ke=se.length;++Ze<Ke;)(pe=se[Ze])?(Y.push(ne=L.call(pe,pe.__data__,Ze,Re)),ne&&"__data__"in pe&&(ne.__data__=pe.__data__)):Y.push(null)}return le(ke)},Te.selectAll=function(L){var Y,ne,se=[];L=we(L);for(var pe=-1,ke=this.length;++pe<ke;)for(var Re=this[pe],Be=-1,Ze=Re.length;++Be<Ze;)(ne=Re[Be])&&(se.push(Y=_(L.call(ne,ne.__data__,Be,pe))),Y.parentNode=ne);return le(se)};var xe="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ye(L,Y){return L=a.ns.qualify(L),null==Y?L.local?function(){this.removeAttributeNS(L.space,L.local)}:function(){this.removeAttribute(L)}:"function"==typeof Y?L.local?function(){var ne=Y.apply(this,arguments);null==ne?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,ne)}:function(){var ne=Y.apply(this,arguments);null==ne?this.removeAttribute(L):this.setAttribute(L,ne)}:L.local?function(){this.setAttributeNS(L.space,L.local,Y)}:function(){this.setAttribute(L,Y)}}function Se(L){return L.trim().replace(/\s+/g," ")}function Ee(L){return new RegExp("(?:^|\\s+)"+a.requote(L)+"(?:\\s+|$)","g")}function he(L){return(L+"").trim().split(/^|\s+/)}function ue(L,Y){var ne=(L=he(L).map(me)).length;return"function"==typeof Y?function(){for(var se=-1,pe=Y.apply(this,arguments);++se<ne;)L[se](this,pe)}:function(){for(var se=-1;++se<ne;)L[se](this,Y)}}function me(L){var Y=Ee(L);return function(ne,se){if(pe=ne.classList)return se?pe.add(L):pe.remove(L);var pe=ne.getAttribute("class")||"";se?(Y.lastIndex=0,Y.test(pe)||ne.setAttribute("class",Se(pe+" "+L))):ne.setAttribute("class",Se(pe.replace(Y," ")))}}function Pe(L,Y,ne){return null==Y?function(){this.style.removeProperty(L)}:"function"==typeof Y?function(){var se=Y.apply(this,arguments);null==se?this.style.removeProperty(L):this.style.setProperty(L,se,ne)}:function(){this.style.setProperty(L,Y,ne)}}function Ce(L,Y){return null==Y?function(){delete this[L]}:"function"==typeof Y?function(){var ne=Y.apply(this,arguments);null==ne?delete this[L]:this[L]=ne}:function(){this[L]=Y}}function Ie(L){return"function"==typeof L?L:(L=a.ns.qualify(L)).local?function(){return this.ownerDocument.createElementNS(L.space,L.local)}:function(){var Y=this.ownerDocument,ne=this.namespaceURI;return ne===xe&&Y.documentElement.namespaceURI===xe?Y.createElement(L):Y.createElementNS(ne,L)}}function Oe(){var L=this.parentNode;L&&L.removeChild(this)}function ze(L){return{__data__:L}}function je(L){return function(){return ge(this,L)}}function ve(L){return arguments.length||(L=l),function(Y,ne){return Y&&ne?L(Y.__data__,ne.__data__):!Y-!ne}}function Ae(L,Y){for(var ne=0,se=L.length;ne<se;ne++)for(var pe,ke=L[ne],Re=0,Be=ke.length;Re<Be;Re++)(pe=ke[Re])&&Y(pe,Re,ne);return L}function Le(L){return J(L,Ve),L}a.ns={prefix:be,qualify:function(L){var Y=L.indexOf(":"),ne=L;return Y>=0&&"xmlns"!==(ne=L.slice(0,Y))&&(L=L.slice(Y+1)),be.hasOwnProperty(ne)?{space:be[ne],local:L}:L}},Te.attr=function(L,Y){if(arguments.length<2){if("string"==typeof L){var ne=this.node();return(L=a.ns.qualify(L)).local?ne.getAttributeNS(L.space,L.local):ne.getAttribute(L)}for(Y in L)this.each(ye(Y,L[Y]));return this}return this.each(ye(L,Y))},Te.classed=function(L,Y){if(arguments.length<2){if("string"==typeof L){var ne=this.node(),se=(L=he(L)).length,pe=-1;if(Y=ne.classList){for(;++pe<se;)if(!Y.contains(L[pe]))return!1}else for(Y=ne.getAttribute("class");++pe<se;)if(!Ee(L[pe]).test(Y))return!1;return!0}for(Y in L)this.each(ue(Y,L[Y]));return this}return this.each(ue(L,Y))},Te.style=function(L,Y,ne){var se=arguments.length;if(se<3){if("string"!=typeof L){for(ne in se<2&&(Y=""),L)this.each(Pe(ne,L[ne],Y));return this}if(se<2){var pe=this.node();return t(pe).getComputedStyle(pe,null).getPropertyValue(L)}ne=""}return this.each(Pe(L,Y,ne))},Te.property=function(L,Y){if(arguments.length<2){if("string"==typeof L)return this.node()[L];for(Y in L)this.each(Ce(Y,L[Y]));return this}return this.each(Ce(L,Y))},Te.text=function(L){return arguments.length?this.each("function"==typeof L?function(){var Y=L.apply(this,arguments);this.textContent=Y??""}:null==L?function(){this.textContent=""}:function(){this.textContent=L}):this.node().textContent},Te.html=function(L){return arguments.length?this.each("function"==typeof L?function(){var Y=L.apply(this,arguments);this.innerHTML=Y??""}:null==L?function(){this.innerHTML=""}:function(){this.innerHTML=L}):this.node().innerHTML},Te.append=function(L){return L=Ie(L),this.select(function(){return this.appendChild(L.apply(this,arguments))})},Te.insert=function(L,Y){return L=Ie(L),Y=Me(Y),this.select(function(){return this.insertBefore(L.apply(this,arguments),Y.apply(this,arguments)||null)})},Te.remove=function(){return this.each(Oe)},Te.data=function(L,Y){var ne,se,pe=-1,ke=this.length;if(!arguments.length){for(L=new Array(ke=(ne=this[0]).length);++pe<ke;)(se=ne[pe])&&(L[pe]=se.__data__);return L}function Re(lt,vt){var bt,St,Ft,It=lt.length,Wt=vt.length,zt=Math.min(It,Wt),sn=new Array(Wt),en=new Array(Wt),Xt=new Array(It);if(Y){var Tn,kn=new y,Bn=new Array(It);for(bt=-1;++bt<It;)(St=lt[bt])&&(kn.has(Tn=Y.call(St,St.__data__,bt))?Xt[bt]=St:kn.set(Tn,St),Bn[bt]=Tn);for(bt=-1;++bt<Wt;)(St=kn.get(Tn=Y.call(vt,Ft=vt[bt],bt)))?!0!==St&&(sn[bt]=St,St.__data__=Ft):en[bt]=ze(Ft),kn.set(Tn,!0);for(bt=-1;++bt<It;)bt in Bn&&!0!==kn.get(Bn[bt])&&(Xt[bt]=lt[bt])}else{for(bt=-1;++bt<zt;)Ft=vt[bt],(St=lt[bt])?(St.__data__=Ft,sn[bt]=St):en[bt]=ze(Ft);for(;bt<Wt;++bt)en[bt]=ze(vt[bt]);for(;bt<It;++bt)Xt[bt]=lt[bt]}en.update=sn,en.parentNode=sn.parentNode=Xt.parentNode=lt.parentNode,Be.push(en),Ze.push(sn),Ke.push(Xt)}var Be=Le([]),Ze=le([]),Ke=le([]);if("function"==typeof L)for(;++pe<ke;)Re(ne=this[pe],L.call(ne,ne.parentNode.__data__,pe));else for(;++pe<ke;)Re(ne=this[pe],L);return Ze.enter=function(){return Be},Ze.exit=function(){return Ke},Ze},Te.datum=function(L){return arguments.length?this.property("__data__",L):this.property("__data__")},Te.filter=function(L){var Y,ne,se,pe=[];"function"!=typeof L&&(L=je(L));for(var ke=0,Re=this.length;ke<Re;ke++){pe.push(Y=[]),Y.parentNode=(ne=this[ke]).parentNode;for(var Be=0,Ze=ne.length;Be<Ze;Be++)(se=ne[Be])&&L.call(se,se.__data__,Be,ke)&&Y.push(se)}return le(pe)},Te.order=function(){for(var L=-1,Y=this.length;++L<Y;)for(var ne,se=this[L],pe=se.length-1,ke=se[pe];--pe>=0;)(ne=se[pe])&&(ke&&ke!==ne.nextSibling&&ke.parentNode.insertBefore(ne,ke),ke=ne);return this},Te.sort=function(L){L=ve.apply(this,arguments);for(var Y=-1,ne=this.length;++Y<ne;)this[Y].sort(L);return this.order()},Te.each=function(L){return Ae(this,function(Y,ne,se){L.call(Y,Y.__data__,ne,se)})},Te.call=function(L){var Y=_(arguments);return L.apply(Y[0]=this,Y),this},Te.empty=function(){return!this.node()},Te.node=function(){for(var L=0,Y=this.length;L<Y;L++)for(var ne=this[L],se=0,pe=ne.length;se<pe;se++){var ke=ne[se];if(ke)return ke}return null},Te.size=function(){var L=0;return Ae(this,function(){++L}),L};var Ve=[];function Ne(L,Y,ne){var se="__on"+L,pe=L.indexOf("."),ke=Xe;pe>0&&(L=L.slice(0,pe));var Re=We.get(L);function Be(){var Ze=this[se];Ze&&(this.removeEventListener(L,Ze,Ze.$),delete this[se])}return Re&&(L=Re,ke=nt),pe?Y?function(){var Ze=ke(Y,_(arguments));Be.call(this),this.addEventListener(L,this[se]=Ze,Ze.$=ne),Ze._=Y}:Be:Y?W:function(){var Ze,Ke=new RegExp("^__on([^.]+)"+a.requote(L)+"$");for(var lt in this)if(Ze=lt.match(Ke)){var vt=this[lt];this.removeEventListener(Ze[1],vt,vt.$),delete this[lt]}}}a.selection.enter=Le,a.selection.enter.prototype=Ve,Ve.append=Te.append,Ve.empty=Te.empty,Ve.node=Te.node,Ve.call=Te.call,Ve.size=Te.size,Ve.select=function(L){for(var Y,ne,se,pe,ke,Re=[],Be=-1,Ze=this.length;++Be<Ze;){se=(pe=this[Be]).update,Re.push(Y=[]),Y.parentNode=pe.parentNode;for(var Ke=-1,lt=pe.length;++Ke<lt;)(ke=pe[Ke])?(Y.push(se[Ke]=ne=L.call(pe.parentNode,ke.__data__,Ke,Be)),ne.__data__=ke.__data__):Y.push(null)}return le(Re)},Ve.insert=function(L,Y){var ne,se,pe;return arguments.length<2&&(ne=this,Y=function(ke,Re,Be){var Ze,Ke=ne[Be].update,lt=Ke.length;for(Be!=pe&&(pe=Be,se=0),Re>=se&&(se=Re+1);!(Ze=Ke[se])&&++se<lt;);return Ze}),Te.insert.call(this,L,Y)},a.select=function(L){var Y;return"string"==typeof L?(Y=[fe(L,d)]).parentNode=d.documentElement:(Y=[L]).parentNode=s(L),le([Y])},a.selectAll=function(L){var Y;return"string"==typeof L?(Y=_(ce(L,d))).parentNode=d.documentElement:(Y=_(L)).parentNode=null,le([Y])},Te.on=function(L,Y,ne){var se=arguments.length;if(se<3){if("string"!=typeof L){for(ne in se<2&&(Y=!1),L)this.each(Ne(ne,L[ne],Y));return this}if(se<2)return(se=this.node()["__on"+L])&&se._;ne=!1}return this.each(Ne(L,Y,ne))};var We=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Xe(L,Y){return function(ne){var se=a.event;a.event=ne,Y[0]=this.__data__;try{L.apply(this,Y)}finally{a.event=se}}}function nt(L,Y){var ne=Xe(L,Y);return function(se){var ke=se.relatedTarget;ke&&(ke===this||8&ke.compareDocumentPosition(this))||ne.call(this,se)}}d&&We.forEach(function(L){"on"+L in d&&We.remove(L)});var dt,ht=0;function Mt(L){var Y=".dragsuppress-"+ ++ht,ne="click"+Y,se=a.select(t(L)).on("touchmove"+Y,te).on("dragstart"+Y,te).on("selectstart"+Y,te);if(null==dt&&(dt=!("onselectstart"in L)&&$(L.style,"userSelect")),dt){var pe=s(L).style,ke=pe[dt];pe[dt]="none"}return function(Re){if(se.on(Y,null),dt&&(pe[dt]=ke),Re){var Be=function(){se.on(ne,null)};se.on(ne,function(){te(),Be()},!0),setTimeout(Be,0)}}}a.mouse=function(L){return _t(L,Q())};var kt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _t(L,Y){Y.changedTouches&&(Y=Y.changedTouches[0]);var ne=L.ownerSVGElement||L;if(ne.createSVGPoint){var se=ne.createSVGPoint();if(kt<0){var pe=t(L);if(pe.scrollX||pe.scrollY){var ke=(ne=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();kt=!(ke.f||ke.e),ne.remove()}}return kt?(se.x=Y.pageX,se.y=Y.pageY):(se.x=Y.clientX,se.y=Y.clientY),[(se=se.matrixTransform(L.getScreenCTM().inverse())).x,se.y]}var Re=L.getBoundingClientRect();return[Y.clientX-Re.left-L.clientLeft,Y.clientY-Re.top-L.clientTop]}function ut(){return a.event.changedTouches[0].identifier}a.touch=function(L,Y,ne){if(arguments.length<3&&(ne=Y,Y=Q().changedTouches),Y)for(var se,pe=0,ke=Y.length;pe<ke;++pe)if((se=Y[pe]).identifier===ne)return _t(L,se)},a.behavior.drag=function(){var L=ee(pe,"drag","dragstart","dragend"),Y=null,ne=ke(W,a.mouse,t,"mousemove","mouseup"),se=ke(ut,a.touch,N,"touchmove","touchend");function pe(){this.on("mousedown.drag",ne).on("touchstart.drag",se)}function ke(Re,Be,Ze,Ke,lt){return function(){var vt,St=a.event.target.correspondingElement||a.event.target,Ft=this.parentNode,It=L.of(this,arguments),Wt=0,zt=Re(),sn=".drag"+(null==zt?"":"-"+zt),en=a.select(Ze(St)).on(Ke+sn,function(){var kn,Bn,Hn=Be(Ft,zt);Hn&&(Wt|=(kn=Hn[0]-Tn[0])|(Bn=Hn[1]-Tn[1]),Tn=Hn,It({type:"drag",x:Hn[0]+vt[0],y:Hn[1]+vt[1],dx:kn,dy:Bn}))}).on(lt+sn,function(){Be(Ft,zt)&&(en.on(Ke+sn,null).on(lt+sn,null),Xt(Wt),It({type:"dragend"}))}),Xt=Mt(St),Tn=Be(Ft,zt);vt=Y?[(vt=Y.apply(this,arguments)).x-Tn[0],vt.y-Tn[1]]:[0,0],It({type:"dragstart"})}}return pe.origin=function(Re){return arguments.length?(Y=Re,pe):Y},a.rebind(pe,L,"on")},a.touches=function(L,Y){return arguments.length<2&&(Y=Q().touches),Y?_(Y).map(function(ne){var se=_t(L,ne);return se.identifier=ne.identifier,se}):[]};var st=1e-6,Lt=st*st,Ut=Math.PI,Ht=2*Ut,Pt=Ht-st,Je=Ut/2,tt=Ut/180,Ge=180/Ut;function Qe(L){return L>1?Je:L<-1?-Je:Math.asin(L)}function pt(L){return((L=Math.exp(L))+1/L)/2}var ct=Math.SQRT2;a.interpolateZoom=function(L,Y){var ne,se,pe=L[0],ke=L[1],Re=L[2],Ke=Y[2],lt=Y[0]-pe,vt=Y[1]-ke,bt=lt*lt+vt*vt;if(bt<Lt)se=Math.log(Ke/Re)/ct,ne=function(sn){return[pe+sn*lt,ke+sn*vt,Re*Math.exp(ct*sn*se)]};else{var St=Math.sqrt(bt),Ft=(Ke*Ke-Re*Re+4*bt)/(2*Re*2*St),It=(Ke*Ke-Re*Re-4*bt)/(2*Ke*2*St),Wt=Math.log(Math.sqrt(Ft*Ft+1)-Ft),zt=Math.log(Math.sqrt(It*It+1)-It);se=(zt-Wt)/ct,ne=function(sn){var en,Bn,Xt=sn*se,Tn=pt(Wt),kn=Re/(2*St)*(Tn*(en=ct*Xt+Wt,((en=Math.exp(2*en))-1)/(en+1))-(Bn=Wt,((Bn=Math.exp(Bn))-1/Bn)/2));return[pe+kn*lt,ke+kn*vt,Re*Tn/pt(ct*Xt+Wt)]}}return ne.duration=1e3*se,ne},a.behavior.zoom=function(){var L,Y,ne,se,pe,ke,Re,Be,Ze,Ke={x:0,y:0,k:1},lt=[960,500],vt=ft,bt=250,St=0,Ft="mousedown.zoom",It="mousemove.zoom",Wt="mouseup.zoom",zt="touchstart.zoom",sn=ee(en,"zoomstart","zoom","zoomend");function en(mr){mr.on(Ft,sr).on(qe+".zoom",zr).on("dblclick.zoom",Gr).on(zt,wr)}function Xt(mr){return[(mr[0]-Ke.x)/Ke.k,(mr[1]-Ke.y)/Ke.k]}function Tn(mr){Ke.k=Math.max(vt[0],Math.min(vt[1],mr))}function kn(mr,br){var Ur;Ke.x+=mr[0]-(br=[(Ur=br)[0]*Ke.k+Ke.x,Ur[1]*Ke.k+Ke.y])[0],Ke.y+=mr[1]-br[1]}function Bn(mr,br,Ur,Sr){mr.__chart__={x:Ke.x,y:Ke.y,k:Ke.k},Tn(Math.pow(2,Sr)),kn(Y=br,Ur),mr=a.select(mr),bt>0&&(mr=mr.transition().duration(bt)),mr.call(en.event)}function Hn(){Re&&Re.domain(ke.range().map(function(mr){return(mr-Ke.x)/Ke.k}).map(ke.invert)),Ze&&Ze.domain(Be.range().map(function(mr){return(mr-Ke.y)/Ke.k}).map(Be.invert))}function tr(mr){St++||mr({type:"zoomstart"})}function gr(mr){Hn(),mr({type:"zoom",scale:Ke.k,translate:[Ke.x,Ke.y]})}function Er(mr){--St||(mr({type:"zoomend"}),Y=null)}function sr(){var mr=this,br=sn.of(mr,arguments),Ur=0,Sr=a.select(t(mr)).on(It,function(){Ur=1,kn(a.mouse(mr),Wr),gr(br)}).on(Wt,function(){Sr.on(It,null).on(Wt,null),Kr(Ur),Er(br)}),Wr=Xt(a.mouse(mr)),Kr=Mt(mr);is.call(mr),tr(br)}function wr(){var mr,br=this,Ur=sn.of(br,arguments),Sr={},Wr=0,Kr=".zoom-"+a.event.changedTouches[0].identifier,si="touchmove"+Kr,ui="touchend"+Kr,xi=[],vi=a.select(br),Ki=Mt(br);function Ao(){var uo=a.touches(br);return mr=Ke.k,uo.forEach(function(Ti){Ti.identifier in Sr&&(Sr[Ti.identifier]=Xt(Ti))}),uo}function ba(){var uo=a.event.target;a.select(uo).on(si,Vo).on(ui,ia),xi.push(uo);for(var Ti=a.event.changedTouches,yo=0,_i=Ti.length;yo<_i;++yo)Sr[Ti[yo].identifier]=null;var Di=Ao(),fo=Date.now();if(1===Di.length){if(fo-pe<500){var li=Di[0];Bn(br,li,Sr[li.identifier],Math.floor(Math.log(Ke.k)/Math.LN2)+1),te()}pe=fo}else if(Di.length>1){var Io=Di[1],Qs=(li=Di[0])[0]-Io[0],Jo=li[1]-Io[1];Wr=Qs*Qs+Jo*Jo}}function Vo(){var uo,Ti,yo,_i,Di=a.touches(br);is.call(br);for(var fo=0,li=Di.length;fo<li;++fo,_i=null)if(_i=Sr[(yo=Di[fo]).identifier]){if(Ti)break;uo=yo,Ti=_i}if(_i){var Io=(Io=yo[0]-uo[0])*Io+(Io=yo[1]-uo[1])*Io,Qs=Wr&&Math.sqrt(Io/Wr);uo=[(uo[0]+yo[0])/2,(uo[1]+yo[1])/2],Ti=[(Ti[0]+_i[0])/2,(Ti[1]+_i[1])/2],Tn(Qs*mr)}pe=null,kn(uo,Ti),gr(Ur)}function ia(){if(a.event.touches.length){for(var uo=a.event.changedTouches,Ti=0,yo=uo.length;Ti<yo;++Ti)delete Sr[uo[Ti].identifier];for(var _i in Sr)return void Ao()}a.selectAll(xi).on(Kr,null),vi.on(Ft,sr).on(zt,wr),Ki(),Er(Ur)}ba(),tr(Ur),vi.on(Ft,null).on(zt,ba)}function zr(){var mr=sn.of(this,arguments);se?clearTimeout(se):(is.call(this),L=Xt(Y=ne||a.mouse(this)),tr(mr)),se=setTimeout(function(){se=null,Er(mr)},50),te(),Tn(Math.pow(2,.002*He())*Ke.k),kn(Y,L),gr(mr)}function Gr(){var mr=a.mouse(this),br=Math.log(Ke.k)/Math.LN2;Bn(this,mr,Xt(mr),a.event.shiftKey?Math.ceil(br)-1:Math.floor(br)+1)}return qe||(qe="onwheel"in d?(He=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(He=function(){return a.event.wheelDelta},"mousewheel"):(He=function(){return-a.event.detail},"MozMousePixelScroll")),en.event=function(mr){mr.each(function(){var br=sn.of(this,arguments),Ur=Ke;zo?a.select(this).transition().each("start.zoom",function(){Ke=this.__chart__||{x:0,y:0,k:1},tr(br)}).tween("zoom:zoom",function(){var Sr=lt[0],Kr=Y?Y[0]:Sr/2,si=Y?Y[1]:lt[1]/2,ui=a.interpolateZoom([(Kr-Ke.x)/Ke.k,(si-Ke.y)/Ke.k,Sr/Ke.k],[(Kr-Ur.x)/Ur.k,(si-Ur.y)/Ur.k,Sr/Ur.k]);return function(xi){var vi=ui(xi),Ki=Sr/vi[2];this.__chart__=Ke={x:Kr-vi[0]*Ki,y:si-vi[1]*Ki,k:Ki},gr(br)}}).each("interrupt.zoom",function(){Er(br)}).each("end.zoom",function(){Er(br)}):(this.__chart__=Ke,tr(br),gr(br),Er(br))})},en.translate=function(mr){return arguments.length?(Ke={x:+mr[0],y:+mr[1],k:Ke.k},Hn(),en):[Ke.x,Ke.y]},en.scale=function(mr){return arguments.length?(Ke={x:Ke.x,y:Ke.y,k:null},Tn(+mr),Hn(),en):Ke.k},en.scaleExtent=function(mr){return arguments.length?(vt=null==mr?ft:[+mr[0],+mr[1]],en):vt},en.center=function(mr){return arguments.length?(ne=mr&&[+mr[0],+mr[1]],en):ne},en.size=function(mr){return arguments.length?(lt=mr&&[+mr[0],+mr[1]],en):lt},en.duration=function(mr){return arguments.length?(bt=+mr,en):bt},en.x=function(mr){return arguments.length?(Re=mr,ke=mr.copy(),Ke={x:0,y:0,k:1},en):Re},en.y=function(mr){return arguments.length?(Ze=mr,Be=mr.copy(),Ke={x:0,y:0,k:1},en):Ze},a.rebind(en,sn,"on")};var He,qe,ft=[0,1/0];function et(){}function xt(L,Y,ne){return this instanceof xt?(this.h=+L,this.s=+Y,void(this.l=+ne)):arguments.length<2?L instanceof xt?new xt(L.h,L.s,L.l):_n(""+L,Dn,xt):new xt(L,Y,ne)}a.color=et,et.prototype.toString=function(){return this.rgb()+""},a.hsl=xt;var wt=xt.prototype=new et;function At(L,Y,ne){var se,pe;function ke(Re){return Math.round(255*((Be=Re)>360?Be-=360:Be<0&&(Be+=360),Be<60?se+(pe-se)*Be/60:Be<180?pe:Be<240?se+(pe-se)*(240-Be)/60:se));var Be}return L=isNaN(L)?0:(L%=360)<0?L+360:L,Y=isNaN(Y)||Y<0?0:Y>1?1:Y,se=2*(ne=ne<0?0:ne>1?1:ne)-(pe=ne<=.5?ne*(1+Y):ne+Y-ne*Y),new zn(ke(L+120),ke(L),ke(L-120))}function yt(L,Y,ne){return this instanceof yt?(this.h=+L,this.c=+Y,void(this.l=+ne)):arguments.length<2?L instanceof yt?new yt(L.h,L.c,L.l):(se=L instanceof Rt?L.l:(L=Pn((L=a.rgb(L)).r,L.g,L.b)).l,pe=L.a,ke=L.b,se>0?new yt(Math.atan2(ke,pe)*Ge,Math.sqrt(pe*pe+ke*ke),se):new yt(NaN,NaN,se)):new yt(L,Y,ne);var se,pe,ke}wt.brighter=function(L){return L=Math.pow(.7,arguments.length?L:1),new xt(this.h,this.s,this.l/L)},wt.darker=function(L){return L=Math.pow(.7,arguments.length?L:1),new xt(this.h,this.s,L*this.l)},wt.rgb=function(){return At(this.h,this.s,this.l)},a.hcl=yt;var Ot=yt.prototype=new et;function Ct(L,Y,ne){return isNaN(L)&&(L=0),isNaN(Y)&&(Y=0),new Rt(ne,Math.cos(L*=tt)*Y,Math.sin(L)*Y)}function Rt(L,Y,ne){return this instanceof Rt?(this.l=+L,this.a=+Y,void(this.b=+ne)):arguments.length<2?L instanceof Rt?new Rt(L.l,L.a,L.b):L instanceof yt?Ct(L.h,L.c,L.l):Pn((L=zn(L)).r,L.g,L.b):new Rt(L,Y,ne)}Ot.brighter=function(L){return new yt(this.h,this.c,Math.min(100,this.l+Bt*(arguments.length?L:1)))},Ot.darker=function(L){return new yt(this.h,this.c,Math.max(0,this.l-Bt*(arguments.length?L:1)))},Ot.rgb=function(){return Ct(this.h,this.c,this.l).rgb()},a.lab=Rt;var Bt=18,jt=.95047,Gt=1,on=1.08883,Jt=Rt.prototype=new et;function $t(L,Y,ne){var se=(L+16)/116,pe=se+Y/500,ke=se-ne/200;return new zn(Gn(3.2404542*(pe=tn(pe)*jt)-1.5371385*(se=tn(se)*Gt)-.4985314*(ke=tn(ke)*on)),Gn(-.969266*pe+1.8760108*se+.041556*ke),Gn(.0556434*pe-.2040259*se+1.0572252*ke))}function tn(L){return L>.206893034?L*L*L:(L-.13793103448275862)/7.787037}function dn(L){return L>.008856?Math.pow(L,.3333333333333333):7.787037*L+.13793103448275862}function Gn(L){return Math.round(255*(L<=.00304?12.92*L:1.055*Math.pow(L,.4166666666666667)-.055))}function zn(L,Y,ne){return this instanceof zn?(this.r=~~L,this.g=~~Y,void(this.b=~~ne)):arguments.length<2?L instanceof zn?new zn(L.r,L.g,L.b):_n(""+L,zn,At):new zn(L,Y,ne)}function Mn(L){return new zn(L>>16,L>>8&255,255&L)}function ln(L){return Mn(L)+""}Jt.brighter=function(L){return new Rt(Math.min(100,this.l+Bt*(arguments.length?L:1)),this.a,this.b)},Jt.darker=function(L){return new Rt(Math.max(0,this.l-Bt*(arguments.length?L:1)),this.a,this.b)},Jt.rgb=function(){return $t(this.l,this.a,this.b)},a.rgb=zn;var vn=zn.prototype=new et;function hn(L){return L<16?"0"+Math.max(0,L).toString(16):Math.min(255,L).toString(16)}function _n(L,Y,ne){var se,pe,ke,Re=0,Be=0,Ze=0;if(se=/([a-z]+)\((.*)\)/.exec(L=L.toLowerCase()))switch(pe=se[2].split(","),se[1]){case"hsl":return ne(parseFloat(pe[0]),parseFloat(pe[1])/100,parseFloat(pe[2])/100);case"rgb":return Y(jn(pe[0]),jn(pe[1]),jn(pe[2]))}return(ke=Fn.get(L))?Y(ke.r,ke.g,ke.b):(null==L||"#"!==L.charAt(0)||isNaN(ke=parseInt(L.slice(1),16))||(4===L.length?(Re=(3840&ke)>>4,Re|=Re>>4,Be=240&ke,Be|=Be>>4,Ze=15&ke,Ze|=Ze<<4):7===L.length&&(Re=(16711680&ke)>>16,Be=(65280&ke)>>8,Ze=255&ke)),Y(Re,Be,Ze))}function Dn(L,Y,ne){var se,pe,ke=Math.min(L/=255,Y/=255,ne/=255),Re=Math.max(L,Y,ne),Be=Re-ke,Ze=(Re+ke)/2;return Be?(pe=Ze<.5?Be/(Re+ke):Be/(2-Re-ke),se=L==Re?(Y-ne)/Be+(Y<ne?6:0):Y==Re?(ne-L)/Be+2:(L-Y)/Be+4,se*=60):(se=NaN,pe=Ze>0&&Ze<1?0:se),new xt(se,pe,Ze)}function Pn(L,Y,ne){var se=dn((.4124564*(L=Yn(L))+.3575761*(Y=Yn(Y))+.1804375*(ne=Yn(ne)))/jt),pe=dn((.2126729*L+.7151522*Y+.072175*ne)/Gt);return Rt(116*pe-16,500*(se-pe),200*(pe-dn((.0193339*L+.119192*Y+.9503041*ne)/on)))}function Yn(L){return(L/=255)<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4)}function jn(L){var Y=parseFloat(L);return"%"===L.charAt(L.length-1)?Math.round(2.55*Y):Y}vn.brighter=function(L){L=Math.pow(.7,arguments.length?L:1);var Y=this.r,ne=this.g,se=this.b;return Y||ne||se?(Y&&Y<30&&(Y=30),ne&&ne<30&&(ne=30),se&&se<30&&(se=30),new zn(Math.min(255,Y/L),Math.min(255,ne/L),Math.min(255,se/L))):new zn(30,30,30)},vn.darker=function(L){return new zn((L=Math.pow(.7,arguments.length?L:1))*this.r,L*this.g,L*this.b)},vn.hsl=function(){return Dn(this.r,this.g,this.b)},vn.toString=function(){return"#"+hn(this.r)+hn(this.g)+hn(this.b)};var Fn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Jn(L){return"function"==typeof L?L:function(){return L}}function $n(L){return function(Y,ne,se){return 2===arguments.length&&"function"==typeof ne&&(se=ne,ne=null),nr(Y,ne,L,se)}}function nr(L,Y,ne,se){var lt,pe={},ke=a.dispatch("beforesend","progress","load","error"),Re={},Be=new XMLHttpRequest,Ze=null;function Ke(){var lt,bt,St,vt=Be.status;if(!vt&&((St=(bt=Be).responseType)&&"text"!==St?bt.response:bt.responseText)||vt>=200&&vt<300||304===vt){try{lt=ne.call(pe,Be)}catch(bt){return void ke.error.call(pe,bt)}ke.load.call(pe,lt)}else ke.error.call(pe,Be)}return self.XDomainRequest&&!("withCredentials"in Be)&&/^(http(s)?:)?\/\//.test(L)&&(Be=new XDomainRequest),"onload"in Be?Be.onload=Be.onerror=Ke:Be.onreadystatechange=function(){Be.readyState>3&&Ke()},Be.onprogress=function(lt){var vt=a.event;a.event=lt;try{ke.progress.call(pe,Be)}finally{a.event=vt}},pe.header=function(lt,vt){return lt=(lt+"").toLowerCase(),arguments.length<2?Re[lt]:(null==vt?delete Re[lt]:Re[lt]=vt+"",pe)},pe.mimeType=function(lt){return arguments.length?(Y=null==lt?null:lt+"",pe):Y},pe.responseType=function(lt){return arguments.length?(Ze=lt,pe):Ze},pe.response=function(lt){return ne=lt,pe},["get","post"].forEach(function(lt){pe[lt]=function(){return pe.send.apply(pe,[lt].concat(_(arguments)))}}),pe.send=function(lt,vt,bt){if(2===arguments.length&&"function"==typeof vt&&(bt=vt,vt=null),Be.open(lt,L,!0),null==Y||"accept"in Re||(Re.accept=Y+",*/*"),Be.setRequestHeader)for(var St in Re)Be.setRequestHeader(St,Re[St]);return null!=Y&&Be.overrideMimeType&&Be.overrideMimeType(Y),null!=Ze&&(Be.responseType=Ze),null!=bt&&pe.on("error",bt).on("load",function(Ft){bt(null,Ft)}),ke.beforesend.call(pe,Be),Be.send(vt??null),pe},pe.abort=function(){return Be.abort(),pe},a.rebind(pe,ke,"on"),null==se?pe:pe.get(1===(lt=se).length?function(vt,bt){lt(null==vt?bt:null)}:lt)}Fn.forEach(function(L,Y){Fn.set(L,Mn(Y))}),a.functor=Jn,a.xhr=$n(N),a.dsv=function(L,Y){var ne=new RegExp('["'+L+"\n]"),se=L.charCodeAt(0);function pe(Ke,lt,vt){arguments.length<3&&(vt=lt,lt=null);var bt=nr(Ke,Y,null==lt?ke:Re(lt),vt);return bt.row=function(St){return arguments.length?bt.response(null==(lt=St)?ke:Re(St)):lt},bt}function ke(Ke){return pe.parse(Ke.responseText)}function Re(Ke){return function(lt){return pe.parse(lt.responseText,Ke)}}function Be(Ke){return Ke.map(Ze).join(L)}function Ze(Ke){return ne.test(Ke)?'"'+Ke.replace(/\"/g,'""')+'"':Ke}return pe.parse=function(Ke,lt){var vt;return pe.parseRows(Ke,function(bt,St){if(vt)return vt(bt,St-1);var Ft=function(It){for(var Wt={},zt=bt.length,sn=0;sn<zt;++sn)Wt[bt[sn]]=It[sn];return Wt};vt=lt?function(It,Wt){return lt(Ft(It),Wt)}:Ft})},pe.parseRows=function(Ke,lt){var vt,bt,St={},Ft={},It=[],Wt=Ke.length,zt=0,sn=0;function en(){if(zt>=Wt)return Ft;if(bt)return bt=!1,St;var Tn=zt;if(34===Ke.charCodeAt(Tn)){for(var kn=Tn;kn++<Wt;)if(34===Ke.charCodeAt(kn)){if(34!==Ke.charCodeAt(kn+1))break;++kn}return zt=kn+2,13===(Bn=Ke.charCodeAt(kn+1))?(bt=!0,10===Ke.charCodeAt(kn+2)&&++zt):10===Bn&&(bt=!0),Ke.slice(Tn+1,kn).replace(/""/g,'"')}for(;zt<Wt;){var Bn,Hn=1;if(10===(Bn=Ke.charCodeAt(zt++)))bt=!0;else if(13===Bn)bt=!0,10===Ke.charCodeAt(zt)&&(++zt,++Hn);else if(Bn!==se)continue;return Ke.slice(Tn,zt-Hn)}return Ke.slice(Tn)}for(;(vt=en())!==Ft;){for(var Xt=[];vt!==St&&vt!==Ft;)Xt.push(vt),vt=en();lt&&null==(Xt=lt(Xt,sn++))||It.push(Xt)}return It},pe.format=function(Ke){if(Array.isArray(Ke[0]))return pe.formatRows(Ke);var lt=new q,vt=[];return Ke.forEach(function(bt){for(var St in bt)lt.has(St)||vt.push(lt.add(St))}),[vt.map(Ze).join(L)].concat(Ke.map(function(bt){return vt.map(function(St){return Ze(bt[St])}).join(L)})).join("\n")},pe.formatRows=function(Ke){return Ke.map(Be).join("\n")},pe},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var or,lr,cr,Ar,fn=this[$(this,"requestAnimationFrame")]||function(L){setTimeout(L,17)};function an(L,Y,ne){var se=arguments.length;se<2&&(Y=0),se<3&&(ne=Date.now());var pe={c:L,t:ne+Y,n:null};return lr?lr.n=pe:or=pe,lr=pe,cr||(Ar=clearTimeout(Ar),cr=1,fn(Vn)),pe}function Vn(){var L=En(),Y=Wn()-L;Y>24?(isFinite(Y)&&(clearTimeout(Ar),Ar=setTimeout(Vn,Y)),cr=0):(cr=1,fn(Vn))}function En(){for(var L=Date.now(),Y=or;Y;)L>=Y.t&&Y.c(L-Y.t)&&(Y.c=null),Y=Y.n;return L}function Wn(){for(var L,Y=or,ne=1/0;Y;)Y.c?(Y.t<ne&&(ne=Y.t),Y=(L=Y).n):Y=L?L.n=Y.n:or=Y.n;return lr=L,ne}function ar(L){return L[0]}function In(L){return L[1]}function fr(L){for(var Y,ne,se,pe=L.length,ke=[0,1],Re=2,Be=2;Be<pe;Be++){for(;Re>1&&((ne=L[ke[Re-1]])[0]-(Y=L[ke[Re-2]])[0])*((se=L[Be])[1]-Y[1])-(ne[1]-Y[1])*(se[0]-Y[0])<=0;)--Re;ke[Re++]=Be}return ke.slice(0,Re)}function ur(L,Y){return L[0]-Y[0]||L[1]-Y[1]}a.timer=function(){an.apply(this,arguments)},a.timer.flush=function(){En(),Wn()},a.round=function(L,Y){return Y?Math.round(L*(Y=Math.pow(10,Y)))/Y:Math.round(L)},a.geom={},a.geom.hull=function(L){var Y=ar,ne=In;if(arguments.length)return se(L);function se(pe){if(pe.length<3)return[];var ke,Re=Jn(Y),Be=Jn(ne),Ze=pe.length,Ke=[],lt=[];for(ke=0;ke<Ze;ke++)Ke.push([+Re.call(this,pe[ke],ke),+Be.call(this,pe[ke],ke),ke]);for(Ke.sort(ur),ke=0;ke<Ze;ke++)lt.push([Ke[ke][0],-Ke[ke][1]]);var vt=fr(Ke),bt=fr(lt),St=bt[0]===vt[0],Ft=bt[bt.length-1]===vt[vt.length-1],It=[];for(ke=vt.length-1;ke>=0;--ke)It.push(pe[Ke[vt[ke]][2]]);for(ke=+St;ke<bt.length-Ft;++ke)It.push(pe[Ke[bt[ke]][2]]);return It}return se.x=function(pe){return arguments.length?(Y=pe,se):Y},se.y=function(pe){return arguments.length?(ne=pe,se):ne},se},a.geom.polygon=function(L){return J(L,Kt),L};var Kt=a.geom.polygon.prototype=[];function An(L,Y,ne){return(ne[0]-Y[0])*(L[1]-Y[1])<(ne[1]-Y[1])*(L[0]-Y[0])}function Nt(L,Y,ne,se){var pe=L[0],ke=ne[0],Re=Y[0]-pe,Be=se[0]-ke,Ze=L[1],Ke=ne[1],lt=Y[1]-Ze,vt=se[1]-Ke,bt=(Be*(Ze-Ke)-vt*(pe-ke))/(vt*Re-Be*lt);return[pe+bt*Re,Ze+bt*lt]}function Yt(L){var Y=L[0],ne=L[L.length-1];return!(Y[0]-ne[0]||Y[1]-ne[1])}Kt.area=function(){for(var L,Y=-1,ne=this.length,se=this[ne-1],pe=0;++Y<ne;)pe+=(L=se)[1]*(se=this[Y])[0]-L[0]*se[1];return.5*pe},Kt.centroid=function(L){var Y,ne,se=-1,pe=this.length,ke=0,Re=0,Be=this[pe-1];for(arguments.length||(L=-1/(6*this.area()));++se<pe;)ke+=((Y=Be)[0]+(Be=this[se])[0])*(ne=Y[0]*Be[1]-Be[0]*Y[1]),Re+=(Y[1]+Be[1])*ne;return[ke*L,Re*L]},Kt.clip=function(L){for(var Y,ne,se,pe,ke,Re,Be=Yt(L),Ze=-1,Ke=this.length-Yt(this),lt=this[Ke-1];++Ze<Ke;){for(Y=L.slice(),L.length=0,pe=this[Ze],ke=Y[(se=Y.length-Be)-1],ne=-1;++ne<se;)An(Re=Y[ne],lt,pe)?(An(ke,lt,pe)||L.push(Nt(ke,Re,lt,pe)),L.push(Re)):An(ke,lt,pe)&&L.push(Nt(ke,Re,lt,pe)),ke=Re;Be&&L.push(L[0]),lt=pe}return L};var cn,xn,wn,Cn,mn,nn=[],rn=[];function pn(){to(this),this.edge=this.site=this.circle=null}function yn(L){var Y=nn.pop()||new pn;return Y.site=L,Y}function Nn(L){Dr(L),wn.remove(L),nn.push(L),to(L)}function Un(L){var Y=L.circle,ne=Y.x,se=Y.cy,pe={x:ne,y:se},ke=L.P,Re=L.N,Be=[L];Nn(L);for(var Ze=ke;Ze.circle&&v(ne-Ze.circle.x)<st&&v(se-Ze.circle.cy)<st;)ke=Ze.P,Be.unshift(Ze),Nn(Ze),Ze=ke;Be.unshift(Ze),Dr(Ze);for(var Ke=Re;Ke.circle&&v(ne-Ke.circle.x)<st&&v(se-Ke.circle.cy)<st;)Re=Ke.N,Be.push(Ke),Nn(Ke),Ke=Re;Be.push(Ke),Dr(Ke);var lt,vt=Be.length;for(lt=1;lt<vt;++lt)Or((Ke=Be[lt]).edge,(Ze=Be[lt-1]).site,Ke.site,pe);(Ke=Be[vt-1]).edge=yr((Ze=Be[0]).site,Ke.site,null,pe),dr(Ze),dr(Ke)}function Xn(L){for(var Y,ne,se,pe,ke=L.x,Re=L.y,Be=wn._;Be;)if((se=er(Be,Re)-ke)>st)Be=Be.L;else{if(!((pe=ke-pr(Be,Re))>st)){se>-st?(Y=Be.P,ne=Be):pe>-st?(Y=Be,ne=Be.N):Y=ne=Be;break}if(!Be.R){Y=Be;break}Be=Be.R}var Ze=yn(L);if(wn.insert(Y,Ze),Y||ne){if(Y===ne)return Dr(Y),ne=yn(Y.site),wn.insert(Ze,ne),Ze.edge=ne.edge=yr(Y.site,Ze.site),dr(Y),void dr(ne);if(ne){Dr(Y),Dr(ne);var Ke=Y.site,lt=Ke.x,vt=Ke.y,bt=L.x-lt,St=L.y-vt,Ft=ne.site,It=Ft.x-lt,Wt=Ft.y-vt,zt=2*(bt*Wt-St*It),sn=bt*bt+St*St,en=It*It+Wt*Wt,Xt={x:(Wt*sn-St*en)/zt+lt,y:(bt*en-It*sn)/zt+vt};Or(ne.edge,Ke,Ft,Xt),Ze.edge=yr(Ke,L,null,Xt),ne.edge=yr(L,Ft,null,Xt),dr(Y),dr(ne)}else Ze.edge=yr(Y.site,Ze.site)}}function er(L,Y){var ne=L.site,se=ne.x,pe=ne.y,ke=pe-Y;if(!ke)return se;var Re=L.P;if(!Re)return-1/0;var Be=(ne=Re.site).x,Ze=ne.y,Ke=Ze-Y;if(!Ke)return Be;var lt=Be-se,vt=1/ke-1/Ke,bt=lt/Ke;return vt?(-bt+Math.sqrt(bt*bt-2*vt*(lt*lt/(-2*Ke)-Ze+Ke/2+pe-ke/2)))/vt+se:(se+Be)/2}function pr(L,Y){var ne=L.N;if(ne)return er(ne,Y);var se=L.site;return se.y===Y?se.x:1/0}function Qn(L){this.site=L,this.edges=[]}function qn(L,Y){return Y.angle-L.angle}function vr(){to(this),this.x=this.y=this.arc=this.site=this.cy=null}function dr(L){var Y=L.P,ne=L.N;if(Y&&ne){var se=Y.site,pe=L.site,ke=ne.site;if(se!==ke){var Re=pe.x,Be=pe.y,Ze=se.x-Re,Ke=se.y-Be,lt=ke.x-Re,vt=2*(Ze*(Wt=ke.y-Be)-Ke*lt);if(!(vt>=-Lt)){var bt=Ze*Ze+Ke*Ke,St=lt*lt+Wt*Wt,Ft=(Wt*bt-Ke*St)/vt,It=(Ze*St-lt*bt)/vt,Wt=It+Be,zt=rn.pop()||new vr;zt.arc=L,zt.site=pe,zt.x=Ft+Re,zt.y=Wt+Math.sqrt(Ft*Ft+It*It),zt.cy=Wt,L.circle=zt;for(var sn=null,en=mn._;en;)if(zt.y<en.y||zt.y===en.y&&zt.x<=en.x){if(!en.L){sn=en.P;break}en=en.L}else{if(!en.R){sn=en;break}en=en.R}mn.insert(sn,zt),sn||(Cn=zt)}}}}function Dr(L){var Y=L.circle;Y&&(Y.P||(Cn=Y.N),mn.remove(Y),rn.push(Y),to(Y),L.circle=null)}function kr(L,Y){var ne=L.b;if(ne)return!0;var se,pe,ke=L.a,Re=Y[0][0],Be=Y[1][0],Ze=Y[0][1],Ke=Y[1][1],lt=L.l,vt=L.r,bt=lt.x,St=lt.y,Ft=vt.x,It=vt.y,Wt=(bt+Ft)/2;if(It===St){if(Wt<Re||Wt>=Be)return;if(bt>Ft){if(ke){if(ke.y>=Ke)return}else ke={x:Wt,y:Ze};ne={x:Wt,y:Ke}}else{if(ke){if(ke.y<Ze)return}else ke={x:Wt,y:Ke};ne={x:Wt,y:Ze}}}else if(pe=(St+It)/2-(se=(bt-Ft)/(It-St))*Wt,se<-1||se>1)if(bt>Ft){if(ke){if(ke.y>=Ke)return}else ke={x:(Ze-pe)/se,y:Ze};ne={x:(Ke-pe)/se,y:Ke}}else{if(ke){if(ke.y<Ze)return}else ke={x:(Ke-pe)/se,y:Ke};ne={x:(Ze-pe)/se,y:Ze}}else if(St<It){if(ke){if(ke.x>=Be)return}else ke={x:Re,y:se*Re+pe};ne={x:Be,y:se*Be+pe}}else{if(ke){if(ke.x<Re)return}else ke={x:Be,y:se*Be+pe};ne={x:Re,y:se*Re+pe}}return L.a=ke,L.b=ne,!0}function Lr(L,Y){this.l=L,this.r=Y,this.a=this.b=null}function yr(L,Y,ne,se){var pe=new Lr(L,Y);return cn.push(pe),ne&&Or(pe,L,Y,ne),se&&Or(pe,Y,L,se),xn[L.i].edges.push(new Yr(pe,L,Y)),xn[Y.i].edges.push(new Yr(pe,Y,L)),pe}function Or(L,Y,ne,se){L.a||L.b?L.l===ne?L.b=se:L.a=se:(L.a=se,L.l=Y,L.r=ne)}function Yr(L,Y,ne){var se=L.a,pe=L.b;this.edge=L,this.site=Y,this.angle=ne?Math.atan2(ne.y-Y.y,ne.x-Y.x):L.l===Y?Math.atan2(pe.x-se.x,se.y-pe.y):Math.atan2(se.x-pe.x,pe.y-se.y)}function Qr(){this._=null}function to(L){L.U=L.C=L.L=L.R=L.P=L.N=null}function Bi(L,Y){var ne=Y,se=Y.R,pe=ne.U;pe?pe.L===ne?pe.L=se:pe.R=se:L._=se,se.U=pe,ne.U=se,ne.R=se.L,ne.R&&(ne.R.U=ne),se.L=ne}function mo(L,Y){var ne=Y,se=Y.L,pe=ne.U;pe?pe.L===ne?pe.L=se:pe.R=se:L._=se,se.U=pe,ne.U=se,ne.L=se.R,ne.L&&(ne.L.U=ne),se.R=ne}function ji(L){for(;L.L;)L=L.L;return L}function co(L,Y){var ne,se,pe,ke=L.sort(Aa).pop();for(cn=[],xn=new Array(L.length),wn=new Qr,mn=new Qr;;)if(pe=Cn,ke&&(!pe||ke.y<pe.y||ke.y===pe.y&&ke.x<pe.x))ke.x===ne&&ke.y===se||(xn[ke.i]=new Qn(ke),Xn(ke),ne=ke.x,se=ke.y),ke=L.pop();else{if(!pe)break;Un(pe.arc)}Y&&(function(Be){for(var Ze,Ke,lt,vt,bt,St=cn,Ft=(Ke=Be[0][0],lt=Be[0][1],vt=Be[1][0],bt=Be[1][1],function(Wt){var zt,sn=Wt.a,en=Wt.b,Xt=sn.x,Tn=sn.y,kn=0,Bn=1,Hn=en.x-Xt,tr=en.y-Tn;if(zt=Ke-Xt,Hn||!(zt>0)){if(zt/=Hn,Hn<0){if(zt<kn)return;zt<Bn&&(Bn=zt)}else if(Hn>0){if(zt>Bn)return;zt>kn&&(kn=zt)}if(zt=vt-Xt,Hn||!(zt<0)){if(zt/=Hn,Hn<0){if(zt>Bn)return;zt>kn&&(kn=zt)}else if(Hn>0){if(zt<kn)return;zt<Bn&&(Bn=zt)}if(zt=lt-Tn,tr||!(zt>0)){if(zt/=tr,tr<0){if(zt<kn)return;zt<Bn&&(Bn=zt)}else if(tr>0){if(zt>Bn)return;zt>kn&&(kn=zt)}if(zt=bt-Tn,tr||!(zt<0)){if(zt/=tr,tr<0){if(zt>Bn)return;zt>kn&&(kn=zt)}else if(tr>0){if(zt<kn)return;zt<Bn&&(Bn=zt)}return kn>0&&(Wt.a={x:Xt+kn*Hn,y:Tn+kn*tr}),Bn<1&&(Wt.b={x:Xt+Bn*Hn,y:Tn+Bn*tr}),Wt}}}}}),It=St.length;It--;)(!kr(Ze=St[It],Be)||!Ft(Ze)||v(Ze.a.x-Ze.b.x)<st&&v(Ze.a.y-Ze.b.y)<st)&&(Ze.a=Ze.b=null,St.splice(It,1))}(Y),function(Be){for(var Ze,Ke,lt,vt,bt,St,Ft,It,Wt,zt,sn=Be[0][0],en=Be[1][0],Xt=Be[0][1],Tn=Be[1][1],kn=xn,Bn=kn.length;Bn--;)if((bt=kn[Bn])&&bt.prepare())for(It=(Ft=bt.edges).length,St=0;St<It;)lt=(zt=Ft[St].end()).x,vt=zt.y,Ze=(Wt=Ft[++St%It].start()).x,Ke=Wt.y,(v(lt-Ze)>st||v(vt-Ke)>st)&&(Ft.splice(St,0,new Yr((Hn=bt.site,tr=zt,gr=v(lt-sn)<st&&Tn-vt>st?{x:sn,y:v(Ze-sn)<st?Ke:Tn}:v(vt-Tn)<st&&en-lt>st?{x:v(Ke-Tn)<st?Ze:en,y:Tn}:v(lt-en)<st&&vt-Xt>st?{x:en,y:v(Ze-en)<st?Ke:Xt}:v(vt-Xt)<st&&lt-sn>st?{x:v(Ke-Xt)<st?Ze:sn,y:Xt}:null,Er=void 0,(Er=new Lr(Hn,null)).a=tr,Er.b=gr,cn.push(Er),Er),bt.site,null)),++It);var Hn,tr,gr,Er}(Y));var Re={cells:xn,edges:cn};return wn=mn=cn=xn=null,Re}function Aa(L,Y){return Y.y-L.y||Y.x-L.x}Qn.prototype.prepare=function(){for(var L,Y=this.edges,ne=Y.length;ne--;)(L=Y[ne].edge).b&&L.a||Y.splice(ne,1);return Y.sort(qn),Y.length},Yr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Qr.prototype={insert:function(L,Y){var ne,se,pe;if(L){if(Y.P=L,Y.N=L.N,L.N&&(L.N.P=Y),L.N=Y,L.R){for(L=L.R;L.L;)L=L.L;L.L=Y}else L.R=Y;ne=L}else this._?(L=ji(this._),Y.P=null,Y.N=L,L.P=L.L=Y,ne=L):(Y.P=Y.N=null,this._=Y,ne=null);for(Y.L=Y.R=null,Y.U=ne,Y.C=!0,L=Y;ne&&ne.C;)ne===(se=ne.U).L?(pe=se.R)&&pe.C?(ne.C=pe.C=!1,se.C=!0,L=se):(L===ne.R&&(Bi(this,ne),ne=(L=ne).U),ne.C=!1,se.C=!0,mo(this,se)):(pe=se.L)&&pe.C?(ne.C=pe.C=!1,se.C=!0,L=se):(L===ne.L&&(mo(this,ne),ne=(L=ne).U),ne.C=!1,se.C=!0,Bi(this,se)),ne=L.U;this._.C=!1},remove:function(L){L.N&&(L.N.P=L.P),L.P&&(L.P.N=L.N),L.N=L.P=null;var Y,ne,se,pe=L.U,ke=L.L,Re=L.R;if(ne=ke?Re?ji(Re):ke:Re,pe?pe.L===L?pe.L=ne:pe.R=ne:this._=ne,ke&&Re?(se=ne.C,ne.C=L.C,ne.L=ke,ke.U=ne,ne!==Re?(pe=ne.U,ne.U=L.U,pe.L=L=ne.R,ne.R=Re,Re.U=ne):(ne.U=pe,pe=ne,L=ne.R)):(se=L.C,L=ne),L&&(L.U=pe),!se)if(L&&L.C)L.C=!1;else{do{if(L===this._)break;if(L===pe.L){if((Y=pe.R).C&&(Y.C=!1,pe.C=!0,Bi(this,pe),Y=pe.R),Y.L&&Y.L.C||Y.R&&Y.R.C){Y.R&&Y.R.C||(Y.L.C=!1,Y.C=!0,mo(this,Y),Y=pe.R),Y.C=pe.C,pe.C=Y.R.C=!1,Bi(this,pe),L=this._;break}}else if((Y=pe.L).C&&(Y.C=!1,pe.C=!0,mo(this,pe),Y=pe.L),Y.L&&Y.L.C||Y.R&&Y.R.C){Y.L&&Y.L.C||(Y.R.C=!1,Y.C=!0,Bi(this,Y),Y=pe.L),Y.C=pe.C,pe.C=Y.L.C=!1,mo(this,pe),L=this._;break}Y.C=!0,L=pe,pe=pe.U}while(!L.C);L&&(L.C=!1)}}},a.geom.voronoi=function(L){var Y=ar,ne=In,se=Y,pe=ne,ke=Nr;if(L)return Re(L);function Re(Ze){var Ke=new Array(Ze.length),lt=ke[0][0],vt=ke[0][1],bt=ke[1][0],St=ke[1][1];return co(Be(Ze),ke).cells.forEach(function(Ft,It){var Wt=Ft.edges,zt=Ft.site;(Ke[It]=Wt.length?Wt.map(function(sn){var en=sn.start();return[en.x,en.y]}):zt.x>=lt&&zt.x<=bt&&zt.y>=vt&&zt.y<=St?[[lt,St],[bt,St],[bt,vt],[lt,vt]]:[]).point=Ze[It]}),Ke}function Be(Ze){return Ze.map(function(Ke,lt){return{x:Math.round(se(Ke,lt)/st)*st,y:Math.round(pe(Ke,lt)/st)*st,i:lt}})}return Re.links=function(Ze){return co(Be(Ze)).edges.filter(function(Ke){return Ke.l&&Ke.r}).map(function(Ke){return{source:Ze[Ke.l.i],target:Ze[Ke.r.i]}})},Re.triangles=function(Ze){var Ke=[];return co(Be(Ze)).cells.forEach(function(lt,vt){for(var bt,St,Ft,It,Wt=lt.site,zt=lt.edges.sort(qn),sn=-1,en=zt.length,Xt=zt[en-1].edge,Tn=Xt.l===Wt?Xt.r:Xt.l;++sn<en;)bt=Tn,Tn=(Xt=zt[sn].edge).l===Wt?Xt.r:Xt.l,vt<bt.i&&vt<Tn.i&&((St=Wt).x-(It=Tn).x)*((Ft=bt).y-St.y)-(St.x-Ft.x)*(It.y-St.y)<0&&Ke.push([Ze[vt],Ze[bt.i],Ze[Tn.i]])}),Ke},Re.x=function(Ze){return arguments.length?(se=Jn(Y=Ze),Re):Y},Re.y=function(Ze){return arguments.length?(pe=Jn(ne=Ze),Re):ne},Re.clipExtent=function(Ze){return arguments.length?(ke=Ze??Nr,Re):ke===Nr?null:ke},Re.size=function(Ze){return arguments.length?Re.clipExtent(Ze&&[[0,0],Ze]):ke===Nr?null:ke&&ke[1]},Re};var Nr=[[-1e6,-1e6],[1e6,1e6]];function Ro(L){return L.x}function Ua(L){return L.y}function Li(L,Y,ne,se,pe,ke){if(!L(Y,ne,se,pe,ke)){var Re=.5*(ne+pe),Be=.5*(se+ke),Ze=Y.nodes;Ze[0]&&Li(L,Ze[0],ne,se,Re,Be),Ze[1]&&Li(L,Ze[1],Re,se,pe,Be),Ze[2]&&Li(L,Ze[2],ne,Be,Re,ke),Ze[3]&&Li(L,Ze[3],Re,Be,pe,ke)}}function Ts(L,Y){L=a.rgb(L),Y=a.rgb(Y);var ne=L.r,se=L.g,pe=L.b,ke=Y.r-ne,Re=Y.g-se,Be=Y.b-pe;return function(Ze){return"#"+hn(Math.round(ne+ke*Ze))+hn(Math.round(se+Re*Ze))+hn(Math.round(pe+Be*Ze))}}function vl(L,Y){var ne,se={},pe={};for(ne in L)ne in Y?se[ne]=La(L[ne],Y[ne]):pe[ne]=L[ne];for(ne in Y)ne in L||(pe[ne]=Y[ne]);return function(ke){for(ne in se)pe[ne]=se[ne](ke);return pe}}function gi(L,Y){return L=+L,Y=+Y,function(ne){return L*(1-ne)+Y*ne}}function Ns(L,Y){var ne,se,pe,ke=zs.lastIndex=ni.lastIndex=0,Re=-1,Be=[],Ze=[];for(L+="",Y+="";(ne=zs.exec(L))&&(se=ni.exec(Y));)(pe=se.index)>ke&&(pe=Y.slice(ke,pe),Be[Re]?Be[Re]+=pe:Be[++Re]=pe),(ne=ne[0])===(se=se[0])?Be[Re]?Be[Re]+=se:Be[++Re]=se:(Be[++Re]=null,Ze.push({i:Re,x:gi(ne,se)})),ke=ni.lastIndex;return ke<Y.length&&(pe=Y.slice(ke),Be[Re]?Be[Re]+=pe:Be[++Re]=pe),Be.length<2?Ze[0]?(Y=Ze[0].x,function(Ke){return Y(Ke)+""}):function(){return Y}:(Y=Ze.length,function(Ke){for(var lt,vt=0;vt<Y;++vt)Be[(lt=Ze[vt]).i]=lt.x(Ke);return Be.join("")})}a.geom.delaunay=function(L){return a.geom.voronoi().triangles(L)},a.geom.quadtree=function(L,Y,ne,se,pe){var ke,Re=ar,Be=In;if(ke=arguments.length)return Re=Ro,Be=Ua,3===ke&&(pe=ne,se=Y,ne=Y=0),Ze(L);function Ze(Ke){var lt,vt,bt,St,Ft,It,Wt,zt,sn,en=Jn(Re),Xt=Jn(Be);if(null!=Y)It=Y,Wt=ne,zt=se,sn=pe;else if(zt=sn=-(It=Wt=1/0),vt=[],bt=[],Ft=Ke.length,ke)for(St=0;St<Ft;++St)(lt=Ke[St]).x<It&&(It=lt.x),lt.y<Wt&&(Wt=lt.y),lt.x>zt&&(zt=lt.x),lt.y>sn&&(sn=lt.y),vt.push(lt.x),bt.push(lt.y);else for(St=0;St<Ft;++St){var Tn=+en(lt=Ke[St],St),kn=+Xt(lt,St);Tn<It&&(It=Tn),kn<Wt&&(Wt=kn),Tn>zt&&(zt=Tn),kn>sn&&(sn=kn),vt.push(Tn),bt.push(kn)}var Bn=zt-It,Hn=sn-Wt;function tr(sr,wr,zr,Gr,mr,br,Ur,Sr){if(!isNaN(zr)&&!isNaN(Gr))if(sr.leaf){var Wr=sr.x,Kr=sr.y;if(null!=Wr)if(v(Wr-zr)+v(Kr-Gr)<.01)gr(sr,wr,zr,Gr,mr,br,Ur,Sr);else{var si=sr.point;sr.x=sr.y=sr.point=null,gr(sr,si,Wr,Kr,mr,br,Ur,Sr),gr(sr,wr,zr,Gr,mr,br,Ur,Sr)}else sr.x=zr,sr.y=Gr,sr.point=wr}else gr(sr,wr,zr,Gr,mr,br,Ur,Sr)}function gr(sr,wr,zr,Gr,mr,br,Ur,Sr){var Wr=.5*(mr+Ur),Kr=.5*(br+Sr),si=zr>=Wr,ui=Gr>=Kr,xi=ui<<1|si;sr.leaf=!1,si?mr=Wr:Ur=Wr,ui?br=Kr:Sr=Kr,tr(sr=sr.nodes[xi]||(sr.nodes[xi]={leaf:!0,nodes:[],point:null,x:null,y:null}),wr,zr,Gr,mr,br,Ur,Sr)}Bn>Hn?sn=Wt+Bn:zt=It+Hn;var Er={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(sr){tr(Er,sr,+en(sr,++St),+Xt(sr,St),It,Wt,zt,sn)},visit:function(sr){Li(sr,Er,It,Wt,zt,sn)},find:function(sr){return zr=sr[0],Gr=sr[1],Kr=1/0,function si(ui,xi,vi,Ki,Ao){if(!(xi>Ur||vi>Sr||Ki<mr||Ao<br)){if(ba=ui.point){var ba,Vo=zr-ui.x,ia=Gr-ui.y,uo=Vo*Vo+ia*ia;if(uo<Kr){var Ti=Math.sqrt(Kr=uo);mr=zr-Ti,br=Gr-Ti,Ur=zr+Ti,Sr=Gr+Ti,Wr=ba}}for(var yo=ui.nodes,_i=.5*(xi+Ki),Di=.5*(vi+Ao),fo=(Gr>=Di)<<1|zr>=_i,li=fo+4;fo<li;++fo)if(ui=yo[3&fo])switch(3&fo){case 0:si(ui,xi,vi,_i,Di);break;case 1:si(ui,_i,vi,Ki,Di);break;case 2:si(ui,xi,Di,_i,Ao);break;case 3:si(ui,_i,Di,Ki,Ao)}}}(Er,mr=It,br=Wt,Ur=zt,Sr=sn),Wr;var zr,Gr,mr,br,Ur,Sr,Wr,Kr}};if(St=-1,null==Y){for(;++St<Ft;)tr(Er,Ke[St],vt[St],bt[St],It,Wt,zt,sn);--St}else Ke.forEach(Er.add);return vt=bt=Ke=lt=null,Er}return Ze.x=function(Ke){return arguments.length?(Re=Ke,Ze):Re},Ze.y=function(Ke){return arguments.length?(Be=Ke,Ze):Be},Ze.extent=function(Ke){return arguments.length?(null==Ke?Y=ne=se=pe=null:(Y=+Ke[0][0],ne=+Ke[0][1],se=+Ke[1][0],pe=+Ke[1][1]),Ze):null==Y?null:[[Y,ne],[se,pe]]},Ze.size=function(Ke){return arguments.length?(null==Ke?Y=ne=se=pe=null:(Y=ne=0,se=+Ke[0],pe=+Ke[1]),Ze):null==Y?null:[se-Y,pe-ne]},Ze},a.interpolateRgb=Ts,a.interpolateObject=vl,a.interpolateNumber=gi,a.interpolateString=Ns;var zs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ni=new RegExp(zs.source,"g");function La(L,Y){for(var ne,se=a.interpolators.length;--se>=0&&!(ne=a.interpolators[se](L,Y)););return ne}function Va(L,Y){var ne,se=[],pe=[],ke=L.length,Re=Y.length,Be=Math.min(L.length,Y.length);for(ne=0;ne<Be;++ne)se.push(La(L[ne],Y[ne]));for(;ne<ke;++ne)pe[ne]=L[ne];for(;ne<Re;++ne)pe[ne]=Y[ne];return function(Ze){for(ne=0;ne<Be;++ne)pe[ne]=se[ne](Ze);return pe}}a.interpolate=La,a.interpolators=[function(L,Y){var ne=typeof Y;return("string"===ne?Fn.has(Y.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Y)?Ts:Ns:Y instanceof et?Ts:Array.isArray(Y)?Va:"object"===ne&&isNaN(Y)?vl:gi)(L,Y)}],a.interpolateArray=Va;var ts=function(){return N},Ri=a.map({linear:ts,poly:function(L){return function(Y){return Math.pow(Y,L)}},quad:function(){return Ms},cubic:function(){return yl},sin:function(){return xl},exp:function(){return Ha},circle:function(){return As},elastic:function(L,Y){var ne;return arguments.length<2&&(Y=.45),arguments.length?ne=Y/Ht*Math.asin(1/L):(L=1,ne=Y/4),function(se){return 1+L*Math.pow(2,-10*se)*Math.sin((se-ne)*Ht/Y)}},back:function(L){return L||(L=1.70158),function(Y){return Y*Y*((L+1)*Y-L)}},bounce:function(){return qa}}),Go=a.map({in:N,out:fs,"in-out":Bs,"out-in":function(L){return Bs(fs(L))}});function fs(L){return function(Y){return 1-L(1-Y)}}function Bs(L){return function(Y){return.5*(Y<.5?L(2*Y):2-L(2-2*Y))}}function Ms(L){return L*L}function yl(L){return L*L*L}function js(L){if(L<=0)return 0;if(L>=1)return 1;var Y=L*L,ne=Y*L;return 4*(L<.5?ne:3*(L-Y)+ne-.75)}function xl(L){return 1-Math.cos(L*Je)}function Ha(L){return Math.pow(2,10*(L-1))}function As(L){return 1-Math.sqrt(1-L*L)}function qa(L){return L<.36363636363636365?7.5625*L*L:L<.7272727272727273?7.5625*(L-=.5454545454545454)*L+.75:L<.9090909090909091?7.5625*(L-=.8181818181818182)*L+.9375:7.5625*(L-=.9545454545454546)*L+.984375}function xu(L,Y){return Y-=L,function(ne){return Math.round(L+Y*ne)}}function cu(L){var Y,ne,se,pe=[L.a,L.b],ke=[L.c,L.d],Re=bu(pe),Be=bl(pe,ke),Ze=bu(((Y=ke)[0]+=(se=-Be)*(ne=pe)[0],Y[1]+=se*ne[1],Y))||0;pe[0]*ke[1]<ke[0]*pe[1]&&(pe[0]*=-1,pe[1]*=-1,Re*=-1,Be*=-1),this.rotate=(Re?Math.atan2(pe[1],pe[0]):Math.atan2(-ke[0],ke[1]))*Ge,this.translate=[L.e,L.f],this.scale=[Re,Ze],this.skew=Ze?Math.atan2(Be,Ze)*Ge:0}function bl(L,Y){return L[0]*Y[0]+L[1]*Y[1]}function bu(L){var Y=Math.sqrt(bl(L,L));return Y&&(L[0]/=Y,L[1]/=Y),Y}a.ease=function(L){var Y,ne=L.indexOf("-"),se=ne>=0?L.slice(0,ne):L,pe=ne>=0?L.slice(ne+1):"in";return se=Ri.get(se)||ts,pe=Go.get(pe)||N,Y=pe(se.apply(null,M.call(arguments,1))),function(ke){return ke<=0?0:ke>=1?1:Y(ke)}},a.interpolateHcl=function(L,Y){L=a.hcl(L),Y=a.hcl(Y);var ne=L.h,se=L.c,pe=L.l,ke=Y.h-ne,Re=Y.c-se,Be=Y.l-pe;return isNaN(Re)&&(Re=0,se=isNaN(se)?Y.c:se),isNaN(ke)?(ke=0,ne=isNaN(ne)?Y.h:ne):ke>180?ke-=360:ke<-180&&(ke+=360),function(Ze){return Ct(ne+ke*Ze,se+Re*Ze,pe+Be*Ze)+""}},a.interpolateHsl=function(L,Y){L=a.hsl(L),Y=a.hsl(Y);var ne=L.h,se=L.s,pe=L.l,ke=Y.h-ne,Re=Y.s-se,Be=Y.l-pe;return isNaN(Re)&&(Re=0,se=isNaN(se)?Y.s:se),isNaN(ke)?(ke=0,ne=isNaN(ne)?Y.h:ne):ke>180?ke-=360:ke<-180&&(ke+=360),function(Ze){return At(ne+ke*Ze,se+Re*Ze,pe+Be*Ze)+""}},a.interpolateLab=function(L,Y){L=a.lab(L),Y=a.lab(Y);var ne=L.l,se=L.a,pe=L.b,ke=Y.l-ne,Re=Y.a-se,Be=Y.b-pe;return function(Ze){return $t(ne+ke*Ze,se+Re*Ze,pe+Be*Ze)+""}},a.interpolateRound=xu,a.transform=function(L){var Y=d.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(ne){if(null!=ne){Y.setAttribute("transform",ne);var se=Y.transform.baseVal.consolidate()}return new cu(se?se.matrix:_l)})(L)},cu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var _l={a:1,b:0,c:0,d:1,e:0,f:0};function wl(L){return L.length?L.pop()+",":""}function Us(L,Y){var pe,ke,Re,ne=[],se=[];return L=a.transform(L),Y=a.transform(Y),function(pe,ke,Re,Be){if(pe[0]!==ke[0]||pe[1]!==ke[1]){var Ze=Re.push("translate(",null,",",null,")");Be.push({i:Ze-4,x:gi(pe[0],ke[0])},{i:Ze-2,x:gi(pe[1],ke[1])})}else(ke[0]||ke[1])&&Re.push("translate("+ke+")")}(L.translate,Y.translate,ne,se),Re=ne,(pe=L.rotate)!==(ke=Y.rotate)?(pe-ke>180?ke+=360:ke-pe>180&&(pe+=360),se.push({i:Re.push(wl(Re)+"rotate(",null,")")-2,x:gi(pe,ke)})):ke&&Re.push(wl(Re)+"rotate("+ke+")"),function(pe,ke,Re,Be){pe!==ke?Be.push({i:Re.push(wl(Re)+"skewX(",null,")")-2,x:gi(pe,ke)}):ke&&Re.push(wl(Re)+"skewX("+ke+")")}(L.skew,Y.skew,ne,se),function(pe,ke,Re,Be){if(pe[0]!==ke[0]||pe[1]!==ke[1]){var Ze=Re.push(wl(Re)+"scale(",null,",",null,")");Be.push({i:Ze-4,x:gi(pe[0],ke[0])},{i:Ze-2,x:gi(pe[1],ke[1])})}else 1===ke[0]&&1===ke[1]||Re.push(wl(Re)+"scale("+ke+")")}(L.scale,Y.scale,ne,se),L=Y=null,function(pe){for(var ke,Re=-1,Be=se.length;++Re<Be;)ne[(ke=se[Re]).i]=ke.x(pe);return ne.join("")}}function fc(L,Y){return Y=(Y-=L=+L)||1/Y,function(ne){return(ne-L)/Y}}function ki(L,Y){return Y=(Y-=L=+L)||1/Y,function(ne){return Math.max(0,Math.min(1,(ne-L)/Y))}}function nl(L){for(var Y=L.source,ne=L.target,se=function(Re,Be){if(Re===Be)return Re;for(var Ze=Si(Re),Ke=Si(Be),lt=Ze.pop(),vt=Ke.pop(),bt=null;lt===vt;)bt=lt,lt=Ze.pop(),vt=Ke.pop();return bt}(Y,ne),pe=[Y];Y!==se;)pe.push(Y=Y.parent);for(var ke=pe.length;ne!==se;)pe.splice(ke,0,ne),ne=ne.parent;return pe}function Si(L){for(var Y=[],ne=L.parent;null!=ne;)Y.push(L),L=ne,ne=ne.parent;return Y.push(L),Y}function Vs(L){L.fixed|=2}function Hs(L){L.fixed&=-7}function qs(L){L.fixed|=4,L.px=L.x,L.py=L.y}function Tl(L){L.fixed&=-5}function hs(L,Y,ne){var se=0,pe=0;if(L.charge=0,!L.leaf)for(var ke,Re=L.nodes,Be=Re.length,Ze=-1;++Ze<Be;)null!=(ke=Re[Ze])&&(hs(ke,Y,ne),L.charge+=ke.charge,se+=ke.charge*ke.cx,pe+=ke.charge*ke.cy);if(L.point){L.leaf||(L.point.x+=Math.random()-.5,L.point.y+=Math.random()-.5);var Ke=Y*ne[L.point.index];L.charge+=L.pointCharge=Ke,se+=Ke*L.point.x,pe+=Ke*L.point.y}L.cx=se/L.charge,L.cy=pe/L.charge}a.interpolateTransform=Us,a.layout={},a.layout.bundle=function(){return function(L){for(var Y=[],ne=-1,se=L.length;++ne<se;)Y.push(nl(L[ne]));return Y}},a.layout.chord=function(){var L,Y,ne,se,pe,ke,Re,Be={},Ze=0;function Ke(){var vt,bt,St,Ft,It,Wt={},zt=[],sn=a.range(se),en=[];for(L=[],Y=[],vt=0,Ft=-1;++Ft<se;){for(bt=0,It=-1;++It<se;)bt+=ne[Ft][It];zt.push(bt),en.push(a.range(se)),vt+=bt}for(pe&&sn.sort(function(Er,sr){return pe(zt[Er],zt[sr])}),ke&&en.forEach(function(Er,sr){Er.sort(function(wr,zr){return ke(ne[sr][wr],ne[sr][zr])})}),vt=(Ht-Ze*se)/vt,bt=0,Ft=-1;++Ft<se;){for(St=bt,It=-1;++It<se;){var Xt=sn[Ft],Tn=en[Xt][It],kn=ne[Xt][Tn],Bn=bt,Hn=bt+=kn*vt;Wt[Xt+"-"+Tn]={index:Xt,subindex:Tn,startAngle:Bn,endAngle:Hn,value:kn}}Y[Xt]={index:Xt,startAngle:St,endAngle:bt,value:zt[Xt]},bt+=Ze}for(Ft=-1;++Ft<se;)for(It=Ft-1;++It<se;){var tr=Wt[Ft+"-"+It],gr=Wt[It+"-"+Ft];(tr.value||gr.value)&&L.push(tr.value<gr.value?{source:gr,target:tr}:{source:tr,target:gr})}Re&&lt()}function lt(){L.sort(function(vt,bt){return Re((vt.source.value+vt.target.value)/2,(bt.source.value+bt.target.value)/2)})}return Be.matrix=function(vt){return arguments.length?(se=(ne=vt)&&ne.length,L=Y=null,Be):ne},Be.padding=function(vt){return arguments.length?(Ze=vt,L=Y=null,Be):Ze},Be.sortGroups=function(vt){return arguments.length?(pe=vt,L=Y=null,Be):pe},Be.sortSubgroups=function(vt){return arguments.length?(ke=vt,L=null,Be):ke},Be.sortChords=function(vt){return arguments.length?(Re=vt,L&&lt(),Be):Re},Be.chords=function(){return L||Ke(),L},Be.groups=function(){return Y||Ke(),Y},Be},a.layout.force=function(){var L,Y,ne,se,pe,ke,Re={},Be=a.dispatch("start","tick","end"),Ze=[1,1],Ke=.9,lt=_u,vt=ga,bt=-30,St=ns,Ft=.1,It=.64,Wt=[],zt=[];function sn(Xt){return function(Tn,kn,Bn,Hn){if(Tn.point!==Xt){var tr=Tn.cx-Xt.x,gr=Tn.cy-Xt.y,Er=Hn-kn,sr=tr*tr+gr*gr;if(Er*Er/It<sr){if(sr<St){var wr=Tn.charge/sr;Xt.px-=tr*wr,Xt.py-=gr*wr}return!0}Tn.point&&sr&&sr<St&&(Xt.px-=tr*(wr=Tn.pointCharge/sr),Xt.py-=gr*wr)}return!Tn.charge}}function en(Xt){Xt.px=a.event.x,Xt.py=a.event.y,Re.resume()}return Re.tick=function(){if((ne*=.99)<.005)return L=null,Be.end({type:"end",alpha:ne=0}),!0;var Xt,Tn,kn,Bn,Hn,tr,gr,Er,sr,wr=Wt.length,zr=zt.length;for(Tn=0;Tn<zr;++Tn)Bn=(kn=zt[Tn]).source,(tr=(Er=(Hn=kn.target).x-Bn.x)*Er+(sr=Hn.y-Bn.y)*sr)&&(Er*=tr=ne*pe[Tn]*((tr=Math.sqrt(tr))-se[Tn])/tr,sr*=tr,Hn.x-=Er*(gr=Bn.weight+Hn.weight?Bn.weight/(Bn.weight+Hn.weight):.5),Hn.y-=sr*gr,Bn.x+=Er*(gr=1-gr),Bn.y+=sr*gr);if((gr=ne*Ft)&&(Er=Ze[0]/2,sr=Ze[1]/2,Tn=-1,gr))for(;++Tn<wr;)(kn=Wt[Tn]).x+=(Er-kn.x)*gr,kn.y+=(sr-kn.y)*gr;if(bt)for(hs(Xt=a.geom.quadtree(Wt),ne,ke),Tn=-1;++Tn<wr;)(kn=Wt[Tn]).fixed||Xt.visit(sn(kn));for(Tn=-1;++Tn<wr;)(kn=Wt[Tn]).fixed?(kn.x=kn.px,kn.y=kn.py):(kn.x-=(kn.px-(kn.px=kn.x))*Ke,kn.y-=(kn.py-(kn.py=kn.y))*Ke);Be.tick({type:"tick",alpha:ne})},Re.nodes=function(Xt){return arguments.length?(Wt=Xt,Re):Wt},Re.links=function(Xt){return arguments.length?(zt=Xt,Re):zt},Re.size=function(Xt){return arguments.length?(Ze=Xt,Re):Ze},Re.linkDistance=function(Xt){return arguments.length?(lt="function"==typeof Xt?Xt:+Xt,Re):lt},Re.distance=Re.linkDistance,Re.linkStrength=function(Xt){return arguments.length?(vt="function"==typeof Xt?Xt:+Xt,Re):vt},Re.friction=function(Xt){return arguments.length?(Ke=+Xt,Re):Ke},Re.charge=function(Xt){return arguments.length?(bt="function"==typeof Xt?Xt:+Xt,Re):bt},Re.chargeDistance=function(Xt){return arguments.length?(St=Xt*Xt,Re):Math.sqrt(St)},Re.gravity=function(Xt){return arguments.length?(Ft=+Xt,Re):Ft},Re.theta=function(Xt){return arguments.length?(It=Xt*Xt,Re):Math.sqrt(It)},Re.alpha=function(Xt){return arguments.length?(Xt=+Xt,ne?Xt>0?ne=Xt:(L.c=null,L.t=NaN,L=null,Be.end({type:"end",alpha:ne=0})):Xt>0&&(Be.start({type:"start",alpha:ne=Xt}),L=an(Re.tick)),Re):ne},Re.start=function(){var Xt,Tn,kn,Bn=Wt.length,Hn=zt.length,tr=Ze[0],gr=Ze[1];for(Xt=0;Xt<Bn;++Xt)(kn=Wt[Xt]).index=Xt,kn.weight=0;for(Xt=0;Xt<Hn;++Xt)"number"==typeof(kn=zt[Xt]).source&&(kn.source=Wt[kn.source]),"number"==typeof kn.target&&(kn.target=Wt[kn.target]),++kn.source.weight,++kn.target.weight;for(Xt=0;Xt<Bn;++Xt)kn=Wt[Xt],isNaN(kn.x)&&(kn.x=Er("x",tr)),isNaN(kn.y)&&(kn.y=Er("y",gr)),isNaN(kn.px)&&(kn.px=kn.x),isNaN(kn.py)&&(kn.py=kn.y);if(se=[],"function"==typeof lt)for(Xt=0;Xt<Hn;++Xt)se[Xt]=+lt.call(this,zt[Xt],Xt);else for(Xt=0;Xt<Hn;++Xt)se[Xt]=lt;if(pe=[],"function"==typeof vt)for(Xt=0;Xt<Hn;++Xt)pe[Xt]=+vt.call(this,zt[Xt],Xt);else for(Xt=0;Xt<Hn;++Xt)pe[Xt]=vt;if(ke=[],"function"==typeof bt)for(Xt=0;Xt<Bn;++Xt)ke[Xt]=+bt.call(this,Wt[Xt],Xt);else for(Xt=0;Xt<Bn;++Xt)ke[Xt]=bt;function Er(sr,wr){if(!Tn){for(Tn=new Array(Bn),br=0;br<Bn;++br)Tn[br]=[];for(br=0;br<Hn;++br){var zr=zt[br];Tn[zr.source.index].push(zr.target),Tn[zr.target.index].push(zr.source)}}for(var Gr,mr=Tn[Xt],br=-1,Ur=mr.length;++br<Ur;)if(!isNaN(Gr=mr[br][sr]))return Gr;return Math.random()*wr}return Re.resume()},Re.resume=function(){return Re.alpha(.1)},Re.stop=function(){return Re.alpha(0)},Re.drag=function(){if(Y||(Y=a.behavior.drag().origin(N).on("dragstart.force",Vs).on("drag.force",en).on("dragend.force",Hs)),!arguments.length)return Y;this.on("mouseover.force",qs).on("mouseout.force",Tl).call(Y)},a.rebind(Re,Be,"on")};var _u=20,ga=1,ns=1/0;function $o(L,Y){return a.rebind(L,Y,"sort","children","value"),L.nodes=L,L.links=Ml,L}function sa(L,Y){for(var ne=[L];null!=(L=ne.pop());)if(Y(L),(pe=L.children)&&(se=pe.length))for(var se,pe;--se>=0;)ne.push(pe[se])}function Xr(L,Y){for(var ne=[L],se=[];null!=(L=ne.pop());)if(se.push(L),(ke=L.children)&&(pe=ke.length))for(var pe,ke,Re=-1;++Re<pe;)ne.push(ke[Re]);for(;null!=(L=se.pop());)Y(L)}function Gs(L){return L.children}function wu(L){return L.value}function Fl(L,Y){return Y.value-L.value}function Ml(L){return a.merge(L.map(function(Y){return(Y.children||[]).map(function(ne){return{source:Y,target:ne}})}))}a.layout.hierarchy=function(){var L=Fl,Y=Gs,ne=wu;function se(pe){var ke,Re=[pe],Be=[];for(pe.depth=0;null!=(ke=Re.pop());)if(Be.push(ke),(Ke=Y.call(se,ke,ke.depth))&&(Ze=Ke.length)){for(var Ze,Ke,lt;--Ze>=0;)Re.push(lt=Ke[Ze]),lt.parent=ke,lt.depth=ke.depth+1;ne&&(ke.value=0),ke.children=Ke}else ne&&(ke.value=+ne.call(se,ke,ke.depth)||0),delete ke.children;return Xr(pe,function(vt){var bt,St;L&&(bt=vt.children)&&bt.sort(L),ne&&(St=vt.parent)&&(St.value+=vt.value)}),Be}return se.sort=function(pe){return arguments.length?(L=pe,se):L},se.children=function(pe){return arguments.length?(Y=pe,se):Y},se.value=function(pe){return arguments.length?(ne=pe,se):ne},se.revalue=function(pe){return ne&&(sa(pe,function(ke){ke.children&&(ke.value=0)}),Xr(pe,function(ke){var Re;ke.children||(ke.value=+ne.call(se,ke,ke.depth)||0),(Re=ke.parent)&&(Re.value+=ke.value)})),pe},se},a.layout.partition=function(){var L=a.layout.hierarchy(),Y=[1,1];function ne(ke,Re,Be,Ze){var Ke=ke.children;if(ke.x=Re,ke.y=ke.depth*Ze,ke.dx=Be,ke.dy=Ze,Ke&&(lt=Ke.length)){var lt,vt,bt,St=-1;for(Be=ke.value?Be/ke.value:0;++St<lt;)ne(vt=Ke[St],Re,bt=vt.value*Be,Ze),Re+=bt}}function se(ke){var Re=ke.children,Be=0;if(Re&&(Ze=Re.length))for(var Ze,Ke=-1;++Ke<Ze;)Be=Math.max(Be,se(Re[Ke]));return 1+Be}function pe(ke,Re){var Be=L.call(this,ke,Re);return ne(Be[0],0,Y[0],Y[1]/se(Be[0])),Be}return pe.size=function(ke){return arguments.length?(Y=ke,pe):Y},$o(pe,L)},a.layout.pie=function(){var L=Number,Y=ks,ne=0,se=Ht,pe=0;function ke(Re){var Be,Ze=Re.length,Ke=Re.map(function(sn,en){return+L.call(ke,sn,en)}),lt=+("function"==typeof ne?ne.apply(this,arguments):ne),vt=("function"==typeof se?se.apply(this,arguments):se)-lt,bt=Math.min(Math.abs(vt)/Ze,+("function"==typeof pe?pe.apply(this,arguments):pe)),St=bt*(vt<0?-1:1),Ft=a.sum(Ke),It=Ft?(vt-Ze*St)/Ft:0,Wt=a.range(Ze),zt=[];return null!=Y&&Wt.sort(Y===ks?function(sn,en){return Ke[en]-Ke[sn]}:function(sn,en){return Y(Re[sn],Re[en])}),Wt.forEach(function(sn){zt[sn]={data:Re[sn],value:Be=Ke[sn],startAngle:lt,endAngle:lt+=Be*It+St,padAngle:bt}}),zt}return ke.value=function(Re){return arguments.length?(L=Re,ke):L},ke.sort=function(Re){return arguments.length?(Y=Re,ke):Y},ke.startAngle=function(Re){return arguments.length?(ne=Re,ke):ne},ke.endAngle=function(Re){return arguments.length?(se=Re,ke):se},ke.padAngle=function(Re){return arguments.length?(pe=Re,ke):pe},ke};var ks={};function Yl(L){return L.x}function Zl(L){return L.y}function Hu(L,Y,ne){L.y0=Y,L.y=ne}a.layout.stack=function(){var L=N,Y=Es,ne=ka,se=Hu,pe=Yl,ke=Zl;function Re(Be,Ze){if(!(bt=Be.length))return Be;var Ke=Be.map(function(sn,en){return L.call(Re,sn,en)}),lt=Ke.map(function(sn){return sn.map(function(en,Xt){return[pe.call(Re,en,Xt),ke.call(Re,en,Xt)]})}),vt=Y.call(Re,lt,Ze);Ke=a.permute(Ke,vt),lt=a.permute(lt,vt);var bt,St,Ft,It,Wt=ne.call(Re,lt,Ze),zt=Ke[0].length;for(Ft=0;Ft<zt;++Ft)for(se.call(Re,Ke[0][Ft],It=Wt[Ft],lt[0][Ft][1]),St=1;St<bt;++St)se.call(Re,Ke[St][Ft],It+=lt[St-1][Ft][1],lt[St][Ft][1]);return Be}return Re.values=function(Be){return arguments.length?(L=Be,Re):L},Re.order=function(Be){return arguments.length?(Y="function"==typeof Be?Be:Ss.get(Be)||Es,Re):Y},Re.offset=function(Be){return arguments.length?(ne="function"==typeof Be?Be:rl.get(Be)||ka,Re):ne},Re.x=function(Be){return arguments.length?(pe=Be,Re):pe},Re.y=function(Be){return arguments.length?(ke=Be,Re):ke},Re.out=function(Be){return arguments.length?(se=Be,Re):se},Re};var Ss=a.map({"inside-out":function(L){var Y,ne,se=L.length,pe=L.map(Al),ke=L.map(Tu),Re=a.range(se).sort(function(vt,bt){return pe[vt]-pe[bt]}),Be=0,Ze=0,Ke=[],lt=[];for(Y=0;Y<se;++Y)ne=Re[Y],Be<Ze?(Be+=ke[ne],Ke.push(ne)):(Ze+=ke[ne],lt.push(ne));return lt.reverse().concat(Ke)},reverse:function(L){return a.range(L.length).reverse()},default:Es}),rl=a.map({silhouette:function(L){var Y,ne,se,pe=L.length,ke=L[0].length,Re=[],Be=0,Ze=[];for(ne=0;ne<ke;++ne){for(Y=0,se=0;Y<pe;Y++)se+=L[Y][ne][1];se>Be&&(Be=se),Re.push(se)}for(ne=0;ne<ke;++ne)Ze[ne]=(Be-Re[ne])/2;return Ze},wiggle:function(L){var Y,ne,se,pe,ke,Re,Be,Ze,Ke,lt=L.length,vt=L[0],bt=vt.length,St=[];for(St[0]=Ze=Ke=0,ne=1;ne<bt;++ne){for(Y=0,pe=0;Y<lt;++Y)pe+=L[Y][ne][1];for(Y=0,ke=0,Be=vt[ne][0]-vt[ne-1][0];Y<lt;++Y){for(se=0,Re=(L[Y][ne][1]-L[Y][ne-1][1])/(2*Be);se<Y;++se)Re+=(L[se][ne][1]-L[se][ne-1][1])/Be;ke+=Re*L[Y][ne][1]}St[ne]=Ze-=pe?ke/pe*Be:0,Ze<Ke&&(Ke=Ze)}for(ne=0;ne<bt;++ne)St[ne]-=Ke;return St},expand:function(L){var Y,ne,se,pe=L.length,ke=L[0].length,Re=1/pe,Be=[];for(ne=0;ne<ke;++ne){for(Y=0,se=0;Y<pe;Y++)se+=L[Y][ne][1];if(se)for(Y=0;Y<pe;Y++)L[Y][ne][1]/=se;else for(Y=0;Y<pe;Y++)L[Y][ne][1]=Re}for(ne=0;ne<ke;++ne)Be[ne]=0;return Be},zero:ka});function Es(L){return a.range(L.length)}function ka(L){for(var Y=-1,ne=L[0].length,se=[];++Y<ne;)se[Y]=0;return se}function Al(L){for(var Y,ne=1,se=0,pe=L[0][1],ke=L.length;ne<ke;++ne)(Y=L[ne][1])>pe&&(se=ne,pe=Y);return se}function Tu(L){return L.reduce(Xl,0)}function Xl(L,Y){return L+Y[1]}function $l(L,Y){return Ga(L,Math.ceil(Math.log(Y.length)/Math.LN2+1))}function Ga(L,Y){for(var ne=-1,se=+L[0],pe=(L[1]-se)/Y,ke=[];++ne<=Y;)ke[ne]=pe*ne+se;return ke}function fu(L){return[a.min(L),a.max(L)]}function rs(L,Y){return L.value-Y.value}function Nl(L,Y){var ne=L._pack_next;L._pack_next=Y,Y._pack_prev=L,Y._pack_next=ne,ne._pack_prev=Y}function il(L,Y){L._pack_next=Y,Y._pack_prev=L}function zl(L,Y){var ne=Y.x-L.x,se=Y.y-L.y,pe=L.r+Y.r;return.999*pe*pe>ne*ne+se*se}function kl(L){if((Y=L.children)&&(Ze=Y.length)){var Y,ne,se,pe,ke,Re,Be,Ze,Ke=1/0,lt=-1/0,vt=1/0,bt=-1/0;if(Y.forEach(Sl),(ne=Y[0]).x=-ne.r,ne.y=0,en(ne),Ze>1&&((se=Y[1]).x=se.r,se.y=0,en(se),Ze>2))for(Ui(ne,se,pe=Y[2]),en(pe),Nl(ne,pe),ne._pack_prev=pe,Nl(pe,se),se=ne._pack_next,ke=3;ke<Ze;ke++){Ui(ne,se,pe=Y[ke]);var St=0,Ft=1,It=1;for(Re=se._pack_next;Re!==se;Re=Re._pack_next,Ft++)if(zl(Re,pe)){St=1;break}if(1==St)for(Be=ne._pack_prev;Be!==Re._pack_prev&&!zl(Be,pe);Be=Be._pack_prev,It++);St?(Ft<It||Ft==It&&se.r<ne.r?il(ne,se=Re):il(ne=Be,se),ke--):(Nl(ne,pe),se=pe,en(pe))}var Wt=(Ke+lt)/2,zt=(vt+bt)/2,sn=0;for(ke=0;ke<Ze;ke++)(pe=Y[ke]).x-=Wt,pe.y-=zt,sn=Math.max(sn,pe.r+Math.sqrt(pe.x*pe.x+pe.y*pe.y));L.r=sn,Y.forEach(Kl)}function en(Xt){Ke=Math.min(Xt.x-Xt.r,Ke),lt=Math.max(Xt.x+Xt.r,lt),vt=Math.min(Xt.y-Xt.r,vt),bt=Math.max(Xt.y+Xt.r,bt)}}function Sl(L){L._pack_next=L._pack_prev=L}function Kl(L){delete L._pack_next,delete L._pack_prev}function Jl(L,Y,ne,se){var pe=L.children;if(L.x=Y+=se*L.x,L.y=ne+=se*L.y,L.r*=se,pe)for(var ke=-1,Re=pe.length;++ke<Re;)Jl(pe[ke],Y,ne,se)}function Ui(L,Y,ne){var se=L.r+ne.r,pe=Y.x-L.x,ke=Y.y-L.y;if(se&&(pe||ke)){var Re=Y.r+ne.r,Be=pe*pe+ke*ke,Ze=.5+((se*=se)-(Re*=Re))/(2*Be),Ke=Math.sqrt(Math.max(0,2*Re*(se+Be)-(se-=Be)*se-Re*Re))/(2*Be);ne.x=L.x+Ze*pe+Ke*ke,ne.y=L.y+Ze*ke-Ke*pe}else ne.x=L.x+se,ne.y=L.y}function ol(L,Y){return L.parent==Y.parent?1:2}function la(L){var Y=L.children;return Y.length?Y[0]:L.t}function Wa(L){var Y,ne=L.children;return(Y=ne.length)?ne[Y-1]:L.t}function Ei(L,Y,ne){var se=ne/(Y.i-L.i);Y.c-=se,Y.s+=ne,L.c+=se,Y.z+=ne,Y.m+=ne}function Fi(L,Y,ne){return L.a.parent===Y.parent?L.a:ne}function Ya(L){var Y=L.children;return Y&&Y.length?Ya(Y[0]):L}function Za(L){var Y,ne=L.children;return ne&&(Y=ne.length)?Za(ne[Y-1]):L}function Ql(L){return{x:L.x,y:L.y,dx:L.dx,dy:L.dy}}function eu(L,Y){var ne=L.x+Y[3],se=L.y+Y[0],pe=L.dx-Y[1]-Y[3],ke=L.dy-Y[0]-Y[2];return pe<0&&(ne+=pe/2,pe=0),ke<0&&(se+=ke/2,ke=0),{x:ne,y:se,dx:pe,dy:ke}}function ma(L){var Y=L[0],ne=L[L.length-1];return Y<ne?[Y,ne]:[ne,Y]}function ra(L){return L.rangeExtent?L.rangeExtent():ma(L.range())}function fi(L,Y,ne,se){var pe=ne(L[0],L[1]),ke=se(Y[0],Y[1]);return function(Re){return ke(pe(Re))}}function To(L,Y){var ne,se=0,pe=L.length-1,ke=L[se],Re=L[pe];return Re<ke&&(ne=se,se=pe,pe=ne,ne=ke,ke=Re,Re=ne),L[se]=Y.floor(ke),L[pe]=Y.ceil(Re),L}function Fo(L){return L?{floor:function(Y){return Math.floor(Y/L)*L},ceil:function(Y){return Math.ceil(Y/L)*L}}:Wo}a.layout.histogram=function(){var L=!0,Y=Number,ne=fu,se=$l;function pe(ke,Re){for(var Be,Ze,Ke=[],lt=ke.map(Y,this),vt=ne.call(this,lt,Re),bt=se.call(this,vt,lt,Re),St=(Re=-1,lt.length),Ft=bt.length-1,It=L?1:1/St;++Re<Ft;)(Be=Ke[Re]=[]).dx=bt[Re+1]-(Be.x=bt[Re]),Be.y=0;if(Ft>0)for(Re=-1;++Re<St;)(Ze=lt[Re])>=vt[0]&&Ze<=vt[1]&&((Be=Ke[a.bisect(bt,Ze,1,Ft)-1]).y+=It,Be.push(ke[Re]));return Ke}return pe.value=function(ke){return arguments.length?(Y=ke,pe):Y},pe.range=function(ke){return arguments.length?(ne=Jn(ke),pe):ne},pe.bins=function(ke){return arguments.length?(se="number"==typeof ke?function(Re){return Ga(Re,ke)}:Jn(ke),pe):se},pe.frequency=function(ke){return arguments.length?(L=!!ke,pe):L},pe},a.layout.pack=function(){var L,Y=a.layout.hierarchy().sort(rs),ne=0,se=[1,1];function pe(ke,Re){var Be=Y.call(this,ke,Re),Ze=Be[0],Ke=se[0],lt=se[1],vt=null==L?Math.sqrt:"function"==typeof L?L:function(){return L};if(Ze.x=Ze.y=0,Xr(Ze,function(St){St.r=+vt(St.value)}),Xr(Ze,kl),ne){var bt=ne*(L?1:Math.max(2*Ze.r/Ke,2*Ze.r/lt))/2;Xr(Ze,function(St){St.r+=bt}),Xr(Ze,kl),Xr(Ze,function(St){St.r-=bt})}return Jl(Ze,Ke/2,lt/2,L?1:1/Math.max(2*Ze.r/Ke,2*Ze.r/lt)),Be}return pe.size=function(ke){return arguments.length?(se=ke,pe):se},pe.radius=function(ke){return arguments.length?(L=null==ke||"function"==typeof ke?ke:+ke,pe):L},pe.padding=function(ke){return arguments.length?(ne=+ke,pe):ne},$o(pe,Y)},a.layout.tree=function(){var L=a.layout.hierarchy().sort(null).value(null),Y=ol,ne=[1,1],se=null;function pe(Ze,Ke){var lt=L.call(this,Ze,Ke),vt=lt[0],bt=function(en){for(var Xt,Tn={A:null,children:[en]},kn=[Tn];null!=(Xt=kn.pop());)for(var Bn,Hn=Xt.children,tr=0,gr=Hn.length;tr<gr;++tr)kn.push((Hn[tr]=Bn={_:Hn[tr],parent:Xt,children:(Bn=Hn[tr].children)&&Bn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:tr}).a=Bn);return Tn.children[0]}(vt);if(Xr(bt,ke),bt.parent.m=-bt.z,sa(bt,Re),se)sa(vt,Be);else{var St=vt,Ft=vt,It=vt;sa(vt,function(en){en.x<St.x&&(St=en),en.x>Ft.x&&(Ft=en),en.depth>It.depth&&(It=en)});var Wt=Y(St,Ft)/2-St.x,zt=ne[0]/(Ft.x+Y(Ft,St)/2+Wt),sn=ne[1]/(It.depth||1);sa(vt,function(en){en.x=(en.x+Wt)*zt,en.y=en.depth*sn})}return lt}function ke(Ze){var Ke=Ze.children,lt=Ze.parent.children,vt=Ze.i?lt[Ze.i-1]:null;if(Ke.length){!function(St){for(var Ft,It=0,Wt=0,zt=St.children,sn=zt.length;--sn>=0;)(Ft=zt[sn]).z+=It,Ft.m+=It,It+=Ft.s+(Wt+=Ft.c)}(Ze);var bt=(Ke[0].z+Ke[Ke.length-1].z)/2;vt?(Ze.z=vt.z+Y(Ze._,vt._),Ze.m=Ze.z-bt):Ze.z=bt}else vt&&(Ze.z=vt.z+Y(Ze._,vt._));Ze.parent.A=function(St,Ft,It){if(Ft){for(var Wt,zt=St,sn=St,en=Ft,Xt=zt.parent.children[0],Tn=zt.m,kn=sn.m,Bn=en.m,Hn=Xt.m;en=Wa(en),zt=la(zt),en&&zt;)Xt=la(Xt),(sn=Wa(sn)).a=St,(Wt=en.z+Bn-zt.z-Tn+Y(en._,zt._))>0&&(Ei(Fi(en,St,It),St,Wt),Tn+=Wt,kn+=Wt),Bn+=en.m,Tn+=zt.m,Hn+=Xt.m,kn+=sn.m;en&&!Wa(sn)&&(sn.t=en,sn.m+=Bn-kn),zt&&!la(Xt)&&(Xt.t=zt,Xt.m+=Tn-Hn,It=St)}return It}(Ze,vt,Ze.parent.A||lt[0])}function Re(Ze){Ze._.x=Ze.z+Ze.parent.m,Ze.m+=Ze.parent.m}function Be(Ze){Ze.x*=ne[0],Ze.y=Ze.depth*ne[1]}return pe.separation=function(Ze){return arguments.length?(Y=Ze,pe):Y},pe.size=function(Ze){return arguments.length?(se=null==(ne=Ze)?Be:null,pe):se?null:ne},pe.nodeSize=function(Ze){return arguments.length?(se=null==(ne=Ze)?null:Be,pe):se?ne:null},$o(pe,L)},a.layout.cluster=function(){var L=a.layout.hierarchy().sort(null).value(null),Y=ol,ne=[1,1],se=!1;function pe(ke,Re){var Be,Ze=L.call(this,ke,Re),Ke=Ze[0],lt=0;Xr(Ke,function(It){var zt,Wt=It.children;Wt&&Wt.length?(It.x=(zt=Wt).reduce(function(sn,en){return sn+en.x},0)/zt.length,It.y=function(zt){return 1+a.max(zt,function(sn){return sn.y})}(Wt)):(It.x=Be?lt+=Y(It,Be):0,It.y=0,Be=It)});var vt=Ya(Ke),bt=Za(Ke),St=vt.x-Y(vt,bt)/2,Ft=bt.x+Y(bt,vt)/2;return Xr(Ke,se?function(It){It.x=(It.x-Ke.x)*ne[0],It.y=(Ke.y-It.y)*ne[1]}:function(It){It.x=(It.x-St)/(Ft-St)*ne[0],It.y=(1-(Ke.y?It.y/Ke.y:1))*ne[1]}),Ze}return pe.separation=function(ke){return arguments.length?(Y=ke,pe):Y},pe.size=function(ke){return arguments.length?(se=null==(ne=ke),pe):se?null:ne},pe.nodeSize=function(ke){return arguments.length?(se=null!=(ne=ke),pe):se?ne:null},$o(pe,L)},a.layout.treemap=function(){var L,Y=a.layout.hierarchy(),ne=Math.round,se=[1,1],pe=null,ke=Ql,Re=!1,Be="squarify",Ze=.5*(1+Math.sqrt(5));function Ke(It,Wt){for(var zt,sn,en=-1,Xt=It.length;++en<Xt;)sn=(zt=It[en]).value*(Wt<0?0:Wt),zt.area=isNaN(sn)||sn<=0?0:sn}function lt(It){var Wt=It.children;if(Wt&&Wt.length){var zt,sn,en,Xt=ke(It),Tn=[],kn=Wt.slice(),Bn=1/0,Hn="slice"===Be?Xt.dx:"dice"===Be?Xt.dy:"slice-dice"===Be?1&It.depth?Xt.dy:Xt.dx:Math.min(Xt.dx,Xt.dy);for(Ke(kn,Xt.dx*Xt.dy/It.value),Tn.area=0;(en=kn.length)>0;)Tn.push(zt=kn[en-1]),Tn.area+=zt.area,"squarify"!==Be||(sn=bt(Tn,Hn))<=Bn?(kn.pop(),Bn=sn):(Tn.area-=Tn.pop().area,St(Tn,Hn,Xt,!1),Hn=Math.min(Xt.dx,Xt.dy),Tn.length=Tn.area=0,Bn=1/0);Tn.length&&(St(Tn,Hn,Xt,!0),Tn.length=Tn.area=0),Wt.forEach(lt)}}function vt(It){var Wt=It.children;if(Wt&&Wt.length){var zt,sn=ke(It),en=Wt.slice(),Xt=[];for(Ke(en,sn.dx*sn.dy/It.value),Xt.area=0;zt=en.pop();)Xt.push(zt),Xt.area+=zt.area,null!=zt.z&&(St(Xt,zt.z?sn.dx:sn.dy,sn,!en.length),Xt.length=Xt.area=0);Wt.forEach(vt)}}function bt(It,Wt){for(var zt,sn=It.area,en=0,Xt=1/0,Tn=-1,kn=It.length;++Tn<kn;)(zt=It[Tn].area)&&(zt<Xt&&(Xt=zt),zt>en&&(en=zt));return Wt*=Wt,(sn*=sn)?Math.max(Wt*en*Ze/sn,sn/(Wt*Xt*Ze)):1/0}function St(It,Wt,zt,sn){var en,Xt=-1,Tn=It.length,kn=zt.x,Bn=zt.y,Hn=Wt?ne(It.area/Wt):0;if(Wt==zt.dx){for((sn||Hn>zt.dy)&&(Hn=zt.dy);++Xt<Tn;)(en=It[Xt]).x=kn,en.y=Bn,en.dy=Hn,kn+=en.dx=Math.min(zt.x+zt.dx-kn,Hn?ne(en.area/Hn):0);en.z=!0,en.dx+=zt.x+zt.dx-kn,zt.y+=Hn,zt.dy-=Hn}else{for((sn||Hn>zt.dx)&&(Hn=zt.dx);++Xt<Tn;)(en=It[Xt]).x=kn,en.y=Bn,en.dx=Hn,Bn+=en.dy=Math.min(zt.y+zt.dy-Bn,Hn?ne(en.area/Hn):0);en.z=!1,en.dy+=zt.y+zt.dy-Bn,zt.x+=Hn,zt.dx-=Hn}}function Ft(It){var Wt=L||Y(It),zt=Wt[0];return zt.x=zt.y=0,zt.value?(zt.dx=se[0],zt.dy=se[1]):zt.dx=zt.dy=0,L&&Y.revalue(zt),Ke([zt],zt.dx*zt.dy/zt.value),(L?vt:lt)(zt),Re&&(L=Wt),Wt}return Ft.size=function(It){return arguments.length?(se=It,Ft):se},Ft.padding=function(It){if(!arguments.length)return pe;var zt;return ke=null==(pe=It)?Ql:"function"==(zt=typeof It)?function(sn){var en=It.call(Ft,sn,sn.depth);return null==en?Ql(sn):eu(sn,"number"==typeof en?[en,en,en,en]:en)}:("number"===zt&&(It=[It,It,It,It]),function Wt(sn){return eu(sn,It)}),Ft},Ft.round=function(It){return arguments.length?(ne=It?Math.round:Number,Ft):ne!=Number},Ft.sticky=function(It){return arguments.length?(Re=It,L=null,Ft):Re},Ft.ratio=function(It){return arguments.length?(Ze=It,Ft):Ze},Ft.mode=function(It){return arguments.length?(Be=It+"",Ft):Be},$o(Ft,Y)},a.random={normal:function(L,Y){var ne=arguments.length;return ne<2&&(Y=1),ne<1&&(L=0),function(){var se,pe,ke;do{ke=(se=2*Math.random()-1)*se+(pe=2*Math.random()-1)*pe}while(!ke||ke>1);return L+Y*se*Math.sqrt(-2*Math.log(ke)/ke)}},logNormal:function(){var L=a.random.normal.apply(a,arguments);return function(){return Math.exp(L())}},bates:function(L){var Y=a.random.irwinHall(L);return function(){return Y()/L}},irwinHall:function(L){return function(){for(var Y=0,ne=0;ne<L;ne++)Y+=Math.random();return Y}}},a.scale={};var Wo={floor:N,ceil:N};function ua(L,Y,ne,se){var pe=[],ke=[],Re=0,Be=Math.min(L.length,Y.length)-1;for(L[Be]<L[0]&&(L=L.slice().reverse(),Y=Y.slice().reverse());++Re<=Be;)pe.push(ne(L[Re-1],L[Re])),ke.push(se(Y[Re-1],Y[Re]));return function(Ze){var Ke=a.bisect(L,Ze,1,Be)-1;return ke[Ke](pe[Ke](Ze))}}function Xa(L,Y,ne,se){var pe,ke;function Re(){var Ze=Math.min(L.length,Y.length)>2?ua:fi,Ke=se?ki:fc;return pe=Ze(L,Y,Ke,ne),ke=Ze(Y,L,Ke,La),Be}function Be(Ze){return pe(Ze)}return Be.invert=function(Ze){return ke(Ze)},Be.domain=function(Ze){return arguments.length?(L=Ze.map(Number),Re()):L},Be.range=function(Ze){return arguments.length?(Y=Ze,Re()):Y},Be.rangeRound=function(Ze){return Be.range(Ze).interpolate(xu)},Be.clamp=function(Ze){return arguments.length?(se=Ze,Re()):se},Be.interpolate=function(Ze){return arguments.length?(ne=Ze,Re()):ne},Be.ticks=function(Ze){return Ko(L,Ze)},Be.tickFormat=function(Ze,Ke){return d3_scale_linearTickFormat(L,Ze,Ke)},Be.nice=function(Ze){return No(L,Ze),Re()},Be.copy=function(){return Xa(L,Y,ne,se)},Re()}function jo(L,Y){return a.rebind(L,Y,"range","rangeRound","interpolate","clamp")}function No(L,Y){return To(L,Fo(Xi(L,Y)[2])),To(L,Fo(Xi(L,Y)[2])),L}function Xi(L,Y){null==Y&&(Y=10);var ne=ma(L),se=ne[1]-ne[0],pe=Math.pow(10,Math.floor(Math.log(se/Y)/Math.LN10)),ke=Y/se*pe;return ke<=.15?pe*=10:ke<=.35?pe*=5:ke<=.75&&(pe*=2),ne[0]=Math.ceil(ne[0]/pe)*pe,ne[1]=Math.floor(ne[1]/pe)*pe+.5*pe,ne[2]=pe,ne}function Ko(L,Y){return a.range.apply(a,Xi(L,Y))}function Vi(L,Y,ne,se){function pe(Be){return(ne?Math.log(Be<0?0:Be):-Math.log(Be>0?0:-Be))/Math.log(Y)}function ke(Be){return ne?Math.pow(Y,Be):-Math.pow(Y,-Be)}function Re(Be){return L(pe(Be))}return Re.invert=function(Be){return ke(L.invert(Be))},Re.domain=function(Be){return arguments.length?(ne=Be[0]>=0,L.domain((se=Be.map(Number)).map(pe)),Re):se},Re.base=function(Be){return arguments.length?(Y=+Be,L.domain(se.map(pe)),Re):Y},Re.nice=function(){var Be=To(se.map(pe),ne?Math:jr);return L.domain(Be),se=Be.map(ke),Re},Re.ticks=function(){var Be=ma(se),Ze=[],Ke=Be[0],lt=Be[1],vt=Math.floor(pe(Ke)),bt=Math.ceil(pe(lt)),St=Y%1?2:Y;if(isFinite(bt-vt)){if(ne){for(;vt<bt;vt++)for(var Ft=1;Ft<St;Ft++)Ze.push(ke(vt)*Ft);Ze.push(ke(vt))}else for(Ze.push(ke(vt));vt++<bt;)for(Ft=St-1;Ft>0;Ft--)Ze.push(ke(vt)*Ft);for(vt=0;Ze[vt]<Ke;vt++);for(bt=Ze.length;Ze[bt-1]>lt;bt--);Ze=Ze.slice(vt,bt)}return Ze},Re.copy=function(){return Vi(L.copy(),Y,ne,se)},jo(Re,L)}a.scale.linear=function(){return Xa([0,1],[0,1],La,!1)},a.scale.log=function(){return Vi(a.scale.linear().domain([0,1]),10,!0,[1,10])};var jr={floor:function(L){return-Math.ceil(-L)},ceil:function(L){return-Math.floor(-L)}};function ri(L,Y,ne){var se=Hi(Y),pe=Hi(1/Y);function ke(Re){return L(se(Re))}return ke.invert=function(Re){return pe(L.invert(Re))},ke.domain=function(Re){return arguments.length?(L.domain((ne=Re.map(Number)).map(se)),ke):ne},ke.ticks=function(Re){return Ko(ne,Re)},ke.tickFormat=function(Re,Be){return d3_scale_linearTickFormat(ne,Re,Be)},ke.nice=function(Re){return ke.domain(No(ne,Re))},ke.exponent=function(Re){return arguments.length?(se=Hi(Y=Re),pe=Hi(1/Y),L.domain(ne.map(se)),ke):Y},ke.copy=function(){return ri(L.copy(),Y,ne)},jo(ke,L)}function Hi(L){return function(Y){return Y<0?-Math.pow(-Y,L):Math.pow(Y,L)}}function vo(L,Y){var ne,se,pe;function ke(Be){return se[((ne.get(Be)||("range"===Y.t?ne.set(Be,L.push(Be)):NaN))-1)%se.length]}function Re(Be,Ze){return a.range(L.length).map(function(Ke){return Be+Ze*Ke})}return ke.domain=function(Be){if(!arguments.length)return L;L=[],ne=new y;for(var Ze,Ke=-1,lt=Be.length;++Ke<lt;)ne.has(Ze=Be[Ke])||ne.set(Ze,L.push(Ze));return ke[Y.t].apply(ke,Y.a)},ke.range=function(Be){return arguments.length?(se=Be,pe=0,Y={t:"range",a:arguments},ke):se},ke.rangePoints=function(Be,Ze){arguments.length<2&&(Ze=0);var Ke=Be[0],lt=Be[1],vt=L.length<2?(Ke=(Ke+lt)/2,0):(lt-Ke)/(L.length-1+Ze);return se=Re(Ke+vt*Ze/2,vt),pe=0,Y={t:"rangePoints",a:arguments},ke},ke.rangeRoundPoints=function(Be,Ze){arguments.length<2&&(Ze=0);var Ke=Be[0],lt=Be[1],vt=L.length<2?(Ke=lt=Math.round((Ke+lt)/2),0):(lt-Ke)/(L.length-1+Ze)|0;return se=Re(Ke+Math.round(vt*Ze/2+(lt-Ke-(L.length-1+Ze)*vt)/2),vt),pe=0,Y={t:"rangeRoundPoints",a:arguments},ke},ke.rangeBands=function(Be,Ze,Ke){arguments.length<2&&(Ze=0),arguments.length<3&&(Ke=Ze);var lt=Be[1]<Be[0],vt=Be[lt-0],bt=(Be[1-lt]-vt)/(L.length-Ze+2*Ke);return se=Re(vt+bt*Ke,bt),lt&&se.reverse(),pe=bt*(1-Ze),Y={t:"rangeBands",a:arguments},ke},ke.rangeRoundBands=function(Be,Ze,Ke){arguments.length<2&&(Ze=0),arguments.length<3&&(Ke=Ze);var lt=Be[1]<Be[0],vt=Be[lt-0],bt=Be[1-lt],St=Math.floor((bt-vt)/(L.length-Ze+2*Ke));return se=Re(vt+Math.round((bt-vt-(L.length-Ze)*St)/2),St),lt&&se.reverse(),pe=Math.round(St*(1-Ze)),Y={t:"rangeRoundBands",a:arguments},ke},ke.rangeBand=function(){return pe},ke.rangeExtent=function(){return ma(Y.a[0])},ke.copy=function(){return vo(L,Y)},ke.domain(L)}a.scale.pow=function(){return ri(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return vo([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(ds)},a.scale.category20=function(){return a.scale.ordinal().range(Mo)},a.scale.category20b=function(){return a.scale.ordinal().range(ca)},a.scale.category20c=function(){return a.scale.ordinal().range(Ni)};var ds=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ln),Mo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ln),ca=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ln),Ni=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ln);function Ci(L,Y){var ne;function se(){var ke=0,Re=Y.length;for(ne=[];++ke<Re;)ne[ke-1]=a.quantile(L,ke/Re);return pe}function pe(ke){if(!isNaN(ke=+ke))return Y[a.bisect(ne,ke)]}return pe.domain=function(ke){return arguments.length?(L=ke.map(h).filter(c).sort(l),se()):L},pe.range=function(ke){return arguments.length?(Y=ke,se()):Y},pe.quantiles=function(){return ne},pe.invertExtent=function(ke){return(ke=Y.indexOf(ke))<0?[NaN,NaN]:[ke>0?ne[ke-1]:L[0],ke<ne.length?ne[ke]:L[L.length-1]]},pe.copy=function(){return Ci(L,Y)},se()}function va(L,Y,ne){var se,pe;function ke(Be){return ne[Math.max(0,Math.min(pe,Math.floor(se*(Be-L))))]}function Re(){return se=ne.length/(Y-L),pe=ne.length-1,ke}return ke.domain=function(Be){return arguments.length?(L=+Be[0],Y=+Be[Be.length-1],Re()):[L,Y]},ke.range=function(Be){return arguments.length?(ne=Be,Re()):ne},ke.invertExtent=function(Be){return[Be=(Be=ne.indexOf(Be))<0?NaN:Be/se+L,Be+1/se]},ke.copy=function(){return va(L,Y,ne)},Re()}function Mr(L,Y){function ne(se){if(se<=se)return Y[a.bisect(L,se)]}return ne.domain=function(se){return arguments.length?(L=se,ne):L},ne.range=function(se){return arguments.length?(Y=se,ne):Y},ne.invertExtent=function(se){return se=Y.indexOf(se),[L[se-1],L[se]]},ne.copy=function(){return Mr(L,Y)},ne}function Ws(L){function Y(ne){return+ne}return Y.invert=Y,Y.domain=Y.range=function(ne){return arguments.length?(L=ne.map(Y),Y):L},Y.ticks=function(ne){return Ko(L,ne)},Y.tickFormat=function(ne,se){return d3_scale_linearTickFormat(L,ne,se)},Y.copy=function(){return Ws(L)},Y}function hu(){return 0}a.scale.quantile=function(){return Ci([],[])},a.scale.quantize=function(){return va(0,1,[0,1])},a.scale.threshold=function(){return Mr([.5],[0,1])},a.scale.identity=function(){return Ws([0,1])},a.svg={},a.svg.arc=function(){var L=no,Y=ps,ne=hu,se=$a,pe=gs,ke=Pr,Re=Ys;function Be(){var Ke=Math.max(0,+L.apply(this,arguments)),lt=Math.max(0,+Y.apply(this,arguments)),vt=pe.apply(this,arguments)-Je,bt=ke.apply(this,arguments)-Je,St=Math.abs(bt-vt),Ft=vt>bt?0:1;if(lt<Ke&&(It=lt,lt=Ke,Ke=It),St>=Pt)return Ze(lt,Ft)+(Ke?Ze(Ke,1-Ft):"")+"Z";var It,Wt,zt,sn,en,Xt,Tn,kn,Bn,Hn,tr,gr,Er=0,sr=0,wr=[];if((sn=(+Re.apply(this,arguments)||0)/2)&&(zt=se===$a?Math.sqrt(Ke*Ke+lt*lt):+se.apply(this,arguments),Ft||(sr*=-1),lt&&(sr=Qe(zt/lt*Math.sin(sn))),Ke&&(Er=Qe(zt/Ke*Math.sin(sn)))),lt){en=lt*Math.cos(vt+sr),Xt=lt*Math.sin(vt+sr),Tn=lt*Math.cos(bt-sr),kn=lt*Math.sin(bt-sr);var zr=Math.abs(bt-vt-2*sr)<=Ut?0:1;if(sr&&Cs(en,Xt,Tn,kn)===Ft^zr){var Gr=(vt+bt)/2;en=lt*Math.cos(Gr),Xt=lt*Math.sin(Gr),Tn=kn=null}}else en=Xt=0;if(Ke){Bn=Ke*Math.cos(bt-Er),Hn=Ke*Math.sin(bt-Er),tr=Ke*Math.cos(vt+Er),gr=Ke*Math.sin(vt+Er);var mr=Math.abs(vt-bt+2*Er)<=Ut?0:1;if(Er&&Cs(Bn,Hn,tr,gr)===1-Ft^mr){var br=(vt+bt)/2;Bn=Ke*Math.cos(br),Hn=Ke*Math.sin(br),tr=gr=null}}else Bn=Hn=0;if(St>st&&(It=Math.min(Math.abs(lt-Ke)/2,+ne.apply(this,arguments)))>.001){Wt=Ke<lt^Ft?0:1;var Ur=It,Sr=It;if(St<Ut){var Wr=null==tr?[Bn,Hn]:null==Tn?[en,Xt]:Nt([en,Xt],[tr,gr],[Tn,kn],[Bn,Hn]),Kr=en-Wr[0],si=Xt-Wr[1],ui=Tn-Wr[0],xi=kn-Wr[1],vi=1/Math.sin(Math.acos((Kr*ui+si*xi)/(Math.sqrt(Kr*Kr+si*si)*Math.sqrt(ui*ui+xi*xi)))/2),Ki=Math.sqrt(Wr[0]*Wr[0]+Wr[1]*Wr[1]);Sr=Math.min(It,(Ke-Ki)/(vi-1)),Ur=Math.min(It,(lt-Ki)/(vi+1))}if(null!=Tn){var Ao=lo(null==tr?[Bn,Hn]:[tr,gr],[en,Xt],lt,Ur,Ft),ba=lo([Tn,kn],[Bn,Hn],lt,Ur,Ft);It===Ur?wr.push("M",Ao[0],"A",Ur,",",Ur," 0 0,",Wt," ",Ao[1],"A",lt,",",lt," 0 ",1-Ft^Cs(Ao[1][0],Ao[1][1],ba[1][0],ba[1][1]),",",Ft," ",ba[1],"A",Ur,",",Ur," 0 0,",Wt," ",ba[0]):wr.push("M",Ao[0],"A",Ur,",",Ur," 0 1,",Wt," ",ba[0])}else wr.push("M",en,",",Xt);if(null!=tr){var Vo=lo([en,Xt],[tr,gr],Ke,-Sr,Ft),ia=lo([Bn,Hn],null==Tn?[en,Xt]:[Tn,kn],Ke,-Sr,Ft);It===Sr?wr.push("L",ia[0],"A",Sr,",",Sr," 0 0,",Wt," ",ia[1],"A",Ke,",",Ke," 0 ",Ft^Cs(ia[1][0],ia[1][1],Vo[1][0],Vo[1][1]),",",1-Ft," ",Vo[1],"A",Sr,",",Sr," 0 0,",Wt," ",Vo[0]):wr.push("L",ia[0],"A",Sr,",",Sr," 0 0,",Wt," ",Vo[0])}else wr.push("L",Bn,",",Hn)}else wr.push("M",en,",",Xt),null!=Tn&&wr.push("A",lt,",",lt," 0 ",zr,",",Ft," ",Tn,",",kn),wr.push("L",Bn,",",Hn),null!=tr&&wr.push("A",Ke,",",Ke," 0 ",mr,",",1-Ft," ",tr,",",gr);return wr.push("Z"),wr.join("")}function Ze(Ke,lt){return"M0,"+Ke+"A"+Ke+","+Ke+" 0 1,"+lt+" 0,"+-Ke+"A"+Ke+","+Ke+" 0 1,"+lt+" 0,"+Ke}return Be.innerRadius=function(Ke){return arguments.length?(L=Jn(Ke),Be):L},Be.outerRadius=function(Ke){return arguments.length?(Y=Jn(Ke),Be):Y},Be.cornerRadius=function(Ke){return arguments.length?(ne=Jn(Ke),Be):ne},Be.padRadius=function(Ke){return arguments.length?(se=Ke==$a?$a:Jn(Ke),Be):se},Be.startAngle=function(Ke){return arguments.length?(pe=Jn(Ke),Be):pe},Be.endAngle=function(Ke){return arguments.length?(ke=Jn(Ke),Be):ke},Be.padAngle=function(Ke){return arguments.length?(Re=Jn(Ke),Be):Re},Be.centroid=function(){var Ke=(+L.apply(this,arguments)+ +Y.apply(this,arguments))/2,lt=(+pe.apply(this,arguments)+ +ke.apply(this,arguments))/2-Je;return[Math.cos(lt)*Ke,Math.sin(lt)*Ke]},Be};var $a="auto";function no(L){return L.innerRadius}function ps(L){return L.outerRadius}function gs(L){return L.startAngle}function Pr(L){return L.endAngle}function Ys(L){return L&&L.padAngle}function Cs(L,Y,ne,se){return(L-ne)*Y-(Y-se)*L>0?0:1}function lo(L,Y,ne,se,pe){var ke=L[0]-Y[0],Re=L[1]-Y[1],Be=(pe?se:-se)/Math.sqrt(ke*ke+Re*Re),Ze=Be*Re,Ke=-Be*ke,lt=L[0]+Ze,vt=L[1]+Ke,bt=Y[0]+Ze,St=Y[1]+Ke,Ft=(lt+bt)/2,It=(vt+St)/2,Wt=bt-lt,zt=St-vt,sn=Wt*Wt+zt*zt,en=ne-se,Xt=lt*St-bt*vt,Tn=(zt<0?-1:1)*Math.sqrt(Math.max(0,en*en*sn-Xt*Xt)),kn=(Xt*zt-Wt*Tn)/sn,Bn=(-Xt*Wt-zt*Tn)/sn,Hn=(Xt*zt+Wt*Tn)/sn,tr=(-Xt*Wt+zt*Tn)/sn,gr=kn-Ft,Er=Bn-It,sr=Hn-Ft,wr=tr-It;return gr*gr+Er*Er>sr*sr+wr*wr&&(kn=Hn,Bn=tr),[[kn-Ze,Bn-Ke],[kn*ne/en,Bn*ne/en]]}function ya(){return!0}function Sa(L){var Y=ar,ne=In,se=ya,pe=ii,ke=pe.key,Re=.7;function Be(Ze){var Ke,lt=[],vt=[],bt=-1,St=Ze.length,Ft=Jn(Y),It=Jn(ne);function Wt(){lt.push("M",pe(L(vt),Re))}for(;++bt<St;)se.call(this,Ke=Ze[bt],bt)?vt.push([+Ft.call(this,Ke,bt),+It.call(this,Ke,bt)]):vt.length&&(Wt(),vt=[]);return vt.length&&Wt(),lt.length?lt.join(""):null}return Be.x=function(Ze){return arguments.length?(Y=Ze,Be):Y},Be.y=function(Ze){return arguments.length?(ne=Ze,Be):ne},Be.defined=function(Ze){return arguments.length?(se=Ze,Be):se},Be.interpolate=function(Ze){return arguments.length?(ke="function"==typeof Ze?pe=Ze:(pe=xa.get(Ze)||ii).key,Be):ke},Be.tension=function(Ze){return arguments.length?(Re=Ze,Be):Re},Be}a.svg.line=function(){return Sa(N)};var xa=a.map({linear:ii,"linear-closed":Zs,step:function(L){for(var Y=0,ne=L.length,se=L[0],pe=[se[0],",",se[1]];++Y<ne;)pe.push("H",(se[0]+(se=L[Y])[0])/2,"V",se[1]);return ne>1&&pe.push("H",se[0]),pe.join("")},"step-before":Pa,"step-after":Ds,basis:mi,"basis-open":function(L){if(L.length<4)return ii(L);for(var Y,ne=[],se=-1,pe=L.length,ke=[0],Re=[0];++se<3;)ke.push((Y=L[se])[0]),Re.push(Y[1]);for(ne.push(Do(ro,ke)+","+Do(ro,Re)),--se;++se<pe;)Y=L[se],ke.shift(),ke.push(Y[0]),Re.shift(),Re.push(Y[1]),Yo(ne,ke,Re);return ne.join("")},"basis-closed":function(L){for(var Y,ne,se=-1,pe=L.length,ke=pe+4,Re=[],Be=[];++se<4;)Re.push((ne=L[se%pe])[0]),Be.push(ne[1]);for(Y=[Do(ro,Re),",",Do(ro,Be)],--se;++se<ke;)ne=L[se%pe],Re.shift(),Re.push(ne[0]),Be.shift(),Be.push(ne[1]),Yo(Y,Re,Be);return Y.join("")},bundle:function(L,Y){var ne=L.length-1;if(ne)for(var se,pe,ke=L[0][0],Re=L[0][1],Be=L[ne][0]-ke,Ze=L[ne][1]-Re,Ke=-1;++Ke<=ne;)(se=L[Ke])[0]=Y*se[0]+(1-Y)*(ke+(pe=Ke/ne)*Be),se[1]=Y*se[1]+(1-Y)*(Re+pe*Ze);return mi(L)},cardinal:function(L,Y){return L.length<3?ii(L):L[0]+Oa(L,ms(L,Y))},"cardinal-open":function(L,Y){return L.length<4?ii(L):L[1]+Oa(L.slice(1,-1),ms(L,Y))},"cardinal-closed":function(L,Y){return L.length<3?Zs(L):L[0]+Oa((L.push(L[0]),L),ms([L[L.length-2]].concat(L,[L[1]]),Y))},monotone:function(L){return L.length<3?ii(L):L[0]+Oa(L,function(Y){for(var ne,se,pe,ke,Re=[],Be=function(lt){for(var vt=0,bt=lt.length-1,St=[],Ft=lt[0],It=lt[1],Wt=St[0]=al(Ft,It);++vt<bt;)St[vt]=(Wt+(Wt=al(Ft=It,It=lt[vt+1])))/2;return St[vt]=Wt,St}(Y),Ze=-1,Ke=Y.length-1;++Ze<Ke;)ne=al(Y[Ze],Y[Ze+1]),v(ne)<st?Be[Ze]=Be[Ze+1]=0:(ke=(se=Be[Ze]/ne)*se+(pe=Be[Ze+1]/ne)*pe)>9&&(ke=3*ne/Math.sqrt(ke),Be[Ze]=ke*se,Be[Ze+1]=ke*pe);for(Ze=-1;++Ze<=Ke;)ke=(Y[Math.min(Ke,Ze+1)][0]-Y[Math.max(0,Ze-1)][0])/(6*(1+Be[Ze]*Be[Ze])),Re.push([ke||0,Be[Ze]*ke||0]);return Re}(L))}});function ii(L){return L.length>1?L.join("L"):L+"Z"}function Zs(L){return L.join("L")+"Z"}function Pa(L){for(var Y=0,ne=L.length,se=L[0],pe=[se[0],",",se[1]];++Y<ne;)pe.push("V",(se=L[Y])[1],"H",se[0]);return pe.join("")}function Ds(L){for(var Y=0,ne=L.length,se=L[0],pe=[se[0],",",se[1]];++Y<ne;)pe.push("H",(se=L[Y])[0],"V",se[1]);return pe.join("")}function Oa(L,Y){if(Y.length<1||L.length!=Y.length&&L.length!=Y.length+2)return ii(L);var ne=L.length!=Y.length,se="",pe=L[0],ke=L[1],Re=Y[0],Be=Re,Ze=1;if(ne&&(se+="Q"+(ke[0]-2*Re[0]/3)+","+(ke[1]-2*Re[1]/3)+","+ke[0]+","+ke[1],pe=L[1],Ze=2),Y.length>1){ke=L[Ze],Ze++,se+="C"+(pe[0]+Re[0])+","+(pe[1]+Re[1])+","+(ke[0]-(Be=Y[1])[0])+","+(ke[1]-Be[1])+","+ke[0]+","+ke[1];for(var Ke=2;Ke<Y.length;Ke++,Ze++)se+="S"+((ke=L[Ze])[0]-(Be=Y[Ke])[0])+","+(ke[1]-Be[1])+","+ke[0]+","+ke[1]}if(ne){var lt=L[Ze];se+="Q"+(ke[0]+2*Be[0]/3)+","+(ke[1]+2*Be[1]/3)+","+lt[0]+","+lt[1]}return se}function ms(L,Y){for(var ne,se=[],pe=(1-Y)/2,ke=L[0],Re=L[1],Be=1,Ze=L.length;++Be<Ze;)ne=ke,ke=Re,se.push([pe*((Re=L[Be])[0]-ne[0]),pe*(Re[1]-ne[1])]);return se}function mi(L){if(L.length<3)return ii(L);var Y=1,ne=L.length,se=L[0],pe=se[0],ke=se[1],Re=[pe,pe,pe,(se=L[1])[0]],Be=[ke,ke,ke,se[1]],Ze=[pe,",",ke,"L",Do(ro,Re),",",Do(ro,Be)];for(L.push(L[ne-1]);++Y<=ne;)se=L[Y],Re.shift(),Re.push(se[0]),Be.shift(),Be.push(se[1]),Yo(Ze,Re,Be);return L.pop(),Ze.push("L",se),Ze.join("")}function Do(L,Y){return L[0]*Y[0]+L[1]*Y[1]+L[2]*Y[2]+L[3]*Y[3]}xa.forEach(function(L,Y){Y.key=L,Y.closed=/-closed$/.test(L)});var qi=[0,2/3,1/3,0],Xs=[0,1/3,2/3,0],ro=[0,1/6,2/3,1/6];function Yo(L,Y,ne){L.push("C",Do(qi,Y),",",Do(qi,ne),",",Do(Xs,Y),",",Do(Xs,ne),",",Do(ro,Y),",",Do(ro,ne))}function al(L,Y){return(Y[1]-L[1])/(Y[0]-L[0])}function Uo(L){for(var Y,ne,se,pe=-1,ke=L.length;++pe<ke;)ne=(Y=L[pe])[0],se=Y[1]-Je,Y[0]=ne*Math.cos(se),Y[1]=ne*Math.sin(se);return L}function yi(L){var Y=ar,ne=ar,se=0,pe=In,ke=ya,Re=ii,Be=Re.key,Ze=Re,Ke="L",lt=.7;function vt(bt){var St,Ft,It,Wt=[],zt=[],sn=[],en=-1,Xt=bt.length,Tn=Jn(Y),kn=Jn(se),Bn=Y===ne?function(){return Ft}:Jn(ne),Hn=se===pe?function(){return It}:Jn(pe);function tr(){Wt.push("M",Re(L(sn),lt),Ke,Ze(L(zt.reverse()),lt),"Z")}for(;++en<Xt;)ke.call(this,St=bt[en],en)?(zt.push([Ft=+Tn.call(this,St,en),It=+kn.call(this,St,en)]),sn.push([+Bn.call(this,St,en),+Hn.call(this,St,en)])):zt.length&&(tr(),zt=[],sn=[]);return zt.length&&tr(),Wt.length?Wt.join(""):null}return vt.x=function(bt){return arguments.length?(Y=ne=bt,vt):ne},vt.x0=function(bt){return arguments.length?(Y=bt,vt):Y},vt.x1=function(bt){return arguments.length?(ne=bt,vt):ne},vt.y=function(bt){return arguments.length?(se=pe=bt,vt):pe},vt.y0=function(bt){return arguments.length?(se=bt,vt):se},vt.y1=function(bt){return arguments.length?(pe=bt,vt):pe},vt.defined=function(bt){return arguments.length?(ke=bt,vt):ke},vt.interpolate=function(bt){return arguments.length?(Be="function"==typeof bt?Re=bt:(Re=xa.get(bt)||ii).key,Ze=Re.reverse||Re,Ke=Re.closed?"M":"L",vt):Be},vt.tension=function(bt){return arguments.length?(lt=bt,vt):lt},vt}function Zo(L){return L.source}function $s(L){return L.target}function vs(L){return L.radius}function Bl(L){return[L.x,L.y]}function tu(){return 64}function ys(){return"circle"}function io(L){var Y=Math.sqrt(L/Ut);return"M0,"+Y+"A"+Y+","+Y+" 0 1,1 0,"+-Y+"A"+Y+","+Y+" 0 1,1 0,"+Y+"Z"}a.svg.line.radial=function(){var L=Sa(Uo);return L.radius=L.x,delete L.x,L.angle=L.y,delete L.y,L},Pa.reverse=Ds,Ds.reverse=Pa,a.svg.area=function(){return yi(N)},a.svg.area.radial=function(){var L=yi(Uo);return L.radius=L.x,delete L.x,L.innerRadius=L.x0,delete L.x0,L.outerRadius=L.x1,delete L.x1,L.angle=L.y,delete L.y,L.startAngle=L.y0,delete L.y0,L.endAngle=L.y1,delete L.y1,L},a.svg.chord=function(){var L=Zo,Y=$s,ne=vs,se=gs,pe=Pr;function ke(Ke,lt){var vt,bt,St=Re(this,L,Ke,lt),Ft=Re(this,Y,Ke,lt);return"M"+St.p0+Be(St.r,St.p1,St.a1-St.a0)+((vt=St).a0==(bt=Ft).a0&&vt.a1==bt.a1?Ze(0,0,0,St.p0):Ze(0,0,0,Ft.p0)+Be(Ft.r,Ft.p1,Ft.a1-Ft.a0)+Ze(0,0,0,St.p0))+"Z"}function Re(Ke,lt,vt,bt){var St=lt.call(Ke,vt,bt),Ft=ne.call(Ke,St,bt),It=se.call(Ke,St,bt)-Je,Wt=pe.call(Ke,St,bt)-Je;return{r:Ft,a0:It,a1:Wt,p0:[Ft*Math.cos(It),Ft*Math.sin(It)],p1:[Ft*Math.cos(Wt),Ft*Math.sin(Wt)]}}function Be(Ke,lt,vt){return"A"+Ke+","+Ke+" 0 "+ +(vt>Ut)+",1 "+lt}function Ze(Ke,lt,vt,bt){return"Q 0,0 "+bt}return ke.radius=function(Ke){return arguments.length?(ne=Jn(Ke),ke):ne},ke.source=function(Ke){return arguments.length?(L=Jn(Ke),ke):L},ke.target=function(Ke){return arguments.length?(Y=Jn(Ke),ke):Y},ke.startAngle=function(Ke){return arguments.length?(se=Jn(Ke),ke):se},ke.endAngle=function(Ke){return arguments.length?(pe=Jn(Ke),ke):pe},ke},a.svg.diagonal=function(){var L=Zo,Y=$s,ne=Bl;function se(pe,ke){var Re=L.call(this,pe,ke),Be=Y.call(this,pe,ke),Ze=(Re.y+Be.y)/2,Ke=[Re,{x:Re.x,y:Ze},{x:Be.x,y:Ze},Be];return"M"+(Ke=Ke.map(ne))[0]+"C"+Ke[1]+" "+Ke[2]+" "+Ke[3]}return se.source=function(pe){return arguments.length?(L=Jn(pe),se):L},se.target=function(pe){return arguments.length?(Y=Jn(pe),se):Y},se.projection=function(pe){return arguments.length?(ne=pe,se):ne},se},a.svg.diagonal.radial=function(){var L=a.svg.diagonal(),Y=Bl,ne=L.projection;return L.projection=function(se){return arguments.length?ne((pe=Y=se,function(){var ke=pe.apply(this,arguments),Re=ke[0],Be=ke[1]-Je;return[Re*Math.cos(Be),Re*Math.sin(Be)]})):Y;var pe},L},a.svg.symbol=function(){var L=ys,Y=tu;function ne(se,pe){return(jl.get(L.call(this,se,pe))||io)(Y.call(this,se,pe))}return ne.type=function(se){return arguments.length?(L=Jn(se),ne):L},ne.size=function(se){return arguments.length?(Y=Jn(se),ne):Y},ne};var jl=a.map({circle:io,cross:function(L){var Y=Math.sqrt(L/5)/2;return"M"+-3*Y+","+-Y+"H"+-Y+"V"+-3*Y+"H"+Y+"V"+-Y+"H"+3*Y+"V"+Y+"H"+Y+"V"+3*Y+"H"+-Y+"V"+Y+"H"+-3*Y+"Z"},diamond:function(L){var Y=Math.sqrt(L/(2*ei)),ne=Y*ei;return"M0,"+-Y+"L"+ne+",0 0,"+Y+" "+-ne+",0Z"},square:function(L){var Y=Math.sqrt(L)/2;return"M"+-Y+","+-Y+"L"+Y+","+-Y+" "+Y+","+Y+" "+-Y+","+Y+"Z"},"triangle-down":function(L){var Y=Math.sqrt(L/Zr),ne=Y*Zr/2;return"M0,"+ne+"L"+Y+","+-ne+" "+-Y+","+-ne+"Z"},"triangle-up":function(L){var Y=Math.sqrt(L/Zr),ne=Y*Zr/2;return"M0,"+-ne+"L"+Y+","+ne+" "+-Y+","+ne+"Z"}});a.svg.symbolTypes=jl.keys();var Zr=Math.sqrt(3),ei=Math.tan(30*tt);Te.transition=function(L){for(var Y,ne,se=zo||++hc,pe=oo(L),ke=[],Re=Js||{time:Date.now(),ease:js,delay:0,duration:250},Be=-1,Ze=this.length;++Be<Ze;){ke.push(Y=[]);for(var Ke=this[Be],lt=-1,vt=Ke.length;++lt<vt;)(ne=Ke[lt])&&Ea(ne,lt,pe,se,Re),Y.push(ne)}return sl(ke,pe,se)},Te.interrupt=function(L){return this.each(null==L?is:Ks(oo(L)))};var is=Ks(oo());function Ks(L){return function(){var Y,ne,se;(Y=this[L])&&(se=Y[ne=Y.active])&&(se.timer.c=null,se.timer.t=NaN,--Y.count?delete Y[ne]:delete this[L],Y.active+=.5,se.event&&se.event.interrupt.call(this,this.__data__,se.index))}}function sl(L,Y,ne){return J(L,Gi),L.namespace=Y,L.id=ne,L}var zo,Js,Gi=[],hc=0;function os(L,Y,ne,se){var pe=L.id,ke=L.namespace;return Ae(L,"function"==typeof ne?function(Re,Be,Ze){Re[ke][pe].tween.set(Y,se(ne.call(Re,Re.__data__,Be,Ze)))}:(ne=se(ne),function(Re){Re[ke][pe].tween.set(Y,ne)}))}function $i(L){return null==L&&(L=""),function(){this.textContent=L}}function oo(L){return null==L?"__transition__":"__transition_"+L+"__"}function Ea(L,Y,ne,se,pe){var ke,Re,Be,Ze,Ke,lt=L[ne]||(L[ne]={active:0,count:0}),vt=lt[se];function bt(Ft){var It=lt.active,Wt=lt[It];for(var zt in Wt&&(Wt.timer.c=null,Wt.timer.t=NaN,--lt.count,delete lt[It],Wt.event&&Wt.event.interrupt.call(L,L.__data__,Wt.index)),lt)if(+zt<se){var sn=lt[zt];sn.timer.c=null,sn.timer.t=NaN,--lt.count,delete lt[zt]}Re.c=St,an(function(){return Re.c&&St(Ft||1)&&(Re.c=null,Re.t=NaN),1},0,ke),lt.active=se,vt.event&&vt.event.start.call(L,L.__data__,Y),Ke=[],vt.tween.forEach(function(en,Xt){(Xt=Xt.call(L,L.__data__,Y))&&Ke.push(Xt)}),Ze=vt.ease,Be=vt.duration}function St(Ft){for(var It=Ft/Be,Wt=Ze(It),zt=Ke.length;zt>0;)Ke[--zt].call(L,Wt);if(It>=1)return vt.event&&vt.event.end.call(L,L.__data__,Y),--lt.count?delete lt[se]:delete L[ne],1}vt||(Re=an(function(Ft){var It=vt.delay;if(Re.t=It+ke,It<=Ft)return bt(Ft-It);Re.c=bt},0,ke=pe.time),vt=lt[se]={tween:new y,time:ke,timer:Re,delay:pe.delay,duration:pe.duration,ease:pe.ease,index:Y},pe=null,++lt.count)}Gi.call=Te.call,Gi.empty=Te.empty,Gi.node=Te.node,Gi.size=Te.size,a.transition=function(L,Y){return L&&L.transition?zo?L.transition(Y):L:a.selection().transition(L)},a.transition.prototype=Gi,Gi.select=function(L){var Y,ne,se,pe=this.id,ke=this.namespace,Re=[];L=Me(L);for(var Be=-1,Ze=this.length;++Be<Ze;){Re.push(Y=[]);for(var Ke=this[Be],lt=-1,vt=Ke.length;++lt<vt;)(se=Ke[lt])&&(ne=L.call(se,se.__data__,lt,Be))?("__data__"in se&&(ne.__data__=se.__data__),Ea(ne,lt,ke,pe,se[ke][pe]),Y.push(ne)):Y.push(null)}return sl(Re,ke,pe)},Gi.selectAll=function(L){var Y,ne,se,pe,ke,Re=this.id,Be=this.namespace,Ze=[];L=we(L);for(var Ke=-1,lt=this.length;++Ke<lt;)for(var vt=this[Ke],bt=-1,St=vt.length;++bt<St;)if(se=vt[bt]){ke=se[Be][Re],ne=L.call(se,se.__data__,bt,Ke),Ze.push(Y=[]);for(var Ft=-1,It=ne.length;++Ft<It;)(pe=ne[Ft])&&Ea(pe,Ft,Be,Re,ke),Y.push(pe)}return sl(Ze,Be,Re)},Gi.filter=function(L){var Y,ne,se=[];"function"!=typeof L&&(L=je(L));for(var pe=0,ke=this.length;pe<ke;pe++){se.push(Y=[]);for(var Re,Be=0,Ze=(Re=this[pe]).length;Be<Ze;Be++)(ne=Re[Be])&&L.call(ne,ne.__data__,Be,pe)&&Y.push(ne)}return sl(se,this.namespace,this.id)},Gi.tween=function(L,Y){var ne=this.id,se=this.namespace;return arguments.length<2?this.node()[se][ne].tween.get(L):Ae(this,null==Y?function(pe){pe[se][ne].tween.remove(L)}:function(pe){pe[se][ne].tween.set(L,Y)})},Gi.attr=function(L,Y){if(arguments.length<2){for(Y in L)this.attr(Y,L[Y]);return this}var ne="transform"==L?Us:La,se=a.ns.qualify(L);function pe(){this.removeAttribute(se)}function ke(){this.removeAttributeNS(se.space,se.local)}return os(this,"attr."+L,Y,se.local?function(Re){return null==Re?ke:(Re+="",function(){var Be,Ze=this.getAttributeNS(se.space,se.local);return Ze!==Re&&(Be=ne(Ze,Re),function(Ke){this.setAttributeNS(se.space,se.local,Be(Ke))})})}:function(Re){return null==Re?pe:(Re+="",function(){var Be,Ze=this.getAttribute(se);return Ze!==Re&&(Be=ne(Ze,Re),function(Ke){this.setAttribute(se,Be(Ke))})})})},Gi.attrTween=function(L,Y){var ne=a.ns.qualify(L);return this.tween("attr."+L,ne.local?function(se,pe){var ke=Y.call(this,se,pe,this.getAttributeNS(ne.space,ne.local));return ke&&function(Re){this.setAttributeNS(ne.space,ne.local,ke(Re))}}:function(se,pe){var ke=Y.call(this,se,pe,this.getAttribute(ne));return ke&&function(Re){this.setAttribute(ne,ke(Re))}})},Gi.style=function(L,Y,ne){var se=arguments.length;if(se<3){if("string"!=typeof L){for(ne in se<2&&(Y=""),L)this.style(ne,L[ne],Y);return this}ne=""}function pe(){this.style.removeProperty(L)}return os(this,"style."+L,Y,function(ke){return null==ke?pe:(ke+="",function(){var Re,Be=t(this).getComputedStyle(this,null).getPropertyValue(L);return Be!==ke&&(Re=La(Be,ke),function(Ze){this.style.setProperty(L,Re(Ze),ne)})})})},Gi.styleTween=function(L,Y,ne){return arguments.length<3&&(ne=""),this.tween("style."+L,function(se,pe){var ke=Y.call(this,se,pe,t(this).getComputedStyle(this,null).getPropertyValue(L));return ke&&function(Re){this.style.setProperty(L,ke(Re),ne)}})},Gi.text=function(L){return os(this,"text",L,$i)},Gi.remove=function(){var L=this.namespace;return this.each("end.transition",function(){var Y;this[L].count<2&&(Y=this.parentNode)&&Y.removeChild(this)})},Gi.ease=function(L){var Y=this.id,ne=this.namespace;return arguments.length<1?this.node()[ne][Y].ease:("function"!=typeof L&&(L=a.ease.apply(a,arguments)),Ae(this,function(se){se[ne][Y].ease=L}))},Gi.delay=function(L){var Y=this.id,ne=this.namespace;return arguments.length<1?this.node()[ne][Y].delay:Ae(this,"function"==typeof L?function(se,pe,ke){se[ne][Y].delay=+L.call(se,se.__data__,pe,ke)}:(L=+L,function(se){se[ne][Y].delay=L}))},Gi.duration=function(L){var Y=this.id,ne=this.namespace;return arguments.length<1?this.node()[ne][Y].duration:Ae(this,"function"==typeof L?function(se,pe,ke){se[ne][Y].duration=Math.max(1,L.call(se,se.__data__,pe,ke))}:(L=Math.max(1,L),function(se){se[ne][Y].duration=L}))},Gi.each=function(L,Y){var ne=this.id,se=this.namespace;if(arguments.length<2){var pe=Js,ke=zo;try{zo=ne,Ae(this,function(Re,Be,Ze){Js=Re[se][ne],L.call(Re,Re.__data__,Be,Ze)})}finally{Js=pe,zo=ke}}else Ae(this,function(Re){var Be=Re[se][ne];(Be.event||(Be.event=a.dispatch("start","end","interrupt"))).on(L,Y)});return this},Gi.transition=function(){for(var L,Y,ne,se=this.id,pe=++hc,ke=this.namespace,Re=[],Be=0,Ze=this.length;Be<Ze;Be++){Re.push(L=[]);for(var Ke,lt=0,vt=(Ke=this[Be]).length;lt<vt;lt++)(Y=Ke[lt])&&Ea(Y,lt,ke,pe,{time:(ne=Y[ke][se]).time,ease:ne.ease,delay:ne.delay+ne.duration,duration:ne.duration}),L.push(Y)}return sl(Re,ke,pe)},a.svg.axis=function(){var L,Y=a.scale.linear(),ne=El,se=6,pe=6,ke=3,Re=[10],Be=null;function Ze(Ke){Ke.each(function(){var lt,vt=a.select(this),bt=this.__chart__||Y,St=this.__chart__=Y.copy(),Ft=Be??(St.ticks?St.ticks.apply(St,Re):St.domain()),It=L??(St.tickFormat?St.tickFormat.apply(St,Re):N),Wt=vt.selectAll(".tick").data(Ft,St),zt=Wt.enter().insert("g",".domain").attr("class","tick").style("opacity",st),sn=a.transition(Wt.exit()).style("opacity",st).remove(),en=a.transition(Wt.order()).style("opacity",1),Xt=Math.max(se,0)+ke,Tn=ra(St),kn=vt.selectAll(".domain").data([0]),Bn=(kn.enter().append("path").attr("class","domain"),a.transition(kn));zt.append("line"),zt.append("text");var Hn,tr,gr,Er,sr=zt.select("line"),wr=en.select("line"),zr=Wt.select("text").text(It),Gr=zt.select("text"),mr=en.select("text"),br="top"===ne||"left"===ne?-1:1;if("bottom"===ne||"top"===ne?(lt=rt,Hn="x",gr="y",tr="x2",Er="y2",zr.attr("dy",br<0?"0em":".71em").style("text-anchor","middle"),Bn.attr("d","M"+Tn[0]+","+br*pe+"V0H"+Tn[1]+"V"+br*pe)):(lt=at,Hn="y",gr="x",tr="y2",Er="x2",zr.attr("dy",".32em").style("text-anchor",br<0?"end":"start"),Bn.attr("d","M"+br*pe+","+Tn[0]+"H0V"+Tn[1]+"H"+br*pe)),sr.attr(Er,br*se),Gr.attr(gr,br*Xt),wr.attr(tr,0).attr(Er,br*se),mr.attr(Hn,0).attr(gr,br*Xt),St.rangeBand){var Ur=St,Sr=Ur.rangeBand()/2;bt=St=function(Wr){return Ur(Wr)+Sr}}else bt.rangeBand?bt=St:sn.call(lt,St,bt);zt.call(lt,bt,St),en.call(lt,St,St)})}return Ze.scale=function(Ke){return arguments.length?(Y=Ke,Ze):Y},Ze.orient=function(Ke){return arguments.length?(ne=Ke in qu?Ke+"":El,Ze):ne},Ze.ticks=function(){return arguments.length?(Re=_(arguments),Ze):Re},Ze.tickValues=function(Ke){return arguments.length?(Be=Ke,Ze):Be},Ze.tickFormat=function(Ke){return arguments.length?(L=Ke,Ze):L},Ze.tickSize=function(Ke){var lt=arguments.length;return lt?(se=+Ke,pe=+arguments[lt-1],Ze):se},Ze.innerTickSize=function(Ke){return arguments.length?(se=+Ke,Ze):se},Ze.outerTickSize=function(Ke){return arguments.length?(pe=+Ke,Ze):pe},Ze.tickPadding=function(Ke){return arguments.length?(ke=+Ke,Ze):ke},Ze.tickSubdivide=function(){return arguments.length&&Ze},Ze};var El="bottom",qu={top:1,right:1,bottom:1,left:1};function rt(L,Y,ne){L.attr("transform",function(se){var pe=Y(se);return"translate("+(isFinite(pe)?pe:ne(se))+",0)"})}function at(L,Y,ne){L.attr("transform",function(se){var pe=Y(se);return"translate(0,"+(isFinite(pe)?pe:ne(se))+")"})}a.svg.brush=function(){var L,Y,ne=ee(lt,"brushstart","brush","brushend"),se=null,pe=null,ke=[0,0],Re=[0,0],Be=!0,Ze=!0,Ke=V[0];function lt(It){It.each(function(){var Wt=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ft).on("touchstart.brush",Ft),zt=Wt.selectAll(".background").data([0]);zt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Wt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var sn=Wt.selectAll(".resize").data(Ke,N);sn.exit().remove(),sn.enter().append("g").attr("class",function(kn){return"resize "+kn}).style("cursor",function(kn){return gt[kn]}).append("rect").attr("x",function(kn){return/[ew]$/.test(kn)?-3:null}).attr("y",function(kn){return/^[ns]/.test(kn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),sn.style("display",lt.empty()?"none":null);var en,Xt=a.transition(Wt),Tn=a.transition(zt);se&&(en=ra(se),Tn.attr("x",en[0]).attr("width",en[1]-en[0]),bt(Xt)),pe&&(en=ra(pe),Tn.attr("y",en[0]).attr("height",en[1]-en[0]),St(Xt)),vt(Xt)})}function vt(It){It.selectAll(".resize").attr("transform",function(Wt){return"translate("+ke[+/e$/.test(Wt)]+","+Re[+/^s/.test(Wt)]+")"})}function bt(It){It.select(".extent").attr("x",ke[0]),It.selectAll(".extent,.n>rect,.s>rect").attr("width",ke[1]-ke[0])}function St(It){It.select(".extent").attr("y",Re[0]),It.selectAll(".extent,.e>rect,.w>rect").attr("height",Re[1]-Re[0])}function Ft(){var It,Wt,zt=this,sn=a.select(a.event.target),en=ne.of(zt,arguments),Xt=a.select(zt),Tn=sn.datum(),kn=!/^(n|s)$/.test(Tn)&&se,Bn=!/^(e|w)$/.test(Tn)&&pe,Hn=sn.classed("extent"),tr=Mt(zt),gr=a.mouse(zt),Er=a.select(t(zt)).on("keydown.brush",function(){32==a.event.keyCode&&(Hn||(It=null,gr[0]-=ke[1],gr[1]-=Re[1],Hn=2),te())}).on("keyup.brush",function(){32==a.event.keyCode&&2==Hn&&(gr[0]+=ke[1],gr[1]+=Re[1],Hn=0,te())});if(a.event.changedTouches?Er.on("touchmove.brush",zr).on("touchend.brush",mr):Er.on("mousemove.brush",zr).on("mouseup.brush",mr),Xt.interrupt().selectAll("*").interrupt(),Hn)gr[0]=ke[0]-gr[0],gr[1]=Re[0]-gr[1];else if(Tn){var sr=+/w$/.test(Tn),wr=+/^n/.test(Tn);Wt=[ke[1-sr]-gr[0],Re[1-wr]-gr[1]],gr[0]=ke[sr],gr[1]=Re[wr]}else a.event.altKey&&(It=gr.slice());function zr(){var br=a.mouse(zt),Ur=!1;Wt&&(br[0]+=Wt[0],br[1]+=Wt[1]),Hn||(a.event.altKey?(It||(It=[(ke[0]+ke[1])/2,(Re[0]+Re[1])/2]),gr[0]=ke[+(br[0]<It[0])],gr[1]=Re[+(br[1]<It[1])]):It=null),kn&&Gr(br,se,0)&&(bt(Xt),Ur=!0),Bn&&Gr(br,pe,1)&&(St(Xt),Ur=!0),Ur&&(vt(Xt),en({type:"brush",mode:Hn?"move":"resize"}))}function Gr(br,Ur,Sr){var Wr,Kr,si=ra(Ur),ui=si[0],xi=si[1],vi=gr[Sr],Ki=Sr?Re:ke,Ao=Ki[1]-Ki[0];if(Hn&&(ui-=vi,xi-=Ao+vi),Wr=(Sr?Ze:Be)?Math.max(ui,Math.min(xi,br[Sr])):br[Sr],Hn?Kr=(Wr+=vi)+Ao:(It&&(vi=Math.max(ui,Math.min(xi,2*It[Sr]-Wr))),vi<Wr?(Kr=Wr,Wr=vi):Kr=vi),Ki[0]!=Wr||Ki[1]!=Kr)return Sr?Y=null:L=null,Ki[0]=Wr,Ki[1]=Kr,!0}function mr(){zr(),Xt.style("pointer-events","all").selectAll(".resize").style("display",lt.empty()?"none":null),a.select("body").style("cursor",null),Er.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),tr(),en({type:"brushend"})}Xt.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",sn.style("cursor")),en({type:"brushstart"}),zr()}return lt.event=function(It){It.each(function(){var Wt=ne.of(this,arguments),zt={x:ke,y:Re,i:L,j:Y},sn=this.__chart__||zt;this.__chart__=zt,zo?a.select(this).transition().each("start.brush",function(){L=sn.i,Y=sn.j,ke=sn.x,Re=sn.y,Wt({type:"brushstart"})}).tween("brush:brush",function(){var en=Va(ke,zt.x),Xt=Va(Re,zt.y);return L=Y=null,function(Tn){ke=zt.x=en(Tn),Re=zt.y=Xt(Tn),Wt({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=zt.i,Y=zt.j,Wt({type:"brush",mode:"resize"}),Wt({type:"brushend"})}):(Wt({type:"brushstart"}),Wt({type:"brush",mode:"resize"}),Wt({type:"brushend"}))})},lt.x=function(It){return arguments.length?(Ke=V[!(se=It)<<1|!pe],lt):se},lt.y=function(It){return arguments.length?(Ke=V[!se<<1|!(pe=It)],lt):pe},lt.clamp=function(It){return arguments.length?(se&&pe?(Be=!!It[0],Ze=!!It[1]):se?Be=!!It:pe&&(Ze=!!It),lt):se&&pe?[Be,Ze]:se?Be:pe?Ze:null},lt.extent=function(It){var Wt,zt,sn,en,Xt;return arguments.length?(se&&(Wt=It[0],zt=It[1],pe&&(Wt=Wt[0],zt=zt[0]),L=[Wt,zt],se.invert&&(Wt=se(Wt),zt=se(zt)),zt<Wt&&(Xt=Wt,Wt=zt,zt=Xt),Wt==ke[0]&&zt==ke[1]||(ke=[Wt,zt])),pe&&(sn=It[0],en=It[1],se&&(sn=sn[1],en=en[1]),Y=[sn,en],pe.invert&&(sn=pe(sn),en=pe(en)),en<sn&&(Xt=sn,sn=en,en=Xt),sn==Re[0]&&en==Re[1]||(Re=[sn,en])),lt):(se&&(L?(Wt=L[0],zt=L[1]):(Wt=ke[0],zt=ke[1],se.invert&&(Wt=se.invert(Wt),zt=se.invert(zt)),zt<Wt&&(Xt=Wt,Wt=zt,zt=Xt))),pe&&(Y?(sn=Y[0],en=Y[1]):(sn=Re[0],en=Re[1],pe.invert&&(sn=pe.invert(sn),en=pe.invert(en)),en<sn&&(Xt=sn,sn=en,en=Xt))),se&&pe?[[Wt,sn],[zt,en]]:se?[Wt,zt]:pe&&[sn,en])},lt.clear=function(){return lt.empty()||(ke=[0,0],Re=[0,0],L=Y=null),lt},lt.empty=function(){return!!se&&ke[0]==ke[1]||!!pe&&Re[0]==Re[1]},a.rebind(lt,ne,"on")};var gt={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},V=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function X(L){return JSON.parse(L.responseText)}function Z(L){var Y=d.createRange();return Y.selectNode(d.body),Y.createContextualFragment(L.responseText)}a.text=$n(function(L){return L.responseText}),a.json=function(L,Y){return nr(L,"application/json",X,Y)},a.html=function(L,Y){return nr(L,"text/html",Z,Y)},a.xml=$n(function(L){return L.responseXML}),void 0===(A="function"==typeof(S=a)?S.call(z,e,z,ie):S)||(ie.exports=A)}).apply(self)},3480:function(ie){ie.exports=function(){"use strict";var z,e,S;function A(a,M){if(z)if(e){var _="var sharedChunk = {}; ("+z+")(sharedChunk); ("+e+")(sharedChunk);",d={};z(d),S=M(d),typeof window<"u"&&(S.workerUrl=window.URL.createObjectURL(new Blob([_],{type:"text/javascript"})))}else e=M;else z=M}return A(0,function(a){function M(k,F){return k(F={exports:{}},F.exports),F.exports}var _="1.13.4",d=s;function s(k,F,K,de){this.cx=3*k,this.bx=3*(K-k)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*F,this.by=3*(de-F)-this.cy,this.ay=1-this.cy-this.by,this.p1x=k,this.p1y=de,this.p2x=K,this.p2y=de}s.prototype.sampleCurveX=function(k){return((this.ax*k+this.bx)*k+this.cx)*k},s.prototype.sampleCurveY=function(k){return((this.ay*k+this.by)*k+this.cy)*k},s.prototype.sampleCurveDerivativeX=function(k){return(3*this.ax*k+2*this.bx)*k+this.cx},s.prototype.solveCurveX=function(k,F){var K,de,De,Fe,Ye;for(void 0===F&&(F=1e-6),De=k,Ye=0;Ye<8;Ye++){if(Fe=this.sampleCurveX(De)-k,Math.abs(Fe)<F)return De;var it=this.sampleCurveDerivativeX(De);if(Math.abs(it)<1e-6)break;De-=Fe/it}if((De=k)<(K=0))return K;if(De>(de=1))return de;for(;K<de;){if(Fe=this.sampleCurveX(De),Math.abs(Fe-k)<F)return De;k>Fe?K=De:de=De,De=.5*(de-K)+K}return De},s.prototype.solve=function(k,F){return this.sampleCurveY(this.solveCurveX(k,F))};var t=i;function i(k,F){this.x=k,this.y=F}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(k){return this.clone()._add(k)},sub:function(k){return this.clone()._sub(k)},multByPoint:function(k){return this.clone()._multByPoint(k)},divByPoint:function(k){return this.clone()._divByPoint(k)},mult:function(k){return this.clone()._mult(k)},div:function(k){return this.clone()._div(k)},rotate:function(k){return this.clone()._rotate(k)},rotateAround:function(k,F){return this.clone()._rotateAround(k,F)},matMult:function(k){return this.clone()._matMult(k)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(k){return this.x===k.x&&this.y===k.y},dist:function(k){return Math.sqrt(this.distSqr(k))},distSqr:function(k){var F=k.x-this.x,K=k.y-this.y;return F*F+K*K},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(k){return Math.atan2(this.y-k.y,this.x-k.x)},angleWith:function(k){return this.angleWithSep(k.x,k.y)},angleWithSep:function(k,F){return Math.atan2(this.x*F-this.y*k,this.x*k+this.y*F)},_matMult:function(k){var K=k[2]*this.x+k[3]*this.y;return this.x=k[0]*this.x+k[1]*this.y,this.y=K,this},_add:function(k){return this.x+=k.x,this.y+=k.y,this},_sub:function(k){return this.x-=k.x,this.y-=k.y,this},_mult:function(k){return this.x*=k,this.y*=k,this},_div:function(k){return this.x/=k,this.y/=k,this},_multByPoint:function(k){return this.x*=k.x,this.y*=k.y,this},_divByPoint:function(k){return this.x/=k.x,this.y/=k.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var k=this.y;return this.y=this.x,this.x=-k,this},_rotate:function(k){var F=Math.cos(k),K=Math.sin(k),De=K*this.x+F*this.y;return this.x=F*this.x-K*this.y,this.y=De,this},_rotateAround:function(k,F){var K=Math.cos(k),de=Math.sin(k),Fe=F.y+de*(this.x-F.x)+K*(this.y-F.y);return this.x=F.x+K*(this.x-F.x)-de*(this.y-F.y),this.y=Fe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(k){return k instanceof i?k:Array.isArray(k)?new i(k[0],k[1]):k};var n=typeof self<"u"?self:{},r=Math.pow(2,53)-1;function o(k,F,K,de){var De=new d(k,F,K,de);return function(Fe){return De.solve(Fe)}}var u=o(.25,.1,.25,1);function l(k,F,K){return Math.min(K,Math.max(F,k))}function h(k,F,K){var de=K-F,De=((k-F)%de+de)%de+F;return De===F?K:De}function c(k){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];for(var de=0,De=F;de<De.length;de+=1){var Fe=De[de];for(var Ye in Fe)k[Ye]=Fe[Ye]}return k}var b=1;function p(){return b++}function m(){return function k(F){return F?(F^16*Math.random()>>F/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,k)}()}function v(k){return!!k&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(k)}function x(k,F){k.forEach(function(K){F[K]&&(F[K]=F[K].bind(F))})}function y(k,F){return-1!==k.indexOf(F,k.length-F.length)}function w(k,F,K){var de={};for(var De in k)de[De]=F.call(K||this,k[De],De,k);return de}function f(k,F,K){var de={};for(var De in k)F.call(K||this,k[De],De,k)&&(de[De]=k[De]);return de}function C(k){return Array.isArray(k)?k.map(C):"object"==typeof k&&k?w(k,C):k}var T={};function D(k){T[k]||(typeof console<"u"&&console.warn(k),T[k]=!0)}function R(k,F,K){return(K.y-k.y)*(F.x-k.x)>(F.y-k.y)*(K.x-k.x)}function P(k){for(var F=0,K=0,de=k.length,De=de-1,Fe=void 0,Ye=void 0;K<de;De=K++)F+=((Ye=k[De]).x-(Fe=k[K]).x)*(Fe.y+Ye.y);return F}function O(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function B(k){var F={};if(k.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(de,De,Fe,Ye){var it=Fe||Ye;return F[De]=!it||it.toLowerCase(),""}),F["max-age"]){var K=parseInt(F["max-age"],10);isNaN(K)?delete F["max-age"]:F["max-age"]=K}return F}var q=null;function N(k){if(null==q){var F=k.navigator?k.navigator.userAgent:null;q=!!k.safari||!(!F||!(/\b(iPad|iPhone|iPod)\b/.test(F)||F.match("Safari")&&!F.match("Chrome")))}return q}function H(k){try{var F=n[k];return F.setItem("_mapbox_test_",1),F.removeItem("_mapbox_test_"),!0}catch{return!1}}var $,j,W,G,ae=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),te=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,Q=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame,ee={now:ae,frame:function(k){var F=te(k);return{cancel:function(){return Q(F)}}},getImageData:function(k,F){void 0===F&&(F=0);var K=n.document.createElement("canvas"),de=K.getContext("2d");if(!de)throw new Error("failed to create canvas 2d context");return K.width=k.width,K.height=k.height,de.drawImage(k,0,0,k.width,k.height),de.getImageData(-F,-F,k.width+2*F,k.height+2*F)},resolveURL:function(k){return $||($=n.document.createElement("a")),$.href=k,$.href},hardwareConcurrency:n.navigator&&n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},get prefersReducedMotion(){return!!n.matchMedia&&(null==j&&(j=n.matchMedia("(prefers-reduced-motion: reduce)")),j.matches)}},re={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},J={supported:!1,testSupport:function(k){!le&&G&&(fe?ce(k):W=k)}},le=!1,fe=!1;function ce(k){var F=k.createTexture();k.bindTexture(k.TEXTURE_2D,F);try{if(k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,G),k.isContextLost())return;J.supported=!0}catch{}k.deleteTexture(F),le=!0}n.document&&((G=n.document.createElement("img")).onload=function(){W&&ce(W),W=null,fe=!0},G.onerror=function(){le=!0,W=null},G.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ge="01",Te=function(k,F){this._transformRequestFn=k,this._customAccessToken=F,this._createSkuToken()};function Me(k){return 0===k.indexOf("mapbox:")}Te.prototype._createSkuToken=function(){var k=function(){for(var F="",K=0;K<10;K++)F+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ge,F].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=k.token,this._skuTokenExpiresAt=k.tokenExpiresAt},Te.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Te.prototype.transformRequest=function(k,F){return this._transformRequestFn&&this._transformRequestFn(k,F)||{url:k}},Te.prototype.normalizeStyleURL=function(k,F){if(!Me(k))return k;var K=ye(k);return K.path="/styles/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||F)},Te.prototype.normalizeGlyphsURL=function(k,F){if(!Me(k))return k;var K=ye(k);return K.path="/fonts/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||F)},Te.prototype.normalizeSourceURL=function(k,F){if(!Me(k))return k;var K=ye(k);return K.path="/v4/"+K.authority+".json",K.params.push("secure"),this._makeAPIURL(K,this._customAccessToken||F)},Te.prototype.normalizeSpriteURL=function(k,F,K,de){var De=ye(k);return Me(k)?(De.path="/styles/v1"+De.path+"/sprite"+F+K,this._makeAPIURL(De,this._customAccessToken||de)):(De.path+=""+F+K,Se(De))},Te.prototype.normalizeTileURL=function(k,F){if(this._isSkuTokenExpired()&&this._createSkuToken(),k&&!Me(k))return k;var K=ye(k);K.path=K.path.replace(/(\.(png|jpg)\d*)(?=$)/,(ee.devicePixelRatio>=2||512===F?"@2x":"")+(J.supported?".webp":"$1")),K.path=K.path.replace(/^.+\/v4\//,"/"),K.path="/v4"+K.path;var Fe=this._customAccessToken||function(Ye){for(var it=0,mt=Ye;it<mt.length;it+=1){var Et=mt[it].match(/^access_token=(.*)$/);if(Et)return Et[1]}return null}(K.params)||re.ACCESS_TOKEN;return re.REQUIRE_ACCESS_TOKEN&&Fe&&this._skuToken&&K.params.push("sku="+this._skuToken),this._makeAPIURL(K,Fe)},Te.prototype.canonicalizeTileURL=function(k,F){var K=ye(k);if(!K.path.match(/(^\/v4\/)/)||!K.path.match(/\.[\w]+$/))return k;var de="mapbox://tiles/";de+=K.path.replace("/v4/","");var De=K.params;return F&&(De=De.filter(function(Fe){return!Fe.match(/^access_token=/)})),De.length&&(de+="?"+De.join("&")),de},Te.prototype.canonicalizeTileset=function(k,F){for(var K=!!F&&Me(F),de=[],De=0,Fe=k.tiles||[];De<Fe.length;De+=1){var Ye=Fe[De];xe(Ye)?de.push(this.canonicalizeTileURL(Ye,K)):de.push(Ye)}return de},Te.prototype._makeAPIURL=function(k,F){var K="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",de=ye(re.API_URL);if(k.protocol=de.protocol,k.authority=de.authority,"http"===k.protocol){var De=k.params.indexOf("secure");De>=0&&k.params.splice(De,1)}if("/"!==de.path&&(k.path=""+de.path+k.path),!re.REQUIRE_ACCESS_TOKEN)return Se(k);if(!(F=F||re.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+K);if("s"===F[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+K);return k.params=k.params.filter(function(Fe){return-1===Fe.indexOf("access_token")}),k.params.push("access_token="+F),Se(k)};var we=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function xe(k){return we.test(k)}var be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ye(k){var F=k.match(be);if(!F)throw new Error("Unable to parse URL object");return{protocol:F[1],authority:F[2],path:F[3]||"/",params:F[4]?F[4].split("&"):[]}}function Se(k){var F=k.params.length?"?"+k.params.join("&"):"";return k.protocol+"://"+k.authority+k.path+F}var Ee="mapbox.eventData";function he(k){if(!k)return null;var K=k.split(".");if(!K||3!==K.length)return null;try{return JSON.parse(decodeURIComponent(n.atob(K[1]).split("").map(function(de){return"%"+("00"+de.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var ue=function(k){this.type=k,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ue.prototype.getStorageKey=function(k){var F,de=he(re.ACCESS_TOKEN);return F=de&&de.u?n.btoa(encodeURIComponent(de.u).replace(/%([0-9A-F]{2})/g,function(De,Fe){return String.fromCharCode(+("0x"+Fe))})):re.ACCESS_TOKEN||"",k?Ee+"."+k+":"+F:Ee+":"+F},ue.prototype.fetchEventData=function(){var k=H("localStorage"),F=this.getStorageKey(),K=this.getStorageKey("uuid");if(k)try{var de=n.localStorage.getItem(F);de&&(this.eventData=JSON.parse(de));var De=n.localStorage.getItem(K);De&&(this.anonId=De)}catch{D("Unable to read from LocalStorage")}},ue.prototype.saveEventData=function(){var k=H("localStorage"),F=this.getStorageKey(),K=this.getStorageKey("uuid");if(k)try{n.localStorage.setItem(K,this.anonId),Object.keys(this.eventData).length>=1&&n.localStorage.setItem(F,JSON.stringify(this.eventData))}catch{D("Unable to write to LocalStorage")}},ue.prototype.processRequests=function(k){},ue.prototype.postEvent=function(k,F,K,de){var De=this;if(re.EVENTS_URL){var Fe=ye(re.EVENTS_URL);Fe.params.push("access_token="+(de||re.ACCESS_TOKEN||""));var Ye={event:this.type,created:new Date(k).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:_,skuId:ge,userId:this.anonId},it=F?c(Ye,F):Ye,mt={url:Se(Fe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([it])};this.pendingRequest=Pt(mt,function(Et){De.pendingRequest=null,K(Et),De.saveEventData(),De.processRequests(de)})}},ue.prototype.queueRequest=function(k,F){this.queue.push(k),this.processRequests(F)};var me,Pe,Ce=function(k){function F(){k.call(this,"map.load"),this.success={},this.skuToken=""}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.postMapLoadEvent=function(K,de,De,Fe){this.skuToken=De,(re.EVENTS_URL&&Fe||re.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(Ye){return Me(Ye)||xe(Ye)}))&&this.queueRequest({id:de,timestamp:Date.now()},Fe)},F.prototype.processRequests=function(K){var de=this;if(!this.pendingRequest&&0!==this.queue.length){var De=this.queue.shift(),Fe=De.id,Ye=De.timestamp;Fe&&this.success[Fe]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=m()),this.postEvent(Ye,{skuToken:this.skuToken},function(it){it||Fe&&(de.success[Fe]=!0)},K))}},F}(ue),Ie=function(k){function F(K){k.call(this,"appUserTurnstile"),this._customAccessToken=K}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.postTurnstileEvent=function(K,de){re.EVENTS_URL&&re.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(De){return Me(De)||xe(De)})&&this.queueRequest(Date.now(),de)},F.prototype.processRequests=function(K){var de=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var De=he(re.ACCESS_TOKEN),Fe=De?De.u:re.ACCESS_TOKEN,Ye=Fe!==this.eventData.tokenU;v(this.anonId)||(this.anonId=m(),Ye=!0);var it=this.queue.shift();if(this.eventData.lastSuccess){var mt=new Date(this.eventData.lastSuccess),Et=new Date(it),Dt=(it-this.eventData.lastSuccess)/864e5;Ye=Ye||Dt>=1||Dt<-1||mt.getDate()!==Et.getDate()}else Ye=!0;if(!Ye)return this.processRequests();this.postEvent(it,{"enabled.telemetry":!1},function(qt){qt||(de.eventData.lastSuccess=it,de.eventData.tokenU=Fe)},K)}},F}(ue),Oe=new Ie,ze=Oe.postTurnstileEvent.bind(Oe),je=new Ce,ve=je.postMapLoadEvent.bind(je),Ae="mapbox-tiles",Le=500,Ve=50,Ne=42e4;function We(){n.caches&&!me&&(me=n.caches.open(Ae))}function nt(k){var F=k.indexOf("?");return F<0?k:k.slice(0,F)}var ht,Mt=1/0;function kt(){return null==ht&&(ht=n.OffscreenCanvas&&new n.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof n.createImageBitmap),ht}var _t={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(_t);var ut=function(k){function F(K,de,De){401===de&&xe(De)&&(K+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),k.call(this,K),this.status=de,this.url=De,this.name=this.constructor.name,this.message=K}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},F}(Error),st=O()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===n.location.protocol?n.parent:n).location.href};function Lt(k,F){var K,de=new n.AbortController,De=new n.Request(k.url,{method:k.method||"GET",body:k.body,credentials:k.credentials,headers:k.headers,referrer:st(),signal:de.signal}),Fe=!1,Ye=!1,it=(K=De.url).indexOf("sku=")>0&&xe(K);"json"===k.type&&De.headers.set("Accept","application/json");var mt=function(Dt,qt,Qt){if(!Ye){if(Dt&&"SecurityError"!==Dt.message&&D(Dt),qt&&Qt)return Et(qt);var Zt=Date.now();n.fetch(De).then(function(gn){if(gn.ok){var bn=it?gn.clone():null;return Et(gn,bn,Zt)}return F(new ut(gn.statusText,gn.status,k.url))}).catch(function(gn){20!==gn.code&&F(new Error(gn.message))})}},Et=function(Dt,qt,Qt){("arrayBuffer"===k.type?Dt.arrayBuffer():"json"===k.type?Dt.json():Dt.text()).then(function(Zt){Ye||(qt&&Qt&&function Xe(k,F,K){if(We(),me){var de={status:F.status,statusText:F.statusText,headers:new n.Headers};F.headers.forEach(function(Fe,Ye){return de.headers.set(Ye,Fe)});var De=B(F.headers.get("Cache-Control")||"");De["no-store"]||(De["max-age"]&&de.headers.set("Expires",new Date(K+1e3*De["max-age"]).toUTCString()),new Date(de.headers.get("Expires")).getTime()-K<Ne||function(Fe,Ye){if(void 0===Pe)try{new Response(new ReadableStream),Pe=!0}catch{Pe=!1}Pe?Ye(Fe.body):Fe.blob().then(Ye)}(F,function(Fe){var Ye=new n.Response(Fe,de);We(),me&&me.then(function(it){return it.put(nt(k.url),Ye)}).catch(function(it){return D(it.message)})}))}}(De,qt,Qt),Fe=!0,F(null,Zt,Dt.headers.get("Cache-Control"),Dt.headers.get("Expires")))}).catch(function(Zt){Ye||F(new Error(Zt.message))})};return it?function dt(k,F){if(We(),!me)return F(null);var K=nt(k.url);me.then(function(de){de.match(K).then(function(De){var Fe=function(Ye){if(!Ye)return!1;var it=new Date(Ye.headers.get("Expires")||0),mt=B(Ye.headers.get("Cache-Control")||"");return it>Date.now()&&!mt["no-cache"]}(De);de.delete(K),Fe&&de.put(K,De.clone()),F(null,De,Fe)}).catch(F)}).catch(F)}(De,mt):mt(null,null),{cancel:function(){Ye=!0,Fe||de.abort()}}}var Je,tt,Ut=function(k,F){if(!(/^file:/.test(K=k.url)||/^file:/.test(st())&&!/^\w+:/.test(K))){if(n.fetch&&n.Request&&n.AbortController&&n.Request.prototype.hasOwnProperty("signal"))return Lt(k,F);if(O()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",k,F,void 0,!0)}var K;return function(de,De){var Fe=new n.XMLHttpRequest;for(var Ye in Fe.open(de.method||"GET",de.url,!0),"arrayBuffer"===de.type&&(Fe.responseType="arraybuffer"),de.headers)Fe.setRequestHeader(Ye,de.headers[Ye]);return"json"===de.type&&(Fe.responseType="text",Fe.setRequestHeader("Accept","application/json")),Fe.withCredentials="include"===de.credentials,Fe.onerror=function(){De(new Error(Fe.statusText))},Fe.onload=function(){if((Fe.status>=200&&Fe.status<300||0===Fe.status)&&null!==Fe.response){var it=Fe.response;if("json"===de.type)try{it=JSON.parse(Fe.response)}catch(mt){return De(mt)}De(null,it,Fe.getResponseHeader("Cache-Control"),Fe.getResponseHeader("Expires"))}else De(new ut(Fe.statusText,Fe.status,de.url))},Fe.send(de.body),{cancel:function(){return Fe.abort()}}}(k,F)},Ht=function(k,F){return Ut(c(k,{type:"arrayBuffer"}),F)},Pt=function(k,F){return Ut(c(k,{method:"POST"}),F)},Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Je=[],tt=0;var Qe=function(k,F){if(J.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),tt>=re.MAX_PARALLEL_IMAGE_REQUESTS){var K={requestParameters:k,callback:F,cancelled:!1,cancel:function(){this.cancelled=!0}};return Je.push(K),K}tt++;var de=!1,De=function(){if(!de)for(de=!0,tt--;Je.length&&tt<re.MAX_PARALLEL_IMAGE_REQUESTS;){var Ye=Je.shift();Ye.cancelled||(Ye.cancel=Qe(Ye.requestParameters,Ye.callback).cancel)}},Fe=Ht(k,function(Ye,it,mt,Et){var qt,Qt;De(),Ye?F(Ye):it&&(kt()?(qt=F,Qt=new n.Blob([new Uint8Array(it)],{type:"image/png"}),n.createImageBitmap(Qt).then(function(Zt){qt(null,Zt)}).catch(function(Zt){qt(new Error("Could not load image because of "+Zt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(Dt,qt,Qt,Zt){var gn=new n.Image,bn=n.URL;gn.onload=function(){qt(null,gn),bn.revokeObjectURL(gn.src),gn.onload=null,n.requestAnimationFrame(function(){gn.src=Ge})},gn.onerror=function(){return qt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var On=new n.Blob([new Uint8Array(Dt)],{type:"image/png"});gn.cacheControl=Qt,gn.expires=Zt,gn.src=Dt.byteLength?bn.createObjectURL(On):Ge}(it,F,mt,Et))});return{cancel:function(){Fe.cancel(),De()}}};function pt(k,F,K){K[k]&&-1!==K[k].indexOf(F)||(K[k]=K[k]||[],K[k].push(F))}function ct(k,F,K){if(K&&K[k]){var de=K[k].indexOf(F);-1!==de&&K[k].splice(de,1)}}var He=function(k,F){void 0===F&&(F={}),c(this,F),this.type=k},qe=function(k){function F(K,de){void 0===de&&(de={}),k.call(this,"error",c({error:K},de))}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F}(He),ft=function(){};ft.prototype.on=function(k,F){return this._listeners=this._listeners||{},pt(k,F,this._listeners),this},ft.prototype.off=function(k,F){return ct(k,F,this._listeners),ct(k,F,this._oneTimeListeners),this},ft.prototype.once=function(k,F){return this._oneTimeListeners=this._oneTimeListeners||{},pt(k,F,this._oneTimeListeners),this},ft.prototype.fire=function(k,F){"string"==typeof k&&(k=new He(k,F||{}));var K=k.type;if(this.listens(K)){k.target=this;for(var de=0,De=this._listeners&&this._listeners[K]?this._listeners[K].slice():[];de<De.length;de+=1)De[de].call(this,k);for(var Fe=0,Ye=this._oneTimeListeners&&this._oneTimeListeners[K]?this._oneTimeListeners[K].slice():[];Fe<Ye.length;Fe+=1){var it=Ye[Fe];ct(K,it,this._oneTimeListeners),it.call(this,k)}var mt=this._eventedParent;mt&&(c(k,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),mt.fire(k))}else k instanceof qe&&console.error(k.error);return this},ft.prototype.listens=function(k){return this._listeners&&this._listeners[k]&&this._listeners[k].length>0||this._oneTimeListeners&&this._oneTimeListeners[k]&&this._oneTimeListeners[k].length>0||this._eventedParent&&this._eventedParent.listens(k)},ft.prototype.setEventedParent=function(k,F){return this._eventedParent=k,this._eventedParentData=F,this};var et={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},xt=function(k,F,K,de){this.message=(k?k+": ":"")+K,de&&(this.identifier=de),null!=F&&F.__line__&&(this.line=F.__line__)};function wt(k){var K=k.value;return K?[new xt(k.key,K,"constants have been deprecated as of v8")]:[]}function At(k){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];for(var de=0,De=F;de<De.length;de+=1){var Fe=De[de];for(var Ye in Fe)k[Ye]=Fe[Ye]}return k}function yt(k){return k instanceof Number||k instanceof String||k instanceof Boolean?k.valueOf():k}function Ot(k){if(Array.isArray(k))return k.map(Ot);if(k instanceof Object&&!(k instanceof Number||k instanceof String||k instanceof Boolean)){var F={};for(var K in k)F[K]=Ot(k[K]);return F}return yt(k)}var Ct=function(k){function F(K,de){k.call(this,de),this.message=de,this.key=K}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F}(Error),Rt=function(k,F){void 0===F&&(F=[]),this.parent=k,this.bindings={};for(var K=0,de=F;K<de.length;K+=1){var De=de[K];this.bindings[De[0]]=De[1]}};Rt.prototype.concat=function(k){return new Rt(this,k)},Rt.prototype.get=function(k){if(this.bindings[k])return this.bindings[k];if(this.parent)return this.parent.get(k);throw new Error(k+" not found in scope.")},Rt.prototype.has=function(k){return!!this.bindings[k]||!!this.parent&&this.parent.has(k)};var Bt={kind:"null"},jt={kind:"number"},Gt={kind:"string"},on={kind:"boolean"},Jt={kind:"color"},$t={kind:"object"},tn={kind:"value"},dn={kind:"collator"},Gn={kind:"formatted"},zn={kind:"resolvedImage"};function Mn(k,F){return{kind:"array",itemType:k,N:F}}function ln(k){if("array"===k.kind){var F=ln(k.itemType);return"number"==typeof k.N?"array<"+F+", "+k.N+">":"value"===k.itemType.kind?"array":"array<"+F+">"}return k.kind}var vn=[Bt,jt,Gt,on,Jt,Gn,$t,Mn(tn),zn];function hn(k,F){if("error"===F.kind)return null;if("array"===k.kind){if("array"===F.kind&&(0===F.N&&"value"===F.itemType.kind||!hn(k.itemType,F.itemType))&&("number"!=typeof k.N||k.N===F.N))return null}else{if(k.kind===F.kind)return null;if("value"===k.kind)for(var K=0,de=vn;K<de.length;K+=1)if(!hn(de[K],F))return null}return"Expected "+ln(k)+" but found "+ln(F)+" instead."}function _n(k,F){return F.some(function(K){return K.kind===k.kind})}function Dn(k,F){return F.some(function(K){return"null"===K?null===k:"array"===K?Array.isArray(k):"object"===K?k&&!Array.isArray(k)&&"object"==typeof k:K===typeof k})}var Yn=M(function(k,F){var K={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function de(mt){return(mt=Math.round(mt))<0?0:mt>255?255:mt}function Fe(mt){return de("%"===mt[mt.length-1]?parseFloat(mt)/100*255:parseInt(mt))}function Ye(mt){return function De(mt){return mt<0?0:mt>1?1:mt}("%"===mt[mt.length-1]?parseFloat(mt)/100:parseFloat(mt))}function it(mt,Et,Dt){return Dt<0?Dt+=1:Dt>1&&(Dt-=1),6*Dt<1?mt+(Et-mt)*Dt*6:2*Dt<1?Et:3*Dt<2?mt+(Et-mt)*(2/3-Dt)*6:mt}try{F.parseCSSColor=function(mt){var Et,Dt=mt.replace(/ /g,"").toLowerCase();if(Dt in K)return K[Dt].slice();if("#"===Dt[0])return 4===Dt.length?(Et=parseInt(Dt.substr(1),16))>=0&&Et<=4095?[(3840&Et)>>4|(3840&Et)>>8,240&Et|(240&Et)>>4,15&Et|(15&Et)<<4,1]:null:7===Dt.length&&(Et=parseInt(Dt.substr(1),16))>=0&&Et<=16777215?[(16711680&Et)>>16,(65280&Et)>>8,255&Et,1]:null;var qt=Dt.indexOf("("),Qt=Dt.indexOf(")");if(-1!==qt&&Qt+1===Dt.length){var Zt=Dt.substr(0,qt),gn=Dt.substr(qt+1,Qt-(qt+1)).split(","),bn=1;switch(Zt){case"rgba":if(4!==gn.length)return null;bn=Ye(gn.pop());case"rgb":return 3!==gn.length?null:[Fe(gn[0]),Fe(gn[1]),Fe(gn[2]),bn];case"hsla":if(4!==gn.length)return null;bn=Ye(gn.pop());case"hsl":if(3!==gn.length)return null;var On=(parseFloat(gn[0])%360+360)%360/360,Ln=Ye(gn[1]),Zn=Ye(gn[2]),Kn=Zn<=.5?Zn*(Ln+1):Zn+Ln-Zn*Ln,rr=2*Zn-Kn;return[de(255*it(rr,Kn,On+1/3)),de(255*it(rr,Kn,On)),de(255*it(rr,Kn,On-1/3)),bn];default:return null}}return null}}catch{}}).parseCSSColor,jn=function(k,F,K,de){void 0===de&&(de=1),this.r=k,this.g=F,this.b=K,this.a=de};jn.parse=function(k){if(k){if(k instanceof jn)return k;if("string"==typeof k){var F=Yn(k);if(F)return new jn(F[0]/255*F[3],F[1]/255*F[3],F[2]/255*F[3],F[3])}}},jn.prototype.toString=function(){var k=this.toArray(),K=k[1],de=k[2],De=k[3];return"rgba("+Math.round(k[0])+","+Math.round(K)+","+Math.round(de)+","+De+")"},jn.prototype.toArray=function(){var k=this,De=k.a;return 0===De?[0,0,0,0]:[255*k.r/De,255*k.g/De,255*k.b/De,De]},jn.black=new jn(0,0,0,1),jn.white=new jn(1,1,1,1),jn.transparent=new jn(0,0,0,0),jn.red=new jn(1,0,0,1);var Fn=function(k,F,K){this.sensitivity=k?F?"variant":"case":F?"accent":"base",this.locale=K,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Fn.prototype.compare=function(k,F){return this.collator.compare(k,F)},Fn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Jn=function(k,F,K,de,De){this.text=k,this.image=F,this.scale=K,this.fontStack=de,this.textColor=De},$n=function(k){this.sections=k};$n.fromString=function(k){return new $n([new Jn(k,null,null,null,null)])},$n.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(k){return 0!==k.text.length||k.image&&0!==k.image.name.length})},$n.factory=function(k){return k instanceof $n?k:$n.fromString(k)},$n.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(k){return k.text}).join("")},$n.prototype.serialize=function(){for(var k=["format"],F=0,K=this.sections;F<K.length;F+=1){var de=K[F];if(de.image)k.push(["image",de.image.name]);else{k.push(de.text);var De={};de.fontStack&&(De["text-font"]=["literal",de.fontStack.split(",")]),de.scale&&(De["font-scale"]=de.scale),de.textColor&&(De["text-color"]=["rgba"].concat(de.textColor.toArray())),k.push(De)}}return k};var nr=function(k){this.name=k.name,this.available=k.available};function or(k,F,K,de){return"number"==typeof k&&k>=0&&k<=255&&"number"==typeof F&&F>=0&&F<=255&&"number"==typeof K&&K>=0&&K<=255?void 0===de||"number"==typeof de&&de>=0&&de<=1?null:"Invalid rgba value ["+[k,F,K,de].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof de?[k,F,K,de]:[k,F,K]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function lr(k){if(null===k||"string"==typeof k||"boolean"==typeof k||"number"==typeof k||k instanceof jn||k instanceof Fn||k instanceof $n||k instanceof nr)return!0;if(Array.isArray(k)){for(var F=0,K=k;F<K.length;F+=1)if(!lr(K[F]))return!1;return!0}if("object"==typeof k){for(var de in k)if(!lr(k[de]))return!1;return!0}return!1}function cr(k){if(null===k)return Bt;if("string"==typeof k)return Gt;if("boolean"==typeof k)return on;if("number"==typeof k)return jt;if(k instanceof jn)return Jt;if(k instanceof Fn)return dn;if(k instanceof $n)return Gn;if(k instanceof nr)return zn;if(Array.isArray(k)){for(var F,K=k.length,de=0,De=k;de<De.length;de+=1){var Fe=cr(De[de]);if(F){if(F===Fe)continue;F=tn;break}F=Fe}return Mn(F||tn,K)}return $t}function Ar(k){var F=typeof k;return null===k?"":"string"===F||"number"===F||"boolean"===F?String(k):k instanceof jn||k instanceof $n||k instanceof nr?k.toString():JSON.stringify(k)}nr.prototype.toString=function(){return this.name},nr.fromString=function(k){return k?new nr({name:k,available:!1}):null},nr.prototype.serialize=function(){return["image",this.name]};var fn=function(k,F){this.type=k,this.value=F};fn.parse=function(k,F){if(2!==k.length)return F.error("'literal' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(!lr(k[1]))return F.error("invalid value");var K=k[1],de=cr(K),De=F.expectedType;return"array"!==de.kind||0!==de.N||!De||"array"!==De.kind||"number"==typeof De.N&&0!==De.N||(de=De),new fn(de,K)},fn.prototype.evaluate=function(){return this.value},fn.prototype.eachChild=function(){},fn.prototype.outputDefined=function(){return!0},fn.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof jn?["rgba"].concat(this.value.toArray()):this.value instanceof $n?this.value.serialize():this.value};var an=function(k){this.name="ExpressionEvaluationError",this.message=k};an.prototype.toJSON=function(){return this.message};var Vn={string:Gt,number:jt,boolean:on,object:$t},En=function(k,F){this.type=k,this.args=F};En.parse=function(k,F){if(k.length<2)return F.error("Expected at least one argument.");var K,de=1,De=k[0];if("array"===De){var Fe,Ye;if(k.length>2){var it=k[1];if("string"!=typeof it||!(it in Vn)||"object"===it)return F.error('The item type argument of "array" must be one of string, number, boolean',1);Fe=Vn[it],de++}else Fe=tn;if(k.length>3){if(null!==k[2]&&("number"!=typeof k[2]||k[2]<0||k[2]!==Math.floor(k[2])))return F.error('The length argument to "array" must be a positive integer literal',2);Ye=k[2],de++}K=Mn(Fe,Ye)}else K=Vn[De];for(var mt=[];de<k.length;de++){var Et=F.parse(k[de],de,tn);if(!Et)return null;mt.push(Et)}return new En(K,mt)},En.prototype.evaluate=function(k){for(var F=0;F<this.args.length;F++){var K=this.args[F].evaluate(k);if(!hn(this.type,cr(K)))return K;if(F===this.args.length-1)throw new an("Expected value to be of type "+ln(this.type)+", but found "+ln(cr(K))+" instead.")}return null},En.prototype.eachChild=function(k){this.args.forEach(k)},En.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},En.prototype.serialize=function(){var k=this.type,F=[k.kind];if("array"===k.kind){var K=k.itemType;if("string"===K.kind||"number"===K.kind||"boolean"===K.kind){F.push(K.kind);var de=k.N;("number"==typeof de||this.args.length>1)&&F.push(de)}}return F.concat(this.args.map(function(De){return De.serialize()}))};var Wn=function(k){this.type=Gn,this.sections=k};Wn.parse=function(k,F){if(k.length<2)return F.error("Expected at least one argument.");var K=k[1];if(!Array.isArray(K)&&"object"==typeof K)return F.error("First argument must be an image or text section.");for(var de=[],De=!1,Fe=1;Fe<=k.length-1;++Fe){var Ye=k[Fe];if(De&&"object"==typeof Ye&&!Array.isArray(Ye)){De=!1;var it=null;if(Ye["font-scale"]&&!(it=F.parse(Ye["font-scale"],1,jt)))return null;var mt=null;if(Ye["text-font"]&&!(mt=F.parse(Ye["text-font"],1,Mn(Gt))))return null;var Et=null;if(Ye["text-color"]&&!(Et=F.parse(Ye["text-color"],1,Jt)))return null;var Dt=de[de.length-1];Dt.scale=it,Dt.font=mt,Dt.textColor=Et}else{var qt=F.parse(k[Fe],1,tn);if(!qt)return null;var Qt=qt.type.kind;if("string"!==Qt&&"value"!==Qt&&"null"!==Qt&&"resolvedImage"!==Qt)return F.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");De=!0,de.push({content:qt,scale:null,font:null,textColor:null})}}return new Wn(de)},Wn.prototype.evaluate=function(k){return new $n(this.sections.map(function(F){var K=F.content.evaluate(k);return cr(K)===zn?new Jn("",K,null,null,null):new Jn(Ar(K),null,F.scale?F.scale.evaluate(k):null,F.font?F.font.evaluate(k).join(","):null,F.textColor?F.textColor.evaluate(k):null)}))},Wn.prototype.eachChild=function(k){for(var F=0,K=this.sections;F<K.length;F+=1){var de=K[F];k(de.content),de.scale&&k(de.scale),de.font&&k(de.font),de.textColor&&k(de.textColor)}},Wn.prototype.outputDefined=function(){return!1},Wn.prototype.serialize=function(){for(var k=["format"],F=0,K=this.sections;F<K.length;F+=1){var de=K[F];k.push(de.content.serialize());var De={};de.scale&&(De["font-scale"]=de.scale.serialize()),de.font&&(De["text-font"]=de.font.serialize()),de.textColor&&(De["text-color"]=de.textColor.serialize()),k.push(De)}return k};var ar=function(k){this.type=zn,this.input=k};ar.parse=function(k,F){if(2!==k.length)return F.error("Expected two arguments.");var K=F.parse(k[1],1,Gt);return K?new ar(K):F.error("No image name provided.")},ar.prototype.evaluate=function(k){var F=this.input.evaluate(k),K=nr.fromString(F);return K&&k.availableImages&&(K.available=k.availableImages.indexOf(F)>-1),K},ar.prototype.eachChild=function(k){k(this.input)},ar.prototype.outputDefined=function(){return!1},ar.prototype.serialize=function(){return["image",this.input.serialize()]};var In={"to-boolean":on,"to-color":Jt,"to-number":jt,"to-string":Gt},fr=function(k,F){this.type=k,this.args=F};fr.parse=function(k,F){if(k.length<2)return F.error("Expected at least one argument.");var K=k[0];if(("to-boolean"===K||"to-string"===K)&&2!==k.length)return F.error("Expected one argument.");for(var de=In[K],De=[],Fe=1;Fe<k.length;Fe++){var Ye=F.parse(k[Fe],Fe,tn);if(!Ye)return null;De.push(Ye)}return new fr(de,De)},fr.prototype.evaluate=function(k){if("boolean"===this.type.kind)return!!this.args[0].evaluate(k);if("color"===this.type.kind){for(var F,K,de=0,De=this.args;de<De.length;de+=1){if(K=null,(F=De[de].evaluate(k))instanceof jn)return F;if("string"==typeof F){var Fe=k.parseColor(F);if(Fe)return Fe}else if(Array.isArray(F)&&!(K=F.length<3||F.length>4?"Invalid rbga value "+JSON.stringify(F)+": expected an array containing either three or four numeric values.":or(F[0],F[1],F[2],F[3])))return new jn(F[0]/255,F[1]/255,F[2]/255,F[3])}throw new an(K||"Could not parse color from value '"+("string"==typeof F?F:String(JSON.stringify(F)))+"'")}if("number"===this.type.kind){for(var Ye=null,it=0,mt=this.args;it<mt.length;it+=1){if(null===(Ye=mt[it].evaluate(k)))return 0;var Et=Number(Ye);if(!isNaN(Et))return Et}throw new an("Could not convert "+JSON.stringify(Ye)+" to number.")}return"formatted"===this.type.kind?$n.fromString(Ar(this.args[0].evaluate(k))):"resolvedImage"===this.type.kind?nr.fromString(Ar(this.args[0].evaluate(k))):Ar(this.args[0].evaluate(k))},fr.prototype.eachChild=function(k){this.args.forEach(k)},fr.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},fr.prototype.serialize=function(){if("formatted"===this.type.kind)return new Wn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ar(this.args[0]).serialize();var k=["to-"+this.type.kind];return this.eachChild(function(F){k.push(F.serialize())}),k};var ur=["Unknown","Point","LineString","Polygon"],Kt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Kt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Kt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ur[this.feature.type]:this.feature.type:null},Kt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Kt.prototype.canonicalID=function(){return this.canonical},Kt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Kt.prototype.parseColor=function(k){var F=this._parseColorCache[k];return F||(F=this._parseColorCache[k]=jn.parse(k)),F};var An=function(k,F,K,de){this.name=k,this.type=F,this._evaluate=K,this.args=de};An.prototype.evaluate=function(k){return this._evaluate(k,this.args)},An.prototype.eachChild=function(k){this.args.forEach(k)},An.prototype.outputDefined=function(){return!1},An.prototype.serialize=function(){return[this.name].concat(this.args.map(function(k){return k.serialize()}))},An.parse=function(k,F){var K,de=k[0],De=An.definitions[de];if(!De)return F.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Fe=Array.isArray(De)?De[0]:De.type,Ye=Array.isArray(De)?[[De[1],De[2]]]:De.overloads,it=Ye.filter(function(ai){var $r=ai[0];return!Array.isArray($r)||$r.length===k.length-1}),mt=null,Et=0,Dt=it;Et<Dt.length;Et+=1){var qt=Dt[Et],Qt=qt[0],Zt=qt[1];mt=new Lr(F.registry,F.path,null,F.scope);for(var gn=[],bn=!1,On=1;On<k.length;On++){var Ln=k[On],Zn=Array.isArray(Qt)?Qt[On-1]:Qt.type,Kn=mt.parse(Ln,1+gn.length,Zn);if(!Kn){bn=!0;break}gn.push(Kn)}if(!bn)if(Array.isArray(Qt)&&Qt.length!==gn.length)mt.error("Expected "+Qt.length+" arguments, but found "+gn.length+" instead.");else{for(var rr=0;rr<gn.length;rr++){var hr=Array.isArray(Qt)?Qt[rr]:Qt.type,xr=gn[rr];mt.concat(rr+1).checkSubtype(hr,xr.type)}if(0===mt.errors.length)return new An(de,Fe,Zt,gn)}}if(1===it.length)(K=F.errors).push.apply(K,mt.errors);else{for(var Rr=(it.length?it:Ye).map(function(ai){return $r=ai[0],Array.isArray($r)?"("+$r.map(ln).join(", ")+")":"("+ln($r.type)+"...)";var $r}).join(" | "),Cr=[],Br=1;Br<k.length;Br++){var Hr=F.parse(k[Br],1+Cr.length);if(!Hr)return null;Cr.push(ln(Hr.type))}F.error("Expected arguments of type "+Rr+", but found ("+Cr.join(", ")+") instead.")}return null},An.register=function(k,F){for(var K in An.definitions=F,F)k[K]=An};var Nt=function(k,F,K){this.type=dn,this.locale=K,this.caseSensitive=k,this.diacriticSensitive=F};Nt.parse=function(k,F){if(2!==k.length)return F.error("Expected one argument.");var K=k[1];if("object"!=typeof K||Array.isArray(K))return F.error("Collator options argument must be an object.");var de=F.parse(void 0!==K["case-sensitive"]&&K["case-sensitive"],1,on);if(!de)return null;var De=F.parse(void 0!==K["diacritic-sensitive"]&&K["diacritic-sensitive"],1,on);if(!De)return null;var Fe=null;return K.locale&&!(Fe=F.parse(K.locale,1,Gt))?null:new Nt(de,De,Fe)},Nt.prototype.evaluate=function(k){return new Fn(this.caseSensitive.evaluate(k),this.diacriticSensitive.evaluate(k),this.locale?this.locale.evaluate(k):null)},Nt.prototype.eachChild=function(k){k(this.caseSensitive),k(this.diacriticSensitive),this.locale&&k(this.locale)},Nt.prototype.outputDefined=function(){return!1},Nt.prototype.serialize=function(){var k={};return k["case-sensitive"]=this.caseSensitive.serialize(),k["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(k.locale=this.locale.serialize()),["collator",k]};var Yt=8192;function cn(k,F){k[0]=Math.min(k[0],F[0]),k[1]=Math.min(k[1],F[1]),k[2]=Math.max(k[2],F[0]),k[3]=Math.max(k[3],F[1])}function xn(k,F){return!(k[0]<=F[0]||k[2]>=F[2]||k[1]<=F[1]||k[3]>=F[3])}function wn(k,F){var de=(180+k[0])/360,De=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+k[1]*Math.PI/360)))/360,Fe=Math.pow(2,F.z);return[Math.round(de*Fe*Yt),Math.round(De*Fe*Yt)]}function Cn(k,F,K){return F[1]>k[1]!=K[1]>k[1]&&k[0]<(K[0]-F[0])*(k[1]-F[1])/(K[1]-F[1])+F[0]}function mn(k,F){for(var K=!1,de=0,De=F.length;de<De;de++)for(var Fe=F[de],Ye=0,it=Fe.length;Ye<it-1;Ye++){if(void 0,void 0,void 0,void 0,(qt=(mt=k)[0]-(Et=Fe[Ye])[0])*(gn=mt[1]-(Dt=Fe[Ye+1])[1])-(Zt=mt[0]-Dt[0])*(Qt=mt[1]-Et[1])==0&&qt*Zt<=0&&Qt*gn<=0)return!1;Cn(k,Fe[Ye],Fe[Ye+1])&&(K=!K)}var mt,Et,Dt,qt,Qt,Zt,gn;return K}function nn(k,F){for(var K=0;K<F.length;K++)if(mn(k,F[K]))return!0;return!1}function rn(k,F,K,de){var mt=de[0]-K[0],Et=de[1]-K[1],Dt=(k[0]-K[0])*Et-mt*(k[1]-K[1]),qt=(F[0]-K[0])*Et-mt*(F[1]-K[1]);return Dt>0&&qt<0||Dt<0&&qt>0}function pn(k,F,K){for(var de=0,De=K;de<De.length;de+=1)for(var Fe=De[de],Ye=0;Ye<Fe.length-1;++Ye)if(void 0,void 0,(qt=[(Dt=Fe[Ye+1])[0]-(Et=Fe[Ye])[0],Dt[1]-Et[1]])[0]*(Qt=[(mt=F)[0]-(it=k)[0],mt[1]-it[1]])[1]-qt[1]*Qt[0]!=0&&rn(it,mt,Et,Dt)&&rn(Et,Dt,it,mt))return!0;var it,mt,Et,Dt,qt,Qt;return!1}function yn(k,F){for(var K=0;K<k.length;++K)if(!mn(k[K],F))return!1;for(var de=0;de<k.length-1;++de)if(pn(k[de],k[de+1],F))return!1;return!0}function Nn(k,F){for(var K=0;K<F.length;K++)if(yn(k,F[K]))return!0;return!1}function Un(k,F,K){for(var de=[],De=0;De<k.length;De++){for(var Fe=[],Ye=0;Ye<k[De].length;Ye++){var it=wn(k[De][Ye],K);cn(F,it),Fe.push(it)}de.push(Fe)}return de}function Xn(k,F,K){for(var de=[],De=0;De<k.length;De++){var Fe=Un(k[De],F,K);de.push(Fe)}return de}function er(k,F,K,de){if(k[0]<K[0]||k[0]>K[2]){var De=.5*de,Fe=k[0]-K[0]>De?-de:K[0]-k[0]>De?de:0;0===Fe&&(Fe=k[0]-K[2]>De?-de:K[2]-k[0]>De?de:0),k[0]+=Fe}cn(F,k)}function pr(k,F,K,de){for(var De=Math.pow(2,de.z)*Yt,Fe=[de.x*Yt,de.y*Yt],Ye=[],it=0,mt=k;it<mt.length;it+=1)for(var Et=0,Dt=mt[it];Et<Dt.length;Et+=1){var qt=Dt[Et],Qt=[qt.x+Fe[0],qt.y+Fe[1]];er(Qt,F,K,De),Ye.push(Qt)}return Ye}function Qn(k,F,K,de){for(var De=Math.pow(2,de.z)*Yt,Fe=[de.x*Yt,de.y*Yt],Ye=[],it=0,mt=k;it<mt.length;it+=1){for(var Et=[],Dt=0,qt=mt[it];Dt<qt.length;Dt+=1){var Qt=qt[Dt],Zt=[Qt.x+Fe[0],Qt.y+Fe[1]];cn(F,Zt),Et.push(Zt)}Ye.push(Et)}if(F[2]-F[0]<=De/2){(Zn=F)[0]=Zn[1]=1/0,Zn[2]=Zn[3]=-1/0;for(var gn=0,bn=Ye;gn<bn.length;gn+=1)for(var On=0,Ln=bn[gn];On<Ln.length;On+=1)er(Ln[On],F,K,De)}var Zn;return Ye}var qn=function(k,F){this.type=on,this.geojson=k,this.geometries=F};function vr(k){if(k instanceof An&&("get"===k.name&&1===k.args.length||"feature-state"===k.name||"has"===k.name&&1===k.args.length||"properties"===k.name||"geometry-type"===k.name||"id"===k.name||/^filter-/.test(k.name))||k instanceof qn)return!1;var F=!0;return k.eachChild(function(K){F&&!vr(K)&&(F=!1)}),F}function dr(k){if(k instanceof An&&"feature-state"===k.name)return!1;var F=!0;return k.eachChild(function(K){F&&!dr(K)&&(F=!1)}),F}function Dr(k,F){if(k instanceof An&&F.indexOf(k.name)>=0)return!1;var K=!0;return k.eachChild(function(de){K&&!Dr(de,F)&&(K=!1)}),K}qn.parse=function(k,F){if(2!==k.length)return F.error("'within' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(lr(k[1])){var K=k[1];if("FeatureCollection"===K.type)for(var de=0;de<K.features.length;++de){var De=K.features[de].geometry.type;if("Polygon"===De||"MultiPolygon"===De)return new qn(K,K.features[de].geometry)}else if("Feature"===K.type){var Fe=K.geometry.type;if("Polygon"===Fe||"MultiPolygon"===Fe)return new qn(K,K.geometry)}else if("Polygon"===K.type||"MultiPolygon"===K.type)return new qn(K,K)}return F.error("'within' expression requires valid geojson object that contains polygon geometry type.")},qn.prototype.evaluate=function(k){if(null!=k.geometry()&&null!=k.canonicalID()){if("Point"===k.geometryType())return function(F,K){var de=[1/0,1/0,-1/0,-1/0],De=[1/0,1/0,-1/0,-1/0],Fe=F.canonicalID();if("Polygon"===K.type){var Ye=Un(K.coordinates,De,Fe),it=pr(F.geometry(),de,De,Fe);if(!xn(de,De))return!1;for(var mt=0,Et=it;mt<Et.length;mt+=1)if(!mn(Et[mt],Ye))return!1}if("MultiPolygon"===K.type){var Dt=Xn(K.coordinates,De,Fe),qt=pr(F.geometry(),de,De,Fe);if(!xn(de,De))return!1;for(var Qt=0,Zt=qt;Qt<Zt.length;Qt+=1)if(!nn(Zt[Qt],Dt))return!1}return!0}(k,this.geometries);if("LineString"===k.geometryType())return function(F,K){var de=[1/0,1/0,-1/0,-1/0],De=[1/0,1/0,-1/0,-1/0],Fe=F.canonicalID();if("Polygon"===K.type){var Ye=Un(K.coordinates,De,Fe),it=Qn(F.geometry(),de,De,Fe);if(!xn(de,De))return!1;for(var mt=0,Et=it;mt<Et.length;mt+=1)if(!yn(Et[mt],Ye))return!1}if("MultiPolygon"===K.type){var Dt=Xn(K.coordinates,De,Fe),qt=Qn(F.geometry(),de,De,Fe);if(!xn(de,De))return!1;for(var Qt=0,Zt=qt;Qt<Zt.length;Qt+=1)if(!Nn(Zt[Qt],Dt))return!1}return!0}(k,this.geometries)}return!1},qn.prototype.eachChild=function(){},qn.prototype.outputDefined=function(){return!0},qn.prototype.serialize=function(){return["within",this.geojson]};var kr=function(k,F){this.type=F.type,this.name=k,this.boundExpression=F};kr.parse=function(k,F){if(2!==k.length||"string"!=typeof k[1])return F.error("'var' expression requires exactly one string literal argument.");var K=k[1];return F.scope.has(K)?new kr(K,F.scope.get(K)):F.error('Unknown variable "'+K+'". Make sure "'+K+'" has been bound in an enclosing "let" expression before using it.',1)},kr.prototype.evaluate=function(k){return this.boundExpression.evaluate(k)},kr.prototype.eachChild=function(){},kr.prototype.outputDefined=function(){return!1},kr.prototype.serialize=function(){return["var",this.name]};var Lr=function(k,F,K,de,De){void 0===F&&(F=[]),void 0===de&&(de=new Rt),void 0===De&&(De=[]),this.registry=k,this.path=F,this.key=F.map(function(Fe){return"["+Fe+"]"}).join(""),this.scope=de,this.errors=De,this.expectedType=K};function yr(k){if(k instanceof kr)return yr(k.boundExpression);if(k instanceof An&&"error"===k.name||k instanceof Nt||k instanceof qn)return!1;var F=k instanceof fr||k instanceof En,K=!0;return k.eachChild(function(de){K=F?K&&yr(de):K&&de instanceof fn}),!!K&&vr(k)&&Dr(k,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Or(k,F){for(var K,De=k.length-1,Fe=0,Ye=De,it=0;Fe<=Ye;)if((K=k[it=Math.floor((Fe+Ye)/2)])<=F){if(it===De||F<k[it+1])return it;Fe=it+1}else{if(!(K>F))throw new an("Input is not a number.");Ye=it-1}return 0}Lr.prototype.parse=function(k,F,K,de,De){return void 0===De&&(De={}),F?this.concat(F,K,de)._parse(k,De):this._parse(k,De)},Lr.prototype._parse=function(k,F){function K(Et,Dt,qt){return"assert"===qt?new En(Dt,[Et]):"coerce"===qt?new fr(Dt,[Et]):Et}if(null!==k&&"string"!=typeof k&&"boolean"!=typeof k&&"number"!=typeof k||(k=["literal",k]),Array.isArray(k)){if(0===k.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var de=k[0];if("string"!=typeof de)return this.error("Expression name must be a string, but found "+typeof de+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var De=this.registry[de];if(De){var Fe=De.parse(k,this);if(!Fe)return null;if(this.expectedType){var Ye=this.expectedType,it=Fe.type;if("string"!==Ye.kind&&"number"!==Ye.kind&&"boolean"!==Ye.kind&&"object"!==Ye.kind&&"array"!==Ye.kind||"value"!==it.kind)if("color"!==Ye.kind&&"formatted"!==Ye.kind&&"resolvedImage"!==Ye.kind||"value"!==it.kind&&"string"!==it.kind){if(this.checkSubtype(Ye,it))return null}else Fe=K(Fe,Ye,F.typeAnnotation||"coerce");else Fe=K(Fe,Ye,F.typeAnnotation||"assert")}if(!(Fe instanceof fn)&&"resolvedImage"!==Fe.type.kind&&yr(Fe)){var mt=new Kt;try{Fe=new fn(Fe.type,Fe.evaluate(mt))}catch(Et){return this.error(Et.message),null}}return Fe}return this.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===k?"'undefined' value invalid. Use null instead.":"object"==typeof k?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof k+" instead.")},Lr.prototype.concat=function(k,F,K){var de="number"==typeof k?this.path.concat(k):this.path,De=K?this.scope.concat(K):this.scope;return new Lr(this.registry,de,F||null,De,this.errors)},Lr.prototype.error=function(k){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];var de=""+this.key+F.map(function(De){return"["+De+"]"}).join("");this.errors.push(new Ct(de,k))},Lr.prototype.checkSubtype=function(k,F){var K=hn(k,F);return K&&this.error(K),K};var Yr=function(k,F,K){this.type=k,this.input=F,this.labels=[],this.outputs=[];for(var de=0,De=K;de<De.length;de+=1){var Fe=De[de],it=Fe[1];this.labels.push(Fe[0]),this.outputs.push(it)}};function Qr(k,F,K){return k*(1-K)+F*K}Yr.parse=function(k,F){if(k.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!=0)return F.error("Expected an even number of arguments.");var K=F.parse(k[1],1,jt);if(!K)return null;var de=[],De=null;F.expectedType&&"value"!==F.expectedType.kind&&(De=F.expectedType);for(var Fe=1;Fe<k.length;Fe+=2){var Ye=1===Fe?-1/0:k[Fe],it=k[Fe+1],mt=Fe,Et=Fe+1;if("number"!=typeof Ye)return F.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mt);if(de.length&&de[de.length-1][0]>=Ye)return F.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',mt);var Dt=F.parse(it,Et,De);if(!Dt)return null;De=De||Dt.type,de.push([Ye,Dt])}return new Yr(De,K,de)},Yr.prototype.evaluate=function(k){var F=this.labels,K=this.outputs;if(1===F.length)return K[0].evaluate(k);var de=this.input.evaluate(k);if(de<=F[0])return K[0].evaluate(k);var De=F.length;return de>=F[De-1]?K[De-1].evaluate(k):K[Or(F,de)].evaluate(k)},Yr.prototype.eachChild=function(k){k(this.input);for(var F=0,K=this.outputs;F<K.length;F+=1)k(K[F])},Yr.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},Yr.prototype.serialize=function(){for(var k=["step",this.input.serialize()],F=0;F<this.labels.length;F++)F>0&&k.push(this.labels[F]),k.push(this.outputs[F].serialize());return k};var to=Object.freeze({__proto__:null,number:Qr,color:function(k,F,K){return new jn(Qr(k.r,F.r,K),Qr(k.g,F.g,K),Qr(k.b,F.b,K),Qr(k.a,F.a,K))},array:function(k,F,K){return k.map(function(de,De){return Qr(de,F[De],K)})}}),co=4/29,Aa=6/29,Nr=3*Aa*Aa,Ro=Aa*Aa*Aa,Ua=Math.PI/180,Li=180/Math.PI;function Ts(k){return k>Ro?Math.pow(k,.3333333333333333):k/Nr+co}function vl(k){return k>Aa?k*k*k:Nr*(k-co)}function gi(k){return 255*(k<=.0031308?12.92*k:1.055*Math.pow(k,.4166666666666667)-.055)}function Ns(k){return(k/=255)<=.04045?k/12.92:Math.pow((k+.055)/1.055,2.4)}function zs(k){var F=Ns(k.r),K=Ns(k.g),de=Ns(k.b),De=Ts((.4124564*F+.3575761*K+.1804375*de)/.95047),Fe=Ts((.2126729*F+.7151522*K+.072175*de)/1);return{l:116*Fe-16,a:500*(De-Fe),b:200*(Fe-Ts((.0193339*F+.119192*K+.9503041*de)/1.08883)),alpha:k.a}}function ni(k){var F=(k.l+16)/116,K=isNaN(k.a)?F:F+k.a/500,de=isNaN(k.b)?F:F-k.b/200;return F=1*vl(F),K=.95047*vl(K),de=1.08883*vl(de),new jn(gi(3.2404542*K-1.5371385*F-.4985314*de),gi(-.969266*K+1.8760108*F+.041556*de),gi(.0556434*K-.2040259*F+1.0572252*de),k.alpha)}function La(k,F,K){var de=F-k;return k+K*(de>180||de<-180?de-360*Math.round(de/360):de)}var Va={forward:zs,reverse:ni,interpolate:function(k,F,K){return{l:Qr(k.l,F.l,K),a:Qr(k.a,F.a,K),b:Qr(k.b,F.b,K),alpha:Qr(k.alpha,F.alpha,K)}}},ts={forward:function(k){var F=zs(k),K=F.l,de=F.a,De=F.b,Fe=Math.atan2(De,de)*Li;return{h:Fe<0?Fe+360:Fe,c:Math.sqrt(de*de+De*De),l:K,alpha:k.a}},reverse:function(k){var F=k.h*Ua,K=k.c;return ni({l:k.l,a:Math.cos(F)*K,b:Math.sin(F)*K,alpha:k.alpha})},interpolate:function(k,F,K){return{h:La(k.h,F.h,K),c:Qr(k.c,F.c,K),l:Qr(k.l,F.l,K),alpha:Qr(k.alpha,F.alpha,K)}}},Ri=Object.freeze({__proto__:null,lab:Va,hcl:ts}),Go=function(k,F,K,de,De){this.type=k,this.operator=F,this.interpolation=K,this.input=de,this.labels=[],this.outputs=[];for(var Fe=0,Ye=De;Fe<Ye.length;Fe+=1){var it=Ye[Fe],Et=it[1];this.labels.push(it[0]),this.outputs.push(Et)}};function fs(k,F,K,de){var De=de-K,Fe=k-K;return 0===De?0:1===F?Fe/De:(Math.pow(F,Fe)-1)/(Math.pow(F,De)-1)}Go.interpolationFactor=function(k,F,K,de){var De=0;if("exponential"===k.name)De=fs(F,k.base,K,de);else if("linear"===k.name)De=fs(F,1,K,de);else if("cubic-bezier"===k.name){var Fe=k.controlPoints;De=new d(Fe[0],Fe[1],Fe[2],Fe[3]).solve(fs(F,1,K,de))}return De},Go.parse=function(k,F){var K=k[0],de=k[1],De=k[2],Fe=k.slice(3);if(!Array.isArray(de)||0===de.length)return F.error("Expected an interpolation type expression.",1);if("linear"===de[0])de={name:"linear"};else if("exponential"===de[0]){var Ye=de[1];if("number"!=typeof Ye)return F.error("Exponential interpolation requires a numeric base.",1,1);de={name:"exponential",base:Ye}}else{if("cubic-bezier"!==de[0])return F.error("Unknown interpolation type "+String(de[0]),1,0);var it=de.slice(1);if(4!==it.length||it.some(function(On){return"number"!=typeof On||On<0||On>1}))return F.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);de={name:"cubic-bezier",controlPoints:it}}if(k.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!=0)return F.error("Expected an even number of arguments.");if(!(De=F.parse(De,2,jt)))return null;var mt=[],Et=null;"interpolate-hcl"===K||"interpolate-lab"===K?Et=Jt:F.expectedType&&"value"!==F.expectedType.kind&&(Et=F.expectedType);for(var Dt=0;Dt<Fe.length;Dt+=2){var qt=Fe[Dt],Qt=Fe[Dt+1],Zt=Dt+3,gn=Dt+4;if("number"!=typeof qt)return F.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Zt);if(mt.length&&mt[mt.length-1][0]>=qt)return F.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Zt);var bn=F.parse(Qt,gn,Et);if(!bn)return null;Et=Et||bn.type,mt.push([qt,bn])}return"number"===Et.kind||"color"===Et.kind||"array"===Et.kind&&"number"===Et.itemType.kind&&"number"==typeof Et.N?new Go(Et,K,de,De,mt):F.error("Type "+ln(Et)+" is not interpolatable.")},Go.prototype.evaluate=function(k){var F=this.labels,K=this.outputs;if(1===F.length)return K[0].evaluate(k);var de=this.input.evaluate(k);if(de<=F[0])return K[0].evaluate(k);var De=F.length;if(de>=F[De-1])return K[De-1].evaluate(k);var Fe=Or(F,de),mt=Go.interpolationFactor(this.interpolation,de,F[Fe],F[Fe+1]),Et=K[Fe].evaluate(k),Dt=K[Fe+1].evaluate(k);return"interpolate"===this.operator?to[this.type.kind.toLowerCase()](Et,Dt,mt):"interpolate-hcl"===this.operator?ts.reverse(ts.interpolate(ts.forward(Et),ts.forward(Dt),mt)):Va.reverse(Va.interpolate(Va.forward(Et),Va.forward(Dt),mt))},Go.prototype.eachChild=function(k){k(this.input);for(var F=0,K=this.outputs;F<K.length;F+=1)k(K[F])},Go.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},Go.prototype.serialize=function(){var k;k="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var F=[this.operator,k,this.input.serialize()],K=0;K<this.labels.length;K++)F.push(this.labels[K],this.outputs[K].serialize());return F};var Bs=function(k,F){this.type=k,this.args=F};Bs.parse=function(k,F){if(k.length<2)return F.error("Expectected at least one argument.");var K=null,de=F.expectedType;de&&"value"!==de.kind&&(K=de);for(var De=[],Fe=0,Ye=k.slice(1);Fe<Ye.length;Fe+=1){var mt=F.parse(Ye[Fe],1+De.length,K,void 0,{typeAnnotation:"omit"});if(!mt)return null;K=K||mt.type,De.push(mt)}var Et=de&&De.some(function(Dt){return hn(de,Dt.type)});return new Bs(Et?tn:K,De)},Bs.prototype.evaluate=function(k){for(var F,K=null,de=0,De=0,Fe=this.args;De<Fe.length&&(de++,(K=Fe[De].evaluate(k))&&K instanceof nr&&!K.available&&(F||(F=K.name),K=null,de===this.args.length&&(K=F)),null===K);De+=1);return K},Bs.prototype.eachChild=function(k){this.args.forEach(k)},Bs.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},Bs.prototype.serialize=function(){var k=["coalesce"];return this.eachChild(function(F){k.push(F.serialize())}),k};var Ms=function(k,F){this.type=F.type,this.bindings=[].concat(k),this.result=F};Ms.prototype.evaluate=function(k){return this.result.evaluate(k)},Ms.prototype.eachChild=function(k){for(var F=0,K=this.bindings;F<K.length;F+=1)k(K[F][1]);k(this.result)},Ms.parse=function(k,F){if(k.length<4)return F.error("Expected at least 3 arguments, but found "+(k.length-1)+" instead.");for(var K=[],de=1;de<k.length-1;de+=2){var De=k[de];if("string"!=typeof De)return F.error("Expected string, but found "+typeof De+" instead.",de);if(/[^a-zA-Z0-9_]/.test(De))return F.error("Variable names must contain only alphanumeric characters or '_'.",de);var Fe=F.parse(k[de+1],de+1);if(!Fe)return null;K.push([De,Fe])}var Ye=F.parse(k[k.length-1],k.length-1,F.expectedType,K);return Ye?new Ms(K,Ye):null},Ms.prototype.outputDefined=function(){return this.result.outputDefined()},Ms.prototype.serialize=function(){for(var k=["let"],F=0,K=this.bindings;F<K.length;F+=1){var de=K[F];k.push(de[0],de[1].serialize())}return k.push(this.result.serialize()),k};var yl=function(k,F,K){this.type=k,this.index=F,this.input=K};yl.parse=function(k,F){if(3!==k.length)return F.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var K=F.parse(k[1],1,jt),de=F.parse(k[2],2,Mn(F.expectedType||tn));return K&&de?new yl(de.type.itemType,K,de):null},yl.prototype.evaluate=function(k){var F=this.index.evaluate(k),K=this.input.evaluate(k);if(F<0)throw new an("Array index out of bounds: "+F+" < 0.");if(F>=K.length)throw new an("Array index out of bounds: "+F+" > "+(K.length-1)+".");if(F!==Math.floor(F))throw new an("Array index must be an integer, but found "+F+" instead.");return K[F]},yl.prototype.eachChild=function(k){k(this.index),k(this.input)},yl.prototype.outputDefined=function(){return!1},yl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var js=function(k,F){this.type=on,this.needle=k,this.haystack=F};js.parse=function(k,F){if(3!==k.length)return F.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var K=F.parse(k[1],1,tn),de=F.parse(k[2],2,tn);return K&&de?_n(K.type,[on,Gt,jt,Bt,tn])?new js(K,de):F.error("Expected first argument to be of type boolean, string, number or null, but found "+ln(K.type)+" instead"):null},js.prototype.evaluate=function(k){var F=this.needle.evaluate(k),K=this.haystack.evaluate(k);if(!K)return!1;if(!Dn(F,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+ln(cr(F))+" instead.");if(!Dn(K,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+ln(cr(K))+" instead.");return K.indexOf(F)>=0},js.prototype.eachChild=function(k){k(this.needle),k(this.haystack)},js.prototype.outputDefined=function(){return!0},js.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var xl=function(k,F,K){this.type=jt,this.needle=k,this.haystack=F,this.fromIndex=K};xl.parse=function(k,F){if(k.length<=2||k.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var K=F.parse(k[1],1,tn),de=F.parse(k[2],2,tn);if(!K||!de)return null;if(!_n(K.type,[on,Gt,jt,Bt,tn]))return F.error("Expected first argument to be of type boolean, string, number or null, but found "+ln(K.type)+" instead");if(4===k.length){var De=F.parse(k[3],3,jt);return De?new xl(K,de,De):null}return new xl(K,de)},xl.prototype.evaluate=function(k){var F=this.needle.evaluate(k),K=this.haystack.evaluate(k);if(!Dn(F,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+ln(cr(F))+" instead.");if(!Dn(K,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+ln(cr(K))+" instead.");if(this.fromIndex){var de=this.fromIndex.evaluate(k);return K.indexOf(F,de)}return K.indexOf(F)},xl.prototype.eachChild=function(k){k(this.needle),k(this.haystack),this.fromIndex&&k(this.fromIndex)},xl.prototype.outputDefined=function(){return!1},xl.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var k=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),k]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ha=function(k,F,K,de,De,Fe){this.inputType=k,this.type=F,this.input=K,this.cases=de,this.outputs=De,this.otherwise=Fe};Ha.parse=function(k,F){if(k.length<5)return F.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if(k.length%2!=1)return F.error("Expected an even number of arguments.");var K,de;F.expectedType&&"value"!==F.expectedType.kind&&(de=F.expectedType);for(var De={},Fe=[],Ye=2;Ye<k.length-1;Ye+=2){var it=k[Ye],mt=k[Ye+1];Array.isArray(it)||(it=[it]);var Et=F.concat(Ye);if(0===it.length)return Et.error("Expected at least one branch label.");for(var Dt=0,qt=it;Dt<qt.length;Dt+=1){var Qt=qt[Dt];if("number"!=typeof Qt&&"string"!=typeof Qt)return Et.error("Branch labels must be numbers or strings.");if("number"==typeof Qt&&Math.abs(Qt)>Number.MAX_SAFE_INTEGER)return Et.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Qt&&Math.floor(Qt)!==Qt)return Et.error("Numeric branch labels must be integer values.");if(K){if(Et.checkSubtype(K,cr(Qt)))return null}else K=cr(Qt);if(void 0!==De[String(Qt)])return Et.error("Branch labels must be unique.");De[String(Qt)]=Fe.length}var Zt=F.parse(mt,Ye,de);if(!Zt)return null;de=de||Zt.type,Fe.push(Zt)}var gn=F.parse(k[1],1,tn);if(!gn)return null;var bn=F.parse(k[k.length-1],k.length-1,de);return bn?"value"!==gn.type.kind&&F.concat(1).checkSubtype(K,gn.type)?null:new Ha(K,de,gn,De,Fe,bn):null},Ha.prototype.evaluate=function(k){var F=this.input.evaluate(k);return(cr(F)===this.inputType&&this.outputs[this.cases[F]]||this.otherwise).evaluate(k)},Ha.prototype.eachChild=function(k){k(this.input),this.outputs.forEach(k),k(this.otherwise)},Ha.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})&&this.otherwise.outputDefined()},Ha.prototype.serialize=function(){for(var k=this,F=["match",this.input.serialize()],K=[],de={},De=0,Fe=Object.keys(this.cases).sort();De<Fe.length;De+=1){var Ye=Fe[De];void 0===(qt=de[this.cases[Ye]])?(de[this.cases[Ye]]=K.length,K.push([this.cases[Ye],[Ye]])):K[qt][1].push(Ye)}for(var it=function(Zt){return"number"===k.inputType.kind?Number(Zt):Zt},mt=0,Et=K;mt<Et.length;mt+=1){var Dt=Et[mt],qt=Dt[0],Qt=Dt[1];F.push(1===Qt.length?it(Qt[0]):Qt.map(it)),F.push(this.outputs[outputIndex$1].serialize())}return F.push(this.otherwise.serialize()),F};var As=function(k,F,K){this.type=k,this.branches=F,this.otherwise=K};As.parse=function(k,F){if(k.length<4)return F.error("Expected at least 3 arguments, but found only "+(k.length-1)+".");if(k.length%2!=0)return F.error("Expected an odd number of arguments.");var K;F.expectedType&&"value"!==F.expectedType.kind&&(K=F.expectedType);for(var de=[],De=1;De<k.length-1;De+=2){var Fe=F.parse(k[De],De,on);if(!Fe)return null;var Ye=F.parse(k[De+1],De+1,K);if(!Ye)return null;de.push([Fe,Ye]),K=K||Ye.type}var it=F.parse(k[k.length-1],k.length-1,K);return it?new As(K,de,it):null},As.prototype.evaluate=function(k){for(var F=0,K=this.branches;F<K.length;F+=1){var de=K[F],Fe=de[1];if(de[0].evaluate(k))return Fe.evaluate(k)}return this.otherwise.evaluate(k)},As.prototype.eachChild=function(k){for(var F=0,K=this.branches;F<K.length;F+=1){var de=K[F],Fe=de[1];k(de[0]),k(Fe)}k(this.otherwise)},As.prototype.outputDefined=function(){return this.branches.every(function(k){return k[1].outputDefined()})&&this.otherwise.outputDefined()},As.prototype.serialize=function(){var k=["case"];return this.eachChild(function(F){k.push(F.serialize())}),k};var qa=function(k,F,K,de){this.type=k,this.input=F,this.beginIndex=K,this.endIndex=de};function xu(k,F){return"=="===k||"!="===k?"boolean"===F.kind||"string"===F.kind||"number"===F.kind||"null"===F.kind||"value"===F.kind:"string"===F.kind||"number"===F.kind||"value"===F.kind}function cu(k,F,K,de){return 0===de.compare(F,K)}function bl(k,F,K){var de="=="!==k&&"!="!==k;return function(){function De(Fe,Ye,it){this.type=on,this.lhs=Fe,this.rhs=Ye,this.collator=it,this.hasUntypedArgument="value"===Fe.type.kind||"value"===Ye.type.kind}return De.parse=function(Fe,Ye){if(3!==Fe.length&&4!==Fe.length)return Ye.error("Expected two or three arguments.");var it=Fe[0],mt=Ye.parse(Fe[1],1,tn);if(!mt)return null;if(!xu(it,mt.type))return Ye.concat(1).error('"'+it+"\" comparisons are not supported for type '"+ln(mt.type)+"'.");var Et=Ye.parse(Fe[2],2,tn);if(!Et)return null;if(!xu(it,Et.type))return Ye.concat(2).error('"'+it+"\" comparisons are not supported for type '"+ln(Et.type)+"'.");if(mt.type.kind!==Et.type.kind&&"value"!==mt.type.kind&&"value"!==Et.type.kind)return Ye.error("Cannot compare types '"+ln(mt.type)+"' and '"+ln(Et.type)+"'.");de&&("value"===mt.type.kind&&"value"!==Et.type.kind?mt=new En(Et.type,[mt]):"value"!==mt.type.kind&&"value"===Et.type.kind&&(Et=new En(mt.type,[Et])));var Dt=null;if(4===Fe.length){if("string"!==mt.type.kind&&"string"!==Et.type.kind&&"value"!==mt.type.kind&&"value"!==Et.type.kind)return Ye.error("Cannot use collator to compare non-string types.");if(!(Dt=Ye.parse(Fe[3],3,dn)))return null}return new De(mt,Et,Dt)},De.prototype.evaluate=function(Fe){var Ye=this.lhs.evaluate(Fe),it=this.rhs.evaluate(Fe);if(de&&this.hasUntypedArgument){var mt=cr(Ye),Et=cr(it);if(mt.kind!==Et.kind||"string"!==mt.kind&&"number"!==mt.kind)throw new an('Expected arguments for "'+k+'" to be (string, string) or (number, number), but found ('+mt.kind+", "+Et.kind+") instead.")}if(this.collator&&!de&&this.hasUntypedArgument){var Dt=cr(Ye),qt=cr(it);if("string"!==Dt.kind||"string"!==qt.kind)return F(Fe,Ye,it)}return this.collator?K(Fe,Ye,it,this.collator.evaluate(Fe)):F(Fe,Ye,it)},De.prototype.eachChild=function(Fe){Fe(this.lhs),Fe(this.rhs),this.collator&&Fe(this.collator)},De.prototype.outputDefined=function(){return!0},De.prototype.serialize=function(){var Fe=[k];return this.eachChild(function(Ye){Fe.push(Ye.serialize())}),Fe},De}()}qa.parse=function(k,F){if(k.length<=2||k.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var K=F.parse(k[1],1,tn),de=F.parse(k[2],2,jt);if(!K||!de)return null;if(!_n(K.type,[Mn(tn),Gt,tn]))return F.error("Expected first argument to be of type array or string, but found "+ln(K.type)+" instead");if(4===k.length){var De=F.parse(k[3],3,jt);return De?new qa(K.type,K,de,De):null}return new qa(K.type,K,de)},qa.prototype.evaluate=function(k){var F=this.input.evaluate(k),K=this.beginIndex.evaluate(k);if(!Dn(F,["string","array"]))throw new an("Expected first argument to be of type array or string, but found "+ln(cr(F))+" instead.");if(this.endIndex){var de=this.endIndex.evaluate(k);return F.slice(K,de)}return F.slice(K)},qa.prototype.eachChild=function(k){k(this.input),k(this.beginIndex),this.endIndex&&k(this.endIndex)},qa.prototype.outputDefined=function(){return!1},qa.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var k=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),k]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var bu=bl("==",function(k,F,K){return F===K},cu),_l=bl("!=",function(k,F,K){return F!==K},function(k,F,K,de){return!cu(0,F,K,de)}),wl=bl("<",function(k,F,K){return F<K},function(k,F,K,de){return de.compare(F,K)<0}),Us=bl(">",function(k,F,K){return F>K},function(k,F,K,de){return de.compare(F,K)>0}),fc=bl("<=",function(k,F,K){return F<=K},function(k,F,K,de){return de.compare(F,K)<=0}),ki=bl(">=",function(k,F,K){return F>=K},function(k,F,K,de){return de.compare(F,K)>=0}),nl=function(k,F,K,de,De){this.type=Gt,this.number=k,this.locale=F,this.currency=K,this.minFractionDigits=de,this.maxFractionDigits=De};nl.parse=function(k,F){if(3!==k.length)return F.error("Expected two arguments.");var K=F.parse(k[1],1,jt);if(!K)return null;var de=k[2];if("object"!=typeof de||Array.isArray(de))return F.error("NumberFormat options argument must be an object.");var De=null;if(de.locale&&!(De=F.parse(de.locale,1,Gt)))return null;var Fe=null;if(de.currency&&!(Fe=F.parse(de.currency,1,Gt)))return null;var Ye=null;if(de["min-fraction-digits"]&&!(Ye=F.parse(de["min-fraction-digits"],1,jt)))return null;var it=null;return de["max-fraction-digits"]&&!(it=F.parse(de["max-fraction-digits"],1,jt))?null:new nl(K,De,Fe,Ye,it)},nl.prototype.evaluate=function(k){return new Intl.NumberFormat(this.locale?this.locale.evaluate(k):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(k):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(k):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(k):void 0}).format(this.number.evaluate(k))},nl.prototype.eachChild=function(k){k(this.number),this.locale&&k(this.locale),this.currency&&k(this.currency),this.minFractionDigits&&k(this.minFractionDigits),this.maxFractionDigits&&k(this.maxFractionDigits)},nl.prototype.outputDefined=function(){return!1},nl.prototype.serialize=function(){var k={};return this.locale&&(k.locale=this.locale.serialize()),this.currency&&(k.currency=this.currency.serialize()),this.minFractionDigits&&(k["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(k["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),k]};var Si=function(k){this.type=jt,this.input=k};Si.parse=function(k,F){if(2!==k.length)return F.error("Expected 1 argument, but found "+(k.length-1)+" instead.");var K=F.parse(k[1],1);return K?"array"!==K.type.kind&&"string"!==K.type.kind&&"value"!==K.type.kind?F.error("Expected argument of type string or array, but found "+ln(K.type)+" instead."):new Si(K):null},Si.prototype.evaluate=function(k){var F=this.input.evaluate(k);if("string"==typeof F||Array.isArray(F))return F.length;throw new an("Expected value to be of type string or array, but found "+ln(cr(F))+" instead.")},Si.prototype.eachChild=function(k){k(this.input)},Si.prototype.outputDefined=function(){return!1},Si.prototype.serialize=function(){var k=["length"];return this.eachChild(function(F){k.push(F.serialize())}),k};var Vs={"==":bu,"!=":_l,">":Us,"<":wl,">=":ki,"<=":fc,array:En,at:yl,boolean:En,case:As,coalesce:Bs,collator:Nt,format:Wn,image:ar,in:js,"index-of":xl,interpolate:Go,"interpolate-hcl":Go,"interpolate-lab":Go,length:Si,let:Ms,literal:fn,match:Ha,number:En,"number-format":nl,object:En,slice:qa,step:Yr,string:En,"to-boolean":fr,"to-color":fr,"to-number":fr,"to-string":fr,var:kr,within:qn};function Hs(k,F){var K=F[0],de=F[1],De=F[2],Fe=F[3];K=K.evaluate(k),de=de.evaluate(k),De=De.evaluate(k);var Ye=Fe?Fe.evaluate(k):1,it=or(K,de,De,Ye);if(it)throw new an(it);return new jn(K/255*Ye,de/255*Ye,De/255*Ye,Ye)}function qs(k,F){return k in F}function Tl(k,F){var K=F[k];return void 0===K?null:K}function hs(k){return{type:k}}function _u(k){return{result:"success",value:k}}function ga(k){return{result:"error",value:k}}function ns(k){return"data-driven"===k["property-type"]||"cross-faded-data-driven"===k["property-type"]}function $o(k){return!!k.expression&&k.expression.parameters.indexOf("zoom")>-1}function sa(k){return!!k.expression&&k.expression.interpolated}function Xr(k){return k instanceof Number?"number":k instanceof String?"string":k instanceof Boolean?"boolean":Array.isArray(k)?"array":null===k?"null":typeof k}function Gs(k){return"object"==typeof k&&null!==k&&!Array.isArray(k)}function wu(k){return k}function Fl(k,F){var K,de,De,Fe="color"===F.type,Ye=k.stops&&"object"==typeof k.stops[0][0],mt=Ye||!(Ye||void 0!==k.property),Et=k.type||(sa(F)?"exponential":"interval");if(Fe&&((k=At({},k)).stops&&(k.stops=k.stops.map(function(Cr){return[Cr[0],jn.parse(Cr[1])]})),k.default=jn.parse(k.default?k.default:F.default)),k.colorSpace&&"rgb"!==k.colorSpace&&!Ri[k.colorSpace])throw new Error("Unknown color space: "+k.colorSpace);if("exponential"===Et)K=Zl;else if("interval"===Et)K=Yl;else if("categorical"===Et){K=ks,de=Object.create(null);for(var Dt=0,qt=k.stops;Dt<qt.length;Dt+=1){var Qt=qt[Dt];de[Qt[0]]=Qt[1]}De=typeof k.stops[0][0]}else{if("identity"!==Et)throw new Error('Unknown function type "'+Et+'"');K=Hu}if(Ye){for(var Zt={},gn=[],bn=0;bn<k.stops.length;bn++){var On=k.stops[bn],Ln=On[0].zoom;void 0===Zt[Ln]&&(Zt[Ln]={zoom:Ln,type:k.type,property:k.property,default:k.default,stops:[]},gn.push(Ln)),Zt[Ln].stops.push([On[0].value,On[1]])}for(var Zn=[],Kn=0,rr=gn;Kn<rr.length;Kn+=1){var hr=rr[Kn];Zn.push([Zt[hr].zoom,Fl(Zt[hr],F)])}var xr={name:"linear"};return{kind:"composite",interpolationType:xr,interpolationFactor:Go.interpolationFactor.bind(void 0,xr),zoomStops:Zn.map(function(Cr){return Cr[0]}),evaluate:function(Cr,Br){var Hr=Cr.zoom;return Zl({stops:Zn,base:k.base},F,Hr).evaluate(Hr,Br)}}}if(mt){var Rr="exponential"===Et?{name:"exponential",base:void 0!==k.base?k.base:1}:null;return{kind:"camera",interpolationType:Rr,interpolationFactor:Go.interpolationFactor.bind(void 0,Rr),zoomStops:k.stops.map(function(Cr){return Cr[0]}),evaluate:function(Cr){return K(k,F,Cr.zoom,de,De)}}}return{kind:"source",evaluate:function(Cr,Br){var Hr=Br&&Br.properties?Br.properties[k.property]:void 0;return void 0===Hr?Ml(k.default,F.default):K(k,F,Hr,de,De)}}}function Ml(k,F,K){return void 0!==k?k:void 0!==F?F:void 0!==K?K:void 0}function ks(k,F,K,de,De){return Ml(typeof K===De?de[K]:void 0,k.default,F.default)}function Yl(k,F,K){if("number"!==Xr(K))return Ml(k.default,F.default);var de=k.stops.length;if(1===de||K<=k.stops[0][0])return k.stops[0][1];if(K>=k.stops[de-1][0])return k.stops[de-1][1];var De=Or(k.stops.map(function(Fe){return Fe[0]}),K);return k.stops[De][1]}function Zl(k,F,K){var de=void 0!==k.base?k.base:1;if("number"!==Xr(K))return Ml(k.default,F.default);var De=k.stops.length;if(1===De||K<=k.stops[0][0])return k.stops[0][1];if(K>=k.stops[De-1][0])return k.stops[De-1][1];var Qt,Zt,bn,On,Fe=Or(k.stops.map(function(qt){return qt[0]}),K),Ye=(Qt=de,On=K-(Zt=k.stops[Fe][0]),0==(bn=k.stops[Fe+1][0]-Zt)?0:1===Qt?On/bn:(Math.pow(Qt,On)-1)/(Math.pow(Qt,bn)-1)),it=k.stops[Fe][1],mt=k.stops[Fe+1][1],Et=to[F.type]||wu;if(k.colorSpace&&"rgb"!==k.colorSpace){var Dt=Ri[k.colorSpace];Et=function(qt,Qt){return Dt.reverse(Dt.interpolate(Dt.forward(qt),Dt.forward(Qt),Ye))}}return"function"==typeof it.evaluate?{evaluate:function(){for(var qt=[],Qt=arguments.length;Qt--;)qt[Qt]=arguments[Qt];var Zt=it.evaluate.apply(void 0,qt),gn=mt.evaluate.apply(void 0,qt);if(void 0!==Zt&&void 0!==gn)return Et(Zt,gn,Ye)}}:Et(it,mt,Ye)}function Hu(k,F,K){return"color"===F.type?K=jn.parse(K):"formatted"===F.type?K=$n.fromString(K.toString()):"resolvedImage"===F.type?K=nr.fromString(K.toString()):Xr(K)===F.type||"enum"===F.type&&F.values[K]||(K=void 0),Ml(K,k.default,F.default)}An.register(Vs,{error:[{kind:"error"},[Gt],function(k,F){throw new an(F[0].evaluate(k))}],typeof:[Gt,[tn],function(k,F){return ln(cr(F[0].evaluate(k)))}],"to-rgba":[Mn(jt,4),[Jt],function(k,F){return F[0].evaluate(k).toArray()}],rgb:[Jt,[jt,jt,jt],Hs],rgba:[Jt,[jt,jt,jt,jt],Hs],has:{type:on,overloads:[[[Gt],function(k,F){return qs(F[0].evaluate(k),k.properties())}],[[Gt,$t],function(k,F){var de=F[1];return qs(F[0].evaluate(k),de.evaluate(k))}]]},get:{type:tn,overloads:[[[Gt],function(k,F){return Tl(F[0].evaluate(k),k.properties())}],[[Gt,$t],function(k,F){var de=F[1];return Tl(F[0].evaluate(k),de.evaluate(k))}]]},"feature-state":[tn,[Gt],function(k,F){return Tl(F[0].evaluate(k),k.featureState||{})}],properties:[$t,[],function(k){return k.properties()}],"geometry-type":[Gt,[],function(k){return k.geometryType()}],id:[tn,[],function(k){return k.id()}],zoom:[jt,[],function(k){return k.globals.zoom}],"heatmap-density":[jt,[],function(k){return k.globals.heatmapDensity||0}],"line-progress":[jt,[],function(k){return k.globals.lineProgress||0}],accumulated:[tn,[],function(k){return void 0===k.globals.accumulated?null:k.globals.accumulated}],"+":[jt,hs(jt),function(k,F){for(var K=0,de=0,De=F;de<De.length;de+=1)K+=De[de].evaluate(k);return K}],"*":[jt,hs(jt),function(k,F){for(var K=1,de=0,De=F;de<De.length;de+=1)K*=De[de].evaluate(k);return K}],"-":{type:jt,overloads:[[[jt,jt],function(k,F){var de=F[1];return F[0].evaluate(k)-de.evaluate(k)}],[[jt],function(k,F){return-F[0].evaluate(k)}]]},"/":[jt,[jt,jt],function(k,F){var de=F[1];return F[0].evaluate(k)/de.evaluate(k)}],"%":[jt,[jt,jt],function(k,F){var de=F[1];return F[0].evaluate(k)%de.evaluate(k)}],ln2:[jt,[],function(){return Math.LN2}],pi:[jt,[],function(){return Math.PI}],e:[jt,[],function(){return Math.E}],"^":[jt,[jt,jt],function(k,F){var de=F[1];return Math.pow(F[0].evaluate(k),de.evaluate(k))}],sqrt:[jt,[jt],function(k,F){return Math.sqrt(F[0].evaluate(k))}],log10:[jt,[jt],function(k,F){return Math.log(F[0].evaluate(k))/Math.LN10}],ln:[jt,[jt],function(k,F){return Math.log(F[0].evaluate(k))}],log2:[jt,[jt],function(k,F){return Math.log(F[0].evaluate(k))/Math.LN2}],sin:[jt,[jt],function(k,F){return Math.sin(F[0].evaluate(k))}],cos:[jt,[jt],function(k,F){return Math.cos(F[0].evaluate(k))}],tan:[jt,[jt],function(k,F){return Math.tan(F[0].evaluate(k))}],asin:[jt,[jt],function(k,F){return Math.asin(F[0].evaluate(k))}],acos:[jt,[jt],function(k,F){return Math.acos(F[0].evaluate(k))}],atan:[jt,[jt],function(k,F){return Math.atan(F[0].evaluate(k))}],min:[jt,hs(jt),function(k,F){return Math.min.apply(Math,F.map(function(K){return K.evaluate(k)}))}],max:[jt,hs(jt),function(k,F){return Math.max.apply(Math,F.map(function(K){return K.evaluate(k)}))}],abs:[jt,[jt],function(k,F){return Math.abs(F[0].evaluate(k))}],round:[jt,[jt],function(k,F){var K=F[0].evaluate(k);return K<0?-Math.round(-K):Math.round(K)}],floor:[jt,[jt],function(k,F){return Math.floor(F[0].evaluate(k))}],ceil:[jt,[jt],function(k,F){return Math.ceil(F[0].evaluate(k))}],"filter-==":[on,[Gt,tn],function(k,F){var K=F[0],de=F[1];return k.properties()[K.value]===de.value}],"filter-id-==":[on,[tn],function(k,F){var K=F[0];return k.id()===K.value}],"filter-type-==":[on,[Gt],function(k,F){var K=F[0];return k.geometryType()===K.value}],"filter-<":[on,[Gt,tn],function(k,F){var K=F[0],de=F[1],De=k.properties()[K.value],Fe=de.value;return typeof De==typeof Fe&&De<Fe}],"filter-id-<":[on,[tn],function(k,F){var K=F[0],de=k.id(),De=K.value;return typeof de==typeof De&&de<De}],"filter->":[on,[Gt,tn],function(k,F){var K=F[0],de=F[1],De=k.properties()[K.value],Fe=de.value;return typeof De==typeof Fe&&De>Fe}],"filter-id->":[on,[tn],function(k,F){var K=F[0],de=k.id(),De=K.value;return typeof de==typeof De&&de>De}],"filter-<=":[on,[Gt,tn],function(k,F){var K=F[0],de=F[1],De=k.properties()[K.value],Fe=de.value;return typeof De==typeof Fe&&De<=Fe}],"filter-id-<=":[on,[tn],function(k,F){var K=F[0],de=k.id(),De=K.value;return typeof de==typeof De&&de<=De}],"filter->=":[on,[Gt,tn],function(k,F){var K=F[0],de=F[1],De=k.properties()[K.value],Fe=de.value;return typeof De==typeof Fe&&De>=Fe}],"filter-id->=":[on,[tn],function(k,F){var K=F[0],de=k.id(),De=K.value;return typeof de==typeof De&&de>=De}],"filter-has":[on,[tn],function(k,F){return F[0].value in k.properties()}],"filter-has-id":[on,[],function(k){return null!==k.id()&&void 0!==k.id()}],"filter-type-in":[on,[Mn(Gt)],function(k,F){return F[0].value.indexOf(k.geometryType())>=0}],"filter-id-in":[on,[Mn(tn)],function(k,F){return F[0].value.indexOf(k.id())>=0}],"filter-in-small":[on,[Gt,Mn(tn)],function(k,F){var K=F[0];return F[1].value.indexOf(k.properties()[K.value])>=0}],"filter-in-large":[on,[Gt,Mn(tn)],function(k,F){var K=F[0],de=F[1];return function(De,Fe,Ye,it){for(;Ye<=it;){var mt=Ye+it>>1;if(Fe[mt]===De)return!0;Fe[mt]>De?it=mt-1:Ye=mt+1}return!1}(k.properties()[K.value],de.value,0,de.value.length-1)}],all:{type:on,overloads:[[[on,on],function(k,F){var de=F[1];return F[0].evaluate(k)&&de.evaluate(k)}],[hs(on),function(k,F){for(var K=0,de=F;K<de.length;K+=1)if(!de[K].evaluate(k))return!1;return!0}]]},any:{type:on,overloads:[[[on,on],function(k,F){var de=F[1];return F[0].evaluate(k)||de.evaluate(k)}],[hs(on),function(k,F){for(var K=0,de=F;K<de.length;K+=1)if(de[K].evaluate(k))return!0;return!1}]]},"!":[on,[on],function(k,F){return!F[0].evaluate(k)}],"is-supported-script":[on,[Gt],function(k,F){var de=k.globals&&k.globals.isSupportedScript;return!de||de(F[0].evaluate(k))}],upcase:[Gt,[Gt],function(k,F){return F[0].evaluate(k).toUpperCase()}],downcase:[Gt,[Gt],function(k,F){return F[0].evaluate(k).toLowerCase()}],concat:[Gt,hs(tn),function(k,F){return F.map(function(K){return Ar(K.evaluate(k))}).join("")}],"resolved-locale":[Gt,[dn],function(k,F){return F[0].evaluate(k).resolvedLocale()}]});var Ss=function(k,F){var K;this.expression=k,this._warningHistory={},this._evaluator=new Kt,this._defaultValue=F?"color"===(K=F).type&&Gs(K.default)?new jn(0,0,0,0):"color"===K.type?jn.parse(K.default)||null:void 0===K.default?null:K.default:null,this._enumValues=F&&"enum"===F.type?F.values:null};function rl(k){return Array.isArray(k)&&k.length>0&&"string"==typeof k[0]&&k[0]in Vs}function Es(k,F){var De,Fe,K=new Lr(Vs,[],F?(Fe={color:Jt,string:Gt,number:jt,enum:Gt,boolean:on,formatted:Gn,resolvedImage:zn},"array"===(De=F).type?Mn(Fe[De.value]||tn,De.length):Fe[De.type]):void 0),de=K.parse(k,void 0,void 0,void 0,F&&"string"===F.type?{typeAnnotation:"coerce"}:void 0);return de?_u(new Ss(de,F)):ga(K.errors)}Ss.prototype.evaluateWithoutErrorHandling=function(k,F,K,de,De,Fe){return this._evaluator.globals=k,this._evaluator.feature=F,this._evaluator.featureState=K,this._evaluator.canonical=de,this._evaluator.availableImages=De||null,this._evaluator.formattedSection=Fe,this.expression.evaluate(this._evaluator)},Ss.prototype.evaluate=function(k,F,K,de,De,Fe){this._evaluator.globals=k,this._evaluator.feature=F||null,this._evaluator.featureState=K||null,this._evaluator.canonical=de,this._evaluator.availableImages=De||null,this._evaluator.formattedSection=Fe||null;try{var Ye=this.expression.evaluate(this._evaluator);if(null==Ye||"number"==typeof Ye&&Ye!=Ye)return this._defaultValue;if(this._enumValues&&!(Ye in this._enumValues))throw new an("Expected value to be one of "+Object.keys(this._enumValues).map(function(it){return JSON.stringify(it)}).join(", ")+", but found "+JSON.stringify(Ye)+" instead.");return Ye}catch(it){return this._warningHistory[it.message]||(this._warningHistory[it.message]=!0,typeof console<"u"&&console.warn(it.message)),this._defaultValue}};var ka=function(k,F){this.kind=k,this._styleExpression=F,this.isStateDependent="constant"!==k&&!dr(F.expression)};ka.prototype.evaluateWithoutErrorHandling=function(k,F,K,de,De,Fe){return this._styleExpression.evaluateWithoutErrorHandling(k,F,K,de,De,Fe)},ka.prototype.evaluate=function(k,F,K,de,De,Fe){return this._styleExpression.evaluate(k,F,K,de,De,Fe)};var Al=function(k,F,K,de){this.kind=k,this.zoomStops=K,this._styleExpression=F,this.isStateDependent="camera"!==k&&!dr(F.expression),this.interpolationType=de};function Tu(k,F){if("error"===(k=Es(k,F)).result)return k;var K=k.value.expression,de=vr(K);if(!de&&!ns(F))return ga([new Ct("","data expressions not supported")]);var De=Dr(K,["zoom"]);if(!De&&!$o(F))return ga([new Ct("","zoom expressions not supported")]);var Fe=$l(K);return Fe||De?Fe instanceof Ct?ga([Fe]):Fe instanceof Go&&!sa(F)?ga([new Ct("",'"interpolate" expressions cannot be used with this property')]):_u(Fe?new Al(de?"camera":"composite",k.value,Fe.labels,Fe instanceof Go?Fe.interpolation:void 0):new ka(de?"constant":"source",k.value)):ga([new Ct("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Al.prototype.evaluateWithoutErrorHandling=function(k,F,K,de,De,Fe){return this._styleExpression.evaluateWithoutErrorHandling(k,F,K,de,De,Fe)},Al.prototype.evaluate=function(k,F,K,de,De,Fe){return this._styleExpression.evaluate(k,F,K,de,De,Fe)},Al.prototype.interpolationFactor=function(k,F,K){return this.interpolationType?Go.interpolationFactor(this.interpolationType,k,F,K):0};var Xl=function(k,F){this._parameters=k,this._specification=F,At(this,Fl(this._parameters,this._specification))};function $l(k){var F=null;if(k instanceof Ms)F=$l(k.result);else if(k instanceof Bs)for(var K=0,de=k.args;K<de.length&&!(F=$l(de[K]));K+=1);else(k instanceof Yr||k instanceof Go)&&k.input instanceof An&&"zoom"===k.input.name&&(F=k);return F instanceof Ct||k.eachChild(function(Fe){var Ye=$l(Fe);Ye instanceof Ct?F=Ye:!F&&Ye?F=new Ct("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):F&&Ye&&F!==Ye&&(F=new Ct("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),F}function Ga(k){var F=k.key,K=k.value,de=k.valueSpec||{},De=k.objectElementValidators||{},Fe=k.style,Ye=k.styleSpec,it=[],mt=Xr(K);if("object"!==mt)return[new xt(F,K,"object expected, "+mt+" found")];for(var Et in K){var Dt=Et.split(".")[0],qt=de[Dt]||de["*"],Qt=void 0;if(De[Dt])Qt=De[Dt];else if(de[Dt])Qt=Xa;else if(De["*"])Qt=De["*"];else{if(!de["*"]){it.push(new xt(F,K[Et],'unknown property "'+Et+'"'));continue}Qt=Xa}it=it.concat(Qt({key:(F&&F+".")+Et,value:K[Et],valueSpec:qt,style:Fe,styleSpec:Ye,object:K,objectKey:Et},K))}for(var Zt in de)De[Zt]||de[Zt].required&&void 0===de[Zt].default&&void 0===K[Zt]&&it.push(new xt(F,K,'missing required property "'+Zt+'"'));return it}function fu(k){var F=k.value,K=k.valueSpec,de=k.style,De=k.styleSpec,Fe=k.key,Ye=k.arrayElementValidator||Xa;if("array"!==Xr(F))return[new xt(Fe,F,"array expected, "+Xr(F)+" found")];if(K.length&&F.length!==K.length)return[new xt(Fe,F,"array length "+K.length+" expected, length "+F.length+" found")];if(K["min-length"]&&F.length<K["min-length"])return[new xt(Fe,F,"array length at least "+K["min-length"]+" expected, length "+F.length+" found")];var it={type:K.value,values:K.values};De.$version<7&&(it.function=K.function),"object"===Xr(K.value)&&(it=K.value);for(var mt=[],Et=0;Et<F.length;Et++)mt=mt.concat(Ye({array:F,arrayIndex:Et,value:F[Et],valueSpec:it,style:de,styleSpec:De,key:Fe+"["+Et+"]"}));return mt}function rs(k){var F=k.key,K=k.value,de=k.valueSpec,De=Xr(K);return"number"===De&&K!=K&&(De="NaN"),"number"!==De?[new xt(F,K,"number expected, "+De+" found")]:"minimum"in de&&K<de.minimum?[new xt(F,K,K+" is less than the minimum value "+de.minimum)]:"maximum"in de&&K>de.maximum?[new xt(F,K,K+" is greater than the maximum value "+de.maximum)]:[]}function Nl(k){var F,K,de,De=k.valueSpec,Fe=yt(k.value.type),Ye={},it="categorical"!==Fe&&void 0===k.value.property,mt=!it,Et="array"===Xr(k.value.stops)&&"array"===Xr(k.value.stops[0])&&"object"===Xr(k.value.stops[0][0]),Dt=Ga({key:k.key,value:k.value,valueSpec:k.styleSpec.function,style:k.style,styleSpec:k.styleSpec,objectElementValidators:{stops:function(Zt){if("identity"===Fe)return[new xt(Zt.key,Zt.value,'identity function may not have a "stops" property')];var gn=[],bn=Zt.value;return gn=gn.concat(fu({key:Zt.key,value:bn,valueSpec:Zt.valueSpec,style:Zt.style,styleSpec:Zt.styleSpec,arrayElementValidator:qt})),"array"===Xr(bn)&&0===bn.length&&gn.push(new xt(Zt.key,bn,"array must have at least one stop")),gn},default:function(Zt){return Xa({key:Zt.key,value:Zt.value,valueSpec:De,style:Zt.style,styleSpec:Zt.styleSpec})}}});return"identity"===Fe&&it&&Dt.push(new xt(k.key,k.value,'missing required property "property"')),"identity"===Fe||k.value.stops||Dt.push(new xt(k.key,k.value,'missing required property "stops"')),"exponential"===Fe&&k.valueSpec.expression&&!sa(k.valueSpec)&&Dt.push(new xt(k.key,k.value,"exponential functions not supported")),k.styleSpec.$version>=8&&(mt&&!ns(k.valueSpec)?Dt.push(new xt(k.key,k.value,"property functions not supported")):it&&!$o(k.valueSpec)&&Dt.push(new xt(k.key,k.value,"zoom functions not supported"))),"categorical"!==Fe&&!Et||void 0!==k.value.property||Dt.push(new xt(k.key,k.value,'"property" property is required')),Dt;function qt(Zt){var gn=[],bn=Zt.value,On=Zt.key;if("array"!==Xr(bn))return[new xt(On,bn,"array expected, "+Xr(bn)+" found")];if(2!==bn.length)return[new xt(On,bn,"array length 2 expected, length "+bn.length+" found")];if(Et){if("object"!==Xr(bn[0]))return[new xt(On,bn,"object expected, "+Xr(bn[0])+" found")];if(void 0===bn[0].zoom)return[new xt(On,bn,"object stop key must have zoom")];if(void 0===bn[0].value)return[new xt(On,bn,"object stop key must have value")];if(de&&de>yt(bn[0].zoom))return[new xt(On,bn[0].zoom,"stop zoom values must appear in ascending order")];yt(bn[0].zoom)!==de&&(de=yt(bn[0].zoom),K=void 0,Ye={}),gn=gn.concat(Ga({key:On+"[0]",value:bn[0],valueSpec:{zoom:{}},style:Zt.style,styleSpec:Zt.styleSpec,objectElementValidators:{zoom:rs,value:Qt}}))}else gn=gn.concat(Qt({key:On+"[0]",value:bn[0],valueSpec:{},style:Zt.style,styleSpec:Zt.styleSpec},bn));return rl(Ot(bn[1]))?gn.concat([new xt(On+"[1]",bn[1],"expressions are not allowed in function stops.")]):gn.concat(Xa({key:On+"[1]",value:bn[1],valueSpec:De,style:Zt.style,styleSpec:Zt.styleSpec}))}function Qt(Zt,gn){var bn=Xr(Zt.value),On=yt(Zt.value),Ln=null!==Zt.value?Zt.value:gn;if(F){if(bn!==F)return[new xt(Zt.key,Ln,bn+" stop domain type must match previous stop domain type "+F)]}else F=bn;if("number"!==bn&&"string"!==bn&&"boolean"!==bn)return[new xt(Zt.key,Ln,"stop domain value must be a number, string, or boolean")];if("number"!==bn&&"categorical"!==Fe){var Zn="number expected, "+bn+" found";return ns(De)&&void 0===Fe&&(Zn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new xt(Zt.key,Ln,Zn)]}return"categorical"!==Fe||"number"!==bn||isFinite(On)&&Math.floor(On)===On?"categorical"!==Fe&&"number"===bn&&void 0!==K&&On<K?[new xt(Zt.key,Ln,"stop domain values must appear in ascending order")]:(K=On,"categorical"===Fe&&On in Ye?[new xt(Zt.key,Ln,"stop domain values must be unique")]:(Ye[On]=!0,[])):[new xt(Zt.key,Ln,"integer expected, found "+On)]}}function il(k){var F=("property"===k.expressionContext?Tu:Es)(Ot(k.value),k.valueSpec);if("error"===F.result)return F.value.map(function(de){return new xt(""+k.key+de.key,k.value,de.message)});var K=F.value.expression||F.value._styleExpression.expression;if("property"===k.expressionContext&&"text-font"===k.propertyKey&&!K.outputDefined())return[new xt(k.key,k.value,'Invalid data expression for "'+k.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===k.expressionContext&&"layout"===k.propertyType&&!dr(K))return[new xt(k.key,k.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===k.expressionContext&&!dr(K))return[new xt(k.key,k.value,'"feature-state" data expressions are not supported with filters.')];if(k.expressionContext&&0===k.expressionContext.indexOf("cluster")){if(!Dr(K,["zoom","feature-state"]))return[new xt(k.key,k.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===k.expressionContext&&!vr(K))return[new xt(k.key,k.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function zl(k){var F=k.key,K=k.value,de=k.valueSpec,De=[];return Array.isArray(de.values)?-1===de.values.indexOf(yt(K))&&De.push(new xt(F,K,"expected one of ["+de.values.join(", ")+"], "+JSON.stringify(K)+" found")):-1===Object.keys(de.values).indexOf(yt(K))&&De.push(new xt(F,K,"expected one of ["+Object.keys(de.values).join(", ")+"], "+JSON.stringify(K)+" found")),De}function kl(k){if(!0===k||!1===k)return!0;if(!Array.isArray(k)||0===k.length)return!1;switch(k[0]){case"has":return k.length>=2&&"$id"!==k[1]&&"$type"!==k[1];case"in":return k.length>=3&&("string"!=typeof k[1]||Array.isArray(k[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==k.length||Array.isArray(k[1])||Array.isArray(k[2]);case"any":case"all":for(var F=0,K=k.slice(1);F<K.length;F+=1){var de=K[F];if(!kl(de)&&"boolean"!=typeof de)return!1}return!0;default:return!0}}Xl.deserialize=function(k){return new Xl(k._parameters,k._specification)},Xl.serialize=function(k){return{_parameters:k._parameters,_specification:k._specification}};var Sl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Kl(k){if(null==k)return{filter:function(){return!0},needGeometry:!1};kl(k)||(k=ol(k));var F=Es(k,Sl);if("error"===F.result)throw new Error(F.value.map(function(K){return K.key+": "+K.message}).join(", "));return{filter:function(K,de,De){return F.value.evaluate(K,de,{},De)},needGeometry:Ui(k)}}function Jl(k,F){return k<F?-1:k>F?1:0}function Ui(k){if(!Array.isArray(k))return!1;if("within"===k[0])return!0;for(var F=1;F<k.length;F++)if(Ui(k[F]))return!0;return!1}function ol(k){if(!k)return!0;var F,K=k[0];return k.length<=1?"any"!==K:"=="===K?la(k[1],k[2],"=="):"!="===K?Fi(la(k[1],k[2],"==")):"<"===K||">"===K||"<="===K||">="===K?la(k[1],k[2],K):"any"===K?(F=k.slice(1),["any"].concat(F.map(ol))):"all"===K?["all"].concat(k.slice(1).map(ol)):"none"===K?["all"].concat(k.slice(1).map(ol).map(Fi)):"in"===K?Wa(k[1],k.slice(2)):"!in"===K?Fi(Wa(k[1],k.slice(2))):"has"===K?Ei(k[1]):"!has"===K?Fi(Ei(k[1])):"within"!==K||k}function la(k,F,K){switch(k){case"$type":return["filter-type-"+K,F];case"$id":return["filter-id-"+K,F];default:return["filter-"+K,k,F]}}function Wa(k,F){if(0===F.length)return!1;switch(k){case"$type":return["filter-type-in",["literal",F]];case"$id":return["filter-id-in",["literal",F]];default:return F.length>200&&!F.some(function(K){return typeof K!=typeof F[0]})?["filter-in-large",k,["literal",F.sort(Jl)]]:["filter-in-small",k,["literal",F]]}}function Ei(k){switch(k){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",k]}}function Fi(k){return["!",k]}function Ya(k){return kl(Ot(k.value))?il(At({},k,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Za(k)}function Za(k){var F=k.value,K=k.key;if("array"!==Xr(F))return[new xt(K,F,"array expected, "+Xr(F)+" found")];var de,De=k.styleSpec,Fe=[];if(F.length<1)return[new xt(K,F,"filter array must have at least 1 element")];switch(Fe=Fe.concat(zl({key:K+"[0]",value:F[0],valueSpec:De.filter_operator,style:k.style,styleSpec:k.styleSpec})),yt(F[0])){case"<":case"<=":case">":case">=":F.length>=2&&"$type"===yt(F[1])&&Fe.push(new xt(K,F,'"$type" cannot be use with operator "'+F[0]+'"'));case"==":case"!=":3!==F.length&&Fe.push(new xt(K,F,'filter array for operator "'+F[0]+'" must have 3 elements'));case"in":case"!in":F.length>=2&&"string"!==(de=Xr(F[1]))&&Fe.push(new xt(K+"[1]",F[1],"string expected, "+de+" found"));for(var Ye=2;Ye<F.length;Ye++)de=Xr(F[Ye]),"$type"===yt(F[1])?Fe=Fe.concat(zl({key:K+"["+Ye+"]",value:F[Ye],valueSpec:De.geometry_type,style:k.style,styleSpec:k.styleSpec})):"string"!==de&&"number"!==de&&"boolean"!==de&&Fe.push(new xt(K+"["+Ye+"]",F[Ye],"string, number, or boolean expected, "+de+" found"));break;case"any":case"all":case"none":for(var it=1;it<F.length;it++)Fe=Fe.concat(Za({key:K+"["+it+"]",value:F[it],style:k.style,styleSpec:k.styleSpec}));break;case"has":case"!has":de=Xr(F[1]),2!==F.length?Fe.push(new xt(K,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"string"!==de&&Fe.push(new xt(K+"[1]",F[1],"string expected, "+de+" found"));break;case"within":de=Xr(F[1]),2!==F.length?Fe.push(new xt(K,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"object"!==de&&Fe.push(new xt(K+"[1]",F[1],"object expected, "+de+" found"))}return Fe}function Ql(k,F){var K=k.key,de=k.style,De=k.styleSpec,Fe=k.value,Ye=k.objectKey,it=De[F+"_"+k.layerType];if(!it)return[];var mt=Ye.match(/^(.*)-transition$/);if("paint"===F&&mt&&it[mt[1]]&&it[mt[1]].transition)return Xa({key:K,value:Fe,valueSpec:De.transition,style:de,styleSpec:De});var Et,Dt=k.valueSpec||it[Ye];if(!Dt)return[new xt(K,Fe,'unknown property "'+Ye+'"')];if("string"===Xr(Fe)&&ns(Dt)&&!Dt.tokens&&(Et=/^{([^}]+)}$/.exec(Fe)))return[new xt(K,Fe,'"'+Ye+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Et[1])+" }`.")];var qt=[];return"symbol"===k.layerType&&("text-field"===Ye&&de&&!de.glyphs&&qt.push(new xt(K,Fe,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ye&&Gs(Ot(Fe))&&"identity"===yt(Fe.type)&&qt.push(new xt(K,Fe,'"text-font" does not support identity functions'))),qt.concat(Xa({key:k.key,value:Fe,valueSpec:Dt,style:de,styleSpec:De,expressionContext:"property",propertyType:F,propertyKey:Ye}))}function eu(k){return Ql(k,"paint")}function ma(k){return Ql(k,"layout")}function ra(k){var F=[],K=k.value,de=k.key,De=k.style,Fe=k.styleSpec;K.type||K.ref||F.push(new xt(de,K,'either "type" or "ref" is required'));var Ye,it=yt(K.type),mt=yt(K.ref);if(K.id)for(var Et=yt(K.id),Dt=0;Dt<k.arrayIndex;Dt++){var qt=De.layers[Dt];yt(qt.id)===Et&&F.push(new xt(de,K.id,'duplicate layer id "'+K.id+'", previously used at line '+qt.id.__line__))}if("ref"in K)["type","source","source-layer","filter","layout"].forEach(function(gn){gn in K&&F.push(new xt(de,K[gn],'"'+gn+'" is prohibited for ref layers'))}),De.layers.forEach(function(gn){yt(gn.id)===mt&&(Ye=gn)}),Ye?Ye.ref?F.push(new xt(de,K.ref,"ref cannot reference another ref layer")):it=yt(Ye.type):F.push(new xt(de,K.ref,'ref layer "'+mt+'" not found'));else if("background"!==it)if(K.source){var Qt=De.sources&&De.sources[K.source],Zt=Qt&&yt(Qt.type);Qt?"vector"===Zt&&"raster"===it?F.push(new xt(de,K.source,'layer "'+K.id+'" requires a raster source')):"raster"===Zt&&"raster"!==it?F.push(new xt(de,K.source,'layer "'+K.id+'" requires a vector source')):"vector"!==Zt||K["source-layer"]?"raster-dem"===Zt&&"hillshade"!==it?F.push(new xt(de,K.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==it||!K.paint||!K.paint["line-gradient"]||"geojson"===Zt&&Qt.lineMetrics||F.push(new xt(de,K,'layer "'+K.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):F.push(new xt(de,K,'layer "'+K.id+'" must specify a "source-layer"')):F.push(new xt(de,K.source,'source "'+K.source+'" not found'))}else F.push(new xt(de,K,'missing required property "source"'));return F=F.concat(Ga({key:de,value:K,valueSpec:Fe.layer,style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Xa({key:de+".type",value:K.type,valueSpec:Fe.layer.type,style:k.style,styleSpec:k.styleSpec,object:K,objectKey:"type"})},filter:Ya,layout:function(gn){return Ga({layer:K,key:gn.key,value:gn.value,style:gn.style,styleSpec:gn.styleSpec,objectElementValidators:{"*":function(bn){return ma(At({layerType:it},bn))}}})},paint:function(gn){return Ga({layer:K,key:gn.key,value:gn.value,style:gn.style,styleSpec:gn.styleSpec,objectElementValidators:{"*":function(bn){return eu(At({layerType:it},bn))}}})}}}))}function fi(k){var F=k.value,K=k.key,de=Xr(F);return"string"!==de?[new xt(K,F,"string expected, "+de+" found")]:[]}var To={promoteId:function(k){var F=k.key,K=k.value;if("string"===Xr(K))return fi({key:F,value:K});var de=[];for(var De in K)de.push.apply(de,fi({key:F+"."+De,value:K[De]}));return de}};function Fo(k){var F=k.value,K=k.key,de=k.styleSpec,De=k.style;if(!F.type)return[new xt(K,F,'"type" is required')];var Fe,Ye=yt(F.type);switch(Ye){case"vector":case"raster":case"raster-dem":return Ga({key:K,value:F,valueSpec:de["source_"+Ye.replace("-","_")],style:k.style,styleSpec:de,objectElementValidators:To});case"geojson":if(Fe=Ga({key:K,value:F,valueSpec:de.source_geojson,style:De,styleSpec:de,objectElementValidators:To}),F.cluster)for(var it in F.clusterProperties){var mt=F.clusterProperties[it],Et=mt[0],qt="string"==typeof Et?[Et,["accumulated"],["get",it]]:Et;Fe.push.apply(Fe,il({key:K+"."+it+".map",value:mt[1],expressionContext:"cluster-map"})),Fe.push.apply(Fe,il({key:K+"."+it+".reduce",value:qt,expressionContext:"cluster-reduce"}))}return Fe;case"video":return Ga({key:K,value:F,valueSpec:de.source_video,style:De,styleSpec:de});case"image":return Ga({key:K,value:F,valueSpec:de.source_image,style:De,styleSpec:de});case"canvas":return[new xt(K,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zl({key:K+".type",value:F.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:De,styleSpec:de})}}function Wo(k){var F=k.value,K=k.styleSpec,de=K.light,De=k.style,Fe=[],Ye=Xr(F);if(void 0===F)return Fe;if("object"!==Ye)return Fe.concat([new xt("light",F,"object expected, "+Ye+" found")]);for(var it in F){var mt=it.match(/^(.*)-transition$/);Fe=Fe.concat(mt&&de[mt[1]]&&de[mt[1]].transition?Xa({key:it,value:F[it],valueSpec:K.transition,style:De,styleSpec:K}):de[it]?Xa({key:it,value:F[it],valueSpec:de[it],style:De,styleSpec:K}):[new xt(it,F[it],'unknown property "'+it+'"')])}return Fe}var ua={"*":function(){return[]},array:fu,boolean:function(k){var F=k.value,K=k.key,de=Xr(F);return"boolean"!==de?[new xt(K,F,"boolean expected, "+de+" found")]:[]},number:rs,color:function(k){var F=k.key,K=k.value,de=Xr(K);return"string"!==de?[new xt(F,K,"color expected, "+de+" found")]:null===Yn(K)?[new xt(F,K,'color expected, "'+K+'" found')]:[]},constants:wt,enum:zl,filter:Ya,function:Nl,layer:ra,object:Ga,source:Fo,light:Wo,string:fi,formatted:function(k){return 0===fi(k).length?[]:il(k)},resolvedImage:function(k){return 0===fi(k).length?[]:il(k)}};function Xa(k){var F=k.value,K=k.valueSpec,de=k.styleSpec;return K.expression&&Gs(yt(F))?Nl(k):K.expression&&rl(Ot(F))?il(k):K.type&&ua[K.type]?ua[K.type](k):Ga(At({},k,{valueSpec:K.type?de[K.type]:K}))}function jo(k){var F=k.value,K=k.key,de=fi(k);return de.length||(-1===F.indexOf("{fontstack}")&&de.push(new xt(K,F,'"glyphs" url must include a "{fontstack}" token')),-1===F.indexOf("{range}")&&de.push(new xt(K,F,'"glyphs" url must include a "{range}" token'))),de}function No(k,F){void 0===F&&(F=et);var K=[];return K=K.concat(Xa({key:"",value:k,valueSpec:F.$root,styleSpec:F,style:k,objectElementValidators:{glyphs:jo,"*":function(){return[]}}})),k.constants&&(K=K.concat(wt({key:"constants",value:k.constants,style:k,styleSpec:F}))),Xi(K)}function Xi(k){return[].concat(k).sort(function(F,K){return F.line-K.line})}function Ko(k){return function(){for(var F=[],K=arguments.length;K--;)F[K]=arguments[K];return Xi(k.apply(this,F))}}No.source=Ko(Fo),No.light=Ko(Wo),No.layer=Ko(ra),No.filter=Ko(Ya),No.paintProperty=Ko(eu),No.layoutProperty=Ko(ma);var Vi=No,jr=Vi.light,ri=Vi.paintProperty,Hi=Vi.layoutProperty;function vo(k,F){var K=!1;if(F&&F.length)for(var de=0,De=F;de<De.length;de+=1)k.fire(new qe(new Error(De[de].message))),K=!0;return K}var ds=ca,Mo=3;function ca(k,F,K){var de=this.cells=[];if(k instanceof ArrayBuffer){this.arrayBuffer=k;var De=new Int32Array(this.arrayBuffer);k=De[0],this.d=(F=De[1])+2*(K=De[2]);for(var Fe=0;Fe<this.d*this.d;Fe++){var Ye=De[Mo+Fe],it=De[Mo+Fe+1];de.push(Ye===it?null:De.subarray(Ye,it))}var Et=De[Mo+de.length+1];this.keys=De.subarray(De[Mo+de.length],Et),this.bboxes=De.subarray(Et),this.insert=this._insertReadonly}else{this.d=F+2*K;for(var Dt=0;Dt<this.d*this.d;Dt++)de.push([]);this.keys=[],this.bboxes=[]}this.n=F,this.extent=k,this.padding=K,this.scale=F/k,this.uid=0;var qt=K/F*k;this.min=-qt,this.max=k+qt}ca.prototype.insert=function(k,F,K,de,De){this._forEachCell(F,K,de,De,this._insertCell,this.uid++),this.keys.push(k),this.bboxes.push(F),this.bboxes.push(K),this.bboxes.push(de),this.bboxes.push(De)},ca.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ca.prototype._insertCell=function(k,F,K,de,De,Fe){this.cells[De].push(Fe)},ca.prototype.query=function(k,F,K,de,De){var Fe=this.min,Ye=this.max;if(k<=Fe&&F<=Fe&&Ye<=K&&Ye<=de&&!De)return Array.prototype.slice.call(this.keys);var it=[];return this._forEachCell(k,F,K,de,this._queryCell,it,{},De),it},ca.prototype._queryCell=function(k,F,K,de,De,Fe,Ye,it){var mt=this.cells[De];if(null!==mt)for(var Et=this.keys,Dt=this.bboxes,qt=0;qt<mt.length;qt++){var Qt=mt[qt];if(void 0===Ye[Qt]){var Zt=4*Qt;(it?it(Dt[Zt+0],Dt[Zt+1],Dt[Zt+2],Dt[Zt+3]):k<=Dt[Zt+2]&&F<=Dt[Zt+3]&&K>=Dt[Zt+0]&&de>=Dt[Zt+1])?(Ye[Qt]=!0,Fe.push(Et[Qt])):Ye[Qt]=!1}}},ca.prototype._forEachCell=function(k,F,K,de,De,Fe,Ye,it){for(var mt=this._convertToCellCoord(k),Et=this._convertToCellCoord(F),Dt=this._convertToCellCoord(K),qt=this._convertToCellCoord(de),Qt=mt;Qt<=Dt;Qt++)for(var Zt=Et;Zt<=qt;Zt++){var gn=this.d*Zt+Qt;if((!it||it(this._convertFromCellCoord(Qt),this._convertFromCellCoord(Zt),this._convertFromCellCoord(Qt+1),this._convertFromCellCoord(Zt+1)))&&De.call(this,k,F,K,de,gn,Fe,Ye,it))return}},ca.prototype._convertFromCellCoord=function(k){return(k-this.padding)/this.scale},ca.prototype._convertToCellCoord=function(k){return Math.max(0,Math.min(this.d-1,Math.floor(k*this.scale)+this.padding))},ca.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var k=this.cells,F=Mo+this.cells.length+1+1,K=0,de=0;de<this.cells.length;de++)K+=this.cells[de].length;var De=new Int32Array(F+K+this.keys.length+this.bboxes.length);De[0]=this.extent,De[1]=this.n,De[2]=this.padding;for(var Fe=F,Ye=0;Ye<k.length;Ye++){var it=k[Ye];De[Mo+Ye]=Fe,De.set(it,Fe),Fe+=it.length}return De[Mo+k.length]=Fe,De.set(this.keys,Fe),De[Mo+k.length+1]=Fe+=this.keys.length,De.set(this.bboxes,Fe),Fe+=this.bboxes.length,De.buffer};var Ni=n.ImageData,Ci=n.ImageBitmap,va={};function Mr(k,F,K){void 0===K&&(K={}),Object.defineProperty(F,"_classRegistryKey",{value:k,writeable:!1}),va[k]={klass:F,omit:K.omit||[],shallow:K.shallow||[]}}for(var Ws in Mr("Object",Object),ds.serialize=function(k,F){var K=k.toArrayBuffer();return F&&F.push(K),{buffer:K}},ds.deserialize=function(k){return new ds(k.buffer)},Mr("Grid",ds),Mr("Color",jn),Mr("Error",Error),Mr("ResolvedImage",nr),Mr("StylePropertyFunction",Xl),Mr("StyleExpression",Ss,{omit:["_evaluator"]}),Mr("ZoomDependentExpression",Al),Mr("ZoomConstantExpression",ka),Mr("CompoundExpression",An,{omit:["_evaluate"]}),Vs)Vs[Ws]._classRegistryKey||Mr("Expression_"+Ws,Vs[Ws]);function hu(k){return k&&typeof ArrayBuffer<"u"&&(k instanceof ArrayBuffer||k.constructor&&"ArrayBuffer"===k.constructor.name)}function $a(k){return Ci&&k instanceof Ci}function no(k,F){if(null==k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||k instanceof Boolean||k instanceof Number||k instanceof String||k instanceof Date||k instanceof RegExp)return k;if(hu(k)||$a(k))return F&&F.push(k),k;if(ArrayBuffer.isView(k)){var K=k;return F&&F.push(K.buffer),K}if(k instanceof Ni)return F&&F.push(k.data.buffer),k;if(Array.isArray(k)){for(var de=[],De=0,Fe=k;De<Fe.length;De+=1)de.push(no(Fe[De],F));return de}if("object"==typeof k){var it=k.constructor,mt=it._classRegistryKey;if(!mt)throw new Error("can't serialize object of unregistered class");var Et=it.serialize?it.serialize(k,F):{};if(!it.serialize){for(var Dt in k)if(k.hasOwnProperty(Dt)&&!(va[mt].omit.indexOf(Dt)>=0)){var qt=k[Dt];Et[Dt]=va[mt].shallow.indexOf(Dt)>=0?qt:no(qt,F)}k instanceof Error&&(Et.message=k.message)}if(Et.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==mt&&(Et.$name=mt),Et}throw new Error("can't serialize object of type "+typeof k)}function ps(k){if(null==k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||k instanceof Boolean||k instanceof Number||k instanceof String||k instanceof Date||k instanceof RegExp||hu(k)||$a(k)||ArrayBuffer.isView(k)||k instanceof Ni)return k;if(Array.isArray(k))return k.map(ps);if("object"==typeof k){var F=k.$name||"Object",K=va[F].klass;if(!K)throw new Error("can't deserialize unregistered class "+F);if(K.deserialize)return K.deserialize(k);for(var de=Object.create(K.prototype),De=0,Fe=Object.keys(k);De<Fe.length;De+=1){var Ye=Fe[De];if("$name"!==Ye){var it=k[Ye];de[Ye]=va[F].shallow.indexOf(Ye)>=0?it:ps(it)}}return de}throw new Error("can't deserialize object of type "+typeof k)}var gs=function(){this.first=!0};gs.prototype.update=function(k,F){var K=Math.floor(k);return this.first?(this.first=!1,this.lastIntegerZoom=K,this.lastIntegerZoomTime=0,this.lastZoom=k,this.lastFloorZoom=K,!0):(this.lastFloorZoom>K?(this.lastIntegerZoom=K+1,this.lastIntegerZoomTime=F):this.lastFloorZoom<K&&(this.lastIntegerZoom=K,this.lastIntegerZoomTime=F),k!==this.lastZoom&&(this.lastZoom=k,this.lastFloorZoom=K,!0))};var Pr={"Latin-1 Supplement":function(k){return k>=128&&k<=255},Arabic:function(k){return k>=1536&&k<=1791},"Arabic Supplement":function(k){return k>=1872&&k<=1919},"Arabic Extended-A":function(k){return k>=2208&&k<=2303},"Hangul Jamo":function(k){return k>=4352&&k<=4607},"Unified Canadian Aboriginal Syllabics":function(k){return k>=5120&&k<=5759},Khmer:function(k){return k>=6016&&k<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(k){return k>=6320&&k<=6399},"General Punctuation":function(k){return k>=8192&&k<=8303},"Letterlike Symbols":function(k){return k>=8448&&k<=8527},"Number Forms":function(k){return k>=8528&&k<=8591},"Miscellaneous Technical":function(k){return k>=8960&&k<=9215},"Control Pictures":function(k){return k>=9216&&k<=9279},"Optical Character Recognition":function(k){return k>=9280&&k<=9311},"Enclosed Alphanumerics":function(k){return k>=9312&&k<=9471},"Geometric Shapes":function(k){return k>=9632&&k<=9727},"Miscellaneous Symbols":function(k){return k>=9728&&k<=9983},"Miscellaneous Symbols and Arrows":function(k){return k>=11008&&k<=11263},"CJK Radicals Supplement":function(k){return k>=11904&&k<=12031},"Kangxi Radicals":function(k){return k>=12032&&k<=12255},"Ideographic Description Characters":function(k){return k>=12272&&k<=12287},"CJK Symbols and Punctuation":function(k){return k>=12288&&k<=12351},Hiragana:function(k){return k>=12352&&k<=12447},Katakana:function(k){return k>=12448&&k<=12543},Bopomofo:function(k){return k>=12544&&k<=12591},"Hangul Compatibility Jamo":function(k){return k>=12592&&k<=12687},Kanbun:function(k){return k>=12688&&k<=12703},"Bopomofo Extended":function(k){return k>=12704&&k<=12735},"CJK Strokes":function(k){return k>=12736&&k<=12783},"Katakana Phonetic Extensions":function(k){return k>=12784&&k<=12799},"Enclosed CJK Letters and Months":function(k){return k>=12800&&k<=13055},"CJK Compatibility":function(k){return k>=13056&&k<=13311},"CJK Unified Ideographs Extension A":function(k){return k>=13312&&k<=19903},"Yijing Hexagram Symbols":function(k){return k>=19904&&k<=19967},"CJK Unified Ideographs":function(k){return k>=19968&&k<=40959},"Yi Syllables":function(k){return k>=40960&&k<=42127},"Yi Radicals":function(k){return k>=42128&&k<=42191},"Hangul Jamo Extended-A":function(k){return k>=43360&&k<=43391},"Hangul Syllables":function(k){return k>=44032&&k<=55215},"Hangul Jamo Extended-B":function(k){return k>=55216&&k<=55295},"Private Use Area":function(k){return k>=57344&&k<=63743},"CJK Compatibility Ideographs":function(k){return k>=63744&&k<=64255},"Arabic Presentation Forms-A":function(k){return k>=64336&&k<=65023},"Vertical Forms":function(k){return k>=65040&&k<=65055},"CJK Compatibility Forms":function(k){return k>=65072&&k<=65103},"Small Form Variants":function(k){return k>=65104&&k<=65135},"Arabic Presentation Forms-B":function(k){return k>=65136&&k<=65279},"Halfwidth and Fullwidth Forms":function(k){return k>=65280&&k<=65519}};function Ys(k){for(var F=0,K=k;F<K.length;F+=1)if(Cs(K[F].charCodeAt(0)))return!0;return!1}function Cs(k){return!(746!==k&&747!==k&&(k<4352||!(Pr["Bopomofo Extended"](k)||Pr.Bopomofo(k)||Pr["CJK Compatibility Forms"](k)&&!(k>=65097&&k<=65103)||Pr["CJK Compatibility Ideographs"](k)||Pr["CJK Compatibility"](k)||Pr["CJK Radicals Supplement"](k)||Pr["CJK Strokes"](k)||!(!Pr["CJK Symbols and Punctuation"](k)||k>=12296&&k<=12305||k>=12308&&k<=12319||12336===k)||Pr["CJK Unified Ideographs Extension A"](k)||Pr["CJK Unified Ideographs"](k)||Pr["Enclosed CJK Letters and Months"](k)||Pr["Hangul Compatibility Jamo"](k)||Pr["Hangul Jamo Extended-A"](k)||Pr["Hangul Jamo Extended-B"](k)||Pr["Hangul Jamo"](k)||Pr["Hangul Syllables"](k)||Pr.Hiragana(k)||Pr["Ideographic Description Characters"](k)||Pr.Kanbun(k)||Pr["Kangxi Radicals"](k)||Pr["Katakana Phonetic Extensions"](k)||Pr.Katakana(k)&&12540!==k||!(!Pr["Halfwidth and Fullwidth Forms"](k)||65288===k||65289===k||65293===k||k>=65306&&k<=65310||65339===k||65341===k||65343===k||k>=65371&&k<=65503||65507===k||k>=65512&&k<=65519)||!(!Pr["Small Form Variants"](k)||k>=65112&&k<=65118||k>=65123&&k<=65126)||Pr["Unified Canadian Aboriginal Syllabics"](k)||Pr["Unified Canadian Aboriginal Syllabics Extended"](k)||Pr["Vertical Forms"](k)||Pr["Yijing Hexagram Symbols"](k)||Pr["Yi Syllables"](k)||Pr["Yi Radicals"](k))))}function lo(k){return!(Cs(k)||(F=k,Pr["Latin-1 Supplement"](F)&&(167===F||169===F||174===F||177===F||188===F||189===F||190===F||215===F||247===F)||Pr["General Punctuation"](F)&&(8214===F||8224===F||8225===F||8240===F||8241===F||8251===F||8252===F||8258===F||8263===F||8264===F||8265===F||8273===F)||Pr["Letterlike Symbols"](F)||Pr["Number Forms"](F)||Pr["Miscellaneous Technical"](F)&&(F>=8960&&F<=8967||F>=8972&&F<=8991||F>=8996&&F<=9e3||9003===F||F>=9085&&F<=9114||F>=9150&&F<=9165||9167===F||F>=9169&&F<=9179||F>=9186&&F<=9215)||Pr["Control Pictures"](F)&&9251!==F||Pr["Optical Character Recognition"](F)||Pr["Enclosed Alphanumerics"](F)||Pr["Geometric Shapes"](F)||Pr["Miscellaneous Symbols"](F)&&!(F>=9754&&F<=9759)||Pr["Miscellaneous Symbols and Arrows"](F)&&(F>=11026&&F<=11055||F>=11088&&F<=11097||F>=11192&&F<=11243)||Pr["CJK Symbols and Punctuation"](F)||Pr.Katakana(F)||Pr["Private Use Area"](F)||Pr["CJK Compatibility Forms"](F)||Pr["Small Form Variants"](F)||Pr["Halfwidth and Fullwidth Forms"](F)||8734===F||8756===F||8757===F||F>=9984&&F<=10087||F>=10102&&F<=10131||65532===F||65533===F));var F}function ya(k){return Pr.Arabic(k)||Pr["Arabic Supplement"](k)||Pr["Arabic Extended-A"](k)||Pr["Arabic Presentation Forms-A"](k)||Pr["Arabic Presentation Forms-B"](k)}function Sa(k){return k>=1424&&k<=2303||Pr["Arabic Presentation Forms-A"](k)||Pr["Arabic Presentation Forms-B"](k)}function xa(k,F){return!(!F&&Sa(k)||k>=2304&&k<=3583||k>=3840&&k<=4255||Pr.Khmer(k))}function ii(k){for(var F=0,K=k;F<K.length;F+=1)if(Sa(K[F].charCodeAt(0)))return!0;return!1}var Zs="deferred",Pa="loading",Ds="loaded",ms=null,mi="unavailable",Do=null,qi=function(k){k&&"string"==typeof k&&k.indexOf("NetworkError")>-1&&(mi="error"),ms&&ms(k)};function Xs(){ro.fire(new He("pluginStateChange",{pluginStatus:mi,pluginURL:Do}))}var ro=new ft,Yo=function(){return mi},al=function(){if(mi!==Zs||!Do)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");mi=Pa,Xs(),Do&&Ht({url:Do},function(k){k?qi(k):(mi=Ds,Xs())})},Uo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return mi===Ds||null!=Uo.applyArabicShaping},isLoading:function(){return mi===Pa},setState:function(k){mi=k.pluginStatus,Do=k.pluginURL},isParsed:function(){return null!=Uo.applyArabicShaping&&null!=Uo.processBidirectionalText&&null!=Uo.processStyledBidirectionalText},getPluginURL:function(){return Do}},yi=function(k,F){this.zoom=k,F?(this.now=F.now,this.fadeDuration=F.fadeDuration,this.zoomHistory=F.zoomHistory,this.transition=F.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new gs,this.transition={})};yi.prototype.isSupportedScript=function(k){return function(F,K){for(var de=0,De=F;de<De.length;de+=1)if(!xa(De[de].charCodeAt(0),K))return!1;return!0}(k,Uo.isLoaded())},yi.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},yi.prototype.getCrossfadeParameters=function(){var k=this.zoom,F=k-Math.floor(k),K=this.crossFadingFactor();return k>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:F+(1-F)*K}:{fromScale:.5,toScale:1,t:1-(1-K)*F}};var Zo=function(k,F){this.property=k,this.value=F,this.expression=function(K,de){if(Gs(K))return new Xl(K,de);if(rl(K)){var De=Tu(K,de);if("error"===De.result)throw new Error(De.value.map(function(Ye){return Ye.key+": "+Ye.message}).join(", "));return De.value}var Fe=K;return"string"==typeof K&&"color"===de.type&&(Fe=jn.parse(K)),{kind:"constant",evaluate:function(){return Fe}}}(void 0===F?k.specification.default:F,k.specification)};Zo.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Zo.prototype.possiblyEvaluate=function(k,F,K){return this.property.possiblyEvaluate(this,k,F,K)};var $s=function(k){this.property=k,this.value=new Zo(k,void 0)};$s.prototype.transitioned=function(k,F){return new Bl(this.property,this.value,F,c({},k.transition,this.transition),k.now)},$s.prototype.untransitioned=function(){return new Bl(this.property,this.value,null,{},0)};var vs=function(k){this._properties=k,this._values=Object.create(k.defaultTransitionablePropertyValues)};vs.prototype.getValue=function(k){return C(this._values[k].value.value)},vs.prototype.setValue=function(k,F){this._values.hasOwnProperty(k)||(this._values[k]=new $s(this._values[k].property)),this._values[k].value=new Zo(this._values[k].property,null===F?void 0:C(F))},vs.prototype.getTransition=function(k){return C(this._values[k].transition)},vs.prototype.setTransition=function(k,F){this._values.hasOwnProperty(k)||(this._values[k]=new $s(this._values[k].property)),this._values[k].transition=C(F)||void 0},vs.prototype.serialize=function(){for(var k={},F=0,K=Object.keys(this._values);F<K.length;F+=1){var de=K[F],De=this.getValue(de);void 0!==De&&(k[de]=De);var Fe=this.getTransition(de);void 0!==Fe&&(k[de+"-transition"]=Fe)}return k},vs.prototype.transitioned=function(k,F){for(var K=new tu(this._properties),de=0,De=Object.keys(this._values);de<De.length;de+=1){var Fe=De[de];K._values[Fe]=this._values[Fe].transitioned(k,F._values[Fe])}return K},vs.prototype.untransitioned=function(){for(var k=new tu(this._properties),F=0,K=Object.keys(this._values);F<K.length;F+=1){var de=K[F];k._values[de]=this._values[de].untransitioned()}return k};var Bl=function(k,F,K,de,De){this.property=k,this.value=F,this.begin=De+de.delay||0,this.end=this.begin+de.duration||0,k.specification.transition&&(de.delay||de.duration)&&(this.prior=K)};Bl.prototype.possiblyEvaluate=function(k,F,K){var de=k.now||0,De=this.value.possiblyEvaluate(k,F,K),Fe=this.prior;if(Fe){if(de>this.end)return this.prior=null,De;if(this.value.isDataDriven())return this.prior=null,De;if(de<this.begin)return Fe.possiblyEvaluate(k,F,K);var Ye=(de-this.begin)/(this.end-this.begin);return this.property.interpolate(Fe.possiblyEvaluate(k,F,K),De,function(it){if(it<=0)return 0;if(it>=1)return 1;var mt=it*it,Et=mt*it;return 4*(it<.5?Et:3*(it-mt)+Et-.75)}(Ye))}return De};var tu=function(k){this._properties=k,this._values=Object.create(k.defaultTransitioningPropertyValues)};tu.prototype.possiblyEvaluate=function(k,F,K){for(var de=new jl(this._properties),De=0,Fe=Object.keys(this._values);De<Fe.length;De+=1){var Ye=Fe[De];de._values[Ye]=this._values[Ye].possiblyEvaluate(k,F,K)}return de},tu.prototype.hasTransition=function(){for(var k=0,F=Object.keys(this._values);k<F.length;k+=1)if(this._values[F[k]].prior)return!0;return!1};var ys=function(k){this._properties=k,this._values=Object.create(k.defaultPropertyValues)};ys.prototype.getValue=function(k){return C(this._values[k].value)},ys.prototype.setValue=function(k,F){this._values[k]=new Zo(this._values[k].property,null===F?void 0:C(F))},ys.prototype.serialize=function(){for(var k={},F=0,K=Object.keys(this._values);F<K.length;F+=1){var de=K[F],De=this.getValue(de);void 0!==De&&(k[de]=De)}return k},ys.prototype.possiblyEvaluate=function(k,F,K){for(var de=new jl(this._properties),De=0,Fe=Object.keys(this._values);De<Fe.length;De+=1){var Ye=Fe[De];de._values[Ye]=this._values[Ye].possiblyEvaluate(k,F,K)}return de};var io=function(k,F,K){this.property=k,this.value=F,this.parameters=K};io.prototype.isConstant=function(){return"constant"===this.value.kind},io.prototype.constantOr=function(k){return"constant"===this.value.kind?this.value.value:k},io.prototype.evaluate=function(k,F,K,de){return this.property.evaluate(this.value,this.parameters,k,F,K,de)};var jl=function(k){this._properties=k,this._values=Object.create(k.defaultPossiblyEvaluatedValues)};jl.prototype.get=function(k){return this._values[k]};var Zr=function(k){this.specification=k};Zr.prototype.possiblyEvaluate=function(k,F){return k.expression.evaluate(F)},Zr.prototype.interpolate=function(k,F,K){var de=to[this.specification.type];return de?de(k,F,K):k};var ei=function(k,F){this.specification=k,this.overrides=F};ei.prototype.possiblyEvaluate=function(k,F,K,de){return new io(this,"constant"===k.expression.kind||"camera"===k.expression.kind?{kind:"constant",value:k.expression.evaluate(F,null,{},K,de)}:k.expression,F)},ei.prototype.interpolate=function(k,F,K){if("constant"!==k.value.kind||"constant"!==F.value.kind)return k;if(void 0===k.value.value||void 0===F.value.value)return new io(this,{kind:"constant",value:void 0},k.parameters);var de=to[this.specification.type];return de?new io(this,{kind:"constant",value:de(k.value.value,F.value.value,K)},k.parameters):k},ei.prototype.evaluate=function(k,F,K,de,De,Fe){return"constant"===k.kind?k.value:k.evaluate(F,K,de,De,Fe)};var is=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(K,de,De,Fe){if(void 0===K.value)return new io(this,{kind:"constant",value:void 0},de);if("constant"===K.expression.kind){var Ye=K.expression.evaluate(de,null,{},De,Fe),it="resolvedImage"===K.property.specification.type&&"string"!=typeof Ye?Ye.name:Ye,mt=this._calculate(it,it,it,de);return new io(this,{kind:"constant",value:mt},de)}if("camera"===K.expression.kind){var Et=this._calculate(K.expression.evaluate({zoom:de.zoom-1}),K.expression.evaluate({zoom:de.zoom}),K.expression.evaluate({zoom:de.zoom+1}),de);return new io(this,{kind:"constant",value:Et},de)}return new io(this,K.expression,de)},F.prototype.evaluate=function(K,de,De,Fe,Ye,it){if("source"===K.kind){var mt=K.evaluate(de,De,Fe,Ye,it);return this._calculate(mt,mt,mt,de)}return"composite"===K.kind?this._calculate(K.evaluate({zoom:Math.floor(de.zoom)-1},De,Fe),K.evaluate({zoom:Math.floor(de.zoom)},De,Fe),K.evaluate({zoom:Math.floor(de.zoom)+1},De,Fe),de):K.value},F.prototype._calculate=function(K,de,De,Fe){return Fe.zoom>Fe.zoomHistory.lastIntegerZoom?{from:K,to:de}:{from:De,to:de}},F.prototype.interpolate=function(K){return K},F}(ei),Ks=function(k){this.specification=k};Ks.prototype.possiblyEvaluate=function(k,F,K,de){if(void 0!==k.value){if("constant"===k.expression.kind){var De=k.expression.evaluate(F,null,{},K,de);return this._calculate(De,De,De,F)}return this._calculate(k.expression.evaluate(new yi(Math.floor(F.zoom-1),F)),k.expression.evaluate(new yi(Math.floor(F.zoom),F)),k.expression.evaluate(new yi(Math.floor(F.zoom+1),F)),F)}},Ks.prototype._calculate=function(k,F,K,de){return de.zoom>de.zoomHistory.lastIntegerZoom?{from:k,to:F}:{from:K,to:F}},Ks.prototype.interpolate=function(k){return k};var sl=function(k){this.specification=k};sl.prototype.possiblyEvaluate=function(k,F,K,de){return!!k.expression.evaluate(F,null,{},K,de)},sl.prototype.interpolate=function(){return!1};var zo=function(k){for(var F in this.properties=k,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],k){var K=k[F];K.specification.overridable&&this.overridableProperties.push(F);var de=this.defaultPropertyValues[F]=new Zo(K,void 0),De=this.defaultTransitionablePropertyValues[F]=new $s(K);this.defaultTransitioningPropertyValues[F]=De.untransitioned(),this.defaultPossiblyEvaluatedValues[F]=de.possiblyEvaluate({})}};Mr("DataDrivenProperty",ei),Mr("DataConstantProperty",Zr),Mr("CrossFadedDataDrivenProperty",is),Mr("CrossFadedProperty",Ks),Mr("ColorRampProperty",sl);var Js="-transition",Gi=function(k){function F(K,de){if(k.call(this),this.id=K.id,this.type=K.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==K.type&&(this.metadata=K.metadata,this.minzoom=K.minzoom,this.maxzoom=K.maxzoom,"background"!==K.type&&(this.source=K.source,this.sourceLayer=K["source-layer"],this.filter=K.filter),de.layout&&(this._unevaluatedLayout=new ys(de.layout)),de.paint)){for(var De in this._transitionablePaint=new vs(de.paint),K.paint)this.setPaintProperty(De,K.paint[De],{validate:!1});for(var Fe in K.layout)this.setLayoutProperty(Fe,K.layout[Fe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new jl(de.paint)}}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},F.prototype.getLayoutProperty=function(K){return"visibility"===K?this.visibility:this._unevaluatedLayout.getValue(K)},F.prototype.setLayoutProperty=function(K,de,De){void 0===De&&(De={}),null!=de&&this._validate(Hi,"layers."+this.id+".layout."+K,K,de,De)||("visibility"!==K?this._unevaluatedLayout.setValue(K,de):this.visibility=de)},F.prototype.getPaintProperty=function(K){return y(K,Js)?this._transitionablePaint.getTransition(K.slice(0,-11)):this._transitionablePaint.getValue(K)},F.prototype.setPaintProperty=function(K,de,De){if(void 0===De&&(De={}),null!=de&&this._validate(ri,"layers."+this.id+".paint."+K,K,de,De))return!1;if(y(K,Js))return this._transitionablePaint.setTransition(K.slice(0,-11),de||void 0),!1;var Ye=this._transitionablePaint._values[K],it="cross-faded-data-driven"===Ye.property.specification["property-type"],mt=Ye.value.isDataDriven(),Et=Ye.value;this._transitionablePaint.setValue(K,de),this._handleSpecialPaintPropertyUpdate(K);var Dt=this._transitionablePaint._values[K].value;return Dt.isDataDriven()||mt||it||this._handleOverridablePaintPropertyUpdate(K,Et,Dt)},F.prototype._handleSpecialPaintPropertyUpdate=function(K){},F.prototype._handleOverridablePaintPropertyUpdate=function(K,de,De){return!1},F.prototype.isHidden=function(K){return!!(this.minzoom&&K<this.minzoom)||!!(this.maxzoom&&K>=this.maxzoom)||"none"===this.visibility},F.prototype.updateTransitions=function(K){this._transitioningPaint=this._transitionablePaint.transitioned(K,this._transitioningPaint)},F.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},F.prototype.recalculate=function(K,de){K.getCrossfadeParameters&&(this._crossfadeParameters=K.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(K,void 0,de)),this.paint=this._transitioningPaint.possiblyEvaluate(K,void 0,de)},F.prototype.serialize=function(){var K={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(K.layout=K.layout||{},K.layout.visibility=this.visibility),f(K,function(de,De){return!(void 0===de||"layout"===De&&!Object.keys(de).length||"paint"===De&&!Object.keys(de).length)})},F.prototype._validate=function(K,de,De,Fe,Ye){return void 0===Ye&&(Ye={}),(!Ye||!1!==Ye.validate)&&vo(this,K.call(Vi,{key:de,layerType:this.type,objectKey:De,value:Fe,styleSpec:et,style:{glyphs:!0,sprite:!0}}))},F.prototype.is3D=function(){return!1},F.prototype.isTileClipped=function(){return!1},F.prototype.hasOffscreenPass=function(){return!1},F.prototype.resize=function(){},F.prototype.isStateDependent=function(){for(var K in this.paint._values){var de=this.paint.get(K);if(de instanceof io&&ns(de.property.specification)&&("source"===de.value.kind||"composite"===de.value.kind)&&de.value.isStateDependent)return!0}return!1},F}(ft),hc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},os=function(k,F){this._structArray=k,this._pos1=F*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},$i=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function oo(k,F){void 0===F&&(F=1);var K=0,de=0;return{members:k.map(function(De){var Ye=hc[De.type].BYTES_PER_ELEMENT,it=K=Ea(K,Math.max(F,Ye)),mt=De.components||1;return de=Math.max(de,Ye),K+=Ye*mt,{name:De.name,type:De.type,components:mt,offset:it}}),size:Ea(K,Math.max(de,F)),alignment:F}}function Ea(k,F){return Math.ceil(k/F)*F}$i.serialize=function(k,F){return k._trim(),F&&(k.isTransferred=!0,F.push(k.arrayBuffer)),{length:k.length,arrayBuffer:k.arrayBuffer}},$i.deserialize=function(k){var F=Object.create(this.prototype);return F.arrayBuffer=k.arrayBuffer,F.length=k.length,F.capacity=k.arrayBuffer.byteLength/F.bytesPerElement,F._refreshViews(),F},$i.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},$i.prototype.clear=function(){this.length=0},$i.prototype.resize=function(k){this.reserve(k),this.length=k},$i.prototype.reserve=function(k){if(k>this.capacity){this.capacity=Math.max(k,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var F=this.uint8;this._refreshViews(),F&&this.uint8.set(F)}},$i.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var El=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de){var De=this.length;return this.resize(De+1),this.emplace(De,K,de)},F.prototype.emplace=function(K,de,De){var Fe=2*K;return this.int16[Fe+0]=de,this.int16[Fe+1]=De,K},F}($i);El.prototype.bytesPerElement=4,Mr("StructArrayLayout2i4",El);var qu=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,K,de,De,Fe)},F.prototype.emplace=function(K,de,De,Fe,Ye){var it=4*K;return this.int16[it+0]=de,this.int16[it+1]=De,this.int16[it+2]=Fe,this.int16[it+3]=Ye,K},F}($i);qu.prototype.bytesPerElement=8,Mr("StructArrayLayout4i8",qu);var rt=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it){var mt=this.length;return this.resize(mt+1),this.emplace(mt,K,de,De,Fe,Ye,it)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt){var Et=6*K;return this.int16[Et+0]=de,this.int16[Et+1]=De,this.int16[Et+2]=Fe,this.int16[Et+3]=Ye,this.int16[Et+4]=it,this.int16[Et+5]=mt,K},F}($i);rt.prototype.bytesPerElement=12,Mr("StructArrayLayout2i4i12",rt);var at=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it){var mt=this.length;return this.resize(mt+1),this.emplace(mt,K,de,De,Fe,Ye,it)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt){var Et=4*K,Dt=8*K;return this.int16[Et+0]=de,this.int16[Et+1]=De,this.uint8[Dt+4]=Fe,this.uint8[Dt+5]=Ye,this.uint8[Dt+6]=it,this.uint8[Dt+7]=mt,K},F}($i);at.prototype.bytesPerElement=8,Mr("StructArrayLayout2i4ub8",at);var gt=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de){var De=this.length;return this.resize(De+1),this.emplace(De,K,de)},F.prototype.emplace=function(K,de,De){var Fe=2*K;return this.float32[Fe+0]=de,this.float32[Fe+1]=De,K},F}($i);gt.prototype.bytesPerElement=8,Mr("StructArrayLayout2f8",gt);var V=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt){var Qt=this.length;return this.resize(Qt+1),this.emplace(Qt,K,de,De,Fe,Ye,it,mt,Et,Dt,qt)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt){var Zt=10*K;return this.uint16[Zt+0]=de,this.uint16[Zt+1]=De,this.uint16[Zt+2]=Fe,this.uint16[Zt+3]=Ye,this.uint16[Zt+4]=it,this.uint16[Zt+5]=mt,this.uint16[Zt+6]=Et,this.uint16[Zt+7]=Dt,this.uint16[Zt+8]=qt,this.uint16[Zt+9]=Qt,K},F}($i);V.prototype.bytesPerElement=20,Mr("StructArrayLayout10ui20",V);var X=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt){var gn=this.length;return this.resize(gn+1),this.emplace(gn,K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn){var bn=12*K;return this.int16[bn+0]=de,this.int16[bn+1]=De,this.int16[bn+2]=Fe,this.int16[bn+3]=Ye,this.uint16[bn+4]=it,this.uint16[bn+5]=mt,this.uint16[bn+6]=Et,this.uint16[bn+7]=Dt,this.int16[bn+8]=qt,this.int16[bn+9]=Qt,this.int16[bn+10]=Zt,this.int16[bn+11]=gn,K},F}($i);X.prototype.bytesPerElement=24,Mr("StructArrayLayout4i4ui4i24",X);var Z=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,de,De)},F.prototype.emplace=function(K,de,De,Fe){var Ye=3*K;return this.float32[Ye+0]=de,this.float32[Ye+1]=De,this.float32[Ye+2]=Fe,K},F}($i);Z.prototype.bytesPerElement=12,Mr("StructArrayLayout3f12",Z);var L=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var de=this.length;return this.resize(de+1),this.emplace(de,K)},F.prototype.emplace=function(K,de){return this.uint32[1*K+0]=de,K},F}($i);L.prototype.bytesPerElement=4,Mr("StructArrayLayout1ul4",L);var Y=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it,mt,Et,Dt){var qt=this.length;return this.resize(qt+1),this.emplace(qt,K,de,De,Fe,Ye,it,mt,Et,Dt)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt){var Qt=10*K,Zt=5*K;return this.int16[Qt+0]=de,this.int16[Qt+1]=De,this.int16[Qt+2]=Fe,this.int16[Qt+3]=Ye,this.int16[Qt+4]=it,this.int16[Qt+5]=mt,this.uint32[Zt+3]=Et,this.uint16[Qt+8]=Dt,this.uint16[Qt+9]=qt,K},F}($i);Y.prototype.bytesPerElement=20,Mr("StructArrayLayout6i1ul2ui20",Y);var ne=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it){var mt=this.length;return this.resize(mt+1),this.emplace(mt,K,de,De,Fe,Ye,it)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt){var Et=6*K;return this.int16[Et+0]=de,this.int16[Et+1]=De,this.int16[Et+2]=Fe,this.int16[Et+3]=Ye,this.int16[Et+4]=it,this.int16[Et+5]=mt,K},F}($i);ne.prototype.bytesPerElement=12,Mr("StructArrayLayout2i2i2i12",ne);var se=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye){var it=this.length;return this.resize(it+1),this.emplace(it,K,de,De,Fe,Ye)},F.prototype.emplace=function(K,de,De,Fe,Ye,it){var mt=4*K,Et=8*K;return this.float32[mt+0]=de,this.float32[mt+1]=De,this.float32[mt+2]=Fe,this.int16[Et+6]=Ye,this.int16[Et+7]=it,K},F}($i);se.prototype.bytesPerElement=16,Mr("StructArrayLayout2f1f2i16",se);var pe=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,K,de,De,Fe)},F.prototype.emplace=function(K,de,De,Fe,Ye){var it=12*K,mt=3*K;return this.uint8[it+0]=de,this.uint8[it+1]=De,this.float32[mt+1]=Fe,this.float32[mt+2]=Ye,K},F}($i);pe.prototype.bytesPerElement=12,Mr("StructArrayLayout2ub2f12",pe);var ke=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,de,De)},F.prototype.emplace=function(K,de,De,Fe){var Ye=3*K;return this.uint16[Ye+0]=de,this.uint16[Ye+1]=De,this.uint16[Ye+2]=Fe,K},F}($i);ke.prototype.bytesPerElement=6,Mr("StructArrayLayout3ui6",ke);var Re=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn,On,Ln,Zn){var Kn=this.length;return this.resize(Kn+1),this.emplace(Kn,K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn,On,Ln,Zn)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn,On,Ln,Zn,Kn){var rr=24*K,hr=12*K,xr=48*K;return this.int16[rr+0]=de,this.int16[rr+1]=De,this.uint16[rr+2]=Fe,this.uint16[rr+3]=Ye,this.uint32[hr+2]=it,this.uint32[hr+3]=mt,this.uint32[hr+4]=Et,this.uint16[rr+10]=Dt,this.uint16[rr+11]=qt,this.uint16[rr+12]=Qt,this.float32[hr+7]=Zt,this.float32[hr+8]=gn,this.uint8[xr+36]=bn,this.uint8[xr+37]=On,this.uint8[xr+38]=Ln,this.uint32[hr+10]=Zn,this.int16[rr+22]=Kn,K},F}($i);Re.prototype.bytesPerElement=48,Mr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Re);var Be=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn,On,Ln,Zn,Kn,rr,hr,xr,Rr,Cr,Br,Hr,ai,$r,oi){var Jr=this.length;return this.resize(Jr+1),this.emplace(Jr,K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn,On,Ln,Zn,Kn,rr,hr,xr,Rr,Cr,Br,Hr,ai,$r,oi)},F.prototype.emplace=function(K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn,On,Ln,Zn,Kn,rr,hr,xr,Rr,Cr,Br,Hr,ai,$r,oi,Jr){var qr=34*K,Mi=17*K;return this.int16[qr+0]=de,this.int16[qr+1]=De,this.int16[qr+2]=Fe,this.int16[qr+3]=Ye,this.int16[qr+4]=it,this.int16[qr+5]=mt,this.int16[qr+6]=Et,this.int16[qr+7]=Dt,this.uint16[qr+8]=qt,this.uint16[qr+9]=Qt,this.uint16[qr+10]=Zt,this.uint16[qr+11]=gn,this.uint16[qr+12]=bn,this.uint16[qr+13]=On,this.uint16[qr+14]=Ln,this.uint16[qr+15]=Zn,this.uint16[qr+16]=Kn,this.uint16[qr+17]=rr,this.uint16[qr+18]=hr,this.uint16[qr+19]=xr,this.uint16[qr+20]=Rr,this.uint16[qr+21]=Cr,this.uint16[qr+22]=Br,this.uint32[Mi+12]=Hr,this.float32[Mi+13]=ai,this.float32[Mi+14]=$r,this.float32[Mi+15]=oi,this.float32[Mi+16]=Jr,K},F}($i);Be.prototype.bytesPerElement=68,Mr("StructArrayLayout8i15ui1ul4f68",Be);var Ze=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var de=this.length;return this.resize(de+1),this.emplace(de,K)},F.prototype.emplace=function(K,de){return this.float32[1*K+0]=de,K},F}($i);Ze.prototype.bytesPerElement=4,Mr("StructArrayLayout1f4",Ze);var Ke=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,de,De)},F.prototype.emplace=function(K,de,De,Fe){var Ye=3*K;return this.int16[Ye+0]=de,this.int16[Ye+1]=De,this.int16[Ye+2]=Fe,K},F}($i);Ke.prototype.bytesPerElement=6,Mr("StructArrayLayout3i6",Ke);var lt=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,de,De)},F.prototype.emplace=function(K,de,De,Fe){var it=4*K;return this.uint32[2*K+0]=de,this.uint16[it+2]=De,this.uint16[it+3]=Fe,K},F}($i);lt.prototype.bytesPerElement=8,Mr("StructArrayLayout1ul2ui8",lt);var vt=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de){var De=this.length;return this.resize(De+1),this.emplace(De,K,de)},F.prototype.emplace=function(K,de,De){var Fe=2*K;return this.uint16[Fe+0]=de,this.uint16[Fe+1]=De,K},F}($i);vt.prototype.bytesPerElement=4,Mr("StructArrayLayout2ui4",vt);var bt=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var de=this.length;return this.resize(de+1),this.emplace(de,K)},F.prototype.emplace=function(K,de){return this.uint16[1*K+0]=de,K},F}($i);bt.prototype.bytesPerElement=2,Mr("StructArrayLayout1ui2",bt);var St=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,de,De,Fe){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,K,de,De,Fe)},F.prototype.emplace=function(K,de,De,Fe,Ye){var it=4*K;return this.float32[it+0]=de,this.float32[it+1]=De,this.float32[it+2]=Fe,this.float32[it+3]=Ye,K},F}($i);St.prototype.bytesPerElement=16,Mr("StructArrayLayout4f16",St);var Ft=function(k){function F(){k.apply(this,arguments)}k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F;var K={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return K.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},K.x1.get=function(){return this._structArray.int16[this._pos2+2]},K.y1.get=function(){return this._structArray.int16[this._pos2+3]},K.x2.get=function(){return this._structArray.int16[this._pos2+4]},K.y2.get=function(){return this._structArray.int16[this._pos2+5]},K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(F.prototype,K),F}(os);Ft.prototype.size=20;var It=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.get=function(K){return new Ft(this,K)},F}(Y);Mr("CollisionBoxArray",It);var Wt=function(k){function F(){k.apply(this,arguments)}k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},K.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},K.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},K.segment.get=function(){return this._structArray.uint16[this._pos2+10]},K.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},K.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},K.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},K.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},K.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},K.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},K.placedOrientation.set=function(de){this._structArray.uint8[this._pos1+37]=de},K.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},K.hidden.set=function(de){this._structArray.uint8[this._pos1+38]=de},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},K.crossTileID.set=function(de){this._structArray.uint32[this._pos4+10]=de},K.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(F.prototype,K),F}(os);Wt.prototype.size=48;var zt=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.get=function(K){return new Wt(this,K)},F}(Re);Mr("PlacedSymbolArray",zt);var sn=function(k){function F(){k.apply(this,arguments)}k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},K.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},K.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},K.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},K.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},K.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},K.key.get=function(){return this._structArray.uint16[this._pos2+8]},K.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},K.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},K.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},K.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},K.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},K.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},K.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},K.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},K.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},K.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},K.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},K.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},K.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},K.crossTileID.set=function(de){this._structArray.uint32[this._pos4+12]=de},K.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},K.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},K.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},K.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(F.prototype,K),F}(os);sn.prototype.size=68;var en=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.get=function(K){return new sn(this,K)},F}(Be);Mr("SymbolInstanceArray",en);var Xt=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.getoffsetX=function(K){return this.float32[1*K+0]},F}(Ze);Mr("GlyphOffsetArray",Xt);var Tn=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.getx=function(K){return this.int16[3*K+0]},F.prototype.gety=function(K){return this.int16[3*K+1]},F.prototype.gettileUnitDistanceFromAnchor=function(K){return this.int16[3*K+2]},F}(Ke);Mr("SymbolLineVertexArray",Tn);var kn=function(k){function F(){k.apply(this,arguments)}k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F;var K={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(F.prototype,K),F}(os);kn.prototype.size=8;var Bn=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.get=function(K){return new kn(this,K)},F}(lt);Mr("FeatureIndexArray",Bn);var Hn=oo([{name:"a_pos",components:2,type:"Int16"}],4).members,tr=function(k){void 0===k&&(k=[]),this.segments=k};function gr(k,F){return 256*(k=l(Math.floor(k),0,255))+l(Math.floor(F),0,255)}tr.prototype.prepareSegment=function(k,F,K,de){var De=this.segments[this.segments.length-1];return k>tr.MAX_VERTEX_ARRAY_LENGTH&&D("Max vertices per segment is "+tr.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+k),(!De||De.vertexLength+k>tr.MAX_VERTEX_ARRAY_LENGTH||De.sortKey!==de)&&(De={vertexOffset:F.length,primitiveOffset:K.length,vertexLength:0,primitiveLength:0},void 0!==de&&(De.sortKey=de),this.segments.push(De)),De},tr.prototype.get=function(){return this.segments},tr.prototype.destroy=function(){for(var k=0,F=this.segments;k<F.length;k+=1){var K=F[k];for(var de in K.vaos)K.vaos[de].destroy()}},tr.simpleSegment=function(k,F,K,de){return new tr([{vertexOffset:k,primitiveOffset:F,vertexLength:K,primitiveLength:de,vaos:{},sortKey:0}])},tr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Mr("SegmentVector",tr);var Er=oo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),sr=M(function(k){k.exports=function(F,K){var de,De,Fe,Ye,it,mt,Et,Dt;for(De=F.length-(de=3&F.length),Fe=K,it=3432918353,mt=461845907,Dt=0;Dt<De;)Et=255&F.charCodeAt(Dt)|(255&F.charCodeAt(++Dt))<<8|(255&F.charCodeAt(++Dt))<<16|(255&F.charCodeAt(++Dt))<<24,++Dt,Fe=27492+(65535&(Ye=5*(65535&(Fe=(Fe^=Et=(65535&(Et=(Et=(65535&Et)*it+(((Et>>>16)*it&65535)<<16)&4294967295)<<15|Et>>>17))*mt+(((Et>>>16)*mt&65535)<<16)&4294967295)<<13|Fe>>>19))+((5*(Fe>>>16)&65535)<<16)&4294967295))+((58964+(Ye>>>16)&65535)<<16);switch(Et=0,de){case 3:Et^=(255&F.charCodeAt(Dt+2))<<16;case 2:Et^=(255&F.charCodeAt(Dt+1))<<8;case 1:Fe^=Et=(65535&(Et=(Et=(65535&(Et^=255&F.charCodeAt(Dt)))*it+(((Et>>>16)*it&65535)<<16)&4294967295)<<15|Et>>>17))*mt+(((Et>>>16)*mt&65535)<<16)&4294967295}return Fe^=F.length,Fe=2246822507*(65535&(Fe^=Fe>>>16))+((2246822507*(Fe>>>16)&65535)<<16)&4294967295,Fe=3266489909*(65535&(Fe^=Fe>>>13))+((3266489909*(Fe>>>16)&65535)<<16)&4294967295,(Fe^=Fe>>>16)>>>0}}),wr=M(function(k){k.exports=function(F,K){for(var de,De=F.length,Fe=K^De,Ye=0;De>=4;)de=1540483477*(65535&(de=255&F.charCodeAt(Ye)|(255&F.charCodeAt(++Ye))<<8|(255&F.charCodeAt(++Ye))<<16|(255&F.charCodeAt(++Ye))<<24))+((1540483477*(de>>>16)&65535)<<16),Fe=1540483477*(65535&Fe)+((1540483477*(Fe>>>16)&65535)<<16)^(de=1540483477*(65535&(de^=de>>>24))+((1540483477*(de>>>16)&65535)<<16)),De-=4,++Ye;switch(De){case 3:Fe^=(255&F.charCodeAt(Ye+2))<<16;case 2:Fe^=(255&F.charCodeAt(Ye+1))<<8;case 1:Fe=1540483477*(65535&(Fe^=255&F.charCodeAt(Ye)))+((1540483477*(Fe>>>16)&65535)<<16)}return Fe=1540483477*(65535&(Fe^=Fe>>>13))+((1540483477*(Fe>>>16)&65535)<<16),(Fe^=Fe>>>15)>>>0}}),zr=sr,mr=wr;zr.murmur3=sr,zr.murmur2=mr;var br=function(){this.ids=[],this.positions=[],this.indexed=!1};br.prototype.add=function(k,F,K,de){this.ids.push(Sr(k)),this.positions.push(F,K,de)},br.prototype.getPositions=function(k){for(var F=Sr(k),K=0,de=this.ids.length-1;K<de;){var De=K+de>>1;this.ids[De]>=F?de=De:K=De+1}for(var Fe=[];this.ids[K]===F;)Fe.push({index:this.positions[3*K],start:this.positions[3*K+1],end:this.positions[3*K+2]}),K++;return Fe},br.serialize=function(k,F){var K=new Float64Array(k.ids),de=new Uint32Array(k.positions);return Wr(K,de,0,K.length-1),F&&F.push(K.buffer,de.buffer),{ids:K,positions:de}},br.deserialize=function(k){var F=new br;return F.ids=k.ids,F.positions=k.positions,F.indexed=!0,F};var Ur=Math.pow(2,53)-1;function Sr(k){var F=+k;return!isNaN(F)&&F<=Ur?F:zr(String(k))}function Wr(k,F,K,de){for(;K<de;){for(var De=k[K+de>>1],Fe=K-1,Ye=de+1;;){do{Fe++}while(k[Fe]<De);do{Ye--}while(k[Ye]>De);if(Fe>=Ye)break;Kr(k,Fe,Ye),Kr(F,3*Fe,3*Ye),Kr(F,3*Fe+1,3*Ye+1),Kr(F,3*Fe+2,3*Ye+2)}Ye-K<de-Ye?(Wr(k,F,K,Ye),K=Ye+1):(Wr(k,F,Ye+1,de),de=Ye)}}function Kr(k,F,K){var de=k[F];k[F]=k[K],k[K]=de}Mr("FeaturePositionMap",br);var si=function(k,F){this.gl=k.gl,this.location=F},ui=function(k){function F(K,de){k.call(this,K,de),this.current=0}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1i(this.location,K))},F}(si),xi=function(k){function F(K,de){k.call(this,K,de),this.current=0}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1f(this.location,K))},F}(si),vi=function(k){function F(K,de){k.call(this,K,de),this.current=[0,0]}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]||(this.current=K,this.gl.uniform2f(this.location,K[0],K[1]))},F}(si),Ki=function(k){function F(K,de){k.call(this,K,de),this.current=[0,0,0]}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]||(this.current=K,this.gl.uniform3f(this.location,K[0],K[1],K[2]))},F}(si),Ao=function(k){function F(K,de){k.call(this,K,de),this.current=[0,0,0,0]}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]&&K[3]===this.current[3]||(this.current=K,this.gl.uniform4f(this.location,K[0],K[1],K[2],K[3]))},F}(si),ba=function(k){function F(K,de){k.call(this,K,de),this.current=jn.transparent}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.set=function(K){K.r===this.current.r&&K.g===this.current.g&&K.b===this.current.b&&K.a===this.current.a||(this.current=K,this.gl.uniform4f(this.location,K.r,K.g,K.b,K.a))},F}(si),Vo=new Float32Array(16),ia=function(k){function F(K,de){k.call(this,K,de),this.current=Vo}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.set=function(K){if(K[12]!==this.current[12]||K[0]!==this.current[0])return this.current=K,void this.gl.uniformMatrix4fv(this.location,!1,K);for(var de=1;de<16;de++)if(K[de]!==this.current[de]){this.current=K,this.gl.uniformMatrix4fv(this.location,!1,K);break}},F}(si);function uo(k){return[gr(255*k.r,255*k.g),gr(255*k.b,255*k.a)]}var Ti=function(k,F,K){this.value=k,this.uniformNames=F.map(function(de){return"u_"+de}),this.type=K};Ti.prototype.setUniform=function(k,F,K){k.set(K.constantOr(this.value))},Ti.prototype.getBinding=function(k,F,K){return"color"===this.type?new ba(k,F):new xi(k,F)};var yo=function(k,F){this.uniformNames=F.map(function(K){return"u_"+K}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};yo.prototype.setConstantPatternPositions=function(k,F){this.pixelRatioFrom=F.pixelRatio,this.pixelRatioTo=k.pixelRatio,this.patternFrom=F.tlbr,this.patternTo=k.tlbr},yo.prototype.setUniform=function(k,F,K,de){var De="u_pattern_to"===de?this.patternTo:"u_pattern_from"===de?this.patternFrom:"u_pixel_ratio_to"===de?this.pixelRatioTo:"u_pixel_ratio_from"===de?this.pixelRatioFrom:null;De&&k.set(De)},yo.prototype.getBinding=function(k,F,K){return"u_pattern"===K.substr(0,9)?new Ao(k,F):new xi(k,F)};var _i=function(k,F,K,de){this.expression=k,this.type=K,this.maxValue=0,this.paintVertexAttributes=F.map(function(De){return{name:"a_"+De,type:"Float32",components:"color"===K?2:1,offset:0}}),this.paintVertexArray=new de};_i.prototype.populatePaintArray=function(k,F,K,de,De){var Fe=this.paintVertexArray.length,Ye=this.expression.evaluate(new yi(0),F,{},de,[],De);this.paintVertexArray.resize(k),this._setPaintValue(Fe,k,Ye)},_i.prototype.updatePaintArray=function(k,F,K,de){var De=this.expression.evaluate({zoom:0},K,de);this._setPaintValue(k,F,De)},_i.prototype._setPaintValue=function(k,F,K){if("color"===this.type)for(var de=uo(K),De=k;De<F;De++)this.paintVertexArray.emplace(De,de[0],de[1]);else{for(var Fe=k;Fe<F;Fe++)this.paintVertexArray.emplace(Fe,K);this.maxValue=Math.max(this.maxValue,Math.abs(K))}},_i.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},_i.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Di=function(k,F,K,de,De,Fe){this.expression=k,this.uniformNames=F.map(function(Ye){return"u_"+Ye+"_t"}),this.type=K,this.useIntegerZoom=de,this.zoom=De,this.maxValue=0,this.paintVertexAttributes=F.map(function(Ye){return{name:"a_"+Ye,type:"Float32",components:"color"===K?4:2,offset:0}}),this.paintVertexArray=new Fe};Di.prototype.populatePaintArray=function(k,F,K,de,De){var Fe=this.expression.evaluate(new yi(this.zoom),F,{},de,[],De),Ye=this.expression.evaluate(new yi(this.zoom+1),F,{},de,[],De),it=this.paintVertexArray.length;this.paintVertexArray.resize(k),this._setPaintValue(it,k,Fe,Ye)},Di.prototype.updatePaintArray=function(k,F,K,de){var De=this.expression.evaluate({zoom:this.zoom},K,de),Fe=this.expression.evaluate({zoom:this.zoom+1},K,de);this._setPaintValue(k,F,De,Fe)},Di.prototype._setPaintValue=function(k,F,K,de){if("color"===this.type)for(var De=uo(K),Fe=uo(de),Ye=k;Ye<F;Ye++)this.paintVertexArray.emplace(Ye,De[0],De[1],Fe[0],Fe[1]);else{for(var it=k;it<F;it++)this.paintVertexArray.emplace(it,K,de);this.maxValue=Math.max(this.maxValue,Math.abs(K),Math.abs(de))}},Di.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Di.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Di.prototype.setUniform=function(k,F){var K=this.useIntegerZoom?Math.floor(F.zoom):F.zoom,de=l(this.expression.interpolationFactor(K,this.zoom,this.zoom+1),0,1);k.set(de)},Di.prototype.getBinding=function(k,F,K){return new xi(k,F)};var fo=function(k,F,K,de,De,Fe){this.expression=k,this.type=F,this.useIntegerZoom=K,this.zoom=de,this.layerId=Fe,this.zoomInPaintVertexArray=new De,this.zoomOutPaintVertexArray=new De};fo.prototype.populatePaintArray=function(k,F,K){var de=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(k),this.zoomOutPaintVertexArray.resize(k),this._setPaintValues(de,k,F.patterns&&F.patterns[this.layerId],K)},fo.prototype.updatePaintArray=function(k,F,K,de,De){this._setPaintValues(k,F,K.patterns&&K.patterns[this.layerId],De)},fo.prototype._setPaintValues=function(k,F,K,de){if(de&&K){var it=de[K.min],mt=de[K.mid],Et=de[K.max];if(it&&mt&&Et)for(var Dt=k;Dt<F;Dt++)this.zoomInPaintVertexArray.emplace(Dt,mt.tl[0],mt.tl[1],mt.br[0],mt.br[1],it.tl[0],it.tl[1],it.br[0],it.br[1],mt.pixelRatio,it.pixelRatio),this.zoomOutPaintVertexArray.emplace(Dt,mt.tl[0],mt.tl[1],mt.br[0],mt.br[1],Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],mt.pixelRatio,Et.pixelRatio)}},fo.prototype.upload=function(k){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=k.createVertexBuffer(this.zoomInPaintVertexArray,Er.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=k.createVertexBuffer(this.zoomOutPaintVertexArray,Er.members,this.expression.isStateDependent))},fo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var li=function(k,F,K){this.binders={},this._buffers=[];var de=[];for(var De in k.paint._values)if(K(De)){var Fe=k.paint.get(De);if(Fe instanceof io&&ns(Fe.property.specification)){var Ye=Qs(De,k.type),it=Fe.value,mt=Fe.property.specification.type,Et=Fe.property.useIntegerZoom,Dt=Fe.property.specification["property-type"],qt="cross-faded"===Dt||"cross-faded-data-driven"===Dt;if("constant"===it.kind)this.binders[De]=qt?new yo(it.value,Ye):new Ti(it.value,Ye,mt),de.push("/u_"+De);else if("source"===it.kind||qt){var Qt=Jo(De,mt,"source");this.binders[De]=qt?new fo(it,mt,Et,F,Qt,k.id):new _i(it,Ye,mt,Qt),de.push("/a_"+De)}else{var Zt=Jo(De,mt,"composite");this.binders[De]=new Di(it,Ye,mt,Et,F,Zt),de.push("/z_"+De)}}}this.cacheKey=de.sort().join("")};li.prototype.getMaxValue=function(k){var F=this.binders[k];return F instanceof _i||F instanceof Di?F.maxValue:0},li.prototype.populatePaintArrays=function(k,F,K,de,De){for(var Fe in this.binders){var Ye=this.binders[Fe];(Ye instanceof _i||Ye instanceof Di||Ye instanceof fo)&&Ye.populatePaintArray(k,F,K,de,De)}},li.prototype.setConstantPatternPositions=function(k,F){for(var K in this.binders){var de=this.binders[K];de instanceof yo&&de.setConstantPatternPositions(k,F)}},li.prototype.updatePaintArrays=function(k,F,K,de,De){var Fe=!1;for(var Ye in k)for(var it=0,mt=F.getPositions(Ye);it<mt.length;it+=1){var Et=mt[it],Dt=K.feature(Et.index);for(var qt in this.binders){var Qt=this.binders[qt];if((Qt instanceof _i||Qt instanceof Di||Qt instanceof fo)&&!0===Qt.expression.isStateDependent){var Zt=de.paint.get(qt);Qt.expression=Zt.value,Qt.updatePaintArray(Et.start,Et.end,Dt,k[Ye],De),Fe=!0}}}return Fe},li.prototype.defines=function(){var k=[];for(var F in this.binders){var K=this.binders[F];(K instanceof Ti||K instanceof yo)&&k.push.apply(k,K.uniformNames.map(function(de){return"#define HAS_UNIFORM_"+de}))}return k},li.prototype.getBinderAttributes=function(){var k=[];for(var F in this.binders){var K=this.binders[F];if(K instanceof _i||K instanceof Di)for(var de=0;de<K.paintVertexAttributes.length;de++)k.push(K.paintVertexAttributes[de].name);else if(K instanceof fo)for(var De=0;De<Er.members.length;De++)k.push(Er.members[De].name)}return k},li.prototype.getBinderUniforms=function(){var k=[];for(var F in this.binders){var K=this.binders[F];if(K instanceof Ti||K instanceof yo||K instanceof Di)for(var de=0,De=K.uniformNames;de<De.length;de+=1)k.push(De[de])}return k},li.prototype.getPaintVertexBuffers=function(){return this._buffers},li.prototype.getUniforms=function(k,F){var K=[];for(var de in this.binders){var De=this.binders[de];if(De instanceof Ti||De instanceof yo||De instanceof Di)for(var Fe=0,Ye=De.uniformNames;Fe<Ye.length;Fe+=1){var it=Ye[Fe];if(F[it]){var mt=De.getBinding(k,F[it],it);K.push({name:it,property:de,binding:mt})}}}return K},li.prototype.setUniforms=function(k,F,K,de){for(var De=0,Fe=F;De<Fe.length;De+=1){var Ye=Fe[De],it=Ye.name,mt=Ye.property;this.binders[mt].setUniform(Ye.binding,de,K.get(mt),it)}},li.prototype.updatePaintBuffers=function(k){for(var F in this._buffers=[],this.binders){var K=this.binders[F];if(k&&K instanceof fo){var de=2===k.fromScale?K.zoomInPaintVertexBuffer:K.zoomOutPaintVertexBuffer;de&&this._buffers.push(de)}else(K instanceof _i||K instanceof Di)&&K.paintVertexBuffer&&this._buffers.push(K.paintVertexBuffer)}},li.prototype.upload=function(k){for(var F in this.binders){var K=this.binders[F];(K instanceof _i||K instanceof Di||K instanceof fo)&&K.upload(k)}this.updatePaintBuffers()},li.prototype.destroy=function(){for(var k in this.binders){var F=this.binders[k];(F instanceof _i||F instanceof Di||F instanceof fo)&&F.destroy()}};var Io=function(k,F,K){void 0===K&&(K=function(){return!0}),this.programConfigurations={};for(var de=0,De=k;de<De.length;de+=1){var Fe=De[de];this.programConfigurations[Fe.id]=new li(Fe,F,K)}this.needsUpload=!1,this._featureMap=new br,this._bufferOffset=0};function Qs(k,F){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[k]||[k.replace(F+"-","").replace(/-/g,"_")]}function Jo(k,F,K){var De={"line-pattern":{source:V,composite:V},"fill-pattern":{source:V,composite:V},"fill-extrusion-pattern":{source:V,composite:V}}[k];return De&&De[K]||{color:{source:gt,composite:St},number:{source:Ze,composite:gt}}[F][K]}Io.prototype.populatePaintArrays=function(k,F,K,de,De,Fe){for(var Ye in this.programConfigurations)this.programConfigurations[Ye].populatePaintArrays(k,F,de,De,Fe);void 0!==F.id&&this._featureMap.add(F.id,K,this._bufferOffset,k),this._bufferOffset=k,this.needsUpload=!0},Io.prototype.updatePaintArrays=function(k,F,K,de){for(var De=0,Fe=K;De<Fe.length;De+=1){var Ye=Fe[De];this.needsUpload=this.programConfigurations[Ye.id].updatePaintArrays(k,this._featureMap,F,Ye,de)||this.needsUpload}},Io.prototype.get=function(k){return this.programConfigurations[k]},Io.prototype.upload=function(k){if(this.needsUpload){for(var F in this.programConfigurations)this.programConfigurations[F].upload(k);this.needsUpload=!1}},Io.prototype.destroy=function(){for(var k in this.programConfigurations)this.programConfigurations[k].destroy()},Mr("ConstantBinder",Ti),Mr("CrossFadedConstantBinder",yo),Mr("SourceExpressionBinder",_i),Mr("CrossFadedCompositeBinder",fo),Mr("CompositeExpressionBinder",Di),Mr("ProgramConfiguration",li,{omit:["_buffers"]}),Mr("ProgramConfigurationSet",Io);var Pi=8192,nu=Math.pow(2,14)-1,Is=-nu-1;function Ho(k){for(var F=Pi/k.extent,K=k.loadGeometry(),de=0;de<K.length;de++)for(var De=K[de],Fe=0;Fe<De.length;Fe++){var Ye=De[Fe],it=Math.round(Ye.x*F),mt=Math.round(Ye.y*F);Ye.x=l(it,Is,nu),Ye.y=l(mt,Is,nu),(it<Ye.x||it>Ye.x+1||mt<Ye.y||mt>Ye.y+1)&&D("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return K}function xo(k,F){return{type:k.type,id:k.id,properties:k.properties,geometry:F?Ho(k):[]}}function Ka(k,F,K,de,De){k.emplaceBack(2*F+(de+1)/2,2*K+(De+1)/2)}var Qo=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new El,this.indexArray=new ke,this.segments=new tr,this.programConfigurations=new Io(k.layers,k.zoom),this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function ll(k,F){for(var K=0;K<k.length;K++)if(Au(F,k[K]))return!0;for(var de=0;de<F.length;de++)if(Au(k,F[de]))return!0;return!!Mu(k,F)}function ph(k,F,K){return!!Au(k,F)||!!Gu(F,k,K)}function gh(k,F){if(1===k.length)return kf(F,k[0]);for(var K=0;K<F.length;K++)for(var de=F[K],De=0;De<de.length;De++)if(Au(k,de[De]))return!0;for(var Fe=0;Fe<k.length;Fe++)if(kf(F,k[Fe]))return!0;for(var Ye=0;Ye<F.length;Ye++)if(Mu(k,F[Ye]))return!0;return!1}function mh(k,F,K){if(k.length>1){if(Mu(k,F))return!0;for(var de=0;de<F.length;de++)if(Gu(F[de],k,K))return!0}for(var De=0;De<k.length;De++)if(Gu(k[De],F,K))return!0;return!1}function Mu(k,F){if(0===k.length||0===F.length)return!1;for(var K=0;K<k.length-1;K++)for(var de=k[K],De=k[K+1],Fe=0;Fe<F.length-1;Fe++)if(vh(de,De,F[Fe],F[Fe+1]))return!0;return!1}function vh(k,F,K,de){return R(k,K,de)!==R(F,K,de)&&R(k,F,K)!==R(k,F,de)}function Gu(k,F,K){var de=K*K;if(1===F.length)return k.distSqr(F[0])<de;for(var De=1;De<F.length;De++)if(hi(k,F[De-1],F[De])<de)return!0;return!1}function hi(k,F,K){var de=F.distSqr(K);if(0===de)return k.distSqr(F);var De=((k.x-F.x)*(K.x-F.x)+(k.y-F.y)*(K.y-F.y))/de;return k.distSqr(De<0?F:De>1?K:K.sub(F)._mult(De)._add(F))}function kf(k,F){for(var K,de,De,Fe=!1,Ye=0;Ye<k.length;Ye++)for(var it=0,mt=(K=k[Ye]).length-1;it<K.length;mt=it++)(de=K[it]).y>F.y!=(De=K[mt]).y>F.y&&F.x<(De.x-de.x)*(F.y-de.y)/(De.y-de.y)+de.x&&(Fe=!Fe);return Fe}function Au(k,F){for(var K=!1,de=0,De=k.length-1;de<k.length;De=de++){var Fe=k[de],Ye=k[De];Fe.y>F.y!=Ye.y>F.y&&F.x<(Ye.x-Fe.x)*(F.y-Fe.y)/(Ye.y-Fe.y)+Fe.x&&(K=!K)}return K}function Yg(k,F,K){var de=K[0],De=K[2];if(k.x<de.x&&F.x<de.x||k.x>De.x&&F.x>De.x||k.y<de.y&&F.y<de.y||k.y>De.y&&F.y>De.y)return!1;var Fe=R(k,F,K[0]);return Fe!==R(k,F,K[1])||Fe!==R(k,F,K[2])||Fe!==R(k,F,K[3])}function Sf(k,F,K){var de=F.paint.get(k).value;return"constant"===de.kind?de.value:K.programConfigurations.get(F.id).getMaxValue(k)}function yh(k){return Math.sqrt(k[0]*k[0]+k[1]*k[1])}function Ef(k,F,K,de,De){if(!F[0]&&!F[1])return k;var Fe=t.convert(F)._mult(De);"viewport"===K&&Fe._rotate(-de);for(var Ye=[],it=0;it<k.length;it++)Ye.push(k[it].sub(Fe));return Ye}Qo.prototype.populate=function(k,F,K){var de=this.layers[0],De=[],Fe=null;"circle"===de.type&&(Fe=de.layout.get("circle-sort-key"));for(var Ye=0,it=k;Ye<it.length;Ye+=1){var mt=it[Ye],Et=mt.feature,Dt=mt.id,qt=mt.index,Qt=mt.sourceLayerIndex,Zt=this.layers[0]._featureFilter.needGeometry,gn=xo(Et,Zt);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),gn,K)){var bn=Fe?Fe.evaluate(gn,{},K):void 0,On={id:Dt,properties:Et.properties,type:Et.type,sourceLayerIndex:Qt,index:qt,geometry:Zt?gn.geometry:Ho(Et),patterns:{},sortKey:bn};De.push(On)}}Fe&&De.sort(function(Br,Hr){return Br.sortKey-Hr.sortKey});for(var Ln=0,Zn=De;Ln<Zn.length;Ln+=1){var Kn=Zn[Ln],hr=Kn.geometry,xr=Kn.index,Rr=Kn.sourceLayerIndex,Cr=k[xr].feature;this.addFeature(Kn,hr,xr,K),F.featureIndex.insert(Cr,hr,xr,Rr,this.index)}},Qo.prototype.update=function(k,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,F,this.stateDependentLayers,K)},Qo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qo.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,Hn),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},Qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qo.prototype.addFeature=function(k,F,K,de){for(var De=0,Fe=F;De<Fe.length;De+=1)for(var Ye=0,it=Fe[De];Ye<it.length;Ye+=1){var mt=it[Ye],Et=mt.x,Dt=mt.y;if(!(Et<0||Et>=Pi||Dt<0||Dt>=Pi)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,k.sortKey),Qt=qt.vertexLength;Ka(this.layoutVertexArray,Et,Dt,-1,-1),Ka(this.layoutVertexArray,Et,Dt,1,-1),Ka(this.layoutVertexArray,Et,Dt,1,1),Ka(this.layoutVertexArray,Et,Dt,-1,1),this.indexArray.emplaceBack(Qt,Qt+1,Qt+2),this.indexArray.emplaceBack(Qt,Qt+3,Qt+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,K,{},de)},Mr("CircleBucket",Qo,{omit:["layers"]});var Vc=new zo({"circle-sort-key":new ei(et.layout_circle["circle-sort-key"])}),Zg={paint:new zo({"circle-radius":new ei(et.paint_circle["circle-radius"]),"circle-color":new ei(et.paint_circle["circle-color"]),"circle-blur":new ei(et.paint_circle["circle-blur"]),"circle-opacity":new ei(et.paint_circle["circle-opacity"]),"circle-translate":new Zr(et.paint_circle["circle-translate"]),"circle-translate-anchor":new Zr(et.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Zr(et.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Zr(et.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ei(et.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ei(et.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ei(et.paint_circle["circle-stroke-opacity"])}),layout:Vc},ul=typeof Float32Array<"u"?Float32Array:Array;function zd(k){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function Jp(k,F,K){var de=F[0],De=F[1],Fe=F[2],Ye=F[3],it=F[4],mt=F[5],Et=F[6],Dt=F[7],qt=F[8],Qt=F[9],Zt=F[10],gn=F[11],bn=F[12],On=F[13],Ln=F[14],Zn=F[15],Kn=K[0],rr=K[1],hr=K[2],xr=K[3];return k[0]=Kn*de+rr*it+hr*qt+xr*bn,k[1]=Kn*De+rr*mt+hr*Qt+xr*On,k[2]=Kn*Fe+rr*Et+hr*Zt+xr*Ln,k[3]=Kn*Ye+rr*Dt+hr*gn+xr*Zn,k[4]=(Kn=K[4])*de+(rr=K[5])*it+(hr=K[6])*qt+(xr=K[7])*bn,k[5]=Kn*De+rr*mt+hr*Qt+xr*On,k[6]=Kn*Fe+rr*Et+hr*Zt+xr*Ln,k[7]=Kn*Ye+rr*Dt+hr*gn+xr*Zn,k[8]=(Kn=K[8])*de+(rr=K[9])*it+(hr=K[10])*qt+(xr=K[11])*bn,k[9]=Kn*De+rr*mt+hr*Qt+xr*On,k[10]=Kn*Fe+rr*Et+hr*Zt+xr*Ln,k[11]=Kn*Ye+rr*Dt+hr*gn+xr*Zn,k[12]=(Kn=K[12])*de+(rr=K[13])*it+(hr=K[14])*qt+(xr=K[15])*bn,k[13]=Kn*De+rr*mt+hr*Qt+xr*On,k[14]=Kn*Fe+rr*Et+hr*Zt+xr*Ln,k[15]=Kn*Ye+rr*Dt+hr*gn+xr*Zn,k}Math.hypot||(Math.hypot=function(){for(var k=arguments,F=0,K=arguments.length;K--;)F+=k[K]*k[K];return Math.sqrt(F)});var Ir,k,Xg=Jp;function xh(k,F,K){var de=F[0],De=F[1],Fe=F[2],Ye=F[3];return k[0]=K[0]*de+K[4]*De+K[8]*Fe+K[12]*Ye,k[1]=K[1]*de+K[5]*De+K[9]*Fe+K[13]*Ye,k[2]=K[2]*de+K[6]*De+K[10]*Fe+K[14]*Ye,k[3]=K[3]*de+K[7]*De+K[11]*Fe+K[15]*Ye,k}Ir=new ul(3),ul!=Float32Array&&(Ir[0]=0,Ir[1]=0,Ir[2]=0),k=new ul(4),ul!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0);var xs=(function(){var k=new ul(2);ul!=Float32Array&&(k[0]=0,k[1]=0)}(),function(k){function F(K){k.call(this,K,Zg)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.createBucket=function(K){return new Qo(K)},F.prototype.queryRadius=function(K){var de=K;return Sf("circle-radius",this,de)+Sf("circle-stroke-width",this,de)+yh(this.paint.get("circle-translate"))},F.prototype.queryIntersectsFeature=function(K,de,De,Fe,Ye,it,mt,Et){for(var Dt=Ef(K,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),it.angle,mt),qt=this.paint.get("circle-radius").evaluate(de,De)+this.paint.get("circle-stroke-width").evaluate(de,De),Qt="map"===this.paint.get("circle-pitch-alignment"),Zt=Qt?Dt:function(Rr,Cr){return Rr.map(function(Br){return Bd(Br,Cr)})}(Dt,Et),gn=Qt?qt*mt:qt,bn=0,On=Fe;bn<On.length;bn+=1)for(var Ln=0,Zn=On[bn];Ln<Zn.length;Ln+=1){var Kn=Zn[Ln],rr=Qt?Kn:Bd(Kn,Et),hr=gn,xr=xh([],[Kn.x,Kn.y,0,1],Et);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?hr*=xr[3]/it.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(hr*=it.cameraToCenterDistance/xr[3]),ph(Zt,rr,hr))return!0}return!1},F}(Gi));function Bd(k,F){var K=xh([],[k.x,k.y,0,1],F);return new t(K[0]/K[3],K[1]/K[3])}var Hc=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F}(Qo);function Ul(k,F,K,de){var De=F.width,Fe=F.height;if(de){if(de instanceof Uint8ClampedArray)de=new Uint8Array(de.buffer);else if(de.length!==De*Fe*K)throw new RangeError("mismatched image size")}else de=new Uint8Array(De*Fe*K);return k.width=De,k.height=Fe,k.data=de,k}function bh(k,F,K){var de=F.width,De=F.height;if(de!==k.width||De!==k.height){var Fe=Ul({},{width:de,height:De},K);Cf(k,Fe,{x:0,y:0},{x:0,y:0},{width:Math.min(k.width,de),height:Math.min(k.height,De)},K),k.width=de,k.height=De,k.data=Fe.data}}function Cf(k,F,K,de,De,Fe){if(0===De.width||0===De.height)return F;if(De.width>k.width||De.height>k.height||K.x>k.width-De.width||K.y>k.height-De.height)throw new RangeError("out of range source coordinates for image copy");if(De.width>F.width||De.height>F.height||de.x>F.width-De.width||de.y>F.height-De.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ye=k.data,it=F.data,mt=0;mt<De.height;mt++)for(var Et=((K.y+mt)*k.width+K.x)*Fe,Dt=((de.y+mt)*F.width+de.x)*Fe,qt=0;qt<De.width*Fe;qt++)it[Dt+qt]=Ye[Et+qt];return F}Mr("HeatmapBucket",Hc,{omit:["layers"]});var dc=function(k,F){Ul(this,k,1,F)};dc.prototype.resize=function(k){bh(this,k,1)},dc.prototype.clone=function(){return new dc({width:this.width,height:this.height},new Uint8Array(this.data))},dc.copy=function(k,F,K,de,De){Cf(k,F,K,de,De,1)};var el=function(k,F){Ul(this,k,4,F)};el.prototype.resize=function(k){bh(this,k,4)},el.prototype.replace=function(k,F){F?this.data.set(k):this.data=k instanceof Uint8ClampedArray?new Uint8Array(k.buffer):k},el.prototype.clone=function(){return new el({width:this.width,height:this.height},new Uint8Array(this.data))},el.copy=function(k,F,K,de,De){Cf(k,F,K,de,De,4)},Mr("AlphaImage",dc),Mr("RGBAImage",el);var Qp={paint:new zo({"heatmap-radius":new ei(et.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ei(et.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Zr(et.paint_heatmap["heatmap-intensity"]),"heatmap-color":new sl(et.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Zr(et.paint_heatmap["heatmap-opacity"])})};function Ls(k){var F={},K=k.resolution||256,de=k.clips?k.clips.length:1,De=k.image||new el({width:K,height:de}),Fe=function(gn,bn,On){F[k.evaluationKey]=On;var Ln=k.expression.evaluate(F);De.data[gn+bn+0]=Math.floor(255*Ln.r/Ln.a),De.data[gn+bn+1]=Math.floor(255*Ln.g/Ln.a),De.data[gn+bn+2]=Math.floor(255*Ln.b/Ln.a),De.data[gn+bn+3]=Math.floor(255*Ln.a)};if(k.clips)for(var Ye=0,it=0;Ye<de;++Ye,it+=4*K)for(var mt=0,Et=0;mt<K;mt++,Et+=4){var Dt=mt/(K-1),qt=k.clips[Ye];Fe(it,Et,qt.start*(1-Dt)+qt.end*Dt)}else for(var Qt=0,Zt=0;Qt<K;Qt++,Zt+=4)Fe(0,Zt,Qt/(K-1));return De}var ku=function(k){function F(K){k.call(this,K,Qp),this._updateColorRamp()}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.createBucket=function(K){return new Hc(K)},F.prototype._handleSpecialPaintPropertyUpdate=function(K){"heatmap-color"===K&&this._updateColorRamp()},F.prototype._updateColorRamp=function(){this.colorRamp=Ls({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},F.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},F}(Gi),e0={paint:new zo({"hillshade-illumination-direction":new Zr(et.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Zr(et.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Zr(et.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Zr(et.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Zr(et.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Zr(et.paint_hillshade["hillshade-accent-color"])})},qc=function(k){function F(K){k.call(this,K,e0)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},F}(Gi),Su=oo([{name:"a_pos",components:2,type:"Int16"}],4).members,jd=_h,t0=_h;function _h(k,F,K){K=K||2;var de,De,Fe,Ye,it,mt,Et,Dt=F&&F.length,qt=Dt?F[0]*K:k.length,Qt=n0(k,0,qt,K,!0),Zt=[];if(!Qt||Qt.next===Qt.prev)return Zt;if(Dt&&(Qt=function(bn,On,Ln,Zn){var Kn,rr,hr,xr=[];for(Kn=0,rr=On.length;Kn<rr;Kn++)(hr=n0(bn,On[Kn]*Zn,Kn<rr-1?On[Kn+1]*Zn:bn.length,Zn,!1))===hr.next&&(hr.steiner=!0),xr.push(l0(hr));for(xr.sort(Vd),Kn=0;Kn<xr.length;Kn++)a0(xr[Kn],Ln),Ln=du(Ln,Ln.next);return Ln}(k,F,Qt,K)),k.length>80*K){de=Fe=k[0],De=Ye=k[1];for(var gn=K;gn<qt;gn+=K)(it=k[gn])<de&&(de=it),(mt=k[gn+1])<De&&(De=mt),it>Fe&&(Fe=it),mt>Ye&&(Ye=mt);Et=0!==(Et=Math.max(Fe-de,Ye-De))?1/Et:0}return pc(Qt,Zt,K,de,De,Et),Zt}function n0(k,F,K,de,De){var Fe,Ye;if(De===Wc(k,F,K,de)>0)for(Fe=F;Fe<K;Fe+=de)Ye=c0(Fe,k[Fe],k[Fe+1],Ye);else for(Fe=K-de;Fe>=F;Fe-=de)Ye=c0(Fe,k[Fe],k[Fe+1],Ye);return Ye&&as(Ye,Ye.next)&&(Gc(Ye),Ye=Ye.next),Ye}function du(k,F){if(!k)return k;F||(F=k);var K,de=k;do{if(K=!1,de.steiner||!as(de,de.next)&&0!==fa(de.prev,de,de.next))de=de.next;else{if(Gc(de),(de=F=de.prev)===de.next)break;K=!0}}while(K||de!==F);return F}function pc(k,F,K,de,De,Fe,Ye){if(k){!Ye&&Fe&&function(Dt,qt,Qt,Zt){var gn=Dt;do{null===gn.z&&(gn.z=wh(gn.x,gn.y,qt,Qt,Zt)),gn.prevZ=gn.prev,gn.nextZ=gn.next,gn=gn.next}while(gn!==Dt);gn.prevZ.nextZ=null,gn.prevZ=null,function(bn){var On,Ln,Zn,Kn,rr,hr,xr,Rr,Cr=1;do{for(Ln=bn,bn=null,rr=null,hr=0;Ln;){for(hr++,Zn=Ln,xr=0,On=0;On<Cr&&(xr++,Zn=Zn.nextZ);On++);for(Rr=Cr;xr>0||Rr>0&&Zn;)0!==xr&&(0===Rr||!Zn||Ln.z<=Zn.z)?(Kn=Ln,Ln=Ln.nextZ,xr--):(Kn=Zn,Zn=Zn.nextZ,Rr--),rr?rr.nextZ=Kn:bn=Kn,Kn.prevZ=rr,rr=Kn;Ln=Zn}rr.nextZ=null,Cr*=2}while(hr>1)}(gn)}(k,de,De,Fe);for(var it,mt,Et=k;k.prev!==k.next;)if(it=k.prev,mt=k.next,Fe?Ud(k,de,De,Fe):r0(k))F.push(it.i/K),F.push(k.i/K),F.push(mt.i/K),Gc(k),k=mt.next,Et=mt.next;else if((k=mt)===Et){Ye?1===Ye?pc(k=Kg(du(k),F,K),F,K,de,De,Fe,2):2===Ye&&o0(k,F,K,de,De,Fe):pc(du(k),F,K,de,De,Fe,1);break}}}function r0(k){var F=k.prev,K=k,de=k.next;if(fa(F,K,de)>=0)return!1;for(var De=k.next.next;De!==k.prev;){if(Wu(F.x,F.y,K.x,K.y,de.x,de.y,De.x,De.y)&&fa(De.prev,De,De.next)>=0)return!1;De=De.next}return!0}function Ud(k,F,K,de){var De=k.prev,Fe=k,Ye=k.next;if(fa(De,Fe,Ye)>=0)return!1;for(var Et=De.x>Fe.x?De.x>Ye.x?De.x:Ye.x:Fe.x>Ye.x?Fe.x:Ye.x,Dt=De.y>Fe.y?De.y>Ye.y?De.y:Ye.y:Fe.y>Ye.y?Fe.y:Ye.y,qt=wh(De.x<Fe.x?De.x<Ye.x?De.x:Ye.x:Fe.x<Ye.x?Fe.x:Ye.x,De.y<Fe.y?De.y<Ye.y?De.y:Ye.y:Fe.y<Ye.y?Fe.y:Ye.y,F,K,de),Qt=wh(Et,Dt,F,K,de),Zt=k.prevZ,gn=k.nextZ;Zt&&Zt.z>=qt&&gn&&gn.z<=Qt;){if(Zt!==k.prev&&Zt!==k.next&&Wu(De.x,De.y,Fe.x,Fe.y,Ye.x,Ye.y,Zt.x,Zt.y)&&fa(Zt.prev,Zt,Zt.next)>=0||(Zt=Zt.prevZ,gn!==k.prev&&gn!==k.next&&Wu(De.x,De.y,Fe.x,Fe.y,Ye.x,Ye.y,gn.x,gn.y)&&fa(gn.prev,gn,gn.next)>=0))return!1;gn=gn.nextZ}for(;Zt&&Zt.z>=qt;){if(Zt!==k.prev&&Zt!==k.next&&Wu(De.x,De.y,Fe.x,Fe.y,Ye.x,Ye.y,Zt.x,Zt.y)&&fa(Zt.prev,Zt,Zt.next)>=0)return!1;Zt=Zt.prevZ}for(;gn&&gn.z<=Qt;){if(gn!==k.prev&&gn!==k.next&&Wu(De.x,De.y,Fe.x,Fe.y,Ye.x,Ye.y,gn.x,gn.y)&&fa(gn.prev,gn,gn.next)>=0)return!1;gn=gn.nextZ}return!0}function Kg(k,F,K){var de=k;do{var De=de.prev,Fe=de.next.next;!as(De,Fe)&&Yu(De,de,de.next,Fe)&&Df(De,Fe)&&Df(Fe,De)&&(F.push(De.i/K),F.push(de.i/K),F.push(Fe.i/K),Gc(de),Gc(de.next),de=k=Fe),de=de.next}while(de!==k);return du(de)}function o0(k,F,K,de,De,Fe){var Ye=k;do{for(var it=Ye.next.next;it!==Ye.prev;){if(Ye.i!==it.i&&Jg(Ye,it)){var mt=u0(Ye,it);return Ye=du(Ye,Ye.next),mt=du(mt,mt.next),pc(Ye,F,K,de,De,Fe),void pc(mt,F,K,de,De,Fe)}it=it.next}Ye=Ye.next}while(Ye!==k)}function Vd(k,F){return k.x-F.x}function a0(k,F){if(F=function(de,De){var Fe,Ye=De,it=de.x,mt=de.y,Et=-1/0;do{if(mt<=Ye.y&&mt>=Ye.next.y&&Ye.next.y!==Ye.y){var Dt=Ye.x+(mt-Ye.y)*(Ye.next.x-Ye.x)/(Ye.next.y-Ye.y);if(Dt<=it&&Dt>Et){if(Et=Dt,Dt===it){if(mt===Ye.y)return Ye;if(mt===Ye.next.y)return Ye.next}Fe=Ye.x<Ye.next.x?Ye:Ye.next}}Ye=Ye.next}while(Ye!==De);if(!Fe)return null;if(it===Et)return Fe;var qt,Qt=Fe,Zt=Fe.x,gn=Fe.y,bn=1/0;Ye=Fe;do{it>=Ye.x&&Ye.x>=Zt&&it!==Ye.x&&Wu(mt<gn?it:Et,mt,Zt,gn,mt<gn?Et:it,mt,Ye.x,Ye.y)&&(qt=Math.abs(mt-Ye.y)/(it-Ye.x),Df(Ye,de)&&(qt<bn||qt===bn&&(Ye.x>Fe.x||Ye.x===Fe.x&&s0(Fe,Ye)))&&(Fe=Ye,bn=qt)),Ye=Ye.next}while(Ye!==Qt);return Fe}(k,F)){var K=u0(F,k);du(F,F.next),du(K,K.next)}}function s0(k,F){return fa(k.prev,k,F.prev)<0&&fa(F.next,k,k.next)<0}function wh(k,F,K,de,De){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-K)*De)|k<<8))|k<<4))|k<<2))|k<<1))|(F=1431655765&((F=858993459&((F=252645135&((F=16711935&((F=32767*(F-de)*De)|F<<8))|F<<4))|F<<2))|F<<1))<<1}function l0(k){var F=k,K=k;do{(F.x<K.x||F.x===K.x&&F.y<K.y)&&(K=F),F=F.next}while(F!==k);return K}function Wu(k,F,K,de,De,Fe,Ye,it){return(De-Ye)*(F-it)-(k-Ye)*(Fe-it)>=0&&(k-Ye)*(de-it)-(K-Ye)*(F-it)>=0&&(K-Ye)*(Fe-it)-(De-Ye)*(de-it)>=0}function Jg(k,F){return k.next.i!==F.i&&k.prev.i!==F.i&&!function(K,de){var De=K;do{if(De.i!==K.i&&De.next.i!==K.i&&De.i!==de.i&&De.next.i!==de.i&&Yu(De,De.next,K,de))return!0;De=De.next}while(De!==K);return!1}(k,F)&&(Df(k,F)&&Df(F,k)&&function(K,de){var De=K,Fe=!1,Ye=(K.x+de.x)/2,it=(K.y+de.y)/2;do{De.y>it!=De.next.y>it&&De.next.y!==De.y&&Ye<(De.next.x-De.x)*(it-De.y)/(De.next.y-De.y)+De.x&&(Fe=!Fe),De=De.next}while(De!==K);return Fe}(k,F)&&(fa(k.prev,k,F.prev)||fa(k,F.prev,F))||as(k,F)&&fa(k.prev,k,k.next)>0&&fa(F.prev,F,F.next)>0)}function fa(k,F,K){return(F.y-k.y)*(K.x-F.x)-(F.x-k.x)*(K.y-F.y)}function as(k,F){return k.x===F.x&&k.y===F.y}function Yu(k,F,K,de){var De=Th(fa(k,F,K)),Fe=Th(fa(k,F,de)),Ye=Th(fa(K,de,k)),it=Th(fa(K,de,F));return De!==Fe&&Ye!==it||!(0!==De||!Xo(k,K,F))||!(0!==Fe||!Xo(k,de,F))||!(0!==Ye||!Xo(K,k,de))||!(0!==it||!Xo(K,F,de))}function Xo(k,F,K){return F.x<=Math.max(k.x,K.x)&&F.x>=Math.min(k.x,K.x)&&F.y<=Math.max(k.y,K.y)&&F.y>=Math.min(k.y,K.y)}function Th(k){return k>0?1:k<0?-1:0}function Df(k,F){return fa(k.prev,k,k.next)<0?fa(k,F,k.next)>=0&&fa(k,k.prev,F)>=0:fa(k,F,k.prev)<0||fa(k,k.next,F)<0}function u0(k,F){var K=new Mh(k.i,k.x,k.y),de=new Mh(F.i,F.x,F.y),De=k.next,Fe=F.prev;return k.next=F,F.prev=k,K.next=De,De.prev=K,de.next=K,K.prev=de,Fe.next=de,de.prev=Fe,de}function c0(k,F,K,de){var De=new Mh(k,F,K);return de?(De.next=de.next,De.prev=de,de.next.prev=De,de.next=De):(De.prev=De,De.next=De),De}function Gc(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function Mh(k,F,K){this.i=k,this.x=F,this.y=K,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Wc(k,F,K,de){for(var De=0,Fe=F,Ye=K-de;Fe<K;Fe+=de)De+=(k[Ye]-k[Fe])*(k[Fe+1]+k[Ye+1]),Ye=Fe;return De}function Zu(k,F,K,de,De){f0(k,F,K||0,de||k.length-1,De||Ah)}function f0(k,F,K,de,De){for(;de>K;){if(de-K>600){var Fe=de-K+1,Ye=F-K+1,it=Math.log(Fe),mt=.5*Math.exp(2*it/3),Et=.5*Math.sqrt(it*mt*(Fe-mt)/Fe)*(Ye-Fe/2<0?-1:1);f0(k,F,Math.max(K,Math.floor(F-Ye*mt/Fe+Et)),Math.min(de,Math.floor(F+(Fe-Ye)*mt/Fe+Et)),De)}var Dt=k[F],qt=K,Qt=de;for(Xu(k,K,F),De(k[de],Dt)>0&&Xu(k,K,de);qt<Qt;){for(Xu(k,qt,Qt),qt++,Qt--;De(k[qt],Dt)<0;)qt++;for(;De(k[Qt],Dt)>0;)Qt--}0===De(k[K],Dt)?Xu(k,K,Qt):Xu(k,++Qt,de),Qt<=F&&(K=Qt+1),F<=Qt&&(de=Qt-1)}}function Xu(k,F,K){var de=k[F];k[F]=k[K],k[K]=de}function Ah(k,F){return k<F?-1:k>F?1:0}function Yc(k,F){var K=k.length;if(K<=1)return[k];for(var de,De,Fe=[],Ye=0;Ye<K;Ye++){var it=P(k[Ye]);0!==it&&(k[Ye].area=Math.abs(it),void 0===De&&(De=it<0),De===it<0?(de&&Fe.push(de),de=[k[Ye]]):de.push(k[Ye]))}if(de&&Fe.push(de),F>1)for(var mt=0;mt<Fe.length;mt++)Fe[mt].length<=F||(Zu(Fe[mt],F,1,Fe[mt].length-1,Hd),Fe[mt]=Fe[mt].slice(0,F));return Fe}function Hd(k,F){return F.area-k.area}function kh(k,F,K){for(var de=K.patternDependencies,De=!1,Fe=0,Ye=F;Fe<Ye.length;Fe+=1){var it=Ye[Fe].paint.get(k+"-pattern");it.isConstant()||(De=!0);var mt=it.constantOr(null);mt&&(De=!0,de[mt.to]=!0,de[mt.from]=!0)}return De}function Sh(k,F,K,de,De){for(var Fe=De.patternDependencies,Ye=0,it=F;Ye<it.length;Ye+=1){var mt=it[Ye],Et=mt.paint.get(k+"-pattern").value;if("constant"!==Et.kind){var Dt=Et.evaluate({zoom:de-1},K,{},De.availableImages),qt=Et.evaluate({zoom:de},K,{},De.availableImages),Qt=Et.evaluate({zoom:de+1},K,{},De.availableImages);qt=qt&&qt.name?qt.name:qt,Qt=Qt&&Qt.name?Qt.name:Qt,Fe[Dt=Dt&&Dt.name?Dt.name:Dt]=!0,Fe[qt]=!0,Fe[Qt]=!0,K.patterns[mt.id]={min:Dt,mid:qt,max:Qt}}}return K}_h.deviation=function(k,F,K,de){var De=F&&F.length,Ye=Math.abs(Wc(k,0,De?F[0]*K:k.length,K));if(De)for(var it=0,mt=F.length;it<mt;it++)Ye-=Math.abs(Wc(k,F[it]*K,it<mt-1?F[it+1]*K:k.length,K));var qt=0;for(it=0;it<de.length;it+=3){var Qt=de[it]*K,Zt=de[it+1]*K,gn=de[it+2]*K;qt+=Math.abs((k[Qt]-k[gn])*(k[Zt+1]-k[Qt+1])-(k[Qt]-k[Zt])*(k[gn+1]-k[Qt+1]))}return 0===Ye&&0===qt?0:Math.abs((qt-Ye)/Ye)},_h.flatten=function(k){for(var F=k[0][0].length,K={vertices:[],holes:[],dimensions:F},de=0,De=0;De<k.length;De++){for(var Fe=0;Fe<k[De].length;Fe++)for(var Ye=0;Ye<F;Ye++)K.vertices.push(k[De][Fe][Ye]);De>0&&K.holes.push(de+=k[De-1].length)}return K},jd.default=t0;var ru=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new El,this.indexArray=new ke,this.indexArray2=new vt,this.programConfigurations=new Io(k.layers,k.zoom),this.segments=new tr,this.segments2=new tr,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};ru.prototype.populate=function(k,F,K){this.hasPattern=kh("fill",this.layers,F);for(var de=this.layers[0].layout.get("fill-sort-key"),De=[],Fe=0,Ye=k;Fe<Ye.length;Fe+=1){var it=Ye[Fe],mt=it.feature,Et=it.id,Dt=it.index,qt=it.sourceLayerIndex,Qt=this.layers[0]._featureFilter.needGeometry,Zt=xo(mt,Qt);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),Zt,K)){var gn=de?de.evaluate(Zt,{},K,F.availableImages):void 0,bn={id:Et,properties:mt.properties,type:mt.type,sourceLayerIndex:qt,index:Dt,geometry:Qt?Zt.geometry:Ho(mt),patterns:{},sortKey:gn};De.push(bn)}}de&&De.sort(function(Br,Hr){return Br.sortKey-Hr.sortKey});for(var On=0,Ln=De;On<Ln.length;On+=1){var Zn=Ln[On],rr=Zn.geometry,hr=Zn.index,xr=Zn.sourceLayerIndex;if(this.hasPattern){var Rr=Sh("fill",this.layers,Zn,this.zoom,F);this.patternFeatures.push(Rr)}else this.addFeature(Zn,rr,hr,K,{});F.featureIndex.insert(k[hr].feature,rr,hr,xr,this.index)}},ru.prototype.update=function(k,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,F,this.stateDependentLayers,K)},ru.prototype.addFeatures=function(k,F,K){for(var de=0,De=this.patternFeatures;de<De.length;de+=1){var Fe=De[de];this.addFeature(Fe,Fe.geometry,Fe.index,F,K)}},ru.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ru.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ru.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,Su),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.indexBuffer2=k.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(k),this.uploaded=!0},ru.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ru.prototype.addFeature=function(k,F,K,de,De){for(var Fe=0,Ye=Yc(F,500);Fe<Ye.length;Fe+=1){for(var it=Ye[Fe],mt=0,Et=0,Dt=it;Et<Dt.length;Et+=1)mt+=Dt[Et].length;for(var qt=this.segments.prepareSegment(mt,this.layoutVertexArray,this.indexArray),Qt=qt.vertexLength,Zt=[],gn=[],bn=0,On=it;bn<On.length;bn+=1){var Ln=On[bn];if(0!==Ln.length){Ln!==it[0]&&gn.push(Zt.length/2);var Zn=this.segments2.prepareSegment(Ln.length,this.layoutVertexArray,this.indexArray2),Kn=Zn.vertexLength;this.layoutVertexArray.emplaceBack(Ln[0].x,Ln[0].y),this.indexArray2.emplaceBack(Kn+Ln.length-1,Kn),Zt.push(Ln[0].x),Zt.push(Ln[0].y);for(var rr=1;rr<Ln.length;rr++)this.layoutVertexArray.emplaceBack(Ln[rr].x,Ln[rr].y),this.indexArray2.emplaceBack(Kn+rr-1,Kn+rr),Zt.push(Ln[rr].x),Zt.push(Ln[rr].y);Zn.vertexLength+=Ln.length,Zn.primitiveLength+=Ln.length}}for(var hr=jd(Zt,gn),xr=0;xr<hr.length;xr+=3)this.indexArray.emplaceBack(Qt+hr[xr],Qt+hr[xr+1],Qt+hr[xr+2]);qt.vertexLength+=mt,qt.primitiveLength+=hr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,K,De,de)},Mr("FillBucket",ru,{omit:["layers","patternFeatures"]});var Zc=new zo({"fill-sort-key":new ei(et.layout_fill["fill-sort-key"])}),If={paint:new zo({"fill-antialias":new Zr(et.paint_fill["fill-antialias"]),"fill-opacity":new ei(et.paint_fill["fill-opacity"]),"fill-color":new ei(et.paint_fill["fill-color"]),"fill-outline-color":new ei(et.paint_fill["fill-outline-color"]),"fill-translate":new Zr(et.paint_fill["fill-translate"]),"fill-translate-anchor":new Zr(et.paint_fill["fill-translate-anchor"]),"fill-pattern":new is(et.paint_fill["fill-pattern"])}),layout:Zc},Qg=function(k){function F(K){k.call(this,K,If)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.recalculate=function(K,de){k.prototype.recalculate.call(this,K,de);var De=this.paint._values["fill-outline-color"];"constant"===De.value.kind&&void 0===De.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},F.prototype.createBucket=function(K){return new ru(K)},F.prototype.queryRadius=function(){return yh(this.paint.get("fill-translate"))},F.prototype.queryIntersectsFeature=function(K,de,De,Fe,Ye,it,mt){return gh(Ef(K,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),it.angle,mt),Fe)},F.prototype.isTileClipped=function(){return!0},F}(Gi),xy=oo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Eh=Lf;function Lf(k,F,K,de,De){this.properties={},this.extent=K,this.type=0,this._pbf=k,this._geometry=-1,this._keys=de,this._values=De,k.readFields(em,this,F)}function em(k,F,K){1==k?F.id=K.readVarint():2==k?function(de,De){for(var Fe=de.readVarint()+de.pos;de.pos<Fe;){var Ye=De._keys[de.readVarint()],it=De._values[de.readVarint()];De.properties[Ye]=it}}(K,F):3==k?F.type=K.readVarint():4==k&&(F._geometry=K.pos)}function tm(k){for(var F,K,de=0,De=0,Fe=k.length,Ye=Fe-1;De<Fe;Ye=De++)de+=((K=k[Ye]).x-(F=k[De]).x)*(F.y+K.y);return de}Lf.types=["Unknown","Point","LineString","Polygon"],Lf.prototype.loadGeometry=function(){var k=this._pbf;k.pos=this._geometry;for(var F,K=k.readVarint()+k.pos,de=1,De=0,Fe=0,Ye=0,it=[];k.pos<K;){if(De<=0){var mt=k.readVarint();de=7&mt,De=mt>>3}if(De--,1===de||2===de)Fe+=k.readSVarint(),Ye+=k.readSVarint(),1===de&&(F&&it.push(F),F=[]),F.push(new t(Fe,Ye));else{if(7!==de)throw new Error("unknown command "+de);F&&F.push(F[0].clone())}}return F&&it.push(F),it},Lf.prototype.bbox=function(){var k=this._pbf;k.pos=this._geometry;for(var F=k.readVarint()+k.pos,K=1,de=0,De=0,Fe=0,Ye=1/0,it=-1/0,mt=1/0,Et=-1/0;k.pos<F;){if(de<=0){var Dt=k.readVarint();K=7&Dt,de=Dt>>3}if(de--,1===K||2===K)(De+=k.readSVarint())<Ye&&(Ye=De),De>it&&(it=De),(Fe+=k.readSVarint())<mt&&(mt=Fe),Fe>Et&&(Et=Fe);else if(7!==K)throw new Error("unknown command "+K)}return[Ye,mt,it,Et]},Lf.prototype.toGeoJSON=function(k,F,K){var de,De,Fe=this.extent*Math.pow(2,K),Ye=this.extent*k,it=this.extent*F,mt=this.loadGeometry(),Et=Lf.types[this.type];function Dt(Zt){for(var gn=0;gn<Zt.length;gn++){var bn=Zt[gn];Zt[gn]=[360*(bn.x+Ye)/Fe-180,360/Math.PI*Math.atan(Math.exp((180-360*(bn.y+it)/Fe)*Math.PI/180))-90]}}switch(this.type){case 1:var qt=[];for(de=0;de<mt.length;de++)qt[de]=mt[de][0];Dt(mt=qt);break;case 2:for(de=0;de<mt.length;de++)Dt(mt[de]);break;case 3:for(mt=function(Zt){var gn=Zt.length;if(gn<=1)return[Zt];for(var bn,On,Ln=[],Zn=0;Zn<gn;Zn++){var Kn=tm(Zt[Zn]);0!==Kn&&(void 0===On&&(On=Kn<0),On===Kn<0?(bn&&Ln.push(bn),bn=[Zt[Zn]]):bn.push(Zt[Zn]))}return bn&&Ln.push(bn),Ln}(mt),de=0;de<mt.length;de++)for(De=0;De<mt[de].length;De++)Dt(mt[de][De])}1===mt.length?mt=mt[0]:Et="Multi"+Et;var Qt={type:"Feature",geometry:{type:Et,coordinates:mt},properties:this.properties};return"id"in this&&(Qt.id=this.id),Qt};var nm=rm;function rm(k,F){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=k,this._keys=[],this._values=[],this._features=[],k.readFields(qd,this,F),this.length=this._features.length}function qd(k,F,K){15===k?F.version=K.readVarint():1===k?F.name=K.readString():5===k?F.extent=K.readVarint():2===k?F._features.push(K.pos):3===k?F._keys.push(K.readString()):4===k&&F._values.push(function(de){for(var De=null,Fe=de.readVarint()+de.pos;de.pos<Fe;){var Ye=de.readVarint()>>3;De=1===Ye?de.readString():2===Ye?de.readFloat():3===Ye?de.readDouble():4===Ye?de.readVarint64():5===Ye?de.readVarint():6===Ye?de.readSVarint():7===Ye?de.readBoolean():null}return De}(K))}function Pf(k,F,K){if(3===k){var de=new nm(K,K.readVarint()+K.pos);de.length&&(F[de.name]=de)}}rm.prototype.feature=function(k){if(k<0||k>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[k];var F=this._pbf.readVarint()+this._pbf.pos;return new Eh(this._pbf,F,this.extent,this._keys,this._values)};var Xc={VectorTile:function(k,F){this.layers=k.readFields(Pf,{},F)},VectorTileFeature:Eh,VectorTileLayer:nm},Of=Xc.VectorTileFeature.types,Rf=Math.pow(2,13);function $u(k,F,K,de,De,Fe,Ye,it){k.emplaceBack(F,K,2*Math.floor(de*Rf)+Ye,De*Rf*2,Fe*Rf*2,Math.round(it))}var pu=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new rt,this.indexArray=new ke,this.programConfigurations=new Io(k.layers,k.zoom),this.segments=new tr,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function h0(k,F){return k.x===F.x&&(k.x<0||k.x>Pi)||k.y===F.y&&(k.y<0||k.y>Pi)}pu.prototype.populate=function(k,F,K){this.features=[],this.hasPattern=kh("fill-extrusion",this.layers,F);for(var de=0,De=k;de<De.length;de+=1){var Fe=De[de],Ye=Fe.feature,it=Fe.id,mt=Fe.index,Et=Fe.sourceLayerIndex,Dt=this.layers[0]._featureFilter.needGeometry,qt=xo(Ye,Dt);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),qt,K)){var Qt={id:it,sourceLayerIndex:Et,index:mt,geometry:Dt?qt.geometry:Ho(Ye),properties:Ye.properties,type:Ye.type,patterns:{}};this.hasPattern?this.features.push(Sh("fill-extrusion",this.layers,Qt,this.zoom,F)):this.addFeature(Qt,Qt.geometry,mt,K,{}),F.featureIndex.insert(Ye,Qt.geometry,mt,Et,this.index,!0)}}},pu.prototype.addFeatures=function(k,F,K){for(var de=0,De=this.features;de<De.length;de+=1){var Fe=De[de];this.addFeature(Fe,Fe.geometry,Fe.index,F,K)}},pu.prototype.update=function(k,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,F,this.stateDependentLayers,K)},pu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},pu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},pu.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,xy),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},pu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},pu.prototype.addFeature=function(k,F,K,de,De){for(var Fe=0,Ye=Yc(F,500);Fe<Ye.length;Fe+=1){for(var it=Ye[Fe],mt=0,Et=0,Dt=it;Et<Dt.length;Et+=1)mt+=Dt[Et].length;for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Qt=0,Zt=it;Qt<Zt.length;Qt+=1){var gn=Zt[Qt];if(0!==gn.length&&!((Mi=gn).every(function(di){return di.x<0})||Mi.every(function(di){return di.x>Pi})||Mi.every(function(di){return di.y<0})||Mi.every(function(di){return di.y>Pi})))for(var bn=0,On=0;On<gn.length;On++){var Ln=gn[On];if(On>=1){var Zn=gn[On-1];if(!h0(Ln,Zn)){qt.vertexLength+4>tr.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Kn=Ln.sub(Zn)._perp()._unit(),rr=Zn.dist(Ln);bn+rr>32768&&(bn=0),$u(this.layoutVertexArray,Ln.x,Ln.y,Kn.x,Kn.y,0,0,bn),$u(this.layoutVertexArray,Ln.x,Ln.y,Kn.x,Kn.y,0,1,bn),$u(this.layoutVertexArray,Zn.x,Zn.y,Kn.x,Kn.y,0,0,bn+=rr),$u(this.layoutVertexArray,Zn.x,Zn.y,Kn.x,Kn.y,0,1,bn);var hr=qt.vertexLength;this.indexArray.emplaceBack(hr,hr+2,hr+1),this.indexArray.emplaceBack(hr+1,hr+2,hr+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+mt>tr.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(mt,this.layoutVertexArray,this.indexArray)),"Polygon"===Of[k.type]){for(var xr=[],Rr=[],Cr=qt.vertexLength,Br=0,Hr=it;Br<Hr.length;Br+=1){var ai=Hr[Br];if(0!==ai.length){ai!==it[0]&&Rr.push(xr.length/2);for(var $r=0;$r<ai.length;$r++){var oi=ai[$r];$u(this.layoutVertexArray,oi.x,oi.y,0,0,1,1,0),xr.push(oi.x),xr.push(oi.y)}}}for(var Jr=jd(xr,Rr),qr=0;qr<Jr.length;qr+=3)this.indexArray.emplaceBack(Cr+Jr[qr],Cr+Jr[qr+2],Cr+Jr[qr+1]);qt.primitiveLength+=Jr.length/3,qt.vertexLength+=mt}}var Mi;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,K,De,de)},Mr("FillExtrusionBucket",pu,{omit:["layers","features"]});var d0={paint:new zo({"fill-extrusion-opacity":new Zr(et["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ei(et["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Zr(et["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Zr(et["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new is(et["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ei(et["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ei(et["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Zr(et["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},im=function(k){function F(K){k.call(this,K,d0)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.createBucket=function(K){return new pu(K)},F.prototype.queryRadius=function(){return yh(this.paint.get("fill-extrusion-translate"))},F.prototype.is3D=function(){return!0},F.prototype.queryIntersectsFeature=function(K,de,De,Fe,Ye,it,mt,Et){var Dt=Ef(K,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),it.angle,mt),qt=this.paint.get("fill-extrusion-height").evaluate(de,De),Qt=this.paint.get("fill-extrusion-base").evaluate(de,De),Zt=function(bn,On,Ln,Zn){for(var Kn=[],rr=0,hr=bn;rr<hr.length;rr+=1){var xr=hr[rr],Rr=[xr.x,xr.y,0,1];xh(Rr,Rr,On),Kn.push(new t(Rr[0]/Rr[3],Rr[1]/Rr[3]))}return Kn}(Dt,Et),gn=function(bn,On,Ln,Zn){for(var Kn=[],rr=[],hr=Zn[8]*On,xr=Zn[9]*On,Rr=Zn[10]*On,Cr=Zn[11]*On,Br=Zn[8]*Ln,Hr=Zn[9]*Ln,ai=Zn[10]*Ln,$r=Zn[11]*Ln,oi=0,Jr=bn;oi<Jr.length;oi+=1){for(var qr=[],Mi=[],di=0,Qi=Jr[oi];di<Qi.length;di+=1){var ti=Qi[di],Yi=ti.x,eo=ti.y,Eo=Zn[0]*Yi+Zn[4]*eo+Zn[12],bo=Zn[1]*Yi+Zn[5]*eo+Zn[13],po=Zn[2]*Yi+Zn[6]*eo+Zn[14],da=Zn[3]*Yi+Zn[7]*eo+Zn[15],Bo=po+Rr,wa=da+Cr,Fa=Eo+Br,pa=bo+Hr,Qa=po+ai,ea=da+$r,Ta=new t((Eo+hr)/wa,(bo+xr)/wa);Ta.z=Bo/wa,qr.push(Ta);var Na=new t(Fa/ea,pa/ea);Na.z=Qa/ea,Mi.push(Na)}Kn.push(qr),rr.push(Mi)}return[Kn,rr]}(Fe,Qt,qt,Et);return function(bn,On,Ln){var Zn=1/0;gh(Ln,On)&&(Zn=p0(Ln,On[0]));for(var Kn=0;Kn<On.length;Kn++)for(var rr=On[Kn],hr=bn[Kn],xr=0;xr<rr.length-1;xr++){var Rr=rr[xr],Hr=[Rr,rr[xr+1],hr[xr+1],hr[xr],Rr];ll(Ln,Hr)&&(Zn=Math.min(Zn,p0(Ln,Hr)))}return Zn!==1/0&&Zn}(gn[0],gn[1],Zt)},F}(Gi);function cl(k,F){return k.x*F.x+k.y*F.y}function p0(k,F){if(1===k.length){for(var K,de=0,De=F[de++];!K||De.equals(K);)if(!(K=F[de++]))return 1/0;for(;de<F.length;de++){var Fe=F[de],Ye=k[0],it=K.sub(De),mt=Fe.sub(De),Et=Ye.sub(De),Dt=cl(it,it),qt=cl(it,mt),Qt=cl(mt,mt),Zt=cl(Et,it),gn=cl(Et,mt),bn=Dt*Qt-qt*qt,On=(Qt*Zt-qt*gn)/bn,Ln=(Dt*gn-qt*Zt)/bn,Kn=De.z*(1-On-Ln)+K.z*On+Fe.z*Ln;if(isFinite(Kn))return Kn}return 1/0}for(var rr=1/0,hr=0,xr=F;hr<xr.length;hr+=1)rr=Math.min(rr,xr[hr].z);return rr}var Ch=oo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Gd=oo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,g0=Xc.VectorTileFeature.types,Dh=Math.cos(Math.PI/180*37.5),Ih=Math.pow(2,14)/.5,bs=function(k){var F=this;this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(K){return K.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(K){F.gradients[K.id]={}}),this.layoutVertexArray=new at,this.layoutVertexArray2=new gt,this.indexArray=new ke,this.programConfigurations=new Io(k.layers,k.zoom),this.segments=new tr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(K){return K.isStateDependent()}).map(function(K){return K.id})};bs.prototype.populate=function(k,F,K){this.hasPattern=kh("line",this.layers,F);for(var de=this.layers[0].layout.get("line-sort-key"),De=[],Fe=0,Ye=k;Fe<Ye.length;Fe+=1){var it=Ye[Fe],mt=it.feature,Et=it.id,Dt=it.index,qt=it.sourceLayerIndex,Qt=this.layers[0]._featureFilter.needGeometry,Zt=xo(mt,Qt);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),Zt,K)){var gn=de?de.evaluate(Zt,{},K):void 0,bn={id:Et,properties:mt.properties,type:mt.type,sourceLayerIndex:qt,index:Dt,geometry:Qt?Zt.geometry:Ho(mt),patterns:{},sortKey:gn};De.push(bn)}}de&&De.sort(function(Br,Hr){return Br.sortKey-Hr.sortKey});for(var On=0,Ln=De;On<Ln.length;On+=1){var Zn=Ln[On],rr=Zn.geometry,hr=Zn.index,xr=Zn.sourceLayerIndex;if(this.hasPattern){var Rr=Sh("line",this.layers,Zn,this.zoom,F);this.patternFeatures.push(Rr)}else this.addFeature(Zn,rr,hr,K,{});F.featureIndex.insert(k[hr].feature,rr,hr,xr,this.index)}},bs.prototype.update=function(k,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,F,this.stateDependentLayers,K)},bs.prototype.addFeatures=function(k,F,K){for(var de=0,De=this.patternFeatures;de<De.length;de+=1){var Fe=De[de];this.addFeature(Fe,Fe.geometry,Fe.index,F,K)}},bs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},bs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},bs.prototype.upload=function(k){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=k.createVertexBuffer(this.layoutVertexArray2,Gd)),this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,Ch),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},bs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},bs.prototype.lineFeatureClips=function(k){if(k.properties&&k.properties.hasOwnProperty("mapbox_clip_start")&&k.properties.hasOwnProperty("mapbox_clip_end"))return{start:+k.properties.mapbox_clip_start,end:+k.properties.mapbox_clip_end}},bs.prototype.addFeature=function(k,F,K,de,De){var Fe=this.layers[0].layout,Ye=Fe.get("line-join").evaluate(k,{}),it=Fe.get("line-cap"),mt=Fe.get("line-miter-limit"),Et=Fe.get("line-round-limit");this.lineClips=this.lineFeatureClips(k);for(var Dt=0,qt=F;Dt<qt.length;Dt+=1)this.addLine(qt[Dt],k,Ye,it,mt,Et);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,K,De,de)},bs.prototype.addLine=function(k,F,K,de,De,Fe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ye=0;Ye<k.length-1;Ye++)this.totalDistance+=k[Ye].dist(k[Ye+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var it="Polygon"===g0[F.type],mt=k.length;mt>=2&&k[mt-1].equals(k[mt-2]);)mt--;for(var Et=0;Et<mt-1&&k[Et].equals(k[Et+1]);)Et++;if(!(mt<(it?3:2))){"bevel"===K&&(De=1.05);var Dt,qt=this.overscaling<=16?15*Pi/(512*this.overscaling):0,Qt=this.segments.prepareSegment(10*mt,this.layoutVertexArray,this.indexArray),Zt=void 0,gn=void 0,bn=void 0,On=void 0;this.e1=this.e2=-1,it&&(On=k[Et].sub(Dt=k[mt-2])._unit()._perp());for(var Ln=Et;Ln<mt;Ln++)if(!(gn=Ln===mt-1?it?k[Et+1]:void 0:k[Ln+1])||!k[Ln].equals(gn)){On&&(bn=On),Dt&&(Zt=Dt),Dt=k[Ln],On=gn?gn.sub(Dt)._unit()._perp():bn;var Zn=(bn=bn||On).add(On);0===Zn.x&&0===Zn.y||Zn._unit();var Kn=bn.x*On.x+bn.y*On.y,rr=Zn.x*On.x+Zn.y*On.y,hr=0!==rr?1/rr:1/0,xr=2*Math.sqrt(2-2*rr),Rr=rr<Dh&&Zt&&gn,Cr=bn.x*On.y-bn.y*On.x>0;if(Rr&&Ln>Et){var Br=Dt.dist(Zt);if(Br>2*qt){var Hr=Dt.sub(Dt.sub(Zt)._mult(qt/Br)._round());this.updateDistance(Zt,Hr),this.addCurrentVertex(Hr,bn,0,0,Qt),Zt=Hr}}var ai=Zt&&gn,$r=ai?K:it?"butt":de;if(ai&&"round"===$r&&(hr<Fe?$r="miter":hr<=2&&($r="fakeround")),"miter"===$r&&hr>De&&($r="bevel"),"bevel"===$r&&(hr>2&&($r="flipbevel"),hr<De&&($r="miter")),Zt&&this.updateDistance(Zt,Dt),"miter"===$r)Zn._mult(hr),this.addCurrentVertex(Dt,Zn,0,0,Qt);else if("flipbevel"===$r){if(hr>100)Zn=On.mult(-1);else{var oi=hr*bn.add(On).mag()/bn.sub(On).mag();Zn._perp()._mult(oi*(Cr?-1:1))}this.addCurrentVertex(Dt,Zn,0,0,Qt),this.addCurrentVertex(Dt,Zn.mult(-1),0,0,Qt)}else if("bevel"===$r||"fakeround"===$r){var Jr=-Math.sqrt(hr*hr-1),qr=Cr?Jr:0,Mi=Cr?0:Jr;if(Zt&&this.addCurrentVertex(Dt,bn,qr,Mi,Qt),"fakeround"===$r)for(var di=Math.round(180*xr/Math.PI/20),Qi=1;Qi<di;Qi++){var ti=Qi/di;if(.5!==ti){var Yi=ti-.5;ti+=ti*Yi*(ti-1)*((1.0904+Kn*(Kn*(3.55645-1.43519*Kn)-3.2452))*Yi*Yi+(.848013+Kn*(.215638*Kn-1.06021)))}var eo=On.sub(bn)._mult(ti)._add(bn)._unit()._mult(Cr?-1:1);this.addHalfVertex(Dt,eo.x,eo.y,!1,Cr,0,Qt)}gn&&this.addCurrentVertex(Dt,On,-qr,-Mi,Qt)}else if("butt"===$r)this.addCurrentVertex(Dt,Zn,0,0,Qt);else if("square"===$r){var Eo=Zt?1:-1;this.addCurrentVertex(Dt,Zn,Eo,Eo,Qt)}else"round"===$r&&(Zt&&(this.addCurrentVertex(Dt,bn,0,0,Qt),this.addCurrentVertex(Dt,bn,1,1,Qt,!0)),gn&&(this.addCurrentVertex(Dt,On,-1,-1,Qt,!0),this.addCurrentVertex(Dt,On,0,0,Qt)));if(Rr&&Ln<mt-1){var bo=Dt.dist(gn);if(bo>2*qt){var po=Dt.add(gn.sub(Dt)._mult(qt/bo)._round());this.updateDistance(Dt,po),this.addCurrentVertex(po,On,0,0,Qt),Dt=po}}}}},bs.prototype.addCurrentVertex=function(k,F,K,de,De,Fe){void 0===Fe&&(Fe=!1);var mt=F.y*de-F.x,Et=-F.y-F.x*de;this.addHalfVertex(k,F.x+F.y*K,F.y-F.x*K,Fe,!1,K,De),this.addHalfVertex(k,mt,Et,Fe,!0,-de,De),this.distance>Ih/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(k,F,K,de,De,Fe))},bs.prototype.addHalfVertex=function(k,F,K,de,De,Fe,Ye){var Et=.5*(this.lineClips?this.scaledDistance*(Ih-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((k.x<<1)+(de?1:0),(k.y<<1)+(De?1:0),Math.round(63*F)+128,Math.round(63*K)+128,1+(0===Fe?0:Fe<0?-1:1)|(63&Et)<<2,Et>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var qt=Ye.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,qt),Ye.primitiveLength++),De?this.e2=qt:this.e1=qt},bs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},bs.prototype.updateDistance=function(k,F){this.distance+=k.dist(F),this.updateScaledDistance()},Mr("LineBucket",bs,{omit:["layers","patternFeatures"]});var m0=new zo({"line-cap":new Zr(et.layout_line["line-cap"]),"line-join":new ei(et.layout_line["line-join"]),"line-miter-limit":new Zr(et.layout_line["line-miter-limit"]),"line-round-limit":new Zr(et.layout_line["line-round-limit"]),"line-sort-key":new ei(et.layout_line["line-sort-key"])}),Wd={paint:new zo({"line-opacity":new ei(et.paint_line["line-opacity"]),"line-color":new ei(et.paint_line["line-color"]),"line-translate":new Zr(et.paint_line["line-translate"]),"line-translate-anchor":new Zr(et.paint_line["line-translate-anchor"]),"line-width":new ei(et.paint_line["line-width"]),"line-gap-width":new ei(et.paint_line["line-gap-width"]),"line-offset":new ei(et.paint_line["line-offset"]),"line-blur":new ei(et.paint_line["line-blur"]),"line-dasharray":new Ks(et.paint_line["line-dasharray"]),"line-pattern":new is(et.paint_line["line-pattern"]),"line-gradient":new sl(et.paint_line["line-gradient"])}),layout:m0},v0=function(k){function F(){k.apply(this,arguments)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(K,de){return de=new yi(Math.floor(de.zoom),{now:de.now,fadeDuration:de.fadeDuration,zoomHistory:de.zoomHistory,transition:de.transition}),k.prototype.possiblyEvaluate.call(this,K,de)},F.prototype.evaluate=function(K,de,De,Fe){return de=c({},de,{zoom:Math.floor(de.zoom)}),k.prototype.evaluate.call(this,K,de,De,Fe)},F}(ei),Yd=new v0(Wd.paint.properties["line-width"].specification);Yd.useIntegerZoom=!0;var om=function(k){function F(K){k.call(this,K,Wd),this.gradientVersion=0}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype._handleSpecialPaintPropertyUpdate=function(K){"line-gradient"===K&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Yr,this.gradientVersion=(this.gradientVersion+1)%r)},F.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},F.prototype.recalculate=function(K,de){k.prototype.recalculate.call(this,K,de),this.paint._values["line-floorwidth"]=Yd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,K)},F.prototype.createBucket=function(K){return new bs(K)},F.prototype.queryRadius=function(K){var de=K,De=Ff(Sf("line-width",this,de),Sf("line-gap-width",this,de)),Fe=Sf("line-offset",this,de);return De/2+Math.abs(Fe)+yh(this.paint.get("line-translate"))},F.prototype.queryIntersectsFeature=function(K,de,De,Fe,Ye,it,mt){var Et=Ef(K,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),it.angle,mt),Dt=mt/2*Ff(this.paint.get("line-width").evaluate(de,De),this.paint.get("line-gap-width").evaluate(de,De)),qt=this.paint.get("line-offset").evaluate(de,De);return qt&&(Fe=function(Qt,Zt){for(var gn=[],bn=new t(0,0),On=0;On<Qt.length;On++){for(var Ln=Qt[On],Zn=[],Kn=0;Kn<Ln.length;Kn++){var hr=Ln[Kn],xr=Ln[Kn+1],Rr=0===Kn?bn:hr.sub(Ln[Kn-1])._unit()._perp(),Cr=Kn===Ln.length-1?bn:xr.sub(hr)._unit()._perp(),Br=Rr._add(Cr)._unit();Br._mult(1/(Br.x*Cr.x+Br.y*Cr.y)),Zn.push(Br._mult(Zt)._add(hr))}gn.push(Zn)}return gn}(Fe,qt*mt)),function(Qt,Zt,gn){for(var bn=0;bn<Zt.length;bn++){var On=Zt[bn];if(Qt.length>=3)for(var Ln=0;Ln<On.length;Ln++)if(Au(Qt,On[Ln]))return!0;if(mh(Qt,On,gn))return!0}return!1}(Et,Fe,Dt)},F.prototype.isTileClipped=function(){return!0},F}(Gi);function Ff(k,F){return F>0?F+2*k:k}var gc=oo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),am=oo([{name:"a_projected_pos",components:3,type:"Float32"}],4),y0=(oo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),oo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Zd=(oo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),oo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Nf=oo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function sm(k,F,K){return k.sections.forEach(function(de){var De,Ye,it;de.text=(De=de.text,Ye=K,"uppercase"===(it=F.layout.get("text-transform").evaluate(Ye,{}))?De=De.toLocaleUpperCase():"lowercase"===it&&(De=De.toLocaleLowerCase()),Uo.applyArabicShaping&&(De=Uo.applyArabicShaping(De)),De)}),k}oo([{name:"triangle",components:3,type:"Uint16"}]),oo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),oo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),oo([{type:"Float32",name:"offsetX"}]),oo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ja={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ra=24,x0=function(k,F,K,de,De){var Fe,Ye,it=8*De-de-1,mt=(1<<it)-1,Et=mt>>1,Dt=-7,qt=K?De-1:0,Qt=K?-1:1,Zt=k[F+qt];for(qt+=Qt,Fe=Zt&(1<<-Dt)-1,Zt>>=-Dt,Dt+=it;Dt>0;Fe=256*Fe+k[F+qt],qt+=Qt,Dt-=8);for(Ye=Fe&(1<<-Dt)-1,Fe>>=-Dt,Dt+=de;Dt>0;Ye=256*Ye+k[F+qt],qt+=Qt,Dt-=8);if(0===Fe)Fe=1-Et;else{if(Fe===mt)return Ye?NaN:1/0*(Zt?-1:1);Ye+=Math.pow(2,de),Fe-=Et}return(Zt?-1:1)*Ye*Math.pow(2,Fe-de)},Lh=function(k,F,K,de,De,Fe){var Ye,it,mt,Et=8*Fe-De-1,Dt=(1<<Et)-1,qt=Dt>>1,Qt=23===De?Math.pow(2,-24)-Math.pow(2,-77):0,Zt=de?0:Fe-1,gn=de?1:-1,bn=F<0||0===F&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(it=isNaN(F)?1:0,Ye=Dt):(Ye=Math.floor(Math.log(F)/Math.LN2),F*(mt=Math.pow(2,-Ye))<1&&(Ye--,mt*=2),(F+=Ye+qt>=1?Qt/mt:Qt*Math.pow(2,1-qt))*mt>=2&&(Ye++,mt/=2),Ye+qt>=Dt?(it=0,Ye=Dt):Ye+qt>=1?(it=(F*mt-1)*Math.pow(2,De),Ye+=qt):(it=F*Math.pow(2,qt-1)*Math.pow(2,De),Ye=0));De>=8;k[K+Zt]=255&it,Zt+=gn,it/=256,De-=8);for(Ye=Ye<<De|it,Et+=De;Et>0;k[K+Zt]=255&Ye,Zt+=gn,Ye/=256,Et-=8);k[K+Zt-gn]|=128*bn},Ph=ho;function ho(k){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(k)?k:new Uint8Array(k||0),this.pos=0,this.type=0,this.length=this.buf.length}ho.Varint=0,ho.Fixed64=1,ho.Bytes=2,ho.Fixed32=5;var zf=4294967296,mc=1/zf,vc=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function fl(k){return k.type===ho.Bytes?k.readVarint()+k.pos:k.pos+1}function Oh(k,F,K){var de=F<=16383?1:F<=2097151?2:F<=268435455?3:Math.floor(Math.log(F)/(7*Math.LN2));K.realloc(de);for(var De=K.pos-1;De>=k;De--)K.buf[De+de]=K.buf[De]}function $c(k,F){for(var K=0;K<k.length;K++)F.writeVarint(k[K])}function by(k,F){for(var K=0;K<k.length;K++)F.writeSVarint(k[K])}function lm(k,F){for(var K=0;K<k.length;K++)F.writeFloat(k[K])}function _y(k,F){for(var K=0;K<k.length;K++)F.writeDouble(k[K])}function wy(k,F){for(var K=0;K<k.length;K++)F.writeBoolean(k[K])}function Ty(k,F){for(var K=0;K<k.length;K++)F.writeFixed32(k[K])}function My(k,F){for(var K=0;K<k.length;K++)F.writeSFixed32(k[K])}function Ay(k,F){for(var K=0;K<k.length;K++)F.writeFixed64(k[K])}function ky(k,F){for(var K=0;K<k.length;K++)F.writeSFixed64(k[K])}function Eu(k,F){return(k[F]|k[F+1]<<8|k[F+2]<<16)+16777216*k[F+3]}function Kc(k,F,K){k[K]=F,k[K+1]=F>>>8,k[K+2]=F>>>16,k[K+3]=F>>>24}function b0(k,F){return(k[F]|k[F+1]<<8|k[F+2]<<16)+(k[F+3]<<24)}ho.prototype={destroy:function(){this.buf=null},readFields:function(k,F,K){for(K=K||this.length;this.pos<K;){var de=this.readVarint(),De=de>>3,Fe=this.pos;this.type=7&de,k(De,F,this),this.pos===Fe&&this.skip(de)}return F},readMessage:function(k,F){return this.readFields(k,F,this.readVarint()+this.pos)},readFixed32:function(){var k=Eu(this.buf,this.pos);return this.pos+=4,k},readSFixed32:function(){var k=b0(this.buf,this.pos);return this.pos+=4,k},readFixed64:function(){var k=Eu(this.buf,this.pos)+Eu(this.buf,this.pos+4)*zf;return this.pos+=8,k},readSFixed64:function(){var k=Eu(this.buf,this.pos)+b0(this.buf,this.pos+4)*zf;return this.pos+=8,k},readFloat:function(){var k=x0(this.buf,this.pos,!0,23,4);return this.pos+=4,k},readDouble:function(){var k=x0(this.buf,this.pos,!0,52,8);return this.pos+=8,k},readVarint:function(k){var F,K,de=this.buf;return F=127&(K=de[this.pos++]),K<128?F:(F|=(127&(K=de[this.pos++]))<<7,K<128?F:(F|=(127&(K=de[this.pos++]))<<14,K<128?F:(F|=(127&(K=de[this.pos++]))<<21,K<128?F:function(De,Fe,Ye){var it,mt,Et=Ye.buf;if(it=(112&(mt=Et[Ye.pos++]))>>4,mt<128||(it|=(127&(mt=Et[Ye.pos++]))<<3,mt<128)||(it|=(127&(mt=Et[Ye.pos++]))<<10,mt<128)||(it|=(127&(mt=Et[Ye.pos++]))<<17,mt<128)||(it|=(127&(mt=Et[Ye.pos++]))<<24,mt<128)||(it|=(1&(mt=Et[Ye.pos++]))<<31,mt<128))return function yc(k,F,K){return K?4294967296*F+(k>>>0):4294967296*(F>>>0)+(k>>>0)}(De,it,Fe);throw new Error("Expected varint not more than 10 bytes")}(F|=(15&(K=de[this.pos]))<<28,k,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var k=this.readVarint();return k%2==1?(k+1)/-2:k/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var k=this.readVarint()+this.pos,F=this.pos;return this.pos=k,k-F>=12&&vc?vc.decode(this.buf.subarray(F,k)):function(K,de,De){for(var Fe="",Ye=de;Ye<De;){var it,mt,Et,Dt=K[Ye],qt=null,Qt=Dt>239?4:Dt>223?3:Dt>191?2:1;if(Ye+Qt>De)break;1===Qt?Dt<128&&(qt=Dt):2===Qt?128==(192&(it=K[Ye+1]))&&(qt=(31&Dt)<<6|63&it)<=127&&(qt=null):3===Qt?(mt=K[Ye+2],128==(192&(it=K[Ye+1]))&&128==(192&mt)&&((qt=(15&Dt)<<12|(63&it)<<6|63&mt)<=2047||qt>=55296&&qt<=57343)&&(qt=null)):4===Qt&&(mt=K[Ye+2],Et=K[Ye+3],128==(192&(it=K[Ye+1]))&&128==(192&mt)&&128==(192&Et)&&((qt=(15&Dt)<<18|(63&it)<<12|(63&mt)<<6|63&Et)<=65535||qt>=1114112)&&(qt=null)),null===qt?(qt=65533,Qt=1):qt>65535&&(qt-=65536,Fe+=String.fromCharCode(qt>>>10&1023|55296),qt=56320|1023&qt),Fe+=String.fromCharCode(qt),Ye+=Qt}return Fe}(this.buf,F,k)},readBytes:function(){var k=this.readVarint()+this.pos,F=this.buf.subarray(this.pos,k);return this.pos=k,F},readPackedVarint:function(k,F){if(this.type!==ho.Bytes)return k.push(this.readVarint(F));var K=fl(this);for(k=k||[];this.pos<K;)k.push(this.readVarint(F));return k},readPackedSVarint:function(k){if(this.type!==ho.Bytes)return k.push(this.readSVarint());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readSVarint());return k},readPackedBoolean:function(k){if(this.type!==ho.Bytes)return k.push(this.readBoolean());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readBoolean());return k},readPackedFloat:function(k){if(this.type!==ho.Bytes)return k.push(this.readFloat());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readFloat());return k},readPackedDouble:function(k){if(this.type!==ho.Bytes)return k.push(this.readDouble());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readDouble());return k},readPackedFixed32:function(k){if(this.type!==ho.Bytes)return k.push(this.readFixed32());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readFixed32());return k},readPackedSFixed32:function(k){if(this.type!==ho.Bytes)return k.push(this.readSFixed32());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readSFixed32());return k},readPackedFixed64:function(k){if(this.type!==ho.Bytes)return k.push(this.readFixed64());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readFixed64());return k},readPackedSFixed64:function(k){if(this.type!==ho.Bytes)return k.push(this.readSFixed64());var F=fl(this);for(k=k||[];this.pos<F;)k.push(this.readSFixed64());return k},skip:function(k){var F=7&k;if(F===ho.Varint)for(;this.buf[this.pos++]>127;);else if(F===ho.Bytes)this.pos=this.readVarint()+this.pos;else if(F===ho.Fixed32)this.pos+=4;else{if(F!==ho.Fixed64)throw new Error("Unimplemented type: "+F);this.pos+=8}},writeTag:function(k,F){this.writeVarint(k<<3|F)},realloc:function(k){for(var F=this.length||16;F<this.pos+k;)F*=2;if(F!==this.length){var K=new Uint8Array(F);K.set(this.buf),this.buf=K,this.length=F}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(k){this.realloc(4),Kc(this.buf,k,this.pos),this.pos+=4},writeSFixed32:function(k){this.realloc(4),Kc(this.buf,k,this.pos),this.pos+=4},writeFixed64:function(k){this.realloc(8),Kc(this.buf,-1&k,this.pos),Kc(this.buf,Math.floor(k*mc),this.pos+4),this.pos+=8},writeSFixed64:function(k){this.realloc(8),Kc(this.buf,-1&k,this.pos),Kc(this.buf,Math.floor(k*mc),this.pos+4),this.pos+=8},writeVarint:function(k){(k=+k||0)>268435455||k<0?function(F,K){var de,De,Fe,it;if(F>=0?(de=F%4294967296|0,De=F/4294967296|0):(De=~(-F/4294967296),4294967295^(de=~(-F%4294967296))?de=de+1|0:(de=0,De=De+1|0)),F>=0x10000000000000000||F<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");K.realloc(10),Fe=de,(it=K).buf[it.pos++]=127&Fe|128,Fe>>>=7,it.buf[it.pos++]=127&Fe|128,Fe>>>=7,it.buf[it.pos++]=127&Fe|128,Fe>>>=7,it.buf[it.pos++]=127&Fe|128,it.buf[it.pos]=127&(Fe>>>=7),function(Fe,Ye){var it=(7&Fe)<<4;Ye.buf[Ye.pos++]|=it|((Fe>>>=3)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe)))))}(De,K)}(k,this):(this.realloc(4),this.buf[this.pos++]=127&k|(k>127?128:0),k<=127||(this.buf[this.pos++]=127&(k>>>=7)|(k>127?128:0),k<=127||(this.buf[this.pos++]=127&(k>>>=7)|(k>127?128:0),k<=127||(this.buf[this.pos++]=k>>>7&127))))},writeSVarint:function(k){this.writeVarint(k<0?2*-k-1:2*k)},writeBoolean:function(k){this.writeVarint(!!k)},writeString:function(k){k=String(k),this.realloc(4*k.length),this.pos++;var F=this.pos;this.pos=function(de,De,Fe){for(var Ye,it,mt=0;mt<De.length;mt++){if((Ye=De.charCodeAt(mt))>55295&&Ye<57344){if(!it){Ye>56319||mt+1===De.length?(de[Fe++]=239,de[Fe++]=191,de[Fe++]=189):it=Ye;continue}if(Ye<56320){de[Fe++]=239,de[Fe++]=191,de[Fe++]=189,it=Ye;continue}Ye=it-55296<<10|Ye-56320|65536,it=null}else it&&(de[Fe++]=239,de[Fe++]=191,de[Fe++]=189,it=null);Ye<128?de[Fe++]=Ye:(Ye<2048?de[Fe++]=Ye>>6|192:(Ye<65536?de[Fe++]=Ye>>12|224:(de[Fe++]=Ye>>18|240,de[Fe++]=Ye>>12&63|128),de[Fe++]=Ye>>6&63|128),de[Fe++]=63&Ye|128)}return Fe}(this.buf,k,this.pos);var K=this.pos-F;K>=128&&Oh(F,K,this),this.pos=F-1,this.writeVarint(K),this.pos+=K},writeFloat:function(k){this.realloc(4),Lh(this.buf,k,this.pos,!0,23,4),this.pos+=4},writeDouble:function(k){this.realloc(8),Lh(this.buf,k,this.pos,!0,52,8),this.pos+=8},writeBytes:function(k){var F=k.length;this.writeVarint(F),this.realloc(F);for(var K=0;K<F;K++)this.buf[this.pos++]=k[K]},writeRawMessage:function(k,F){this.pos++;var K=this.pos;k(F,this);var de=this.pos-K;de>=128&&Oh(K,de,this),this.pos=K-1,this.writeVarint(de),this.pos+=de},writeMessage:function(k,F,K){this.writeTag(k,ho.Bytes),this.writeRawMessage(F,K)},writePackedVarint:function(k,F){F.length&&this.writeMessage(k,$c,F)},writePackedSVarint:function(k,F){F.length&&this.writeMessage(k,by,F)},writePackedBoolean:function(k,F){F.length&&this.writeMessage(k,wy,F)},writePackedFloat:function(k,F){F.length&&this.writeMessage(k,lm,F)},writePackedDouble:function(k,F){F.length&&this.writeMessage(k,_y,F)},writePackedFixed32:function(k,F){F.length&&this.writeMessage(k,Ty,F)},writePackedSFixed32:function(k,F){F.length&&this.writeMessage(k,My,F)},writePackedFixed64:function(k,F){F.length&&this.writeMessage(k,Ay,F)},writePackedSFixed64:function(k,F){F.length&&this.writeMessage(k,ky,F)},writeBytesField:function(k,F){this.writeTag(k,ho.Bytes),this.writeBytes(F)},writeFixed32Field:function(k,F){this.writeTag(k,ho.Fixed32),this.writeFixed32(F)},writeSFixed32Field:function(k,F){this.writeTag(k,ho.Fixed32),this.writeSFixed32(F)},writeFixed64Field:function(k,F){this.writeTag(k,ho.Fixed64),this.writeFixed64(F)},writeSFixed64Field:function(k,F){this.writeTag(k,ho.Fixed64),this.writeSFixed64(F)},writeVarintField:function(k,F){this.writeTag(k,ho.Varint),this.writeVarint(F)},writeSVarintField:function(k,F){this.writeTag(k,ho.Varint),this.writeSVarint(F)},writeStringField:function(k,F){this.writeTag(k,ho.Bytes),this.writeString(F)},writeFloatField:function(k,F){this.writeTag(k,ho.Fixed32),this.writeFloat(F)},writeDoubleField:function(k,F){this.writeTag(k,ho.Fixed64),this.writeDouble(F)},writeBooleanField:function(k,F){this.writeVarintField(k,!!F)}};var Ca=3;function um(k,F,K){1===k&&K.readMessage(Bf,F)}function Bf(k,F,K){if(3===k){var de=K.readMessage(cm,{}),Ye=de.width,it=de.height,mt=de.left,Et=de.top,Dt=de.advance;F.push({id:de.id,bitmap:new dc({width:Ye+2*Ca,height:it+2*Ca},de.bitmap),metrics:{width:Ye,height:it,left:mt,top:Et,advance:Dt}})}}function cm(k,F,K){1===k?F.id=K.readVarint():2===k?F.bitmap=K.readBytes():3===k?F.width=K.readVarint():4===k?F.height=K.readVarint():5===k?F.left=K.readSVarint():6===k?F.top=K.readSVarint():7===k&&(F.advance=K.readVarint())}var Cl=Ca;function xc(k){for(var F=0,K=0,de=0,De=k;de<De.length;de+=1){var Fe=De[de];F+=Fe.w*Fe.h,K=Math.max(K,Fe.w)}k.sort(function(bn,On){return On.h-bn.h});for(var Ye=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(F/.95)),K),h:1/0}],it=0,mt=0,Et=0,Dt=k;Et<Dt.length;Et+=1)for(var qt=Dt[Et],Qt=Ye.length-1;Qt>=0;Qt--){var Zt=Ye[Qt];if(!(qt.w>Zt.w||qt.h>Zt.h)){if(qt.x=Zt.x,qt.y=Zt.y,mt=Math.max(mt,qt.y+qt.h),it=Math.max(it,qt.x+qt.w),qt.w===Zt.w&&qt.h===Zt.h){var gn=Ye.pop();Qt<Ye.length&&(Ye[Qt]=gn)}else qt.h===Zt.h?(Zt.x+=qt.w,Zt.w-=qt.w):qt.w===Zt.w?(Zt.y+=qt.h,Zt.h-=qt.h):(Ye.push({x:Zt.x+qt.w,y:Zt.y,w:Zt.w-qt.w,h:qt.h}),Zt.y+=qt.h,Zt.h-=qt.h);break}}return{w:it,h:mt,fill:F/(it*mt)||0}}var bc=function(k,F){var K=F.pixelRatio,de=F.version,De=F.stretchX,Fe=F.stretchY,Ye=F.content;this.paddedRect=k,this.pixelRatio=K,this.stretchX=De,this.stretchY=Fe,this.content=Ye,this.version=de},Cu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Cu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Cu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Cu.tlbr.get=function(){return this.tl.concat(this.br)},Cu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(bc.prototype,Cu);var jf=function(k,F){var K={},de={};this.haveRenderCallbacks=[];var De=[];this.addImages(k,K,De),this.addImages(F,de,De);var Fe=xc(De),mt=new el({width:Fe.w||1,height:Fe.h||1});for(var Et in k){var Dt=k[Et],qt=K[Et].paddedRect;el.copy(Dt.data,mt,{x:0,y:0},{x:qt.x+1,y:qt.y+1},Dt.data)}for(var Qt in F){var Zt=F[Qt],gn=de[Qt].paddedRect,bn=gn.x+1,On=gn.y+1,Ln=Zt.data.width,Zn=Zt.data.height;el.copy(Zt.data,mt,{x:0,y:0},{x:bn,y:On},Zt.data),el.copy(Zt.data,mt,{x:0,y:Zn-1},{x:bn,y:On-1},{width:Ln,height:1}),el.copy(Zt.data,mt,{x:0,y:0},{x:bn,y:On+Zn},{width:Ln,height:1}),el.copy(Zt.data,mt,{x:Ln-1,y:0},{x:bn-1,y:On},{width:1,height:Zn}),el.copy(Zt.data,mt,{x:0,y:0},{x:bn+Ln,y:On},{width:1,height:Zn})}this.image=mt,this.iconPositions=K,this.patternPositions=de};jf.prototype.addImages=function(k,F,K){for(var de in k){var De=k[de],Fe={x:0,y:0,w:De.data.width+2,h:De.data.height+2};K.push(Fe),F[de]=new bc(Fe,De),De.hasRenderCallback&&this.haveRenderCallbacks.push(de)}},jf.prototype.patchUpdatedImages=function(k,F){for(var K in k.dispatchRenderCallbacks(this.haveRenderCallbacks),k.updatedImages)this.patchUpdatedImage(this.iconPositions[K],k.getImage(K),F),this.patchUpdatedImage(this.patternPositions[K],k.getImage(K),F)},jf.prototype.patchUpdatedImage=function(k,F,K){if(k&&F&&k.version!==F.version){k.version=F.version;var de=k.tl;K.update(F.data,void 0,{x:de[0],y:de[1]})}},Mr("ImagePosition",bc),Mr("ImageAtlas",jf);var Dl={horizontal:1,vertical:2,horizontalOnly:3},Vf=function(){this.scale=1,this.fontStack="",this.imageName=null};Vf.forText=function(k,F){var K=new Vf;return K.scale=k||1,K.fontStack=F,K},Vf.forImage=function(k){var F=new Vf;return F.imageName=k,F};var ko=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Jc(k,F,K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn){var On,Ln=ko.fromFeature(k,De);qt===Dl.vertical&&Ln.verticalizePunctuation();var Zn=Uo.processBidirectionalText,Kn=Uo.processStyledBidirectionalText;if(Zn&&1===Ln.sections.length){On=[];for(var rr=0,hr=Zn(Ln.toString(),$d(Ln,Et,Fe,F,de,Zt,gn));rr<hr.length;rr+=1){var xr=hr[rr],Rr=new ko;Rr.text=xr,Rr.sections=Ln.sections;for(var Cr=0;Cr<xr.length;Cr++)Rr.sectionIndex.push(0);On.push(Rr)}}else if(Kn){On=[];for(var Br=0,Hr=Kn(Ln.text,Ln.sectionIndex,$d(Ln,Et,Fe,F,de,Zt,gn));Br<Hr.length;Br+=1){var ai=Hr[Br],$r=new ko;$r.text=ai[0],$r.sectionIndex=ai[1],$r.sections=Ln.sections,On.push($r)}}else On=function(qr,Mi){for(var di=[],Qi=qr.text,ti=0,Yi=0,eo=Mi;Yi<eo.length;Yi+=1){var Eo=eo[Yi];di.push(qr.substring(ti,Eo)),ti=Eo}return ti<Qi.length&&di.push(qr.substring(ti,Qi.length)),di}(Ln,$d(Ln,Et,Fe,F,de,Zt,gn));var oi=[],Jr={positionedLines:oi,text:Ln.toString(),top:Dt[1],bottom:Dt[1],left:Dt[0],right:Dt[0],writingMode:qt,iconsInText:!1,verticalizable:!1};return function(qr,Mi,di,Qi,ti,Yi,eo,Eo,bo,po,da,Bo){for(var wa=0,Fa=-17,pa=0,Qa=0,ea="right"===Eo?1:"left"===Eo?0:.5,Ta=0,Na=0,za=ti;Na<za.length;Na+=1){var Ma=za[Na];Ma.trim();var pi=Ma.getMaxScale(),Oi=(pi-1)*Ra,_o={positionedGlyphs:[],lineOffset:0};qr.positionedLines[Ta]=_o;var Zi=_o.positionedGlyphs,Lo=0;if(Ma.length()){for(var Co=0;Co<Ma.length();Co++){var zi=Ma.getSection(Co),qo=Ma.getSectionIndex(Co),ss=Ma.getCharCode(Co),tl=0,ls=null,ou=null,Ru=null,Da=Ra,us=!(bo===Dl.horizontal||!da&&!Cs(ss)||da&&(Du[ss]||ya(ss)));if(zi.imageName){var Os=Qi[zi.imageName];if(!Os)continue;Ru=zi.imageName,qr.iconsInText=qr.iconsInText||!0,ou=Os.paddedRect;var Vl=Os.displaySize;zi.scale=zi.scale*Ra/Bo,tl=Oi+(Ra-Vl[1]*zi.scale),Da=(ls={width:Vl[0],height:Vl[1],left:1,top:-Cl,advance:us?Vl[1]:Vl[0]}).advance;var lf=us?Vl[0]*zi.scale-Ra*pi:Vl[1]*zi.scale-Ra*pi;lf>0&&lf>Lo&&(Lo=lf)}else{var up=di[zi.fontStack],uf=up&&up[ss];if(uf&&uf.rect)ou=uf.rect,ls=uf.metrics;else{var cp=Mi[zi.fontStack],Kh=cp&&cp[ss];if(!Kh)continue;ls=Kh.metrics}tl=(pi-zi.scale)*Ra}us?(qr.verticalizable=!0,Zi.push({glyph:ss,imageName:Ru,x:wa,y:Fa+tl,vertical:us,scale:zi.scale,fontStack:zi.fontStack,sectionIndex:qo,metrics:ls,rect:ou}),wa+=Da*zi.scale+po):(Zi.push({glyph:ss,imageName:Ru,x:wa,y:Fa+tl,vertical:us,scale:zi.scale,fontStack:zi.fontStack,sectionIndex:qo,metrics:ls,rect:ou}),wa+=ls.advance*zi.scale+po)}0!==Zi.length&&(pa=Math.max(wa-po,pa),Jd(Zi,0,Zi.length-1,ea,Lo)),wa=0;var Qh=Yi*pi+Lo;_o.lineOffset=Math.max(Lo,Oi),Fa+=Qh,Qa=Math.max(Qh,Qa),++Ta}else Fa+=Yi,++Ta}var cf=Fa- -17,ed=Kd(eo),td=ed.horizontalAlign,Sc=ed.verticalAlign;(function(au,Fu,ec,Ec,Zf,fp,Xf,hp,ff){var nd,Cc=(Fu-ec)*Zf;nd=fp!==Xf?-hp*Ec- -17:(-Ec*ff+.5)*Xf;for(var hf=0,df=au;hf<df.length;hf+=1)for(var Dc=0,$f=df[hf].positionedGlyphs;Dc<$f.length;Dc+=1){var Kf=$f[Dc];Kf.x+=Cc,Kf.y+=nd}})(qr.positionedLines,ea,td,Sc,pa,Qa,Yi,cf,ti.length),qr.top+=-Sc*cf,qr.bottom=qr.top+cf,qr.left+=-td*pa,qr.right=qr.left+pa}(Jr,F,K,de,On,Ye,it,mt,qt,Et,Qt,bn),!function(qr){for(var Mi=0,di=qr;Mi<di.length;Mi+=1)if(0!==di[Mi].positionedGlyphs.length)return!1;return!0}(oi)&&Jr}ko.fromFeature=function(k,F){for(var K=new ko,de=0;de<k.sections.length;de++){var De=k.sections[de];De.image?K.addImageSection(De):K.addTextSection(De,F)}return K},ko.prototype.length=function(){return this.text.length},ko.prototype.getSection=function(k){return this.sections[this.sectionIndex[k]]},ko.prototype.getSectionIndex=function(k){return this.sectionIndex[k]},ko.prototype.getCharCode=function(k){return this.text.charCodeAt(k)},ko.prototype.verticalizePunctuation=function(){this.text=function(k){for(var F="",K=0;K<k.length;K++){var de=k.charCodeAt(K+1)||null,De=k.charCodeAt(K-1)||null;de&&lo(de)&&!Ja[k[K+1]]||De&&lo(De)&&!Ja[k[K-1]]||!Ja[k[K]]?F+=k[K]:F+=Ja[k[K]]}return F}(this.text)},ko.prototype.trim=function(){for(var k=0,F=0;F<this.text.length&&Du[this.text.charCodeAt(F)];F++)k++;for(var K=this.text.length,de=this.text.length-1;de>=0&&de>=k&&Du[this.text.charCodeAt(de)];de--)K--;this.text=this.text.substring(k,K),this.sectionIndex=this.sectionIndex.slice(k,K)},ko.prototype.substring=function(k,F){var K=new ko;return K.text=this.text.substring(k,F),K.sectionIndex=this.sectionIndex.slice(k,F),K.sections=this.sections,K},ko.prototype.toString=function(){return this.text},ko.prototype.getMaxScale=function(){var k=this;return this.sectionIndex.reduce(function(F,K){return Math.max(F,k.sections[K].scale)},0)},ko.prototype.addTextSection=function(k,F){this.text+=k.text,this.sections.push(Vf.forText(k.scale,k.fontStack||F));for(var K=this.sections.length-1,de=0;de<k.text.length;++de)this.sectionIndex.push(K)},ko.prototype.addImageSection=function(k){var F=k.image?k.image.name:"";if(0!==F.length){var K=this.getNextImageSectionCharCode();K?(this.text+=String.fromCharCode(K),this.sections.push(Vf.forImage(F)),this.sectionIndex.push(this.sections.length-1)):D("Reached maximum number of images 6401")}else D("Can't add FormattedSection with an empty image.")},ko.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Du={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},hl={};function Xd(k,F,K,de,De,Fe){if(F.imageName){var Ye=de[F.imageName];return Ye?Ye.displaySize[0]*F.scale*Ra/Fe+De:0}var it=K[F.fontStack],mt=it&&it[k];return mt?mt.metrics.advance*F.scale+De:0}function _0(k,F,K,de){var De=Math.pow(k-F,2);return de?k<F?De/2:2*De:De+Math.abs(K)*K}function fm(k,F,K){var de=0;return 10===k&&(de-=1e4),K&&(de+=150),40!==k&&65288!==k||(de+=50),41!==F&&65289!==F||(de+=50),de}function w0(k,F,K,de,De,Fe){for(var Ye=null,it=_0(F,K,De,Fe),mt=0,Et=de;mt<Et.length;mt+=1){var Dt=Et[mt],qt=_0(F-Dt.x,K,De,Fe)+Dt.badness;qt<=it&&(Ye=Dt,it=qt)}return{index:k,x:F,priorBreak:Ye,badness:it}}function T0(k){return k?T0(k.priorBreak).concat(k.index):[]}function $d(k,F,K,de,De,Fe,Ye){if("point"!==Fe)return[];if(!k)return[];for(var it=[],mt=function(On,Ln,Zn,Kn,rr,hr){for(var xr=0,Rr=0;Rr<On.length();Rr++){var Cr=On.getSection(Rr);xr+=Xd(On.getCharCode(Rr),Cr,Kn,rr,Ln,hr)}return xr/Math.max(1,Math.ceil(xr/Zn))}(k,F,K,de,De,Ye),Et=k.text.indexOf("\u200b")>=0,Dt=0,qt=0;qt<k.length();qt++){var Qt=k.getSection(qt),Zt=k.getCharCode(qt);if(Du[Zt]||(Dt+=Xd(Zt,Qt,de,De,F,Ye)),qt<k.length()-1){var gn=!((bn=Zt)<11904||!(Pr["Bopomofo Extended"](bn)||Pr.Bopomofo(bn)||Pr["CJK Compatibility Forms"](bn)||Pr["CJK Compatibility Ideographs"](bn)||Pr["CJK Compatibility"](bn)||Pr["CJK Radicals Supplement"](bn)||Pr["CJK Strokes"](bn)||Pr["CJK Symbols and Punctuation"](bn)||Pr["CJK Unified Ideographs Extension A"](bn)||Pr["CJK Unified Ideographs"](bn)||Pr["Enclosed CJK Letters and Months"](bn)||Pr["Halfwidth and Fullwidth Forms"](bn)||Pr.Hiragana(bn)||Pr["Ideographic Description Characters"](bn)||Pr["Kangxi Radicals"](bn)||Pr["Katakana Phonetic Extensions"](bn)||Pr.Katakana(bn)||Pr["Vertical Forms"](bn)||Pr["Yi Radicals"](bn)||Pr["Yi Syllables"](bn)));(hl[Zt]||gn||Qt.imageName)&&it.push(w0(qt+1,Dt,mt,it,fm(Zt,k.getCharCode(qt+1),gn&&Et),!1))}}var bn;return T0(w0(k.length(),Dt,mt,it,0,!0))}function Kd(k){var F=.5,K=.5;switch(k){case"right":case"top-right":case"bottom-right":F=1;break;case"left":case"top-left":case"bottom-left":F=0}switch(k){case"bottom":case"bottom-right":case"bottom-left":K=1;break;case"top":case"top-right":case"top-left":K=0}return{horizontalAlign:F,verticalAlign:K}}function Jd(k,F,K,de,De){if(de||De)for(var Fe=k[K],it=(k[K].x+Fe.metrics.advance*Fe.scale)*de,mt=F;mt<=K;mt++)k[mt].x-=it,k[mt].y+=De}function Hf(k,F,K,de,De,Fe){var Ye,it=k.image;if(it.content){var mt=it.content,Et=it.pixelRatio||1;Ye=[mt[0]/Et,mt[1]/Et,it.displaySize[0]-mt[2]/Et,it.displaySize[1]-mt[3]/Et]}var Dt,qt,Qt,Zt,gn=F.left*Fe,bn=F.right*Fe;"width"===K||"both"===K?(Zt=De[0]+gn-de[3],qt=De[0]+bn+de[1]):qt=(Zt=De[0]+(gn+bn-it.displaySize[0])/2)+it.displaySize[0];var On=F.top*Fe,Ln=F.bottom*Fe;return"height"===K||"both"===K?(Dt=De[1]+On-de[0],Qt=De[1]+Ln+de[2]):Qt=(Dt=De[1]+(On+Ln-it.displaySize[1])/2)+it.displaySize[1],{image:it,top:Dt,right:qt,bottom:Qt,left:Zt,collisionPadding:Ye}}hl[10]=!0,hl[32]=!0,hl[38]=!0,hl[40]=!0,hl[41]=!0,hl[43]=!0,hl[45]=!0,hl[47]=!0,hl[173]=!0,hl[183]=!0,hl[8203]=!0,hl[8208]=!0,hl[8211]=!0,hl[8231]=!0;var Qc=function(k){function F(K,de,De,Fe){k.call(this,K,de),this.angle=De,void 0!==Fe&&(this.segment=Fe)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.clone=function(){return new F(this.x,this.y,this.angle,this.segment)},F}(t);Mr("Anchor",Qc);var Il=128;function Qd(k,F){var K=F.expression;if("constant"===K.kind)return{kind:"constant",layoutSize:K.evaluate(new yi(k+1))};if("source"===K.kind)return{kind:"source"};for(var de=K.zoomStops,De=K.interpolationType,Fe=0;Fe<de.length&&de[Fe]<=k;)Fe++;for(var Ye=Fe=Math.max(0,Fe-1);Ye<de.length&&de[Ye]<k+1;)Ye++;Ye=Math.min(de.length-1,Ye);var it=de[Fe],mt=de[Ye];return"composite"===K.kind?{kind:"composite",minZoom:it,maxZoom:mt,interpolationType:De}:{kind:"camera",minZoom:it,maxZoom:mt,minSize:K.evaluate(new yi(it)),maxSize:K.evaluate(new yi(mt)),interpolationType:De}}function Rh(k,F,K){var de=F.uSize,Fe=K.lowerSize;return"source"===k.kind?Fe/Il:"composite"===k.kind?Qr(Fe/Il,K.upperSize/Il,F.uSizeT):de}function M0(k,F){var K=0,de=0;if("constant"===k.kind)de=k.layoutSize;else if("source"!==k.kind){var De=k.interpolationType,it=De?l(Go.interpolationFactor(De,F,k.minZoom,k.maxZoom),0,1):0;"camera"===k.kind?de=Qr(k.minSize,k.maxSize,it):K=it}return{uSizeT:K,uSize:de}}var A0=Object.freeze({__proto__:null,getSizeData:Qd,evaluateSizeForFeature:Rh,evaluateSizeForZoom:M0,SIZE_PACK_FACTOR:Il});function Fh(k,F,K,de,De){if(void 0===F.segment)return!0;for(var Fe=F,Ye=F.segment+1,it=0;it>-K/2;){if(--Ye<0)return!1;it-=k[Ye].dist(Fe),Fe=k[Ye]}it+=k[Ye].dist(k[Ye+1]),Ye++;for(var mt=[],Et=0;it<K/2;){var qt=k[Ye],Qt=k[Ye+1];if(!Qt)return!1;var Zt=k[Ye-1].angleTo(qt)-qt.angleTo(Qt);for(Zt=Math.abs((Zt+3*Math.PI)%(2*Math.PI)-Math.PI),mt.push({distance:it,angleDelta:Zt}),Et+=Zt;it-mt[0].distance>de;)Et-=mt.shift().angleDelta;if(Et>De)return!1;Ye++,it+=qt.dist(Qt)}return!0}function qf(k){for(var F=0,K=0;K<k.length-1;K++)F+=k[K].dist(k[K+1]);return F}function ep(k,F,K){return k?.6*F*K:0}function k0(k,F){return Math.max(k?k.right-k.left:0,F?F.right-F.left:0)}function hm(k,F,K,de,De,Fe){for(var Ye=ep(K,De,Fe),it=k0(K,de)*Fe,mt=0,Et=qf(k)/2,Dt=0;Dt<k.length-1;Dt++){var qt=k[Dt],Qt=k[Dt+1],Zt=qt.dist(Qt);if(mt+Zt>Et){var gn=(Et-mt)/Zt,bn=Qr(qt.x,Qt.x,gn),On=Qr(qt.y,Qt.y,gn),Ln=new Qc(bn,On,Qt.angleTo(qt),Dt);return Ln._round(),!Ye||Fh(k,Ln,it,Ye,F)?Ln:void 0}mt+=Zt}}function ef(k,F,K,de,De,Fe,Ye,it,mt){var Et=ep(de,Fe,Ye),Dt=k0(de,De),qt=Dt*Ye,Qt=0===k[0].x||k[0].x===mt||0===k[0].y||k[0].y===mt;return F-qt<F/4&&(F=qt+F/4),tf(k,Qt?F/2*it%F:(Dt/2+2*Fe)*Ye*it%F,F,Et,K,qt,Qt,!1,mt)}function tf(k,F,K,de,De,Fe,Ye,it,mt){for(var Et=Fe/2,Dt=qf(k),qt=0,Qt=F-K,Zt=[],gn=0;gn<k.length-1;gn++){for(var bn=k[gn],On=k[gn+1],Ln=bn.dist(On),Zn=On.angleTo(bn);Qt+K<qt+Ln;){var Kn=((Qt+=K)-qt)/Ln,rr=Qr(bn.x,On.x,Kn),hr=Qr(bn.y,On.y,Kn);if(rr>=0&&rr<mt&&hr>=0&&hr<mt&&Qt-Et>=0&&Qt+Et<=Dt){var xr=new Qc(rr,hr,Zn,gn);xr._round(),de&&!Fh(k,xr,Fe,de,De)||Zt.push(xr)}}qt+=Ln}return it||Zt.length||Ye||(Zt=tf(k,qt/2,K,de,De,Fe,Ye,!0,mt)),Zt}function S0(k,F,K,de,De){for(var Fe=[],Ye=0;Ye<k.length;Ye++)for(var it=k[Ye],mt=void 0,Et=0;Et<it.length-1;Et++){var Dt=it[Et],qt=it[Et+1];Dt.x<F&&qt.x<F||(Dt.x<F?Dt=new t(F,Dt.y+(F-Dt.x)/(qt.x-Dt.x)*(qt.y-Dt.y))._round():qt.x<F&&(qt=new t(F,Dt.y+(F-Dt.x)/(qt.x-Dt.x)*(qt.y-Dt.y))._round()),Dt.y<K&&qt.y<K||(Dt.y<K?Dt=new t(Dt.x+(K-Dt.y)/(qt.y-Dt.y)*(qt.x-Dt.x),K)._round():qt.y<K&&(qt=new t(Dt.x+(K-Dt.y)/(qt.y-Dt.y)*(qt.x-Dt.x),K)._round()),Dt.x>=de&&qt.x>=de||(Dt.x>=de?Dt=new t(de,Dt.y+(de-Dt.x)/(qt.x-Dt.x)*(qt.y-Dt.y))._round():qt.x>=de&&(qt=new t(de,Dt.y+(de-Dt.x)/(qt.x-Dt.x)*(qt.y-Dt.y))._round()),Dt.y>=De&&qt.y>=De||(Dt.y>=De?Dt=new t(Dt.x+(De-Dt.y)/(qt.y-Dt.y)*(qt.x-Dt.x),De)._round():qt.y>=De&&(qt=new t(Dt.x+(De-Dt.y)/(qt.y-Dt.y)*(qt.x-Dt.x),De)._round()),mt&&Dt.equals(mt[mt.length-1])||Fe.push(mt=[Dt]),mt.push(qt)))))}return Fe}var Gf=1;function tp(k,F,K,de){var De=[],Fe=k.image,Ye=Fe.pixelRatio,it=Fe.paddedRect.w-2*Gf,mt=Fe.paddedRect.h-2*Gf,Et=k.right-k.left,Dt=k.bottom-k.top,qt=Fe.stretchX||[[0,it]],Qt=Fe.stretchY||[[0,mt]],Zt=function(Yi,eo){return Yi+eo[1]-eo[0]},gn=qt.reduce(Zt,0),bn=Qt.reduce(Zt,0),On=it-gn,Ln=mt-bn,Zn=0,Kn=gn,rr=0,hr=bn,xr=0,Rr=On,Cr=0,Br=Ln;if(Fe.content&&de){var Hr=Fe.content;Zn=Nh(qt,0,Hr[0]),rr=Nh(Qt,0,Hr[1]),Kn=Nh(qt,Hr[0],Hr[2]),hr=Nh(Qt,Hr[1],Hr[3]),xr=Hr[0]-Zn,Cr=Hr[1]-rr,Rr=Hr[2]-Hr[0]-Kn,Br=Hr[3]-Hr[1]-hr}var ai=function(Yi,eo,Eo,bo){var po=zh(Yi.stretch-Zn,Kn,Et,k.left),da=Bh(Yi.fixed-xr,Rr,Yi.stretch,gn),Bo=zh(eo.stretch-rr,hr,Dt,k.top),wa=Bh(eo.fixed-Cr,Br,eo.stretch,bn),Fa=zh(Eo.stretch-Zn,Kn,Et,k.left),pa=Bh(Eo.fixed-xr,Rr,Eo.stretch,gn),Qa=zh(bo.stretch-rr,hr,Dt,k.top),ea=Bh(bo.fixed-Cr,Br,bo.stretch,bn),Ta=new t(po,Bo),Na=new t(Fa,Bo),za=new t(Fa,Qa),Ma=new t(po,Qa),pi=new t(da/Ye,wa/Ye),Oi=new t(pa/Ye,ea/Ye),_o=F*Math.PI/180;if(_o){var Zi=Math.sin(_o),Lo=Math.cos(_o),Co=[Lo,-Zi,Zi,Lo];Ta._matMult(Co),Na._matMult(Co),Ma._matMult(Co),za._matMult(Co)}var zi=Yi.stretch+Yi.fixed,ss=eo.stretch+eo.fixed;return{tl:Ta,tr:Na,bl:Ma,br:za,tex:{x:Fe.paddedRect.x+Gf+zi,y:Fe.paddedRect.y+Gf+ss,w:Eo.stretch+Eo.fixed-zi,h:bo.stretch+bo.fixed-ss},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:pi,pixelOffsetBR:Oi,minFontScaleX:Rr/Ye/Et,minFontScaleY:Br/Ye/Dt,isSDF:K}};if(de&&(Fe.stretchX||Fe.stretchY))for(var $r=dm(qt,On,gn),oi=dm(Qt,Ln,bn),Jr=0;Jr<$r.length-1;Jr++)for(var qr=$r[Jr],Mi=$r[Jr+1],di=0;di<oi.length-1;di++)De.push(ai(qr,oi[di],Mi,oi[di+1]));else De.push(ai({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:it+1},{fixed:0,stretch:mt+1}));return De}function Nh(k,F,K){for(var de=0,De=0,Fe=k;De<Fe.length;De+=1){var Ye=Fe[De];de+=Math.max(F,Math.min(K,Ye[1]))-Math.max(F,Math.min(K,Ye[0]))}return de}function dm(k,F,K){for(var de=[{fixed:-Gf,stretch:0}],De=0,Fe=k;De<Fe.length;De+=1){var Ye=Fe[De],it=Ye[0],mt=Ye[1],Et=de[de.length-1];de.push({fixed:it-Et.stretch,stretch:Et.stretch}),de.push({fixed:it-Et.stretch,stretch:Et.stretch+(mt-it)})}return de.push({fixed:F+Gf,stretch:K}),de}function zh(k,F,K,de){return k/F*K+de}function Bh(k,F,K,de){return k-F*K/de}var jh=function(k,F,K,de,De,Fe,Ye,it,mt,Et){if(this.boxStartIndex=k.length,mt){var Dt=Fe.top,qt=Fe.bottom,Qt=Fe.collisionPadding;Qt&&(Dt-=Qt[1],qt+=Qt[3]);var Zt=qt-Dt;Zt>0&&(Zt=Math.max(10,Zt),this.circleDiameter=Zt)}else{var gn=Fe.top*Ye-it,bn=Fe.bottom*Ye+it,On=Fe.left*Ye-it,Ln=Fe.right*Ye+it,Zn=Fe.collisionPadding;if(Zn&&(On-=Zn[0]*Ye,gn-=Zn[1]*Ye,Ln+=Zn[2]*Ye,bn+=Zn[3]*Ye),Et){var Kn=new t(On,gn),rr=new t(Ln,gn),hr=new t(On,bn),xr=new t(Ln,bn),Rr=Et*Math.PI/180;Kn._rotate(Rr),rr._rotate(Rr),hr._rotate(Rr),xr._rotate(Rr),On=Math.min(Kn.x,rr.x,hr.x,xr.x),Ln=Math.max(Kn.x,rr.x,hr.x,xr.x),gn=Math.min(Kn.y,rr.y,hr.y,xr.y),bn=Math.max(Kn.y,rr.y,hr.y,xr.y)}k.emplaceBack(F.x,F.y,On,gn,Ln,bn,K,de,De)}this.boxEndIndex=k.length},Iu=function(k,F){if(void 0===k&&(k=[]),void 0===F&&(F=E0),this.data=k,this.length=this.data.length,this.compare=F,this.length>0)for(var K=(this.length>>1)-1;K>=0;K--)this._down(K)};function E0(k,F){return k<F?-1:k>F?1:0}function pm(k,F,K){void 0===F&&(F=1),void 0===K&&(K=!1);for(var de=1/0,De=1/0,Fe=-1/0,Ye=-1/0,it=k[0],mt=0;mt<it.length;mt++){var Et=it[mt];(!mt||Et.x<de)&&(de=Et.x),(!mt||Et.y<De)&&(De=Et.y),(!mt||Et.x>Fe)&&(Fe=Et.x),(!mt||Et.y>Ye)&&(Ye=Et.y)}var Qt=Math.min(Fe-de,Ye-De),Zt=Qt/2,gn=new Iu([],C0);if(0===Qt)return new t(de,De);for(var bn=de;bn<Fe;bn+=Qt)for(var On=De;On<Ye;On+=Qt)gn.push(new Wf(bn+Zt,On+Zt,Zt,k));for(var Ln=function(rr){for(var hr=0,xr=0,Rr=0,Cr=rr[0],Br=0,Hr=Cr.length,ai=Hr-1;Br<Hr;ai=Br++){var $r=Cr[Br],oi=Cr[ai],Jr=$r.x*oi.y-oi.x*$r.y;xr+=($r.x+oi.x)*Jr,Rr+=($r.y+oi.y)*Jr,hr+=3*Jr}return new Wf(xr/hr,Rr/hr,0,rr)}(k),Zn=gn.length;gn.length;){var Kn=gn.pop();(Kn.d>Ln.d||!Ln.d)&&(Ln=Kn,K&&console.log("found best %d after %d probes",Math.round(1e4*Kn.d)/1e4,Zn)),Kn.max-Ln.d<=F||(gn.push(new Wf(Kn.p.x-(Zt=Kn.h/2),Kn.p.y-Zt,Zt,k)),gn.push(new Wf(Kn.p.x+Zt,Kn.p.y-Zt,Zt,k)),gn.push(new Wf(Kn.p.x-Zt,Kn.p.y+Zt,Zt,k)),gn.push(new Wf(Kn.p.x+Zt,Kn.p.y+Zt,Zt,k)),Zn+=4)}return K&&(console.log("num probes: "+Zn),console.log("best distance: "+Ln.d)),Ln.p}function C0(k,F){return F.max-k.max}function Wf(k,F,K,de){this.p=new t(k,F),this.h=K,this.d=function(De,Fe){for(var Ye=!1,it=1/0,mt=0;mt<Fe.length;mt++)for(var Et=Fe[mt],Dt=0,qt=Et.length,Qt=qt-1;Dt<qt;Qt=Dt++){var Zt=Et[Dt],gn=Et[Qt];Zt.y>De.y!=gn.y>De.y&&De.x<(gn.x-Zt.x)*(De.y-Zt.y)/(gn.y-Zt.y)+Zt.x&&(Ye=!Ye),it=Math.min(it,hi(De,Zt,gn))}return(Ye?1:-1)*Math.sqrt(it)}(this.p,de),this.max=this.d+this.h*Math.SQRT2}Iu.prototype.push=function(k){this.data.push(k),this.length++,this._up(this.length-1)},Iu.prototype.pop=function(){if(0!==this.length){var k=this.data[0],F=this.data.pop();return this.length--,this.length>0&&(this.data[0]=F,this._down(0)),k}},Iu.prototype.peek=function(){return this.data[0]},Iu.prototype._up=function(k){for(var F=this.data,K=this.compare,de=F[k];k>0;){var De=k-1>>1,Fe=F[De];if(K(de,Fe)>=0)break;F[k]=Fe,k=De}F[k]=de},Iu.prototype._down=function(k){for(var F=this.data,K=this.compare,de=this.length>>1,De=F[k];k<de;){var Fe=1+(k<<1),Ye=F[Fe],it=Fe+1;if(it<this.length&&K(F[it],Ye)<0&&(Fe=it,Ye=F[it]),K(Ye,De)>=0)break;F[k]=Ye,k=Fe}F[k]=De};var D0=Number.POSITIVE_INFINITY;function I0(k,F){return F[1]!==D0?function(K,de,De){var Fe=0,Ye=0;switch(de=Math.abs(de),De=Math.abs(De),K){case"top-right":case"top-left":case"top":Ye=De-7;break;case"bottom-right":case"bottom-left":case"bottom":Ye=7-De}switch(K){case"top-right":case"bottom-right":case"right":Fe=-de;break;case"top-left":case"bottom-left":case"left":Fe=de}return[Fe,Ye]}(k,F[0],F[1]):function(K,de){var De=0,Fe=0;de<0&&(de=0);var Ye=de/Math.sqrt(2);switch(K){case"top-right":case"top-left":Fe=Ye-7;break;case"bottom-right":case"bottom-left":Fe=7-Ye;break;case"bottom":Fe=7-de;break;case"top":Fe=de-7}switch(K){case"top-right":case"bottom-right":De=-Ye;break;case"top-left":case"bottom-left":De=Ye;break;case"left":De=de;break;case"right":De=-de}return[De,Fe]}(k,F[0])}function np(k){switch(k){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Tc=32640;function gm(k,F,K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn){var bn=function(rr,hr,xr,Rr,Cr,Br,Hr,ai){for(var $r=Rr.layout.get("text-rotate").evaluate(Br,{})*Math.PI/180,oi=[],Jr=0,qr=hr.positionedLines;Jr<qr.length;Jr+=1)for(var Mi=qr[Jr],di=0,Qi=Mi.positionedGlyphs;di<Qi.length;di+=1){var ti=Qi[di];if(ti.rect){var Yi=ti.rect||{},eo=Cl+1,Eo=!0,bo=1,po=0,da=(Cr||ai)&&ti.vertical,Bo=ti.metrics.advance*ti.scale/2;if(ai&&hr.verticalizable&&(po=Mi.lineOffset/2-(ti.imageName?-(Ra-ti.metrics.width*ti.scale)/2:(ti.scale-1)*Ra)),ti.imageName){var pa=Hr[ti.imageName];Eo=pa.sdf,eo=1/(bo=pa.pixelRatio)}var Qa=Cr?[ti.x+Bo,ti.y]:[0,0],ea=Cr?[0,0]:[ti.x+Bo+xr[0],ti.y+xr[1]-po],Ta=[0,0];da&&(Ta=ea,ea=[0,0]);var Na=(ti.metrics.left-eo)*ti.scale-Bo+ea[0],za=(-ti.metrics.top-eo)*ti.scale+ea[1],Ma=Na+Yi.w*ti.scale/bo,pi=za+Yi.h*ti.scale/bo,Oi=new t(Na,za),_o=new t(Ma,za),Zi=new t(Na,pi),Lo=new t(Ma,pi);if(da){var Co=new t(-Bo,Bo- -17),zi=-Math.PI/2,qo=Ra/2-Bo,tl=new t(22-qo,-(ti.imageName?qo:0)),ls=new(Function.prototype.bind.apply(t,[null].concat(Ta)));Oi._rotateAround(zi,Co)._add(tl)._add(ls),_o._rotateAround(zi,Co)._add(tl)._add(ls),Zi._rotateAround(zi,Co)._add(tl)._add(ls),Lo._rotateAround(zi,Co)._add(tl)._add(ls)}if($r){var ou=Math.sin($r),Ru=Math.cos($r),Da=[Ru,-ou,ou,Ru];Oi._matMult(Da),_o._matMult(Da),Zi._matMult(Da),Lo._matMult(Da)}var us=new t(0,0),Os=new t(0,0);oi.push({tl:Oi,tr:_o,bl:Zi,br:Lo,tex:Yi,writingMode:hr.writingMode,glyphOffset:Qa,sectionIndex:ti.sectionIndex,isSDF:Eo,pixelOffsetTL:us,pixelOffsetBR:Os,minFontScaleX:0,minFontScaleY:0})}}return oi}(0,K,it,De,Fe,Ye,de,k.allowVerticalPlacement),On=k.textSizeData,Ln=null;"source"===On.kind?(Ln=[Il*De.layout.get("text-size").evaluate(Ye,{})])[0]>Tc&&D(k.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===On.kind&&((Ln=[Il*Zt.compositeTextSizes[0].evaluate(Ye,{},gn),Il*Zt.compositeTextSizes[1].evaluate(Ye,{},gn)])[0]>Tc||Ln[1]>Tc)&&D(k.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),k.addSymbols(k.text,bn,Ln,it,Fe,Ye,Et,F,mt.lineStartIndex,mt.lineLength,Qt,gn);for(var Zn=0,Kn=Dt;Zn<Kn.length;Zn+=1)qt[Kn[Zn]]=k.text.placedSymbolArray.length-1;return 4*bn.length}function Uh(k){for(var F in k)return k[F];return null}function Sy(k,F,K,de){var De=k.compareText;if(F in De){for(var Fe=De[F],Ye=Fe.length-1;Ye>=0;Ye--)if(de.dist(Fe[Ye])<K)return!0}else De[F]=[];return De[F].push(de),!1}var Ey=Xc.VectorTileFeature.types,Cy=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function rp(k,F,K,de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt){var Zt=it?Math.min(Tc,Math.round(it[0])):0,gn=it?Math.min(Tc,Math.round(it[1])):0;k.emplaceBack(F,K,Math.round(32*de),Math.round(32*De),Fe,Ye,(Zt<<1)+(mt?1:0),gn,16*Et,16*Dt,256*qt,256*Qt)}function L0(k,F,K){k.emplaceBack(F.x,F.y,K),k.emplaceBack(F.x,F.y,K),k.emplaceBack(F.x,F.y,K),k.emplaceBack(F.x,F.y,K)}function mm(k){for(var F=0,K=k.sections;F<K.length;F+=1)if(ii(K[F].text))return!0;return!1}var Lu=function(k){this.layoutVertexArray=new X,this.indexArray=new ke,this.programConfigurations=k,this.segments=new tr,this.dynamicLayoutVertexArray=new Z,this.opacityVertexArray=new L,this.placedSymbolArray=new zt};Lu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Lu.prototype.upload=function(k,F,K,de){this.isEmpty()||(K&&(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,gc.members),this.indexBuffer=k.createIndexBuffer(this.indexArray,F),this.dynamicLayoutVertexBuffer=k.createVertexBuffer(this.dynamicLayoutVertexArray,am.members,!0),this.opacityVertexBuffer=k.createVertexBuffer(this.opacityVertexArray,Cy,!0),this.opacityVertexBuffer.itemSize=1),(K||de)&&this.programConfigurations.upload(k))},Lu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Mr("SymbolBuffers",Lu);var Ku=function(k,F,K){this.layoutVertexArray=new k,this.layoutAttributes=F,this.indexArray=new K,this.segments=new tr,this.collisionVertexArray=new pe};Ku.prototype.upload=function(k){this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=k.createVertexBuffer(this.collisionVertexArray,y0.members,!0)},Ku.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Mr("CollisionBuffers",Ku);var Ji=function(k){this.collisionBoxArray=k.collisionBoxArray,this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(Ye){return Ye.id}),this.index=k.index,this.pixelRatio=k.pixelRatio,this.sourceLayerIndex=k.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=zd([]),this.placementViewportMatrix=zd([]);var F=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Qd(this.zoom,F["text-size"]),this.iconSizeData=Qd(this.zoom,F["icon-size"]);var K=this.layers[0].layout,de=K.get("symbol-sort-key"),De=K.get("symbol-z-order");this.canOverlap=K.get("text-allow-overlap")||K.get("icon-allow-overlap")||K.get("text-ignore-placement")||K.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==De&&void 0!==de.constantOr(1),this.sortFeaturesByY=("viewport-y"===De||"auto"===De&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===K.get("symbol-placement")&&(this.writingModes=K.get("text-writing-mode").map(function(Ye){return Dl[Ye]})),this.stateDependentLayerIds=this.layers.filter(function(Ye){return Ye.isStateDependent()}).map(function(Ye){return Ye.id}),this.sourceID=k.sourceID};Ji.prototype.createArrays=function(){this.text=new Lu(new Io(this.layers,this.zoom,function(k){return/^text/.test(k)})),this.icon=new Lu(new Io(this.layers,this.zoom,function(k){return/^icon/.test(k)})),this.glyphOffsetArray=new Xt,this.lineVertexArray=new Tn,this.symbolInstances=new en},Ji.prototype.calculateGlyphDependencies=function(k,F,K,de,De){for(var Fe=0;Fe<k.length;Fe++)if(F[k.charCodeAt(Fe)]=!0,(K||de)&&De){var Ye=Ja[k.charAt(Fe)];Ye&&(F[Ye.charCodeAt(0)]=!0)}},Ji.prototype.populate=function(k,F,K){var de=this.layers[0],De=de.layout,Fe=De.get("text-font"),Ye=De.get("text-field"),it=De.get("icon-image"),mt=("constant"!==Ye.value.kind||Ye.value.value instanceof $n&&!Ye.value.value.isEmpty()||Ye.value.value.toString().length>0)&&("constant"!==Fe.value.kind||Fe.value.value.length>0),Et="constant"!==it.value.kind||!!it.value.value||Object.keys(it.parameters).length>0,Dt=De.get("symbol-sort-key");if(this.features=[],mt||Et){for(var qt=F.iconDependencies,Qt=F.glyphDependencies,Zt=F.availableImages,gn=new yi(this.zoom),bn=0,On=k;bn<On.length;bn+=1){var Ln=On[bn],Zn=Ln.feature,Kn=Ln.id,rr=Ln.index,hr=Ln.sourceLayerIndex,xr=de._featureFilter.needGeometry,Rr=xo(Zn,xr);if(de._featureFilter.filter(gn,Rr,K)){xr||(Rr.geometry=Ho(Zn));var Cr=void 0;if(mt){var Br=de.getValueAndResolveTokens("text-field",Rr,K,Zt),Hr=$n.factory(Br);mm(Hr)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Yo()||this.hasRTLText&&Uo.isParsed())&&(Cr=sm(Hr,de,Rr))}var ai=void 0;if(Et){var $r=de.getValueAndResolveTokens("icon-image",Rr,K,Zt);ai=$r instanceof nr?$r:nr.fromString($r)}if(Cr||ai){var oi=this.sortFeaturesByKey?Dt.evaluate(Rr,{},K):void 0;if(this.features.push({id:Kn,text:Cr,icon:ai,index:rr,sourceLayerIndex:hr,geometry:Rr.geometry,properties:Zn.properties,type:Ey[Zn.type],sortKey:oi}),ai&&(qt[ai.name]=!0),Cr){var qr=Fe.evaluate(Rr,{},K).join(","),Mi="map"===De.get("text-rotation-alignment")&&"point"!==De.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Dl.vertical)>=0;for(var di=0,Qi=Cr.sections;di<Qi.length;di+=1){var ti=Qi[di];if(ti.image)qt[ti.image.name]=!0;else{var Yi=Ys(Cr.toString()),eo=ti.fontStack||qr,Eo=Qt[eo]=Qt[eo]||{};this.calculateGlyphDependencies(ti.text,Eo,Mi,this.allowVerticalPlacement,Yi)}}}}}}"line"===De.get("symbol-placement")&&(this.features=function(bo){var po={},da={},Bo=[],wa=0;function Fa(Lo){Bo.push(bo[Lo]),wa++}function pa(Lo,Co,zi){var qo=da[Lo];return delete da[Lo],da[Co]=qo,Bo[qo].geometry[0].pop(),Bo[qo].geometry[0]=Bo[qo].geometry[0].concat(zi[0]),qo}function Qa(Lo,Co,zi){var qo=po[Co];return delete po[Co],po[Lo]=qo,Bo[qo].geometry[0].shift(),Bo[qo].geometry[0]=zi[0].concat(Bo[qo].geometry[0]),qo}function ea(Lo,Co,zi){var qo=zi?Co[0][Co[0].length-1]:Co[0][0];return Lo+":"+qo.x+":"+qo.y}for(var Ta=0;Ta<bo.length;Ta++){var Na=bo[Ta],za=Na.geometry,Ma=Na.text?Na.text.toString():null;if(Ma){var pi=ea(Ma,za),Oi=ea(Ma,za,!0);if(pi in da&&Oi in po&&da[pi]!==po[Oi]){var _o=Qa(pi,Oi,za),Zi=pa(pi,Oi,Bo[_o].geometry);delete po[pi],delete da[Oi],da[ea(Ma,Bo[Zi].geometry,!0)]=Zi,Bo[_o].geometry=null}else pi in da?pa(pi,Oi,za):Oi in po?Qa(pi,Oi,za):(Fa(Ta),po[pi]=wa-1,da[Oi]=wa-1)}else Fa(Ta)}return Bo.filter(function(Lo){return Lo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(bo,po){return bo.sortKey-po.sortKey})}},Ji.prototype.update=function(k,F,K){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(k,F,this.layers,K),this.icon.programConfigurations.updatePaintArrays(k,F,this.layers,K))},Ji.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},Ji.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ji.prototype.upload=function(k){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(k),this.iconCollisionBox.upload(k)),this.text.upload(k,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(k,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ji.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ji.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ji.prototype.addToLineVertexArray=function(k,F){var K=this.lineVertexArray.length;if(void 0!==k.segment){for(var de=k.dist(F[k.segment+1]),De=k.dist(F[k.segment]),Fe={},Ye=k.segment+1;Ye<F.length;Ye++)Fe[Ye]={x:F[Ye].x,y:F[Ye].y,tileUnitDistanceFromAnchor:de},Ye<F.length-1&&(de+=F[Ye+1].dist(F[Ye]));for(var it=k.segment||0;it>=0;it--)Fe[it]={x:F[it].x,y:F[it].y,tileUnitDistanceFromAnchor:De},it>0&&(De+=F[it-1].dist(F[it]));for(var mt=0;mt<F.length;mt++){var Et=Fe[mt];this.lineVertexArray.emplaceBack(Et.x,Et.y,Et.tileUnitDistanceFromAnchor)}}return{lineStartIndex:K,lineLength:this.lineVertexArray.length-K}},Ji.prototype.addSymbols=function(k,F,K,de,De,Fe,Ye,it,mt,Et,Dt,qt){for(var Qt=k.indexArray,Zt=k.layoutVertexArray,gn=k.segments.prepareSegment(4*F.length,Zt,Qt,this.canOverlap?Fe.sortKey:void 0),bn=this.glyphOffsetArray.length,On=gn.vertexLength,Ln=this.allowVerticalPlacement&&Ye===Dl.vertical?Math.PI/2:0,Zn=Fe.text&&Fe.text.sections,Kn=0;Kn<F.length;Kn++){var rr=F[Kn],hr=rr.tl,xr=rr.tr,Rr=rr.bl,Cr=rr.br,Br=rr.tex,Hr=rr.pixelOffsetTL,ai=rr.pixelOffsetBR,$r=rr.minFontScaleX,oi=rr.minFontScaleY,Jr=rr.glyphOffset,qr=rr.isSDF,Mi=rr.sectionIndex,di=gn.vertexLength,Qi=Jr[1];rp(Zt,it.x,it.y,hr.x,Qi+hr.y,Br.x,Br.y,K,qr,Hr.x,Hr.y,$r,oi),rp(Zt,it.x,it.y,xr.x,Qi+xr.y,Br.x+Br.w,Br.y,K,qr,ai.x,Hr.y,$r,oi),rp(Zt,it.x,it.y,Rr.x,Qi+Rr.y,Br.x,Br.y+Br.h,K,qr,Hr.x,ai.y,$r,oi),rp(Zt,it.x,it.y,Cr.x,Qi+Cr.y,Br.x+Br.w,Br.y+Br.h,K,qr,ai.x,ai.y,$r,oi),L0(k.dynamicLayoutVertexArray,it,Ln),Qt.emplaceBack(di,di+1,di+2),Qt.emplaceBack(di+1,di+2,di+3),gn.vertexLength+=4,gn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Jr[0]),Kn!==F.length-1&&Mi===F[Kn+1].sectionIndex||k.programConfigurations.populatePaintArrays(Zt.length,Fe,Fe.index,{},qt,Zn&&Zn[Mi])}k.placedSymbolArray.emplaceBack(it.x,it.y,bn,this.glyphOffsetArray.length-bn,On,mt,Et,it.segment,K?K[0]:0,K?K[1]:0,de[0],de[1],Ye,0,!1,0,Dt)},Ji.prototype._addCollisionDebugVertex=function(k,F,K,de,De,Fe){return F.emplaceBack(0,0),k.emplaceBack(K.x,K.y,de,De,Math.round(Fe.x),Math.round(Fe.y))},Ji.prototype.addCollisionDebugVertices=function(k,F,K,de,De,Fe,Ye){var it=De.segments.prepareSegment(4,De.layoutVertexArray,De.indexArray),mt=it.vertexLength,Et=De.layoutVertexArray,Dt=De.collisionVertexArray,qt=Ye.anchorX,Qt=Ye.anchorY;this._addCollisionDebugVertex(Et,Dt,Fe,qt,Qt,new t(k,F)),this._addCollisionDebugVertex(Et,Dt,Fe,qt,Qt,new t(K,F)),this._addCollisionDebugVertex(Et,Dt,Fe,qt,Qt,new t(K,de)),this._addCollisionDebugVertex(Et,Dt,Fe,qt,Qt,new t(k,de)),it.vertexLength+=4;var Zt=De.indexArray;Zt.emplaceBack(mt,mt+1),Zt.emplaceBack(mt+1,mt+2),Zt.emplaceBack(mt+2,mt+3),Zt.emplaceBack(mt+3,mt),it.primitiveLength+=4},Ji.prototype.addDebugCollisionBoxes=function(k,F,K,de){for(var De=k;De<F;De++){var Fe=this.collisionBoxArray.get(De);this.addCollisionDebugVertices(Fe.x1,Fe.y1,Fe.x2,Fe.y2,de?this.textCollisionBox:this.iconCollisionBox,Fe.anchorPoint,K)}},Ji.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ku(ne,Zd.members,vt),this.iconCollisionBox=new Ku(ne,Zd.members,vt);for(var k=0;k<this.symbolInstances.length;k++){var F=this.symbolInstances.get(k);this.addDebugCollisionBoxes(F.textBoxStartIndex,F.textBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.verticalTextBoxStartIndex,F.verticalTextBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.iconBoxStartIndex,F.iconBoxEndIndex,F,!1),this.addDebugCollisionBoxes(F.verticalIconBoxStartIndex,F.verticalIconBoxEndIndex,F,!1)}},Ji.prototype._deserializeCollisionBoxesForSymbol=function(k,F,K,de,De,Fe,Ye,it,mt){for(var Et={},Dt=F;Dt<K;Dt++){var qt=k.get(Dt);Et.textBox={x1:qt.x1,y1:qt.y1,x2:qt.x2,y2:qt.y2,anchorPointX:qt.anchorPointX,anchorPointY:qt.anchorPointY},Et.textFeatureIndex=qt.featureIndex;break}for(var Qt=de;Qt<De;Qt++){var Zt=k.get(Qt);Et.verticalTextBox={x1:Zt.x1,y1:Zt.y1,x2:Zt.x2,y2:Zt.y2,anchorPointX:Zt.anchorPointX,anchorPointY:Zt.anchorPointY},Et.verticalTextFeatureIndex=Zt.featureIndex;break}for(var gn=Fe;gn<Ye;gn++){var bn=k.get(gn);Et.iconBox={x1:bn.x1,y1:bn.y1,x2:bn.x2,y2:bn.y2,anchorPointX:bn.anchorPointX,anchorPointY:bn.anchorPointY},Et.iconFeatureIndex=bn.featureIndex;break}for(var On=it;On<mt;On++){var Ln=k.get(On);Et.verticalIconBox={x1:Ln.x1,y1:Ln.y1,x2:Ln.x2,y2:Ln.y2,anchorPointX:Ln.anchorPointX,anchorPointY:Ln.anchorPointY},Et.verticalIconFeatureIndex=Ln.featureIndex;break}return Et},Ji.prototype.deserializeCollisionBoxes=function(k){this.collisionArrays=[];for(var F=0;F<this.symbolInstances.length;F++){var K=this.symbolInstances.get(F);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(k,K.textBoxStartIndex,K.textBoxEndIndex,K.verticalTextBoxStartIndex,K.verticalTextBoxEndIndex,K.iconBoxStartIndex,K.iconBoxEndIndex,K.verticalIconBoxStartIndex,K.verticalIconBoxEndIndex))}},Ji.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ji.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ji.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ji.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ji.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ji.prototype.addIndicesForPlacedSymbol=function(k,F){for(var K=k.placedSymbolArray.get(F),de=K.vertexStartIndex+4*K.numGlyphs,De=K.vertexStartIndex;De<de;De+=4)k.indexArray.emplaceBack(De,De+1,De+2),k.indexArray.emplaceBack(De+1,De+2,De+3)},Ji.prototype.getSortedSymbolIndexes=function(k){if(this.sortedAngle===k&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var F=Math.sin(k),K=Math.cos(k),de=[],De=[],Fe=[],Ye=0;Ye<this.symbolInstances.length;++Ye){Fe.push(Ye);var it=this.symbolInstances.get(Ye);de.push(0|Math.round(F*it.anchorX+K*it.anchorY)),De.push(it.featureIndex)}return Fe.sort(function(mt,Et){return de[mt]-de[Et]||De[Et]-De[mt]}),Fe},Ji.prototype.addToSortKeyRanges=function(k,F){var K=this.sortKeyRanges[this.sortKeyRanges.length-1];K&&K.sortKey===F?K.symbolInstanceEnd=k+1:this.sortKeyRanges.push({sortKey:F,symbolInstanceStart:k,symbolInstanceEnd:k+1})},Ji.prototype.sortFeatures=function(k){var F=this;if(this.sortFeaturesByY&&this.sortedAngle!==k&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(k),this.sortedAngle=k,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var K=0,de=this.symbolInstanceIndexes;K<de.length;K+=1){var Fe=this.symbolInstances.get(de[K]);this.featureSortOrder.push(Fe.featureIndex),[Fe.rightJustifiedTextSymbolIndex,Fe.centerJustifiedTextSymbolIndex,Fe.leftJustifiedTextSymbolIndex].forEach(function(Ye,it,mt){Ye>=0&&mt.indexOf(Ye)===it&&F.addIndicesForPlacedSymbol(F.text,Ye)}),Fe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Fe.verticalPlacedTextSymbolIndex),Fe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Fe.placedIconSymbolIndex),Fe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Fe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Mr("SymbolBucket",Ji,{omit:["layers","collisionBoxArray","features","compareText"]}),Ji.MAX_GLYPHS=65535,Ji.addDynamicAttributes=L0;var P0=new zo({"symbol-placement":new Zr(et.layout_symbol["symbol-placement"]),"symbol-spacing":new Zr(et.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Zr(et.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ei(et.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Zr(et.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Zr(et.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Zr(et.layout_symbol["icon-ignore-placement"]),"icon-optional":new Zr(et.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Zr(et.layout_symbol["icon-rotation-alignment"]),"icon-size":new ei(et.layout_symbol["icon-size"]),"icon-text-fit":new Zr(et.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Zr(et.layout_symbol["icon-text-fit-padding"]),"icon-image":new ei(et.layout_symbol["icon-image"]),"icon-rotate":new ei(et.layout_symbol["icon-rotate"]),"icon-padding":new Zr(et.layout_symbol["icon-padding"]),"icon-keep-upright":new Zr(et.layout_symbol["icon-keep-upright"]),"icon-offset":new ei(et.layout_symbol["icon-offset"]),"icon-anchor":new ei(et.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Zr(et.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Zr(et.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Zr(et.layout_symbol["text-rotation-alignment"]),"text-field":new ei(et.layout_symbol["text-field"]),"text-font":new ei(et.layout_symbol["text-font"]),"text-size":new ei(et.layout_symbol["text-size"]),"text-max-width":new ei(et.layout_symbol["text-max-width"]),"text-line-height":new Zr(et.layout_symbol["text-line-height"]),"text-letter-spacing":new ei(et.layout_symbol["text-letter-spacing"]),"text-justify":new ei(et.layout_symbol["text-justify"]),"text-radial-offset":new ei(et.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Zr(et.layout_symbol["text-variable-anchor"]),"text-anchor":new ei(et.layout_symbol["text-anchor"]),"text-max-angle":new Zr(et.layout_symbol["text-max-angle"]),"text-writing-mode":new Zr(et.layout_symbol["text-writing-mode"]),"text-rotate":new ei(et.layout_symbol["text-rotate"]),"text-padding":new Zr(et.layout_symbol["text-padding"]),"text-keep-upright":new Zr(et.layout_symbol["text-keep-upright"]),"text-transform":new ei(et.layout_symbol["text-transform"]),"text-offset":new ei(et.layout_symbol["text-offset"]),"text-allow-overlap":new Zr(et.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Zr(et.layout_symbol["text-ignore-placement"]),"text-optional":new Zr(et.layout_symbol["text-optional"])}),Vh={paint:new zo({"icon-opacity":new ei(et.paint_symbol["icon-opacity"]),"icon-color":new ei(et.paint_symbol["icon-color"]),"icon-halo-color":new ei(et.paint_symbol["icon-halo-color"]),"icon-halo-width":new ei(et.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ei(et.paint_symbol["icon-halo-blur"]),"icon-translate":new Zr(et.paint_symbol["icon-translate"]),"icon-translate-anchor":new Zr(et.paint_symbol["icon-translate-anchor"]),"text-opacity":new ei(et.paint_symbol["text-opacity"]),"text-color":new ei(et.paint_symbol["text-color"],{runtimeType:Jt,getOverride:function(k){return k.textColor},hasOverride:function(k){return!!k.textColor}}),"text-halo-color":new ei(et.paint_symbol["text-halo-color"]),"text-halo-width":new ei(et.paint_symbol["text-halo-width"]),"text-halo-blur":new ei(et.paint_symbol["text-halo-blur"]),"text-translate":new Zr(et.paint_symbol["text-translate"]),"text-translate-anchor":new Zr(et.paint_symbol["text-translate-anchor"])}),layout:P0},iu=function(k){this.type=k.property.overrides?k.property.overrides.runtimeType:Bt,this.defaultValue=k};iu.prototype.evaluate=function(k){if(k.formattedSection){var F=this.defaultValue.property.overrides;if(F&&F.hasOverride(k.formattedSection))return F.getOverride(k.formattedSection)}return k.feature&&k.featureState?this.defaultValue.evaluate(k.feature,k.featureState):this.defaultValue.property.specification.default},iu.prototype.eachChild=function(k){this.defaultValue.isConstant()||k(this.defaultValue.value._styleExpression.expression)},iu.prototype.outputDefined=function(){return!1},iu.prototype.serialize=function(){return null},Mr("FormatSectionOverride",iu,{omit:["defaultValue"]});var O0=function(k){function F(K){k.call(this,K,Vh)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.recalculate=function(K,de){if(k.prototype.recalculate.call(this,K,de),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var De=this.layout.get("text-writing-mode");if(De){for(var Fe=[],Ye=0,it=De;Ye<it.length;Ye+=1){var mt=it[Ye];Fe.indexOf(mt)<0&&Fe.push(mt)}this.layout._values["text-writing-mode"]=Fe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},F.prototype.getValueAndResolveTokens=function(K,de,De,Fe){var mt,Ye=this.layout.get(K).evaluate(de,{},De,Fe),it=this._unevaluatedLayout._values[K];return it.isDataDriven()||rl(it.value)||!Ye?Ye:(mt=de.properties,Ye.replace(/{([^{}]+)}/g,function(Dt,qt){return qt in mt?String(mt[qt]):""}))},F.prototype.createBucket=function(K){return new Ji(K)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype._setPaintOverrides=function(){for(var K=0,de=Vh.paint.overridableProperties;K<de.length;K+=1){var De=de[K];if(F.hasPaintOverride(this.layout,De)){var Fe,Ye=this.paint.get(De),it=new iu(Ye),mt=new Ss(it,Ye.property.specification);Fe="constant"===Ye.value.kind||"source"===Ye.value.kind?new ka("source",mt):new Al("composite",mt,Ye.value.zoomStops,Ye.value._interpolationType),this.paint._values[De]=new io(Ye.property,Fe,Ye.parameters)}}},F.prototype._handleOverridablePaintPropertyUpdate=function(K,de,De){return!(!this.layout||de.isDataDriven()||De.isDataDriven())&&F.hasPaintOverride(this.layout,K)},F.hasPaintOverride=function(K,de){var De=K.get("text-field"),Fe=Vh.paint.properties[de],Ye=!1,it=function(Dt){for(var qt=0,Qt=Dt;qt<Qt.length;qt+=1)if(Fe.overrides&&Fe.overrides.hasOverride(Qt[qt]))return void(Ye=!0)};if("constant"===De.value.kind&&De.value.value instanceof $n)it(De.value.value.sections);else if("source"===De.value.kind){var mt=function(Dt){Ye||(Dt instanceof fn&&cr(Dt.value)===Gn?it(Dt.value.sections):Dt instanceof Wn?it(Dt.sections):Dt.eachChild(mt))},Et=De.value;Et._styleExpression&&mt(Et._styleExpression.expression)}return Ye},F}(Gi),R0={paint:new zo({"background-color":new Zr(et.paint_background["background-color"]),"background-pattern":new Ks(et.paint_background["background-pattern"]),"background-opacity":new Zr(et.paint_background["background-opacity"])})},Hh=function(k){function F(K){k.call(this,K,R0)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F}(Gi),qh={paint:new zo({"raster-opacity":new Zr(et.paint_raster["raster-opacity"]),"raster-hue-rotate":new Zr(et.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Zr(et.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Zr(et.paint_raster["raster-brightness-max"]),"raster-saturation":new Zr(et.paint_raster["raster-saturation"]),"raster-contrast":new Zr(et.paint_raster["raster-contrast"]),"raster-resampling":new Zr(et.paint_raster["raster-resampling"]),"raster-fade-duration":new Zr(et.paint_raster["raster-fade-duration"])})},Ju=function(k){function F(K){k.call(this,K,qh)}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F}(Gi),vm=function(k){function F(K){k.call(this,K,{}),this.implementation=K}return k&&(F.__proto__=k),(F.prototype=Object.create(k&&k.prototype)).constructor=F,F.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},F.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},F.prototype.recalculate=function(){},F.prototype.updateTransitions=function(){},F.prototype.hasTransition=function(){},F.prototype.serialize=function(){},F.prototype.onAdd=function(K){this.implementation.onAdd&&this.implementation.onAdd(K,K.painter.context.gl)},F.prototype.onRemove=function(K){this.implementation.onRemove&&this.implementation.onRemove(K,K.painter.context.gl)},F}(Gi),ym={circle:xs,heatmap:ku,hillshade:qc,fill:Qg,"fill-extrusion":im,line:om,symbol:O0,background:Hh,raster:Ju},F0=n.HTMLImageElement,ip=n.HTMLCanvasElement,Gh=n.HTMLVideoElement,N0=n.ImageData,Wh=n.ImageBitmap,Mc=function(k,F,K,de){this.context=k,this.format=K,this.texture=k.gl.createTexture(),this.update(F,de)};Mc.prototype.update=function(k,F,K){var de=k.width,De=k.height,Fe=!(this.size&&this.size[0]===de&&this.size[1]===De||K),Ye=this.context,it=Ye.gl;if(this.useMipmap=!(!F||!F.useMipmap),it.bindTexture(it.TEXTURE_2D,this.texture),Ye.pixelStoreUnpackFlipY.set(!1),Ye.pixelStoreUnpack.set(1),Ye.pixelStoreUnpackPremultiplyAlpha.set(this.format===it.RGBA&&(!F||!1!==F.premultiply)),Fe)this.size=[de,De],k instanceof F0||k instanceof ip||k instanceof Gh||k instanceof N0||Wh&&k instanceof Wh?it.texImage2D(it.TEXTURE_2D,0,this.format,this.format,it.UNSIGNED_BYTE,k):it.texImage2D(it.TEXTURE_2D,0,this.format,de,De,0,this.format,it.UNSIGNED_BYTE,k.data);else{var mt=K||{x:0,y:0},Et=mt.x,Dt=mt.y;k instanceof F0||k instanceof ip||k instanceof Gh||k instanceof N0||Wh&&k instanceof Wh?it.texSubImage2D(it.TEXTURE_2D,0,Et,Dt,it.RGBA,it.UNSIGNED_BYTE,k):it.texSubImage2D(it.TEXTURE_2D,0,Et,Dt,de,De,it.RGBA,it.UNSIGNED_BYTE,k.data)}this.useMipmap&&this.isSizePowerOfTwo()&&it.generateMipmap(it.TEXTURE_2D)},Mc.prototype.bind=function(k,F,K){var de=this.context.gl;de.bindTexture(de.TEXTURE_2D,this.texture),K!==de.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(K=de.LINEAR),k!==this.filter&&(de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,k),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,K||k),this.filter=k),F!==this.wrap&&(de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,F),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,F),this.wrap=F)},Mc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Mc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Yh=function(k){var F=this;this._callback=k,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){F._triggered=!1,F._callback()})};Yh.prototype.trigger=function(){var k=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){k._triggered=!1,k._callback()},0))},Yh.prototype.remove=function(){delete this._channel,this._callback=function(){}};var nf=function(k,F,K){this.target=k,this.parent=F,this.mapId=K,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},x(["receive","process"],this),this.invoker=new Yh(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?k:n};function z0(k,F,K){var de=2*Math.PI*6378137/256/Math.pow(2,K);return[k*de-2*Math.PI*6378137/2,F*de-2*Math.PI*6378137/2]}nf.prototype.send=function(k,F,K,de,De){var Fe=this;void 0===De&&(De=!1);var Ye=Math.round(1e18*Math.random()).toString(36).substring(0,10);K&&(this.callbacks[Ye]=K);var it=N(this.globalScope)?void 0:[];return this.target.postMessage({id:Ye,type:k,hasCallback:!!K,targetMapId:de,mustQueue:De,sourceMapId:this.mapId,data:no(F,it)},it),{cancel:function(){K&&delete Fe.callbacks[Ye],Fe.target.postMessage({id:Ye,type:"<cancel>",targetMapId:de,sourceMapId:Fe.mapId})}}},nf.prototype.receive=function(k){var F=k.data,K=F.id;if(K&&(!F.targetMapId||this.mapId===F.targetMapId))if("<cancel>"===F.type){delete this.tasks[K];var de=this.cancelCallbacks[K];delete this.cancelCallbacks[K],de&&de()}else O()||F.mustQueue?(this.tasks[K]=F,this.taskQueue.push(K),this.invoker.trigger()):this.processTask(K,F)},nf.prototype.process=function(){if(this.taskQueue.length){var k=this.taskQueue.shift(),F=this.tasks[k];delete this.tasks[k],this.taskQueue.length&&this.invoker.trigger(),F&&this.processTask(k,F)}},nf.prototype.processTask=function(k,F){var K=this;if("<response>"===F.type){var de=this.callbacks[k];delete this.callbacks[k],de&&(F.error?de(ps(F.error)):de(null,ps(F.data)))}else{var De=!1,Fe=N(this.globalScope)?void 0:[],Ye=F.hasCallback?function(Dt,qt){De=!0,delete K.cancelCallbacks[k],K.target.postMessage({id:k,type:"<response>",sourceMapId:K.mapId,error:Dt?no(Dt):null,data:no(qt,Fe)},Fe)}:function(Dt){De=!0},it=null,mt=ps(F.data);if(this.parent[F.type])it=this.parent[F.type](F.sourceMapId,mt,Ye);else if(this.parent.getWorkerSource){var Et=F.type.split(".");it=this.parent.getWorkerSource(F.sourceMapId,Et[0],mt.source)[Et[1]](mt,Ye)}else Ye(new Error("Could not find function "+F.type));!De&&it&&it.cancel&&(this.cancelCallbacks[k]=it.cancel)}},nf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Wi=function(k,F){k&&(F?this.setSouthWest(k).setNorthEast(F):4===k.length?this.setSouthWest([k[0],k[1]]).setNorthEast([k[2],k[3]]):this.setSouthWest(k[0]).setNorthEast(k[1]))};Wi.prototype.setNorthEast=function(k){return this._ne=k instanceof So?new So(k.lng,k.lat):So.convert(k),this},Wi.prototype.setSouthWest=function(k){return this._sw=k instanceof So?new So(k.lng,k.lat):So.convert(k),this},Wi.prototype.extend=function(k){var F,K,de=this._sw,De=this._ne;if(k instanceof So)F=k,K=k;else{if(!(k instanceof Wi))return Array.isArray(k)?4===k.length||k.every(Array.isArray)?this.extend(Wi.convert(k)):this.extend(So.convert(k)):this;if(K=k._ne,!(F=k._sw)||!K)return this}return de||De?(de.lng=Math.min(F.lng,de.lng),de.lat=Math.min(F.lat,de.lat),De.lng=Math.max(K.lng,De.lng),De.lat=Math.max(K.lat,De.lat)):(this._sw=new So(F.lng,F.lat),this._ne=new So(K.lng,K.lat)),this},Wi.prototype.getCenter=function(){return new So((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Wi.prototype.getSouthWest=function(){return this._sw},Wi.prototype.getNorthEast=function(){return this._ne},Wi.prototype.getNorthWest=function(){return new So(this.getWest(),this.getNorth())},Wi.prototype.getSouthEast=function(){return new So(this.getEast(),this.getSouth())},Wi.prototype.getWest=function(){return this._sw.lng},Wi.prototype.getSouth=function(){return this._sw.lat},Wi.prototype.getEast=function(){return this._ne.lng},Wi.prototype.getNorth=function(){return this._ne.lat},Wi.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Wi.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Wi.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Wi.prototype.contains=function(k){var F=So.convert(k),K=F.lng,de=F.lat,Fe=this._sw.lng<=K&&K<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Fe=this._sw.lng>=K&&K>=this._ne.lng),this._sw.lat<=de&&de<=this._ne.lat&&Fe},Wi.convert=function(k){return!k||k instanceof Wi?k:new Wi(k)};var Zh=6371008.8,So=function(k,F){if(isNaN(k)||isNaN(F))throw new Error("Invalid LngLat object: ("+k+", "+F+")");if(this.lng=+k,this.lat=+F,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};So.prototype.wrap=function(){return new So(h(this.lng,-180,180),this.lat)},So.prototype.toArray=function(){return[this.lng,this.lat]},So.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},So.prototype.distanceTo=function(k){var F=Math.PI/180,K=this.lat*F,de=k.lat*F,De=Math.sin(K)*Math.sin(de)+Math.cos(K)*Math.cos(de)*Math.cos((k.lng-this.lng)*F);return Zh*Math.acos(Math.min(De,1))},So.prototype.toBounds=function(k){void 0===k&&(k=0);var F=360*k/40075017,K=F/Math.cos(Math.PI/180*this.lat);return new Wi(new So(this.lng-K,this.lat-F),new So(this.lng+K,this.lat+F))},So.convert=function(k){if(k instanceof So)return k;if(Array.isArray(k)&&(2===k.length||3===k.length))return new So(Number(k[0]),Number(k[1]));if(!Array.isArray(k)&&"object"==typeof k&&null!==k)return new So(Number("lng"in k?k.lng:k.lon),Number(k.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Xh=2*Math.PI*Zh;function _s(k){return Xh*Math.cos(k*Math.PI/180)}function rf(k){return(180+k)/360}function op(k){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+k*Math.PI/360)))/360}function ap(k,F){return k/_s(F)}function sp(k){return 360/Math.PI*Math.atan(Math.exp((180-360*k)*Math.PI/180))-90}var Qu=function(k,F,K){void 0===K&&(K=0),this.x=+k,this.y=+F,this.z=+K};Qu.fromLngLat=function(k,F){void 0===F&&(F=0);var K=So.convert(k);return new Qu(rf(K.lng),op(K.lat),ap(F,K.lat))},Qu.prototype.toLngLat=function(){return new So(360*this.x-180,sp(this.y))},Qu.prototype.toAltitude=function(){return this.z*_s(sp(this.y))},Qu.prototype.meterInMercatorCoordinateUnits=function(){return 1/Xh*(k=sp(this.y),1/Math.cos(k*Math.PI/180));var k};var Ac=function(k,F,K){this.z=k,this.x=F,this.y=K,this.key=of(0,k,k,F,K)};Ac.prototype.equals=function(k){return this.z===k.z&&this.x===k.x&&this.y===k.y},Ac.prototype.url=function(k,F){var K,de,De,Fe,Ye,it=(de=this.y,De=this.z,Fe=z0(256*(K=this.x),256*(de=Math.pow(2,De)-de-1),De),Ye=z0(256*(K+1),256*(de+1),De),Fe[0]+","+Fe[1]+","+Ye[0]+","+Ye[1]),mt=function(Et,Dt,qt){for(var Qt,Zt="",gn=Et;gn>0;gn--)Zt+=(Dt&(Qt=1<<gn-1)?1:0)+(qt&Qt?2:0);return Zt}(this.z,this.x,this.y);return k[(this.x+this.y)%k.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===F?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",mt).replace("{bbox-epsg-3857}",it)},Ac.prototype.getTilePoint=function(k){var F=Math.pow(2,this.z);return new t((k.x*F-this.x)*Pi,(k.y*F-this.y)*Pi)},Ac.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var lp=function(k,F){this.wrap=k,this.canonical=F,this.key=of(k,F.z,F.z,F.x,F.y)},ha=function(k,F,K,de,De){this.overscaledZ=k,this.wrap=F,this.canonical=new Ac(K,+de,+De),this.key=of(F,k,K,de,De)};function of(k,F,K,de,De){(k*=2)<0&&(k=-1*k-1);var Fe=1<<K;return(Fe*Fe*k+Fe*De+de).toString(36)+K.toString(36)+F.toString(36)}ha.prototype.equals=function(k){return this.overscaledZ===k.overscaledZ&&this.wrap===k.wrap&&this.canonical.equals(k.canonical)},ha.prototype.scaledTo=function(k){var F=this.canonical.z-k;return k>this.canonical.z?new ha(k,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ha(k,this.wrap,k,this.canonical.x>>F,this.canonical.y>>F)},ha.prototype.calculateScaledKey=function(k,F){var K=this.canonical.z-k;return k>this.canonical.z?of(this.wrap*+F,k,this.canonical.z,this.canonical.x,this.canonical.y):of(this.wrap*+F,k,k,this.canonical.x>>K,this.canonical.y>>K)},ha.prototype.isChildOf=function(k){if(k.wrap!==this.wrap)return!1;var F=this.canonical.z-k.canonical.z;return 0===k.overscaledZ||k.overscaledZ<this.overscaledZ&&k.canonical.x===this.canonical.x>>F&&k.canonical.y===this.canonical.y>>F},ha.prototype.children=function(k){if(this.overscaledZ>=k)return[new ha(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var F=this.canonical.z+1,K=2*this.canonical.x,de=2*this.canonical.y;return[new ha(F,this.wrap,F,K,de),new ha(F,this.wrap,F,K+1,de),new ha(F,this.wrap,F,K,de+1),new ha(F,this.wrap,F,K+1,de+1)]},ha.prototype.isLessThan=function(k){return this.wrap<k.wrap||!(this.wrap>k.wrap)&&(this.overscaledZ<k.overscaledZ||!(this.overscaledZ>k.overscaledZ)&&(this.canonical.x<k.canonical.x||!(this.canonical.x>k.canonical.x)&&this.canonical.y<k.canonical.y))},ha.prototype.wrapped=function(){return new ha(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ha.prototype.unwrapTo=function(k){return new ha(this.overscaledZ,k,this.canonical.z,this.canonical.x,this.canonical.y)},ha.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ha.prototype.toUnwrapped=function(){return new lp(this.wrap,this.canonical)},ha.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ha.prototype.getTilePoint=function(k){return this.canonical.getTilePoint(new Qu(k.x-this.wrap,k.y))},Mr("CanonicalTileID",Ac),Mr("OverscaledTileID",ha,{omit:["posMatrix"]});var Pu=function(k,F,K){if(this.uid=k,F.height!==F.width)throw new RangeError("DEM tiles must be square");if(K&&"mapbox"!==K&&"terrarium"!==K)return D('"'+K+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=F.height;var de=this.dim=F.height-2;this.data=new Uint32Array(F.data.buffer),this.encoding=K||"mapbox";for(var De=0;De<de;De++)this.data[this._idx(-1,De)]=this.data[this._idx(0,De)],this.data[this._idx(de,De)]=this.data[this._idx(de-1,De)],this.data[this._idx(De,-1)]=this.data[this._idx(De,0)],this.data[this._idx(De,de)]=this.data[this._idx(De,de-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(de,-1)]=this.data[this._idx(de-1,0)],this.data[this._idx(-1,de)]=this.data[this._idx(0,de-1)],this.data[this._idx(de,de)]=this.data[this._idx(de-1,de-1)]};Pu.prototype.get=function(k,F){var K=new Uint8Array(this.data.buffer),de=4*this._idx(k,F);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(K[de],K[de+1],K[de+2])},Pu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Pu.prototype._idx=function(k,F){if(k<-1||k>=this.dim+1||F<-1||F>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(F+1)*this.stride+(k+1)},Pu.prototype._unpackMapbox=function(k,F,K){return(256*k*256+256*F+K)/10-1e4},Pu.prototype._unpackTerrarium=function(k,F,K){return 256*k+F+K/256-32768},Pu.prototype.getPixels=function(){return new el({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Pu.prototype.backfillBorder=function(k,F,K){if(this.dim!==k.dim)throw new Error("dem dimension mismatch");var de=F*this.dim,De=F*this.dim+this.dim,Fe=K*this.dim,Ye=K*this.dim+this.dim;switch(F){case-1:de=De-1;break;case 1:De=de+1}switch(K){case-1:Fe=Ye-1;break;case 1:Ye=Fe+1}for(var it=-F*this.dim,mt=-K*this.dim,Et=Fe;Et<Ye;Et++)for(var Dt=de;Dt<De;Dt++)this.data[this._idx(Dt,Et)]=k.data[this._idx(Dt+it,Et+mt)]},Mr("DEMData",Pu);var $h=function(k){this._stringToNumber={},this._numberToString=[];for(var F=0;F<k.length;F++){var K=k[F];this._stringToNumber[K]=F,this._numberToString[F]=K}};$h.prototype.encode=function(k){return this._stringToNumber[k]},$h.prototype.decode=function(k){return this._numberToString[k]};var af=function(k,F,K,de,De){this.type="Feature",this._vectorTileFeature=k,k._z=F,k._x=K,k._y=de,this.properties=k.properties,this.id=De},Yf={geometry:{configurable:!0}};Yf.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Yf.geometry.set=function(k){this._geometry=k},af.prototype.toJSON=function(){var k={geometry:this.geometry};for(var F in this)"_geometry"!==F&&"_vectorTileFeature"!==F&&(k[F]=this[F]);return k},Object.defineProperties(af.prototype,Yf);var sf=function(){this.state={},this.stateChanges={},this.deletedStates={}};sf.prototype.updateState=function(k,F,K){var de=String(F);if(this.stateChanges[k]=this.stateChanges[k]||{},this.stateChanges[k][de]=this.stateChanges[k][de]||{},c(this.stateChanges[k][de],K),null===this.deletedStates[k])for(var De in this.deletedStates[k]={},this.state[k])De!==de&&(this.deletedStates[k][De]=null);else if(this.deletedStates[k]&&null===this.deletedStates[k][de])for(var Fe in this.deletedStates[k][de]={},this.state[k][de])K[Fe]||(this.deletedStates[k][de][Fe]=null);else for(var Ye in K)this.deletedStates[k]&&this.deletedStates[k][de]&&null===this.deletedStates[k][de][Ye]&&delete this.deletedStates[k][de][Ye]},sf.prototype.removeFeatureState=function(k,F,K){if(null!==this.deletedStates[k]){var de=String(F);if(this.deletedStates[k]=this.deletedStates[k]||{},K&&void 0!==F)null!==this.deletedStates[k][de]&&(this.deletedStates[k][de]=this.deletedStates[k][de]||{},this.deletedStates[k][de][K]=null);else if(void 0!==F)if(this.stateChanges[k]&&this.stateChanges[k][de])for(K in this.deletedStates[k][de]={},this.stateChanges[k][de])this.deletedStates[k][de][K]=null;else this.deletedStates[k][de]=null;else this.deletedStates[k]=null}},sf.prototype.getState=function(k,F){var K=String(F),Fe=c({},(this.state[k]||{})[K],(this.stateChanges[k]||{})[K]);if(null===this.deletedStates[k])return{};if(this.deletedStates[k]){var Ye=this.deletedStates[k][F];if(null===Ye)return{};for(var it in Ye)delete Fe[it]}return Fe},sf.prototype.initializeTileState=function(k,F){k.setFeatureState(this.state,F)},sf.prototype.coalesceChanges=function(k,F){var K={};for(var de in this.stateChanges){this.state[de]=this.state[de]||{};var De={};for(var Fe in this.stateChanges[de])this.state[de][Fe]||(this.state[de][Fe]={}),c(this.state[de][Fe],this.stateChanges[de][Fe]),De[Fe]=this.state[de][Fe];K[de]=De}for(var Ye in this.deletedStates){this.state[Ye]=this.state[Ye]||{};var it={};if(null===this.deletedStates[Ye])for(var mt in this.state[Ye])it[mt]={},this.state[Ye][mt]={};else for(var Et in this.deletedStates[Ye]){if(null===this.deletedStates[Ye][Et])this.state[Ye][Et]={};else for(var Dt=0,qt=Object.keys(this.deletedStates[Ye][Et]);Dt<qt.length;Dt+=1)delete this.state[Ye][Et][qt[Dt]];it[Et]=this.state[Ye][Et]}K[Ye]=K[Ye]||{},c(K[Ye],it)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(K).length)for(var Zt in k)k[Zt].setFeatureState(K,F)};var Ll=function(k,F){this.tileID=k,this.x=k.canonical.x,this.y=k.canonical.y,this.z=k.canonical.z,this.grid=new ds(Pi,16,0),this.grid3D=new ds(Pi,16,0),this.featureIndexArray=new Bn,this.promoteId=F};function B0(k,F,K,de,De){return w(k,function(Fe,Ye){var it=F instanceof jl?F.get(Ye):null;return it&&it.evaluate?it.evaluate(K,de,De):it})}function j0(k){for(var F=1/0,K=1/0,de=-1/0,De=-1/0,Fe=0,Ye=k;Fe<Ye.length;Fe+=1){var it=Ye[Fe];F=Math.min(F,it.x),K=Math.min(K,it.y),de=Math.max(de,it.x),De=Math.max(De,it.y)}return{minX:F,minY:K,maxX:de,maxY:De}}function U0(k,F){return F-k}Ll.prototype.insert=function(k,F,K,de,De,Fe){var Ye=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(K,de,De);for(var it=Fe?this.grid3D:this.grid,mt=0;mt<F.length;mt++){for(var Et=F[mt],Dt=[1/0,1/0,-1/0,-1/0],qt=0;qt<Et.length;qt++){var Qt=Et[qt];Dt[0]=Math.min(Dt[0],Qt.x),Dt[1]=Math.min(Dt[1],Qt.y),Dt[2]=Math.max(Dt[2],Qt.x),Dt[3]=Math.max(Dt[3],Qt.y)}Dt[0]<Pi&&Dt[1]<Pi&&Dt[2]>=0&&Dt[3]>=0&&it.insert(Ye,Dt[0],Dt[1],Dt[2],Dt[3])}},Ll.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Xc.VectorTile(new Ph(this.rawTileData)).layers,this.sourceLayerCoder=new $h(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ll.prototype.query=function(k,F,K,de){var De=this;this.loadVTLayers();for(var Fe=k.params||{},Ye=Pi/k.tileSize/k.scale,it=Kl(Fe.filter),mt=k.queryGeometry,Et=k.queryPadding*Ye,Dt=j0(mt),qt=this.grid.query(Dt.minX-Et,Dt.minY-Et,Dt.maxX+Et,Dt.maxY+Et),Qt=j0(k.cameraQueryGeometry),Zt=0,gn=this.grid3D.query(Qt.minX-Et,Qt.minY-Et,Qt.maxX+Et,Qt.maxY+Et,function(rr,hr,xr,Rr){return function(Cr,Br,Hr,ai,$r){for(var oi=0,Jr=Cr;oi<Jr.length;oi+=1){var qr=Jr[oi];if(Br<=qr.x&&Hr<=qr.y&&ai>=qr.x&&$r>=qr.y)return!0}var Mi=[new t(Br,Hr),new t(Br,$r),new t(ai,$r),new t(ai,Hr)];if(Cr.length>2)for(var di=0,Qi=Mi;di<Qi.length;di+=1)if(Au(Cr,Qi[di]))return!0;for(var ti=0;ti<Cr.length-1;ti++)if(Yg(Cr[ti],Cr[ti+1],Mi))return!0;return!1}(k.cameraQueryGeometry,rr-Et,hr-Et,xr+Et,Rr+Et)});Zt<gn.length;Zt+=1)qt.push(gn[Zt]);qt.sort(U0);for(var On,Ln={},Zn=function(rr){var hr=qt[rr];if(hr!==On){On=hr;var xr=De.featureIndexArray.get(hr),Rr=null;De.loadMatchingFeature(Ln,xr.bucketIndex,xr.sourceLayerIndex,xr.featureIndex,it,Fe.layers,Fe.availableImages,F,K,de,function(Cr,Br,Hr){return Rr||(Rr=Ho(Cr)),Br.queryIntersectsFeature(mt,Cr,Hr,Rr,De.z,k.transform,Ye,k.pixelPosMatrix)})}},Kn=0;Kn<qt.length;Kn++)Zn(Kn);return Ln},Ll.prototype.loadMatchingFeature=function(k,F,K,de,De,Fe,Ye,it,mt,Et,Dt){var qt=this.bucketLayerIDs[F];if(!Fe||function(Cr,Br){for(var Hr=0;Hr<Cr.length;Hr++)if(Br.indexOf(Cr[Hr])>=0)return!0;return!1}(Fe,qt)){var Qt=this.sourceLayerCoder.decode(K),Zt=this.vtLayers[Qt].feature(de);if(De.needGeometry){var gn=xo(Zt,!0);if(!De.filter(new yi(this.tileID.overscaledZ),gn,this.tileID.canonical))return}else if(!De.filter(new yi(this.tileID.overscaledZ),Zt))return;for(var bn=this.getId(Zt,Qt),On=0;On<qt.length;On++){var Ln=qt[On];if(!(Fe&&Fe.indexOf(Ln)<0)){var Zn=it[Ln];if(Zn){var Kn={};void 0!==bn&&Et&&(Kn=Et.getState(Zn.sourceLayer||"_geojsonTileLayer",bn));var rr=c({},mt[Ln]);rr.paint=B0(rr.paint,Zn.paint,Zt,Kn,Ye),rr.layout=B0(rr.layout,Zn.layout,Zt,Kn,Ye);var hr=!Dt||Dt(Zt,Zn,Kn);if(hr){var xr=new af(Zt,this.z,this.x,this.y,bn);xr.layer=rr;var Rr=k[Ln];void 0===Rr&&(Rr=k[Ln]=[]),Rr.push({featureIndex:de,feature:xr,intersectionZ:hr})}}}}}},Ll.prototype.lookupSymbolFeatures=function(k,F,K,de,De,Fe,Ye,it){var mt={};this.loadVTLayers();for(var Et=Kl(De),Dt=0,qt=k;Dt<qt.length;Dt+=1)this.loadMatchingFeature(mt,K,de,qt[Dt],Et,Fe,Ye,it,F);return mt},Ll.prototype.hasLayer=function(k){for(var F=0,K=this.bucketLayerIDs;F<K.length;F+=1)for(var de=0,De=K[F];de<De.length;de+=1)if(k===De[de])return!0;return!1},Ll.prototype.getId=function(k,F){var K=k.id;return this.promoteId&&"boolean"==typeof(K=k.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[F]])&&(K=Number(K)),K},Mr("FeatureIndex",Ll,{omit:["rawTileData","sourceLayerCoder"]});var _a=function(k,F){this.tileID=k,this.uid=p(),this.uses=0,this.tileSize=F,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};_a.prototype.registerFadeDuration=function(k){var F=k+this.timeAdded;F<ee.now()||this.fadeEndTime&&F<this.fadeEndTime||(this.fadeEndTime=F)},_a.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},_a.prototype.loadVectorData=function(k,F,K){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",k){for(var de in k.featureIndex&&(this.latestFeatureIndex=k.featureIndex,k.rawTileData?(this.latestRawTileData=k.rawTileData,this.latestFeatureIndex.rawTileData=k.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=k.collisionBoxArray,this.buckets=function(Et,Dt){var qt={};if(!Dt)return qt;for(var Qt=function(){var bn=gn[Zt],On=bn.layerIds.map(function(rr){return Dt.getLayer(rr)}).filter(Boolean);if(0!==On.length){bn.layers=On,bn.stateDependentLayerIds&&(bn.stateDependentLayers=bn.stateDependentLayerIds.map(function(rr){return On.filter(function(hr){return hr.id===rr})[0]}));for(var Ln=0,Zn=On;Ln<Zn.length;Ln+=1)qt[Zn[Ln].id]=bn}},Zt=0,gn=Et;Zt<gn.length;Zt+=1)Qt();return qt}(k.buckets,F.style),this.hasSymbolBuckets=!1,this.buckets){var De=this.buckets[de];if(De instanceof Ji){if(this.hasSymbolBuckets=!0,!K)break;De.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Fe in this.buckets){var Ye=this.buckets[Fe];if(Ye instanceof Ji&&Ye.hasRTLText){this.hasRTLText=!0,Uo.isLoading()||Uo.isLoaded()||"deferred"!==Yo()||al();break}}for(var it in this.queryPadding=0,this.buckets){var mt=this.buckets[it];this.queryPadding=Math.max(this.queryPadding,F.style.getLayer(it).queryRadius(mt))}k.imageAtlas&&(this.imageAtlas=k.imageAtlas),k.glyphAtlasImage&&(this.glyphAtlasImage=k.glyphAtlasImage)}else this.collisionBoxArray=new It},_a.prototype.unloadVectorData=function(){for(var k in this.buckets)this.buckets[k].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},_a.prototype.getBucket=function(k){return this.buckets[k.id]},_a.prototype.upload=function(k){for(var F in this.buckets){var K=this.buckets[F];K.uploadPending()&&K.upload(k)}var de=k.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Mc(k,this.imageAtlas.image,de.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Mc(k,this.glyphAtlasImage,de.ALPHA),this.glyphAtlasImage=null)},_a.prototype.prepare=function(k){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(k,this.imageAtlasTexture)},_a.prototype.queryRenderedFeatures=function(k,F,K,de,De,Fe,Ye,it,mt,Et){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:de,cameraQueryGeometry:De,scale:Fe,tileSize:this.tileSize,pixelPosMatrix:Et,transform:it,params:Ye,queryPadding:this.queryPadding*mt},k,F,K):{}},_a.prototype.querySourceFeatures=function(k,F){var K=this.latestFeatureIndex;if(K&&K.rawTileData){var de=K.loadVTLayers(),De=F?F.sourceLayer:"",Fe=de._geojsonTileLayer||de[De];if(Fe)for(var Ye=Kl(F&&F.filter),it=this.tileID.canonical,mt=it.z,Et=it.x,Dt=it.y,qt={z:mt,x:Et,y:Dt},Qt=0;Qt<Fe.length;Qt++){var Zt=Fe.feature(Qt);if(Ye.needGeometry){var gn=xo(Zt,!0);if(!Ye.filter(new yi(this.tileID.overscaledZ),gn,this.tileID.canonical))continue}else if(!Ye.filter(new yi(this.tileID.overscaledZ),Zt))continue;var bn=K.getId(Zt,De),On=new af(Zt,mt,Et,Dt,bn);On.tile=qt,k.push(On)}}},_a.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},_a.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},_a.prototype.setExpiryData=function(k){var F=this.expirationTime;if(k.cacheControl){var K=B(k.cacheControl);K["max-age"]&&(this.expirationTime=Date.now()+1e3*K["max-age"])}else k.expires&&(this.expirationTime=new Date(k.expires).getTime());if(this.expirationTime){var de=Date.now(),De=!1;if(this.expirationTime>de)De=!1;else if(F)if(this.expirationTime<F)De=!0;else{var Fe=this.expirationTime-F;Fe?this.expirationTime=de+Math.max(Fe,3e4):De=!0}else De=!0;De?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},_a.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},_a.prototype.setFeatureState=function(k,F){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(k).length){var K=this.latestFeatureIndex.loadVTLayers();for(var de in this.buckets)if(F.style.hasLayer(de)){var De=this.buckets[de],Fe=De.layers[0].sourceLayer||"_geojsonTileLayer",Ye=K[Fe],it=k[Fe];if(Ye&&it&&0!==Object.keys(it).length){De.update(it,Ye,this.imageAtlas&&this.imageAtlas.patternPositions||{});var mt=F&&F.style&&F.style.getLayer(de);mt&&(this.queryPadding=Math.max(this.queryPadding,mt.queryRadius(De)))}}}},_a.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},_a.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ee.now()},_a.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},_a.prototype.setHoldDuration=function(k){this.symbolFadeHoldUntil=ee.now()+k},_a.prototype.setDependencies=function(k,F){for(var K={},de=0,De=F;de<De.length;de+=1)K[De[de]]=!0;this.dependencies[k]=K},_a.prototype.hasDependency=function(k,F){for(var K=0,de=k;K<de.length;K+=1){var Fe=this.dependencies[de[K]];if(Fe)for(var Ye=0,it=F;Ye<it.length;Ye+=1)if(Fe[it[Ye]])return!0}return!1};var Ou=n.performance,kc=function(k){this._marks={start:[k.url,"start"].join("#"),end:[k.url,"end"].join("#"),measure:k.url.toString()},Ou.mark(this._marks.start)};kc.prototype.finish=function(){Ou.mark(this._marks.end);var k=Ou.getEntriesByName(this._marks.measure);return 0===k.length&&(Ou.measure(this._marks.measure,this._marks.start,this._marks.end),k=Ou.getEntriesByName(this._marks.measure),Ou.clearMarks(this._marks.start),Ou.clearMarks(this._marks.end),Ou.clearMeasures(this._marks.measure)),k},a.Actor=nf,a.AlphaImage=dc,a.CanonicalTileID=Ac,a.CollisionBoxArray=It,a.Color=jn,a.DEMData=Pu,a.DataConstantProperty=Zr,a.DictionaryCoder=$h,a.EXTENT=Pi,a.ErrorEvent=qe,a.EvaluationParameters=yi,a.Event=He,a.Evented=ft,a.FeatureIndex=Ll,a.FillBucket=ru,a.FillExtrusionBucket=pu,a.ImageAtlas=jf,a.ImagePosition=bc,a.LineBucket=bs,a.LngLat=So,a.LngLatBounds=Wi,a.MercatorCoordinate=Qu,a.ONE_EM=Ra,a.OverscaledTileID=ha,a.Point=t,a.Point$1=t,a.Properties=zo,a.Protobuf=Ph,a.RGBAImage=el,a.RequestManager=Te,a.RequestPerformance=kc,a.ResourceType=_t,a.SegmentVector=tr,a.SourceFeatureState=sf,a.StructArrayLayout1ui2=bt,a.StructArrayLayout2f1f2i16=se,a.StructArrayLayout2i4=El,a.StructArrayLayout3ui6=ke,a.StructArrayLayout4i8=qu,a.SymbolBucket=Ji,a.Texture=Mc,a.Tile=_a,a.Transitionable=vs,a.Uniform1f=xi,a.Uniform1i=ui,a.Uniform2f=vi,a.Uniform3f=Ki,a.Uniform4f=Ao,a.UniformColor=ba,a.UniformMatrix4f=ia,a.UnwrappedTileID=lp,a.ValidationError=xt,a.WritingMode=Dl,a.ZoomHistory=gs,a.add=function(k,F,K){return k[0]=F[0]+K[0],k[1]=F[1]+K[1],k[2]=F[2]+K[2],k},a.addDynamicAttributes=L0,a.asyncAll=function(k,F,K){if(!k.length)return K(null,[]);var de=k.length,De=new Array(k.length),Fe=null;k.forEach(function(Ye,it){F(Ye,function(mt,Et){mt&&(Fe=mt),De[it]=Et,0==--de&&K(Fe,De)})})},a.bezier=o,a.bindAll=x,a.browser=ee,a.cacheEntryPossiblyAdded=function(k){++Mt>Ve&&(k.getActor().send("enforceCacheSizeLimit",Le),Mt=0)},a.clamp=l,a.clearTileCache=function(k){var F=n.caches.delete(Ae);k&&F.catch(k).then(function(){return k()})},a.clipLine=S0,a.clone=function(k){var F=new ul(16);return F[0]=k[0],F[1]=k[1],F[2]=k[2],F[3]=k[3],F[4]=k[4],F[5]=k[5],F[6]=k[6],F[7]=k[7],F[8]=k[8],F[9]=k[9],F[10]=k[10],F[11]=k[11],F[12]=k[12],F[13]=k[13],F[14]=k[14],F[15]=k[15],F},a.clone$1=C,a.clone$2=function(k){var F=new ul(3);return F[0]=k[0],F[1]=k[1],F[2]=k[2],F},a.collisionCircleLayout=Nf,a.config=re,a.create=function(){var k=new ul(16);return ul!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=0,k[12]=0,k[13]=0,k[14]=0),k[0]=1,k[5]=1,k[10]=1,k[15]=1,k},a.create$1=function(){var k=new ul(9);return ul!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[5]=0,k[6]=0,k[7]=0),k[0]=1,k[4]=1,k[8]=1,k},a.create$2=function(){var k=new ul(4);return ul!=Float32Array&&(k[1]=0,k[2]=0),k[0]=1,k[3]=1,k},a.createCommonjsModule=M,a.createExpression=Es,a.createLayout=oo,a.createStyleLayer=function(k){return"custom"===k.type?new vm(k):new ym[k.type](k)},a.cross=function(k,F,K){var de=F[0],De=F[1],Fe=F[2],Ye=K[0],it=K[1],mt=K[2];return k[0]=De*mt-Fe*it,k[1]=Fe*Ye-de*mt,k[2]=de*it-De*Ye,k},a.deepEqual=function k(F,K){if(Array.isArray(F)){if(!Array.isArray(K)||F.length!==K.length)return!1;for(var de=0;de<F.length;de++)if(!k(F[de],K[de]))return!1;return!0}if("object"==typeof F&&null!==F&&null!==K){if("object"!=typeof K||Object.keys(F).length!==Object.keys(K).length)return!1;for(var De in F)if(!k(F[De],K[De]))return!1;return!0}return F===K},a.dot=function(k,F){return k[0]*F[0]+k[1]*F[1]+k[2]*F[2]},a.dot$1=function(k,F){return k[0]*F[0]+k[1]*F[1]+k[2]*F[2]+k[3]*F[3]},a.ease=u,a.emitValidationErrors=vo,a.endsWith=y,a.enforceCacheSizeLimit=function(k){We(),me&&me.then(function(F){F.keys().then(function(K){for(var de=0;de<K.length-k;de++)F.delete(K[de])})})},a.evaluateSizeForFeature=Rh,a.evaluateSizeForZoom=M0,a.evaluateVariableOffset=I0,a.evented=ro,a.extend=c,a.featureFilter=Kl,a.filterObject=f,a.fromRotation=function(k,F){var K=Math.sin(F),de=Math.cos(F);return k[0]=de,k[1]=K,k[2]=0,k[3]=-K,k[4]=de,k[5]=0,k[6]=0,k[7]=0,k[8]=1,k},a.getAnchorAlignment=Kd,a.getAnchorJustification=np,a.getArrayBuffer=Ht,a.getImage=Qe,a.getJSON=function(k,F){return Ut(c(k,{type:"json"}),F)},a.getRTLTextPluginStatus=Yo,a.getReferrer=st,a.getVideo=function(k,F){var K,de,De=n.document.createElement("video");De.muted=!0,De.onloadstart=function(){F(null,De)};for(var Fe=0;Fe<k.length;Fe++){var Ye=n.document.createElement("source");K=k[Fe],de=void 0,(de=n.document.createElement("a")).href=K,de.protocol===n.document.location.protocol&&de.host===n.document.location.host||(De.crossOrigin="Anonymous"),Ye.src=k[Fe],De.appendChild(Ye)}return{cancel:function(){}}},a.identity=zd,a.invert=function(k,F){var K=F[0],de=F[1],De=F[2],Fe=F[3],Ye=F[4],it=F[5],mt=F[6],Et=F[7],Dt=F[8],qt=F[9],Qt=F[10],Zt=F[11],gn=F[12],bn=F[13],On=F[14],Ln=F[15],Zn=K*it-de*Ye,Kn=K*mt-De*Ye,rr=K*Et-Fe*Ye,hr=de*mt-De*it,xr=de*Et-Fe*it,Rr=De*Et-Fe*mt,Cr=Dt*bn-qt*gn,Br=Dt*On-Qt*gn,Hr=Dt*Ln-Zt*gn,ai=qt*On-Qt*bn,$r=qt*Ln-Zt*bn,oi=Qt*Ln-Zt*On,Jr=Zn*oi-Kn*$r+rr*ai+hr*Hr-xr*Br+Rr*Cr;return Jr?(k[0]=(it*oi-mt*$r+Et*ai)*(Jr=1/Jr),k[1]=(De*$r-de*oi-Fe*ai)*Jr,k[2]=(bn*Rr-On*xr+Ln*hr)*Jr,k[3]=(Qt*xr-qt*Rr-Zt*hr)*Jr,k[4]=(mt*Hr-Ye*oi-Et*Br)*Jr,k[5]=(K*oi-De*Hr+Fe*Br)*Jr,k[6]=(On*rr-gn*Rr-Ln*Kn)*Jr,k[7]=(Dt*Rr-Qt*rr+Zt*Kn)*Jr,k[8]=(Ye*$r-it*Hr+Et*Cr)*Jr,k[9]=(de*Hr-K*$r-Fe*Cr)*Jr,k[10]=(gn*xr-bn*rr+Ln*Zn)*Jr,k[11]=(qt*rr-Dt*xr-Zt*Zn)*Jr,k[12]=(it*Br-Ye*ai-mt*Cr)*Jr,k[13]=(K*ai-de*Br+De*Cr)*Jr,k[14]=(bn*Kn-gn*hr-On*Zn)*Jr,k[15]=(Dt*hr-qt*Kn+Qt*Zn)*Jr,k):null},a.isChar=Pr,a.isMapboxURL=Me,a.keysDifference=function(k,F){var K=[];for(var de in k)de in F||K.push(de);return K},a.makeRequest=Ut,a.mapObject=w,a.mercatorXfromLng=rf,a.mercatorYfromLat=op,a.mercatorZfromAltitude=ap,a.mul=Xg,a.multiply=Jp,a.mvt=Xc,a.nextPowerOfTwo=function(k){return k<=1?1:Math.pow(2,Math.ceil(Math.log(k)/Math.LN2))},a.normalize=function(k,F){var K=F[0],de=F[1],De=F[2],Fe=K*K+de*de+De*De;return Fe>0&&(Fe=1/Math.sqrt(Fe)),k[0]=F[0]*Fe,k[1]=F[1]*Fe,k[2]=F[2]*Fe,k},a.number=Qr,a.offscreenCanvasSupported=kt,a.ortho=function(k,F,K,de,De,Fe,Ye){var it=1/(F-K),mt=1/(de-De),Et=1/(Fe-Ye);return k[0]=-2*it,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=-2*mt,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=2*Et,k[11]=0,k[12]=(F+K)*it,k[13]=(De+de)*mt,k[14]=(Ye+Fe)*Et,k[15]=1,k},a.parseGlyphPBF=function(k){return new Ph(k).readFields(um,[])},a.pbf=Ph,a.performSymbolLayout=function(k,F,K,de,De,Fe,Ye){k.createArrays(),k.tilePixelRatio=Pi/(512*k.overscaling),k.compareText={},k.iconsNeedLinear=!1;var mt=k.layers[0].layout,Et=k.layers[0]._unevaluatedLayout._values,Dt={};if("composite"===k.textSizeData.kind){var qt=k.textSizeData,Zt=qt.maxZoom;Dt.compositeTextSizes=[Et["text-size"].possiblyEvaluate(new yi(qt.minZoom),Ye),Et["text-size"].possiblyEvaluate(new yi(Zt),Ye)]}if("composite"===k.iconSizeData.kind){var gn=k.iconSizeData,On=gn.maxZoom;Dt.compositeIconSizes=[Et["icon-size"].possiblyEvaluate(new yi(gn.minZoom),Ye),Et["icon-size"].possiblyEvaluate(new yi(On),Ye)]}Dt.layoutTextSize=Et["text-size"].possiblyEvaluate(new yi(k.zoom+1),Ye),Dt.layoutIconSize=Et["icon-size"].possiblyEvaluate(new yi(k.zoom+1),Ye),Dt.textMaxSize=Et["text-size"].possiblyEvaluate(new yi(18));for(var Ln=mt.get("text-line-height")*Ra,Zn="map"===mt.get("text-rotation-alignment")&&"point"!==mt.get("symbol-placement"),Kn=mt.get("text-keep-upright"),rr=mt.get("text-size"),hr=function(){var Cr=Rr[xr],Br=mt.get("text-font").evaluate(Cr,{},Ye).join(","),Hr=rr.evaluate(Cr,{},Ye),ai=Dt.layoutTextSize.evaluate(Cr,{},Ye),$r=Dt.layoutIconSize.evaluate(Cr,{},Ye),oi={horizontal:{},vertical:void 0},Jr=Cr.text,qr=[0,0];if(Jr){var Mi=Jr.toString(),di=mt.get("text-letter-spacing").evaluate(Cr,{},Ye)*Ra,Qi=function(pi){for(var Oi=0,_o=pi;Oi<_o.length;Oi+=1)if(Zi=_o[Oi].charCodeAt(0),Pr.Arabic(Zi)||Pr["Arabic Supplement"](Zi)||Pr["Arabic Extended-A"](Zi)||Pr["Arabic Presentation Forms-A"](Zi)||Pr["Arabic Presentation Forms-B"](Zi))return!1;var Zi;return!0}(Mi)?di:0,ti=mt.get("text-anchor").evaluate(Cr,{},Ye),Yi=mt.get("text-variable-anchor");if(!Yi){var eo=mt.get("text-radial-offset").evaluate(Cr,{},Ye);qr=eo?I0(ti,[eo*Ra,D0]):mt.get("text-offset").evaluate(Cr,{},Ye).map(function(pi){return pi*Ra})}var Eo=Zn?"center":mt.get("text-justify").evaluate(Cr,{},Ye),bo=mt.get("symbol-placement"),po="point"===bo?mt.get("text-max-width").evaluate(Cr,{},Ye)*Ra:0,da=function(){k.allowVerticalPlacement&&Ys(Mi)&&(oi.vertical=Jc(Jr,F,K,De,Br,po,Ln,ti,"left",Qi,qr,Dl.vertical,!0,bo,ai,Hr))};if(!Zn&&Yi){for(var Bo="auto"===Eo?Yi.map(function(pi){return np(pi)}):[Eo],wa=!1,Fa=0;Fa<Bo.length;Fa++){var pa=Bo[Fa];if(!oi.horizontal[pa])if(wa)oi.horizontal[pa]=oi.horizontal[0];else{var Qa=Jc(Jr,F,K,De,Br,po,Ln,"center",pa,Qi,qr,Dl.horizontal,!1,bo,ai,Hr);Qa&&(oi.horizontal[pa]=Qa,wa=1===Qa.positionedLines.length)}}da()}else{"auto"===Eo&&(Eo=np(ti));var ea=Jc(Jr,F,K,De,Br,po,Ln,ti,Eo,Qi,qr,Dl.horizontal,!1,bo,ai,Hr);ea&&(oi.horizontal[Eo]=ea),da(),Ys(Mi)&&Zn&&Kn&&(oi.vertical=Jc(Jr,F,K,De,Br,po,Ln,ti,Eo,Qi,qr,Dl.vertical,!1,bo,ai,Hr))}}var pi,Oi,Zi,ss,ls,Ta=void 0,Na=!1;if(Cr.icon&&Cr.icon.name){var za=de[Cr.icon.name];za&&(pi=De[Cr.icon.name],Oi=mt.get("icon-offset").evaluate(Cr,{},Ye),Zi=Kd(mt.get("icon-anchor").evaluate(Cr,{},Ye)),Ta={image:pi,top:ls=Oi[1]-pi.displaySize[1]*Zi.verticalAlign,bottom:ls+pi.displaySize[1],left:ss=Oi[0]-pi.displaySize[0]*Zi.horizontalAlign,right:ss+pi.displaySize[0]},Na=za.sdf,void 0===k.sdfIcons?k.sdfIcons=za.sdf:k.sdfIcons!==za.sdf&&D("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(za.pixelRatio!==k.pixelRatio||0!==mt.get("icon-rotate").constantOr(1))&&(k.iconsNeedLinear=!0))}var Ma=Uh(oi.horizontal)||oi.vertical;k.iconsInText=!!Ma&&Ma.iconsInText,(Ma||Ta)&&function(pi,Oi,_o,Zi,Lo,Co,zi,qo,ss,tl,ls){var ou=Co.textMaxSize.evaluate(Oi,{});void 0===ou&&(ou=zi);var Ru,Da=pi.layers[0].layout,us=Da.get("icon-offset").evaluate(Oi,{},ls),Os=Uh(_o.horizontal),lf=zi/24,up=pi.tilePixelRatio*lf,uf=pi.tilePixelRatio*ou/24,cp=pi.tilePixelRatio*qo,Kh=pi.tilePixelRatio*Da.get("symbol-spacing"),Jh=Da.get("text-padding")*pi.tilePixelRatio,Qh=Da.get("icon-padding")*pi.tilePixelRatio,cf=Da.get("text-max-angle")/180*Math.PI,ed="map"===Da.get("text-rotation-alignment")&&"point"!==Da.get("symbol-placement"),td="map"===Da.get("icon-rotation-alignment")&&"point"!==Da.get("symbol-placement"),Sc=Da.get("symbol-placement"),au=Kh/2,Fu=Da.get("icon-text-fit");Zi&&"none"!==Fu&&(pi.allowVerticalPlacement&&_o.vertical&&(Ru=Hf(Zi,_o.vertical,Fu,Da.get("icon-text-fit-padding"),us,lf)),Os&&(Zi=Hf(Zi,Os,Fu,Da.get("icon-text-fit-padding"),us,lf)));var ec=function(G0,pf){pf.x<0||pf.x>=Pi||pf.y<0||pf.y>=Pi||function(ta,su,xm,nc,gp,bm,mp,dl,Ic,gf,eh,mf,id,W0,vf,vp,th,_m,od,Y0,Rs,nh,yp,Fs,wm){var ad,gu,yf,rc,Nu,pl=ta.addToLineVertexArray(su,xm),Lc=0,sd=0,Z0=0,X0=0,ld=-1,ic=-1,zu={},$0=zr(""),xp=0,rh=0;if(void 0===dl._unevaluatedLayout.getValue("text-radial-offset")?(xp=(ad=dl.layout.get("text-offset").evaluate(Rs,{},Fs).map(function(hd){return hd*Ra}))[0],rh=ad[1]):(xp=dl.layout.get("text-radial-offset").evaluate(Rs,{},Fs)*Ra,rh=D0),ta.allowVerticalPlacement&&nc.vertical){var ih=dl.layout.get("text-rotate").evaluate(Rs,{},Fs)+90;rc=new jh(Ic,su,gf,eh,mf,nc.vertical,id,W0,vf,ih),mp&&(Nu=new jh(Ic,su,gf,eh,mf,mp,th,_m,vf,ih))}if(gp){var ud=dl.layout.get("icon-rotate").evaluate(Rs,{}),Pc="none"!==dl.layout.get("icon-text-fit"),Mm=tp(gp,ud,yp,Pc),K0=mp?tp(mp,ud,yp,Pc):void 0;yf=new jh(Ic,su,gf,eh,mf,gp,th,_m,!1,ud),Lc=4*Mm.length;var bp=ta.iconSizeData,oh=null;"source"===bp.kind?(oh=[Il*dl.layout.get("icon-size").evaluate(Rs,{})])[0]>Tc&&D(ta.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===bp.kind&&((oh=[Il*nh.compositeIconSizes[0].evaluate(Rs,{},Fs),Il*nh.compositeIconSizes[1].evaluate(Rs,{},Fs)])[0]>Tc||oh[1]>Tc)&&D(ta.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),ta.addSymbols(ta.icon,Mm,oh,Y0,od,Rs,!1,su,pl.lineStartIndex,pl.lineLength,-1,Fs),ld=ta.icon.placedSymbolArray.length-1,K0&&(sd=4*K0.length,ta.addSymbols(ta.icon,K0,oh,Y0,od,Rs,Dl.vertical,su,pl.lineStartIndex,pl.lineLength,-1,Fs),ic=ta.icon.placedSymbolArray.length-1)}for(var Am in nc.horizontal){var _p=nc.horizontal[Am];if(!gu){$0=zr(_p.text);var cd=dl.layout.get("text-rotate").evaluate(Rs,{},Fs);gu=new jh(Ic,su,gf,eh,mf,_p,id,W0,vf,cd)}var J0=1===_p.positionedLines.length;if(Z0+=gm(ta,su,_p,bm,dl,vf,Rs,vp,pl,nc.vertical?Dl.horizontal:Dl.horizontalOnly,J0?Object.keys(nc.horizontal):[Am],zu,ld,nh,Fs),J0)break}nc.vertical&&(X0+=gm(ta,su,nc.vertical,bm,dl,vf,Rs,vp,pl,Dl.vertical,["vertical"],zu,ic,nh,Fs));var wp=gu?gu.boxStartIndex:ta.collisionBoxArray.length,Tp=gu?gu.boxEndIndex:ta.collisionBoxArray.length,xf=rc?rc.boxStartIndex:ta.collisionBoxArray.length,Mp=rc?rc.boxEndIndex:ta.collisionBoxArray.length,Ap=yf?yf.boxStartIndex:ta.collisionBoxArray.length,ah=yf?yf.boxEndIndex:ta.collisionBoxArray.length,fd=Nu?Nu.boxStartIndex:ta.collisionBoxArray.length,bf=Nu?Nu.boxEndIndex:ta.collisionBoxArray.length,Hl=-1,_f=function(hd,dd){return hd&&hd.circleDiameter?Math.max(hd.circleDiameter,dd):dd};Hl=_f(gu,Hl),Hl=_f(rc,Hl),Hl=_f(yf,Hl);var sh=(Hl=_f(Nu,Hl))>-1?1:0;sh&&(Hl*=wm/Ra),ta.glyphOffsetArray.length>=Ji.MAX_GLYPHS&&D("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Rs.sortKey&&ta.addToSortKeyRanges(ta.symbolInstances.length,Rs.sortKey),ta.symbolInstances.emplaceBack(su.x,su.y,zu.right>=0?zu.right:-1,zu.center>=0?zu.center:-1,zu.left>=0?zu.left:-1,zu.vertical||-1,ld,ic,$0,wp,Tp,xf,Mp,Ap,ah,fd,bf,gf,Z0,X0,Lc,sd,sh,0,id,xp,rh,Hl)}(pi,pf,G0,_o,Zi,Lo,Ru,pi.layers[0],pi.collisionBoxArray,Oi.index,Oi.sourceLayerIndex,pi.index,up,Jh,ed,ss,cp,Qh,td,us,Oi,Co,tl,ls,zi)};if("line"===Sc)for(var Ec=0,Zf=S0(Oi.geometry,0,0,Pi,Pi);Ec<Zf.length;Ec+=1)for(var fp=Zf[Ec],Xf=0,hp=ef(fp,Kh,cf,_o.vertical||Os,Zi,24,uf,pi.overscaling,Pi);Xf<hp.length;Xf+=1){var ff=hp[Xf];Os&&Sy(pi,Os.text,au,ff)||ec(fp,ff)}else if("line-center"===Sc)for(var Cc=0,nd=Oi.geometry;Cc<nd.length;Cc+=1){var hf=nd[Cc];if(hf.length>1){var df=hm(hf,cf,_o.vertical||Os,Zi,24,uf);df&&ec(hf,df)}}else if("Polygon"===Oi.type)for(var Dc=0,$f=Yc(Oi.geometry,0);Dc<$f.length;Dc+=1){var Kf=$f[Dc],V0=pm(Kf,16);ec(Kf[0],new Qc(V0.x,V0.y,0))}else if("LineString"===Oi.type)for(var rd=0,Jf=Oi.geometry;rd<Jf.length;rd+=1){var dp=Jf[rd];ec(dp,new Qc(dp[0].x,dp[0].y,0))}else if("Point"===Oi.type)for(var Qf=0,H0=Oi.geometry;Qf<H0.length;Qf+=1)for(var tc=0,q0=H0[Qf];tc<q0.length;tc+=1){var pp=q0[tc];ec([pp],new Qc(pp.x,pp.y,0))}}(k,Cr,oi,Ta,de,Dt,ai,$r,qr,Na,Ye)},xr=0,Rr=k.features;xr<Rr.length;xr+=1)hr();Fe&&k.generateCollisionDebugBuffers()},a.perspective=function(k,F,K,de,De){var Fe,Ye=1/Math.tan(F/2);return k[0]=Ye/K,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=Ye,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=-1,k[12]=0,k[13]=0,k[15]=0,null!=De&&De!==1/0?(k[10]=(De+de)*(Fe=1/(de-De)),k[14]=2*De*de*Fe):(k[10]=-1,k[14]=-2*de),k},a.pick=function(k,F){for(var K={},de=0;de<F.length;de++){var De=F[de];De in k&&(K[De]=k[De])}return K},a.plugin=Uo,a.polygonIntersectsPolygon=ll,a.postMapLoadEvent=ve,a.postTurnstileEvent=ze,a.potpack=xc,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Mr,a.registerForPluginStateChange=function(k){return k({pluginStatus:mi,pluginURL:Do}),ro.on("pluginStateChange",k),k},a.renderColorRamp=Ls,a.rotate=function(k,F,K){var de=F[0],De=F[1],Fe=F[2],Ye=F[3],it=Math.sin(K),mt=Math.cos(K);return k[0]=de*mt+Fe*it,k[1]=De*mt+Ye*it,k[2]=de*-it+Fe*mt,k[3]=De*-it+Ye*mt,k},a.rotateX=function(k,F,K){var de=Math.sin(K),De=Math.cos(K),Fe=F[4],Ye=F[5],it=F[6],mt=F[7],Et=F[8],Dt=F[9],qt=F[10],Qt=F[11];return F!==k&&(k[0]=F[0],k[1]=F[1],k[2]=F[2],k[3]=F[3],k[12]=F[12],k[13]=F[13],k[14]=F[14],k[15]=F[15]),k[4]=Fe*De+Et*de,k[5]=Ye*De+Dt*de,k[6]=it*De+qt*de,k[7]=mt*De+Qt*de,k[8]=Et*De-Fe*de,k[9]=Dt*De-Ye*de,k[10]=qt*De-it*de,k[11]=Qt*De-mt*de,k},a.rotateZ=function(k,F,K){var de=Math.sin(K),De=Math.cos(K),Fe=F[0],Ye=F[1],it=F[2],mt=F[3],Et=F[4],Dt=F[5],qt=F[6],Qt=F[7];return F!==k&&(k[8]=F[8],k[9]=F[9],k[10]=F[10],k[11]=F[11],k[12]=F[12],k[13]=F[13],k[14]=F[14],k[15]=F[15]),k[0]=Fe*De+Et*de,k[1]=Ye*De+Dt*de,k[2]=it*De+qt*de,k[3]=mt*De+Qt*de,k[4]=Et*De-Fe*de,k[5]=Dt*De-Ye*de,k[6]=qt*De-it*de,k[7]=Qt*De-mt*de,k},a.scale=function(k,F,K){var de=K[0],De=K[1],Fe=K[2];return k[0]=F[0]*de,k[1]=F[1]*de,k[2]=F[2]*de,k[3]=F[3]*de,k[4]=F[4]*De,k[5]=F[5]*De,k[6]=F[6]*De,k[7]=F[7]*De,k[8]=F[8]*Fe,k[9]=F[9]*Fe,k[10]=F[10]*Fe,k[11]=F[11]*Fe,k[12]=F[12],k[13]=F[13],k[14]=F[14],k[15]=F[15],k},a.scale$1=function(k,F,K){return k[0]=F[0]*K,k[1]=F[1]*K,k[2]=F[2]*K,k[3]=F[3]*K,k},a.scale$2=function(k,F,K){return k[0]=F[0]*K,k[1]=F[1]*K,k[2]=F[2]*K,k},a.setCacheLimits=function(k,F){Le=k,Ve=F},a.setRTLTextPlugin=function(k,F,K){if(void 0===K&&(K=!1),mi===Zs||mi===Pa||mi===Ds)throw new Error("setRTLTextPlugin cannot be called multiple times.");Do=ee.resolveURL(k),mi=Zs,ms=F,Xs(),K||al()},a.sphericalToCartesian=function(k){var F=k[0],K=k[1],de=k[2];return K+=90,K*=Math.PI/180,de*=Math.PI/180,{x:F*Math.cos(K)*Math.sin(de),y:F*Math.sin(K)*Math.sin(de),z:F*Math.cos(de)}},a.sqrLen=function(k){var F=k[0],K=k[1];return F*F+K*K},a.styleSpec=et,a.sub=function(k,F,K){return k[0]=F[0]-K[0],k[1]=F[1]-K[1],k[2]=F[2]-K[2],k},a.symbolSize=A0,a.transformMat3=function(k,F,K){var de=F[0],De=F[1],Fe=F[2];return k[0]=de*K[0]+De*K[3]+Fe*K[6],k[1]=de*K[1]+De*K[4]+Fe*K[7],k[2]=de*K[2]+De*K[5]+Fe*K[8],k},a.transformMat4=xh,a.translate=function(k,F,K){var de,De,Fe,Ye,it,mt,Et,Dt,qt,Qt,Zt,gn,bn=K[0],On=K[1],Ln=K[2];return F===k?(k[12]=F[0]*bn+F[4]*On+F[8]*Ln+F[12],k[13]=F[1]*bn+F[5]*On+F[9]*Ln+F[13],k[14]=F[2]*bn+F[6]*On+F[10]*Ln+F[14],k[15]=F[3]*bn+F[7]*On+F[11]*Ln+F[15]):(De=F[1],Fe=F[2],Ye=F[3],it=F[4],mt=F[5],Et=F[6],Dt=F[7],qt=F[8],Qt=F[9],Zt=F[10],gn=F[11],k[0]=de=F[0],k[1]=De,k[2]=Fe,k[3]=Ye,k[4]=it,k[5]=mt,k[6]=Et,k[7]=Dt,k[8]=qt,k[9]=Qt,k[10]=Zt,k[11]=gn,k[12]=de*bn+it*On+qt*Ln+F[12],k[13]=De*bn+mt*On+Qt*Ln+F[13],k[14]=Fe*bn+Et*On+Zt*Ln+F[14],k[15]=Ye*bn+Dt*On+gn*Ln+F[15]),k},a.triggerPluginCompletionEvent=qi,a.uniqueId=p,a.validateCustomStyleLayer=function(k){var F=[],K=k.id;return void 0===K&&F.push({message:"layers."+K+': missing required property "id"'}),void 0===k.render&&F.push({message:"layers."+K+': missing required method "render"'}),k.renderingMode&&"2d"!==k.renderingMode&&"3d"!==k.renderingMode&&F.push({message:"layers."+K+': property "renderingMode" must be either "2d" or "3d"'}),F},a.validateLight=jr,a.validateStyle=Vi,a.values=function(k){var F=[];for(var K in k)F.push(k[K]);return F},a.vectorTile=Xc,a.version=_,a.warnOnce=D,a.webpSupported=J,a.window=n,a.wrap=h}),A(0,function(a){function M(Je){var tt=typeof Je;if("number"===tt||"boolean"===tt||"string"===tt||null==Je)return JSON.stringify(Je);if(Array.isArray(Je)){for(var Ge="[",Qe=0,pt=Je;Qe<pt.length;Qe+=1)Ge+=M(pt[Qe])+",";return Ge+"]"}for(var ct=Object.keys(Je).sort(),He="{",qe=0;qe<ct.length;qe++)He+=JSON.stringify(ct[qe])+":"+M(Je[ct[qe]])+",";return He+"}"}function _(Je){for(var tt="",Ge=0,Qe=a.refProperties;Ge<Qe.length;Ge+=1)tt+="/"+M(Je[Qe[Ge]]);return tt}var d=function(Je){this.keyCache={},Je&&this.replace(Je)};d.prototype.replace=function(Je){this._layerConfigs={},this._layers={},this.update(Je,[])},d.prototype.update=function(Je,tt){for(var Ge=this,Qe=0,pt=Je;Qe<pt.length;Qe+=1){var ct=pt[Qe];this._layerConfigs[ct.id]=ct;var He=this._layers[ct.id]=a.createStyleLayer(ct);He._featureFilter=a.featureFilter(He.filter),this.keyCache[ct.id]&&delete this.keyCache[ct.id]}for(var qe=0,ft=tt;qe<ft.length;qe+=1){var et=ft[qe];delete this.keyCache[et],delete this._layerConfigs[et],delete this._layers[et]}this.familiesBySource={};for(var xt=0,wt=function(jt,Gt){for(var on={},Jt=0;Jt<jt.length;Jt++){var $t=Gt&&Gt[jt[Jt].id]||_(jt[Jt]);Gt&&(Gt[jt[Jt].id]=$t);var tn=on[$t];tn||(tn=on[$t]=[]),tn.push(jt[Jt])}var dn=[];for(var Gn in on)dn.push(on[Gn]);return dn}(a.values(this._layerConfigs),this.keyCache);xt<wt.length;xt+=1){var At=wt[xt].map(function(jt){return Ge._layers[jt.id]}),yt=At[0];if("none"!==yt.visibility){var Ot=yt.source||"",Ct=this.familiesBySource[Ot];Ct||(Ct=this.familiesBySource[Ot]={});var Rt=yt.sourceLayer||"_geojsonTileLayer",Bt=Ct[Rt];Bt||(Bt=Ct[Rt]=[]),Bt.push(At)}}};var s=function(Je){var tt={},Ge=[];for(var Qe in Je){var pt=Je[Qe],ct=tt[Qe]={};for(var He in pt){var qe=pt[+He];if(qe&&0!==qe.bitmap.width&&0!==qe.bitmap.height){var ft={x:0,y:0,w:qe.bitmap.width+2,h:qe.bitmap.height+2};Ge.push(ft),ct[He]={rect:ft,metrics:qe.metrics}}}}var et=a.potpack(Ge),At=new a.AlphaImage({width:et.w||1,height:et.h||1});for(var yt in Je){var Ot=Je[yt];for(var Ct in Ot){var Rt=Ot[+Ct];if(Rt&&0!==Rt.bitmap.width&&0!==Rt.bitmap.height){var Bt=tt[yt][Ct].rect;a.AlphaImage.copy(Rt.bitmap,At,{x:0,y:0},{x:Bt.x+1,y:Bt.y+1},Rt.bitmap)}}}this.image=At,this.positions=tt};a.register("GlyphAtlas",s);var t=function(Je){this.tileID=new a.OverscaledTileID(Je.tileID.overscaledZ,Je.tileID.wrap,Je.tileID.canonical.z,Je.tileID.canonical.x,Je.tileID.canonical.y),this.uid=Je.uid,this.zoom=Je.zoom,this.pixelRatio=Je.pixelRatio,this.tileSize=Je.tileSize,this.source=Je.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Je.showCollisionBoxes,this.collectResourceTiming=!!Je.collectResourceTiming,this.returnDependencies=!!Je.returnDependencies,this.promoteId=Je.promoteId};function i(Je,tt,Ge){for(var Qe=new a.EvaluationParameters(tt),pt=0,ct=Je;pt<ct.length;pt+=1)ct[pt].recalculate(Qe,Ge)}function n(Je,tt){var Ge=a.getArrayBuffer(Je.request,function(Qe,pt,ct,He){Qe?tt(Qe):pt&&tt(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(pt)),rawData:pt,cacheControl:ct,expires:He})});return function(){Ge.cancel(),tt()}}t.prototype.parse=function(Je,tt,Ge,Qe,pt){var ct=this;this.status="parsing",this.data=Je,this.collisionBoxArray=new a.CollisionBoxArray;var He=new a.DictionaryCoder(Object.keys(Je.layers).sort()),qe=new a.FeatureIndex(this.tileID,this.promoteId);qe.bucketLayerIDs=[];var ft,et,xt,wt,At={},yt={featureIndex:qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ge},Ot=tt.familiesBySource[this.source];for(var Ct in Ot){var Rt=Je.layers[Ct];if(Rt){1===Rt.version&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ct+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Bt=He.encode(Ct),jt=[],Gt=0;Gt<Rt.length;Gt++){var on=Rt.feature(Gt),Jt=qe.getId(on,Ct);jt.push({feature:on,id:Jt,index:Gt,sourceLayerIndex:Bt})}for(var $t=0,tn=Ot[Ct];$t<tn.length;$t+=1){var dn=tn[$t],Gn=dn[0];Gn.minzoom&&this.zoom<Math.floor(Gn.minzoom)||Gn.maxzoom&&this.zoom>=Gn.maxzoom||"none"!==Gn.visibility&&(i(dn,this.zoom,Ge),(At[Gn.id]=Gn.createBucket({index:qe.bucketLayerIDs.length,layers:dn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Bt,sourceID:this.source})).populate(jt,yt,this.tileID.canonical),qe.bucketLayerIDs.push(dn.map(function(hn){return hn.id})))}}}var zn=a.mapObject(yt.glyphDependencies,function(hn){return Object.keys(hn).map(Number)});Object.keys(zn).length?Qe.send("getGlyphs",{uid:this.uid,stacks:zn},function(hn,_n){ft||(ft=hn,et=_n,vn.call(ct))}):et={};var Mn=Object.keys(yt.iconDependencies);Mn.length?Qe.send("getImages",{icons:Mn,source:this.source,tileID:this.tileID,type:"icons"},function(hn,_n){ft||(ft=hn,xt=_n,vn.call(ct))}):xt={};var ln=Object.keys(yt.patternDependencies);function vn(){if(ft)return pt(ft);if(et&&xt&&wt){var hn=new s(et),_n=new a.ImageAtlas(xt,wt);for(var Dn in At){var Pn=At[Dn];Pn instanceof a.SymbolBucket?(i(Pn.layers,this.zoom,Ge),a.performSymbolLayout(Pn,et,hn.positions,xt,_n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Pn.hasPattern&&(Pn instanceof a.LineBucket||Pn instanceof a.FillBucket||Pn instanceof a.FillExtrusionBucket)&&(i(Pn.layers,this.zoom,Ge),Pn.addFeatures(yt,this.tileID.canonical,_n.patternPositions))}this.status="done",pt(null,{buckets:a.values(At).filter(function(Yn){return!Yn.isEmpty()}),featureIndex:qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:hn.image,imageAtlas:_n,glyphMap:this.returnDependencies?et:null,iconMap:this.returnDependencies?xt:null,glyphPositions:this.returnDependencies?hn.positions:null})}}ln.length?Qe.send("getImages",{icons:ln,source:this.source,tileID:this.tileID,type:"patterns"},function(hn,_n){ft||(ft=hn,wt=_n,vn.call(ct))}):wt={},vn.call(this)};var r=function(Je,tt,Ge,Qe){this.actor=Je,this.layerIndex=tt,this.availableImages=Ge,this.loadVectorData=Qe||n,this.loading={},this.loaded={}};r.prototype.loadTile=function(Je,tt){var Ge=this,Qe=Je.uid;this.loading||(this.loading={});var pt=!!(Je&&Je.request&&Je.request.collectResourceTiming)&&new a.RequestPerformance(Je.request),ct=this.loading[Qe]=new t(Je);ct.abort=this.loadVectorData(Je,function(He,qe){if(delete Ge.loading[Qe],He||!qe)return ct.status="done",Ge.loaded[Qe]=ct,tt(He);var ft=qe.rawData,et={};qe.expires&&(et.expires=qe.expires),qe.cacheControl&&(et.cacheControl=qe.cacheControl);var xt={};if(pt){var wt=pt.finish();wt&&(xt.resourceTiming=JSON.parse(JSON.stringify(wt)))}ct.vectorTile=qe.vectorTile,ct.parse(qe.vectorTile,Ge.layerIndex,Ge.availableImages,Ge.actor,function(At,yt){if(At||!yt)return tt(At);tt(null,a.extend({rawTileData:ft.slice(0)},yt,et,xt))}),Ge.loaded=Ge.loaded||{},Ge.loaded[Qe]=ct})},r.prototype.reloadTile=function(Je,tt){var Ge=this,Qe=this.loaded,pt=Je.uid,ct=this;if(Qe&&Qe[pt]){var He=Qe[pt];He.showCollisionBoxes=Je.showCollisionBoxes;var qe=function(ft,et){var xt=He.reloadCallback;xt&&(delete He.reloadCallback,He.parse(He.vectorTile,ct.layerIndex,Ge.availableImages,ct.actor,xt)),tt(ft,et)};"parsing"===He.status?He.reloadCallback=qe:"done"===He.status&&(He.vectorTile?He.parse(He.vectorTile,this.layerIndex,this.availableImages,this.actor,qe):qe())}},r.prototype.abortTile=function(Je,tt){var Ge=this.loading,Qe=Je.uid;Ge&&Ge[Qe]&&Ge[Qe].abort&&(Ge[Qe].abort(),delete Ge[Qe]),tt()},r.prototype.removeTile=function(Je,tt){var Ge=this.loaded,Qe=Je.uid;Ge&&Ge[Qe]&&delete Ge[Qe],tt()};var o=a.window.ImageBitmap,u=function(){this.loaded={}};u.prototype.loadTile=function(Je,tt){var Ge=Je.uid,Qe=Je.encoding,pt=Je.rawImageData,ct=o&&pt instanceof o?this.getImageData(pt):pt,He=new a.DEMData(Ge,ct,Qe);this.loaded=this.loaded||{},this.loaded[Ge]=He,tt(null,He)},u.prototype.getImageData=function(Je){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Je.width,Je.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Je.width,this.offscreenCanvas.height=Je.height,this.offscreenCanvasContext.drawImage(Je,0,0,Je.width,Je.height);var tt=this.offscreenCanvasContext.getImageData(-1,-1,Je.width+2,Je.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:tt.width,height:tt.height},tt.data)},u.prototype.removeTile=function(Je){var tt=this.loaded,Ge=Je.uid;tt&&tt[Ge]&&delete tt[Ge]};var l=function Je(tt,Ge){var Qe,pt=tt&&tt.type;if("FeatureCollection"===pt)for(Qe=0;Qe<tt.features.length;Qe++)Je(tt.features[Qe],Ge);else if("GeometryCollection"===pt)for(Qe=0;Qe<tt.geometries.length;Qe++)Je(tt.geometries[Qe],Ge);else if("Feature"===pt)Je(tt.geometry,Ge);else if("Polygon"===pt)h(tt.coordinates,Ge);else if("MultiPolygon"===pt)for(Qe=0;Qe<tt.coordinates.length;Qe++)h(tt.coordinates[Qe],Ge);return tt};function h(Je,tt){if(0!==Je.length){c(Je[0],tt);for(var Ge=1;Ge<Je.length;Ge++)c(Je[Ge],!tt)}}function c(Je,tt){for(var Ge=0,Qe=0,pt=Je.length,ct=pt-1;Qe<pt;ct=Qe++)Ge+=(Je[Qe][0]-Je[ct][0])*(Je[ct][1]+Je[Qe][1]);Ge>=0!=!!tt&&Je.reverse()}var b=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(Je){this._feature=Je,this.extent=a.EXTENT,this.type=Je.type,this.properties=Je.tags,"id"in Je&&!isNaN(Je.id)&&(this.id=parseInt(Je.id,10))};p.prototype.loadGeometry=function(){if(1===this._feature.type){for(var Je=[],tt=0,Ge=this._feature.geometry;tt<Ge.length;tt+=1){var Qe=Ge[tt];Je.push([new a.Point$1(Qe[0],Qe[1])])}return Je}for(var pt=[],ct=0,He=this._feature.geometry;ct<He.length;ct+=1){for(var qe=[],ft=0,et=He[ct];ft<et.length;ft+=1){var xt=et[ft];qe.push(new a.Point$1(xt[0],xt[1]))}pt.push(qe)}return pt},p.prototype.toGeoJSON=function(Je,tt,Ge){return b.call(this,Je,tt,Ge)};var m=function(Je){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Je.length,this._features=Je};m.prototype.feature=function(Je){return new p(this._features[Je])};var v=a.vectorTile.VectorTileFeature,x=y;function y(Je,tt){this.options=tt||{},this.features=Je,this.length=Je.length}function w(Je,tt){this.id="number"==typeof Je.id?Je.id:void 0,this.type=Je.type,this.rawGeometry=1===Je.type?[Je.geometry]:Je.geometry,this.properties=Je.tags,this.extent=tt||4096}y.prototype.feature=function(Je){return new w(this.features[Je],this.options.extent)},w.prototype.loadGeometry=function(){var Je=this.rawGeometry;this.geometry=[];for(var tt=0;tt<Je.length;tt++){for(var Ge=Je[tt],Qe=[],pt=0;pt<Ge.length;pt++)Qe.push(new a.Point$1(Ge[pt][0],Ge[pt][1]));this.geometry.push(Qe)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Je=this.geometry,tt=1/0,Ge=-1/0,Qe=1/0,pt=-1/0,ct=0;ct<Je.length;ct++)for(var He=Je[ct],qe=0;qe<He.length;qe++){var ft=He[qe];tt=Math.min(tt,ft.x),Ge=Math.max(Ge,ft.x),Qe=Math.min(Qe,ft.y),pt=Math.max(pt,ft.y)}return[tt,Qe,Ge,pt]},w.prototype.toGeoJSON=v.prototype.toGeoJSON;var f=R,D=x;function R(Je){var tt=new a.pbf;return function(Ge,Qe){for(var pt in Ge.layers)Qe.writeMessage(3,P,Ge.layers[pt])}(Je,tt),tt.finish()}function P(Je,tt){var Ge;tt.writeVarintField(15,Je.version||1),tt.writeStringField(1,Je.name||""),tt.writeVarintField(5,Je.extent||4096);var Qe={keys:[],values:[],keycache:{},valuecache:{}};for(Ge=0;Ge<Je.length;Ge++)Qe.feature=Je.feature(Ge),tt.writeMessage(2,O,Qe);var pt=Qe.keys;for(Ge=0;Ge<pt.length;Ge++)tt.writeStringField(3,pt[Ge]);var ct=Qe.values;for(Ge=0;Ge<ct.length;Ge++)tt.writeMessage(4,$,ct[Ge])}function O(Je,tt){var Ge=Je.feature;void 0!==Ge.id&&tt.writeVarintField(1,Ge.id),tt.writeMessage(2,B,Je),tt.writeVarintField(3,Ge.type),tt.writeMessage(4,H,Ge)}function B(Je,tt){var Ge=Je.feature,Qe=Je.keys,pt=Je.values,ct=Je.keycache,He=Je.valuecache;for(var qe in Ge.properties){var ft=ct[qe];void 0===ft&&(Qe.push(qe),ct[qe]=ft=Qe.length-1),tt.writeVarint(ft);var et=Ge.properties[qe],xt=typeof et;"string"!==xt&&"boolean"!==xt&&"number"!==xt&&(et=JSON.stringify(et));var wt=xt+":"+et,At=He[wt];void 0===At&&(pt.push(et),He[wt]=At=pt.length-1),tt.writeVarint(At)}}function q(Je,tt){return(tt<<3)+(7&Je)}function N(Je){return Je<<1^Je>>31}function H(Je,tt){for(var Ge=Je.loadGeometry(),Qe=Je.type,pt=0,ct=0,He=Ge.length,qe=0;qe<He;qe++){var ft=Ge[qe],et=1;1===Qe&&(et=ft.length),tt.writeVarint(q(1,et));for(var xt=3===Qe?ft.length-1:ft.length,wt=0;wt<xt;wt++){1===wt&&1!==Qe&&tt.writeVarint(q(2,xt-1));var At=ft[wt].x-pt,yt=ft[wt].y-ct;tt.writeVarint(N(At)),tt.writeVarint(N(yt)),pt+=At,ct+=yt}3===Qe&&tt.writeVarint(q(7,1))}}function $(Je,tt){var Ge=typeof Je;"string"===Ge?tt.writeStringField(1,Je):"boolean"===Ge?tt.writeBooleanField(7,Je):"number"===Ge&&(Je%1!=0?tt.writeDoubleField(3,Je):Je<0?tt.writeSVarintField(6,Je):tt.writeVarintField(5,Je))}function j(Je,tt,Ge,Qe,pt,ct){if(!(pt-Qe<=Ge)){var He=Qe+pt>>1;W(Je,tt,He,Qe,pt,ct%2),j(Je,tt,Ge,Qe,He-1,ct+1),j(Je,tt,Ge,He+1,pt,ct+1)}}function W(Je,tt,Ge,Qe,pt,ct){for(;pt>Qe;){if(pt-Qe>600){var He=pt-Qe+1,qe=Ge-Qe+1,ft=Math.log(He),et=.5*Math.exp(2*ft/3),xt=.5*Math.sqrt(ft*et*(He-et)/He)*(qe-He/2<0?-1:1);W(Je,tt,Ge,Math.max(Qe,Math.floor(Ge-qe*et/He+xt)),Math.min(pt,Math.floor(Ge+(He-qe)*et/He+xt)),ct)}var wt=tt[2*Ge+ct],At=Qe,yt=pt;for(G(Je,tt,Qe,Ge),tt[2*pt+ct]>wt&&G(Je,tt,Qe,pt);At<yt;){for(G(Je,tt,At,yt),At++,yt--;tt[2*At+ct]<wt;)At++;for(;tt[2*yt+ct]>wt;)yt--}tt[2*Qe+ct]===wt?G(Je,tt,Qe,yt):G(Je,tt,++yt,pt),yt<=Ge&&(Qe=yt+1),Ge<=yt&&(pt=yt-1)}}function G(Je,tt,Ge,Qe){ae(Je,Ge,Qe),ae(tt,2*Ge,2*Qe),ae(tt,2*Ge+1,2*Qe+1)}function ae(Je,tt,Ge){var Qe=Je[tt];Je[tt]=Je[Ge],Je[Ge]=Qe}function te(Je,tt,Ge,Qe){var pt=Je-Ge,ct=tt-Qe;return pt*pt+ct*ct}f.fromVectorTileJs=R,f.fromGeojsonVt=function(Je,tt){tt=tt||{};var Ge={};for(var Qe in Je)Ge[Qe]=new x(Je[Qe].features,tt),Ge[Qe].name=Qe,Ge[Qe].version=tt.version,Ge[Qe].extent=tt.extent;return R({layers:Ge})},f.GeoJSONWrapper=D;var Q=function(Je){return Je[0]},ee=function(Je){return Je[1]},re=function(Je,tt,Ge,Qe,pt){void 0===tt&&(tt=Q),void 0===Ge&&(Ge=ee),void 0===Qe&&(Qe=64),void 0===pt&&(pt=Float64Array),this.nodeSize=Qe,this.points=Je;for(var ct=Je.length<65536?Uint16Array:Uint32Array,He=this.ids=new ct(Je.length),qe=this.coords=new pt(2*Je.length),ft=0;ft<Je.length;ft++)He[ft]=ft,qe[2*ft]=tt(Je[ft]),qe[2*ft+1]=Ge(Je[ft]);j(He,qe,Qe,0,He.length-1,0)};re.prototype.range=function(Je,tt,Ge,Qe){return function(pt,ct,He,qe,ft,et,xt){for(var wt,At,yt=[0,pt.length-1,0],Ot=[];yt.length;){var Ct=yt.pop(),Rt=yt.pop(),Bt=yt.pop();if(Rt-Bt<=xt)for(var jt=Bt;jt<=Rt;jt++)At=ct[2*jt+1],(wt=ct[2*jt])>=He&&wt<=ft&&At>=qe&&At<=et&&Ot.push(pt[jt]);else{var Gt=Math.floor((Bt+Rt)/2);At=ct[2*Gt+1],(wt=ct[2*Gt])>=He&&wt<=ft&&At>=qe&&At<=et&&Ot.push(pt[Gt]);var on=(Ct+1)%2;(0===Ct?He<=wt:qe<=At)&&(yt.push(Bt),yt.push(Gt-1),yt.push(on)),(0===Ct?ft>=wt:et>=At)&&(yt.push(Gt+1),yt.push(Rt),yt.push(on))}}return Ot}(this.ids,this.coords,Je,tt,Ge,Qe,this.nodeSize)},re.prototype.within=function(Je,tt,Ge){return function(Qe,pt,ct,He,qe,ft){for(var et=[0,Qe.length-1,0],xt=[],wt=qe*qe;et.length;){var At=et.pop(),yt=et.pop(),Ot=et.pop();if(yt-Ot<=ft)for(var Ct=Ot;Ct<=yt;Ct++)te(pt[2*Ct],pt[2*Ct+1],ct,He)<=wt&&xt.push(Qe[Ct]);else{var Rt=Math.floor((Ot+yt)/2),Bt=pt[2*Rt],jt=pt[2*Rt+1];te(Bt,jt,ct,He)<=wt&&xt.push(Qe[Rt]);var Gt=(At+1)%2;(0===At?ct-qe<=Bt:He-qe<=jt)&&(et.push(Ot),et.push(Rt-1),et.push(Gt)),(0===At?ct+qe>=Bt:He+qe>=jt)&&(et.push(Rt+1),et.push(yt),et.push(Gt))}}return xt}(this.ids,this.coords,Je,tt,Ge,this.nodeSize)};var J={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Je){return Je}},le=function(Je){this.options=xe(Object.create(J),Je),this.trees=new Array(this.options.maxZoom+1)};function fe(Je,tt,Ge,Qe,pt){return{x:Je,y:tt,zoom:1/0,id:Ge,parentId:-1,numPoints:Qe,properties:pt}}function ce(Je,tt){var Ge=Je.geometry.coordinates,pt=Ge[1];return{x:Me(Ge[0]),y:we(pt),zoom:1/0,index:tt,parentId:-1}}function ge(Je){return{type:"Feature",id:Je.id,properties:Te(Je),geometry:{type:"Point",coordinates:[(Qe=Je.x,360*(Qe-.5)),(tt=Je.y,Ge=(180-360*tt)*Math.PI/180,360*Math.atan(Math.exp(Ge))/Math.PI-90)]}};var tt,Ge,Qe}function Te(Je){var tt=Je.numPoints,Ge=tt>=1e4?Math.round(tt/1e3)+"k":tt>=1e3?Math.round(tt/100)/10+"k":tt;return xe(xe({},Je.properties),{cluster:!0,cluster_id:Je.id,point_count:tt,point_count_abbreviated:Ge})}function Me(Je){return Je/360+.5}function we(Je){var tt=Math.sin(Je*Math.PI/180),Ge=.5-.25*Math.log((1+tt)/(1-tt))/Math.PI;return Ge<0?0:Ge>1?1:Ge}function xe(Je,tt){for(var Ge in tt)Je[Ge]=tt[Ge];return Je}function be(Je){return Je.x}function ye(Je){return Je.y}function Se(Je,tt,Ge,Qe){for(var pt,ct=Qe,He=Ge-tt>>1,qe=Ge-tt,ft=Je[tt],et=Je[tt+1],xt=Je[Ge],wt=Je[Ge+1],At=tt+3;At<Ge;At+=3){var yt=Ee(Je[At],Je[At+1],ft,et,xt,wt);if(yt>ct)pt=At,ct=yt;else if(yt===ct){var Ot=Math.abs(At-He);Ot<qe&&(pt=At,qe=Ot)}}ct>Qe&&(pt-tt>3&&Se(Je,tt,pt,Qe),Je[pt+2]=ct,Ge-pt>3&&Se(Je,pt,Ge,Qe))}function Ee(Je,tt,Ge,Qe,pt,ct){var He=pt-Ge,qe=ct-Qe;if(0!==He||0!==qe){var ft=((Je-Ge)*He+(tt-Qe)*qe)/(He*He+qe*qe);ft>1?(Ge=pt,Qe=ct):ft>0&&(Ge+=He*ft,Qe+=qe*ft)}return(He=Je-Ge)*He+(qe=tt-Qe)*qe}function he(Je,tt,Ge,Qe){var pt={id:void 0===Je?null:Je,type:tt,geometry:Ge,tags:Qe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ct){var He=ct.geometry,qe=ct.type;if("Point"===qe||"MultiPoint"===qe||"LineString"===qe)ue(ct,He);else if("Polygon"===qe||"MultiLineString"===qe)for(var ft=0;ft<He.length;ft++)ue(ct,He[ft]);else if("MultiPolygon"===qe)for(ft=0;ft<He.length;ft++)for(var et=0;et<He[ft].length;et++)ue(ct,He[ft][et])}(pt),pt}function ue(Je,tt){for(var Ge=0;Ge<tt.length;Ge+=3)Je.minX=Math.min(Je.minX,tt[Ge]),Je.minY=Math.min(Je.minY,tt[Ge+1]),Je.maxX=Math.max(Je.maxX,tt[Ge]),Je.maxY=Math.max(Je.maxY,tt[Ge+1])}function me(Je,tt,Ge,Qe){if(tt.geometry){var pt=tt.geometry.coordinates,ct=tt.geometry.type,He=Math.pow(Ge.tolerance/((1<<Ge.maxZoom)*Ge.extent),2),qe=[],ft=tt.id;if(Ge.promoteId?ft=tt.properties[Ge.promoteId]:Ge.generateId&&(ft=Qe||0),"Point"===ct)Pe(pt,qe);else if("MultiPoint"===ct)for(var et=0;et<pt.length;et++)Pe(pt[et],qe);else if("LineString"===ct)Ce(pt,qe,He,!1);else if("MultiLineString"===ct){if(Ge.lineMetrics){for(et=0;et<pt.length;et++)Ce(pt[et],qe=[],He,!1),Je.push(he(ft,"LineString",qe,tt.properties));return}Ie(pt,qe,He,!1)}else if("Polygon"===ct)Ie(pt,qe,He,!0);else{if("MultiPolygon"!==ct){if("GeometryCollection"===ct){for(et=0;et<tt.geometry.geometries.length;et++)me(Je,{id:ft,geometry:tt.geometry.geometries[et],properties:tt.properties},Ge,Qe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(et=0;et<pt.length;et++){var xt=[];Ie(pt[et],xt,He,!0),qe.push(xt)}}Je.push(he(ft,ct,qe,tt.properties))}}function Pe(Je,tt){tt.push(Oe(Je[0])),tt.push(ze(Je[1])),tt.push(0)}function Ce(Je,tt,Ge,Qe){for(var pt,ct,He=0,qe=0;qe<Je.length;qe++){var ft=Oe(Je[qe][0]),et=ze(Je[qe][1]);tt.push(ft),tt.push(et),tt.push(0),qe>0&&(He+=Qe?(pt*et-ft*ct)/2:Math.sqrt(Math.pow(ft-pt,2)+Math.pow(et-ct,2))),pt=ft,ct=et}var xt=tt.length-3;tt[2]=1,Se(tt,0,xt,Ge),tt[xt+2]=1,tt.size=Math.abs(He),tt.start=0,tt.end=tt.size}function Ie(Je,tt,Ge,Qe){for(var pt=0;pt<Je.length;pt++){var ct=[];Ce(Je[pt],ct,Ge,Qe),tt.push(ct)}}function Oe(Je){return Je/360+.5}function ze(Je){var tt=Math.sin(Je*Math.PI/180),Ge=.5-.25*Math.log((1+tt)/(1-tt))/Math.PI;return Ge<0?0:Ge>1?1:Ge}function je(Je,tt,Ge,Qe,pt,ct,He,qe){if(Qe/=tt,ct>=(Ge/=tt)&&He<Qe)return Je;if(He<Ge||ct>=Qe)return null;for(var ft=[],et=0;et<Je.length;et++){var xt=Je[et],wt=xt.geometry,At=xt.type,yt=0===pt?xt.minX:xt.minY,Ot=0===pt?xt.maxX:xt.maxY;if(yt>=Ge&&Ot<Qe)ft.push(xt);else if(!(Ot<Ge||yt>=Qe)){var Ct=[];if("Point"===At||"MultiPoint"===At)ve(wt,Ct,Ge,Qe,pt);else if("LineString"===At)Ae(wt,Ct,Ge,Qe,pt,!1,qe.lineMetrics);else if("MultiLineString"===At)Ve(wt,Ct,Ge,Qe,pt,!1);else if("Polygon"===At)Ve(wt,Ct,Ge,Qe,pt,!0);else if("MultiPolygon"===At)for(var Rt=0;Rt<wt.length;Rt++){var Bt=[];Ve(wt[Rt],Bt,Ge,Qe,pt,!0),Bt.length&&Ct.push(Bt)}if(Ct.length){if(qe.lineMetrics&&"LineString"===At){for(Rt=0;Rt<Ct.length;Rt++)ft.push(he(xt.id,At,Ct[Rt],xt.tags));continue}"LineString"!==At&&"MultiLineString"!==At||(1===Ct.length?(At="LineString",Ct=Ct[0]):At="MultiLineString"),"Point"!==At&&"MultiPoint"!==At||(At=3===Ct.length?"Point":"MultiPoint"),ft.push(he(xt.id,At,Ct,xt.tags))}}}return ft.length?ft:null}function ve(Je,tt,Ge,Qe,pt){for(var ct=0;ct<Je.length;ct+=3){var He=Je[ct+pt];He>=Ge&&He<=Qe&&(tt.push(Je[ct]),tt.push(Je[ct+1]),tt.push(Je[ct+2]))}}function Ae(Je,tt,Ge,Qe,pt,ct,He){for(var qe,ft,et=Le(Je),xt=0===pt?We:Xe,wt=Je.start,At=0;At<Je.length-3;At+=3){var yt=Je[At],Ot=Je[At+1],Ct=Je[At+2],Rt=Je[At+3],Bt=Je[At+4],jt=0===pt?yt:Ot,Gt=0===pt?Rt:Bt,on=!1;He&&(qe=Math.sqrt(Math.pow(yt-Rt,2)+Math.pow(Ot-Bt,2))),jt<Ge?Gt>Ge&&(ft=xt(et,yt,Ot,Rt,Bt,Ge),He&&(et.start=wt+qe*ft)):jt>Qe?Gt<Qe&&(ft=xt(et,yt,Ot,Rt,Bt,Qe),He&&(et.start=wt+qe*ft)):Ne(et,yt,Ot,Ct),Gt<Ge&&jt>=Ge&&(ft=xt(et,yt,Ot,Rt,Bt,Ge),on=!0),Gt>Qe&&jt<=Qe&&(ft=xt(et,yt,Ot,Rt,Bt,Qe),on=!0),!ct&&on&&(He&&(et.end=wt+qe*ft),tt.push(et),et=Le(Je)),He&&(wt+=qe)}var Jt=Je.length-3;yt=Je[Jt],Ot=Je[Jt+1],Ct=Je[Jt+2],(jt=0===pt?yt:Ot)>=Ge&&jt<=Qe&&Ne(et,yt,Ot,Ct),Jt=et.length-3,ct&&Jt>=3&&(et[Jt]!==et[0]||et[Jt+1]!==et[1])&&Ne(et,et[0],et[1],et[2]),et.length&&tt.push(et)}function Le(Je){var tt=[];return tt.size=Je.size,tt.start=Je.start,tt.end=Je.end,tt}function Ve(Je,tt,Ge,Qe,pt,ct){for(var He=0;He<Je.length;He++)Ae(Je[He],tt,Ge,Qe,pt,ct,!1)}function Ne(Je,tt,Ge,Qe){Je.push(tt),Je.push(Ge),Je.push(Qe)}function We(Je,tt,Ge,Qe,pt,ct){var He=(ct-tt)/(Qe-tt);return Je.push(ct),Je.push(Ge+(pt-Ge)*He),Je.push(1),He}function Xe(Je,tt,Ge,Qe,pt,ct){var He=(ct-Ge)/(pt-Ge);return Je.push(tt+(Qe-tt)*He),Je.push(ct),Je.push(1),He}function nt(Je,tt){for(var Ge=[],Qe=0;Qe<Je.length;Qe++){var pt,ct=Je[Qe],He=ct.type;if("Point"===He||"MultiPoint"===He||"LineString"===He)pt=dt(ct.geometry,tt);else if("MultiLineString"===He||"Polygon"===He){pt=[];for(var qe=0;qe<ct.geometry.length;qe++)pt.push(dt(ct.geometry[qe],tt))}else if("MultiPolygon"===He)for(pt=[],qe=0;qe<ct.geometry.length;qe++){for(var ft=[],et=0;et<ct.geometry[qe].length;et++)ft.push(dt(ct.geometry[qe][et],tt));pt.push(ft)}Ge.push(he(ct.id,He,pt,ct.tags))}return Ge}function dt(Je,tt){var Ge=[];Ge.size=Je.size,void 0!==Je.start&&(Ge.start=Je.start,Ge.end=Je.end);for(var Qe=0;Qe<Je.length;Qe+=3)Ge.push(Je[Qe]+tt,Je[Qe+1],Je[Qe+2]);return Ge}function ht(Je,tt){if(Je.transformed)return Je;var Ge,Qe,pt,ct=1<<Je.z,He=Je.x,qe=Je.y;for(Ge=0;Ge<Je.features.length;Ge++){var ft=Je.features[Ge],et=ft.geometry,xt=ft.type;if(ft.geometry=[],1===xt)for(Qe=0;Qe<et.length;Qe+=2)ft.geometry.push(Mt(et[Qe],et[Qe+1],tt,ct,He,qe));else for(Qe=0;Qe<et.length;Qe++){var wt=[];for(pt=0;pt<et[Qe].length;pt+=2)wt.push(Mt(et[Qe][pt],et[Qe][pt+1],tt,ct,He,qe));ft.geometry.push(wt)}}return Je.transformed=!0,Je}function Mt(Je,tt,Ge,Qe,pt,ct){return[Math.round(Ge*(Je*Qe-pt)),Math.round(Ge*(tt*Qe-ct))]}function kt(Je,tt,Ge,Qe,pt){for(var ct=tt===pt.maxZoom?0:pt.tolerance/((1<<tt)*pt.extent),He={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ge,y:Qe,z:tt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},qe=0;qe<Je.length;qe++){He.numFeatures++,_t(He,Je[qe],ct,pt);var ft=Je[qe].minX,et=Je[qe].minY,xt=Je[qe].maxX,wt=Je[qe].maxY;ft<He.minX&&(He.minX=ft),et<He.minY&&(He.minY=et),xt>He.maxX&&(He.maxX=xt),wt>He.maxY&&(He.maxY=wt)}return He}function _t(Je,tt,Ge,Qe){var pt=tt.geometry,ct=tt.type,He=[];if("Point"===ct||"MultiPoint"===ct)for(var qe=0;qe<pt.length;qe+=3)He.push(pt[qe]),He.push(pt[qe+1]),Je.numPoints++,Je.numSimplified++;else if("LineString"===ct)ut(He,pt,Je,Ge,!1,!1);else if("MultiLineString"===ct||"Polygon"===ct)for(qe=0;qe<pt.length;qe++)ut(He,pt[qe],Je,Ge,"Polygon"===ct,0===qe);else if("MultiPolygon"===ct)for(var ft=0;ft<pt.length;ft++){var et=pt[ft];for(qe=0;qe<et.length;qe++)ut(He,et[qe],Je,Ge,!0,0===qe)}if(He.length){var xt=tt.tags||null;if("LineString"===ct&&Qe.lineMetrics){for(var wt in xt={},tt.tags)xt[wt]=tt.tags[wt];xt.mapbox_clip_start=pt.start/pt.size,xt.mapbox_clip_end=pt.end/pt.size}var At={geometry:He,type:"Polygon"===ct||"MultiPolygon"===ct?3:"LineString"===ct||"MultiLineString"===ct?2:1,tags:xt};null!==tt.id&&(At.id=tt.id),Je.features.push(At)}}function ut(Je,tt,Ge,Qe,pt,ct){var He=Qe*Qe;if(Qe>0&&tt.size<(pt?He:Qe))Ge.numPoints+=tt.length/3;else{for(var qe=[],ft=0;ft<tt.length;ft+=3)(0===Qe||tt[ft+2]>He)&&(Ge.numSimplified++,qe.push(tt[ft]),qe.push(tt[ft+1])),Ge.numPoints++;pt&&function(et,xt){for(var wt=0,At=0,yt=et.length,Ot=yt-2;At<yt;Ot=At,At+=2)wt+=(et[At]-et[Ot])*(et[At+1]+et[Ot+1]);if(wt>0===xt)for(At=0,yt=et.length;At<yt/2;At+=2){var Ct=et[At],Rt=et[At+1];et[At]=et[yt-2-At],et[At+1]=et[yt-1-At],et[yt-2-At]=Ct,et[yt-1-At]=Rt}}(qe,ct),Je.push(qe)}}function st(Je,tt){var Ge=(tt=this.options=function(pt,ct){for(var He in ct)pt[He]=ct[He];return pt}(Object.create(this.options),tt)).debug;if(Ge&&console.time("preprocess data"),tt.maxZoom<0||tt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(tt.promoteId&&tt.generateId)throw new Error("promoteId and generateId cannot be used together.");var pt,ct,He,qe,ft,et,Qe=function(pt,ct){var He=[];if("FeatureCollection"===pt.type)for(var qe=0;qe<pt.features.length;qe++)me(He,pt.features[qe],ct,qe);else me(He,"Feature"===pt.type?pt:{geometry:pt},ct);return He}(Je,tt);this.tiles={},this.tileCoords=[],Ge&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",tt.indexMaxZoom,tt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(pt=Qe,ct=tt,He=ct.buffer/ct.extent,qe=pt,ft=je(pt,1,-1-He,He,0,-1,2,ct),et=je(pt,1,1-He,2+He,0,-1,2,ct),(ft||et)&&(qe=je(pt,1,-He,1+He,0,-1,2,ct)||[],ft&&(qe=nt(ft,1).concat(qe)),et&&(qe=qe.concat(nt(et,-1)))),Qe=qe).length&&this.splitTile(Qe,0,0,0),Ge&&(Qe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Lt(Je,tt,Ge){return 32*((1<<Je)*Ge+tt)+Je}function Ut(Je,tt){var Ge=Je.tileID.canonical;if(!this._geoJSONIndex)return tt(null,null);var Qe=this._geoJSONIndex.getTile(Ge.z,Ge.x,Ge.y);if(!Qe)return tt(null,null);var pt=new m(Qe.features),ct=f(pt);0===ct.byteOffset&&ct.byteLength===ct.buffer.byteLength||(ct=new Uint8Array(ct)),tt(null,{vectorTile:pt,rawData:ct.buffer})}le.prototype.load=function(Je){var tt=this.options,Ge=tt.log,Qe=tt.minZoom,pt=tt.maxZoom,ct=tt.nodeSize;Ge&&console.time("total time");var He="prepare "+Je.length+" points";Ge&&console.time(He),this.points=Je;for(var qe=[],ft=0;ft<Je.length;ft++)Je[ft].geometry&&qe.push(ce(Je[ft],ft));this.trees[pt+1]=new re(qe,be,ye,ct,Float32Array),Ge&&console.timeEnd(He);for(var et=pt;et>=Qe;et--){var xt=+Date.now();qe=this._cluster(qe,et),this.trees[et]=new re(qe,be,ye,ct,Float32Array),Ge&&console.log("z%d: %d clusters in %dms",et,qe.length,+Date.now()-xt)}return Ge&&console.timeEnd("total time"),this},le.prototype.getClusters=function(Je,tt){var Ge=((Je[0]+180)%360+360)%360-180,Qe=Math.max(-90,Math.min(90,Je[1])),pt=180===Je[2]?180:((Je[2]+180)%360+360)%360-180,ct=Math.max(-90,Math.min(90,Je[3]));if(Je[2]-Je[0]>=360)Ge=-180,pt=180;else if(Ge>pt){var He=this.getClusters([Ge,Qe,180,ct],tt),qe=this.getClusters([-180,Qe,pt,ct],tt);return He.concat(qe)}for(var ft=this.trees[this._limitZoom(tt)],et=[],xt=0,wt=ft.range(Me(Ge),we(ct),Me(pt),we(Qe));xt<wt.length;xt+=1){var yt=ft.points[wt[xt]];et.push(yt.numPoints?ge(yt):this.points[yt.index])}return et},le.prototype.getChildren=function(Je){var tt=this._getOriginId(Je),Ge=this._getOriginZoom(Je),Qe="No cluster with the specified id.",pt=this.trees[Ge];if(!pt)throw new Error(Qe);var ct=pt.points[tt];if(!ct)throw new Error(Qe);for(var He=this.options.radius/(this.options.extent*Math.pow(2,Ge-1)),qe=[],ft=0,et=pt.within(ct.x,ct.y,He);ft<et.length;ft+=1){var wt=pt.points[et[ft]];wt.parentId===Je&&qe.push(wt.numPoints?ge(wt):this.points[wt.index])}if(0===qe.length)throw new Error(Qe);return qe},le.prototype.getLeaves=function(Je,tt,Ge){var Qe=[];return this._appendLeaves(Qe,Je,tt=tt||10,Ge=Ge||0,0),Qe},le.prototype.getTile=function(Je,tt,Ge){var Qe=this.trees[this._limitZoom(Je)],pt=Math.pow(2,Je),ct=this.options,qe=ct.radius/ct.extent,ft=(Ge-qe)/pt,et=(Ge+1+qe)/pt,xt={features:[]};return this._addTileFeatures(Qe.range((tt-qe)/pt,ft,(tt+1+qe)/pt,et),Qe.points,tt,Ge,pt,xt),0===tt&&this._addTileFeatures(Qe.range(1-qe/pt,ft,1,et),Qe.points,pt,Ge,pt,xt),tt===pt-1&&this._addTileFeatures(Qe.range(0,ft,qe/pt,et),Qe.points,-1,Ge,pt,xt),xt.features.length?xt:null},le.prototype.getClusterExpansionZoom=function(Je){for(var tt=this._getOriginZoom(Je)-1;tt<=this.options.maxZoom;){var Ge=this.getChildren(Je);if(tt++,1!==Ge.length)break;Je=Ge[0].properties.cluster_id}return tt},le.prototype._appendLeaves=function(Je,tt,Ge,Qe,pt){for(var ct=0,He=this.getChildren(tt);ct<He.length;ct+=1){var qe=He[ct],ft=qe.properties;if(ft&&ft.cluster?pt+ft.point_count<=Qe?pt+=ft.point_count:pt=this._appendLeaves(Je,ft.cluster_id,Ge,Qe,pt):pt<Qe?pt++:Je.push(qe),Je.length===Ge)break}return pt},le.prototype._addTileFeatures=function(Je,tt,Ge,Qe,pt,ct){for(var He=0,qe=Je;He<qe.length;He+=1){var ft=tt[qe[He]],et=ft.numPoints,xt={type:1,geometry:[[Math.round(this.options.extent*(ft.x*pt-Ge)),Math.round(this.options.extent*(ft.y*pt-Qe))]],tags:et?Te(ft):this.points[ft.index].properties},wt=void 0;et?wt=ft.id:this.options.generateId?wt=ft.index:this.points[ft.index].id&&(wt=this.points[ft.index].id),void 0!==wt&&(xt.id=wt),ct.features.push(xt)}},le.prototype._limitZoom=function(Je){return Math.max(this.options.minZoom,Math.min(+Je,this.options.maxZoom+1))},le.prototype._cluster=function(Je,tt){for(var Ge=[],Qe=this.options,He=Qe.reduce,qe=Qe.minPoints,ft=Qe.radius/(Qe.extent*Math.pow(2,tt)),et=0;et<Je.length;et++){var xt=Je[et];if(!(xt.zoom<=tt)){xt.zoom=tt;for(var wt=this.trees[tt+1],At=wt.within(xt.x,xt.y,ft),yt=xt.numPoints||1,Ot=yt,Ct=0,Rt=At;Ct<Rt.length;Ct+=1){var jt=wt.points[Rt[Ct]];jt.zoom>tt&&(Ot+=jt.numPoints||1)}if(Ot>=qe){for(var Gt=xt.x*yt,on=xt.y*yt,Jt=He&&yt>1?this._map(xt,!0):null,$t=(et<<5)+(tt+1)+this.points.length,tn=0,dn=At;tn<dn.length;tn+=1){var zn=wt.points[dn[tn]];if(!(zn.zoom<=tt)){zn.zoom=tt;var Mn=zn.numPoints||1;Gt+=zn.x*Mn,on+=zn.y*Mn,zn.parentId=$t,He&&(Jt||(Jt=this._map(xt,!0)),He(Jt,this._map(zn)))}}xt.parentId=$t,Ge.push(fe(Gt/Ot,on/Ot,$t,Ot,Jt))}else if(Ge.push(xt),Ot>1)for(var ln=0,vn=At;ln<vn.length;ln+=1){var _n=wt.points[vn[ln]];_n.zoom<=tt||(_n.zoom=tt,Ge.push(_n))}}}return Ge},le.prototype._getOriginId=function(Je){return Je-this.points.length>>5},le.prototype._getOriginZoom=function(Je){return(Je-this.points.length)%32},le.prototype._map=function(Je,tt){if(Je.numPoints)return tt?xe({},Je.properties):Je.properties;var Ge=this.points[Je.index].properties,Qe=this.options.map(Ge);return tt&&Qe===Ge?xe({},Qe):Qe},st.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},st.prototype.splitTile=function(Je,tt,Ge,Qe,pt,ct,He){for(var qe=[Je,tt,Ge,Qe],ft=this.options,et=ft.debug;qe.length;){Qe=qe.pop(),Ge=qe.pop(),tt=qe.pop(),Je=qe.pop();var xt=1<<tt,wt=Lt(tt,Ge,Qe),At=this.tiles[wt];if(!At&&(et>1&&console.time("creation"),At=this.tiles[wt]=kt(Je,tt,Ge,Qe,ft),this.tileCoords.push({z:tt,x:Ge,y:Qe}),et)){et>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",tt,Ge,Qe,At.numFeatures,At.numPoints,At.numSimplified),console.timeEnd("creation"));var yt="z"+tt;this.stats[yt]=(this.stats[yt]||0)+1,this.total++}if(At.source=Je,pt){if(tt===ft.maxZoom||tt===pt)continue;var Ot=1<<pt-tt;if(Ge!==Math.floor(ct/Ot)||Qe!==Math.floor(He/Ot))continue}else if(tt===ft.indexMaxZoom||At.numPoints<=ft.indexMaxPoints)continue;if(At.source=null,0!==Je.length){et>1&&console.time("clipping");var Ct,Rt,Bt,jt,Gt,on,Jt=.5*ft.buffer/ft.extent,$t=.5-Jt,tn=.5+Jt,dn=1+Jt;Ct=Rt=Bt=jt=null,Gt=je(Je,xt,Ge-Jt,Ge+tn,0,At.minX,At.maxX,ft),on=je(Je,xt,Ge+$t,Ge+dn,0,At.minX,At.maxX,ft),Je=null,Gt&&(Ct=je(Gt,xt,Qe-Jt,Qe+tn,1,At.minY,At.maxY,ft),Rt=je(Gt,xt,Qe+$t,Qe+dn,1,At.minY,At.maxY,ft),Gt=null),on&&(Bt=je(on,xt,Qe-Jt,Qe+tn,1,At.minY,At.maxY,ft),jt=je(on,xt,Qe+$t,Qe+dn,1,At.minY,At.maxY,ft),on=null),et>1&&console.timeEnd("clipping"),qe.push(Ct||[],tt+1,2*Ge,2*Qe),qe.push(Rt||[],tt+1,2*Ge,2*Qe+1),qe.push(Bt||[],tt+1,2*Ge+1,2*Qe),qe.push(jt||[],tt+1,2*Ge+1,2*Qe+1)}}},st.prototype.getTile=function(Je,tt,Ge){var Qe=this.options,pt=Qe.extent,ct=Qe.debug;if(Je<0||Je>24)return null;var He=1<<Je,qe=Lt(Je,tt=(tt%He+He)%He,Ge);if(this.tiles[qe])return ht(this.tiles[qe],pt);ct>1&&console.log("drilling down to z%d-%d-%d",Je,tt,Ge);for(var ft,et=Je,xt=tt,wt=Ge;!ft&&et>0;)et--,xt=Math.floor(xt/2),wt=Math.floor(wt/2),ft=this.tiles[Lt(et,xt,wt)];return ft&&ft.source?(ct>1&&console.log("found parent tile z%d-%d-%d",et,xt,wt),ct>1&&console.time("drilling down"),this.splitTile(ft.source,et,xt,wt,Je,tt,Ge),ct>1&&console.timeEnd("drilling down"),this.tiles[qe]?ht(this.tiles[qe],pt):null):null};var Ht=function(Je){function tt(Ge,Qe,pt,ct){Je.call(this,Ge,Qe,pt,Ut),ct&&(this.loadGeoJSON=ct)}return Je&&(tt.__proto__=Je),(tt.prototype=Object.create(Je&&Je.prototype)).constructor=tt,tt.prototype.loadData=function(Ge,Qe){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Qe,this._pendingLoadDataParams=Ge,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},tt.prototype._loadData=function(){var Ge=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Qe=this._pendingCallback,pt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ct=!!(pt&&pt.request&&pt.request.collectResourceTiming)&&new a.RequestPerformance(pt.request);this.loadGeoJSON(pt,function(He,qe){if(He||!qe)return Qe(He);if("object"!=typeof qe)return Qe(new Error("Input data given to '"+pt.source+"' is not a valid GeoJSON object."));l(qe,!0);try{if(pt.filter){var ft=a.createExpression(pt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===ft.result)throw new Error(ft.value.map(function(At){return At.key+": "+At.message}).join(", "));var et=qe.features.filter(function(At){return ft.value.evaluate({zoom:0},At)});qe={type:"FeatureCollection",features:et}}Ge._geoJSONIndex=pt.cluster?new le(function(At){var yt=At.superclusterOptions,Ot=At.clusterProperties;if(!Ot||!yt)return yt;for(var Ct={},Rt={},Bt={accumulated:null,zoom:0},jt={properties:null},Gt=Object.keys(Ot),on=0,Jt=Gt;on<Jt.length;on+=1){var $t=Jt[on],tn=Ot[$t],dn=tn[0],zn=a.createExpression(tn[1]),Mn=a.createExpression("string"==typeof dn?[dn,["accumulated"],["get",$t]]:dn);Ct[$t]=zn.value,Rt[$t]=Mn.value}return yt.map=function(ln){jt.properties=ln;for(var vn={},hn=0,_n=Gt;hn<_n.length;hn+=1){var Dn=_n[hn];vn[Dn]=Ct[Dn].evaluate(Bt,jt)}return vn},yt.reduce=function(ln,vn){jt.properties=vn;for(var hn=0,_n=Gt;hn<_n.length;hn+=1){var Dn=_n[hn];Bt.accumulated=ln[Dn],ln[Dn]=Rt[Dn].evaluate(Bt,jt)}},yt}(pt)).load(qe.features):new st(At=qe,pt.geojsonVtOptions)}catch(At){return Qe(At)}var At;Ge.loaded={};var xt={};if(ct){var wt=ct.finish();wt&&(xt.resourceTiming={},xt.resourceTiming[pt.source]=JSON.parse(JSON.stringify(wt)))}Qe(null,xt)})}},tt.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},tt.prototype.reloadTile=function(Ge,Qe){var pt=this.loaded;return pt&&pt[Ge.uid]?Je.prototype.reloadTile.call(this,Ge,Qe):this.loadTile(Ge,Qe)},tt.prototype.loadGeoJSON=function(Ge,Qe){if(Ge.request)a.getJSON(Ge.request,Qe);else{if("string"!=typeof Ge.data)return Qe(new Error("Input data given to '"+Ge.source+"' is not a valid GeoJSON object."));try{return Qe(null,JSON.parse(Ge.data))}catch{return Qe(new Error("Input data given to '"+Ge.source+"' is not a valid GeoJSON object."))}}},tt.prototype.removeSource=function(Ge,Qe){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Qe()},tt.prototype.getClusterExpansionZoom=function(Ge,Qe){try{Qe(null,this._geoJSONIndex.getClusterExpansionZoom(Ge.clusterId))}catch(pt){Qe(pt)}},tt.prototype.getClusterChildren=function(Ge,Qe){try{Qe(null,this._geoJSONIndex.getChildren(Ge.clusterId))}catch(pt){Qe(pt)}},tt.prototype.getClusterLeaves=function(Ge,Qe){try{Qe(null,this._geoJSONIndex.getLeaves(Ge.clusterId,Ge.limit,Ge.offset))}catch(pt){Qe(pt)}},tt}(r),Pt=function(Je){var tt=this;this.self=Je,this.actor=new a.Actor(Je,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:r,geojson:Ht},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ge,Qe){if(tt.workerSourceTypes[Ge])throw new Error('Worker source with name "'+Ge+'" already registered.');tt.workerSourceTypes[Ge]=Qe},this.self.registerRTLTextPlugin=function(Ge){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ge.applyArabicShaping,a.plugin.processBidirectionalText=Ge.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ge.processStyledBidirectionalText}};return Pt.prototype.setReferrer=function(Je,tt){this.referrer=tt},Pt.prototype.setImages=function(Je,tt,Ge){for(var Qe in this.availableImages[Je]=tt,this.workerSources[Je]){var pt=this.workerSources[Je][Qe];for(var ct in pt)pt[ct].availableImages=tt}Ge()},Pt.prototype.setLayers=function(Je,tt,Ge){this.getLayerIndex(Je).replace(tt),Ge()},Pt.prototype.updateLayers=function(Je,tt,Ge){this.getLayerIndex(Je).update(tt.layers,tt.removedIds),Ge()},Pt.prototype.loadTile=function(Je,tt,Ge){this.getWorkerSource(Je,tt.type,tt.source).loadTile(tt,Ge)},Pt.prototype.loadDEMTile=function(Je,tt,Ge){this.getDEMWorkerSource(Je,tt.source).loadTile(tt,Ge)},Pt.prototype.reloadTile=function(Je,tt,Ge){this.getWorkerSource(Je,tt.type,tt.source).reloadTile(tt,Ge)},Pt.prototype.abortTile=function(Je,tt,Ge){this.getWorkerSource(Je,tt.type,tt.source).abortTile(tt,Ge)},Pt.prototype.removeTile=function(Je,tt,Ge){this.getWorkerSource(Je,tt.type,tt.source).removeTile(tt,Ge)},Pt.prototype.removeDEMTile=function(Je,tt){this.getDEMWorkerSource(Je,tt.source).removeTile(tt)},Pt.prototype.removeSource=function(Je,tt,Ge){if(this.workerSources[Je]&&this.workerSources[Je][tt.type]&&this.workerSources[Je][tt.type][tt.source]){var Qe=this.workerSources[Je][tt.type][tt.source];delete this.workerSources[Je][tt.type][tt.source],void 0!==Qe.removeSource?Qe.removeSource(tt,Ge):Ge()}},Pt.prototype.loadWorkerSource=function(Je,tt,Ge){try{this.self.importScripts(tt.url),Ge()}catch(Qe){Ge(Qe.toString())}},Pt.prototype.syncRTLPluginState=function(Je,tt,Ge){try{a.plugin.setState(tt);var Qe=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&null!=Qe){this.self.importScripts(Qe);var pt=a.plugin.isParsed();Ge(pt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Qe),pt)}}catch(ct){Ge(ct.toString())}},Pt.prototype.getAvailableImages=function(Je){var tt=this.availableImages[Je];return tt||(tt=[]),tt},Pt.prototype.getLayerIndex=function(Je){var tt=this.layerIndexes[Je];return tt||(tt=this.layerIndexes[Je]=new d),tt},Pt.prototype.getWorkerSource=function(Je,tt,Ge){var Qe=this;return this.workerSources[Je]||(this.workerSources[Je]={}),this.workerSources[Je][tt]||(this.workerSources[Je][tt]={}),this.workerSources[Je][tt][Ge]||(this.workerSources[Je][tt][Ge]=new this.workerSourceTypes[tt]({send:function(ct,He,qe){Qe.actor.send(ct,He,qe,Je)}},this.getLayerIndex(Je),this.getAvailableImages(Je))),this.workerSources[Je][tt][Ge]},Pt.prototype.getDEMWorkerSource=function(Je,tt){return this.demWorkerSources[Je]||(this.demWorkerSources[Je]={}),this.demWorkerSources[Je][tt]||(this.demWorkerSources[Je][tt]=new u),this.demWorkerSources[Je][tt]},Pt.prototype.enforceCacheSizeLimit=function(Je,tt){a.enforceCacheSizeLimit(tt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Pt(self)),Pt}),A(0,function(a){var M=a.createCommonjsModule(function(V){function X(Y){return!Z(Y)}function Z(Y){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var se,pe,ke=new Blob([""],{type:"text/javascript"}),Re=URL.createObjectURL(ke);try{pe=new Worker(Re),se=!0}catch{se=!1}return pe&&pe.terminate(),URL.revokeObjectURL(Re),se}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var se=document.createElement("canvas");se.width=se.height=1;var pe=se.getContext("2d");if(!pe)return!1;var ke=pe.getImageData(0,0,1,1);return ke&&ke.width===se.width}()?(void 0===L[ne=Y&&Y.failIfMajorPerformanceCaveat]&&(L[ne]=function(se){var Re,Be,Ze,pe=(Re=se,Be=document.createElement("canvas"),(Ze=Object.create(X.webGLContextAttributes)).failIfMajorPerformanceCaveat=Re,Be.probablySupportsContext?Be.probablySupportsContext("webgl",Ze)||Be.probablySupportsContext("experimental-webgl",Ze):Be.supportsContext?Be.supportsContext("webgl",Ze)||Be.supportsContext("experimental-webgl",Ze):Be.getContext("webgl",Ze)||Be.getContext("experimental-webgl",Ze));if(!pe)return!1;var ke=pe.createShader(pe.VERTEX_SHADER);return!(!ke||pe.isContextLost())&&(pe.shaderSource(ke,"void main() {}"),pe.compileShader(ke),!0===pe.getShaderParameter(ke,pe.COMPILE_STATUS))}(ne)),L[ne]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var ne}V.exports?V.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=Z);var L={};X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),_={create:function(V,X,Z){var L=a.window.document.createElement(V);return void 0!==X&&(L.className=X),Z&&Z.appendChild(L),L},createNS:function(V,X){return a.window.document.createElementNS(V,X)}},d=a.window.document&&a.window.document.documentElement.style;function s(V){if(!d)return V[0];for(var X=0;X<V.length;X++)if(V[X]in d)return V[X];return V[0]}var t,i=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);_.disableDrag=function(){d&&i&&(t=d[i],d[i]="none")},_.enableDrag=function(){d&&i&&(d[i]=t)};var n=s(["transform","WebkitTransform"]);_.setTransform=function(V,X){V.style[n]=X};var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});a.window.addEventListener("test",o,o),a.window.removeEventListener("test",o,o)}catch{r=!1}_.addEventListener=function(V,X,Z,L){void 0===L&&(L={}),V.addEventListener(X,Z,"passive"in L&&r?L:L.capture)},_.removeEventListener=function(V,X,Z,L){void 0===L&&(L={}),V.removeEventListener(X,Z,"passive"in L&&r?L:L.capture)};var u=function(V){V.preventDefault(),V.stopPropagation(),a.window.removeEventListener("click",u,!0)};function l(V){var X=V.userImage;return!!(X&&X.render&&X.render())&&(V.data.replace(new Uint8Array(X.data.buffer)),!0)}_.suppressClick=function(){a.window.addEventListener("click",u,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",u,!0)},0)},_.mousePos=function(V,X){var Z=V.getBoundingClientRect();return new a.Point(X.clientX-Z.left-V.clientLeft,X.clientY-Z.top-V.clientTop)},_.touchPos=function(V,X){for(var Z=V.getBoundingClientRect(),L=[],Y=0;Y<X.length;Y++)L.push(new a.Point(X[Y].clientX-Z.left-V.clientLeft,X[Y].clientY-Z.top-V.clientTop));return L},_.mouseButton=function(V){return void 0!==a.window.InstallTrigger&&2===V.button&&V.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:V.button},_.remove=function(V){V.parentNode&&V.parentNode.removeChild(V)};var h=function(V){function X(){V.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(Z){if(this.loaded!==Z&&(this.loaded=Z,Z)){for(var L=0,Y=this.requestors;L<Y.length;L+=1){var ne=Y[L];this._notify(ne.ids,ne.callback)}this.requestors=[]}},X.prototype.getImage=function(Z){return this.images[Z]},X.prototype.addImage=function(Z,L){this._validate(Z,L)&&(this.images[Z]=L)},X.prototype._validate=function(Z,L){var Y=!0;return this._validateStretch(L.stretchX,L.data&&L.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+Z+'" has invalid "stretchX" value'))),Y=!1),this._validateStretch(L.stretchY,L.data&&L.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+Z+'" has invalid "stretchY" value'))),Y=!1),this._validateContent(L.content,L)||(this.fire(new a.ErrorEvent(new Error('Image "'+Z+'" has invalid "content" value'))),Y=!1),Y},X.prototype._validateStretch=function(Z,L){if(!Z)return!0;for(var Y=0,ne=0,se=Z;ne<se.length;ne+=1){var pe=se[ne];if(pe[0]<Y||pe[1]<pe[0]||L<pe[1])return!1;Y=pe[1]}return!0},X.prototype._validateContent=function(Z,L){return!(Z&&(4!==Z.length||Z[0]<0||L.data.width<Z[0]||Z[1]<0||L.data.height<Z[1]||Z[2]<0||L.data.width<Z[2]||Z[3]<0||L.data.height<Z[3]||Z[2]<Z[0]||Z[3]<Z[1]))},X.prototype.updateImage=function(Z,L){L.version=this.images[Z].version+1,this.images[Z]=L,this.updatedImages[Z]=!0},X.prototype.removeImage=function(Z){var L=this.images[Z];delete this.images[Z],delete this.patterns[Z],L.userImage&&L.userImage.onRemove&&L.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(Z,L){var Y=!0;if(!this.isLoaded())for(var ne=0,se=Z;ne<se.length;ne+=1)this.images[se[ne]]||(Y=!1);this.isLoaded()||Y?this._notify(Z,L):this.requestors.push({ids:Z,callback:L})},X.prototype._notify=function(Z,L){for(var Y={},ne=0,se=Z;ne<se.length;ne+=1){var pe=se[ne];this.images[pe]||this.fire(new a.Event("styleimagemissing",{id:pe}));var ke=this.images[pe];ke?Y[pe]={data:ke.data.clone(),pixelRatio:ke.pixelRatio,sdf:ke.sdf,version:ke.version,stretchX:ke.stretchX,stretchY:ke.stretchY,content:ke.content,hasRenderCallback:!(!ke.userImage||!ke.userImage.render)}:a.warnOnce('Image "'+pe+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}L(null,Y)},X.prototype.getPixelSize=function(){var Z=this.atlasImage;return{width:Z.width,height:Z.height}},X.prototype.getPattern=function(Z){var L=this.patterns[Z],Y=this.getImage(Z);if(!Y)return null;if(L&&L.position.version===Y.version)return L.position;if(L)L.position.version=Y.version;else{var ne={w:Y.data.width+2,h:Y.data.height+2,x:0,y:0},se=new a.ImagePosition(ne,Y);this.patterns[Z]={bin:ne,position:se}}return this._updatePatternAtlas(),this.patterns[Z].position},X.prototype.bind=function(Z){var L=Z.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(Z,this.atlasImage,L.RGBA),this.atlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var Z=[];for(var L in this.patterns)Z.push(this.patterns[L].bin);var Y=a.potpack(Z),ne=Y.w,se=Y.h,pe=this.atlasImage;for(var ke in pe.resize({width:ne||1,height:se||1}),this.patterns){var Re=this.patterns[ke].bin,Be=Re.x+1,Ze=Re.y+1,Ke=this.images[ke].data,lt=Ke.width,vt=Ke.height;a.RGBAImage.copy(Ke,pe,{x:0,y:0},{x:Be,y:Ze},{width:lt,height:vt}),a.RGBAImage.copy(Ke,pe,{x:0,y:vt-1},{x:Be,y:Ze-1},{width:lt,height:1}),a.RGBAImage.copy(Ke,pe,{x:0,y:0},{x:Be,y:Ze+vt},{width:lt,height:1}),a.RGBAImage.copy(Ke,pe,{x:lt-1,y:0},{x:Be-1,y:Ze},{width:1,height:vt}),a.RGBAImage.copy(Ke,pe,{x:0,y:0},{x:Be+lt,y:Ze},{width:1,height:vt})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(Z){for(var L=0,Y=Z;L<Y.length;L+=1){var ne=Y[L];if(!this.callbackDispatchedThisFrame[ne]){this.callbackDispatchedThisFrame[ne]=!0;var se=this.images[ne];l(se)&&this.updateImage(ne,se)}}},X}(a.Evented),c=m,b=m,p=1e20;function m(V,X,Z,L,Y,ne){this.fontSize=V||24,this.buffer=void 0===X?3:X,this.cutoff=L||.25,this.fontFamily=Y||"sans-serif",this.fontWeight=ne||"normal",this.radius=Z||8;var se=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=se,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(se*se),this.gridInner=new Float64Array(se*se),this.f=new Float64Array(se),this.d=new Float64Array(se),this.z=new Float64Array(se+1),this.v=new Int16Array(se),this.middle=Math.round(se/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(V,X,Z,L,Y,ne,se){for(var pe=0;pe<X;pe++){for(var ke=0;ke<Z;ke++)L[ke]=V[ke*X+pe];for(x(L,Y,ne,se,Z),ke=0;ke<Z;ke++)V[ke*X+pe]=Y[ke]}for(ke=0;ke<Z;ke++){for(pe=0;pe<X;pe++)L[pe]=V[ke*X+pe];for(x(L,Y,ne,se,X),pe=0;pe<X;pe++)V[ke*X+pe]=Math.sqrt(Y[pe])}}function x(V,X,Z,L,Y){Z[0]=0,L[0]=-p,L[1]=+p;for(var ne=1,se=0;ne<Y;ne++){for(var pe=(V[ne]+ne*ne-(V[Z[se]]+Z[se]*Z[se]))/(2*ne-2*Z[se]);pe<=L[se];)se--,pe=(V[ne]+ne*ne-(V[Z[se]]+Z[se]*Z[se]))/(2*ne-2*Z[se]);Z[++se]=ne,L[se]=pe,L[se+1]=+p}for(ne=0,se=0;ne<Y;ne++){for(;L[se+1]<ne;)se++;X[ne]=(ne-Z[se])*(ne-Z[se])+V[Z[se]]}}m.prototype.draw=function(V){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(V,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),Z=new Uint8ClampedArray(this.size*this.size),L=0;L<this.size*this.size;L++){var Y=X.data[4*L+3]/255;this.gridOuter[L]=1===Y?0:0===Y?p:Math.pow(Math.max(0,.5-Y),2),this.gridInner[L]=1===Y?p:0===Y?0:Math.pow(Math.max(0,Y-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),L=0;L<this.size*this.size;L++)Z[L]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[L]-this.gridInner[L])/this.radius+this.cutoff))));return Z},c.default=b;var y=function(V,X){this.requestManager=V,this.localIdeographFontFamily=X,this.entries={}};y.prototype.setURL=function(V){this.url=V},y.prototype.getGlyphs=function(V,X){var Z=this,L=[];for(var Y in V)for(var ne=0,se=V[Y];ne<se.length;ne+=1)L.push({stack:Y,id:se[ne]});a.asyncAll(L,function(ke,Re){var Be=ke.stack,Ze=ke.id,Ke=Z.entries[Be];Ke||(Ke=Z.entries[Be]={glyphs:{},requests:{},ranges:{}});var lt=Ke.glyphs[Ze];if(void 0===lt){if(lt=Z._tinySDF(Ke,Be,Ze))return Ke.glyphs[Ze]=lt,void Re(null,{stack:Be,id:Ze,glyph:lt});var vt=Math.floor(Ze/256);if(256*vt>65535)Re(new Error("glyphs > 65535 not supported"));else if(Ke.ranges[vt])Re(null,{stack:Be,id:Ze,glyph:lt});else{var bt=Ke.requests[vt];bt||(bt=Ke.requests[vt]=[],y.loadGlyphRange(Be,vt,Z.url,Z.requestManager,function(St,Ft){if(Ft){for(var It in Ft)Z._doesCharSupportLocalGlyph(+It)||(Ke.glyphs[+It]=Ft[+It]);Ke.ranges[vt]=!0}for(var Wt=0,zt=bt;Wt<zt.length;Wt+=1)(0,zt[Wt])(St,Ft);delete Ke.requests[vt]})),bt.push(function(St,Ft){St?Re(St):Ft&&Re(null,{stack:Be,id:Ze,glyph:Ft[Ze]||null})})}}else Re(null,{stack:Be,id:Ze,glyph:lt})},function(ke,Re){if(ke)X(ke);else if(Re){for(var Be={},Ze=0,Ke=Re;Ze<Ke.length;Ze+=1){var lt=Ke[Ze],vt=lt.stack,bt=lt.id,St=lt.glyph;(Be[vt]||(Be[vt]={}))[bt]=St&&{id:St.id,bitmap:St.bitmap.clone(),metrics:St.metrics}}X(null,Be)}})},y.prototype._doesCharSupportLocalGlyph=function(V){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](V)||a.isChar["Hangul Syllables"](V)||a.isChar.Hiragana(V)||a.isChar.Katakana(V))},y.prototype._tinySDF=function(V,X,Z){var L=this.localIdeographFontFamily;if(L&&this._doesCharSupportLocalGlyph(Z)){var Y=V.tinySDF;if(!Y){var ne="400";/bold/i.test(X)?ne="900":/medium/i.test(X)?ne="500":/light/i.test(X)&&(ne="200"),Y=V.tinySDF=new y.TinySDF(24,3,8,.25,L,ne)}return{id:Z,bitmap:new a.AlphaImage({width:30,height:30},Y.draw(String.fromCharCode(Z))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(V,X,Z,L,Y){var ne=256*X,se=ne+255,pe=L.transformRequest(L.normalizeGlyphsURL(Z).replace("{fontstack}",V).replace("{range}",ne+"-"+se),a.ResourceType.Glyphs);a.getArrayBuffer(pe,function(ke,Re){if(ke)Y(ke);else if(Re){for(var Be={},Ze=0,Ke=a.parseGlyphPBF(Re);Ze<Ke.length;Ze+=1){var lt=Ke[Ze];Be[lt.id]=lt}Y(null,Be)}})},y.TinySDF=c;var w=function(){this.specification=a.styleSpec.light.position};w.prototype.possiblyEvaluate=function(V,X){return a.sphericalToCartesian(V.expression.evaluate(X))},w.prototype.interpolate=function(V,X,Z){return{x:a.number(V.x,X.x,Z),y:a.number(V.y,X.y,Z),z:a.number(V.z,X.z,Z)}};var f=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new w,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),T=function(V){function X(Z){V.call(this),this._transitionable=new a.Transitionable(f),this.setLight(Z),this._transitioning=this._transitionable.untransitioned()}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(Z,L){if(void 0===L&&(L={}),!this._validate(a.validateLight,Z,L))for(var Y in Z){var ne=Z[Y];a.endsWith(Y,"-transition")?this._transitionable.setTransition(Y.slice(0,-11),ne):this._transitionable.setValue(Y,ne)}},X.prototype.updateTransitions=function(Z){this._transitioning=this._transitionable.transitioned(Z,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(Z){this.properties=this._transitioning.possiblyEvaluate(Z)},X.prototype._validate=function(Z,L,Y){return(!Y||!1!==Y.validate)&&a.emitValidationErrors(this,Z.call(a.validateStyle,a.extend({value:L,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},X}(a.Evented),D=function(V,X){this.width=V,this.height=X,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};D.prototype.getDash=function(V,X){var Z=V.join(",")+String(X);return this.dashEntry[Z]||(this.dashEntry[Z]=this.addDash(V,X)),this.dashEntry[Z]},D.prototype.getDashRanges=function(V,X,Z){var L=[],Y=V.length%2==1?-V[V.length-1]*Z:0,ne=V[0]*Z,se=!0;L.push({left:Y,right:ne,isDash:se,zeroLength:0===V[0]});for(var pe=V[0],ke=1;ke<V.length;ke++){var Re=V[ke];Y=pe*Z,ne=(pe+=Re)*Z,L.push({left:Y,right:ne,isDash:se=!se,zeroLength:0===Re})}return L},D.prototype.addRoundDash=function(V,X,Z){for(var L=X/2,Y=-Z;Y<=Z;Y++)for(var se=this.width*(this.nextRow+Z+Y),pe=0,ke=V[pe],Re=0;Re<this.width;Re++){Re/ke.right>1&&(ke=V[++pe]);var Be=Math.abs(Re-ke.left),Ze=Math.abs(Re-ke.right),Ke=Math.min(Be,Ze),lt=void 0,vt=Y/Z*(L+1);if(ke.isDash){var bt=L-Math.abs(vt);lt=Math.sqrt(Ke*Ke+bt*bt)}else lt=L-Math.sqrt(Ke*Ke+vt*vt);this.data[se+Re]=Math.max(0,Math.min(255,lt+128))}},D.prototype.addRegularDash=function(V){for(var X=V.length-1;X>=0;--X){var Z=V[X],L=V[X+1];Z.zeroLength?V.splice(X,1):L&&L.isDash===Z.isDash&&(L.left=Z.left,V.splice(X,1))}var Y=V[0],ne=V[V.length-1];Y.isDash===ne.isDash&&(Y.left=ne.left-this.width,ne.right=Y.right+this.width);for(var se=this.width*this.nextRow,pe=0,ke=V[pe],Re=0;Re<this.width;Re++){Re/ke.right>1&&(ke=V[++pe]);var Be=Math.abs(Re-ke.left),Ze=Math.abs(Re-ke.right),Ke=Math.min(Be,Ze);this.data[se+Re]=Math.max(0,Math.min(255,(ke.isDash?Ke:-Ke)+128))}},D.prototype.addDash=function(V,X){var Z=X?7:0,L=2*Z+1;if(this.nextRow+L>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var Y=0,ne=0;ne<V.length;ne++)Y+=V[ne];if(0!==Y){var se=this.width/Y,pe=this.getDashRanges(V,this.width,se);X?this.addRoundDash(pe,se,Z):this.addRegularDash(pe)}var ke={y:(this.nextRow+Z+.5)/this.height,height:2*Z/this.height,width:Y};return this.nextRow+=L,this.dirty=!0,ke},D.prototype.bind=function(V){var X=V.gl;this.texture?(X.bindTexture(X.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,X.texSubImage2D(X.TEXTURE_2D,0,0,0,this.width,this.height,X.ALPHA,X.UNSIGNED_BYTE,this.data))):(this.texture=X.createTexture(),X.bindTexture(X.TEXTURE_2D,this.texture),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.REPEAT),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.REPEAT),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.LINEAR),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.LINEAR),X.texImage2D(X.TEXTURE_2D,0,X.ALPHA,this.width,this.height,0,X.ALPHA,X.UNSIGNED_BYTE,this.data))};var R=function V(X,Z){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var L=this.workerPool.acquire(this.id),Y=0;Y<L.length;Y++){var se=new V.Actor(L[Y],Z,this.id);se.name="Worker "+Y,this.actors.push(se)}};function P(V,X,Z){var L=function(Y,ne){if(Y)return Z(Y);if(ne){var se=a.pick(a.extend(ne,V),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ne.vector_layers&&(se.vectorLayers=ne.vector_layers,se.vectorLayerIds=se.vectorLayers.map(function(pe){return pe.id})),se.tiles=X.canonicalizeTileset(se,V.url),Z(null,se)}};return V.url?a.getJSON(X.transformRequest(X.normalizeSourceURL(V.url),a.ResourceType.Source),L):a.browser.frame(function(){return L(null,V)})}R.prototype.broadcast=function(V,X,Z){a.asyncAll(this.actors,function(L,Y){L.send(V,X,Y)},Z=Z||function(){})},R.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},R.prototype.remove=function(){this.actors.forEach(function(V){V.remove()}),this.actors=[],this.workerPool.release(this.id)},R.Actor=a.Actor;var O=function(V,X,Z){this.bounds=a.LngLatBounds.convert(this.validateBounds(V)),this.minzoom=X||0,this.maxzoom=Z||24};O.prototype.validateBounds=function(V){return Array.isArray(V)&&4===V.length?[Math.max(-180,V[0]),Math.max(-90,V[1]),Math.min(180,V[2]),Math.min(90,V[3])]:[-180,-90,180,90]},O.prototype.contains=function(V){var X=Math.pow(2,V.z),Z=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*X),L=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*X),Y=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*X),ne=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*X);return V.x>=Z&&V.x<Y&&V.y>=L&&V.y<ne};var B=function(V){function X(Z,L,Y,ne){if(V.call(this),this.id=Z,this.dispatcher=Y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(L,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},L),this._collectResourceTiming=L.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ne)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.load=function(){var Z=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,Y){Z._tileJSONRequest=null,Z._loaded=!0,L?Z.fire(new a.ErrorEvent(L)):Y&&(a.extend(Z,Y),Y.bounds&&(Z.tileBounds=new O(Y.bounds,Z.minzoom,Z.maxzoom)),a.postTurnstileEvent(Y.tiles,Z.map._requestManager._customAccessToken),a.postMapLoadEvent(Y.tiles,Z.map._getMapId(),Z.map._requestManager._skuToken,Z.map._requestManager._customAccessToken),Z.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),Z.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(Z){return!this.tileBounds||this.tileBounds.contains(Z.canonical)},X.prototype.onAdd=function(Z){this.map=Z,this.load()},X.prototype.setSourceProperty=function(Z){this._tileJSONRequest&&this._tileJSONRequest.cancel(),Z(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},X.prototype.setTiles=function(Z){var L=this;return this.setSourceProperty(function(){L._options.tiles=Z}),this},X.prototype.setUrl=function(Z){var L=this;return this.setSourceProperty(function(){L.url=Z,L._options.url=Z}),this},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.loadTile=function(Z,L){var Y=this.map._requestManager.normalizeTileURL(Z.tileID.canonical.url(this.tiles,this.scheme)),ne={request:this.map._requestManager.transformRequest(Y,a.ResourceType.Tile),uid:Z.uid,tileID:Z.tileID,zoom:Z.tileID.overscaledZ,tileSize:this.tileSize*Z.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function se(pe,ke){return delete Z.request,Z.aborted?L(null):pe&&404!==pe.status?L(pe):(ke&&ke.resourceTiming&&(Z.resourceTiming=ke.resourceTiming),this.map._refreshExpiredTiles&&ke&&Z.setExpiryData(ke),Z.loadVectorData(ke,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),L(null),void(Z.reloadCallback&&(this.loadTile(Z,Z.reloadCallback),Z.reloadCallback=null)))}ne.request.collectResourceTiming=this._collectResourceTiming,Z.actor&&"expired"!==Z.state?"loading"===Z.state?Z.reloadCallback=L:Z.request=Z.actor.send("reloadTile",ne,se.bind(this)):(Z.actor=this.dispatcher.getActor(),Z.request=Z.actor.send("loadTile",ne,se.bind(this)))},X.prototype.abortTile=function(Z){Z.request&&(Z.request.cancel(),delete Z.request),Z.actor&&Z.actor.send("abortTile",{uid:Z.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(Z){Z.unloadVectorData(),Z.actor&&Z.actor.send("removeTile",{uid:Z.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(a.Evented),q=function(V){function X(Z,L,Y,ne){V.call(this),this.id=Z,this.dispatcher=Y,this.setEventedParent(ne),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},L),a.extend(this,a.pick(L,["url","scheme","tileSize"]))}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.load=function(){var Z=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,Y){Z._tileJSONRequest=null,Z._loaded=!0,L?Z.fire(new a.ErrorEvent(L)):Y&&(a.extend(Z,Y),Y.bounds&&(Z.tileBounds=new O(Y.bounds,Z.minzoom,Z.maxzoom)),a.postTurnstileEvent(Y.tiles),a.postMapLoadEvent(Y.tiles,Z.map._getMapId(),Z.map._requestManager._skuToken),Z.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),Z.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(Z){this.map=Z,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.hasTile=function(Z){return!this.tileBounds||this.tileBounds.contains(Z.canonical)},X.prototype.loadTile=function(Z,L){var Y=this,ne=this.map._requestManager.normalizeTileURL(Z.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);Z.request=a.getImage(this.map._requestManager.transformRequest(ne,a.ResourceType.Tile),function(se,pe){if(delete Z.request,Z.aborted)Z.state="unloaded",L(null);else if(se)Z.state="errored",L(se);else if(pe){Y.map._refreshExpiredTiles&&Z.setExpiryData(pe),delete pe.cacheControl,delete pe.expires;var ke=Y.map.painter.context,Re=ke.gl;Z.texture=Y.map.painter.getTileTexture(pe.width),Z.texture?Z.texture.update(pe,{useMipmap:!0}):(Z.texture=new a.Texture(ke,pe,Re.RGBA,{useMipmap:!0}),Z.texture.bind(Re.LINEAR,Re.CLAMP_TO_EDGE,Re.LINEAR_MIPMAP_NEAREST),ke.extTextureFilterAnisotropic&&Re.texParameterf(Re.TEXTURE_2D,ke.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ke.extTextureFilterAnisotropicMax)),Z.state="loaded",a.cacheEntryPossiblyAdded(Y.dispatcher),L(null)}})},X.prototype.abortTile=function(Z,L){Z.request&&(Z.request.cancel(),delete Z.request),L()},X.prototype.unloadTile=function(Z,L){Z.texture&&this.map.painter.saveTileTexture(Z.texture),L()},X.prototype.hasTransition=function(){return!1},X}(a.Evented),N=function(V){function X(Z,L,Y,ne){V.call(this,Z,L,Y,ne),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},L),this.encoding=L.encoding||"mapbox"}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(Z,L){var Y=this.map._requestManager.normalizeTileURL(Z.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ne(se,pe){se&&(Z.state="errored",L(se)),pe&&(Z.dem=pe,Z.needsHillshadePrepare=!0,Z.state="loaded",L(null))}Z.request=a.getImage(this.map._requestManager.transformRequest(Y,a.ResourceType.Tile),function(se,pe){if(delete Z.request,Z.aborted)Z.state="unloaded",L(null);else if(se)Z.state="errored",L(se);else if(pe){this.map._refreshExpiredTiles&&Z.setExpiryData(pe),delete pe.cacheControl,delete pe.expires;var ke=a.window.ImageBitmap&&pe instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?pe:a.browser.getImageData(pe,1),Re={uid:Z.uid,coord:Z.tileID,source:this.id,rawImageData:ke,encoding:this.encoding};Z.actor&&"expired"!==Z.state||(Z.actor=this.dispatcher.getActor(),Z.actor.send("loadDEMTile",Re,ne.bind(this)))}}.bind(this)),Z.neighboringTiles=this._getNeighboringTiles(Z.tileID)},X.prototype._getNeighboringTiles=function(Z){var L=Z.canonical,Y=Math.pow(2,L.z),ne=(L.x-1+Y)%Y,se=0===L.x?Z.wrap-1:Z.wrap,pe=(L.x+1+Y)%Y,ke=L.x+1===Y?Z.wrap+1:Z.wrap,Re={};return Re[new a.OverscaledTileID(Z.overscaledZ,se,L.z,ne,L.y).key]={backfilled:!1},Re[new a.OverscaledTileID(Z.overscaledZ,ke,L.z,pe,L.y).key]={backfilled:!1},L.y>0&&(Re[new a.OverscaledTileID(Z.overscaledZ,se,L.z,ne,L.y-1).key]={backfilled:!1},Re[new a.OverscaledTileID(Z.overscaledZ,Z.wrap,L.z,L.x,L.y-1).key]={backfilled:!1},Re[new a.OverscaledTileID(Z.overscaledZ,ke,L.z,pe,L.y-1).key]={backfilled:!1}),L.y+1<Y&&(Re[new a.OverscaledTileID(Z.overscaledZ,se,L.z,ne,L.y+1).key]={backfilled:!1},Re[new a.OverscaledTileID(Z.overscaledZ,Z.wrap,L.z,L.x,L.y+1).key]={backfilled:!1},Re[new a.OverscaledTileID(Z.overscaledZ,ke,L.z,pe,L.y+1).key]={backfilled:!1}),Re},X.prototype.unloadTile=function(Z){Z.demTexture&&this.map.painter.saveTileTexture(Z.demTexture),Z.fbo&&(Z.fbo.destroy(),delete Z.fbo),Z.dem&&delete Z.dem,delete Z.neighboringTiles,Z.state="unloaded",Z.actor&&Z.actor.send("removeDEMTile",{uid:Z.uid,source:this.id})},X}(q),H=function(V){function X(Z,L,Y,ne){V.call(this),this.id=Z,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=Y.getActor(),this.setEventedParent(ne),this._data=L.data,this._options=a.extend({},L),this._collectResourceTiming=L.collectResourceTiming,this._resourceTiming=[],void 0!==L.maxzoom&&(this.maxzoom=L.maxzoom),L.type&&(this.type=L.type),L.attribution&&(this.attribution=L.attribution),this.promoteId=L.promoteId;var se=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:L.cluster||!1,geojsonVtOptions:{buffer:(void 0!==L.buffer?L.buffer:128)*se,tolerance:(void 0!==L.tolerance?L.tolerance:.375)*se,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:L.lineMetrics||!1,generateId:L.generateId||!1},superclusterOptions:{maxZoom:void 0!==L.clusterMaxZoom?Math.min(L.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,L.clusterMinPoints||2),extent:a.EXTENT,radius:(L.clusterRadius||50)*se,log:!1,generateId:L.generateId||!1},clusterProperties:L.clusterProperties,filter:L.filter},L.workerOptions)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.load=function(){var Z=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(L){if(L)Z.fire(new a.ErrorEvent(L));else{var Y={dataType:"source",sourceDataType:"metadata"};Z._collectResourceTiming&&Z._resourceTiming&&Z._resourceTiming.length>0&&(Y.resourceTiming=Z._resourceTiming,Z._resourceTiming=[]),Z.fire(new a.Event("data",Y))}})},X.prototype.onAdd=function(Z){this.map=Z,this.load()},X.prototype.setData=function(Z){var L=this;return this._data=Z,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Y){if(Y)L.fire(new a.ErrorEvent(Y));else{var ne={dataType:"source",sourceDataType:"content"};L._collectResourceTiming&&L._resourceTiming&&L._resourceTiming.length>0&&(ne.resourceTiming=L._resourceTiming,L._resourceTiming=[]),L.fire(new a.Event("data",ne))}}),this},X.prototype.getClusterExpansionZoom=function(Z,L){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:Z,source:this.id},L),this},X.prototype.getClusterChildren=function(Z,L){return this.actor.send("geojson.getClusterChildren",{clusterId:Z,source:this.id},L),this},X.prototype.getClusterLeaves=function(Z,L,Y,ne){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:Z,limit:L,offset:Y},ne),this},X.prototype._updateWorkerData=function(Z){var L=this;this._loaded=!1;var Y=a.extend({},this.workerOptions),ne=this._data;"string"==typeof ne?(Y.request=this.map._requestManager.transformRequest(a.browser.resolveURL(ne),a.ResourceType.Source),Y.request.collectResourceTiming=this._collectResourceTiming):Y.data=JSON.stringify(ne),this.actor.send(this.type+".loadData",Y,function(se,pe){L._removed||pe&&pe.abandoned||(L._loaded=!0,pe&&pe.resourceTiming&&pe.resourceTiming[L.id]&&(L._resourceTiming=pe.resourceTiming[L.id].slice(0)),L.actor.send(L.type+".coalesce",{source:Y.source},null),Z(se))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(Z,L){var Y=this,ne=Z.actor?"reloadTile":"loadTile";Z.actor=this.actor,Z.request=this.actor.send(ne,{type:this.type,uid:Z.uid,tileID:Z.tileID,zoom:Z.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(pe,ke){return delete Z.request,Z.unloadVectorData(),Z.aborted?L(null):pe?L(pe):(Z.loadVectorData(ke,Y.map.painter,"reloadTile"===ne),L(null))})},X.prototype.abortTile=function(Z){Z.request&&(Z.request.cancel(),delete Z.request),Z.aborted=!0},X.prototype.unloadTile=function(Z){Z.unloadVectorData(),this.actor.send("removeTile",{uid:Z.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(a.Evented),$=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),j=function(V){function X(Z,L,Y,ne){V.call(this),this.id=Z,this.dispatcher=Y,this.coordinates=L.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ne),this.options=L}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.load=function(Z,L){var Y=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(ne,se){Y._loaded=!0,ne?Y.fire(new a.ErrorEvent(ne)):se&&(Y.image=se,Z&&(Y.coordinates=Z),L&&L(),Y._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(Z){var L=this;return this.image&&Z.url?(this.options.url=Z.url,this.load(Z.coordinates,function(){L.texture=null}),this):this},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(Z){this.map=Z,this.load()},X.prototype.setCoordinates=function(Z){var L=this;this.coordinates=Z;var Y=Z.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(se){for(var pe=1/0,ke=1/0,Re=-1/0,Be=-1/0,Ze=0,Ke=se;Ze<Ke.length;Ze+=1){var lt=Ke[Ze];pe=Math.min(pe,lt.x),ke=Math.min(ke,lt.y),Re=Math.max(Re,lt.x),Be=Math.max(Be,lt.y)}var St=Math.max(Re-pe,Be-ke),Ft=Math.max(0,Math.floor(-Math.log(St)/Math.LN2)),It=Math.pow(2,Ft);return new a.CanonicalTileID(Ft,Math.floor((pe+Re)/2*It),Math.floor((ke+Be)/2*It))}(Y),this.minzoom=this.maxzoom=this.tileID.z;var ne=Y.map(function(se){return L.tileID.getTilePoint(se)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(ne[0].x,ne[0].y,0,0),this._boundsArray.emplaceBack(ne[1].x,ne[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(ne[3].x,ne[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(ne[2].x,ne[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var Z=this.map.painter.context,L=Z.gl;for(var Y in this.boundsBuffer||(this.boundsBuffer=Z.createVertexBuffer(this._boundsArray,$.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(Z,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ne=this.tiles[Y];"loaded"!==ne.state&&(ne.state="loaded",ne.texture=this.texture)}}},X.prototype.loadTile=function(Z,L){this.tileID&&this.tileID.equals(Z.tileID.canonical)?(this.tiles[String(Z.tileID.wrap)]=Z,Z.buckets={},L(null)):(Z.state="errored",L(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(a.Evented),W=function(V){function X(Z,L,Y,ne){V.call(this,Z,L,Y,ne),this.roundZoom=!0,this.type="video",this.options=L}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.load=function(){var Z=this;this._loaded=!1;var L=this.options;this.urls=[];for(var Y=0,ne=L.urls;Y<ne.length;Y+=1)this.urls.push(this.map._requestManager.transformRequest(ne[Y],a.ResourceType.Source).url);a.getVideo(this.urls,function(pe,ke){Z._loaded=!0,pe?Z.fire(new a.ErrorEvent(pe)):ke&&(Z.video=ke,Z.video.loop=!0,Z.video.addEventListener("playing",function(){Z.map.triggerRepaint()}),Z.map&&Z.video.play(),Z._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(Z){if(this.video){var L=this.video.seekable;Z<L.start(0)||Z>L.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+L.start(0)+" and "+L.end(0)+"-second mark."))):this.video.currentTime=Z}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(Z){this.map||(this.map=Z,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var Z=this.map.painter.context,L=Z.gl;for(var Y in this.boundsBuffer||(this.boundsBuffer=Z.createVertexBuffer(this._boundsArray,$.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(Z,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ne=this.tiles[Y];"loaded"!==ne.state&&(ne.state="loaded",ne.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(j),G=function(V){function X(Z,L,Y,ne){V.call(this,Z,L,Y,ne),L.coordinates?Array.isArray(L.coordinates)&&4===L.coordinates.length&&!L.coordinates.some(function(se){return!Array.isArray(se)||2!==se.length||se.some(function(pe){return"number"!=typeof pe})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+Z,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+Z,null,'missing required property "coordinates"'))),L.animate&&"boolean"!=typeof L.animate&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+Z,null,'optional "animate" property must be a boolean value'))),L.canvas?"string"==typeof L.canvas||L.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+Z,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+Z,null,'missing required property "canvas"'))),this.options=L,this.animate=void 0===L.animate||L.animate}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(Z){this.map=Z,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var Z=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,Z=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,Z=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var L=this.map.painter.context,Y=L.gl;for(var ne in this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,$.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(Z||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(L,this.canvas,Y.RGBA,{premultiply:!0}),this.tiles){var se=this.tiles[ne];"loaded"!==se.state&&(se.state="loaded",se.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var Z=0,L=[this.canvas.width,this.canvas.height];Z<L.length;Z+=1){var Y=L[Z];if(isNaN(Y)||Y<=0)return!0}return!1},X}(j),ae={vector:B,raster:q,"raster-dem":N,geojson:H,video:W,image:j,canvas:G};function te(V,X){var Z=a.identity([]);return a.translate(Z,Z,[1,1,0]),a.scale(Z,Z,[.5*V.width,.5*V.height,1]),a.multiply(Z,Z,V.calculatePosMatrix(X.toUnwrapped()))}function Q(V,X,Z,L,Y,ne){var se=function(bt,St,Ft){if(bt)for(var It=0,Wt=bt;It<Wt.length;It+=1){var zt=St[Wt[It]];if(zt&&zt.source===Ft&&"fill-extrusion"===zt.type)return!0}else for(var sn in St){var en=St[sn];if(en.source===Ft&&"fill-extrusion"===en.type)return!0}return!1}(Y&&Y.layers,X,V.id),pe=ne.maxPitchScaleFactor(),ke=V.tilesIn(L,pe,se);ke.sort(ee);for(var Re=[],Be=0,Ze=ke;Be<Ze.length;Be+=1){var Ke=Ze[Be];Re.push({wrappedTileID:Ke.tileID.wrapped().key,queryResults:Ke.tile.queryRenderedFeatures(X,Z,V._state,Ke.queryGeometry,Ke.cameraQueryGeometry,Ke.scale,Y,ne,pe,te(V.transform,Ke.tileID))})}var lt=function(bt){for(var St={},Ft={},It=0,Wt=bt;It<Wt.length;It+=1){var zt=Wt[It],sn=zt.queryResults,en=zt.wrappedTileID,Xt=Ft[en]=Ft[en]||{};for(var Tn in sn)for(var kn=sn[Tn],Bn=Xt[Tn]=Xt[Tn]||{},Hn=St[Tn]=St[Tn]||[],tr=0,gr=kn;tr<gr.length;tr+=1){var Er=gr[tr];Bn[Er.featureIndex]||(Bn[Er.featureIndex]=!0,Hn.push(Er))}}return St}(Re);for(var vt in lt)lt[vt].forEach(function(bt){var St=bt.feature,Ft=V.getFeatureState(St.layer["source-layer"],St.id);St.source=St.layer.source,St.layer["source-layer"]&&(St.sourceLayer=St.layer["source-layer"]),St.state=Ft});return lt}function ee(V,X){var Z=V.tileID,L=X.tileID;return Z.overscaledZ-L.overscaledZ||Z.canonical.y-L.canonical.y||Z.wrap-L.wrap||Z.canonical.x-L.canonical.x}var re=function(V,X){this.max=V,this.onRemove=X,this.reset()};re.prototype.reset=function(){for(var V in this.data)for(var X=0,Z=this.data[V];X<Z.length;X+=1){var L=Z[X];L.timeout&&clearTimeout(L.timeout),this.onRemove(L.value)}return this.data={},this.order=[],this},re.prototype.add=function(V,X,Z){var L=this,Y=V.wrapped().key;void 0===this.data[Y]&&(this.data[Y]=[]);var ne={value:X,timeout:void 0};if(void 0!==Z&&(ne.timeout=setTimeout(function(){L.remove(V,ne)},Z)),this.data[Y].push(ne),this.order.push(Y),this.order.length>this.max){var se=this._getAndRemoveByKey(this.order[0]);se&&this.onRemove(se)}return this},re.prototype.has=function(V){return V.wrapped().key in this.data},re.prototype.getAndRemove=function(V){return this.has(V)?this._getAndRemoveByKey(V.wrapped().key):null},re.prototype._getAndRemoveByKey=function(V){var X=this.data[V].shift();return X.timeout&&clearTimeout(X.timeout),0===this.data[V].length&&delete this.data[V],this.order.splice(this.order.indexOf(V),1),X.value},re.prototype.getByKey=function(V){var X=this.data[V];return X?X[0].value:null},re.prototype.get=function(V){return this.has(V)?this.data[V.wrapped().key][0].value:null},re.prototype.remove=function(V,X){if(!this.has(V))return this;var Z=V.wrapped().key,L=void 0===X?0:this.data[Z].indexOf(X),Y=this.data[Z][L];return this.data[Z].splice(L,1),Y.timeout&&clearTimeout(Y.timeout),0===this.data[Z].length&&delete this.data[Z],this.onRemove(Y.value),this.order.splice(this.order.indexOf(Z),1),this},re.prototype.setMaxSize=function(V){for(this.max=V;this.order.length>this.max;){var X=this._getAndRemoveByKey(this.order[0]);X&&this.onRemove(X)}return this},re.prototype.filter=function(V){var X=[];for(var Z in this.data)for(var L=0,Y=this.data[Z];L<Y.length;L+=1){var ne=Y[L];V(ne.value)||X.push(ne)}for(var se=0,pe=X;se<pe.length;se+=1){var ke=pe[se];this.remove(ke.value.tileID,ke)}};var J=function(V,X,Z){this.context=V;var L=V.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!Z,this.context.unbindVAO(),V.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,X.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete X.arrayBuffer};J.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},J.prototype.updateData=function(V){var X=this.context.gl;this.context.unbindVAO(),this.bind(),X.bufferSubData(X.ELEMENT_ARRAY_BUFFER,0,V.arrayBuffer)},J.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var le={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},fe=function(V,X,Z,L){this.length=X.length,this.attributes=Z,this.itemSize=X.bytesPerElement,this.dynamicDraw=L,this.context=V;var Y=V.gl;this.buffer=Y.createBuffer(),V.bindVertexBuffer.set(this.buffer),Y.bufferData(Y.ARRAY_BUFFER,X.arrayBuffer,this.dynamicDraw?Y.DYNAMIC_DRAW:Y.STATIC_DRAW),this.dynamicDraw||delete X.arrayBuffer};fe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},fe.prototype.updateData=function(V){var X=this.context.gl;this.bind(),X.bufferSubData(X.ARRAY_BUFFER,0,V.arrayBuffer)},fe.prototype.enableAttributes=function(V,X){for(var Z=0;Z<this.attributes.length;Z++){var Y=X.attributes[this.attributes[Z].name];void 0!==Y&&V.enableVertexAttribArray(Y)}},fe.prototype.setVertexAttribPointers=function(V,X,Z){for(var L=0;L<this.attributes.length;L++){var Y=this.attributes[L],ne=X.attributes[Y.name];void 0!==ne&&V.vertexAttribPointer(ne,Y.components,V[le[Y.type]],!1,this.itemSize,Y.offset+this.itemSize*(Z||0))}},fe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ce=function(V){this.gl=V.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ce.prototype.get=function(){return this.current},ce.prototype.set=function(V){},ce.prototype.getDefault=function(){return this.default},ce.prototype.setDefault=function(){this.set(this.default)};var ge=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(Z){var L=this.current;(Z.r!==L.r||Z.g!==L.g||Z.b!==L.b||Z.a!==L.a||this.dirty)&&(this.gl.clearColor(Z.r,Z.g,Z.b,Z.a),this.current=Z,this.dirty=!1)},X}(ce),Te=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.clearDepth(Z),this.current=Z,this.dirty=!1)},X}(ce),Me=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.clearStencil(Z),this.current=Z,this.dirty=!1)},X}(ce),we=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(Z){var L=this.current;(Z[0]!==L[0]||Z[1]!==L[1]||Z[2]!==L[2]||Z[3]!==L[3]||this.dirty)&&(this.gl.colorMask(Z[0],Z[1],Z[2],Z[3]),this.current=Z,this.dirty=!1)},X}(ce),xe=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.depthMask(Z),this.current=Z,this.dirty=!1)},X}(ce),be=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.stencilMask(Z),this.current=Z,this.dirty=!1)},X}(ce),ye=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(Z){var L=this.current;(Z.func!==L.func||Z.ref!==L.ref||Z.mask!==L.mask||this.dirty)&&(this.gl.stencilFunc(Z.func,Z.ref,Z.mask),this.current=Z,this.dirty=!1)},X}(ce),Se=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){var Z=this.gl;return[Z.KEEP,Z.KEEP,Z.KEEP]},X.prototype.set=function(Z){var L=this.current;(Z[0]!==L[0]||Z[1]!==L[1]||Z[2]!==L[2]||this.dirty)&&(this.gl.stencilOp(Z[0],Z[1],Z[2]),this.current=Z,this.dirty=!1)},X}(ce),Ee=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;Z?L.enable(L.STENCIL_TEST):L.disable(L.STENCIL_TEST),this.current=Z,this.dirty=!1}},X}(ce),he=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(Z){var L=this.current;(Z[0]!==L[0]||Z[1]!==L[1]||this.dirty)&&(this.gl.depthRange(Z[0],Z[1]),this.current=Z,this.dirty=!1)},X}(ce),ue=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;Z?L.enable(L.DEPTH_TEST):L.disable(L.DEPTH_TEST),this.current=Z,this.dirty=!1}},X}(ce),me=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.depthFunc(Z),this.current=Z,this.dirty=!1)},X}(ce),Pe=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;Z?L.enable(L.BLEND):L.disable(L.BLEND),this.current=Z,this.dirty=!1}},X}(ce),Ce=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){var Z=this.gl;return[Z.ONE,Z.ZERO]},X.prototype.set=function(Z){var L=this.current;(Z[0]!==L[0]||Z[1]!==L[1]||this.dirty)&&(this.gl.blendFunc(Z[0],Z[1]),this.current=Z,this.dirty=!1)},X}(ce),Ie=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(Z){var L=this.current;(Z.r!==L.r||Z.g!==L.g||Z.b!==L.b||Z.a!==L.a||this.dirty)&&(this.gl.blendColor(Z.r,Z.g,Z.b,Z.a),this.current=Z,this.dirty=!1)},X}(ce),Oe=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.blendEquation(Z),this.current=Z,this.dirty=!1)},X}(ce),ze=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;Z?L.enable(L.CULL_FACE):L.disable(L.CULL_FACE),this.current=Z,this.dirty=!1}},X}(ce),je=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.cullFace(Z),this.current=Z,this.dirty=!1)},X}(ce),ve=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.frontFace(Z),this.current=Z,this.dirty=!1)},X}(ce),Ae=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.useProgram(Z),this.current=Z,this.dirty=!1)},X}(ce),Le=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(Z){(Z!==this.current||this.dirty)&&(this.gl.activeTexture(Z),this.current=Z,this.dirty=!1)},X}(ce),Ve=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){var Z=this.gl;return[0,0,Z.drawingBufferWidth,Z.drawingBufferHeight]},X.prototype.set=function(Z){var L=this.current;(Z[0]!==L[0]||Z[1]!==L[1]||Z[2]!==L[2]||Z[3]!==L[3]||this.dirty)&&(this.gl.viewport(Z[0],Z[1],Z[2],Z[3]),this.current=Z,this.dirty=!1)},X}(ce),Ne=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,Z),this.current=Z,this.dirty=!1}},X}(ce),We=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;L.bindRenderbuffer(L.RENDERBUFFER,Z),this.current=Z,this.dirty=!1}},X}(ce),Xe=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;L.bindTexture(L.TEXTURE_2D,Z),this.current=Z,this.dirty=!1}},X}(ce),nt=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;L.bindBuffer(L.ARRAY_BUFFER,Z),this.current=Z,this.dirty=!1}},X}(ce),dt=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(Z){var L=this.gl;L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,Z),this.current=Z,this.dirty=!1},X}(ce),ht=function(V){function X(Z){V.call(this,Z),this.vao=Z.extVertexArrayObject}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(Z){this.vao&&(Z!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(Z),this.current=Z,this.dirty=!1)},X}(ce),Mt=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_ALIGNMENT,Z),this.current=Z,this.dirty=!1}},X}(ce),kt=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z),this.current=Z,this.dirty=!1}},X}(ce),_t=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,Z),this.current=Z,this.dirty=!1}},X}(ce),ut=function(V){function X(Z,L){V.call(this,Z),this.context=Z,this.parent=L}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X}(ce),st=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(Z){if(Z!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,Z,0),this.current=Z,this.dirty=!1}},X}(ut),Lt=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.set=function(Z){if(Z!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_ATTACHMENT,L.RENDERBUFFER,Z),this.current=Z,this.dirty=!1}},X}(ut),Ut=function(V,X,Z,L){this.context=V,this.width=X,this.height=Z;var ne=this.framebuffer=V.gl.createFramebuffer();this.colorAttachment=new st(V,ne),L&&(this.depthAttachment=new Lt(V,ne))};Ut.prototype.destroy=function(){var V=this.context.gl,X=this.colorAttachment.get();if(X&&V.deleteTexture(X),this.depthAttachment){var Z=this.depthAttachment.get();Z&&V.deleteRenderbuffer(Z)}V.deleteFramebuffer(this.framebuffer)};var Ht=function(V,X,Z){this.func=V,this.mask=X,this.range=Z};Ht.ReadOnly=!1,Ht.ReadWrite=!0,Ht.disabled=new Ht(519,Ht.ReadOnly,[0,1]);var Je=function(V,X,Z,L,Y,ne){this.test=V,this.ref=X,this.mask=Z,this.fail=L,this.depthFail=Y,this.pass=ne};Je.disabled=new Je({func:519,mask:0},0,0,7680,7680,7680);var tt=function(V,X,Z){this.blendFunction=V,this.blendColor=X,this.mask=Z};tt.disabled=new tt(tt.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),tt.unblended=new tt(tt.Replace,a.Color.transparent,[!0,!0,!0,!0]),tt.alphaBlended=new tt([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Ge=function(V,X,Z){this.enable=V,this.mode=X,this.frontFace=Z};Ge.disabled=new Ge(!1,1029,2305),Ge.backCCW=new Ge(!0,1029,2305);var Qe=function(V){this.gl=V,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ge(this),this.clearDepth=new Te(this),this.clearStencil=new Me(this),this.colorMask=new we(this),this.depthMask=new xe(this),this.stencilMask=new be(this),this.stencilFunc=new ye(this),this.stencilOp=new Se(this),this.stencilTest=new Ee(this),this.depthRange=new he(this),this.depthTest=new ue(this),this.depthFunc=new me(this),this.blend=new Pe(this),this.blendFunc=new Ce(this),this.blendColor=new Ie(this),this.blendEquation=new Oe(this),this.cullFace=new ze(this),this.cullFaceSide=new je(this),this.frontFace=new ve(this),this.program=new Ae(this),this.activeTexture=new Le(this),this.viewport=new Ve(this),this.bindFramebuffer=new Ne(this),this.bindRenderbuffer=new We(this),this.bindTexture=new Xe(this),this.bindVertexBuffer=new nt(this),this.bindElementBuffer=new dt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ht(this),this.pixelStoreUnpack=new Mt(this),this.pixelStoreUnpackPremultiplyAlpha=new kt(this),this.pixelStoreUnpackFlipY=new _t(this),this.extTextureFilterAnisotropic=V.getExtension("EXT_texture_filter_anisotropic")||V.getExtension("MOZ_EXT_texture_filter_anisotropic")||V.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=V.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=V.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(V.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=V.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=V.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=V.getParameter(V.MAX_TEXTURE_SIZE)};Qe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Qe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Qe.prototype.createIndexBuffer=function(V,X){return new J(this,V,X)},Qe.prototype.createVertexBuffer=function(V,X,Z){return new fe(this,V,X,Z)},Qe.prototype.createRenderbuffer=function(V,X,Z){var L=this.gl,Y=L.createRenderbuffer();return this.bindRenderbuffer.set(Y),L.renderbufferStorage(L.RENDERBUFFER,V,X,Z),this.bindRenderbuffer.set(null),Y},Qe.prototype.createFramebuffer=function(V,X,Z){return new Ut(this,V,X,Z)},Qe.prototype.clear=function(V){var X=V.color,Z=V.depth,L=this.gl,Y=0;X&&(Y|=L.COLOR_BUFFER_BIT,this.clearColor.set(X),this.colorMask.set([!0,!0,!0,!0])),void 0!==Z&&(Y|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(Z),this.depthMask.set(!0)),L.clear(Y)},Qe.prototype.setCullFace=function(V){!1===V.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(V.mode),this.frontFace.set(V.frontFace))},Qe.prototype.setDepthMode=function(V){V.func!==this.gl.ALWAYS||V.mask?(this.depthTest.set(!0),this.depthFunc.set(V.func),this.depthMask.set(V.mask),this.depthRange.set(V.range)):this.depthTest.set(!1)},Qe.prototype.setStencilMode=function(V){V.test.func!==this.gl.ALWAYS||V.mask?(this.stencilTest.set(!0),this.stencilMask.set(V.mask),this.stencilOp.set([V.fail,V.depthFail,V.pass]),this.stencilFunc.set({func:V.test.func,ref:V.ref,mask:V.test.mask})):this.stencilTest.set(!1)},Qe.prototype.setColorMode=function(V){a.deepEqual(V.blendFunction,tt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(V.blendFunction),this.blendColor.set(V.blendColor)),this.colorMask.set(V.mask)},Qe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var pt=function(V){function X(Z,L,Y){var ne=this;V.call(this),this.id=Z,this.dispatcher=Y,this.on("data",function(se){"source"===se.dataType&&"metadata"===se.sourceDataType&&(ne._sourceLoaded=!0),ne._sourceLoaded&&!ne._paused&&"source"===se.dataType&&"content"===se.sourceDataType&&(ne.reload(),ne.transform&&ne.update(ne.transform))}),this.on("error",function(){ne._sourceErrored=!0}),this._source=function(se,pe,ke,Re){var Be=new ae[pe.type](se,pe,ke,Re);if(Be.id!==se)throw new Error("Expected Source id to be "+se+" instead of "+Be.id);return a.bindAll(["load","abort","unload","serialize","prepare"],Be),Be}(Z,L,Y,this),this._tiles={},this._cache=new re(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.onAdd=function(Z){this.map=Z,this._maxTileCacheSize=Z?Z._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(Z)},X.prototype.onRemove=function(Z){this._source&&this._source.onRemove&&this._source.onRemove(Z)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var Z in this._tiles){var L=this._tiles[Z];if("loaded"!==L.state&&"errored"!==L.state)return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var Z=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,Z&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(Z,L){return this._source.loadTile(Z,L)},X.prototype._unloadTile=function(Z){if(this._source.unloadTile)return this._source.unloadTile(Z,function(){})},X.prototype._abortTile=function(Z){if(this._source.abortTile)return this._source.abortTile(Z,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(Z){for(var L in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var Y=this._tiles[L];Y.upload(Z),Y.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return a.values(this._tiles).map(function(Z){return Z.tileID}).sort(ct).map(function(Z){return Z.key})},X.prototype.getRenderableIds=function(Z){var L=this,Y=[];for(var ne in this._tiles)this._isIdRenderable(ne,Z)&&Y.push(this._tiles[ne]);return Z?Y.sort(function(se,pe){var ke=se.tileID,Re=pe.tileID,Be=new a.Point(ke.canonical.x,ke.canonical.y)._rotate(L.transform.angle),Ze=new a.Point(Re.canonical.x,Re.canonical.y)._rotate(L.transform.angle);return ke.overscaledZ-Re.overscaledZ||Ze.y-Be.y||Ze.x-Be.x}).map(function(se){return se.tileID.key}):Y.map(function(se){return se.tileID}).sort(ct).map(function(se){return se.key})},X.prototype.hasRenderableParent=function(Z){var L=this.findLoadedParent(Z,0);return!!L&&this._isIdRenderable(L.tileID.key)},X.prototype._isIdRenderable=function(Z,L){return this._tiles[Z]&&this._tiles[Z].hasData()&&!this._coveredTiles[Z]&&(L||!this._tiles[Z].holdingForFade())},X.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var Z in this._cache.reset(),this._tiles)"errored"!==this._tiles[Z].state&&this._reloadTile(Z,"reloading")},X.prototype._reloadTile=function(Z,L){var Y=this._tiles[Z];Y&&("loading"!==Y.state&&(Y.state=L),this._loadTile(Y,this._tileLoaded.bind(this,Y,Z,L)))},X.prototype._tileLoaded=function(Z,L,Y,ne){if(ne)return Z.state="errored",void(404!==ne.status?this._source.fire(new a.ErrorEvent(ne,{tile:Z})):this.update(this.transform));Z.timeAdded=a.browser.now(),"expired"===Y&&(Z.refreshedUponExpiration=!0),this._setTileReloadTimer(L,Z),"raster-dem"===this.getSource().type&&Z.dem&&this._backfillDEM(Z),this._state.initializeTileState(Z,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:Z,coord:Z.tileID}))},X.prototype._backfillDEM=function(Z){for(var L=this.getRenderableIds(),Y=0;Y<L.length;Y++){var ne=L[Y];if(Z.neighboringTiles&&Z.neighboringTiles[ne]){var se=this.getTileByID(ne);pe(Z,se),pe(se,Z)}}function pe(ke,Re){ke.needsHillshadePrepare=!0;var Be=Re.tileID.canonical.x-ke.tileID.canonical.x,Ze=Re.tileID.canonical.y-ke.tileID.canonical.y,Ke=Math.pow(2,ke.tileID.canonical.z),lt=Re.tileID.key;0===Be&&0===Ze||Math.abs(Ze)>1||(Math.abs(Be)>1&&(1===Math.abs(Be+Ke)?Be+=Ke:1===Math.abs(Be-Ke)&&(Be-=Ke)),Re.dem&&ke.dem&&(ke.dem.backfillBorder(Re.dem,Be,Ze),ke.neighboringTiles&&ke.neighboringTiles[lt]&&(ke.neighboringTiles[lt].backfilled=!0)))}},X.prototype.getTile=function(Z){return this.getTileByID(Z.key)},X.prototype.getTileByID=function(Z){return this._tiles[Z]},X.prototype._retainLoadedChildren=function(Z,L,Y,ne){for(var se in this._tiles){var pe=this._tiles[se];if(!(ne[se]||!pe.hasData()||pe.tileID.overscaledZ<=L||pe.tileID.overscaledZ>Y)){for(var ke=pe.tileID;pe&&pe.tileID.overscaledZ>L+1;){var Re=pe.tileID.scaledTo(pe.tileID.overscaledZ-1);(pe=this._tiles[Re.key])&&pe.hasData()&&(ke=Re)}for(var Be=ke;Be.overscaledZ>L;)if(Z[(Be=Be.scaledTo(Be.overscaledZ-1)).key]){ne[ke.key]=ke;break}}}},X.prototype.findLoadedParent=function(Z,L){if(Z.key in this._loadedParentTiles){var Y=this._loadedParentTiles[Z.key];return Y&&Y.tileID.overscaledZ>=L?Y:null}for(var ne=Z.overscaledZ-1;ne>=L;ne--){var se=Z.scaledTo(ne),pe=this._getLoadedTile(se);if(pe)return pe}},X.prototype._getLoadedTile=function(Z){var L=this._tiles[Z.key];return L&&L.hasData()?L:this._cache.getByKey(Z.wrapped().key)},X.prototype.updateCacheSize=function(Z){var L=(Math.ceil(Z.width/this._source.tileSize)+1)*(Math.ceil(Z.height/this._source.tileSize)+1),Y=Math.floor(5*L),ne="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,Y):Y;this._cache.setMaxSize(ne)},X.prototype.handleWrapJump=function(Z){var Y=Math.round((Z-(void 0===this._prevLng?Z:this._prevLng))/360);if(this._prevLng=Z,Y){var ne={};for(var se in this._tiles){var pe=this._tiles[se];pe.tileID=pe.tileID.unwrapTo(pe.tileID.wrap+Y),ne[pe.tileID.key]=pe}for(var ke in this._tiles=ne,this._timers)clearTimeout(this._timers[ke]),delete this._timers[ke];for(var Re in this._tiles)this._setTileReloadTimer(Re,this._tiles[Re])}},X.prototype.update=function(Z){var L=this;if(this.transform=Z,this._sourceLoaded&&!this._paused){var Y;this.updateCacheSize(Z),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?Y=Z.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Xt){return new a.OverscaledTileID(Xt.canonical.z,Xt.wrap,Xt.canonical.z,Xt.canonical.x,Xt.canonical.y)}):(Y=Z.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Y=Y.filter(function(Xt){return L._source.hasTile(Xt)}))):Y=[];var ne=Z.coveringZoomLevel(this._source),se=Math.max(ne-X.maxOverzooming,this._source.minzoom),pe=Math.max(ne+X.maxUnderzooming,this._source.minzoom),ke=this._updateRetainedTiles(Y,ne);if(He(this._source.type)){for(var Re={},Be={},Ze=0,Ke=Object.keys(ke);Ze<Ke.length;Ze+=1){var lt=Ke[Ze],vt=ke[lt],bt=this._tiles[lt];if(bt&&!(bt.fadeEndTime&&bt.fadeEndTime<=a.browser.now())){var St=this.findLoadedParent(vt,se);St&&(this._addTile(St.tileID),Re[St.tileID.key]=St.tileID),Be[lt]=vt}}for(var Ft in this._retainLoadedChildren(Be,ne,pe,ke),Re)ke[Ft]||(this._coveredTiles[Ft]=!0,ke[Ft]=Re[Ft])}for(var It in ke)this._tiles[It].clearFadeHold();for(var Wt=0,zt=a.keysDifference(this._tiles,ke);Wt<zt.length;Wt+=1){var sn=zt[Wt],en=this._tiles[sn];en.hasSymbolBuckets&&!en.holdingForFade()?en.setHoldDuration(this.map._fadeDuration):en.hasSymbolBuckets&&!en.symbolFadeFinished()||this._removeTile(sn)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var Z in this._tiles)this._tiles[Z].holdingForFade()&&this._removeTile(Z)},X.prototype._updateRetainedTiles=function(Z,L){for(var Y={},ne={},se=Math.max(L-X.maxOverzooming,this._source.minzoom),pe=Math.max(L+X.maxUnderzooming,this._source.minzoom),ke={},Re=0,Be=Z;Re<Be.length;Re+=1){var Ze=Be[Re],Ke=this._addTile(Ze);Y[Ze.key]=Ze,Ke.hasData()||L<this._source.maxzoom&&(ke[Ze.key]=Ze)}this._retainLoadedChildren(ke,L,pe,Y);for(var lt=0,vt=Z;lt<vt.length;lt+=1){var bt=vt[lt],St=this._tiles[bt.key];if(!St.hasData()){if(L+1>this._source.maxzoom){var Ft=bt.children(this._source.maxzoom)[0],It=this.getTile(Ft);if(It&&It.hasData()){Y[Ft.key]=Ft;continue}}else{var Wt=bt.children(this._source.maxzoom);if(Y[Wt[0].key]&&Y[Wt[1].key]&&Y[Wt[2].key]&&Y[Wt[3].key])continue}for(var zt=St.wasRequested(),sn=bt.overscaledZ-1;sn>=se;--sn){var en=bt.scaledTo(sn);if(ne[en.key]||(ne[en.key]=!0,!(St=this.getTile(en))&&zt&&(St=this._addTile(en)),St&&(Y[en.key]=en,zt=St.wasRequested(),St.hasData())))break}}}return Y},X.prototype._updateLoadedParentTileCache=function(){for(var Z in this._loadedParentTiles={},this._tiles){for(var L=[],Y=void 0,ne=this._tiles[Z].tileID;ne.overscaledZ>0;){if(ne.key in this._loadedParentTiles){Y=this._loadedParentTiles[ne.key];break}L.push(ne.key);var se=ne.scaledTo(ne.overscaledZ-1);if(Y=this._getLoadedTile(se))break;ne=se}for(var pe=0,ke=L;pe<ke.length;pe+=1)this._loadedParentTiles[ke[pe]]=Y}},X.prototype._addTile=function(Z){var L=this._tiles[Z.key];if(L)return L;(L=this._cache.getAndRemove(Z))&&(this._setTileReloadTimer(Z.key,L),L.tileID=Z,this._state.initializeTileState(L,this.map?this.map.painter:null),this._cacheTimers[Z.key]&&(clearTimeout(this._cacheTimers[Z.key]),delete this._cacheTimers[Z.key],this._setTileReloadTimer(Z.key,L)));var Y=!!L;return Y||(L=new a.Tile(Z,this._source.tileSize*Z.overscaleFactor()),this._loadTile(L,this._tileLoaded.bind(this,L,Z.key,L.state))),L?(L.uses++,this._tiles[Z.key]=L,Y||this._source.fire(new a.Event("dataloading",{tile:L,coord:L.tileID,dataType:"source"})),L):null},X.prototype._setTileReloadTimer=function(Z,L){var Y=this;Z in this._timers&&(clearTimeout(this._timers[Z]),delete this._timers[Z]);var ne=L.getExpiryTimeout();ne&&(this._timers[Z]=setTimeout(function(){Y._reloadTile(Z,"expired"),delete Y._timers[Z]},ne))},X.prototype._removeTile=function(Z){var L=this._tiles[Z];L&&(L.uses--,delete this._tiles[Z],this._timers[Z]&&(clearTimeout(this._timers[Z]),delete this._timers[Z]),L.uses>0||(L.hasData()&&"reloading"!==L.state?this._cache.add(L.tileID,L,L.getExpiryTimeout()):(L.aborted=!0,this._abortTile(L),this._unloadTile(L))))},X.prototype.clearTiles=function(){for(var Z in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(Z);this._cache.reset()},X.prototype.tilesIn=function(Z,L,Y){var ne=this,se=[],pe=this.transform;if(!pe)return se;for(var ke=Y?pe.getCameraQueryGeometry(Z):Z,Re=Z.map(function(sn){return pe.pointCoordinate(sn)}),Be=ke.map(function(sn){return pe.pointCoordinate(sn)}),Ze=this.getIds(),Ke=1/0,lt=1/0,vt=-1/0,bt=-1/0,St=0,Ft=Be;St<Ft.length;St+=1){var It=Ft[St];Ke=Math.min(Ke,It.x),lt=Math.min(lt,It.y),vt=Math.max(vt,It.x),bt=Math.max(bt,It.y)}for(var Wt=function(sn){var en=ne._tiles[Ze[sn]];if(!en.holdingForFade()){var Xt=en.tileID,Tn=Math.pow(2,pe.zoom-en.tileID.overscaledZ),kn=L*en.queryPadding*a.EXTENT/en.tileSize/Tn,Bn=[Xt.getTilePoint(new a.MercatorCoordinate(Ke,lt)),Xt.getTilePoint(new a.MercatorCoordinate(vt,bt))];if(Bn[0].x-kn<a.EXTENT&&Bn[0].y-kn<a.EXTENT&&Bn[1].x+kn>=0&&Bn[1].y+kn>=0){var Hn=Re.map(function(gr){return Xt.getTilePoint(gr)}),tr=Be.map(function(gr){return Xt.getTilePoint(gr)});se.push({tile:en,tileID:Xt,queryGeometry:Hn,cameraQueryGeometry:tr,scale:Tn})}}},zt=0;zt<Ze.length;zt++)Wt(zt);return se},X.prototype.getVisibleCoordinates=function(Z){for(var L=this,Y=this.getRenderableIds(Z).map(function(ke){return L._tiles[ke].tileID}),ne=0,se=Y;ne<se.length;ne+=1){var pe=se[ne];pe.posMatrix=this.transform.calculatePosMatrix(pe.toUnwrapped())}return Y},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(He(this._source.type))for(var Z in this._tiles){var L=this._tiles[Z];if(void 0!==L.fadeEndTime&&L.fadeEndTime>=a.browser.now())return!0}return!1},X.prototype.setFeatureState=function(Z,L,Y){this._state.updateState(Z=Z||"_geojsonTileLayer",L,Y)},X.prototype.removeFeatureState=function(Z,L,Y){this._state.removeFeatureState(Z=Z||"_geojsonTileLayer",L,Y)},X.prototype.getFeatureState=function(Z,L){return this._state.getState(Z=Z||"_geojsonTileLayer",L)},X.prototype.setDependencies=function(Z,L,Y){var ne=this._tiles[Z];ne&&ne.setDependencies(L,Y)},X.prototype.reloadTilesForDependencies=function(Z,L){for(var Y in this._tiles)this._tiles[Y].hasDependency(Z,L)&&this._reloadTile(Y,"reloading");this._cache.filter(function(ne){return!ne.hasDependency(Z,L)})},X}(a.Evented);function ct(V,X){var Z=Math.abs(2*V.wrap)-+(V.wrap<0),L=Math.abs(2*X.wrap)-+(X.wrap<0);return V.overscaledZ-X.overscaledZ||L-Z||X.canonical.y-V.canonical.y||X.canonical.x-V.canonical.x}function He(V){return"raster"===V||"image"===V||"video"===V}function qe(){return new a.window.Worker(gt.workerUrl)}pt.maxOverzooming=10,pt.maxUnderzooming=3;var ft="mapboxgl_preloaded_worker_pool",et=function(){this.active={}};et.prototype.acquire=function(V){if(!this.workers)for(this.workers=[];this.workers.length<et.workerCount;)this.workers.push(new qe);return this.active[V]=!0,this.workers.slice()},et.prototype.release=function(V){delete this.active[V],0===this.numActive()&&(this.workers.forEach(function(X){X.terminate()}),this.workers=null)},et.prototype.isPreloaded=function(){return!!this.active[ft]},et.prototype.numActive=function(){return Object.keys(this.active).length};var xt,wt=Math.floor(a.browser.hardwareConcurrency/2);function At(){return xt||(xt=new et),xt}function yt(V,X){var Z={};for(var L in V)"ref"!==L&&(Z[L]=V[L]);return a.refProperties.forEach(function(Y){Y in X&&(Z[Y]=X[Y])}),Z}function Ot(V){V=V.slice();for(var X=Object.create(null),Z=0;Z<V.length;Z++)X[V[Z].id]=V[Z];for(var L=0;L<V.length;L++)"ref"in V[L]&&(V[L]=yt(V[L],X[V[L].ref]));return V}et.workerCount=Math.max(Math.min(wt,6),1);var Ct={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Rt(V,X,Z){Z.push({command:Ct.addSource,args:[V,X[V]]})}function Bt(V,X,Z){X.push({command:Ct.removeSource,args:[V]}),Z[V]=!0}function jt(V,X,Z,L){Bt(V,Z,L),Rt(V,X,Z)}function Gt(V,X,Z){var L;for(L in V[Z])if(V[Z].hasOwnProperty(L)&&"data"!==L&&!a.deepEqual(V[Z][L],X[Z][L]))return!1;for(L in X[Z])if(X[Z].hasOwnProperty(L)&&"data"!==L&&!a.deepEqual(V[Z][L],X[Z][L]))return!1;return!0}function on(V,X,Z,L,Y,ne){var se;for(se in X=X||{},V=V||{})V.hasOwnProperty(se)&&(a.deepEqual(V[se],X[se])||Z.push({command:ne,args:[L,se,X[se],Y]}));for(se in X)X.hasOwnProperty(se)&&!V.hasOwnProperty(se)&&(a.deepEqual(V[se],X[se])||Z.push({command:ne,args:[L,se,X[se],Y]}))}function Jt(V){return V.id}function $t(V,X){return V[X.id]=X,V}var dn=function(V,X){this.reset(V,X)};dn.prototype.reset=function(V,X){this.points=V||[],this._distances=[0];for(var Z=1;Z<this.points.length;Z++)this._distances[Z]=this._distances[Z-1]+this.points[Z].dist(this.points[Z-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(X||0,.5*this.length),this.paddedLength=this.length-2*this.padding},dn.prototype.lerp=function(V){if(1===this.points.length)return this.points[0];V=a.clamp(V,0,1);for(var X=1,Z=this._distances[X],L=V*this.paddedLength+this.padding;Z<L&&X<this._distances.length;)Z=this._distances[++X];var Y=X-1,ne=this._distances[Y],se=Z-ne,pe=se>0?(L-ne)/se:0;return this.points[Y].mult(1-pe).add(this.points[X].mult(pe))};var Gn=function(V,X,Z){var L=this.boxCells=[],Y=this.circleCells=[];this.xCellCount=Math.ceil(V/Z),this.yCellCount=Math.ceil(X/Z);for(var ne=0;ne<this.xCellCount*this.yCellCount;ne++)L.push([]),Y.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=V,this.height=X,this.xScale=this.xCellCount/V,this.yScale=this.yCellCount/X,this.boxUid=0,this.circleUid=0};function zn(V,X,Z,L,Y){var ne=a.create();return X?(a.scale(ne,ne,[1/Y,1/Y,1]),Z||a.rotateZ(ne,ne,L.angle)):a.multiply(ne,L.labelPlaneMatrix,V),ne}function Mn(V,X,Z,L,Y){if(X){var ne=a.clone(V);return a.scale(ne,ne,[Y,Y,1]),Z||a.rotateZ(ne,ne,-L.angle),ne}return L.glCoordMatrix}function ln(V,X){var Z=[V.x,V.y,0,1];nr(Z,Z,X);var L=Z[3];return{point:new a.Point(Z[0]/L,Z[1]/L),signedDistanceFromCamera:L}}function vn(V,X){return.5+V/X*.5}function hn(V,X){var Z=V[0]/V[3],L=V[1]/V[3];return Z>=-X[0]&&Z<=X[0]&&L>=-X[1]&&L<=X[1]}function _n(V,X,Z,L,Y,ne,se,pe){var ke=L?V.textSizeData:V.iconSizeData,Re=a.evaluateSizeForZoom(ke,Z.transform.zoom),Be=[256/Z.width*2+1,256/Z.height*2+1],Ze=L?V.text.dynamicLayoutVertexArray:V.icon.dynamicLayoutVertexArray;Ze.clear();for(var Ke=V.lineVertexArray,lt=L?V.text.placedSymbolArray:V.icon.placedSymbolArray,vt=Z.transform.width/Z.transform.height,bt=!1,St=0;St<lt.length;St++){var Ft=lt.get(St);if(Ft.hidden||Ft.writingMode===a.WritingMode.vertical&&!bt)$n(Ft.numGlyphs,Ze);else{bt=!1;var It=[Ft.anchorX,Ft.anchorY,0,1];if(a.transformMat4(It,It,X),hn(It,Be)){var zt=vn(Z.transform.cameraToCenterDistance,It[3]),sn=a.evaluateSizeForFeature(ke,Re,Ft),en=se?sn/zt:sn*zt,Xt=new a.Point(Ft.anchorX,Ft.anchorY),Tn=ln(Xt,Y).point,kn={},Bn=Yn(Ft,en,!1,pe,X,Y,ne,V.glyphOffsetArray,Ke,Ze,Tn,Xt,kn,vt);bt=Bn.useVertical,(Bn.notEnoughRoom||bt||Bn.needsFlipping&&Yn(Ft,en,!0,pe,X,Y,ne,V.glyphOffsetArray,Ke,Ze,Tn,Xt,kn,vt).notEnoughRoom)&&$n(Ft.numGlyphs,Ze)}else $n(Ft.numGlyphs,Ze)}}L?V.text.dynamicLayoutVertexBuffer.updateData(Ze):V.icon.dynamicLayoutVertexBuffer.updateData(Ze)}function Dn(V,X,Z,L,Y,ne,se,pe,ke,Re,Be){var Ze=pe.glyphStartIndex+pe.numGlyphs,Ke=pe.lineStartIndex,lt=pe.lineStartIndex+pe.lineLength,vt=X.getoffsetX(pe.glyphStartIndex),bt=X.getoffsetX(Ze-1),St=Fn(V*vt,Z,L,Y,ne,se,pe.segment,Ke,lt,ke,Re,Be);if(!St)return null;var Ft=Fn(V*bt,Z,L,Y,ne,se,pe.segment,Ke,lt,ke,Re,Be);return Ft?{first:St,last:Ft}:null}function Pn(V,X,Z,L){return V===a.WritingMode.horizontal&&Math.abs(Z.y-X.y)>Math.abs(Z.x-X.x)*L?{useVertical:!0}:(V===a.WritingMode.vertical?X.y<Z.y:X.x>Z.x)?{needsFlipping:!0}:null}function Yn(V,X,Z,L,Y,ne,se,pe,ke,Re,Be,Ze,Ke,lt){var vt,bt=X/24,St=V.lineOffsetX*bt,Ft=V.lineOffsetY*bt;if(V.numGlyphs>1){var It=V.glyphStartIndex+V.numGlyphs,Wt=V.lineStartIndex,zt=V.lineStartIndex+V.lineLength,sn=Dn(bt,pe,St,Ft,Z,Be,Ze,V,ke,ne,Ke);if(!sn)return{notEnoughRoom:!0};var en=ln(sn.first.point,se).point,Xt=ln(sn.last.point,se).point;if(L&&!Z){var Tn=Pn(V.writingMode,en,Xt,lt);if(Tn)return Tn}vt=[sn.first];for(var kn=V.glyphStartIndex+1;kn<It-1;kn++)vt.push(Fn(bt*pe.getoffsetX(kn),St,Ft,Z,Be,Ze,V.segment,Wt,zt,ke,ne,Ke));vt.push(sn.last)}else{if(L&&!Z){var Bn=ln(Ze,Y).point,Hn=V.lineStartIndex+V.segment+1,tr=new a.Point(ke.getx(Hn),ke.gety(Hn)),gr=ln(tr,Y),Er=gr.signedDistanceFromCamera>0?gr.point:jn(Ze,tr,Bn,1,Y),sr=Pn(V.writingMode,Bn,Er,lt);if(sr)return sr}var wr=Fn(bt*pe.getoffsetX(V.glyphStartIndex),St,Ft,Z,Be,Ze,V.segment,V.lineStartIndex,V.lineStartIndex+V.lineLength,ke,ne,Ke);if(!wr)return{notEnoughRoom:!0};vt=[wr]}for(var zr=0,Gr=vt;zr<Gr.length;zr+=1){var mr=Gr[zr];a.addDynamicAttributes(Re,mr.point,mr.angle)}return{}}function jn(V,X,Z,L,Y){var ne=ln(V.add(V.sub(X)._unit()),Y).point,se=Z.sub(ne);return Z.add(se._mult(L/se.mag()))}function Fn(V,X,Z,L,Y,ne,se,pe,ke,Re,Be,Ze){var Ke=L?V-X:V+X,lt=Ke>0?1:-1,vt=0;L&&(lt*=-1,vt=Math.PI),lt<0&&(vt+=Math.PI);for(var bt=lt>0?pe+se:pe+se+1,St=Y,Ft=Y,It=0,Wt=0,zt=Math.abs(Ke),sn=[];It+Wt<=zt;){if((bt+=lt)<pe||bt>=ke)return null;if(Ft=St,sn.push(St),void 0===(St=Ze[bt])){var en=new a.Point(Re.getx(bt),Re.gety(bt)),Xt=ln(en,Be);if(Xt.signedDistanceFromCamera>0)St=Ze[bt]=Xt.point;else{var Tn=bt-lt;St=jn(0===It?ne:new a.Point(Re.getx(Tn),Re.gety(Tn)),en,Ft,zt-It+1,Be)}}It+=Wt,Wt=Ft.dist(St)}var kn=(zt-It)/Wt,Bn=St.sub(Ft),Hn=Bn.mult(kn)._add(Ft);Hn._add(Bn._unit()._perp()._mult(Z*lt));var tr=vt+Math.atan2(St.y-Ft.y,St.x-Ft.x);return sn.push(Hn),{point:Hn,angle:tr,path:sn}}Gn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Gn.prototype.insert=function(V,X,Z,L,Y){this._forEachCell(X,Z,L,Y,this._insertBoxCell,this.boxUid++),this.boxKeys.push(V),this.bboxes.push(X),this.bboxes.push(Z),this.bboxes.push(L),this.bboxes.push(Y)},Gn.prototype.insertCircle=function(V,X,Z,L){this._forEachCell(X-L,Z-L,X+L,Z+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(V),this.circles.push(X),this.circles.push(Z),this.circles.push(L)},Gn.prototype._insertBoxCell=function(V,X,Z,L,Y,ne){this.boxCells[Y].push(ne)},Gn.prototype._insertCircleCell=function(V,X,Z,L,Y,ne){this.circleCells[Y].push(ne)},Gn.prototype._query=function(V,X,Z,L,Y,ne){if(Z<0||V>this.width||L<0||X>this.height)return!Y&&[];var se=[];if(V<=0&&X<=0&&this.width<=Z&&this.height<=L){if(Y)return!0;for(var pe=0;pe<this.boxKeys.length;pe++)se.push({key:this.boxKeys[pe],x1:this.bboxes[4*pe],y1:this.bboxes[4*pe+1],x2:this.bboxes[4*pe+2],y2:this.bboxes[4*pe+3]});for(var ke=0;ke<this.circleKeys.length;ke++){var Re=this.circles[3*ke],Be=this.circles[3*ke+1],Ze=this.circles[3*ke+2];se.push({key:this.circleKeys[ke],x1:Re-Ze,y1:Be-Ze,x2:Re+Ze,y2:Be+Ze})}return ne?se.filter(ne):se}return this._forEachCell(V,X,Z,L,this._queryCell,se,{hitTest:Y,seenUids:{box:{},circle:{}}},ne),Y?se.length>0:se},Gn.prototype._queryCircle=function(V,X,Z,L,Y){var ne=V-Z,se=V+Z,pe=X-Z,ke=X+Z;if(se<0||ne>this.width||ke<0||pe>this.height)return!L&&[];var Re=[];return this._forEachCell(ne,pe,se,ke,this._queryCellCircle,Re,{hitTest:L,circle:{x:V,y:X,radius:Z},seenUids:{box:{},circle:{}}},Y),L?Re.length>0:Re},Gn.prototype.query=function(V,X,Z,L,Y){return this._query(V,X,Z,L,!1,Y)},Gn.prototype.hitTest=function(V,X,Z,L,Y){return this._query(V,X,Z,L,!0,Y)},Gn.prototype.hitTestCircle=function(V,X,Z,L){return this._queryCircle(V,X,Z,!0,L)},Gn.prototype._queryCell=function(V,X,Z,L,Y,ne,se,pe){var ke=se.seenUids,Re=this.boxCells[Y];if(null!==Re)for(var Be=this.bboxes,Ze=0,Ke=Re;Ze<Ke.length;Ze+=1){var lt=Ke[Ze];if(!ke.box[lt]){ke.box[lt]=!0;var vt=4*lt;if(V<=Be[vt+2]&&X<=Be[vt+3]&&Z>=Be[vt+0]&&L>=Be[vt+1]&&(!pe||pe(this.boxKeys[lt]))){if(se.hitTest)return ne.push(!0),!0;ne.push({key:this.boxKeys[lt],x1:Be[vt],y1:Be[vt+1],x2:Be[vt+2],y2:Be[vt+3]})}}}var bt=this.circleCells[Y];if(null!==bt)for(var St=this.circles,Ft=0,It=bt;Ft<It.length;Ft+=1){var Wt=It[Ft];if(!ke.circle[Wt]){ke.circle[Wt]=!0;var zt=3*Wt;if(this._circleAndRectCollide(St[zt],St[zt+1],St[zt+2],V,X,Z,L)&&(!pe||pe(this.circleKeys[Wt]))){if(se.hitTest)return ne.push(!0),!0;var sn=St[zt],en=St[zt+1],Xt=St[zt+2];ne.push({key:this.circleKeys[Wt],x1:sn-Xt,y1:en-Xt,x2:sn+Xt,y2:en+Xt})}}}},Gn.prototype._queryCellCircle=function(V,X,Z,L,Y,ne,se,pe){var ke=se.circle,Re=se.seenUids,Be=this.boxCells[Y];if(null!==Be)for(var Ze=this.bboxes,Ke=0,lt=Be;Ke<lt.length;Ke+=1){var vt=lt[Ke];if(!Re.box[vt]){Re.box[vt]=!0;var bt=4*vt;if(this._circleAndRectCollide(ke.x,ke.y,ke.radius,Ze[bt+0],Ze[bt+1],Ze[bt+2],Ze[bt+3])&&(!pe||pe(this.boxKeys[vt])))return ne.push(!0),!0}}var St=this.circleCells[Y];if(null!==St)for(var Ft=this.circles,It=0,Wt=St;It<Wt.length;It+=1){var zt=Wt[It];if(!Re.circle[zt]){Re.circle[zt]=!0;var sn=3*zt;if(this._circlesCollide(Ft[sn],Ft[sn+1],Ft[sn+2],ke.x,ke.y,ke.radius)&&(!pe||pe(this.circleKeys[zt])))return ne.push(!0),!0}}},Gn.prototype._forEachCell=function(V,X,Z,L,Y,ne,se,pe){for(var ke=this._convertToXCellCoord(V),Re=this._convertToYCellCoord(X),Be=this._convertToXCellCoord(Z),Ze=this._convertToYCellCoord(L),Ke=ke;Ke<=Be;Ke++)for(var lt=Re;lt<=Ze;lt++)if(Y.call(this,V,X,Z,L,this.xCellCount*lt+Ke,ne,se,pe))return},Gn.prototype._convertToXCellCoord=function(V){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(V*this.xScale)))},Gn.prototype._convertToYCellCoord=function(V){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(V*this.yScale)))},Gn.prototype._circlesCollide=function(V,X,Z,L,Y,ne){var se=L-V,pe=Y-X,ke=Z+ne;return ke*ke>se*se+pe*pe},Gn.prototype._circleAndRectCollide=function(V,X,Z,L,Y,ne,se){var pe=(ne-L)/2,ke=Math.abs(V-(L+pe));if(ke>pe+Z)return!1;var Re=(se-Y)/2,Be=Math.abs(X-(Y+Re));if(Be>Re+Z)return!1;if(ke<=pe||Be<=Re)return!0;var Ze=ke-pe,Ke=Be-Re;return Ze*Ze+Ke*Ke<=Z*Z};var Jn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $n(V,X){for(var Z=0;Z<V;Z++){var L=X.length;X.resize(L+4),X.float32.set(Jn,3*L)}}function nr(V,X,Z){var L=X[0],Y=X[1];return V[0]=Z[0]*L+Z[4]*Y+Z[12],V[1]=Z[1]*L+Z[5]*Y+Z[13],V[3]=Z[3]*L+Z[7]*Y+Z[15],V}var or=100,lr=function(V,X,Z){void 0===X&&(X=new Gn(V.width+200,V.height+200,25)),void 0===Z&&(Z=new Gn(V.width+200,V.height+200,25)),this.transform=V,this.grid=X,this.ignoredGrid=Z,this.pitchfactor=Math.cos(V._pitch)*V.cameraToCenterDistance,this.screenRightBoundary=V.width+or,this.screenBottomBoundary=V.height+or,this.gridRightBoundary=V.width+200,this.gridBottomBoundary=V.height+200};function cr(V,X,Z){return X*(a.EXTENT/(V.tileSize*Math.pow(2,Z-V.tileID.overscaledZ)))}lr.prototype.placeCollisionBox=function(V,X,Z,L,Y){var ne=this.projectAndGetPerspectiveRatio(L,V.anchorPointX,V.anchorPointY),se=Z*ne.perspectiveRatio,pe=V.x1*se+ne.point.x,ke=V.y1*se+ne.point.y,Re=V.x2*se+ne.point.x,Be=V.y2*se+ne.point.y;return!this.isInsideGrid(pe,ke,Re,Be)||!X&&this.grid.hitTest(pe,ke,Re,Be,Y)?{box:[],offscreen:!1}:{box:[pe,ke,Re,Be],offscreen:this.isOffscreen(pe,ke,Re,Be)}},lr.prototype.placeCollisionCircles=function(V,X,Z,L,Y,ne,se,pe,ke,Re,Be,Ze,Ke){var lt=[],vt=new a.Point(X.anchorX,X.anchorY),bt=ln(vt,ne),St=vn(this.transform.cameraToCenterDistance,bt.signedDistanceFromCamera),Ft=(Re?Y/St:Y*St)/a.ONE_EM,It=ln(vt,se).point,Wt=Dn(Ft,L,X.lineOffsetX*Ft,X.lineOffsetY*Ft,!1,It,vt,X,Z,se,{}),zt=!1,sn=!1,en=!0;if(Wt){for(var Xt=.5*Ze*St+Ke,Tn=new a.Point(-100,-100),kn=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Bn=new dn,Hn=Wt.first,tr=Wt.last,gr=[],Er=Hn.path.length-1;Er>=1;Er--)gr.push(Hn.path[Er]);for(var sr=1;sr<tr.path.length;sr++)gr.push(tr.path[sr]);var wr=2.5*Xt;if(pe){var zr=gr.map(function(Ti){return ln(Ti,pe)});gr=zr.some(function(Ti){return Ti.signedDistanceFromCamera<=0})?[]:zr.map(function(Ti){return Ti.point})}var Gr=[];if(gr.length>0){for(var mr=gr[0].clone(),br=gr[0].clone(),Ur=1;Ur<gr.length;Ur++)mr.x=Math.min(mr.x,gr[Ur].x),mr.y=Math.min(mr.y,gr[Ur].y),br.x=Math.max(br.x,gr[Ur].x),br.y=Math.max(br.y,gr[Ur].y);Gr=mr.x>=Tn.x&&br.x<=kn.x&&mr.y>=Tn.y&&br.y<=kn.y?[gr]:br.x<Tn.x||mr.x>kn.x||br.y<Tn.y||mr.y>kn.y?[]:a.clipLine([gr],Tn.x,Tn.y,kn.x,kn.y)}for(var Sr=0,Wr=Gr;Sr<Wr.length;Sr+=1){var si;Bn.reset(Wr[Sr],.25*Xt),si=Bn.length<=.5*Xt?1:Math.ceil(Bn.paddedLength/wr)+1;for(var ui=0;ui<si;ui++){var xi=ui/Math.max(si-1,1),vi=Bn.lerp(xi),Ki=vi.x+or,Ao=vi.y+or;lt.push(Ki,Ao,Xt,0);var ba=Ki-Xt,Vo=Ao-Xt,ia=Ki+Xt,uo=Ao+Xt;if(en=en&&this.isOffscreen(ba,Vo,ia,uo),sn=sn||this.isInsideGrid(ba,Vo,ia,uo),!V&&this.grid.hitTestCircle(Ki,Ao,Xt,Be)&&(zt=!0,!ke))return{circles:[],offscreen:!1,collisionDetected:zt}}}}return{circles:!ke&&zt||!sn?[]:lt,offscreen:en,collisionDetected:zt}},lr.prototype.queryRenderedSymbols=function(V){if(0===V.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var X=[],Z=1/0,L=1/0,Y=-1/0,ne=-1/0,se=0,pe=V;se<pe.length;se+=1){var ke=pe[se],Re=new a.Point(ke.x+or,ke.y+or);Z=Math.min(Z,Re.x),L=Math.min(L,Re.y),Y=Math.max(Y,Re.x),ne=Math.max(ne,Re.y),X.push(Re)}for(var Be={},Ze={},Ke=0,lt=this.grid.query(Z,L,Y,ne).concat(this.ignoredGrid.query(Z,L,Y,ne));Ke<lt.length;Ke+=1){var vt=lt[Ke],bt=vt.key;if(void 0===Be[bt.bucketInstanceId]&&(Be[bt.bucketInstanceId]={}),!Be[bt.bucketInstanceId][bt.featureIndex]){var St=[new a.Point(vt.x1,vt.y1),new a.Point(vt.x2,vt.y1),new a.Point(vt.x2,vt.y2),new a.Point(vt.x1,vt.y2)];a.polygonIntersectsPolygon(X,St)&&(Be[bt.bucketInstanceId][bt.featureIndex]=!0,void 0===Ze[bt.bucketInstanceId]&&(Ze[bt.bucketInstanceId]=[]),Ze[bt.bucketInstanceId].push(bt.featureIndex))}}return Ze},lr.prototype.insertCollisionBox=function(V,X,Z,L,Y){(X?this.ignoredGrid:this.grid).insert({bucketInstanceId:Z,featureIndex:L,collisionGroupID:Y},V[0],V[1],V[2],V[3])},lr.prototype.insertCollisionCircles=function(V,X,Z,L,Y){for(var ne=X?this.ignoredGrid:this.grid,se={bucketInstanceId:Z,featureIndex:L,collisionGroupID:Y},pe=0;pe<V.length;pe+=4)ne.insertCircle(se,V[pe],V[pe+1],V[pe+2])},lr.prototype.projectAndGetPerspectiveRatio=function(V,X,Z){var L=[X,Z,0,1];return nr(L,L,V),{point:new a.Point((L[0]/L[3]+1)/2*this.transform.width+or,(-L[1]/L[3]+1)/2*this.transform.height+or),perspectiveRatio:.5+this.transform.cameraToCenterDistance/L[3]*.5}},lr.prototype.isOffscreen=function(V,X,Z,L){return Z<or||V>=this.screenRightBoundary||L<or||X>this.screenBottomBoundary},lr.prototype.isInsideGrid=function(V,X,Z,L){return Z>=0&&V<this.gridRightBoundary&&L>=0&&X<this.gridBottomBoundary},lr.prototype.getViewportMatrix=function(){var V=a.identity([]);return a.translate(V,V,[-100,-100,0]),V};var Ar=function(V,X,Z,L){this.opacity=V?Math.max(0,Math.min(1,V.opacity+(V.placed?X:-X))):L&&Z?1:0,this.placed=Z};Ar.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var fn=function(V,X,Z,L,Y){this.text=new Ar(V?V.text:null,X,Z,Y),this.icon=new Ar(V?V.icon:null,X,L,Y)};fn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var an=function(V,X,Z){this.text=V,this.icon=X,this.skipFade=Z},Vn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},En=function(V,X,Z,L,Y){this.bucketInstanceId=V,this.featureIndex=X,this.sourceLayerIndex=Z,this.bucketIndex=L,this.tileID=Y},Wn=function(V){this.crossSourceCollisions=V,this.maxGroupID=0,this.collisionGroups={}};function ar(V,X,Z,L,Y){var ne=a.getAnchorAlignment(V),se=-(ne.horizontalAlign-.5)*X,pe=-(ne.verticalAlign-.5)*Z,ke=a.evaluateVariableOffset(V,L);return new a.Point(se+ke[0]*Y,pe+ke[1]*Y)}function In(V,X,Z,L,Y,ne){var se=V.x1,pe=V.x2,ke=V.y1,Re=V.y2,Be=V.anchorPointX,Ze=V.anchorPointY,Ke=new a.Point(X,Z);return L&&Ke._rotate(Y?ne:-ne),{x1:se+Ke.x,y1:ke+Ke.y,x2:pe+Ke.x,y2:Re+Ke.y,anchorPointX:Be,anchorPointY:Ze}}Wn.prototype.get=function(V){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[V]){var X=++this.maxGroupID;this.collisionGroups[V]={ID:X,predicate:function(Z){return Z.collisionGroupID===X}}}return this.collisionGroups[V]};var fr=function(V,X,Z,L){this.transform=V.clone(),this.collisionIndex=new lr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=X,this.retainedQueryData={},this.collisionGroups=new Wn(Z),this.collisionCircleArrays={},this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}};function ur(V,X,Z,L,Y){V.emplaceBack(X?1:0,Z?1:0,L||0,Y||0),V.emplaceBack(X?1:0,Z?1:0,L||0,Y||0),V.emplaceBack(X?1:0,Z?1:0,L||0,Y||0),V.emplaceBack(X?1:0,Z?1:0,L||0,Y||0)}fr.prototype.getBucketParts=function(V,X,Z,L){var Y=Z.getBucket(X),ne=Z.latestFeatureIndex;if(Y&&ne&&X.id===Y.layerIds[0]){var se=Z.collisionBoxArray,pe=Y.layers[0].layout,ke=Math.pow(2,this.transform.zoom-Z.tileID.overscaledZ),Re=Z.tileSize/a.EXTENT,Be=this.transform.calculatePosMatrix(Z.tileID.toUnwrapped()),Ze="map"===pe.get("text-pitch-alignment"),Ke="map"===pe.get("text-rotation-alignment"),lt=cr(Z,1,this.transform.zoom),vt=zn(Be,Ze,Ke,this.transform,lt),bt=null;if(Ze){var St=Mn(Be,Ze,Ke,this.transform,lt);bt=a.multiply([],this.transform.labelPlaneMatrix,St)}this.retainedQueryData[Y.bucketInstanceId]=new En(Y.bucketInstanceId,ne,Y.sourceLayerIndex,Y.index,Z.tileID);var Ft={bucket:Y,layout:pe,posMatrix:Be,textLabelPlaneMatrix:vt,labelToScreenMatrix:bt,scale:ke,textPixelRatio:Re,holdingForFade:Z.holdingForFade(),collisionBoxArray:se,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(Y.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Y.sourceID)};if(L)for(var It=0,Wt=Y.sortKeyRanges;It<Wt.length;It+=1){var zt=Wt[It];V.push({sortKey:zt.sortKey,symbolInstanceStart:zt.symbolInstanceStart,symbolInstanceEnd:zt.symbolInstanceEnd,parameters:Ft})}else V.push({symbolInstanceStart:0,symbolInstanceEnd:Y.symbolInstances.length,parameters:Ft})}},fr.prototype.attemptAnchorPlacement=function(V,X,Z,L,Y,ne,se,pe,ke,Re,Be,Ze,Ke,lt,vt){var bt,St=[Ze.textOffset0,Ze.textOffset1],Ft=ar(V,Z,L,St,Y),It=this.collisionIndex.placeCollisionBox(In(X,Ft.x,Ft.y,ne,se,this.transform.angle),Be,pe,ke,Re.predicate);if(!vt||0!==this.collisionIndex.placeCollisionBox(In(vt,Ft.x,Ft.y,ne,se,this.transform.angle),Be,pe,ke,Re.predicate).box.length)return It.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Ze.crossTileID]&&this.prevPlacement.placements[Ze.crossTileID]&&this.prevPlacement.placements[Ze.crossTileID].text&&(bt=this.prevPlacement.variableOffsets[Ze.crossTileID].anchor),this.variableOffsets[Ze.crossTileID]={textOffset:St,width:Z,height:L,anchor:V,textBoxScale:Y,prevAnchor:bt},this.markUsedJustification(Ke,V,Ze,lt),Ke.allowVerticalPlacement&&(this.markUsedOrientation(Ke,lt,Ze),this.placedOrientations[Ze.crossTileID]=lt),{shift:Ft,placedGlyphBoxes:It}):void 0},fr.prototype.placeLayerBucketPart=function(V,X,Z){var L=this,Y=V.parameters,ne=Y.bucket,se=Y.layout,pe=Y.posMatrix,ke=Y.textLabelPlaneMatrix,Re=Y.labelToScreenMatrix,Be=Y.textPixelRatio,Ze=Y.holdingForFade,Ke=Y.collisionBoxArray,lt=Y.partiallyEvaluatedTextSize,vt=Y.collisionGroup,bt=se.get("text-optional"),St=se.get("icon-optional"),Ft=se.get("text-allow-overlap"),It=se.get("icon-allow-overlap"),Wt="map"===se.get("text-rotation-alignment"),zt="map"===se.get("text-pitch-alignment"),sn="none"!==se.get("icon-text-fit"),en="viewport-y"===se.get("symbol-z-order"),Xt=Ft&&(It||!ne.hasIconData()||St),Tn=It&&(Ft||!ne.hasTextData()||bt);!ne.collisionArrays&&Ke&&ne.deserializeCollisionBoxes(Ke);var kn=function(sr,wr){if(!X[sr.crossTileID])if(Ze)L.placements[sr.crossTileID]=new an(!1,!1,!1);else{var zr,Gr=!1,mr=!1,br=!0,Ur=null,Sr={box:null,offscreen:null},Wr={box:null,offscreen:null},Kr=null,si=null,ui=0,xi=0,vi=0;wr.textFeatureIndex?ui=wr.textFeatureIndex:sr.useRuntimeCollisionCircles&&(ui=sr.featureIndex),wr.verticalTextFeatureIndex&&(xi=wr.verticalTextFeatureIndex);var Ki=wr.textBox;if(Ki){var Ao=function(xo){var Ka=a.WritingMode.horizontal;if(ne.allowVerticalPlacement&&!xo&&L.prevPlacement){var Qo=L.prevPlacement.placedOrientations[sr.crossTileID];Qo&&(L.placedOrientations[sr.crossTileID]=Qo,L.markUsedOrientation(ne,Ka=Qo,sr))}return Ka},ba=function(xo,Ka){if(ne.allowVerticalPlacement&&sr.numVerticalGlyphVertices>0&&wr.verticalTextBox)for(var Qo=0,ll=ne.writingModes;Qo<ll.length&&(ll[Qo]===a.WritingMode.vertical?(Sr=Ka(),Wr=Sr):Sr=xo(),!(Sr&&Sr.box&&Sr.box.length));Qo+=1);else Sr=xo()};if(se.get("text-variable-anchor")){var Vo=se.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[sr.crossTileID]){var ia=L.prevPlacement.variableOffsets[sr.crossTileID];Vo.indexOf(ia.anchor)>0&&(Vo=Vo.filter(function(xo){return xo!==ia.anchor})).unshift(ia.anchor)}var uo=function(xo,Ka,Qo){for(var ll=xo.x2-xo.x1,ph=xo.y2-xo.y1,gh=sr.textBoxScale,mh=sn&&!It?Ka:null,Mu={box:[],offscreen:!1},vh=Ft?2*Vo.length:Vo.length,Gu=0;Gu<vh;++Gu){var Au=L.attemptAnchorPlacement(Vo[Gu%Vo.length],xo,ll,ph,gh,Wt,zt,Be,pe,vt,Gu>=Vo.length,sr,ne,Qo,mh);if(Au&&(Mu=Au.placedGlyphBoxes)&&Mu.box&&Mu.box.length){Gr=!0,Ur=Au.shift;break}}return Mu};ba(function(){return uo(Ki,wr.iconBox,a.WritingMode.horizontal)},function(){var xo=wr.verticalTextBox;return ne.allowVerticalPlacement&&!(Sr&&Sr.box&&Sr.box.length)&&sr.numVerticalGlyphVertices>0&&xo?uo(xo,wr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Sr&&(Gr=Sr.box,br=Sr.offscreen);var Ti=Ao(Sr&&Sr.box);if(!Gr&&L.prevPlacement){var yo=L.prevPlacement.variableOffsets[sr.crossTileID];yo&&(L.variableOffsets[sr.crossTileID]=yo,L.markUsedJustification(ne,yo.anchor,sr,Ti))}}else{var _i=function(xo,Ka){var Qo=L.collisionIndex.placeCollisionBox(xo,Ft,Be,pe,vt.predicate);return Qo&&Qo.box&&Qo.box.length&&(L.markUsedOrientation(ne,Ka,sr),L.placedOrientations[sr.crossTileID]=Ka),Qo};ba(function(){return _i(Ki,a.WritingMode.horizontal)},function(){var xo=wr.verticalTextBox;return ne.allowVerticalPlacement&&sr.numVerticalGlyphVertices>0&&xo?_i(xo,a.WritingMode.vertical):{box:null,offscreen:null}}),Ao(Sr&&Sr.box&&Sr.box.length)}}if(Gr=(zr=Sr)&&zr.box&&zr.box.length>0,br=zr&&zr.offscreen,sr.useRuntimeCollisionCircles){var Di=ne.text.placedSymbolArray.get(sr.centerJustifiedTextSymbolIndex),fo=a.evaluateSizeForFeature(ne.textSizeData,lt,Di),li=se.get("text-padding");Kr=L.collisionIndex.placeCollisionCircles(Ft,Di,ne.lineVertexArray,ne.glyphOffsetArray,fo,pe,ke,Re,Z,zt,vt.predicate,sr.collisionCircleDiameter,li),Gr=Ft||Kr.circles.length>0&&!Kr.collisionDetected,br=br&&Kr.offscreen}if(wr.iconFeatureIndex&&(vi=wr.iconFeatureIndex),wr.iconBox){var Qs=function(xo){var Ka=sn&&Ur?In(xo,Ur.x,Ur.y,Wt,zt,L.transform.angle):xo;return L.collisionIndex.placeCollisionBox(Ka,It,Be,pe,vt.predicate)};mr=Wr&&Wr.box&&Wr.box.length&&wr.verticalIconBox?(si=Qs(wr.verticalIconBox)).box.length>0:(si=Qs(wr.iconBox)).box.length>0,br=br&&si.offscreen}var Jo=bt||0===sr.numHorizontalGlyphVertices&&0===sr.numVerticalGlyphVertices,Pi=St||0===sr.numIconVertices;if(Jo||Pi?Pi?Jo||(mr=mr&&Gr):Gr=mr&&Gr:mr=Gr=mr&&Gr,Gr&&zr&&zr.box&&L.collisionIndex.insertCollisionBox(zr.box,se.get("text-ignore-placement"),ne.bucketInstanceId,Wr&&Wr.box&&xi?xi:ui,vt.ID),mr&&si&&L.collisionIndex.insertCollisionBox(si.box,se.get("icon-ignore-placement"),ne.bucketInstanceId,vi,vt.ID),Kr&&(Gr&&L.collisionIndex.insertCollisionCircles(Kr.circles,se.get("text-ignore-placement"),ne.bucketInstanceId,ui,vt.ID),Z)){var nu=ne.bucketInstanceId,Is=L.collisionCircleArrays[nu];void 0===Is&&(Is=L.collisionCircleArrays[nu]=new Vn);for(var Ho=0;Ho<Kr.circles.length;Ho+=4)Is.circles.push(Kr.circles[Ho+0]),Is.circles.push(Kr.circles[Ho+1]),Is.circles.push(Kr.circles[Ho+2]),Is.circles.push(Kr.collisionDetected?1:0)}L.placements[sr.crossTileID]=new an(Gr||Xt,mr||Tn,br||ne.justReloaded),X[sr.crossTileID]=!0}};if(en)for(var Bn=ne.getSortedSymbolIndexes(this.transform.angle),Hn=Bn.length-1;Hn>=0;--Hn){var tr=Bn[Hn];kn(ne.symbolInstances.get(tr),ne.collisionArrays[tr])}else for(var gr=V.symbolInstanceStart;gr<V.symbolInstanceEnd;gr++)kn(ne.symbolInstances.get(gr),ne.collisionArrays[gr]);if(Z&&ne.bucketInstanceId in this.collisionCircleArrays){var Er=this.collisionCircleArrays[ne.bucketInstanceId];a.invert(Er.invProjMatrix,pe),Er.viewportMatrix=this.collisionIndex.getViewportMatrix()}ne.justReloaded=!1},fr.prototype.markUsedJustification=function(V,X,Z,L){var Y;Y=L===a.WritingMode.vertical?Z.verticalPlacedTextSymbolIndex:{left:Z.leftJustifiedTextSymbolIndex,center:Z.centerJustifiedTextSymbolIndex,right:Z.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(X)];for(var se=0,pe=[Z.leftJustifiedTextSymbolIndex,Z.centerJustifiedTextSymbolIndex,Z.rightJustifiedTextSymbolIndex,Z.verticalPlacedTextSymbolIndex];se<pe.length;se+=1){var ke=pe[se];ke>=0&&(V.text.placedSymbolArray.get(ke).crossTileID=Y>=0&&ke!==Y?0:Z.crossTileID)}},fr.prototype.markUsedOrientation=function(V,X,Z){for(var L=X===a.WritingMode.horizontal||X===a.WritingMode.horizontalOnly?X:0,Y=X===a.WritingMode.vertical?X:0,ne=0,se=[Z.leftJustifiedTextSymbolIndex,Z.centerJustifiedTextSymbolIndex,Z.rightJustifiedTextSymbolIndex];ne<se.length;ne+=1)V.text.placedSymbolArray.get(se[ne]).placedOrientation=L;Z.verticalPlacedTextSymbolIndex&&(V.text.placedSymbolArray.get(Z.verticalPlacedTextSymbolIndex).placedOrientation=Y)},fr.prototype.commit=function(V){this.commitTime=V,this.zoomAtLastRecencyCheck=this.transform.zoom;var X=this.prevPlacement,Z=!1;this.prevZoomAdjustment=X?X.zoomAdjustment(this.transform.zoom):0;var L=X?X.symbolFadeChange(V):1,Y=X?X.opacities:{},ne=X?X.variableOffsets:{},se=X?X.placedOrientations:{};for(var pe in this.placements){var ke=this.placements[pe],Re=Y[pe];Re?(this.opacities[pe]=new fn(Re,L,ke.text,ke.icon),Z=Z||ke.text!==Re.text.placed||ke.icon!==Re.icon.placed):(this.opacities[pe]=new fn(null,L,ke.text,ke.icon,ke.skipFade),Z=Z||ke.text||ke.icon)}for(var Be in Y){var Ze=Y[Be];if(!this.opacities[Be]){var Ke=new fn(Ze,L,!1,!1);Ke.isHidden()||(this.opacities[Be]=Ke,Z=Z||Ze.text.placed||Ze.icon.placed)}}for(var lt in ne)this.variableOffsets[lt]||!this.opacities[lt]||this.opacities[lt].isHidden()||(this.variableOffsets[lt]=ne[lt]);for(var vt in se)this.placedOrientations[vt]||!this.opacities[vt]||this.opacities[vt].isHidden()||(this.placedOrientations[vt]=se[vt]);Z?this.lastPlacementChangeTime=V:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=X?X.lastPlacementChangeTime:V)},fr.prototype.updateLayerOpacities=function(V,X){for(var Z={},L=0,Y=X;L<Y.length;L+=1){var ne=Y[L],se=ne.getBucket(V);se&&ne.latestFeatureIndex&&V.id===se.layerIds[0]&&this.updateBucketOpacities(se,Z,ne.collisionBoxArray)}},fr.prototype.updateBucketOpacities=function(V,X,Z){var L=this;V.hasTextData()&&V.text.opacityVertexArray.clear(),V.hasIconData()&&V.icon.opacityVertexArray.clear(),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexArray.clear(),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexArray.clear();var Y=V.layers[0].layout,ne=new fn(null,0,!1,!1,!0),se=Y.get("text-allow-overlap"),pe=Y.get("icon-allow-overlap"),ke=Y.get("text-variable-anchor"),Re="map"===Y.get("text-rotation-alignment"),Be="map"===Y.get("text-pitch-alignment"),Ze="none"!==Y.get("icon-text-fit"),Ke=new fn(null,0,se&&(pe||!V.hasIconData()||Y.get("icon-optional")),pe&&(se||!V.hasTextData()||Y.get("text-optional")),!0);!V.collisionArrays&&Z&&(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData())&&V.deserializeCollisionBoxes(Z);for(var lt=function(Ft,It,Wt){for(var zt=0;zt<It/4;zt++)Ft.opacityVertexArray.emplaceBack(Wt)},vt=function(Ft){var It=V.symbolInstances.get(Ft),Wt=It.numHorizontalGlyphVertices,zt=It.numVerticalGlyphVertices,sn=It.crossTileID,Xt=L.opacities[sn];X[sn]?Xt=ne:Xt||(L.opacities[sn]=Xt=Ke),X[sn]=!0;var kn=It.numIconVertices>0,Bn=L.placedOrientations[It.crossTileID],Hn=Bn===a.WritingMode.vertical,tr=Bn===a.WritingMode.horizontal||Bn===a.WritingMode.horizontalOnly;if(Wt>0||zt>0){var gr=Cn(Xt.text);lt(V.text,Wt,Hn?mn:gr),lt(V.text,zt,tr?mn:gr);var wr=Xt.text.isHidden();[It.rightJustifiedTextSymbolIndex,It.centerJustifiedTextSymbolIndex,It.leftJustifiedTextSymbolIndex].forEach(function(vi){vi>=0&&(V.text.placedSymbolArray.get(vi).hidden=wr||Hn?1:0)}),It.verticalPlacedTextSymbolIndex>=0&&(V.text.placedSymbolArray.get(It.verticalPlacedTextSymbolIndex).hidden=wr||tr?1:0);var zr=L.variableOffsets[It.crossTileID];zr&&L.markUsedJustification(V,zr.anchor,It,Bn);var Gr=L.placedOrientations[It.crossTileID];Gr&&(L.markUsedJustification(V,"left",It,Gr),L.markUsedOrientation(V,Gr,It))}if(kn){var mr=Cn(Xt.icon),br=!(Ze&&It.verticalPlacedIconSymbolIndex&&Hn);It.placedIconSymbolIndex>=0&&(lt(V.icon,It.numIconVertices,br?mr:mn),V.icon.placedSymbolArray.get(It.placedIconSymbolIndex).hidden=Xt.icon.isHidden()),It.verticalPlacedIconSymbolIndex>=0&&(lt(V.icon,It.numVerticalIconVertices,br?mn:mr),V.icon.placedSymbolArray.get(It.verticalPlacedIconSymbolIndex).hidden=Xt.icon.isHidden())}if(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData()){var Wr=V.collisionArrays[Ft];if(Wr){var Kr=new a.Point(0,0);if(Wr.textBox||Wr.verticalTextBox){var si=!0;if(ke){var ui=L.variableOffsets[sn];ui?(Kr=ar(ui.anchor,ui.width,ui.height,ui.textOffset,ui.textBoxScale),Re&&Kr._rotate(Be?L.transform.angle:-L.transform.angle)):si=!1}Wr.textBox&&ur(V.textCollisionBox.collisionVertexArray,Xt.text.placed,!si||Hn,Kr.x,Kr.y),Wr.verticalTextBox&&ur(V.textCollisionBox.collisionVertexArray,Xt.text.placed,!si||tr,Kr.x,Kr.y)}var xi=!(tr||!Wr.verticalIconBox);Wr.iconBox&&ur(V.iconCollisionBox.collisionVertexArray,Xt.icon.placed,xi,Ze?Kr.x:0,Ze?Kr.y:0),Wr.verticalIconBox&&ur(V.iconCollisionBox.collisionVertexArray,Xt.icon.placed,!xi,Ze?Kr.x:0,Ze?Kr.y:0)}}},bt=0;bt<V.symbolInstances.length;bt++)vt(bt);if(V.sortFeatures(this.transform.angle),this.retainedQueryData[V.bucketInstanceId]&&(this.retainedQueryData[V.bucketInstanceId].featureSortOrder=V.featureSortOrder),V.hasTextData()&&V.text.opacityVertexBuffer&&V.text.opacityVertexBuffer.updateData(V.text.opacityVertexArray),V.hasIconData()&&V.icon.opacityVertexBuffer&&V.icon.opacityVertexBuffer.updateData(V.icon.opacityVertexArray),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexBuffer&&V.iconCollisionBox.collisionVertexBuffer.updateData(V.iconCollisionBox.collisionVertexArray),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexBuffer&&V.textCollisionBox.collisionVertexBuffer.updateData(V.textCollisionBox.collisionVertexArray),V.bucketInstanceId in this.collisionCircleArrays){var St=this.collisionCircleArrays[V.bucketInstanceId];V.placementInvProjMatrix=St.invProjMatrix,V.placementViewportMatrix=St.viewportMatrix,V.collisionCircleArray=St.circles,delete this.collisionCircleArrays[V.bucketInstanceId]}},fr.prototype.symbolFadeChange=function(V){return 0===this.fadeDuration?1:(V-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},fr.prototype.zoomAdjustment=function(V){return Math.max(0,(this.transform.zoom-V)/1.5)},fr.prototype.hasTransitions=function(V){return this.stale||V-this.lastPlacementChangeTime<this.fadeDuration},fr.prototype.stillRecent=function(V,X){var Z=this.zoomAtLastRecencyCheck===X?1-this.zoomAdjustment(X):1;return this.zoomAtLastRecencyCheck=X,this.commitTime+this.fadeDuration*Z>V},fr.prototype.setStale=function(){this.stale=!0};var Kt=Math.pow(2,25),An=Math.pow(2,24),Nt=Math.pow(2,17),Yt=Math.pow(2,16),cn=Math.pow(2,9),xn=Math.pow(2,8),wn=Math.pow(2,1);function Cn(V){if(0===V.opacity&&!V.placed)return 0;if(1===V.opacity&&V.placed)return 4294967295;var X=V.placed?1:0,Z=Math.floor(127*V.opacity);return Z*Kt+X*An+Z*Nt+X*Yt+Z*cn+X*xn+Z*wn+X}var mn=0,nn=function(V){this._sortAcrossTiles="viewport-y"!==V.layout.get("symbol-z-order")&&void 0!==V.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};nn.prototype.continuePlacement=function(V,X,Z,L,Y){for(var ne=this._bucketParts;this._currentTileIndex<V.length;)if(X.getBucketParts(ne,L,V[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Y())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ne.sort(function(ke,Re){return ke.sortKey-Re.sortKey}));this._currentPartIndex<ne.length;)if(X.placeLayerBucketPart(ne[this._currentPartIndex],this._seenCrossTileIDs,Z),this._currentPartIndex++,Y())return!0;return!1};var rn=function(V,X,Z,L,Y,ne,se){this.placement=new fr(V,Y,ne,se),this._currentPlacementIndex=X.length-1,this._forceFullPlacement=Z,this._showCollisionBoxes=L,this._done=!1};rn.prototype.isDone=function(){return this._done},rn.prototype.continuePlacement=function(V,X,Z){for(var L=this,Y=a.browser.now(),ne=function(){var ke=a.browser.now()-Y;return!L._forceFullPlacement&&ke>2};this._currentPlacementIndex>=0;){var se=X[V[this._currentPlacementIndex]],pe=this.placement.collisionIndex.transform.zoom;if("symbol"===se.type&&(!se.minzoom||se.minzoom<=pe)&&(!se.maxzoom||se.maxzoom>pe)){if(this._inProgressLayer||(this._inProgressLayer=new nn(se)),this._inProgressLayer.continuePlacement(Z[se.source],this.placement,this._showCollisionBoxes,se,ne))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},rn.prototype.commit=function(V){return this.placement.commit(V),this.placement};var pn=512/a.EXTENT/2,yn=function(V,X,Z){this.tileID=V,this.indexedSymbolInstances={},this.bucketInstanceId=Z;for(var L=0;L<X.length;L++){var Y=X.get(L),ne=Y.key;this.indexedSymbolInstances[ne]||(this.indexedSymbolInstances[ne]=[]),this.indexedSymbolInstances[ne].push({crossTileID:Y.crossTileID,coord:this.getScaledCoordinates(Y,V)})}};yn.prototype.getScaledCoordinates=function(V,X){var L=pn/Math.pow(2,X.canonical.z-this.tileID.canonical.z);return{x:Math.floor((X.canonical.x*a.EXTENT+V.anchorX)*L),y:Math.floor((X.canonical.y*a.EXTENT+V.anchorY)*L)}},yn.prototype.findMatches=function(V,X,Z){for(var L=this.tileID.canonical.z<X.canonical.z?1:Math.pow(2,this.tileID.canonical.z-X.canonical.z),Y=0;Y<V.length;Y++){var ne=V.get(Y);if(!ne.crossTileID){var se=this.indexedSymbolInstances[ne.key];if(se)for(var pe=this.getScaledCoordinates(ne,X),ke=0,Re=se;ke<Re.length;ke+=1){var Be=Re[ke];if(Math.abs(Be.coord.x-pe.x)<=L&&Math.abs(Be.coord.y-pe.y)<=L&&!Z[Be.crossTileID]){Z[Be.crossTileID]=!0,ne.crossTileID=Be.crossTileID;break}}}}};var Nn=function(){this.maxCrossTileID=0};Nn.prototype.generate=function(){return++this.maxCrossTileID};var Un=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Un.prototype.handleWrapJump=function(V){var X=Math.round((V-this.lng)/360);if(0!==X)for(var Z in this.indexes){var L=this.indexes[Z],Y={};for(var ne in L){var se=L[ne];se.tileID=se.tileID.unwrapTo(se.tileID.wrap+X),Y[se.tileID.key]=se}this.indexes[Z]=Y}this.lng=V},Un.prototype.addBucket=function(V,X,Z){if(this.indexes[V.overscaledZ]&&this.indexes[V.overscaledZ][V.key]){if(this.indexes[V.overscaledZ][V.key].bucketInstanceId===X.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(V.overscaledZ,this.indexes[V.overscaledZ][V.key])}for(var L=0;L<X.symbolInstances.length;L++)X.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[V.overscaledZ]||(this.usedCrossTileIDs[V.overscaledZ]={});var Y=this.usedCrossTileIDs[V.overscaledZ];for(var ne in this.indexes){var se=this.indexes[ne];if(Number(ne)>V.overscaledZ)for(var pe in se){var ke=se[pe];ke.tileID.isChildOf(V)&&ke.findMatches(X.symbolInstances,V,Y)}else{var Re=se[V.scaledTo(Number(ne)).key];Re&&Re.findMatches(X.symbolInstances,V,Y)}}for(var Be=0;Be<X.symbolInstances.length;Be++){var Ze=X.symbolInstances.get(Be);Ze.crossTileID||(Ze.crossTileID=Z.generate(),Y[Ze.crossTileID]=!0)}return void 0===this.indexes[V.overscaledZ]&&(this.indexes[V.overscaledZ]={}),this.indexes[V.overscaledZ][V.key]=new yn(V,X.symbolInstances,X.bucketInstanceId),!0},Un.prototype.removeBucketCrossTileIDs=function(V,X){for(var Z in X.indexedSymbolInstances)for(var L=0,Y=X.indexedSymbolInstances[Z];L<Y.length;L+=1)delete this.usedCrossTileIDs[V][Y[L].crossTileID]},Un.prototype.removeStaleBuckets=function(V){var X=!1;for(var Z in this.indexes){var L=this.indexes[Z];for(var Y in L)V[L[Y].bucketInstanceId]||(this.removeBucketCrossTileIDs(Z,L[Y]),delete L[Y],X=!0)}return X};var Xn=function(){this.layerIndexes={},this.crossTileIDs=new Nn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Xn.prototype.addLayer=function(V,X,Z){var L=this.layerIndexes[V.id];void 0===L&&(L=this.layerIndexes[V.id]=new Un);var Y=!1,ne={};L.handleWrapJump(Z);for(var se=0,pe=X;se<pe.length;se+=1){var ke=pe[se],Re=ke.getBucket(V);Re&&V.id===Re.layerIds[0]&&(Re.bucketInstanceId||(Re.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(ke.tileID,Re,this.crossTileIDs)&&(Y=!0),ne[Re.bucketInstanceId]=!0)}return L.removeStaleBuckets(ne)&&(Y=!0),Y},Xn.prototype.pruneUnusedLayers=function(V){var X={};for(var Z in V.forEach(function(L){X[L]=!0}),this.layerIndexes)X[Z]||delete this.layerIndexes[Z]};var er=function(V,X){return a.emitValidationErrors(V,X&&X.filter(function(Z){return"source.canvas"!==Z.identifier}))},pr=a.pick(Ct,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Qn=a.pick(Ct,["setCenter","setZoom","setBearing","setPitch"]),qn=function(){var V={},X=a.styleSpec.$version;for(var Z in a.styleSpec.$root){var Y,L=a.styleSpec.$root[Z];L.required&&null!=(Y="version"===Z?X:"array"===L.type?[]:{})&&(V[Z]=Y)}return V}(),vr=function(V){function X(Z,L){var Y=this;void 0===L&&(L={}),V.call(this),this.map=Z,this.dispatcher=new R(At(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new y(Z._requestManager,L.localIdeographFontFamily),this.lineAtlas=new D(256,512),this.crossTileSymbolIndex=new Xn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var ne=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(se){ne.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:se.pluginStatus,pluginURL:se.pluginURL},function(ke,Re){if(a.triggerPluginCompletionEvent(ke),Re&&Re.every(function(Ze){return Ze}))for(var Be in ne.sourceCaches)ne.sourceCaches[Be].reload()})}),this.on("data",function(se){if("source"===se.dataType&&"metadata"===se.sourceDataType){var pe=Y.sourceCaches[se.sourceId];if(pe){var ke=pe.getSource();if(ke&&ke.vectorLayerIds)for(var Re in Y._layers){var Be=Y._layers[Re];Be.source===ke.id&&Y._validateLayer(Be)}}}})}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.loadURL=function(Z,L){var Y=this;void 0===L&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var ne="boolean"==typeof L.validate?L.validate:!a.isMapboxURL(Z);Z=this.map._requestManager.normalizeStyleURL(Z,L.accessToken);var se=this.map._requestManager.transformRequest(Z,a.ResourceType.Style);this._request=a.getJSON(se,function(pe,ke){Y._request=null,pe?Y.fire(new a.ErrorEvent(pe)):ke&&Y._load(ke,ne)})},X.prototype.loadJSON=function(Z,L){var Y=this;void 0===L&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){Y._request=null,Y._load(Z,!1!==L.validate)})},X.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(qn,!1)},X.prototype._load=function(Z,L){if(!L||!er(this,a.validateStyle(Z))){for(var Y in this._loaded=!0,this.stylesheet=Z,Z.sources)this.addSource(Y,Z.sources[Y],{validate:!1});Z.sprite?this._loadSprite(Z.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(Z.glyphs);var ne=Ot(this.stylesheet.layers);this._order=ne.map(function(Re){return Re.id}),this._layers={},this._serializedLayers={};for(var se=0,pe=ne;se<pe.length;se+=1){var ke=pe[se];(ke=a.createStyleLayer(ke)).setEventedParent(this,{layer:{id:ke.id}}),this._layers[ke.id]=ke,this._serializedLayers[ke.id]=ke.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},X.prototype._loadSprite=function(Z){var L=this;this._spriteRequest=function(Y,ne,se){var pe,ke,Re,Be=a.browser.devicePixelRatio>1?"@2x":"",Ze=a.getJSON(ne.transformRequest(ne.normalizeSpriteURL(Y,Be,".json"),a.ResourceType.SpriteJSON),function(vt,bt){Ze=null,Re||(Re=vt,pe=bt,lt())}),Ke=a.getImage(ne.transformRequest(ne.normalizeSpriteURL(Y,Be,".png"),a.ResourceType.SpriteImage),function(vt,bt){Ke=null,Re||(Re=vt,ke=bt,lt())});function lt(){if(Re)se(Re);else if(pe&&ke){var vt=a.browser.getImageData(ke),bt={};for(var St in pe){var Ft=pe[St],It=Ft.width,Wt=Ft.height,zt=Ft.x,sn=Ft.y,en=Ft.sdf,Xt=Ft.pixelRatio,Tn=Ft.stretchX,kn=Ft.stretchY,Bn=Ft.content,Hn=new a.RGBAImage({width:It,height:Wt});a.RGBAImage.copy(vt,Hn,{x:zt,y:sn},{x:0,y:0},{width:It,height:Wt}),bt[St]={data:Hn,pixelRatio:Xt,sdf:en,stretchX:Tn,stretchY:kn,content:Bn}}se(null,bt)}}return{cancel:function(){Ze&&(Ze.cancel(),Ze=null),Ke&&(Ke.cancel(),Ke=null)}}}(Z,this.map._requestManager,function(Y,ne){if(L._spriteRequest=null,Y)L.fire(new a.ErrorEvent(Y));else if(ne)for(var se in ne)L.imageManager.addImage(se,ne[se]);L.imageManager.setLoaded(!0),L._availableImages=L.imageManager.listImages(),L.dispatcher.broadcast("setImages",L._availableImages),L.fire(new a.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(Z){var L=this.sourceCaches[Z.source];if(L){var Y=Z.sourceLayer;if(Y){var ne=L.getSource();("geojson"===ne.type||ne.vectorLayerIds&&-1===ne.vectorLayerIds.indexOf(Y))&&this.fire(new a.ErrorEvent(new Error('Source layer "'+Y+'" does not exist on source "'+ne.id+'" as specified by style layer "'+Z.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var Z in this.sourceCaches)if(!this.sourceCaches[Z].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(Z){for(var L=[],Y=0,ne=Z;Y<ne.length;Y+=1){var pe=this._layers[ne[Y]];"custom"!==pe.type&&L.push(pe.serialize())}return L},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var Z in this.sourceCaches)if(this.sourceCaches[Z].hasTransition())return!0;for(var L in this._layers)if(this._layers[L].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(Z){if(this._loaded){var L=this._changed;if(this._changed){var Y=Object.keys(this._updatedLayers),ne=Object.keys(this._removedLayers);for(var se in(Y.length||ne.length)&&this._updateWorkerLayers(Y,ne),this._updatedSources){var pe=this._updatedSources[se];"reload"===pe?this._reloadSource(se):"clear"===pe&&this._clearSource(se)}for(var ke in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ke].updateTransitions(Z);this.light.updateTransitions(Z),this._resetUpdates()}var Re={};for(var Be in this.sourceCaches){var Ze=this.sourceCaches[Be];Re[Be]=Ze.used,Ze.used=!1}for(var Ke=0,lt=this._order;Ke<lt.length;Ke+=1){var bt=this._layers[lt[Ke]];bt.recalculate(Z,this._availableImages),!bt.isHidden(Z.zoom)&&bt.source&&(this.sourceCaches[bt.source].used=!0)}for(var St in Re){var Ft=this.sourceCaches[St];Re[St]!==Ft.used&&Ft.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:St}))}this.light.recalculate(Z),this.z=Z.zoom,L&&this.fire(new a.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var Z=Object.keys(this._changedImages);if(Z.length){for(var L in this.sourceCaches)this.sourceCaches[L].reloadTilesForDependencies(["icons","patterns"],Z);this._changedImages={}}},X.prototype._updateWorkerLayers=function(Z,L){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(Z),removedIds:L})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(Z){var L=this;if(this._checkLoaded(),er(this,a.validateStyle(Z)))return!1;(Z=a.clone$1(Z)).layers=Ot(Z.layers);var Y=function tn(V,X){if(!V)return[{command:Ct.setStyle,args:[X]}];var Z=[];try{if(!a.deepEqual(V.version,X.version))return[{command:Ct.setStyle,args:[X]}];a.deepEqual(V.center,X.center)||Z.push({command:Ct.setCenter,args:[X.center]}),a.deepEqual(V.zoom,X.zoom)||Z.push({command:Ct.setZoom,args:[X.zoom]}),a.deepEqual(V.bearing,X.bearing)||Z.push({command:Ct.setBearing,args:[X.bearing]}),a.deepEqual(V.pitch,X.pitch)||Z.push({command:Ct.setPitch,args:[X.pitch]}),a.deepEqual(V.sprite,X.sprite)||Z.push({command:Ct.setSprite,args:[X.sprite]}),a.deepEqual(V.glyphs,X.glyphs)||Z.push({command:Ct.setGlyphs,args:[X.glyphs]}),a.deepEqual(V.transition,X.transition)||Z.push({command:Ct.setTransition,args:[X.transition]}),a.deepEqual(V.light,X.light)||Z.push({command:Ct.setLight,args:[X.light]});var L={},Y=[];!function(se,pe,ke,Re){var Be;for(Be in pe=pe||{},se=se||{})se.hasOwnProperty(Be)&&(pe.hasOwnProperty(Be)||Bt(Be,ke,Re));for(Be in pe)pe.hasOwnProperty(Be)&&(se.hasOwnProperty(Be)?a.deepEqual(se[Be],pe[Be])||("geojson"===se[Be].type&&"geojson"===pe[Be].type&&Gt(se,pe,Be)?ke.push({command:Ct.setGeoJSONSourceData,args:[Be,pe[Be].data]}):jt(Be,pe,ke,Re)):Rt(Be,pe,ke))}(V.sources,X.sources,Y,L);var ne=[];V.layers&&V.layers.forEach(function(se){L[se.source]?Z.push({command:Ct.removeLayer,args:[se.id]}):ne.push(se)}),Z=Z.concat(Y),function(se,pe,ke){pe=pe||[];var Re,Be,Ze,Ke,lt,vt,bt,St=(se=se||[]).map(Jt),Ft=pe.map(Jt),It=se.reduce($t,{}),Wt=pe.reduce($t,{}),zt=St.slice(),sn=Object.create(null);for(Re=0,Be=0;Re<St.length;Re++)Wt.hasOwnProperty(Ze=St[Re])?Be++:(ke.push({command:Ct.removeLayer,args:[Ze]}),zt.splice(zt.indexOf(Ze,Be),1));for(Re=0,Be=0;Re<Ft.length;Re++)zt[zt.length-1-Re]!==(Ze=Ft[Ft.length-1-Re])&&(It.hasOwnProperty(Ze)?(ke.push({command:Ct.removeLayer,args:[Ze]}),zt.splice(zt.lastIndexOf(Ze,zt.length-Be),1)):Be++,ke.push({command:Ct.addLayer,args:[Wt[Ze],vt=zt[zt.length-Re]]}),zt.splice(zt.length-Re,0,Ze),sn[Ze]=!0);for(Re=0;Re<Ft.length;Re++)if(Ke=It[Ze=Ft[Re]],lt=Wt[Ze],!sn[Ze]&&!a.deepEqual(Ke,lt))if(a.deepEqual(Ke.source,lt.source)&&a.deepEqual(Ke["source-layer"],lt["source-layer"])&&a.deepEqual(Ke.type,lt.type)){for(bt in on(Ke.layout,lt.layout,ke,Ze,null,Ct.setLayoutProperty),on(Ke.paint,lt.paint,ke,Ze,null,Ct.setPaintProperty),a.deepEqual(Ke.filter,lt.filter)||ke.push({command:Ct.setFilter,args:[Ze,lt.filter]}),a.deepEqual(Ke.minzoom,lt.minzoom)&&a.deepEqual(Ke.maxzoom,lt.maxzoom)||ke.push({command:Ct.setLayerZoomRange,args:[Ze,lt.minzoom,lt.maxzoom]}),Ke)Ke.hasOwnProperty(bt)&&"layout"!==bt&&"paint"!==bt&&"filter"!==bt&&"metadata"!==bt&&"minzoom"!==bt&&"maxzoom"!==bt&&(0===bt.indexOf("paint.")?on(Ke[bt],lt[bt],ke,Ze,bt.slice(6),Ct.setPaintProperty):a.deepEqual(Ke[bt],lt[bt])||ke.push({command:Ct.setLayerProperty,args:[Ze,bt,lt[bt]]}));for(bt in lt)lt.hasOwnProperty(bt)&&!Ke.hasOwnProperty(bt)&&"layout"!==bt&&"paint"!==bt&&"filter"!==bt&&"metadata"!==bt&&"minzoom"!==bt&&"maxzoom"!==bt&&(0===bt.indexOf("paint.")?on(Ke[bt],lt[bt],ke,Ze,bt.slice(6),Ct.setPaintProperty):a.deepEqual(Ke[bt],lt[bt])||ke.push({command:Ct.setLayerProperty,args:[Ze,bt,lt[bt]]}))}else ke.push({command:Ct.removeLayer,args:[Ze]}),vt=zt[zt.lastIndexOf(Ze)+1],ke.push({command:Ct.addLayer,args:[lt,vt]})}(ne,X.layers,Z)}catch(se){console.warn("Unable to compute style diff:",se),Z=[{command:Ct.setStyle,args:[X]}]}return Z}(this.serialize(),Z).filter(function(se){return!(se.command in Qn)});if(0===Y.length)return!1;var ne=Y.filter(function(se){return!(se.command in pr)});if(ne.length>0)throw new Error("Unimplemented: "+ne.map(function(se){return se.command}).join(", ")+".");return Y.forEach(function(se){"setTransition"!==se.command&&L[se.command].apply(L,se.args)}),this.stylesheet=Z,!0},X.prototype.addImage=function(Z,L){if(this.getImage(Z))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(Z,L),this._afterImageUpdated(Z)},X.prototype.updateImage=function(Z,L){this.imageManager.updateImage(Z,L)},X.prototype.getImage=function(Z){return this.imageManager.getImage(Z)},X.prototype.removeImage=function(Z){if(!this.getImage(Z))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(Z),this._afterImageUpdated(Z)},X.prototype._afterImageUpdated=function(Z){this._availableImages=this.imageManager.listImages(),this._changedImages[Z]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(Z,L,Y){var ne=this;if(void 0===Y&&(Y={}),this._checkLoaded(),void 0!==this.sourceCaches[Z])throw new Error("There is already a source with this ID");if(!L.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(L).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(L.type)>=0&&this._validate(a.validateStyle.source,"sources."+Z,L,null,Y))){this.map&&this.map._collectResourceTiming&&(L.collectResourceTiming=!0);var se=this.sourceCaches[Z]=new pt(Z,L,this.dispatcher);se.style=this,se.setEventedParent(this,function(){return{isSourceLoaded:ne.loaded(),source:se.serialize(),sourceId:Z}}),se.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(Z){if(this._checkLoaded(),void 0===this.sourceCaches[Z])throw new Error("There is no source with this ID");for(var L in this._layers)if(this._layers[L].source===Z)return this.fire(new a.ErrorEvent(new Error('Source "'+Z+'" cannot be removed while layer "'+L+'" is using it.')));var Y=this.sourceCaches[Z];delete this.sourceCaches[Z],delete this._updatedSources[Z],Y.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Z})),Y.setEventedParent(null),Y.clearTiles(),Y.onRemove&&Y.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(Z,L){this._checkLoaded(),this.sourceCaches[Z].getSource().setData(L),this._changed=!0},X.prototype.getSource=function(Z){return this.sourceCaches[Z]&&this.sourceCaches[Z].getSource()},X.prototype.addLayer=function(Z,L,Y){void 0===Y&&(Y={}),this._checkLoaded();var ne=Z.id;if(this.getLayer(ne))this.fire(new a.ErrorEvent(new Error('Layer with id "'+ne+'" already exists on this map')));else{var se;if("custom"===Z.type){if(er(this,a.validateCustomStyleLayer(Z)))return;se=a.createStyleLayer(Z)}else{if("object"==typeof Z.source&&(this.addSource(ne,Z.source),Z=a.clone$1(Z),Z=a.extend(Z,{source:ne})),this._validate(a.validateStyle.layer,"layers."+ne,Z,{arrayIndex:-1},Y))return;se=a.createStyleLayer(Z),this._validateLayer(se),se.setEventedParent(this,{layer:{id:ne}}),this._serializedLayers[se.id]=se.serialize()}var pe=L?this._order.indexOf(L):this._order.length;if(L&&-1===pe)this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.')));else{if(this._order.splice(pe,0,ne),this._layerOrderChanged=!0,this._layers[ne]=se,this._removedLayers[ne]&&se.source&&"custom"!==se.type){var ke=this._removedLayers[ne];delete this._removedLayers[ne],ke.type!==se.type?this._updatedSources[se.source]="clear":(this._updatedSources[se.source]="reload",this.sourceCaches[se.source].pause())}this._updateLayer(se),se.onAdd&&se.onAdd(this.map)}}},X.prototype.moveLayer=function(Z,L){if(this._checkLoaded(),this._changed=!0,this._layers[Z]){if(Z!==L){var Y=this._order.indexOf(Z);this._order.splice(Y,1);var ne=L?this._order.indexOf(L):this._order.length;L&&-1===ne?this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.'))):(this._order.splice(ne,0,Z),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+Z+"' does not exist in the map's style and cannot be moved.")))},X.prototype.removeLayer=function(Z){this._checkLoaded();var L=this._layers[Z];if(L){L.setEventedParent(null);var Y=this._order.indexOf(Z);this._order.splice(Y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[Z]=L,delete this._layers[Z],delete this._serializedLayers[Z],delete this._updatedLayers[Z],delete this._updatedPaintProps[Z],L.onRemove&&L.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+Z+"' does not exist in the map's style and cannot be removed.")))},X.prototype.getLayer=function(Z){return this._layers[Z]},X.prototype.hasLayer=function(Z){return Z in this._layers},X.prototype.setLayerZoomRange=function(Z,L,Y){this._checkLoaded();var ne=this.getLayer(Z);ne?ne.minzoom===L&&ne.maxzoom===Y||(null!=L&&(ne.minzoom=L),null!=Y&&(ne.maxzoom=Y),this._updateLayer(ne)):this.fire(new a.ErrorEvent(new Error("The layer '"+Z+"' does not exist in the map's style and cannot have zoom extent.")))},X.prototype.setFilter=function(Z,L,Y){void 0===Y&&(Y={}),this._checkLoaded();var ne=this.getLayer(Z);if(ne){if(!a.deepEqual(ne.filter,L))return null==L?(ne.filter=void 0,void this._updateLayer(ne)):void(this._validate(a.validateStyle.filter,"layers."+ne.id+".filter",L,null,Y)||(ne.filter=a.clone$1(L),this._updateLayer(ne)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+Z+"' does not exist in the map's style and cannot be filtered.")))},X.prototype.getFilter=function(Z){return a.clone$1(this.getLayer(Z).filter)},X.prototype.setLayoutProperty=function(Z,L,Y,ne){void 0===ne&&(ne={}),this._checkLoaded();var se=this.getLayer(Z);se?a.deepEqual(se.getLayoutProperty(L),Y)||(se.setLayoutProperty(L,Y,ne),this._updateLayer(se)):this.fire(new a.ErrorEvent(new Error("The layer '"+Z+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getLayoutProperty=function(Z,L){var Y=this.getLayer(Z);if(Y)return Y.getLayoutProperty(L);this.fire(new a.ErrorEvent(new Error("The layer '"+Z+"' does not exist in the map's style.")))},X.prototype.setPaintProperty=function(Z,L,Y,ne){void 0===ne&&(ne={}),this._checkLoaded();var se=this.getLayer(Z);se?a.deepEqual(se.getPaintProperty(L),Y)||(se.setPaintProperty(L,Y,ne)&&this._updateLayer(se),this._changed=!0,this._updatedPaintProps[Z]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+Z+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getPaintProperty=function(Z,L){return this.getLayer(Z).getPaintProperty(L)},X.prototype.setFeatureState=function(Z,L){this._checkLoaded();var Y=Z.source,ne=Z.sourceLayer,se=this.sourceCaches[Y];if(void 0!==se){var pe=se.getSource().type;"geojson"===pe&&ne?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==pe||ne?(void 0===Z.id&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),se.setFeatureState(ne,Z.id,L)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+Y+"' does not exist in the map's style.")))},X.prototype.removeFeatureState=function(Z,L){this._checkLoaded();var Y=Z.source,ne=this.sourceCaches[Y];if(void 0!==ne){var se=ne.getSource().type,pe="vector"===se?Z.sourceLayer:void 0;"vector"!==se||pe?L&&"string"!=typeof Z.id&&"number"!=typeof Z.id?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):ne.removeFeatureState(pe,Z.id,L):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+Y+"' does not exist in the map's style.")))},X.prototype.getFeatureState=function(Z){this._checkLoaded();var L=Z.source,Y=Z.sourceLayer,ne=this.sourceCaches[L];if(void 0!==ne){if("vector"!==ne.getSource().type||Y)return void 0===Z.id&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ne.getFeatureState(Y,Z.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+L+"' does not exist in the map's style.")))},X.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(Z){return Z.serialize()}),layers:this._serializeLayers(this._order)},function(Z){return void 0!==Z})},X.prototype._updateLayer=function(Z){this._updatedLayers[Z.id]=!0,Z.source&&!this._updatedSources[Z.source]&&"raster"!==this.sourceCaches[Z.source].getSource().type&&(this._updatedSources[Z.source]="reload",this.sourceCaches[Z.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(Z){for(var L=this,Y=function(Bn){return"fill-extrusion"===L._layers[Bn].type},ne={},se=[],pe=this._order.length-1;pe>=0;pe--){var ke=this._order[pe];if(Y(ke)){ne[ke]=pe;for(var Re=0,Be=Z;Re<Be.length;Re+=1){var Ze=Be[Re][ke];if(Ze)for(var Ke=0,lt=Ze;Ke<lt.length;Ke+=1)se.push(lt[Ke])}}}se.sort(function(Bn,Hn){return Hn.intersectionZ-Bn.intersectionZ});for(var bt=[],St=this._order.length-1;St>=0;St--){var Ft=this._order[St];if(Y(Ft))for(var It=se.length-1;It>=0;It--){var Wt=se[It].feature;if(ne[Wt.layer.id]<St)break;bt.push(Wt),se.pop()}else for(var zt=0,sn=Z;zt<sn.length;zt+=1){var en=sn[zt][Ft];if(en)for(var Xt=0,Tn=en;Xt<Tn.length;Xt+=1)bt.push(Tn[Xt].feature)}}return bt},X.prototype.queryRenderedFeatures=function(Z,L,Y){L&&L.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",L.filter,null,L);var ne={};if(L&&L.layers){if(!Array.isArray(L.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var se=0,pe=L.layers;se<pe.length;se+=1){var ke=pe[se],Re=this._layers[ke];if(!Re)return this.fire(new a.ErrorEvent(new Error("The layer '"+ke+"' does not exist in the map's style and cannot be queried for features."))),[];ne[Re.source]=!0}}var Be=[];for(var Ze in L.availableImages=this._availableImages,this.sourceCaches)L.layers&&!ne[Ze]||Be.push(Q(this.sourceCaches[Ze],this._layers,this._serializedLayers,Z,L,Y));return this.placement&&Be.push(function(Ke,lt,vt,bt,St,Ft,It){for(var Wt={},zt=Ft.queryRenderedSymbols(bt),sn=[],en=0,Xt=Object.keys(zt).map(Number);en<Xt.length;en+=1)sn.push(It[Xt[en]]);sn.sort(ee);for(var kn=function(){var Er=Hn[Bn],sr=Er.featureIndex.lookupSymbolFeatures(zt[Er.bucketInstanceId],lt,Er.bucketIndex,Er.sourceLayerIndex,St.filter,St.layers,St.availableImages,Ke);for(var wr in sr){var zr=Wt[wr]=Wt[wr]||[],Gr=sr[wr];Gr.sort(function(Sr,Wr){var Kr=Er.featureSortOrder;if(Kr){var si=Kr.indexOf(Sr.featureIndex);return Kr.indexOf(Wr.featureIndex)-si}return Wr.featureIndex-Sr.featureIndex});for(var mr=0,br=Gr;mr<br.length;mr+=1)zr.push(br[mr])}},Bn=0,Hn=sn;Bn<Hn.length;Bn+=1)kn();var tr=function(Er){Wt[Er].forEach(function(sr){var wr=sr.feature,Gr=vt[Ke[Er].source].getFeatureState(wr.layer["source-layer"],wr.id);wr.source=wr.layer.source,wr.layer["source-layer"]&&(wr.sourceLayer=wr.layer["source-layer"]),wr.state=Gr})};for(var gr in Wt)tr(gr);return Wt}(this._layers,this._serializedLayers,this.sourceCaches,Z,L,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Be)},X.prototype.querySourceFeatures=function(Z,L){L&&L.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",L.filter,null,L);var Y=this.sourceCaches[Z];return Y?function(ne,se){for(var pe=ne.getRenderableIds().map(function(lt){return ne.getTileByID(lt)}),ke=[],Re={},Be=0;Be<pe.length;Be++){var Ze=pe[Be],Ke=Ze.tileID.canonical.key;Re[Ke]||(Re[Ke]=!0,Ze.querySourceFeatures(ke,se))}return ke}(Y,L):[]},X.prototype.addSourceType=function(Z,L,Y){return X.getSourceType(Z)?Y(new Error('A source type called "'+Z+'" already exists.')):(X.setSourceType(Z,L),L.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:Z,url:L.workerSourceURL},Y):Y(null,null))},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(Z,L){void 0===L&&(L={}),this._checkLoaded();var Y=this.light.getLight(),ne=!1;for(var se in Z)if(!a.deepEqual(Z[se],Y[se])){ne=!0;break}if(ne){var pe={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(Z,L),this.light.updateTransitions(pe)}},X.prototype._validate=function(Z,L,Y,ne,se){return void 0===se&&(se={}),(!se||!1!==se.validate)&&er(this,Z.call(a.validateStyle,a.extend({key:L,style:this.serialize(),value:Y,styleSpec:a.styleSpec},ne)))},X.prototype._remove=function(){for(var Z in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[Z].setEventedParent(null);for(var L in this.sourceCaches)this.sourceCaches[L].clearTiles(),this.sourceCaches[L].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(Z){this.sourceCaches[Z].clearTiles()},X.prototype._reloadSource=function(Z){this.sourceCaches[Z].resume(),this.sourceCaches[Z].reload()},X.prototype._updateSources=function(Z){for(var L in this.sourceCaches)this.sourceCaches[L].update(Z)},X.prototype._generateCollisionBoxes=function(){for(var Z in this.sourceCaches)this._reloadSource(Z)},X.prototype._updatePlacement=function(Z,L,Y,ne,se){void 0===se&&(se=!1);for(var pe=!1,ke=!1,Re={},Be=0,Ze=this._order;Be<Ze.length;Be+=1){var lt=this._layers[Ze[Be]];if("symbol"===lt.type){if(!Re[lt.source]){var vt=this.sourceCaches[lt.source];Re[lt.source]=vt.getRenderableIds(!0).map(function(zt){return vt.getTileByID(zt)}).sort(function(zt,sn){return sn.tileID.overscaledZ-zt.tileID.overscaledZ||(zt.tileID.isLessThan(sn.tileID)?-1:1)})}var bt=this.crossTileSymbolIndex.addLayer(lt,Re[lt.source],Z.center.lng);pe=pe||bt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((se=se||this._layerOrderChanged||0===Y)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),Z.zoom))&&(this.pauseablePlacement=new rn(Z,this._order,se,L,Y,ne,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Re),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),ke=!0),pe&&this.pauseablePlacement.placement.setStale()),ke||pe)for(var St=0,Ft=this._order;St<Ft.length;St+=1){var Wt=this._layers[Ft[St]];"symbol"===Wt.type&&this.placement.updateLayerOpacities(Wt,Re[Wt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},X.prototype._releaseSymbolFadeTiles=function(){for(var Z in this.sourceCaches)this.sourceCaches[Z].releaseSymbolFadeTiles()},X.prototype.getImages=function(Z,L,Y){this.imageManager.getImages(L.icons,Y),this._updateTilesForChangedImages();var ne=this.sourceCaches[L.source];ne&&ne.setDependencies(L.tileID.key,L.type,L.icons)},X.prototype.getGlyphs=function(Z,L,Y){this.glyphManager.getGlyphs(L.stacks,Y)},X.prototype.getResource=function(Z,L,Y){return a.makeRequest(L,Y)},X}(a.Evented);vr.getSourceType=function(V){return ae[V]},vr.setSourceType=function(V,X){ae[V]=X},vr.registerForPluginStateChange=a.registerForPluginStateChange;var dr=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Dr=Ri("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),kr=Ri("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Lr=Ri("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),yr=Ri("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Or=Ri("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yr=Ri("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Qr=Ri("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),to=Ri("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Bi=Ri("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),mo=Ri("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ji=Ri("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),co=Ri("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Aa=Ri("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Nr=Ri("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Ro=Ri("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Ua=Ri("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Li=Ri("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ts=Ri("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),vl=Ri("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),gi=Ri("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Ns=Ri("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),zs=Ri("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),ni=Ri("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),La=Ri("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Va=Ri("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),ts=Ri("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Ri(V,X){var Z=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,L=X.match(/attribute ([\w]+) ([\w]+)/g),Y=V.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ne=X.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),se=ne?ne.concat(Y):Y,pe={};return{fragmentSource:V=V.replace(Z,function(ke,Re,Be,Ze,Ke){return pe[Ke]=!0,"define"===Re?"\n#ifndef HAS_UNIFORM_u_"+Ke+"\nvarying "+Be+" "+Ze+" "+Ke+";\n#else\nuniform "+Be+" "+Ze+" u_"+Ke+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+Ke+"\n    "+Be+" "+Ze+" "+Ke+" = u_"+Ke+";\n#endif\n"}),vertexSource:X=X.replace(Z,function(ke,Re,Be,Ze,Ke){var lt="float"===Ze?"vec2":"vec4",vt=Ke.match(/color/)?"color":lt;return pe[Ke]?"define"===Re?"\n#ifndef HAS_UNIFORM_u_"+Ke+"\nuniform lowp float u_"+Ke+"_t;\nattribute "+Be+" "+lt+" a_"+Ke+";\nvarying "+Be+" "+Ze+" "+Ke+";\n#else\nuniform "+Be+" "+Ze+" u_"+Ke+";\n#endif\n":"vec4"===vt?"\n#ifndef HAS_UNIFORM_u_"+Ke+"\n    "+Ke+" = a_"+Ke+";\n#else\n    "+Be+" "+Ze+" "+Ke+" = u_"+Ke+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Ke+"\n    "+Ke+" = unpack_mix_"+vt+"(a_"+Ke+", u_"+Ke+"_t);\n#else\n    "+Be+" "+Ze+" "+Ke+" = u_"+Ke+";\n#endif\n":"define"===Re?"\n#ifndef HAS_UNIFORM_u_"+Ke+"\nuniform lowp float u_"+Ke+"_t;\nattribute "+Be+" "+lt+" a_"+Ke+";\n#else\nuniform "+Be+" "+Ze+" u_"+Ke+";\n#endif\n":"vec4"===vt?"\n#ifndef HAS_UNIFORM_u_"+Ke+"\n    "+Be+" "+Ze+" "+Ke+" = a_"+Ke+";\n#else\n    "+Be+" "+Ze+" "+Ke+" = u_"+Ke+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Ke+"\n    "+Be+" "+Ze+" "+Ke+" = unpack_mix_"+vt+"(a_"+Ke+", u_"+Ke+"_t);\n#else\n    "+Be+" "+Ze+" "+Ke+" = u_"+Ke+";\n#endif\n"}),staticAttributes:L,staticUniforms:se}}var Go=Object.freeze({__proto__:null,prelude:Dr,background:kr,backgroundPattern:Lr,circle:yr,clippingMask:Or,heatmap:Yr,heatmapTexture:Qr,collisionBox:to,collisionCircle:Bi,debug:mo,fill:ji,fillOutline:co,fillOutlinePattern:Aa,fillPattern:Nr,fillExtrusion:Ro,fillExtrusionPattern:Ua,hillshadePrepare:Li,hillshade:Ts,line:vl,lineGradient:gi,linePattern:Ns,lineSDF:zs,raster:ni,symbolIcon:La,symbolSDF:Va,symbolTextAndIcon:ts}),fs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Bs(V){for(var X=[],Z=0;Z<V.length;Z++)if(null!==V[Z]){var L=V[Z].split(" ");X.push(L.pop())}return X}fs.prototype.bind=function(V,X,Z,L,Y,ne,se,pe){this.context=V;for(var ke=this.boundPaintVertexBuffers.length!==L.length,Re=0;!ke&&Re<L.length;Re++)this.boundPaintVertexBuffers[Re]!==L[Re]&&(ke=!0);V.extVertexArrayObject&&this.vao&&this.boundProgram===X&&this.boundLayoutVertexBuffer===Z&&!ke&&this.boundIndexBuffer===Y&&this.boundVertexOffset===ne&&this.boundDynamicVertexBuffer===se&&this.boundDynamicVertexBuffer2===pe?(V.bindVertexArrayOES.set(this.vao),se&&se.bind(),Y&&Y.dynamicDraw&&Y.bind(),pe&&pe.bind()):this.freshBind(X,Z,L,Y,ne,se,pe)},fs.prototype.freshBind=function(V,X,Z,L,Y,ne,se){var pe,ke=V.numAttributes,Re=this.context,Be=Re.gl;if(Re.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Re.extVertexArrayObject.createVertexArrayOES(),Re.bindVertexArrayOES.set(this.vao),pe=0,this.boundProgram=V,this.boundLayoutVertexBuffer=X,this.boundPaintVertexBuffers=Z,this.boundIndexBuffer=L,this.boundVertexOffset=Y,this.boundDynamicVertexBuffer=ne,this.boundDynamicVertexBuffer2=se;else{pe=Re.currentNumAttributes||0;for(var Ze=ke;Ze<pe;Ze++)Be.disableVertexAttribArray(Ze)}X.enableAttributes(Be,V);for(var Ke=0,lt=Z;Ke<lt.length;Ke+=1)lt[Ke].enableAttributes(Be,V);ne&&ne.enableAttributes(Be,V),se&&se.enableAttributes(Be,V),X.bind(),X.setVertexAttribPointers(Be,V,Y);for(var vt=0,bt=Z;vt<bt.length;vt+=1){var St=bt[vt];St.bind(),St.setVertexAttribPointers(Be,V,Y)}ne&&(ne.bind(),ne.setVertexAttribPointers(Be,V,Y)),L&&L.bind(),se&&(se.bind(),se.setVertexAttribPointers(Be,V,Y)),Re.currentNumAttributes=ke},fs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ms=function(V,X,Z,L,Y,ne){var se=V.gl;this.program=se.createProgram();for(var pe=Bs(Z.staticAttributes),ke=L?L.getBinderAttributes():[],Re=pe.concat(ke),Be=Z.staticUniforms?Bs(Z.staticUniforms):[],Ze=L?L.getBinderUniforms():[],Ke=[],lt=0,vt=Be.concat(Ze);lt<vt.length;lt+=1){var bt=vt[lt];Ke.indexOf(bt)<0&&Ke.push(bt)}var St=L?L.defines():[];ne&&St.push("#define OVERDRAW_INSPECTOR;");var Ft=St.concat(Dr.fragmentSource,Z.fragmentSource).join("\n"),It=St.concat(Dr.vertexSource,Z.vertexSource).join("\n"),Wt=se.createShader(se.FRAGMENT_SHADER);if(se.isContextLost())this.failedToCreate=!0;else{se.shaderSource(Wt,Ft),se.compileShader(Wt),se.attachShader(this.program,Wt);var zt=se.createShader(se.VERTEX_SHADER);if(se.isContextLost())this.failedToCreate=!0;else{se.shaderSource(zt,It),se.compileShader(zt),se.attachShader(this.program,zt),this.attributes={};var sn={};this.numAttributes=Re.length;for(var en=0;en<this.numAttributes;en++)Re[en]&&(se.bindAttribLocation(this.program,en,Re[en]),this.attributes[Re[en]]=en);se.linkProgram(this.program),se.deleteShader(zt),se.deleteShader(Wt);for(var Xt=0;Xt<Ke.length;Xt++){var Tn=Ke[Xt];if(Tn&&!sn[Tn]){var kn=se.getUniformLocation(this.program,Tn);kn&&(sn[Tn]=kn)}}this.fixedUniforms=Y(V,sn),this.binderUniforms=L?L.getUniforms(V,sn):[]}}};function yl(V,X,Z){var L=1/cr(Z,1,X.transform.tileZoom),Y=Math.pow(2,Z.tileID.overscaledZ),ne=Z.tileSize*Math.pow(2,X.transform.tileZoom)/Y,se=ne*(Z.tileID.canonical.x+Z.tileID.wrap*Y),pe=ne*Z.tileID.canonical.y;return{u_image:0,u_texsize:Z.imageAtlasTexture.size,u_scale:[L,V.fromScale,V.toScale],u_fade:V.t,u_pixel_coord_upper:[se>>16,pe>>16],u_pixel_coord_lower:[65535&se,65535&pe]}}Ms.prototype.draw=function(V,X,Z,L,Y,ne,se,pe,ke,Re,Be,Ze,Ke,lt,vt,bt){var St,Ft=V.gl;if(!this.failedToCreate){for(var It in V.program.set(this.program),V.setDepthMode(Z),V.setStencilMode(L),V.setColorMode(Y),V.setCullFace(ne),this.fixedUniforms)this.fixedUniforms[It].set(se[It]);lt&&lt.setUniforms(V,this.binderUniforms,Ze,{zoom:Ke});for(var Wt=(St={},St[Ft.LINES]=2,St[Ft.TRIANGLES]=3,St[Ft.LINE_STRIP]=1,St)[X],zt=0,sn=Be.get();zt<sn.length;zt+=1){var en=sn[zt],Xt=en.vaos||(en.vaos={});(Xt[pe]||(Xt[pe]=new fs)).bind(V,this,ke,lt?lt.getPaintVertexBuffers():[],Re,en.vertexOffset,vt,bt),Ft.drawElements(X,en.primitiveLength*Wt,Ft.UNSIGNED_SHORT,en.primitiveOffset*Wt*2)}}};var js=function(V,X,Z,L){var Y=X.style.light,ne=Y.properties.get("position"),se=[ne.x,ne.y,ne.z],pe=a.create$1();"viewport"===Y.properties.get("anchor")&&a.fromRotation(pe,-X.transform.angle),a.transformMat3(se,se,pe);var ke=Y.properties.get("color");return{u_matrix:V,u_lightpos:se,u_lightintensity:Y.properties.get("intensity"),u_lightcolor:[ke.r,ke.g,ke.b],u_vertical_gradient:+Z,u_opacity:L}},xl=function(V,X,Z,L,Y,ne,se){return a.extend(js(V,X,Z,L),yl(ne,X,se),{u_height_factor:-Math.pow(2,Y.overscaledZ)/se.tileSize/8})},Ha=function(V){return{u_matrix:V}},As=function(V,X,Z,L){return a.extend(Ha(V),yl(Z,X,L))},qa=function(V,X){return{u_matrix:V,u_world:X}},xu=function(V,X,Z,L,Y){return a.extend(As(V,X,Z,L),{u_world:Y})},cu=function(V,X,Z,L){var Y,ne,se=V.transform;if("map"===L.paint.get("circle-pitch-alignment")){var pe=cr(Z,1,se.zoom);Y=!0,ne=[pe,pe]}else Y=!1,ne=se.pixelsToGLUnits;return{u_camera_to_center_distance:se.cameraToCenterDistance,u_scale_with_map:+("map"===L.paint.get("circle-pitch-scale")),u_matrix:V.translatePosMatrix(X.posMatrix,Z,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_pitch_with_map:+Y,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:ne}},bl=function(V,X,Z){var L=cr(Z,1,X.zoom),Y=Math.pow(2,X.zoom-Z.tileID.overscaledZ),ne=Z.tileID.overscaleFactor();return{u_matrix:V,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:L,u_extrude_scale:[X.pixelsToGLUnits[0]/(L*Y),X.pixelsToGLUnits[1]/(L*Y)],u_overscale_factor:ne}},bu=function(V,X,Z){return{u_matrix:V,u_inv_matrix:X,u_camera_to_center_distance:Z.cameraToCenterDistance,u_viewport_size:[Z.width,Z.height]}},_l=function(V,X,Z){return void 0===Z&&(Z=1),{u_matrix:V,u_color:X,u_overlay:0,u_overlay_scale:Z}},wl=function(V){return{u_matrix:V}},Us=function(V,X,Z,L){return{u_matrix:V,u_extrude_scale:cr(X,1,Z),u_intensity:L}},Si=function(V,X,Z){var L=V.transform;return{u_matrix:hs(V,X,Z),u_ratio:1/cr(X,1,L.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},Vs=function(V,X,Z,L){return a.extend(Si(V,X,Z),{u_image:0,u_image_height:L})},Hs=function(V,X,Z,L){var Y=V.transform,ne=Tl(X,Y);return{u_matrix:hs(V,X,Z),u_texsize:X.imageAtlasTexture.size,u_ratio:1/cr(X,1,Y.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[ne,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/Y.pixelsToGLUnits[0],1/Y.pixelsToGLUnits[1]]}},qs=function(V,X,Z,L,Y){var se=V.lineAtlas,pe=Tl(X,V.transform),ke="round"===Z.layout.get("line-cap"),Re=se.getDash(L.from,ke),Be=se.getDash(L.to,ke),Ze=Re.width*Y.fromScale,Ke=Be.width*Y.toScale;return a.extend(Si(V,X,Z),{u_patternscale_a:[pe/Ze,-Re.height/2],u_patternscale_b:[pe/Ke,-Be.height/2],u_sdfgamma:se.width/(256*Math.min(Ze,Ke)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Re.y,u_tex_y_b:Be.y,u_mix:Y.t})};function Tl(V,X){return 1/cr(V,1,X.tileZoom)}function hs(V,X,Z){return V.translatePosMatrix(X.tileID.posMatrix,X,Z.paint.get("line-translate"),Z.paint.get("line-translate-anchor"))}var _u=function(V,X,Z,L,Y){return{u_matrix:V,u_tl_parent:X,u_scale_parent:Z,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*Y.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Y.paint.get("raster-brightness-min"),u_brightness_high:Y.paint.get("raster-brightness-max"),u_saturation_factor:(se=Y.paint.get("raster-saturation"),se>0?1-1/(1.001-se):-se),u_contrast_factor:(ne=Y.paint.get("raster-contrast"),ne>0?1/(1-ne):1+ne),u_spin_weights:ga(Y.paint.get("raster-hue-rotate"))};var ne,se};function ga(V){V*=Math.PI/180;var X=Math.sin(V),Z=Math.cos(V);return[(2*Z+1)/3,(-Math.sqrt(3)*X-Z+1)/3,(Math.sqrt(3)*X-Z+1)/3]}var ns,$o=function(V,X,Z,L,Y,ne,se,pe,ke,Re){var Be=Y.transform;return{u_is_size_zoom_constant:+("constant"===V||"source"===V),u_is_size_feature_constant:+("constant"===V||"camera"===V),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:Be.cameraToCenterDistance,u_pitch:Be.pitch/360*2*Math.PI,u_rotate_symbol:+Z,u_aspect_ratio:Be.width/Be.height,u_fade_change:Y.options.fadeDuration?Y.symbolFadeChange:1,u_matrix:ne,u_label_plane_matrix:se,u_coord_matrix:pe,u_is_text:+ke,u_pitch_with_map:+L,u_texsize:Re,u_texture:0}},sa=function(V,X,Z,L,Y,ne,se,pe,ke,Re,Be){var Ze=Y.transform;return a.extend($o(V,X,Z,L,Y,ne,se,pe,ke,Re),{u_gamma_scale:L?Math.cos(Ze._pitch)*Ze.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Be})},Xr=function(V,X,Z,L,Y,ne,se,pe,ke,Re){return a.extend(sa(V,X,Z,L,Y,ne,se,pe,!0,ke,!0),{u_texsize_icon:Re,u_texture_icon:1})},Gs=function(V,X,Z){return{u_matrix:V,u_opacity:X,u_color:Z}},wu=function(V,X,Z,L,Y,ne){return a.extend((pe=ne,Re=Y,Be=(ke=Z).imageManager.getPattern((se=L).from.toString()),Ze=ke.imageManager.getPattern(se.to.toString()),lt=(Ke=ke.imageManager.getPixelSize()).width,vt=Ke.height,bt=Math.pow(2,Re.tileID.overscaledZ),Ft=(St=Re.tileSize*Math.pow(2,ke.transform.tileZoom)/bt)*(Re.tileID.canonical.x+Re.tileID.wrap*bt),It=St*Re.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Be.tl,u_pattern_br_a:Be.br,u_pattern_tl_b:Ze.tl,u_pattern_br_b:Ze.br,u_texsize:[lt,vt],u_mix:pe.t,u_pattern_size_a:Be.displaySize,u_pattern_size_b:Ze.displaySize,u_scale_a:pe.fromScale,u_scale_b:pe.toScale,u_tile_units_to_pixels:1/cr(Re,1,ke.transform.tileZoom),u_pixel_coord_upper:[Ft>>16,It>>16],u_pixel_coord_lower:[65535&Ft,65535&It]}),{u_matrix:V,u_opacity:X});var se,pe,ke,Re,Be,Ze,Ke,lt,vt,bt,St,Ft,It},Fl={fillExtrusion:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_lightpos:new a.Uniform3f(V,X.u_lightpos),u_lightintensity:new a.Uniform1f(V,X.u_lightintensity),u_lightcolor:new a.Uniform3f(V,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(V,X.u_vertical_gradient),u_opacity:new a.Uniform1f(V,X.u_opacity)}},fillExtrusionPattern:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_lightpos:new a.Uniform3f(V,X.u_lightpos),u_lightintensity:new a.Uniform1f(V,X.u_lightintensity),u_lightcolor:new a.Uniform3f(V,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(V,X.u_vertical_gradient),u_height_factor:new a.Uniform1f(V,X.u_height_factor),u_image:new a.Uniform1i(V,X.u_image),u_texsize:new a.Uniform2f(V,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(V,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(V,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(V,X.u_scale),u_fade:new a.Uniform1f(V,X.u_fade),u_opacity:new a.Uniform1f(V,X.u_opacity)}},fill:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix)}},fillPattern:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_image:new a.Uniform1i(V,X.u_image),u_texsize:new a.Uniform2f(V,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(V,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(V,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(V,X.u_scale),u_fade:new a.Uniform1f(V,X.u_fade)}},fillOutline:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_world:new a.Uniform2f(V,X.u_world)}},fillOutlinePattern:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_world:new a.Uniform2f(V,X.u_world),u_image:new a.Uniform1i(V,X.u_image),u_texsize:new a.Uniform2f(V,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(V,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(V,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(V,X.u_scale),u_fade:new a.Uniform1f(V,X.u_fade)}},circle:function(V,X){return{u_camera_to_center_distance:new a.Uniform1f(V,X.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(V,X.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(V,X.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(V,X.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(V,X.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(V,X.u_matrix)}},collisionBox:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_camera_to_center_distance:new a.Uniform1f(V,X.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(V,X.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(V,X.u_extrude_scale),u_overscale_factor:new a.Uniform1f(V,X.u_overscale_factor)}},collisionCircle:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_inv_matrix:new a.UniformMatrix4f(V,X.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(V,X.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(V,X.u_viewport_size)}},debug:function(V,X){return{u_color:new a.UniformColor(V,X.u_color),u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_overlay:new a.Uniform1i(V,X.u_overlay),u_overlay_scale:new a.Uniform1f(V,X.u_overlay_scale)}},clippingMask:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix)}},heatmap:function(V,X){return{u_extrude_scale:new a.Uniform1f(V,X.u_extrude_scale),u_intensity:new a.Uniform1f(V,X.u_intensity),u_matrix:new a.UniformMatrix4f(V,X.u_matrix)}},heatmapTexture:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_world:new a.Uniform2f(V,X.u_world),u_image:new a.Uniform1i(V,X.u_image),u_color_ramp:new a.Uniform1i(V,X.u_color_ramp),u_opacity:new a.Uniform1f(V,X.u_opacity)}},hillshade:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_image:new a.Uniform1i(V,X.u_image),u_latrange:new a.Uniform2f(V,X.u_latrange),u_light:new a.Uniform2f(V,X.u_light),u_shadow:new a.UniformColor(V,X.u_shadow),u_highlight:new a.UniformColor(V,X.u_highlight),u_accent:new a.UniformColor(V,X.u_accent)}},hillshadePrepare:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_image:new a.Uniform1i(V,X.u_image),u_dimension:new a.Uniform2f(V,X.u_dimension),u_zoom:new a.Uniform1f(V,X.u_zoom),u_unpack:new a.Uniform4f(V,X.u_unpack)}},line:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_ratio:new a.Uniform1f(V,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(V,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(V,X.u_units_to_pixels)}},lineGradient:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_ratio:new a.Uniform1f(V,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(V,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(V,X.u_units_to_pixels),u_image:new a.Uniform1i(V,X.u_image),u_image_height:new a.Uniform1f(V,X.u_image_height)}},linePattern:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_texsize:new a.Uniform2f(V,X.u_texsize),u_ratio:new a.Uniform1f(V,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(V,X.u_device_pixel_ratio),u_image:new a.Uniform1i(V,X.u_image),u_units_to_pixels:new a.Uniform2f(V,X.u_units_to_pixels),u_scale:new a.Uniform3f(V,X.u_scale),u_fade:new a.Uniform1f(V,X.u_fade)}},lineSDF:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_ratio:new a.Uniform1f(V,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(V,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(V,X.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(V,X.u_patternscale_a),u_patternscale_b:new a.Uniform2f(V,X.u_patternscale_b),u_sdfgamma:new a.Uniform1f(V,X.u_sdfgamma),u_image:new a.Uniform1i(V,X.u_image),u_tex_y_a:new a.Uniform1f(V,X.u_tex_y_a),u_tex_y_b:new a.Uniform1f(V,X.u_tex_y_b),u_mix:new a.Uniform1f(V,X.u_mix)}},raster:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_tl_parent:new a.Uniform2f(V,X.u_tl_parent),u_scale_parent:new a.Uniform1f(V,X.u_scale_parent),u_buffer_scale:new a.Uniform1f(V,X.u_buffer_scale),u_fade_t:new a.Uniform1f(V,X.u_fade_t),u_opacity:new a.Uniform1f(V,X.u_opacity),u_image0:new a.Uniform1i(V,X.u_image0),u_image1:new a.Uniform1i(V,X.u_image1),u_brightness_low:new a.Uniform1f(V,X.u_brightness_low),u_brightness_high:new a.Uniform1f(V,X.u_brightness_high),u_saturation_factor:new a.Uniform1f(V,X.u_saturation_factor),u_contrast_factor:new a.Uniform1f(V,X.u_contrast_factor),u_spin_weights:new a.Uniform3f(V,X.u_spin_weights)}},symbolIcon:function(V,X){return{u_is_size_zoom_constant:new a.Uniform1i(V,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(V,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(V,X.u_size_t),u_size:new a.Uniform1f(V,X.u_size),u_camera_to_center_distance:new a.Uniform1f(V,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(V,X.u_pitch),u_rotate_symbol:new a.Uniform1i(V,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(V,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(V,X.u_fade_change),u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(V,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(V,X.u_coord_matrix),u_is_text:new a.Uniform1i(V,X.u_is_text),u_pitch_with_map:new a.Uniform1i(V,X.u_pitch_with_map),u_texsize:new a.Uniform2f(V,X.u_texsize),u_texture:new a.Uniform1i(V,X.u_texture)}},symbolSDF:function(V,X){return{u_is_size_zoom_constant:new a.Uniform1i(V,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(V,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(V,X.u_size_t),u_size:new a.Uniform1f(V,X.u_size),u_camera_to_center_distance:new a.Uniform1f(V,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(V,X.u_pitch),u_rotate_symbol:new a.Uniform1i(V,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(V,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(V,X.u_fade_change),u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(V,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(V,X.u_coord_matrix),u_is_text:new a.Uniform1i(V,X.u_is_text),u_pitch_with_map:new a.Uniform1i(V,X.u_pitch_with_map),u_texsize:new a.Uniform2f(V,X.u_texsize),u_texture:new a.Uniform1i(V,X.u_texture),u_gamma_scale:new a.Uniform1f(V,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(V,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(V,X.u_is_halo)}},symbolTextAndIcon:function(V,X){return{u_is_size_zoom_constant:new a.Uniform1i(V,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(V,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(V,X.u_size_t),u_size:new a.Uniform1f(V,X.u_size),u_camera_to_center_distance:new a.Uniform1f(V,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(V,X.u_pitch),u_rotate_symbol:new a.Uniform1i(V,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(V,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(V,X.u_fade_change),u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(V,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(V,X.u_coord_matrix),u_is_text:new a.Uniform1i(V,X.u_is_text),u_pitch_with_map:new a.Uniform1i(V,X.u_pitch_with_map),u_texsize:new a.Uniform2f(V,X.u_texsize),u_texsize_icon:new a.Uniform2f(V,X.u_texsize_icon),u_texture:new a.Uniform1i(V,X.u_texture),u_texture_icon:new a.Uniform1i(V,X.u_texture_icon),u_gamma_scale:new a.Uniform1f(V,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(V,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(V,X.u_is_halo)}},background:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_opacity:new a.Uniform1f(V,X.u_opacity),u_color:new a.UniformColor(V,X.u_color)}},backgroundPattern:function(V,X){return{u_matrix:new a.UniformMatrix4f(V,X.u_matrix),u_opacity:new a.Uniform1f(V,X.u_opacity),u_image:new a.Uniform1i(V,X.u_image),u_pattern_tl_a:new a.Uniform2f(V,X.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(V,X.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(V,X.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(V,X.u_pattern_br_b),u_texsize:new a.Uniform2f(V,X.u_texsize),u_mix:new a.Uniform1f(V,X.u_mix),u_pattern_size_a:new a.Uniform2f(V,X.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(V,X.u_pattern_size_b),u_scale_a:new a.Uniform1f(V,X.u_scale_a),u_scale_b:new a.Uniform1f(V,X.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(V,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(V,X.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(V,X.u_tile_units_to_pixels)}}};function Ml(V,X,Z,L,Y,ne,se){for(var pe=V.context,ke=pe.gl,Re=V.useProgram("collisionBox"),Be=[],Ze=0,Ke=0,lt=0;lt<L.length;lt++){var vt=L[lt],bt=X.getTile(vt),St=bt.getBucket(Z);if(St){var Ft=vt.posMatrix;0===Y[0]&&0===Y[1]||(Ft=V.translatePosMatrix(vt.posMatrix,bt,Y,ne));var It=se?St.textCollisionBox:St.iconCollisionBox,Wt=St.collisionCircleArray;if(Wt.length>0){var zt=a.create(),sn=Ft;a.mul(zt,St.placementInvProjMatrix,V.transform.glCoordMatrix),a.mul(zt,zt,St.placementViewportMatrix),Be.push({circleArray:Wt,circleOffset:Ke,transform:sn,invTransform:zt}),Ke=Ze+=Wt.length/4}It&&Re.draw(pe,ke.LINES,Ht.disabled,Je.disabled,V.colorModeForRenderPass(),Ge.disabled,bl(Ft,V.transform,bt),Z.id,It.layoutVertexBuffer,It.indexBuffer,It.segments,null,V.transform.zoom,null,null,It.collisionVertexBuffer)}}if(se&&Be.length){var en=V.useProgram("collisionCircle"),Xt=new a.StructArrayLayout2f1f2i16;Xt.resize(4*Ze),Xt._trim();for(var Tn=0,kn=0,Bn=Be;kn<Bn.length;kn+=1)for(var Hn=Bn[kn],tr=0;tr<Hn.circleArray.length/4;tr++){var gr=4*tr,Er=Hn.circleArray[gr+0],sr=Hn.circleArray[gr+1],wr=Hn.circleArray[gr+2],zr=Hn.circleArray[gr+3];Xt.emplace(Tn++,Er,sr,wr,zr,0),Xt.emplace(Tn++,Er,sr,wr,zr,1),Xt.emplace(Tn++,Er,sr,wr,zr,2),Xt.emplace(Tn++,Er,sr,wr,zr,3)}(!ns||ns.length<2*Ze)&&(ns=function(Kr){var si=2*Kr,ui=new a.StructArrayLayout3ui6;ui.resize(si),ui._trim();for(var xi=0;xi<si;xi++){var vi=6*xi;ui.uint16[vi+0]=4*xi+0,ui.uint16[vi+1]=4*xi+1,ui.uint16[vi+2]=4*xi+2,ui.uint16[vi+3]=4*xi+2,ui.uint16[vi+4]=4*xi+3,ui.uint16[vi+5]=4*xi+0}return ui}(Ze));for(var Gr=pe.createIndexBuffer(ns,!0),mr=pe.createVertexBuffer(Xt,a.collisionCircleLayout.members,!0),br=0,Ur=Be;br<Ur.length;br+=1){var Sr=Ur[br],Wr=bu(Sr.transform,Sr.invTransform,V.transform);en.draw(pe,ke.TRIANGLES,Ht.disabled,Je.disabled,V.colorModeForRenderPass(),Ge.disabled,Wr,Z.id,mr,Gr,a.SegmentVector.simpleSegment(0,2*Sr.circleOffset,Sr.circleArray.length,Sr.circleArray.length/2),null,V.transform.zoom,null,null,null)}mr.destroy(),Gr.destroy()}}var ks=a.identity(new Float32Array(16));function Yl(V,X,Z,L,Y,ne){var se=a.getAnchorAlignment(V),pe=-(se.horizontalAlign-.5)*X,ke=-(se.verticalAlign-.5)*Z,Re=a.evaluateVariableOffset(V,L);return new a.Point((pe/Y+Re[0])*ne,(ke/Y+Re[1])*ne)}function Zl(V,X,Z,L,Y,ne,se,pe,ke,Re,Be){var Ze=V.text.placedSymbolArray,Ke=V.text.dynamicLayoutVertexArray,lt=V.icon.dynamicLayoutVertexArray,vt={};Ke.clear();for(var bt=0;bt<Ze.length;bt++){var St=Ze.get(bt),It=St.hidden||!St.crossTileID||V.allowVerticalPlacement&&!St.placedOrientation?null:L[St.crossTileID];if(It){var Wt=new a.Point(St.anchorX,St.anchorY),zt=ln(Wt,Z?pe:se),sn=vn(ne.cameraToCenterDistance,zt.signedDistanceFromCamera),en=Y.evaluateSizeForFeature(V.textSizeData,Re,St)*sn/a.ONE_EM;Z&&(en*=V.tilePixelRatio/ke);for(var kn=Yl(It.anchor,It.width,It.height,It.textOffset,It.textBoxScale,en),Bn=Z?ln(Wt.add(kn),se).point:zt.point.add(X?kn.rotate(-ne.angle):kn),Hn=V.allowVerticalPlacement&&St.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,tr=0;tr<St.numGlyphs;tr++)a.addDynamicAttributes(Ke,Bn,Hn);Be&&St.associatedIconIndex>=0&&(vt[St.associatedIconIndex]={shiftedAnchor:Bn,angle:Hn})}else $n(St.numGlyphs,Ke)}if(Be){lt.clear();for(var gr=V.icon.placedSymbolArray,Er=0;Er<gr.length;Er++){var sr=gr.get(Er);if(sr.hidden)$n(sr.numGlyphs,lt);else{var wr=vt[Er];if(wr)for(var zr=0;zr<sr.numGlyphs;zr++)a.addDynamicAttributes(lt,wr.shiftedAnchor,wr.angle);else $n(sr.numGlyphs,lt)}}V.icon.dynamicLayoutVertexBuffer.updateData(lt)}V.text.dynamicLayoutVertexBuffer.updateData(Ke)}function Hu(V,X,Z){return Z.iconsInText&&X?"symbolTextAndIcon":V?"symbolSDF":"symbolIcon"}function Ss(V,X,Z,L,Y,ne,se,pe,ke,Re,Be,Ze){for(var Ke=V.context,lt=Ke.gl,vt=V.transform,bt="map"===pe,St="map"===ke,Ft=bt&&"point"!==Z.layout.get("symbol-placement"),It=bt&&!St&&!Ft,Wt=void 0!==Z.layout.get("symbol-sort-key").constantOr(1),zt=!1,sn=V.depthModeForSublayer(0,Ht.ReadOnly),en=Z.layout.get("text-variable-anchor"),Xt=[],Tn=0,kn=L;Tn<kn.length;Tn+=1){var Bn=kn[Tn],Hn=X.getTile(Bn),tr=Hn.getBucket(Z);if(tr){var gr=Y?tr.text:tr.icon;if(gr&&gr.segments.get().length){var Er=gr.programConfigurations.get(Z.id),sr=Y||tr.sdfIcons,wr=Y?tr.textSizeData:tr.iconSizeData,zr=St||0!==vt.pitch,Gr=V.useProgram(Hu(sr,Y,tr),Er),mr=a.evaluateSizeForZoom(wr,vt.zoom),br=void 0,Ur=[0,0],Sr=void 0,Wr=void 0,Kr=null,si=void 0;if(Y)Sr=Hn.glyphAtlasTexture,Wr=lt.LINEAR,br=Hn.glyphAtlasTexture.size,tr.iconsInText&&(Ur=Hn.imageAtlasTexture.size,Kr=Hn.imageAtlasTexture,si=zr||V.options.rotating||V.options.zooming||"composite"===wr.kind||"camera"===wr.kind?lt.LINEAR:lt.NEAREST);else{var xi=1!==Z.layout.get("icon-size").constantOr(0)||tr.iconsNeedLinear;Sr=Hn.imageAtlasTexture,Wr=sr||V.options.rotating||V.options.zooming||xi||zr?lt.LINEAR:lt.NEAREST,br=Hn.imageAtlasTexture.size}var vi=cr(Hn,1,V.transform.zoom),Ki=zn(Bn.posMatrix,St,bt,V.transform,vi),Ao=Mn(Bn.posMatrix,St,bt,V.transform,vi),ba=en&&tr.hasTextData(),Vo="none"!==Z.layout.get("icon-text-fit")&&ba&&tr.hasIconData();Ft&&_n(tr,Bn.posMatrix,V,Y,Ki,Ao,St,Re);var ia=V.translatePosMatrix(Bn.posMatrix,Hn,ne,se),uo=Ft||Y&&en||Vo?ks:Ki,Ti=V.translatePosMatrix(Ao,Hn,ne,se,!0),yo=sr&&0!==Z.paint.get(Y?"text-halo-width":"icon-halo-width").constantOr(1),_i={program:Gr,buffers:gr,uniformValues:sr?tr.iconsInText?Xr(wr.kind,mr,It,St,V,ia,uo,Ti,br,Ur):sa(wr.kind,mr,It,St,V,ia,uo,Ti,Y,br,!0):$o(wr.kind,mr,It,St,V,ia,uo,Ti,Y,br),atlasTexture:Sr,atlasTextureIcon:Kr,atlasInterpolation:Wr,atlasInterpolationIcon:si,isSDF:sr,hasHalo:yo};if(Wt&&tr.canOverlap){zt=!0;for(var Di=0,fo=gr.segments.get();Di<fo.length;Di+=1){var li=fo[Di];Xt.push({segments:new a.SegmentVector([li]),sortKey:li.sortKey,state:_i})}}else Xt.push({segments:gr.segments,sortKey:0,state:_i})}}}zt&&Xt.sort(function(Is,Ho){return Is.sortKey-Ho.sortKey});for(var Io=0,Qs=Xt;Io<Qs.length;Io+=1){var Jo=Qs[Io],Pi=Jo.state;if(Ke.activeTexture.set(lt.TEXTURE0),Pi.atlasTexture.bind(Pi.atlasInterpolation,lt.CLAMP_TO_EDGE),Pi.atlasTextureIcon&&(Ke.activeTexture.set(lt.TEXTURE1),Pi.atlasTextureIcon&&Pi.atlasTextureIcon.bind(Pi.atlasInterpolationIcon,lt.CLAMP_TO_EDGE)),Pi.isSDF){var nu=Pi.uniformValues;Pi.hasHalo&&(nu.u_is_halo=1,rl(Pi.buffers,Jo.segments,Z,V,Pi.program,sn,Be,Ze,nu)),nu.u_is_halo=0}rl(Pi.buffers,Jo.segments,Z,V,Pi.program,sn,Be,Ze,Pi.uniformValues)}}function rl(V,X,Z,L,Y,ne,se,pe,ke){var Re=L.context;Y.draw(Re,Re.gl.TRIANGLES,ne,se,pe,Ge.disabled,ke,Z.id,V.layoutVertexBuffer,V.indexBuffer,X,Z.paint,L.transform.zoom,V.programConfigurations.get(Z.id),V.dynamicLayoutVertexBuffer,V.opacityVertexBuffer)}function Es(V,X,Z,L,Y,ne,se){var pe,ke,Re,Be,Ze,Ke=V.context.gl,lt=Z.paint.get("fill-pattern"),vt=lt&&lt.constantOr(1),bt=Z.getCrossfadeParameters();se?(ke=vt&&!Z.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",pe=Ke.LINES):(ke=vt?"fillPattern":"fill",pe=Ke.TRIANGLES);for(var St=0,Ft=L;St<Ft.length;St+=1){var It=Ft[St],Wt=X.getTile(It);if(!vt||Wt.patternsLoaded()){var zt=Wt.getBucket(Z);if(zt){var sn=zt.programConfigurations.get(Z.id),en=V.useProgram(ke,sn);vt&&(V.context.activeTexture.set(Ke.TEXTURE0),Wt.imageAtlasTexture.bind(Ke.LINEAR,Ke.CLAMP_TO_EDGE),sn.updatePaintBuffers(bt));var Xt=lt.constantOr(null);if(Xt&&Wt.imageAtlas){var Tn=Wt.imageAtlas,kn=Tn.patternPositions[Xt.to.toString()],Bn=Tn.patternPositions[Xt.from.toString()];kn&&Bn&&sn.setConstantPatternPositions(kn,Bn)}var Hn=V.translatePosMatrix(It.posMatrix,Wt,Z.paint.get("fill-translate"),Z.paint.get("fill-translate-anchor"));if(se){Be=zt.indexBuffer2,Ze=zt.segments2;var tr=[Ke.drawingBufferWidth,Ke.drawingBufferHeight];Re="fillOutlinePattern"===ke&&vt?xu(Hn,V,bt,Wt,tr):qa(Hn,tr)}else Be=zt.indexBuffer,Ze=zt.segments,Re=vt?As(Hn,V,bt,Wt):Ha(Hn);en.draw(V.context,pe,Y,V.stencilModeForClipping(It),ne,Ge.disabled,Re,Z.id,zt.layoutVertexBuffer,Be,Ze,Z.paint,V.transform.zoom,sn)}}}}function ka(V,X,Z,L,Y,ne,se){for(var pe=V.context,ke=pe.gl,Re=Z.paint.get("fill-extrusion-pattern"),Be=Re.constantOr(1),Ze=Z.getCrossfadeParameters(),Ke=Z.paint.get("fill-extrusion-opacity"),lt=0,vt=L;lt<vt.length;lt+=1){var bt=vt[lt],St=X.getTile(bt),Ft=St.getBucket(Z);if(Ft){var It=Ft.programConfigurations.get(Z.id),Wt=V.useProgram(Be?"fillExtrusionPattern":"fillExtrusion",It);Be&&(V.context.activeTexture.set(ke.TEXTURE0),St.imageAtlasTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),It.updatePaintBuffers(Ze));var zt=Re.constantOr(null);if(zt&&St.imageAtlas){var sn=St.imageAtlas,en=sn.patternPositions[zt.to.toString()],Xt=sn.patternPositions[zt.from.toString()];en&&Xt&&It.setConstantPatternPositions(en,Xt)}var Tn=V.translatePosMatrix(bt.posMatrix,St,Z.paint.get("fill-extrusion-translate"),Z.paint.get("fill-extrusion-translate-anchor")),kn=Z.paint.get("fill-extrusion-vertical-gradient"),Bn=Be?xl(Tn,V,kn,Ke,bt,Ze,St):js(Tn,V,kn,Ke);Wt.draw(pe,pe.gl.TRIANGLES,Y,ne,se,Ge.backCCW,Bn,Z.id,Ft.layoutVertexBuffer,Ft.indexBuffer,Ft.segments,Z.paint,V.transform.zoom,It)}}}function Al(V,X,Z,L,Y,ne){var se=V.context,pe=se.gl,ke=X.fbo;if(ke){var Re=V.useProgram("hillshade");se.activeTexture.set(pe.TEXTURE0),pe.bindTexture(pe.TEXTURE_2D,ke.colorAttachment.get());var Be=function(V,X,Z){var L=Z.paint.get("hillshade-shadow-color"),Y=Z.paint.get("hillshade-highlight-color"),ne=Z.paint.get("hillshade-accent-color"),se=Z.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Z.paint.get("hillshade-illumination-anchor")&&(se-=V.transform.angle);var pe,ke,Re,Be=!V.options.moving;return{u_matrix:V.transform.calculatePosMatrix(X.tileID.toUnwrapped(),Be),u_image:0,u_latrange:(pe=X.tileID,ke=Math.pow(2,pe.canonical.z),Re=pe.canonical.y,[new a.MercatorCoordinate(0,Re/ke).toLngLat().lat,new a.MercatorCoordinate(0,(Re+1)/ke).toLngLat().lat]),u_light:[Z.paint.get("hillshade-exaggeration"),se],u_shadow:L,u_highlight:Y,u_accent:ne}}(V,X,Z);Re.draw(se,pe.TRIANGLES,L,Y,ne,Ge.disabled,Be,Z.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}}function Tu(V,X,Z,L,Y,ne){var se=V.context,pe=se.gl,ke=X.dem;if(ke&&ke.data){var Re=ke.dim,Be=ke.stride,Ze=ke.getPixels();if(se.activeTexture.set(pe.TEXTURE1),se.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||V.getTileTexture(Be),X.demTexture){var Ke=X.demTexture;Ke.update(Ze,{premultiply:!1}),Ke.bind(pe.NEAREST,pe.CLAMP_TO_EDGE)}else X.demTexture=new a.Texture(se,Ze,pe.RGBA,{premultiply:!1}),X.demTexture.bind(pe.NEAREST,pe.CLAMP_TO_EDGE);se.activeTexture.set(pe.TEXTURE0);var lt=X.fbo;if(!lt){var vt=new a.Texture(se,{width:Re,height:Re,data:null},pe.RGBA);vt.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),(lt=X.fbo=se.createFramebuffer(Re,Re,!0)).colorAttachment.set(vt.texture)}se.bindFramebuffer.set(lt.framebuffer),se.viewport.set([0,0,Re,Re]),V.useProgram("hillshadePrepare").draw(se,pe.TRIANGLES,L,Y,ne,Ge.disabled,function(V,X){var Z=X.stride,L=a.create();return a.ortho(L,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(L,L,[0,-a.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[Z,Z],u_zoom:V.overscaledZ,u_unpack:X.getUnpackVector()}}(X.tileID,ke),Z.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function Xl(V,X,Z,L,Y){var ne=L.paint.get("raster-fade-duration");if(ne>0){var se=a.browser.now(),pe=(se-V.timeAdded)/ne,ke=X?(se-X.timeAdded)/ne:-1,Re=Z.getSource(),Be=Y.coveringZoomLevel({tileSize:Re.tileSize,roundZoom:Re.roundZoom}),Ze=!X||Math.abs(X.tileID.overscaledZ-Be)>Math.abs(V.tileID.overscaledZ-Be),Ke=Ze&&V.refreshedUponExpiration?1:a.clamp(Ze?pe:1-ke,0,1);return V.refreshedUponExpiration&&pe>=1&&(V.refreshedUponExpiration=!1),X?{opacity:1,mix:1-Ke}:{opacity:Ke,mix:0}}return{opacity:1,mix:0}}var $l=new a.Color(1,0,0,1),Ga=new a.Color(0,1,0,1),fu=new a.Color(0,0,1,1),rs=new a.Color(1,0,1,1),Nl=new a.Color(0,1,1,1);function zl(V,X,Z,L){Sl(V,0,X+Z/2,V.transform.width,Z,L)}function kl(V,X,Z,L){Sl(V,X-Z/2,0,Z,V.transform.height,L)}function Sl(V,X,Z,L,Y,ne){var se=V.context,pe=se.gl;pe.enable(pe.SCISSOR_TEST),pe.scissor(X*a.browser.devicePixelRatio,Z*a.browser.devicePixelRatio,L*a.browser.devicePixelRatio,Y*a.browser.devicePixelRatio),se.clear({color:ne}),pe.disable(pe.SCISSOR_TEST)}function Kl(V,X,Z){var L=V.context,Y=L.gl,ne=Z.posMatrix,se=V.useProgram("debug"),pe=Ht.disabled,ke=Je.disabled,Re=V.colorModeForRenderPass();L.activeTexture.set(Y.TEXTURE0),V.emptyTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),se.draw(L,Y.LINE_STRIP,pe,ke,Re,Ge.disabled,_l(ne,a.Color.red),"$debug",V.debugBuffer,V.tileBorderIndexBuffer,V.debugSegments);var Ze=X.getTileByID(Z.key).latestRawTileData,lt=Math.floor((Ze&&Ze.byteLength||0)/1024),vt=X.getTile(Z).tileSize,bt=512/Math.min(vt,512)*(Z.overscaledZ/V.transform.zoom)*.5,St=Z.canonical.toString();Z.overscaledZ!==Z.canonical.z&&(St+=" => "+Z.overscaledZ),function(Ft,It){Ft.initDebugOverlayCanvas();var Wt=Ft.debugOverlayCanvas,zt=Ft.context.gl,sn=Ft.debugOverlayCanvas.getContext("2d");sn.clearRect(0,0,Wt.width,Wt.height),sn.shadowColor="white",sn.shadowBlur=2,sn.lineWidth=1.5,sn.strokeStyle="white",sn.textBaseline="top",sn.font="bold 36px Open Sans, sans-serif",sn.fillText(It,5,5),sn.strokeText(It,5,5),Ft.debugOverlayTexture.update(Wt),Ft.debugOverlayTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE)}(V,St+" "+lt+"kb"),se.draw(L,Y.TRIANGLES,pe,ke,tt.alphaBlended,Ge.disabled,_l(ne,a.Color.transparent,bt),"$debug",V.debugBuffer,V.quadTriangleIndexBuffer,V.debugSegments)}var Jl={symbol:function(V,X,Z,L,Y){if("translucent"===V.renderPass){var ne=Je.disabled,se=V.colorModeForRenderPass();Z.layout.get("text-variable-anchor")&&function(pe,ke,Re,Be,Ze,Ke,lt){for(var vt=ke.transform,bt="map"===Ze,St="map"===Ke,Ft=0,It=pe;Ft<It.length;Ft+=1){var Wt=It[Ft],zt=Be.getTile(Wt),sn=zt.getBucket(Re);if(sn&&sn.text&&sn.text.segments.get().length){var Xt=a.evaluateSizeForZoom(sn.textSizeData,vt.zoom),Tn=cr(zt,1,ke.transform.zoom),kn=zn(Wt.posMatrix,St,bt,ke.transform,Tn),Bn="none"!==Re.layout.get("icon-text-fit")&&sn.hasIconData();if(Xt){var Hn=Math.pow(2,vt.zoom-zt.tileID.overscaledZ);Zl(sn,bt,St,lt,a.symbolSize,vt,kn,Wt.posMatrix,Hn,Xt,Bn)}}}}(L,V,Z,X,Z.layout.get("text-rotation-alignment"),Z.layout.get("text-pitch-alignment"),Y),0!==Z.paint.get("icon-opacity").constantOr(1)&&Ss(V,X,Z,L,!1,Z.paint.get("icon-translate"),Z.paint.get("icon-translate-anchor"),Z.layout.get("icon-rotation-alignment"),Z.layout.get("icon-pitch-alignment"),Z.layout.get("icon-keep-upright"),ne,se),0!==Z.paint.get("text-opacity").constantOr(1)&&Ss(V,X,Z,L,!0,Z.paint.get("text-translate"),Z.paint.get("text-translate-anchor"),Z.layout.get("text-rotation-alignment"),Z.layout.get("text-pitch-alignment"),Z.layout.get("text-keep-upright"),ne,se),X.map.showCollisionBoxes&&(Ml(V,X,Z,L,Z.paint.get("text-translate"),Z.paint.get("text-translate-anchor"),!0),Ml(V,X,Z,L,Z.paint.get("icon-translate"),Z.paint.get("icon-translate-anchor"),!1))}},circle:function(V,X,Z,L){if("translucent"===V.renderPass){var Y=Z.paint.get("circle-opacity"),ne=Z.paint.get("circle-stroke-width"),se=Z.paint.get("circle-stroke-opacity"),pe=void 0!==Z.layout.get("circle-sort-key").constantOr(1);if(0!==Y.constantOr(1)||0!==ne.constantOr(1)&&0!==se.constantOr(1)){for(var ke=V.context,Re=ke.gl,Be=V.depthModeForSublayer(0,Ht.ReadOnly),Ze=Je.disabled,Ke=V.colorModeForRenderPass(),lt=[],vt=0;vt<L.length;vt++){var bt=L[vt],St=X.getTile(bt),Ft=St.getBucket(Z);if(Ft){var It=Ft.programConfigurations.get(Z.id),Wt={programConfiguration:It,program:V.useProgram("circle",It),layoutVertexBuffer:Ft.layoutVertexBuffer,indexBuffer:Ft.indexBuffer,uniformValues:cu(V,bt,St,Z)};if(pe)for(var zt=0,sn=Ft.segments.get();zt<sn.length;zt+=1){var en=sn[zt];lt.push({segments:new a.SegmentVector([en]),sortKey:en.sortKey,state:Wt})}else lt.push({segments:Ft.segments,sortKey:0,state:Wt})}}pe&&lt.sort(function(zr,Gr){return zr.sortKey-Gr.sortKey});for(var Xt=0,Tn=lt;Xt<Tn.length;Xt+=1){var kn=Tn[Xt],Bn=kn.state;Bn.program.draw(ke,Re.TRIANGLES,Be,Ze,Ke,Ge.disabled,Bn.uniformValues,Z.id,Bn.layoutVertexBuffer,Bn.indexBuffer,kn.segments,Z.paint,V.transform.zoom,Bn.programConfiguration)}}}},heatmap:function(V,X,Z,L){if(0!==Z.paint.get("heatmap-opacity"))if("offscreen"===V.renderPass){var Y=V.context,ne=Y.gl,se=Je.disabled,pe=new tt([ne.ONE,ne.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(bt,St,Ft){var It=bt.gl;bt.activeTexture.set(It.TEXTURE1),bt.viewport.set([0,0,St.width/4,St.height/4]);var sn,en,Xt,Tn,kn,Wt=Ft.heatmapFbo;if(Wt)It.bindTexture(It.TEXTURE_2D,Wt.colorAttachment.get()),bt.bindFramebuffer.set(Wt.framebuffer);else{var zt=It.createTexture();It.bindTexture(It.TEXTURE_2D,zt),It.texParameteri(It.TEXTURE_2D,It.TEXTURE_WRAP_S,It.CLAMP_TO_EDGE),It.texParameteri(It.TEXTURE_2D,It.TEXTURE_WRAP_T,It.CLAMP_TO_EDGE),It.texParameteri(It.TEXTURE_2D,It.TEXTURE_MIN_FILTER,It.LINEAR),It.texParameteri(It.TEXTURE_2D,It.TEXTURE_MAG_FILTER,It.LINEAR),Xt=zt,Tn=Wt=Ft.heatmapFbo=bt.createFramebuffer(St.width/4,St.height/4,!1),(kn=(sn=bt).gl).texImage2D(kn.TEXTURE_2D,0,kn.RGBA,(en=St).width/4,en.height/4,0,kn.RGBA,sn.extRenderToTextureHalfFloat?sn.extTextureHalfFloat.HALF_FLOAT_OES:kn.UNSIGNED_BYTE,null),Tn.colorAttachment.set(Xt)}})(Y,V,Z),Y.clear({color:a.Color.transparent});for(var ke=0;ke<L.length;ke++){var Re=L[ke];if(!X.hasRenderableParent(Re)){var Be=X.getTile(Re),Ze=Be.getBucket(Z);if(Ze){var Ke=Ze.programConfigurations.get(Z.id);V.useProgram("heatmap",Ke).draw(Y,ne.TRIANGLES,Ht.disabled,se,pe,Ge.disabled,Us(Re.posMatrix,Be,V.transform.zoom,Z.paint.get("heatmap-intensity")),Z.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,Z.paint,V.transform.zoom,Ke)}}}Y.viewport.set([0,0,V.width,V.height])}else"translucent"===V.renderPass&&(V.context.setColorMode(V.colorModeForRenderPass()),function(bt,St){var Ft=bt.context,It=Ft.gl,Wt=St.heatmapFbo;if(Wt){Ft.activeTexture.set(It.TEXTURE0),It.bindTexture(It.TEXTURE_2D,Wt.colorAttachment.get()),Ft.activeTexture.set(It.TEXTURE1);var zt=St.colorRampTexture;zt||(zt=St.colorRampTexture=new a.Texture(Ft,St.colorRamp,It.RGBA)),zt.bind(It.LINEAR,It.CLAMP_TO_EDGE),bt.useProgram("heatmapTexture").draw(Ft,It.TRIANGLES,Ht.disabled,Je.disabled,bt.colorModeForRenderPass(),Ge.disabled,function(V,X,Z,L){var Y=a.create();a.ortho(Y,0,V.width,V.height,0,0,1);var ne=V.context.gl;return{u_matrix:Y,u_world:[ne.drawingBufferWidth,ne.drawingBufferHeight],u_image:Z,u_color_ramp:L,u_opacity:X.paint.get("heatmap-opacity")}}(bt,St,0,1),St.id,bt.viewportBuffer,bt.quadTriangleIndexBuffer,bt.viewportSegments,St.paint,bt.transform.zoom)}}(V,Z))},line:function(V,X,Z,L){if("translucent"===V.renderPass){var Y=Z.paint.get("line-opacity"),ne=Z.paint.get("line-width");if(0!==Y.constantOr(1)&&0!==ne.constantOr(1))for(var se=V.depthModeForSublayer(0,Ht.ReadOnly),pe=V.colorModeForRenderPass(),ke=Z.paint.get("line-dasharray"),Re=Z.paint.get("line-pattern"),Be=Re.constantOr(1),Ze=Z.paint.get("line-gradient"),Ke=Z.getCrossfadeParameters(),lt=Be?"linePattern":ke?"lineSDF":Ze?"lineGradient":"line",vt=V.context,bt=vt.gl,St=!0,Ft=0,It=L;Ft<It.length;Ft+=1){var Wt=It[Ft],zt=X.getTile(Wt);if(!Be||zt.patternsLoaded()){var sn=zt.getBucket(Z);if(sn){var en=sn.programConfigurations.get(Z.id),Xt=V.context.program.get(),Tn=V.useProgram(lt,en),kn=St||Tn.program!==Xt,Bn=Re.constantOr(null);if(Bn&&zt.imageAtlas){var Hn=zt.imageAtlas,tr=Hn.patternPositions[Bn.to.toString()],gr=Hn.patternPositions[Bn.from.toString()];tr&&gr&&en.setConstantPatternPositions(tr,gr)}var Er=Be?Hs(V,zt,Z,Ke):ke?qs(V,zt,Z,ke,Ke):Ze?Vs(V,zt,Z,sn.lineClipsArray.length):Si(V,zt,Z);if(Be)vt.activeTexture.set(bt.TEXTURE0),zt.imageAtlasTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE),en.updatePaintBuffers(Ke);else if(ke&&(kn||V.lineAtlas.dirty))vt.activeTexture.set(bt.TEXTURE0),V.lineAtlas.bind(vt);else if(Ze){var sr=sn.gradients[Z.id],wr=sr.texture;if(Z.gradientVersion!==sr.version){var zr=256;if(Z.stepInterpolant){var Gr=X.getSource().maxzoom,mr=Wt.canonical.z===Gr?Math.ceil(1<<V.transform.maxZoom-Wt.canonical.z):1;zr=a.clamp(a.nextPowerOfTwo(sn.maxLineLength/a.EXTENT*1024*mr),256,vt.maxTextureSize)}sr.gradient=a.renderColorRamp({expression:Z.gradientExpression(),evaluationKey:"lineProgress",resolution:zr,image:sr.gradient||void 0,clips:sn.lineClipsArray}),sr.texture?sr.texture.update(sr.gradient):sr.texture=new a.Texture(vt,sr.gradient,bt.RGBA),sr.version=Z.gradientVersion,wr=sr.texture}vt.activeTexture.set(bt.TEXTURE0),wr.bind(Z.stepInterpolant?bt.NEAREST:bt.LINEAR,bt.CLAMP_TO_EDGE)}Tn.draw(vt,bt.TRIANGLES,se,V.stencilModeForClipping(Wt),pe,Ge.disabled,Er,Z.id,sn.layoutVertexBuffer,sn.indexBuffer,sn.segments,Z.paint,V.transform.zoom,en,sn.layoutVertexBuffer2),St=!1}}}}},fill:function(V,X,Z,L){var Y=Z.paint.get("fill-color"),ne=Z.paint.get("fill-opacity");if(0!==ne.constantOr(1)){var se=V.colorModeForRenderPass(),pe=Z.paint.get("fill-pattern"),ke=V.opaquePassEnabledForLayer()&&!pe.constantOr(1)&&1===Y.constantOr(a.Color.transparent).a&&1===ne.constantOr(0)?"opaque":"translucent";if(V.renderPass===ke){var Re=V.depthModeForSublayer(1,"opaque"===V.renderPass?Ht.ReadWrite:Ht.ReadOnly);Es(V,X,Z,L,Re,se,!1)}if("translucent"===V.renderPass&&Z.paint.get("fill-antialias")){var Be=V.depthModeForSublayer(Z.getPaintProperty("fill-outline-color")?2:0,Ht.ReadOnly);Es(V,X,Z,L,Be,se,!0)}}},"fill-extrusion":function(V,X,Z,L){var Y=Z.paint.get("fill-extrusion-opacity");if(0!==Y&&"translucent"===V.renderPass){var ne=new Ht(V.context.gl.LEQUAL,Ht.ReadWrite,V.depthRangeFor3D);if(1!==Y||Z.paint.get("fill-extrusion-pattern").constantOr(1))ka(V,X,Z,L,ne,Je.disabled,tt.disabled),ka(V,X,Z,L,ne,V.stencilModeFor3D(),V.colorModeForRenderPass());else{var se=V.colorModeForRenderPass();ka(V,X,Z,L,ne,Je.disabled,se)}}},hillshade:function(V,X,Z,L){if("offscreen"===V.renderPass||"translucent"===V.renderPass){for(var Y=V.context,ne=V.depthModeForSublayer(0,Ht.ReadOnly),se=V.colorModeForRenderPass(),pe="translucent"===V.renderPass?V.stencilConfigForOverlap(L):[{},L],ke=pe[0],Re=0,Be=pe[1];Re<Be.length;Re+=1){var Ze=Be[Re],Ke=X.getTile(Ze);Ke.needsHillshadePrepare&&"offscreen"===V.renderPass?Tu(V,Ke,Z,ne,Je.disabled,se):"translucent"===V.renderPass&&Al(V,Ke,Z,ne,ke[Ze.overscaledZ],se)}Y.viewport.set([0,0,V.width,V.height])}},raster:function(V,X,Z,L){if("translucent"===V.renderPass&&0!==Z.paint.get("raster-opacity")&&L.length)for(var Y=V.context,ne=Y.gl,se=X.getSource(),pe=V.useProgram("raster"),ke=V.colorModeForRenderPass(),Re=se instanceof j?[{},L]:V.stencilConfigForOverlap(L),Be=Re[0],Ze=Re[1],Ke=Ze[Ze.length-1].overscaledZ,lt=!V.options.moving,vt=0,bt=Ze;vt<bt.length;vt+=1){var St=bt[vt],Ft=V.depthModeForSublayer(St.overscaledZ-Ke,1===Z.paint.get("raster-opacity")?Ht.ReadWrite:Ht.ReadOnly,ne.LESS),It=X.getTile(St),Wt=V.transform.calculatePosMatrix(St.toUnwrapped(),lt);It.registerFadeDuration(Z.paint.get("raster-fade-duration"));var zt=X.findLoadedParent(St,0),sn=Xl(It,zt,X,Z,V.transform),en=void 0,Xt=void 0,Tn="nearest"===Z.paint.get("raster-resampling")?ne.NEAREST:ne.LINEAR;Y.activeTexture.set(ne.TEXTURE0),It.texture.bind(Tn,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST),Y.activeTexture.set(ne.TEXTURE1),zt?(zt.texture.bind(Tn,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST),en=Math.pow(2,zt.tileID.overscaledZ-It.tileID.overscaledZ),Xt=[It.tileID.canonical.x*en%1,It.tileID.canonical.y*en%1]):It.texture.bind(Tn,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST);var kn=_u(Wt,Xt||[0,0],en||1,sn,Z);se instanceof j?pe.draw(Y,ne.TRIANGLES,Ft,Je.disabled,ke,Ge.disabled,kn,Z.id,se.boundsBuffer,V.quadTriangleIndexBuffer,se.boundsSegments):pe.draw(Y,ne.TRIANGLES,Ft,Be[St.overscaledZ],ke,Ge.disabled,kn,Z.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}},background:function(V,X,Z){var L=Z.paint.get("background-color"),Y=Z.paint.get("background-opacity");if(0!==Y){var ne=V.context,se=ne.gl,pe=V.transform,ke=pe.tileSize,Re=Z.paint.get("background-pattern");if(!V.isPatternMissing(Re)){var Be=!Re&&1===L.a&&1===Y&&V.opaquePassEnabledForLayer()?"opaque":"translucent";if(V.renderPass===Be){var Ze=Je.disabled,Ke=V.depthModeForSublayer(0,"opaque"===Be?Ht.ReadWrite:Ht.ReadOnly),lt=V.colorModeForRenderPass(),vt=V.useProgram(Re?"backgroundPattern":"background"),bt=pe.coveringTiles({tileSize:ke});Re&&(ne.activeTexture.set(se.TEXTURE0),V.imageManager.bind(V.context));for(var St=Z.getCrossfadeParameters(),Ft=0,It=bt;Ft<It.length;Ft+=1){var Wt=It[Ft],zt=V.transform.calculatePosMatrix(Wt.toUnwrapped()),sn=Re?wu(zt,Y,V,Re,{tileID:Wt,tileSize:ke},St):Gs(zt,Y,L);vt.draw(ne,se.TRIANGLES,Ke,Ze,lt,Ge.disabled,sn,Z.id,V.tileExtentBuffer,V.quadTriangleIndexBuffer,V.tileExtentSegments)}}}}},debug:function(V,X,Z){for(var L=0;L<Z.length;L++)Kl(V,X,Z[L])},custom:function(V,X,Z){var L=V.context,Y=Z.implementation;if("offscreen"===V.renderPass){var ne=Y.prerender;ne&&(V.setCustomLayerDefaults(),L.setColorMode(V.colorModeForRenderPass()),ne.call(Y,L.gl,V.transform.customLayerMatrix()),L.setDirty(),V.setBaseState())}else if("translucent"===V.renderPass){V.setCustomLayerDefaults(),L.setColorMode(V.colorModeForRenderPass()),L.setStencilMode(Je.disabled);var se="3d"===Y.renderingMode?new Ht(V.context.gl.LEQUAL,Ht.ReadWrite,V.depthRangeFor3D):V.depthModeForSublayer(0,Ht.ReadOnly);L.setDepthMode(se),Y.render(L.gl,V.transform.customLayerMatrix()),L.setDirty(),V.setBaseState(),L.bindFramebuffer.set(null)}}},Ui=function(V,X){this.context=new Qe(V),this.transform=X,this._tileTextures={},this.setup(),this.numSublayers=pt.maxUnderzooming+pt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Xn,this.gpuTimers={}};Ui.prototype.resize=function(V,X){if(this.width=V*a.browser.devicePixelRatio,this.height=X*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var Z=0,L=this.style._order;Z<L.length;Z+=1)this.style._layers[L[Z]].resize()},Ui.prototype.setup=function(){var V=this.context,X=new a.StructArrayLayout2i4;X.emplaceBack(0,0),X.emplaceBack(a.EXTENT,0),X.emplaceBack(0,a.EXTENT),X.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=V.createVertexBuffer(X,dr.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Z=new a.StructArrayLayout2i4;Z.emplaceBack(0,0),Z.emplaceBack(a.EXTENT,0),Z.emplaceBack(0,a.EXTENT),Z.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=V.createVertexBuffer(Z,dr.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var L=new a.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(a.EXTENT,0,a.EXTENT,0),L.emplaceBack(0,a.EXTENT,0,a.EXTENT),L.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=V.createVertexBuffer(L,$.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Y=new a.StructArrayLayout2i4;Y.emplaceBack(0,0),Y.emplaceBack(1,0),Y.emplaceBack(0,1),Y.emplaceBack(1,1),this.viewportBuffer=V.createVertexBuffer(Y,dr.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ne=new a.StructArrayLayout1ui2;ne.emplaceBack(0),ne.emplaceBack(1),ne.emplaceBack(3),ne.emplaceBack(2),ne.emplaceBack(0),this.tileBorderIndexBuffer=V.createIndexBuffer(ne);var se=new a.StructArrayLayout3ui6;se.emplaceBack(0,1,2),se.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=V.createIndexBuffer(se),this.emptyTexture=new a.Texture(V,{width:1,height:1,data:new Uint8Array([0,0,0,0])},V.gl.RGBA);var pe=this.context.gl;this.stencilClearMode=new Je({func:pe.ALWAYS,mask:0},0,255,pe.ZERO,pe.ZERO,pe.ZERO)},Ui.prototype.clearStencil=function(){var V=this.context,X=V.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var Z=a.create();a.ortho(Z,0,this.width,this.height,0,0,1),a.scale(Z,Z,[X.drawingBufferWidth,X.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(V,X.TRIANGLES,Ht.disabled,this.stencilClearMode,tt.disabled,Ge.disabled,wl(Z),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ui.prototype._renderTileClippingMasks=function(V,X){if(this.currentStencilSource!==V.source&&V.isTileClipped()&&X&&X.length){this.currentStencilSource=V.source;var Z=this.context,L=Z.gl;this.nextStencilID+X.length>256&&this.clearStencil(),Z.setColorMode(tt.disabled),Z.setDepthMode(Ht.disabled);var Y=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var ne=0,se=X;ne<se.length;ne+=1){var pe=se[ne],ke=this._tileClippingMaskIDs[pe.key]=this.nextStencilID++;Y.draw(Z,L.TRIANGLES,Ht.disabled,new Je({func:L.ALWAYS,mask:0},ke,255,L.KEEP,L.KEEP,L.REPLACE),tt.disabled,Ge.disabled,wl(pe.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ui.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var V=this.nextStencilID++,X=this.context.gl;return new Je({func:X.NOTEQUAL,mask:255},V,255,X.KEEP,X.KEEP,X.REPLACE)},Ui.prototype.stencilModeForClipping=function(V){var X=this.context.gl;return new Je({func:X.EQUAL,mask:255},this._tileClippingMaskIDs[V.key],0,X.KEEP,X.KEEP,X.REPLACE)},Ui.prototype.stencilConfigForOverlap=function(V){var X,Z=this.context.gl,L=V.sort(function(ke,Re){return Re.overscaledZ-ke.overscaledZ}),Y=L[L.length-1].overscaledZ,ne=L[0].overscaledZ-Y+1;if(ne>1){this.currentStencilSource=void 0,this.nextStencilID+ne>256&&this.clearStencil();for(var se={},pe=0;pe<ne;pe++)se[pe+Y]=new Je({func:Z.GEQUAL,mask:255},pe+this.nextStencilID,255,Z.KEEP,Z.KEEP,Z.REPLACE);return this.nextStencilID+=ne,[se,L]}return[(X={},X[Y]=Je.disabled,X),L]},Ui.prototype.colorModeForRenderPass=function(){var V=this.context.gl;if(this._showOverdrawInspector){var X=.125;return new tt([V.CONSTANT_COLOR,V.ONE],new a.Color(X,X,X,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?tt.unblended:tt.alphaBlended},Ui.prototype.depthModeForSublayer=function(V,X,Z){if(!this.opaquePassEnabledForLayer())return Ht.disabled;var L=1-((1+this.currentLayer)*this.numSublayers+V)*this.depthEpsilon;return new Ht(Z||this.context.gl.LEQUAL,X,[L,L])},Ui.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ui.prototype.render=function(V,X){var Z=this;this.style=V,this.options=X,this.lineAtlas=V.lineAtlas,this.imageManager=V.imageManager,this.glyphManager=V.glyphManager,this.symbolFadeChange=V.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var L=this.style._order,Y=this.style.sourceCaches;for(var ne in Y){var se=Y[ne];se.used&&se.prepare(this.context)}var pe,ke,Re={},Be={},Ze={};for(var Ke in Y){var lt=Y[Ke];Re[Ke]=lt.getVisibleCoordinates(),Be[Ke]=Re[Ke].slice().reverse(),Ze[Ke]=lt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var vt=0;vt<L.length;vt++)if(this.style._layers[L[vt]].is3D()){this.opaquePassCutoff=vt;break}this.renderPass="offscreen";for(var St=0,Ft=L;St<Ft.length;St+=1){var Wt=this.style._layers[Ft[St]];if(Wt.hasOffscreenPass()&&!Wt.isHidden(this.transform.zoom)){var zt=Be[Wt.source];("custom"===Wt.type||zt.length)&&this.renderLayer(this,Y[Wt.source],Wt,zt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:X.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=X.showOverdrawInspector,this.depthRangeFor3D=[0,1-(V._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){var sn=this.style._layers[L[this.currentLayer]],en=Y[sn.source],Xt=Re[sn.source];this._renderTileClippingMasks(sn,Xt),this.renderLayer(this,en,sn,Xt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){var Tn=this.style._layers[L[this.currentLayer]],kn=Y[Tn.source],Bn=("symbol"===Tn.type?Ze:Be)[Tn.source];this._renderTileClippingMasks(Tn,Re[Tn.source]),this.renderLayer(this,kn,Tn,Bn)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Hn){Hn.source&&!Hn.isHidden(Z.transform.zoom)&&(Hn.source!==(ke&&ke.id)&&(ke=Z.style.sourceCaches[Hn.source]),(!pe||pe.getSource().maxzoom<ke.getSource().maxzoom)&&(pe=ke))}),pe&&Jl.debug(this,pe,pe.getVisibleCoordinates())),this.options.showPadding&&function il(V){var X=V.transform.padding;zl(V,V.transform.height-(X.top||0),3,$l),zl(V,X.bottom||0,3,Ga),kl(V,X.left||0,3,fu),kl(V,V.transform.width-(X.right||0),3,rs);var L,Y,ne,se,Z=V.transform.centerPoint;Sl(L=V,(Y=Z.x)-1,(ne=V.transform.height-Z.y)-10,2,20,se=Nl),Sl(L,Y-10,ne-1,20,2,se)}(this),this.context.setDefault()},Ui.prototype.renderLayer=function(V,X,Z,L){Z.isHidden(this.transform.zoom)||("background"===Z.type||"custom"===Z.type||L.length)&&(this.id=Z.id,this.gpuTimingStart(Z),Jl[Z.type](V,X,Z,L,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ui.prototype.gpuTimingStart=function(V){if(this.options.gpuTiming){var X=this.context.extTimerQuery,Z=this.gpuTimers[V.id];Z||(Z=this.gpuTimers[V.id]={calls:0,cpuTime:0,query:X.createQueryEXT()}),Z.calls++,X.beginQueryEXT(X.TIME_ELAPSED_EXT,Z.query)}},Ui.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var V=this.context.extTimerQuery;V.endQueryEXT(V.TIME_ELAPSED_EXT)}},Ui.prototype.collectGpuTimers=function(){var V=this.gpuTimers;return this.gpuTimers={},V},Ui.prototype.queryGpuTimers=function(V){var X={};for(var Z in V){var L=V[Z],Y=this.context.extTimerQuery,ne=Y.getQueryObjectEXT(L.query,Y.QUERY_RESULT_EXT)/1e6;Y.deleteQueryEXT(L.query),X[Z]=ne}return X},Ui.prototype.translatePosMatrix=function(V,X,Z,L,Y){if(!Z[0]&&!Z[1])return V;var ne=Y?"map"===L?this.transform.angle:0:"viewport"===L?-this.transform.angle:0;if(ne){var se=Math.sin(ne),pe=Math.cos(ne);Z=[Z[0]*pe-Z[1]*se,Z[0]*se+Z[1]*pe]}var ke=[Y?Z[0]:cr(X,Z[0],this.transform.zoom),Y?Z[1]:cr(X,Z[1],this.transform.zoom),0],Re=new Float32Array(16);return a.translate(Re,V,ke),Re},Ui.prototype.saveTileTexture=function(V){var X=this._tileTextures[V.size[0]];X?X.push(V):this._tileTextures[V.size[0]]=[V]},Ui.prototype.getTileTexture=function(V){var X=this._tileTextures[V];return X&&X.length>0?X.pop():null},Ui.prototype.isPatternMissing=function(V){if(!V)return!1;if(!V.from||!V.to)return!0;var X=this.imageManager.getPattern(V.from.toString()),Z=this.imageManager.getPattern(V.to.toString());return!X||!Z},Ui.prototype.useProgram=function(V,X){this.cache=this.cache||{};var Z=""+V+(X?X.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[Z]||(this.cache[Z]=new Ms(this.context,V,Go[V],X,Fl[V],this._showOverdrawInspector)),this.cache[Z]},Ui.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ui.prototype.setBaseState=function(){var V=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(V.FUNC_ADD)},Ui.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Ui.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var ol=function(V,X){this.points=V,this.planes=X};ol.fromInvProjectionMatrix=function(V,X,Z){var L=Math.pow(2,Z),Y=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(se){return a.transformMat4([],se,V)}).map(function(se){return a.scale$1([],se,1/se[3]/X*L)}),ne=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(se){var pe=a.sub([],Y[se[0]],Y[se[1]]),ke=a.sub([],Y[se[2]],Y[se[1]]),Re=a.normalize([],a.cross([],pe,ke)),Be=-a.dot(Re,Y[se[1]]);return Re.concat(Be)});return new ol(Y,ne)};var la=function(V,X){this.min=V,this.max=X,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};la.prototype.quadrant=function(V){for(var X=[V%2==0,V<2],Z=a.clone$2(this.min),L=a.clone$2(this.max),Y=0;Y<X.length;Y++)Z[Y]=X[Y]?this.min[Y]:this.center[Y],L[Y]=X[Y]?this.center[Y]:this.max[Y];return L[2]=this.max[2],new la(Z,L)},la.prototype.distanceX=function(V){return Math.max(Math.min(this.max[0],V[0]),this.min[0])-V[0]},la.prototype.distanceY=function(V){return Math.max(Math.min(this.max[1],V[1]),this.min[1])-V[1]},la.prototype.intersects=function(V){for(var X=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],Z=!0,L=0;L<V.planes.length;L++){for(var Y=V.planes[L],ne=0,se=0;se<X.length;se++)ne+=a.dot$1(Y,X[se])>=0;if(0===ne)return 0;ne!==X.length&&(Z=!1)}if(Z)return 2;for(var pe=0;pe<3;pe++){for(var ke=Number.MAX_VALUE,Re=-Number.MAX_VALUE,Be=0;Be<V.points.length;Be++){var Ze=V.points[Be][pe]-this.min[pe];ke=Math.min(ke,Ze),Re=Math.max(Re,Ze)}if(Re<0||ke>this.max[pe]-this.min[pe])return 0}return 1};var Wa=function(V,X,Z,L){if(void 0===V&&(V=0),void 0===X&&(X=0),void 0===Z&&(Z=0),void 0===L&&(L=0),isNaN(V)||V<0||isNaN(X)||X<0||isNaN(Z)||Z<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=V,this.bottom=X,this.left=Z,this.right=L};Wa.prototype.interpolate=function(V,X,Z){return null!=X.top&&null!=V.top&&(this.top=a.number(V.top,X.top,Z)),null!=X.bottom&&null!=V.bottom&&(this.bottom=a.number(V.bottom,X.bottom,Z)),null!=X.left&&null!=V.left&&(this.left=a.number(V.left,X.left,Z)),null!=X.right&&null!=V.right&&(this.right=a.number(V.right,X.right,Z)),this},Wa.prototype.getCenter=function(V,X){var Z=a.clamp((this.left+V-this.right)/2,0,V),L=a.clamp((this.top+X-this.bottom)/2,0,X);return new a.Point(Z,L)},Wa.prototype.equals=function(V){return this.top===V.top&&this.bottom===V.bottom&&this.left===V.left&&this.right===V.right},Wa.prototype.clone=function(){return new Wa(this.top,this.bottom,this.left,this.right)},Wa.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ei=function(V,X,Z,L,Y){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===Y||Y,this._minZoom=V||0,this._maxZoom=X||22,this._minPitch=Z??0,this._maxPitch=L??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Wa,this._posMatrixCache={},this._alignedPosMatrixCache={}},Fi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ei.prototype.clone=function(){var V=new Ei(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return V.tileSize=this.tileSize,V.latRange=this.latRange,V.width=this.width,V.height=this.height,V._center=this._center,V.zoom=this.zoom,V.angle=this.angle,V._fov=this._fov,V._pitch=this._pitch,V._unmodified=this._unmodified,V._edgeInsets=this._edgeInsets.clone(),V._calcMatrices(),V},Fi.minZoom.get=function(){return this._minZoom},Fi.minZoom.set=function(V){this._minZoom!==V&&(this._minZoom=V,this.zoom=Math.max(this.zoom,V))},Fi.maxZoom.get=function(){return this._maxZoom},Fi.maxZoom.set=function(V){this._maxZoom!==V&&(this._maxZoom=V,this.zoom=Math.min(this.zoom,V))},Fi.minPitch.get=function(){return this._minPitch},Fi.minPitch.set=function(V){this._minPitch!==V&&(this._minPitch=V,this.pitch=Math.max(this.pitch,V))},Fi.maxPitch.get=function(){return this._maxPitch},Fi.maxPitch.set=function(V){this._maxPitch!==V&&(this._maxPitch=V,this.pitch=Math.min(this.pitch,V))},Fi.renderWorldCopies.get=function(){return this._renderWorldCopies},Fi.renderWorldCopies.set=function(V){void 0===V?V=!0:null===V&&(V=!1),this._renderWorldCopies=V},Fi.worldSize.get=function(){return this.tileSize*this.scale},Fi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Fi.size.get=function(){return new a.Point(this.width,this.height)},Fi.bearing.get=function(){return-this.angle/Math.PI*180},Fi.bearing.set=function(V){var X=-a.wrap(V,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Fi.pitch.get=function(){return this._pitch/Math.PI*180},Fi.pitch.set=function(V){var X=a.clamp(V,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},Fi.fov.get=function(){return this._fov/Math.PI*180},Fi.fov.set=function(V){V=Math.max(.01,Math.min(60,V)),this._fov!==V&&(this._unmodified=!1,this._fov=V/180*Math.PI,this._calcMatrices())},Fi.zoom.get=function(){return this._zoom},Fi.zoom.set=function(V){var X=Math.min(Math.max(V,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},Fi.center.get=function(){return this._center},Fi.center.set=function(V){V.lat===this._center.lat&&V.lng===this._center.lng||(this._unmodified=!1,this._center=V,this._constrain(),this._calcMatrices())},Fi.padding.get=function(){return this._edgeInsets.toJSON()},Fi.padding.set=function(V){this._edgeInsets.equals(V)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,V,1),this._calcMatrices())},Fi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ei.prototype.isPaddingEqual=function(V){return this._edgeInsets.equals(V)},Ei.prototype.interpolatePadding=function(V,X,Z){this._unmodified=!1,this._edgeInsets.interpolate(V,X,Z),this._constrain(),this._calcMatrices()},Ei.prototype.coveringZoomLevel=function(V){var X=(V.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/V.tileSize));return Math.max(0,X)},Ei.prototype.getVisibleUnwrappedCoordinates=function(V){var X=[new a.UnwrappedTileID(0,V)];if(this._renderWorldCopies)for(var Z=this.pointCoordinate(new a.Point(0,0)),L=this.pointCoordinate(new a.Point(this.width,0)),Y=this.pointCoordinate(new a.Point(this.width,this.height)),ne=this.pointCoordinate(new a.Point(0,this.height)),se=Math.floor(Math.min(Z.x,L.x,Y.x,ne.x)),pe=Math.floor(Math.max(Z.x,L.x,Y.x,ne.x)),ke=se-1;ke<=pe+1;ke++)0!==ke&&X.push(new a.UnwrappedTileID(ke,V));return X},Ei.prototype.coveringTiles=function(V){var X=this.coveringZoomLevel(V),Z=X;if(void 0!==V.minzoom&&X<V.minzoom)return[];void 0!==V.maxzoom&&X>V.maxzoom&&(X=V.maxzoom);var L=a.MercatorCoordinate.fromLngLat(this.center),Y=Math.pow(2,X),ne=[Y*L.x,Y*L.y,0],se=ol.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,X),pe=V.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(pe=X);var ke=function(Bn){return{aabb:new la([Bn*Y,0,0],[(Bn+1)*Y,Y,0]),zoom:0,x:0,y:0,wrap:Bn,fullyVisible:!1}},Re=[],Be=[],Ze=X,Ke=V.reparseOverscaled?Z:X;if(this._renderWorldCopies)for(var lt=1;lt<=3;lt++)Re.push(ke(-lt)),Re.push(ke(lt));for(Re.push(ke(0));Re.length>0;){var vt=Re.pop(),bt=vt.x,St=vt.y,Ft=vt.fullyVisible;if(!Ft){var It=vt.aabb.intersects(se);if(0===It)continue;Ft=2===It}var Wt=vt.aabb.distanceX(ne),zt=vt.aabb.distanceY(ne),sn=Math.max(Math.abs(Wt),Math.abs(zt));if(vt.zoom===Ze||sn>3+(1<<Ze-vt.zoom)-2&&vt.zoom>=pe)Be.push({tileID:new a.OverscaledTileID(vt.zoom===Ze?Ke:vt.zoom,vt.wrap,vt.zoom,bt,St),distanceSq:a.sqrLen([ne[0]-.5-bt,ne[1]-.5-St])});else for(var Xt=0;Xt<4;Xt++){var Tn=(bt<<1)+Xt%2,kn=(St<<1)+(Xt>>1);Re.push({aabb:vt.aabb.quadrant(Xt),zoom:vt.zoom+1,x:Tn,y:kn,wrap:vt.wrap,fullyVisible:Ft})}}return Be.sort(function(Bn,Hn){return Bn.distanceSq-Hn.distanceSq}).map(function(Bn){return Bn.tileID})},Ei.prototype.resize=function(V,X){this.width=V,this.height=X,this.pixelsToGLUnits=[2/V,-2/X],this._constrain(),this._calcMatrices()},Fi.unmodified.get=function(){return this._unmodified},Ei.prototype.zoomScale=function(V){return Math.pow(2,V)},Ei.prototype.scaleZoom=function(V){return Math.log(V)/Math.LN2},Ei.prototype.project=function(V){var X=a.clamp(V.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(V.lng)*this.worldSize,a.mercatorYfromLat(X)*this.worldSize)},Ei.prototype.unproject=function(V){return new a.MercatorCoordinate(V.x/this.worldSize,V.y/this.worldSize).toLngLat()},Fi.point.get=function(){return this.project(this.center)},Ei.prototype.setLocationAtPoint=function(V,X){var Z=this.pointCoordinate(X),L=this.pointCoordinate(this.centerPoint),Y=this.locationCoordinate(V),ne=new a.MercatorCoordinate(Y.x-(Z.x-L.x),Y.y-(Z.y-L.y));this.center=this.coordinateLocation(ne),this._renderWorldCopies&&(this.center=this.center.wrap())},Ei.prototype.locationPoint=function(V){return this.coordinatePoint(this.locationCoordinate(V))},Ei.prototype.pointLocation=function(V){return this.coordinateLocation(this.pointCoordinate(V))},Ei.prototype.locationCoordinate=function(V){return a.MercatorCoordinate.fromLngLat(V)},Ei.prototype.coordinateLocation=function(V){return V.toLngLat()},Ei.prototype.pointCoordinate=function(V){var X=[V.x,V.y,0,1],Z=[V.x,V.y,1,1];a.transformMat4(X,X,this.pixelMatrixInverse),a.transformMat4(Z,Z,this.pixelMatrixInverse);var L=X[3],Y=Z[3],pe=X[1]/L,ke=Z[1]/Y,Re=X[2]/L,Be=Z[2]/Y,Ze=Re===Be?0:(0-Re)/(Be-Re);return new a.MercatorCoordinate(a.number(X[0]/L,Z[0]/Y,Ze)/this.worldSize,a.number(pe,ke,Ze)/this.worldSize)},Ei.prototype.coordinatePoint=function(V){var X=[V.x*this.worldSize,V.y*this.worldSize,0,1];return a.transformMat4(X,X,this.pixelMatrix),new a.Point(X[0]/X[3],X[1]/X[3])},Ei.prototype.getBounds=function(){return(new a.LngLatBounds).extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Ei.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ei.prototype.setMaxBounds=function(V){V?(this.lngRange=[V.getWest(),V.getEast()],this.latRange=[V.getSouth(),V.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ei.prototype.calculatePosMatrix=function(V,X){void 0===X&&(X=!1);var Z=V.key,L=X?this._alignedPosMatrixCache:this._posMatrixCache;if(L[Z])return L[Z];var Y=V.canonical,ne=this.worldSize/this.zoomScale(Y.z),se=Y.x+Math.pow(2,Y.z)*V.wrap,pe=a.identity(new Float64Array(16));return a.translate(pe,pe,[se*ne,Y.y*ne,0]),a.scale(pe,pe,[ne/a.EXTENT,ne/a.EXTENT,1]),a.multiply(pe,X?this.alignedProjMatrix:this.projMatrix,pe),L[Z]=new Float32Array(pe),L[Z]},Ei.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ei.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var V,X,Z,L,Y=-90,ne=90,se=-180,pe=180,ke=this.size,Re=this._unmodified;if(this.latRange){var Be=this.latRange;Y=a.mercatorYfromLat(Be[1])*this.worldSize,V=(ne=a.mercatorYfromLat(Be[0])*this.worldSize)-Y<ke.y?ke.y/(ne-Y):0}if(this.lngRange){var Ze=this.lngRange;se=a.mercatorXfromLng(Ze[0])*this.worldSize,X=(pe=a.mercatorXfromLng(Ze[1])*this.worldSize)-se<ke.x?ke.x/(pe-se):0}var Ke=this.point,lt=Math.max(X||0,V||0);if(lt)return this.center=this.unproject(new a.Point(X?(pe+se)/2:Ke.x,V?(ne+Y)/2:Ke.y)),this.zoom+=this.scaleZoom(lt),this._unmodified=Re,void(this._constraining=!1);if(this.latRange){var vt=Ke.y,bt=ke.y/2;vt-bt<Y&&(L=Y+bt),vt+bt>ne&&(L=ne-bt)}if(this.lngRange){var St=Ke.x,Ft=ke.x/2;St-Ft<se&&(Z=se+Ft),St+Ft>pe&&(Z=pe-Ft)}void 0===Z&&void 0===L||(this.center=this.unproject(new a.Point(void 0!==Z?Z:Ke.x,void 0!==L?L:Ke.y))),this._unmodified=Re,this._constraining=!1}},Ei.prototype._calcMatrices=function(){if(this.height){var X=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var Z=Math.PI/2+this._pitch,L=this._fov*(.5+X.y/this.height),Y=Math.sin(L)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-Z-L,.01,Math.PI-.01)),ne=this.point,se=ne.x,pe=ne.y,ke=1.01*(Math.cos(Math.PI/2-this._pitch)*Y+this.cameraToCenterDistance),Re=this.height/50,Be=new Float64Array(16);a.perspective(Be,this._fov,this.width/this.height,Re,ke),Be[8]=2*-X.x/this.width,Be[9]=2*X.y/this.height,a.scale(Be,Be,[1,-1,1]),a.translate(Be,Be,[0,0,-this.cameraToCenterDistance]),a.rotateX(Be,Be,this._pitch),a.rotateZ(Be,Be,this.angle),a.translate(Be,Be,[-se,-pe,0]),this.mercatorMatrix=a.scale([],Be,[this.worldSize,this.worldSize,this.worldSize]),a.scale(Be,Be,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Be,this.invProjMatrix=a.invert([],this.projMatrix);var Ze=this.width%2/2,Ke=this.height%2/2,lt=Math.cos(this.angle),vt=Math.sin(this.angle),bt=se-Math.round(se)+lt*Ze+vt*Ke,St=pe-Math.round(pe)+lt*Ke+vt*Ze,Ft=new Float64Array(Be);if(a.translate(Ft,Ft,[bt>.5?bt-1:bt,St>.5?St-1:St,0]),this.alignedProjMatrix=Ft,Be=a.create(),a.scale(Be,Be,[this.width/2,-this.height/2,1]),a.translate(Be,Be,[1,-1,0]),this.labelPlaneMatrix=Be,Be=a.create(),a.scale(Be,Be,[1,-1,1]),a.translate(Be,Be,[-1,-1,0]),a.scale(Be,Be,[2/this.width,2/this.height,1]),this.glCoordMatrix=Be,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Be=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Be,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ei.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var V=this.pointCoordinate(new a.Point(0,0)),X=[V.x*this.worldSize,V.y*this.worldSize,0,1];return a.transformMat4(X,X,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ei.prototype.getCameraPoint=function(){var X=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,X))},Ei.prototype.getCameraQueryGeometry=function(V){var X=this.getCameraPoint();if(1===V.length)return[V[0],X];for(var Z=X.x,L=X.y,Y=X.x,ne=X.y,se=0,pe=V;se<pe.length;se+=1){var ke=pe[se];Z=Math.min(Z,ke.x),L=Math.min(L,ke.y),Y=Math.max(Y,ke.x),ne=Math.max(ne,ke.y)}return[new a.Point(Z,L),new a.Point(Y,L),new a.Point(Y,ne),new a.Point(Z,ne),new a.Point(Z,L)]},Object.defineProperties(Ei.prototype,Fi);var Ya=function(V){var X,L,Y,ne;this._hashName=V&&encodeURIComponent(V),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(X=this._updateHashUnthrottled.bind(this),300,L=!1,Y=null,ne=function(){Y=null,L&&(X(),Y=setTimeout(ne,300),L=!1)},function(){return L=!0,Y||ne(),Y})};Ya.prototype.addTo=function(V){return this._map=V,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ya.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ya.prototype.getHashString=function(V){var X=this._map.getCenter(),Z=Math.round(100*this._map.getZoom())/100,L=Math.ceil((Z*Math.LN2+Math.log(512/360/.5))/Math.LN10),Y=Math.pow(10,L),ne=Math.round(X.lng*Y)/Y,se=Math.round(X.lat*Y)/Y,pe=this._map.getBearing(),ke=this._map.getPitch(),Re="";if(Re+=V?"/"+ne+"/"+se+"/"+Z:Z+"/"+se+"/"+ne,(pe||ke)&&(Re+="/"+Math.round(10*pe)/10),ke&&(Re+="/"+Math.round(ke)),this._hashName){var Be=this._hashName,Ze=!1,Ke=a.window.location.hash.slice(1).split("&").map(function(lt){var vt=lt.split("=")[0];return vt===Be?(Ze=!0,vt+"="+Re):lt}).filter(function(lt){return lt});return Ze||Ke.push(Be+"="+Re),"#"+Ke.join("&")}return"#"+Re},Ya.prototype._getCurrentHash=function(){var V,X=this,Z=a.window.location.hash.replace("#","");return this._hashName?(Z.split("&").map(function(L){return L.split("=")}).forEach(function(L){L[0]===X._hashName&&(V=L)}),(V&&V[1]||"").split("/")):Z.split("/")},Ya.prototype._onHashChange=function(){var V=this._getCurrentHash();if(V.length>=3&&!V.some(function(Z){return isNaN(Z)})){var X=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(V[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+V[2],+V[1]],zoom:+V[0],bearing:X,pitch:+(V[4]||0)}),!0}return!1},Ya.prototype._updateHashUnthrottled=function(){var V=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,V)}catch{}};var Za={linearity:.3,easing:a.bezier(0,0,.3,1)},Ql=a.extend({deceleration:2500,maxSpeed:1400},Za),eu=a.extend({deceleration:20,maxSpeed:1400},Za),ma=a.extend({deceleration:1e3,maxSpeed:360},Za),ra=a.extend({deceleration:1e3,maxSpeed:90},Za),fi=function(V){this._map=V,this.clear()};function To(V,X){(!V.duration||V.duration<X.duration)&&(V.duration=X.duration,V.easing=X.easing)}function Fo(V,X,Z){var L=Z.maxSpeed,Y=Z.linearity,ne=Z.deceleration,se=a.clamp(V*Y/(X/1e3),-L,L),pe=Math.abs(se)/(ne*Y);return{easing:Z.easing,duration:1e3*pe,amount:se*(pe/2)}}fi.prototype.clear=function(){this._inertiaBuffer=[]},fi.prototype.record=function(V){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:V})},fi.prototype._drainInertiaBuffer=function(){for(var V=this._inertiaBuffer,X=a.browser.now();V.length>0&&X-V[0].time>160;)V.shift()},fi.prototype._onMoveEnd=function(V){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var X={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},Z=0,L=this._inertiaBuffer;Z<L.length;Z+=1){var Y=L[Z].settings;X.zoom+=Y.zoomDelta||0,X.bearing+=Y.bearingDelta||0,X.pitch+=Y.pitchDelta||0,Y.panDelta&&X.pan._add(Y.panDelta),Y.around&&(X.around=Y.around),Y.pinchAround&&(X.pinchAround=Y.pinchAround)}var ne=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,se={};if(X.pan.mag()){var pe=Fo(X.pan.mag(),ne,a.extend({},Ql,V||{}));se.offset=X.pan.mult(pe.amount/X.pan.mag()),se.center=this._map.transform.center,To(se,pe)}if(X.zoom){var ke=Fo(X.zoom,ne,eu);se.zoom=this._map.transform.zoom+ke.amount,To(se,ke)}if(X.bearing){var Re=Fo(X.bearing,ne,ma);se.bearing=this._map.transform.bearing+a.clamp(Re.amount,-179,179),To(se,Re)}if(X.pitch){var Be=Fo(X.pitch,ne,ra);se.pitch=this._map.transform.pitch+Be.amount,To(se,Be)}if(se.zoom||se.bearing){var Ze=void 0===X.pinchAround?X.around:X.pinchAround;se.around=Ze?this._map.unproject(Ze):this._map.getCenter()}return this.clear(),a.extend(se,{noMoveStart:!0})}};var Wo=function(V){function X(L,Y,ne,se){void 0===se&&(se={});var pe=_.mousePos(Y.getCanvasContainer(),ne),ke=Y.unproject(pe);V.call(this,L,a.extend({point:pe,lngLat:ke,originalEvent:ne},se)),this._defaultPrevented=!1,this.target=Y}V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X;var Z={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},Z.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,Z),X}(a.Event),ua=function(V){function X(L,Y,ne){var se="touchend"===L?ne.changedTouches:ne.touches,pe=_.touchPos(Y.getCanvasContainer(),se),ke=pe.map(function(Ze){return Y.unproject(Ze)}),Re=pe.reduce(function(Ze,Ke,lt,vt){return Ze.add(Ke.div(vt.length))},new a.Point(0,0)),Be=Y.unproject(Re);V.call(this,L,{points:pe,point:Re,lngLats:ke,lngLat:Be,originalEvent:ne}),this._defaultPrevented=!1}V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X;var Z={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},Z.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,Z),X}(a.Event),Xa=function(V){function X(L,Y,ne){V.call(this,L,{originalEvent:ne}),this._defaultPrevented=!1}V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X;var Z={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},Z.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,Z),X}(a.Event),jo=function(V,X){this._map=V,this._clickTolerance=X.clickTolerance};jo.prototype.reset=function(){delete this._mousedownPos},jo.prototype.wheel=function(V){return this._firePreventable(new Xa(V.type,this._map,V))},jo.prototype.mousedown=function(V,X){return this._mousedownPos=X,this._firePreventable(new Wo(V.type,this._map,V))},jo.prototype.mouseup=function(V){this._map.fire(new Wo(V.type,this._map,V))},jo.prototype.click=function(V,X){this._mousedownPos&&this._mousedownPos.dist(X)>=this._clickTolerance||this._map.fire(new Wo(V.type,this._map,V))},jo.prototype.dblclick=function(V){return this._firePreventable(new Wo(V.type,this._map,V))},jo.prototype.mouseover=function(V){this._map.fire(new Wo(V.type,this._map,V))},jo.prototype.mouseout=function(V){this._map.fire(new Wo(V.type,this._map,V))},jo.prototype.touchstart=function(V){return this._firePreventable(new ua(V.type,this._map,V))},jo.prototype.touchmove=function(V){this._map.fire(new ua(V.type,this._map,V))},jo.prototype.touchend=function(V){this._map.fire(new ua(V.type,this._map,V))},jo.prototype.touchcancel=function(V){this._map.fire(new ua(V.type,this._map,V))},jo.prototype._firePreventable=function(V){if(this._map.fire(V),V.defaultPrevented)return{}},jo.prototype.isEnabled=function(){return!0},jo.prototype.isActive=function(){return!1},jo.prototype.enable=function(){},jo.prototype.disable=function(){};var No=function(V){this._map=V};No.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},No.prototype.mousemove=function(V){this._map.fire(new Wo(V.type,this._map,V))},No.prototype.mousedown=function(){this._delayContextMenu=!0},No.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Wo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},No.prototype.contextmenu=function(V){this._delayContextMenu?this._contextMenuEvent=V:this._map.fire(new Wo(V.type,this._map,V)),this._map.listens("contextmenu")&&V.preventDefault()},No.prototype.isEnabled=function(){return!0},No.prototype.isActive=function(){return!1},No.prototype.enable=function(){},No.prototype.disable=function(){};var Xi=function(V,X){this._map=V,this._el=V.getCanvasContainer(),this._container=V.getContainer(),this._clickTolerance=X.clickTolerance||1};function Ko(V,X){for(var Z={},L=0;L<V.length;L++)Z[V[L].identifier]=X[L];return Z}Xi.prototype.isEnabled=function(){return!!this._enabled},Xi.prototype.isActive=function(){return!!this._active},Xi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Xi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Xi.prototype.mousedown=function(V,X){this.isEnabled()&&V.shiftKey&&0===V.button&&(_.disableDrag(),this._startPos=this._lastPos=X,this._active=!0)},Xi.prototype.mousemoveWindow=function(V,X){if(this._active){var Z=X;if(!(this._lastPos.equals(Z)||!this._box&&Z.dist(this._startPos)<this._clickTolerance)){var L=this._startPos;this._lastPos=Z,this._box||(this._box=_.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",V));var Y=Math.min(L.x,Z.x),ne=Math.max(L.x,Z.x),se=Math.min(L.y,Z.y),pe=Math.max(L.y,Z.y);_.setTransform(this._box,"translate("+Y+"px,"+se+"px)"),this._box.style.width=ne-Y+"px",this._box.style.height=pe-se+"px"}}},Xi.prototype.mouseupWindow=function(V,X){var Z=this;if(this._active&&0===V.button){var L=this._startPos,Y=X;if(this.reset(),_.suppressClick(),L.x!==Y.x||L.y!==Y.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:V})),{cameraAnimation:function(ne){return ne.fitScreenCoordinates(L,Y,Z._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",V)}},Xi.prototype.keydown=function(V){this._active&&27===V.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",V))},Xi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(_.remove(this._box),this._box=null),_.enableDrag(),delete this._startPos,delete this._lastPos},Xi.prototype._fireEvent=function(V,X){return this._map.fire(new a.Event(V,{originalEvent:X}))};var Vi=function(V){this.reset(),this.numTouches=V.numTouches};Vi.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Vi.prototype.touchstart=function(V,X,Z){(this.centroid||Z.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=V.timeStamp),Z.length===this.numTouches&&(this.centroid=function(L){for(var Y=new a.Point(0,0),ne=0,se=L;ne<se.length;ne+=1)Y._add(se[ne]);return Y.div(L.length)}(X),this.touches=Ko(Z,X)))},Vi.prototype.touchmove=function(V,X,Z){if(!this.aborted&&this.centroid){var L=Ko(Z,X);for(var Y in this.touches){var se=L[Y];(!se||se.dist(this.touches[Y])>30)&&(this.aborted=!0)}}},Vi.prototype.touchend=function(V,X,Z){if((!this.centroid||V.timeStamp-this.startTime>500)&&(this.aborted=!0),0===Z.length){var L=!this.aborted&&this.centroid;if(this.reset(),L)return L}};var jr=function(V){this.singleTap=new Vi(V),this.numTaps=V.numTaps,this.reset()};jr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},jr.prototype.touchstart=function(V,X,Z){this.singleTap.touchstart(V,X,Z)},jr.prototype.touchmove=function(V,X,Z){this.singleTap.touchmove(V,X,Z)},jr.prototype.touchend=function(V,X,Z){var L=this.singleTap.touchend(V,X,Z);if(L){var Y=V.timeStamp-this.lastTime<500,ne=!this.lastTap||this.lastTap.dist(L)<30;if(Y&&ne||this.reset(),this.count++,this.lastTime=V.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}};var ri=function(){this._zoomIn=new jr({numTouches:1,numTaps:2}),this._zoomOut=new jr({numTouches:2,numTaps:1}),this.reset()};ri.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},ri.prototype.touchstart=function(V,X,Z){this._zoomIn.touchstart(V,X,Z),this._zoomOut.touchstart(V,X,Z)},ri.prototype.touchmove=function(V,X,Z){this._zoomIn.touchmove(V,X,Z),this._zoomOut.touchmove(V,X,Z)},ri.prototype.touchend=function(V,X,Z){var L=this,Y=this._zoomIn.touchend(V,X,Z),ne=this._zoomOut.touchend(V,X,Z);return Y?(this._active=!0,V.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(se){return se.easeTo({duration:300,zoom:se.getZoom()+1,around:se.unproject(Y)},{originalEvent:V})}}):ne?(this._active=!0,V.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(se){return se.easeTo({duration:300,zoom:se.getZoom()-1,around:se.unproject(ne)},{originalEvent:V})}}):void 0},ri.prototype.touchcancel=function(){this.reset()},ri.prototype.enable=function(){this._enabled=!0},ri.prototype.disable=function(){this._enabled=!1,this.reset()},ri.prototype.isEnabled=function(){return this._enabled},ri.prototype.isActive=function(){return this._active};var Hi={0:1,2:2},vo=function(V){this.reset(),this._clickTolerance=V.clickTolerance||1};vo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},vo.prototype._correctButton=function(V,X){return!1},vo.prototype._move=function(V,X){return{}},vo.prototype.mousedown=function(V,X){if(!this._lastPoint){var Z=_.mouseButton(V);this._correctButton(V,Z)&&(this._lastPoint=X,this._eventButton=Z)}},vo.prototype.mousemoveWindow=function(V,X){var L,ne,Z=this._lastPoint;if(Z)if(V.preventDefault(),ne=Hi[this._eventButton],void 0===(L=V).buttons||(L.buttons&ne)!==ne)this.reset();else if(this._moved||!(X.dist(Z)<this._clickTolerance))return this._moved=!0,this._lastPoint=X,this._move(Z,X)},vo.prototype.mouseupWindow=function(V){this._lastPoint&&_.mouseButton(V)===this._eventButton&&(this._moved&&_.suppressClick(),this.reset())},vo.prototype.enable=function(){this._enabled=!0},vo.prototype.disable=function(){this._enabled=!1,this.reset()},vo.prototype.isEnabled=function(){return this._enabled},vo.prototype.isActive=function(){return this._active};var ds=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.mousedown=function(Z,L){V.prototype.mousedown.call(this,Z,L),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(Z,L){return 0===L&&!Z.ctrlKey},X.prototype._move=function(Z,L){return{around:L,panDelta:L.sub(Z)}},X}(vo),Mo=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype._correctButton=function(Z,L){return 0===L&&Z.ctrlKey||2===L},X.prototype._move=function(Z,L){var Y=.8*(L.x-Z.x);if(Y)return this._active=!0,{bearingDelta:Y}},X.prototype.contextmenu=function(Z){Z.preventDefault()},X}(vo),ca=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype._correctButton=function(Z,L){return 0===L&&Z.ctrlKey||2===L},X.prototype._move=function(Z,L){var Y=-.5*(L.y-Z.y);if(Y)return this._active=!0,{pitchDelta:Y}},X.prototype.contextmenu=function(Z){Z.preventDefault()},X}(vo),Ni=function(V){this._minTouches=1,this._clickTolerance=V.clickTolerance||1,this.reset()};Ni.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Ni.prototype.touchstart=function(V,X,Z){return this._calculateTransform(V,X,Z)},Ni.prototype.touchmove=function(V,X,Z){if(this._active&&!(Z.length<this._minTouches))return V.preventDefault(),this._calculateTransform(V,X,Z)},Ni.prototype.touchend=function(V,X,Z){this._calculateTransform(V,X,Z),this._active&&Z.length<this._minTouches&&this.reset()},Ni.prototype.touchcancel=function(){this.reset()},Ni.prototype._calculateTransform=function(V,X,Z){Z.length>0&&(this._active=!0);var L=Ko(Z,X),Y=new a.Point(0,0),ne=new a.Point(0,0),se=0;for(var pe in L){var ke=L[pe],Re=this._touches[pe];Re&&(Y._add(ke),ne._add(ke.sub(Re)),se++,L[pe]=ke)}if(this._touches=L,!(se<this._minTouches)&&ne.mag()){var Be=ne.div(se);if(this._sum._add(Be),!(this._sum.mag()<this._clickTolerance))return{around:Y.div(se),panDelta:Be}}},Ni.prototype.enable=function(){this._enabled=!0},Ni.prototype.disable=function(){this._enabled=!1,this.reset()},Ni.prototype.isEnabled=function(){return this._enabled},Ni.prototype.isActive=function(){return this._active};var Ci=function(){this.reset()};function va(V,X,Z){for(var L=0;L<V.length;L++)if(V[L].identifier===Z)return X[L]}function Mr(V,X){return Math.log(V/X)/Math.LN2}Ci.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Ci.prototype._start=function(V){},Ci.prototype._move=function(V,X,Z){return{}},Ci.prototype.touchstart=function(V,X,Z){this._firstTwoTouches||Z.length<2||(this._firstTwoTouches=[Z[0].identifier,Z[1].identifier],this._start([X[0],X[1]]))},Ci.prototype.touchmove=function(V,X,Z){if(this._firstTwoTouches){V.preventDefault();var L=this._firstTwoTouches,ne=L[1],se=va(Z,X,L[0]),pe=va(Z,X,ne);if(se&&pe){var ke=this._aroundCenter?null:se.add(pe).div(2);return this._move([se,pe],ke,V)}}},Ci.prototype.touchend=function(V,X,Z){if(this._firstTwoTouches){var L=this._firstTwoTouches,ne=L[1],se=va(Z,X,L[0]),pe=va(Z,X,ne);se&&pe||(this._active&&_.suppressClick(),this.reset())}},Ci.prototype.touchcancel=function(){this.reset()},Ci.prototype.enable=function(V){this._enabled=!0,this._aroundCenter=!!V&&"center"===V.around},Ci.prototype.disable=function(){this._enabled=!1,this.reset()},Ci.prototype.isEnabled=function(){return this._enabled},Ci.prototype.isActive=function(){return this._active};var Ws=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.reset=function(){V.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(Z){this._startDistance=this._distance=Z[0].dist(Z[1])},X.prototype._move=function(Z,L){var Y=this._distance;if(this._distance=Z[0].dist(Z[1]),this._active||!(Math.abs(Mr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mr(this._distance,Y),pinchAround:L}},X}(Ci);function hu(V,X){return 180*V.angleWith(X)/Math.PI}var $a=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.reset=function(){V.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(Z){this._startVector=this._vector=Z[0].sub(Z[1]),this._minDiameter=Z[0].dist(Z[1])},X.prototype._move=function(Z,L){var Y=this._vector;if(this._vector=Z[0].sub(Z[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:hu(this._vector,Y),pinchAround:L}},X.prototype._isBelowThreshold=function(Z){this._minDiameter=Math.min(this._minDiameter,Z.mag());var L=25/(Math.PI*this._minDiameter)*360,Y=hu(Z,this._startVector);return Math.abs(Y)<L},X}(Ci);function no(V){return Math.abs(V.y)>Math.abs(V.x)}var ps=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.reset=function(){V.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(Z){this._lastPoints=Z,no(Z[0].sub(Z[1]))&&(this._valid=!1)},X.prototype._move=function(Z,L,Y){var ne=Z[0].sub(this._lastPoints[0]),se=Z[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(ne,se,Y.timeStamp),this._valid)return this._lastPoints=Z,this._active=!0,{pitchDelta:(ne.y+se.y)/2*-.5}},X.prototype.gestureBeginsVertically=function(Z,L,Y){if(void 0!==this._valid)return this._valid;var ne=Z.mag()>=2,se=L.mag()>=2;if(ne||se){if(!ne||!se)return void 0===this._firstMove&&(this._firstMove=Y),Y-this._firstMove<100&&void 0;var pe=Z.y>0==L.y>0;return no(Z)&&no(L)&&pe}},X}(Ci),gs={panStep:100,bearingStep:15,pitchStep:10},Pr=function(){var V=gs;this._panStep=V.panStep,this._bearingStep=V.bearingStep,this._pitchStep=V.pitchStep,this._rotationDisabled=!1};function Ys(V){return V*(2-V)}Pr.prototype.reset=function(){this._active=!1},Pr.prototype.keydown=function(V){var X=this;if(!(V.altKey||V.ctrlKey||V.metaKey)){var Z=0,L=0,Y=0,ne=0,se=0;switch(V.keyCode){case 61:case 107:case 171:case 187:Z=1;break;case 189:case 109:case 173:Z=-1;break;case 37:V.shiftKey?L=-1:(V.preventDefault(),ne=-1);break;case 39:V.shiftKey?L=1:(V.preventDefault(),ne=1);break;case 38:V.shiftKey?Y=1:(V.preventDefault(),se=-1);break;case 40:V.shiftKey?Y=-1:(V.preventDefault(),se=1);break;default:return}return this._rotationDisabled&&(L=0,Y=0),{cameraAnimation:function(pe){var ke=pe.getZoom();pe.easeTo({duration:300,easeId:"keyboardHandler",easing:Ys,zoom:Z?Math.round(ke)+Z*(V.shiftKey?2:1):ke,bearing:pe.getBearing()+L*X._bearingStep,pitch:pe.getPitch()+Y*X._pitchStep,offset:[-ne*X._panStep,-se*X._panStep],center:pe.getCenter()},{originalEvent:V})}}}},Pr.prototype.enable=function(){this._enabled=!0},Pr.prototype.disable=function(){this._enabled=!1,this.reset()},Pr.prototype.isEnabled=function(){return this._enabled},Pr.prototype.isActive=function(){return this._active},Pr.prototype.disableRotation=function(){this._rotationDisabled=!0},Pr.prototype.enableRotation=function(){this._rotationDisabled=!1};var Cs=4.000244140625,lo=function(V,X){this._map=V,this._el=V.getCanvasContainer(),this._handler=X,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)};lo.prototype.setZoomRate=function(V){this._defaultZoomRate=V},lo.prototype.setWheelZoomRate=function(V){this._wheelZoomRate=V},lo.prototype.isEnabled=function(){return!!this._enabled},lo.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},lo.prototype.isZooming=function(){return!!this._zooming},lo.prototype.enable=function(V){this.isEnabled()||(this._enabled=!0,this._aroundCenter=V&&"center"===V.around)},lo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},lo.prototype.wheel=function(V){if(this.isEnabled()){var X=V.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*V.deltaY:V.deltaY,Z=a.browser.now(),L=Z-(this._lastWheelEventTime||0);this._lastWheelEventTime=Z,0!==X&&X%Cs==0?this._type="wheel":0!==X&&Math.abs(X)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=X,this._timeout=setTimeout(this._onTimeout,40,V)):this._type||(this._type=Math.abs(L*X)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,X+=this._lastValue)),V.shiftKey&&X&&(X/=4),this._type&&(this._lastWheelEvent=V,this._delta-=X,this._active||this._start(V)),V.preventDefault()}},lo.prototype._onTimeout=function(V){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(V)},lo.prototype._start=function(V){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var X=_.mousePos(this._el,V);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(X)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},lo.prototype.renderFrame=function(){var V=this;if(this._frameId&&(this._frameId=null,this.isActive())){var X=this._map.transform;if(0!==this._delta){var Z="wheel"===this._type&&Math.abs(this._delta)>Cs?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*Z)));this._delta<0&&0!==L&&(L=1/L);var Y="number"==typeof this._targetZoom?X.zoomScale(this._targetZoom):X.scale;this._targetZoom=Math.min(X.maxZoom,Math.max(X.minZoom,X.scaleZoom(Y*L))),"wheel"===this._type&&(this._startZoom=X.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ne,se="number"==typeof this._targetZoom?this._targetZoom:X.zoom,pe=this._startZoom,ke=this._easing,Re=!1;if("wheel"===this._type&&pe&&ke){var Be=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),Ze=ke(Be);ne=a.number(pe,se,Ze),Be<1?this._frameId||(this._frameId=!0):Re=!0}else ne=se,Re=!0;return this._active=!0,Re&&(this._active=!1,this._finishTimeout=setTimeout(function(){V._zooming=!1,V._handler._triggerRenderFrame(),delete V._targetZoom,delete V._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Re,zoomDelta:ne-X.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},lo.prototype._smoothOutEasing=function(V){var X=a.ease;if(this._prevEase){var Z=this._prevEase,L=(a.browser.now()-Z.start)/Z.duration,Y=Z.easing(L+.01)-Z.easing(L),ne=.27/Math.sqrt(Y*Y+1e-4)*.01,se=Math.sqrt(.0729-ne*ne);X=a.bezier(ne,se,.25,1)}return this._prevEase={start:a.browser.now(),duration:V,easing:X},X},lo.prototype.reset=function(){this._active=!1};var ya=function(V,X){this._clickZoom=V,this._tapZoom=X};ya.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ya.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ya.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ya.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Sa=function(){this.reset()};Sa.prototype.reset=function(){this._active=!1},Sa.prototype.dblclick=function(V,X){return V.preventDefault(),{cameraAnimation:function(Z){Z.easeTo({duration:300,zoom:Z.getZoom()+(V.shiftKey?-1:1),around:Z.unproject(X)},{originalEvent:V})}}},Sa.prototype.enable=function(){this._enabled=!0},Sa.prototype.disable=function(){this._enabled=!1,this.reset()},Sa.prototype.isEnabled=function(){return this._enabled},Sa.prototype.isActive=function(){return this._active};var xa=function(){this._tap=new jr({numTouches:1,numTaps:1}),this.reset()};xa.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},xa.prototype.touchstart=function(V,X,Z){this._swipePoint||(this._tapTime&&V.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?Z.length>0&&(this._swipePoint=X[0],this._swipeTouch=Z[0].identifier):this._tap.touchstart(V,X,Z))},xa.prototype.touchmove=function(V,X,Z){if(this._tapTime){if(this._swipePoint){if(Z[0].identifier!==this._swipeTouch)return;var L=X[0],Y=L.y-this._swipePoint.y;return this._swipePoint=L,V.preventDefault(),this._active=!0,{zoomDelta:Y/128}}}else this._tap.touchmove(V,X,Z)},xa.prototype.touchend=function(V,X,Z){this._tapTime?this._swipePoint&&0===Z.length&&this.reset():this._tap.touchend(V,X,Z)&&(this._tapTime=V.timeStamp)},xa.prototype.touchcancel=function(){this.reset()},xa.prototype.enable=function(){this._enabled=!0},xa.prototype.disable=function(){this._enabled=!1,this.reset()},xa.prototype.isEnabled=function(){return this._enabled},xa.prototype.isActive=function(){return this._active};var ii=function(V,X,Z){this._el=V,this._mousePan=X,this._touchPan=Z};ii.prototype.enable=function(V){this._inertiaOptions=V||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ii.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ii.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ii.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Zs=function(V,X,Z){this._pitchWithRotate=V.pitchWithRotate,this._mouseRotate=X,this._mousePitch=Z};Zs.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Zs.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Zs.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Zs.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Pa=function(V,X,Z,L){this._el=V,this._touchZoom=X,this._touchRotate=Z,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0};Pa.prototype.enable=function(V){this._touchZoom.enable(V),this._rotationDisabled||this._touchRotate.enable(V),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Pa.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Pa.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Pa.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Pa.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Pa.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ds=function(V){return V.zoom||V.drag||V.pitch||V.rotate},Oa=function(V){function X(){V.apply(this,arguments)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X}(a.Event);function ms(V){return V.panDelta&&V.panDelta.mag()||V.zoomDelta||V.bearingDelta||V.pitchDelta}var mi=function(V,X){this._map=V,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fi(V),this._bearingSnap=X.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(X),a.bindAll(["handleEvent","handleWindowEvent"],this);var Z=this._el;this._listeners=[[Z,"touchstart",{passive:!0}],[Z,"touchmove",{passive:!1}],[Z,"touchend",void 0],[Z,"touchcancel",void 0],[Z,"mousedown",void 0],[Z,"mousemove",void 0],[Z,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[Z,"mouseover",void 0],[Z,"mouseout",void 0],[Z,"dblclick",void 0],[Z,"click",void 0],[Z,"keydown",{capture:!1}],[Z,"keyup",void 0],[Z,"wheel",{passive:!1}],[Z,"contextmenu",void 0],[a.window,"blur",void 0]];for(var L=0,Y=this._listeners;L<Y.length;L+=1){var ne=Y[L],se=ne[0];_.addEventListener(se,ne[1],se===a.window.document?this.handleWindowEvent:this.handleEvent,ne[2])}};mi.prototype.destroy=function(){for(var V=0,X=this._listeners;V<X.length;V+=1){var Z=X[V],L=Z[0];_.removeEventListener(L,Z[1],L===a.window.document?this.handleWindowEvent:this.handleEvent,Z[2])}},mi.prototype._addDefaultHandlers=function(V){var X=this._map,Z=X.getCanvasContainer();this._add("mapEvent",new jo(X,V));var L=X.boxZoom=new Xi(X,V);this._add("boxZoom",L);var Y=new ri,ne=new Sa;X.doubleClickZoom=new ya(ne,Y),this._add("tapZoom",Y),this._add("clickZoom",ne);var se=new xa;this._add("tapDragZoom",se);var pe=X.touchPitch=new ps;this._add("touchPitch",pe);var ke=new Mo(V),Re=new ca(V);X.dragRotate=new Zs(V,ke,Re),this._add("mouseRotate",ke,["mousePitch"]),this._add("mousePitch",Re,["mouseRotate"]);var Be=new ds(V),Ze=new Ni(V);X.dragPan=new ii(Z,Be,Ze),this._add("mousePan",Be),this._add("touchPan",Ze,["touchZoom","touchRotate"]);var Ke=new $a,lt=new Ws;X.touchZoomRotate=new Pa(Z,lt,Ke,se),this._add("touchRotate",Ke,["touchPan","touchZoom"]),this._add("touchZoom",lt,["touchPan","touchRotate"]);var vt=X.scrollZoom=new lo(X,this);this._add("scrollZoom",vt,["mousePan"]);var bt=X.keyboard=new Pr;this._add("keyboard",bt),this._add("blockableMapEvent",new No(X));for(var St=0,Ft=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];St<Ft.length;St+=1){var It=Ft[St];V.interactive&&V[It]&&X[It].enable(V[It])}},mi.prototype._add=function(V,X,Z){this._handlers.push({handlerName:V,handler:X,allowed:Z}),this._handlersById[V]=X},mi.prototype.stop=function(V){if(!this._updatingCamera){for(var X=0,Z=this._handlers;X<Z.length;X+=1)Z[X].handler.reset();this._inertia.clear(),this._fireEvents({},{},V),this._changes=[]}},mi.prototype.isActive=function(){for(var V=0,X=this._handlers;V<X.length;V+=1)if(X[V].handler.isActive())return!0;return!1},mi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},mi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},mi.prototype.isMoving=function(){return!!Ds(this._eventsInProgress)||this.isZooming()},mi.prototype._blockedByActive=function(V,X,Z){for(var L in V)if(L!==Z&&(!X||X.indexOf(L)<0))return!0;return!1},mi.prototype.handleWindowEvent=function(V){this.handleEvent(V,V.type+"Window")},mi.prototype._getMapTouches=function(V){for(var X=[],Z=0,L=V;Z<L.length;Z+=1){var Y=L[Z];this._el.contains(Y.target)&&X.push(Y)}return X},mi.prototype.handleEvent=function(V,X){if("blur"!==V.type){this._updatingCamera=!0;for(var Z="renderFrame"===V.type?void 0:V,L={needsRenderFrame:!1},Y={},ne={},se=V.touches?this._getMapTouches(V.touches):void 0,pe=se?_.touchPos(this._el,se):_.mousePos(this._el,V),ke=0,Re=this._handlers;ke<Re.length;ke+=1){var Be=Re[ke],Ze=Be.handlerName,Ke=Be.handler,lt=Be.allowed;if(Ke.isEnabled()){var vt=void 0;this._blockedByActive(ne,lt,Ze)?Ke.reset():Ke[X||V.type]&&(vt=Ke[X||V.type](V,pe,se),this.mergeHandlerResult(L,Y,vt,Ze,Z),vt&&vt.needsRenderFrame&&this._triggerRenderFrame()),(vt||Ke.isActive())&&(ne[Ze]=Ke)}}var bt={};for(var St in this._previousActiveHandlers)ne[St]||(bt[St]=Z);this._previousActiveHandlers=ne,(Object.keys(bt).length||ms(L))&&(this._changes.push([L,Y,bt]),this._triggerRenderFrame()),(Object.keys(ne).length||ms(L))&&this._map._stop(!0),this._updatingCamera=!1;var Ft=L.cameraAnimation;Ft&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ft(this._map))}else this.stop(!0)},mi.prototype.mergeHandlerResult=function(V,X,Z,L,Y){if(Z){a.extend(V,Z);var ne={handlerName:L,originalEvent:Z.originalEvent||Y};void 0!==Z.zoomDelta&&(X.zoom=ne),void 0!==Z.panDelta&&(X.drag=ne),void 0!==Z.pitchDelta&&(X.pitch=ne),void 0!==Z.bearingDelta&&(X.rotate=ne)}},mi.prototype._applyChanges=function(){for(var V={},X={},Z={},L=0,Y=this._changes;L<Y.length;L+=1){var ne=Y[L],se=ne[0],pe=ne[1],ke=ne[2];se.panDelta&&(V.panDelta=(V.panDelta||new a.Point(0,0))._add(se.panDelta)),se.zoomDelta&&(V.zoomDelta=(V.zoomDelta||0)+se.zoomDelta),se.bearingDelta&&(V.bearingDelta=(V.bearingDelta||0)+se.bearingDelta),se.pitchDelta&&(V.pitchDelta=(V.pitchDelta||0)+se.pitchDelta),void 0!==se.around&&(V.around=se.around),void 0!==se.pinchAround&&(V.pinchAround=se.pinchAround),se.noInertia&&(V.noInertia=se.noInertia),a.extend(X,pe),a.extend(Z,ke)}this._updateMapTransform(V,X,Z),this._changes=[]},mi.prototype._updateMapTransform=function(V,X,Z){var L=this._map,Y=L.transform;if(!ms(V))return this._fireEvents(X,Z,!0);var ne=V.panDelta,se=V.zoomDelta,pe=V.bearingDelta,ke=V.pitchDelta,Re=V.around,Be=V.pinchAround;void 0!==Be&&(Re=Be),L._stop(!0),Re=Re||L.transform.centerPoint;var Ze=Y.pointLocation(ne?Re.sub(ne):Re);pe&&(Y.bearing+=pe),ke&&(Y.pitch+=ke),se&&(Y.zoom+=se),Y.setLocationAtPoint(Ze,Re),this._map._update(),V.noInertia||this._inertia.record(V),this._fireEvents(X,Z,!0)},mi.prototype._fireEvents=function(V,X,Z){var L=this,Y=Ds(this._eventsInProgress),ne=Ds(V),se={};for(var pe in V)this._eventsInProgress[pe]||(se[pe+"start"]=V[pe].originalEvent),this._eventsInProgress[pe]=V[pe];for(var Re in!Y&&ne&&this._fireEvent("movestart",ne.originalEvent),se)this._fireEvent(Re,se[Re]);for(var Be in ne&&this._fireEvent("move",ne.originalEvent),V)this._fireEvent(Be,V[Be].originalEvent);var Ke,lt={};for(var vt in this._eventsInProgress){var bt=this._eventsInProgress[vt],St=bt.handlerName,Ft=bt.originalEvent;this._handlersById[St].isActive()||(delete this._eventsInProgress[vt],lt[vt+"end"]=Ke=X[St]||Ft)}for(var It in lt)this._fireEvent(It,lt[It]);var Wt=Ds(this._eventsInProgress);if(Z&&(Y||ne)&&!Wt){this._updatingCamera=!0;var zt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),sn=function(en){return 0!==en&&-L._bearingSnap<en&&en<L._bearingSnap};zt?(sn(zt.bearing||this._map.getBearing())&&(zt.bearing=0),this._map.easeTo(zt,{originalEvent:Ke})):(this._map.fire(new a.Event("moveend",{originalEvent:Ke})),sn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},mi.prototype._fireEvent=function(V,X){this._map.fire(new a.Event(V,X?{originalEvent:X}:{}))},mi.prototype._requestFrame=function(){var V=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(X){delete V._frameId,V.handleEvent(new Oa("renderFrame",{timeStamp:X})),V._applyChanges()})},mi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var Do=function(V){function X(Z,L){V.call(this),this._moving=!1,this._zooming=!1,this.transform=Z,this._bearingSnap=L.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(Z,L){return this.jumpTo({center:Z},L)},X.prototype.panBy=function(Z,L,Y){return Z=a.Point.convert(Z).mult(-1),this.panTo(this.transform.center,a.extend({offset:Z},L),Y)},X.prototype.panTo=function(Z,L,Y){return this.easeTo(a.extend({center:Z},L),Y)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(Z,L){return this.jumpTo({zoom:Z},L),this},X.prototype.zoomTo=function(Z,L,Y){return this.easeTo(a.extend({zoom:Z},L),Y)},X.prototype.zoomIn=function(Z,L){return this.zoomTo(this.getZoom()+1,Z,L),this},X.prototype.zoomOut=function(Z,L){return this.zoomTo(this.getZoom()-1,Z,L),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(Z,L){return this.jumpTo({bearing:Z},L),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(Z,L){return this.jumpTo({padding:Z},L),this},X.prototype.rotateTo=function(Z,L,Y){return this.easeTo(a.extend({bearing:Z},L),Y)},X.prototype.resetNorth=function(Z,L){return this.rotateTo(0,a.extend({duration:1e3},Z),L),this},X.prototype.resetNorthPitch=function(Z,L){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},Z),L),this},X.prototype.snapToNorth=function(Z,L){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(Z,L):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(Z,L){return this.jumpTo({pitch:Z},L),this},X.prototype.cameraForBounds=function(Z,L){Z=a.LngLatBounds.convert(Z);var Y=L&&L.bearing||0;return this._cameraForBoxAndBearing(Z.getNorthWest(),Z.getSouthEast(),Y,L)},X.prototype._cameraForBoxAndBearing=function(Z,L,Y,ne){var se={top:0,bottom:0,right:0,left:0};if("number"==typeof(ne=a.extend({padding:se,offset:[0,0],maxZoom:this.transform.maxZoom},ne)).padding){var pe=ne.padding;ne.padding={top:pe,bottom:pe,right:pe,left:pe}}ne.padding=a.extend(se,ne.padding);var ke=this.transform,Re=ke.padding,Be=ke.project(a.LngLat.convert(Z)),Ze=ke.project(a.LngLat.convert(L)),Ke=Be.rotate(-Y*Math.PI/180),lt=Ze.rotate(-Y*Math.PI/180),vt=new a.Point(Math.max(Ke.x,lt.x),Math.max(Ke.y,lt.y)),bt=new a.Point(Math.min(Ke.x,lt.x),Math.min(Ke.y,lt.y)),St=vt.sub(bt),Ft=(ke.width-(Re.left+Re.right+ne.padding.left+ne.padding.right))/St.x,It=(ke.height-(Re.top+Re.bottom+ne.padding.top+ne.padding.bottom))/St.y;if(!(It<0||Ft<0)){var Wt=Math.min(ke.scaleZoom(ke.scale*Math.min(Ft,It)),ne.maxZoom),zt="number"==typeof ne.offset.x?new a.Point(ne.offset.x,ne.offset.y):a.Point.convert(ne.offset),Xt=new a.Point((ne.padding.left-ne.padding.right)/2,(ne.padding.top-ne.padding.bottom)/2).rotate(Y*Math.PI/180),Tn=zt.add(Xt).mult(ke.scale/ke.zoomScale(Wt));return{center:ke.unproject(Be.add(Ze).div(2).sub(Tn)),zoom:Wt,bearing:Y}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},X.prototype.fitBounds=function(Z,L,Y){return this._fitInternal(this.cameraForBounds(Z,L),L,Y)},X.prototype.fitScreenCoordinates=function(Z,L,Y,ne,se){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(Z)),this.transform.pointLocation(a.Point.convert(L)),Y,ne),ne,se)},X.prototype._fitInternal=function(Z,L,Y){return Z?(delete(L=a.extend(Z,L)).padding,L.linear?this.easeTo(L,Y):this.flyTo(L,Y)):this},X.prototype.jumpTo=function(Z,L){this.stop();var Y=this.transform,ne=!1,se=!1,pe=!1;return"zoom"in Z&&Y.zoom!==+Z.zoom&&(ne=!0,Y.zoom=+Z.zoom),void 0!==Z.center&&(Y.center=a.LngLat.convert(Z.center)),"bearing"in Z&&Y.bearing!==+Z.bearing&&(se=!0,Y.bearing=+Z.bearing),"pitch"in Z&&Y.pitch!==+Z.pitch&&(pe=!0,Y.pitch=+Z.pitch),null==Z.padding||Y.isPaddingEqual(Z.padding)||(Y.padding=Z.padding),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L)),ne&&this.fire(new a.Event("zoomstart",L)).fire(new a.Event("zoom",L)).fire(new a.Event("zoomend",L)),se&&this.fire(new a.Event("rotatestart",L)).fire(new a.Event("rotate",L)).fire(new a.Event("rotateend",L)),pe&&this.fire(new a.Event("pitchstart",L)).fire(new a.Event("pitch",L)).fire(new a.Event("pitchend",L)),this.fire(new a.Event("moveend",L))},X.prototype.easeTo=function(Z,L){var Y=this;this._stop(!1,Z.easeId),(!1===(Z=a.extend({offset:[0,0],duration:500,easing:a.ease},Z)).animate||!Z.essential&&a.browser.prefersReducedMotion)&&(Z.duration=0);var ne=this.transform,se=this.getZoom(),pe=this.getBearing(),ke=this.getPitch(),Re=this.getPadding(),Be="zoom"in Z?+Z.zoom:se,Ze="bearing"in Z?this._normalizeBearing(Z.bearing,pe):pe,Ke="pitch"in Z?+Z.pitch:ke,lt="padding"in Z?Z.padding:ne.padding,vt=a.Point.convert(Z.offset),bt=ne.centerPoint.add(vt),St=ne.pointLocation(bt),Ft=a.LngLat.convert(Z.center||St);this._normalizeCenter(Ft);var It,Wt,zt=ne.project(St),sn=ne.project(Ft).sub(zt),en=ne.zoomScale(Be-se);Z.around&&(It=a.LngLat.convert(Z.around),Wt=ne.locationPoint(It));var Xt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Be!==se,this._rotating=this._rotating||pe!==Ze,this._pitching=this._pitching||Ke!==ke,this._padding=!ne.isPaddingEqual(lt),this._easeId=Z.easeId,this._prepareEase(L,Z.noMoveStart,Xt),this._ease(function(Tn){if(Y._zooming&&(ne.zoom=a.number(se,Be,Tn)),Y._rotating&&(ne.bearing=a.number(pe,Ze,Tn)),Y._pitching&&(ne.pitch=a.number(ke,Ke,Tn)),Y._padding&&(ne.interpolatePadding(Re,lt,Tn),bt=ne.centerPoint.add(vt)),It)ne.setLocationAtPoint(It,Wt);else{var kn=ne.zoomScale(ne.zoom-se),Bn=Be>se?Math.min(2,en):Math.max(.5,en),Hn=Math.pow(Bn,1-Tn),tr=ne.unproject(zt.add(sn.mult(Tn*Hn)).mult(kn));ne.setLocationAtPoint(ne.renderWorldCopies?tr.wrap():tr,bt)}Y._fireMoveEvents(L)},function(Tn){Y._afterEase(L,Tn)},Z),this},X.prototype._prepareEase=function(Z,L,Y){void 0===Y&&(Y={}),this._moving=!0,L||Y.moving||this.fire(new a.Event("movestart",Z)),this._zooming&&!Y.zooming&&this.fire(new a.Event("zoomstart",Z)),this._rotating&&!Y.rotating&&this.fire(new a.Event("rotatestart",Z)),this._pitching&&!Y.pitching&&this.fire(new a.Event("pitchstart",Z))},X.prototype._fireMoveEvents=function(Z){this.fire(new a.Event("move",Z)),this._zooming&&this.fire(new a.Event("zoom",Z)),this._rotating&&this.fire(new a.Event("rotate",Z)),this._pitching&&this.fire(new a.Event("pitch",Z))},X.prototype._afterEase=function(Z,L){if(!this._easeId||!L||this._easeId!==L){delete this._easeId;var Y=this._zooming,ne=this._rotating,se=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Y&&this.fire(new a.Event("zoomend",Z)),ne&&this.fire(new a.Event("rotateend",Z)),se&&this.fire(new a.Event("pitchend",Z)),this.fire(new a.Event("moveend",Z))}},X.prototype.flyTo=function(Z,L){var Y=this;if(!Z.essential&&a.browser.prefersReducedMotion){var ne=a.pick(Z,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ne,L)}this.stop(),Z=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},Z);var se=this.transform,pe=this.getZoom(),ke=this.getBearing(),Re=this.getPitch(),Be=this.getPadding(),Ze="zoom"in Z?a.clamp(+Z.zoom,se.minZoom,se.maxZoom):pe,Ke="bearing"in Z?this._normalizeBearing(Z.bearing,ke):ke,lt="pitch"in Z?+Z.pitch:Re,vt="padding"in Z?Z.padding:se.padding,bt=se.zoomScale(Ze-pe),St=a.Point.convert(Z.offset),Ft=se.centerPoint.add(St),It=se.pointLocation(Ft),Wt=a.LngLat.convert(Z.center||It);this._normalizeCenter(Wt);var zt=se.project(It),sn=se.project(Wt).sub(zt),en=Z.curve,Xt=Math.max(se.width,se.height),Tn=Xt/bt,kn=sn.mag();if("minZoom"in Z){var Bn=a.clamp(Math.min(Z.minZoom,pe,Ze),se.minZoom,se.maxZoom),Hn=Xt/se.zoomScale(Bn-pe);en=Math.sqrt(Hn/kn*2)}var tr=en*en;function gr(Sr){var Wr=(Tn*Tn-Xt*Xt+(Sr?-1:1)*tr*tr*kn*kn)/(2*(Sr?Tn:Xt)*tr*kn);return Math.log(Math.sqrt(Wr*Wr+1)-Wr)}function Er(Sr){return(Math.exp(Sr)-Math.exp(-Sr))/2}function sr(Sr){return(Math.exp(Sr)+Math.exp(-Sr))/2}var wr=gr(0),zr=function(Sr){return sr(wr)/sr(wr+en*Sr)},Gr=function(Sr){return Xt*((sr(wr)*(Er(Wr=wr+en*Sr)/sr(Wr))-Er(wr))/tr)/kn;var Wr},mr=(gr(1)-wr)/en;if(Math.abs(kn)<1e-6||!isFinite(mr)){if(Math.abs(Xt-Tn)<1e-6)return this.easeTo(Z,L);var br=Tn<Xt?-1:1;mr=Math.abs(Math.log(Tn/Xt))/en,Gr=function(){return 0},zr=function(Sr){return Math.exp(br*en*Sr)}}return Z.duration="duration"in Z?+Z.duration:1e3*mr/("screenSpeed"in Z?+Z.screenSpeed/en:+Z.speed),Z.maxDuration&&Z.duration>Z.maxDuration&&(Z.duration=0),this._zooming=!0,this._rotating=ke!==Ke,this._pitching=lt!==Re,this._padding=!se.isPaddingEqual(vt),this._prepareEase(L,!1),this._ease(function(Sr){var Wr=Sr*mr,Kr=1/zr(Wr);se.zoom=1===Sr?Ze:pe+se.scaleZoom(Kr),Y._rotating&&(se.bearing=a.number(ke,Ke,Sr)),Y._pitching&&(se.pitch=a.number(Re,lt,Sr)),Y._padding&&(se.interpolatePadding(Be,vt,Sr),Ft=se.centerPoint.add(St));var si=1===Sr?Wt:se.unproject(zt.add(sn.mult(Gr(Wr))).mult(Kr));se.setLocationAtPoint(se.renderWorldCopies?si.wrap():si,Ft),Y._fireMoveEvents(L)},function(){return Y._afterEase(L)},Z),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(Z,L){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Y=this._onEaseEnd;delete this._onEaseEnd,Y.call(this,L)}if(!Z){var ne=this.handlers;ne&&ne.stop(!1)}return this},X.prototype._ease=function(Z,L,Y){!1===Y.animate||0===Y.duration?(Z(1),L()):(this._easeStart=a.browser.now(),this._easeOptions=Y,this._onEaseFrame=Z,this._onEaseEnd=L,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var Z=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(Z)),Z<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(Z,L){Z=a.wrap(Z,-180,180);var Y=Math.abs(Z-L);return Math.abs(Z-360-L)<Y&&(Z-=360),Math.abs(Z+360-L)<Y&&(Z+=360),Z},X.prototype._normalizeCenter=function(Z){var L=this.transform;if(L.renderWorldCopies&&!L.lngRange){var Y=Z.lng-L.center.lng;Z.lng+=Y>180?-360:Y<-180?360:0}},X}(a.Evented),qi=function(V){void 0===V&&(V={}),this.options=V,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};qi.prototype.getDefaultPosition=function(){return"bottom-right"},qi.prototype.onAdd=function(V){var X=this.options&&this.options.compact;return this._map=V,this._container=_.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=_.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=_.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),X&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===X&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},qi.prototype.onRemove=function(){_.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},qi.prototype._setElementTitle=function(V,X){var Z=this._map._getUIString("AttributionControl."+X);V.title=Z,V.setAttribute("aria-label",Z)},qi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},qi.prototype._updateEditLink=function(){var V=this._editLink;V||(V=this._editLink=this._container.querySelector(".mapbox-improve-map"));var X=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(V){var Z=X.reduce(function(L,Y,ne){return Y.value&&(L+=Y.key+"="+Y.value+(ne<X.length-1?"&":"")),L},"?");V.href=a.config.FEEDBACK_URL+"/"+Z+(this._map._hash?this._map._hash.getHashString(!0):""),V.rel="noopener nofollow",this._setElementTitle(V,"MapFeedback")}},qi.prototype._updateData=function(V){!V||"metadata"!==V.sourceDataType&&"visibility"!==V.sourceDataType&&"style"!==V.dataType||(this._updateAttributions(),this._updateEditLink())},qi.prototype._updateAttributions=function(){if(this._map.style){var V=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?V=V.concat(this.options.customAttribution.map(function(pe){return"string"!=typeof pe?"":pe})):"string"==typeof this.options.customAttribution&&V.push(this.options.customAttribution)),this._map.style.stylesheet){var X=this._map.style.stylesheet;this.styleOwner=X.owner,this.styleId=X.id}var Z=this._map.style.sourceCaches;for(var L in Z){var Y=Z[L];if(Y.used){var ne=Y.getSource();ne.attribution&&V.indexOf(ne.attribution)<0&&V.push(ne.attribution)}}V.sort(function(pe,ke){return pe.length-ke.length});var se=(V=V.filter(function(pe,ke){for(var Re=ke+1;Re<V.length;Re++)if(V[Re].indexOf(pe)>=0)return!1;return!0})).join(" | ");se!==this._attribHTML&&(this._attribHTML=se,V.length?(this._innerContainer.innerHTML=se,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},qi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Xs=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Xs.prototype.onAdd=function(V){this._map=V,this._container=_.create("div","mapboxgl-ctrl");var X=_.create("a","mapboxgl-ctrl-logo");return X.target="_blank",X.rel="noopener nofollow",X.href="https://www.mapbox.com/",X.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),X.setAttribute("rel","noopener nofollow"),this._container.appendChild(X),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Xs.prototype.onRemove=function(){_.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Xs.prototype.getDefaultPosition=function(){return"bottom-left"},Xs.prototype._updateLogo=function(V){V&&"metadata"!==V.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Xs.prototype._logoRequired=function(){if(this._map.style){var V=this._map.style.sourceCaches;for(var X in V)if(V[X].getSource().mapbox_logo)return!0;return!1}},Xs.prototype._updateCompact=function(){var V=this._container.children;if(V.length){var X=V[0];this._map.getCanvasContainer().offsetWidth<250?X.classList.add("mapboxgl-compact"):X.classList.remove("mapboxgl-compact")}};var ro=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};ro.prototype.add=function(V){var X=++this._id;return this._queue.push({callback:V,id:X,cancelled:!1}),X},ro.prototype.remove=function(V){for(var X=this._currentlyRunning,Z=0,L=X?this._queue.concat(X):this._queue;Z<L.length;Z+=1){var Y=L[Z];if(Y.id===V)return void(Y.cancelled=!0)}},ro.prototype.run=function(V){void 0===V&&(V=0);var X=this._currentlyRunning=this._queue;this._queue=[];for(var Z=0,L=X;Z<L.length;Z+=1){var Y=L[Z];if(!Y.cancelled&&(Y.callback(V),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ro.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Yo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},al=a.window.HTMLImageElement,Uo=a.window.HTMLElement,yi=a.window.ImageBitmap,$s={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},vs=function(V){function X(L){var Y=this;if(null!=(L=a.extend({},$s,L)).minZoom&&null!=L.maxZoom&&L.minZoom>L.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=L.minPitch&&null!=L.maxPitch&&L.minPitch>L.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=L.minPitch&&L.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=L.maxPitch&&L.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var ne=new Ei(L.minZoom,L.maxZoom,L.minPitch,L.maxPitch,L.renderWorldCopies);if(V.call(this,ne,L),this._interactive=L.interactive,this._maxTileCacheSize=L.maxTileCacheSize,this._failIfMajorPerformanceCaveat=L.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=L.preserveDrawingBuffer,this._antialias=L.antialias,this._trackResize=L.trackResize,this._bearingSnap=L.bearingSnap,this._refreshExpiredTiles=L.refreshExpiredTiles,this._fadeDuration=L.fadeDuration,this._crossSourceCollisions=L.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=L.collectResourceTiming,this._renderTaskQueue=new ro,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},Yo,L.locale),this._clickTolerance=L.clickTolerance,this._requestManager=new a.RequestManager(L.transformRequest,L.accessToken),"string"==typeof L.container){if(this._container=a.window.document.getElementById(L.container),!this._container)throw new Error("Container '"+L.container+"' not found.")}else{if(!(L.container instanceof Uo))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=L.container}if(L.maxBounds&&this.setMaxBounds(L.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return Y._update(!1)}),this.on("moveend",function(){return Y._update(!1)}),this.on("zoom",function(){return Y._update(!0)}),void 0!==a.window&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new mi(this,L),this._hash=L.hash&&new Ya("string"==typeof L.hash&&L.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch}),L.bounds&&(this.resize(),this.fitBounds(L.bounds,a.extend({},L.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=L.localIdeographFontFamily,L.style&&this.setStyle(L.style,{localIdeographFontFamily:L.localIdeographFontFamily}),L.attributionControl&&this.addControl(new qi({customAttribution:L.customAttribution})),this.addControl(new Xs,L.logoPosition),this.on("style.load",function(){Y.transform.unmodified&&Y.jumpTo(Y.style.stylesheet)}),this.on("data",function(pe){Y._update("style"===pe.dataType),Y.fire(new a.Event(pe.dataType+"data",pe))}),this.on("dataloading",function(pe){Y.fire(new a.Event(pe.dataType+"dataloading",pe))})}V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X;var Z={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(L,Y){if(void 0===Y&&(Y=L.getDefaultPosition?L.getDefaultPosition():"top-right"),!L||!L.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var ne=L.onAdd(this);this._controls.push(L);var se=this._controlPositions[Y];return-1!==Y.indexOf("bottom")?se.insertBefore(ne,se.firstChild):se.appendChild(ne),this},X.prototype.removeControl=function(L){if(!L||!L.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Y=this._controls.indexOf(L);return Y>-1&&this._controls.splice(Y,1),L.onRemove(this),this},X.prototype.hasControl=function(L){return this._controls.indexOf(L)>-1},X.prototype.resize=function(L){var Y=this._containerDimensions(),ne=Y[0],se=Y[1];this._resizeCanvas(ne,se),this.transform.resize(ne,se),this.painter.resize(ne,se);var pe=!this._moving;return pe&&(this.stop(),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L))),this.fire(new a.Event("resize",L)),pe&&this.fire(new a.Event("moveend",L)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(L){return this.transform.setMaxBounds(a.LngLatBounds.convert(L)),this._update()},X.prototype.setMinZoom=function(L){if((L=L??-2)>=-2&&L<=this.transform.maxZoom)return this.transform.minZoom=L,this._update(),this.getZoom()<L&&this.setZoom(L),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(L){if((L=L??22)>=this.transform.minZoom)return this.transform.maxZoom=L,this._update(),this.getZoom()>L&&this.setZoom(L),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(L){if((L=L??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(L>=0&&L<=this.transform.maxPitch)return this.transform.minPitch=L,this._update(),this.getPitch()<L&&this.setPitch(L),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(L){if((L=L??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(L>=this.transform.minPitch)return this.transform.maxPitch=L,this._update(),this.getPitch()>L&&this.setPitch(L),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(L){return this.transform.renderWorldCopies=L,this._update()},X.prototype.project=function(L){return this.transform.locationPoint(a.LngLat.convert(L))},X.prototype.unproject=function(L){return this.transform.pointLocation(a.Point.convert(L))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(L,Y,ne){var se,pe=this;if("mouseenter"===L||"mouseover"===L){var ke=!1;return{layer:Y,listener:ne,delegates:{mousemove:function(Be){var Ze=pe.getLayer(Y)?pe.queryRenderedFeatures(Be.point,{layers:[Y]}):[];Ze.length?ke||(ke=!0,ne.call(pe,new Wo(L,pe,Be.originalEvent,{features:Ze}))):ke=!1},mouseout:function(){ke=!1}}}}if("mouseleave"===L||"mouseout"===L){var Re=!1;return{layer:Y,listener:ne,delegates:{mousemove:function(Be){(pe.getLayer(Y)?pe.queryRenderedFeatures(Be.point,{layers:[Y]}):[]).length?Re=!0:Re&&(Re=!1,ne.call(pe,new Wo(L,pe,Be.originalEvent)))},mouseout:function(Be){Re&&(Re=!1,ne.call(pe,new Wo(L,pe,Be.originalEvent)))}}}}return{layer:Y,listener:ne,delegates:(se={},se[L]=function(Be){var Ze=pe.getLayer(Y)?pe.queryRenderedFeatures(Be.point,{layers:[Y]}):[];Ze.length&&(Be.features=Ze,ne.call(pe,Be),delete Be.features)},se)}},X.prototype.on=function(L,Y,ne){if(void 0===ne)return V.prototype.on.call(this,L,Y);var se=this._createDelegatedListener(L,Y,ne);for(var pe in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[L]=this._delegatedListeners[L]||[],this._delegatedListeners[L].push(se),se.delegates)this.on(pe,se.delegates[pe]);return this},X.prototype.once=function(L,Y,ne){if(void 0===ne)return V.prototype.once.call(this,L,Y);var se=this._createDelegatedListener(L,Y,ne);for(var pe in se.delegates)this.once(pe,se.delegates[pe]);return this},X.prototype.off=function(L,Y,ne){var se=this;return void 0===ne?V.prototype.off.call(this,L,Y):(this._delegatedListeners&&this._delegatedListeners[L]&&function(pe){for(var ke=pe[L],Re=0;Re<ke.length;Re++){var Be=ke[Re];if(Be.layer===Y&&Be.listener===ne){for(var Ze in Be.delegates)se.off(Ze,Be.delegates[Ze]);return ke.splice(Re,1),se}}}(this._delegatedListeners),this)},X.prototype.queryRenderedFeatures=function(L,Y){if(!this.style)return[];var ne;if(void 0!==Y||void 0===L||L instanceof a.Point||Array.isArray(L)||(Y=L,L=void 0),Y=Y||{},(L=L||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||"number"==typeof L[0])ne=[a.Point.convert(L)];else{var se=a.Point.convert(L[0]),pe=a.Point.convert(L[1]);ne=[se,new a.Point(pe.x,se.y),pe,new a.Point(se.x,pe.y),se]}return this.style.queryRenderedFeatures(ne,Y,this.transform)},X.prototype.querySourceFeatures=function(L,Y){return this.style.querySourceFeatures(L,Y)},X.prototype.setStyle=function(L,Y){return!1!==(Y=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Y)).diff&&Y.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&L?(this._diffStyle(L,Y),this):(this._localIdeographFontFamily=Y.localIdeographFontFamily,this._updateStyle(L,Y))},X.prototype._getUIString=function(L){var Y=this._locale[L];if(null==Y)throw new Error("Missing UI string '"+L+"'");return Y},X.prototype._updateStyle=function(L,Y){return this.style&&(this.style.setEventedParent(null),this.style._remove()),L?(this.style=new vr(this,Y||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof L?this.style.loadURL(L):this.style.loadJSON(L),this):(delete this.style,this)},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new vr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(L,Y){var ne=this;if("string"==typeof L){var se=this._requestManager.normalizeStyleURL(L),pe=this._requestManager.transformRequest(se,a.ResourceType.Style);a.getJSON(pe,function(ke,Re){ke?ne.fire(new a.ErrorEvent(ke)):Re&&ne._updateDiff(Re,Y)})}else"object"==typeof L&&this._updateDiff(L,Y)},X.prototype._updateDiff=function(L,Y){try{this.style.setState(L)&&this._update(!0)}catch(ne){a.warnOnce("Unable to perform style diff: "+(ne.message||ne.error||ne)+".  Rebuilding the style from scratch."),this._updateStyle(L,Y)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(L,Y){return this._lazyInitEmptyStyle(),this.style.addSource(L,Y),this._update(!0)},X.prototype.isSourceLoaded=function(L){var Y=this.style&&this.style.sourceCaches[L];if(void 0!==Y)return Y.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+L+"'")))},X.prototype.areTilesLoaded=function(){var L=this.style&&this.style.sourceCaches;for(var Y in L){var ne=L[Y]._tiles;for(var se in ne){var pe=ne[se];if("loaded"!==pe.state&&"errored"!==pe.state)return!1}}return!0},X.prototype.addSourceType=function(L,Y,ne){return this._lazyInitEmptyStyle(),this.style.addSourceType(L,Y,ne)},X.prototype.removeSource=function(L){return this.style.removeSource(L),this._update(!0)},X.prototype.getSource=function(L){return this.style.getSource(L)},X.prototype.addImage=function(L,Y,ne){void 0===ne&&(ne={});var se=ne.pixelRatio;void 0===se&&(se=1);var pe=ne.sdf;void 0===pe&&(pe=!1);var ke=ne.stretchX,Re=ne.stretchY,Be=ne.content;if(this._lazyInitEmptyStyle(),Y instanceof al||yi&&Y instanceof yi){var Ze=a.browser.getImageData(Y);this.style.addImage(L,{data:new a.RGBAImage({width:Ze.width,height:Ze.height},Ze.data),pixelRatio:se,stretchX:ke,stretchY:Re,content:Be,sdf:pe,version:0})}else{if(void 0===Y.width||void 0===Y.height)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var It=Y;this.style.addImage(L,{data:new a.RGBAImage({width:Y.width,height:Y.height},new Uint8Array(Y.data)),pixelRatio:se,stretchX:ke,stretchY:Re,content:Be,sdf:pe,version:0,userImage:It}),It.onAdd&&It.onAdd(this,L)}},X.prototype.updateImage=function(L,Y){var ne=this.style.getImage(L);if(!ne)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var se=Y instanceof al||yi&&Y instanceof yi?a.browser.getImageData(Y):Y,pe=se.width,ke=se.height,Re=se.data;return void 0===pe||void 0===ke?this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):pe!==ne.data.width||ke!==ne.data.height?this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(ne.data.replace(Re,!(Y instanceof al||yi&&Y instanceof yi)),void this.style.updateImage(L,ne))},X.prototype.hasImage=function(L){return L?!!this.style.getImage(L):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(L){this.style.removeImage(L)},X.prototype.loadImage=function(L,Y){a.getImage(this._requestManager.transformRequest(L,a.ResourceType.Image),Y)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(L,Y){return this._lazyInitEmptyStyle(),this.style.addLayer(L,Y),this._update(!0)},X.prototype.moveLayer=function(L,Y){return this.style.moveLayer(L,Y),this._update(!0)},X.prototype.removeLayer=function(L){return this.style.removeLayer(L),this._update(!0)},X.prototype.getLayer=function(L){return this.style.getLayer(L)},X.prototype.setLayerZoomRange=function(L,Y,ne){return this.style.setLayerZoomRange(L,Y,ne),this._update(!0)},X.prototype.setFilter=function(L,Y,ne){return void 0===ne&&(ne={}),this.style.setFilter(L,Y,ne),this._update(!0)},X.prototype.getFilter=function(L){return this.style.getFilter(L)},X.prototype.setPaintProperty=function(L,Y,ne,se){return void 0===se&&(se={}),this.style.setPaintProperty(L,Y,ne,se),this._update(!0)},X.prototype.getPaintProperty=function(L,Y){return this.style.getPaintProperty(L,Y)},X.prototype.setLayoutProperty=function(L,Y,ne,se){return void 0===se&&(se={}),this.style.setLayoutProperty(L,Y,ne,se),this._update(!0)},X.prototype.getLayoutProperty=function(L,Y){return this.style.getLayoutProperty(L,Y)},X.prototype.setLight=function(L,Y){return void 0===Y&&(Y={}),this._lazyInitEmptyStyle(),this.style.setLight(L,Y),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(L,Y){return this.style.setFeatureState(L,Y),this._update()},X.prototype.removeFeatureState=function(L,Y){return this.style.removeFeatureState(L,Y),this._update()},X.prototype.getFeatureState=function(L){return this.style.getFeatureState(L)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var L=0,Y=0;return this._container&&(L=this._container.clientWidth||400,Y=this._container.clientHeight||300),[L,Y]},X.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var L=this._container;L.classList.add("mapboxgl-map"),(this._missingCSSCanary=_.create("div","mapboxgl-canary",L)).style.visibility="hidden",this._detectMissingCSS();var Y=this._canvasContainer=_.create("div","mapboxgl-canvas-container",L);this._interactive&&Y.classList.add("mapboxgl-interactive"),this._canvas=_.create("canvas","mapboxgl-canvas",Y),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ne=this._containerDimensions();this._resizeCanvas(ne[0],ne[1]);var se=this._controlContainer=_.create("div","mapboxgl-control-container",L),pe=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ke){pe[ke]=_.create("div","mapboxgl-ctrl-"+ke,se)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},X.prototype._resizeCanvas=function(L,Y){var ne=a.browser.devicePixelRatio||1;this._canvas.width=ne*L,this._canvas.height=ne*Y,this._canvas.style.width=L+"px",this._canvas.style.height=Y+"px"},X.prototype._setupPainter=function(){var L=a.extend({},M.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Y=this._canvas.getContext("webgl",L)||this._canvas.getContext("experimental-webgl",L);Y?(this.painter=new Ui(Y,this.transform),a.webpSupported.testSupport(Y)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},X.prototype._contextLost=function(L){L.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:L}))},X.prototype._contextRestored=function(L){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:L}))},X.prototype._onMapScroll=function(L){if(L.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(L){return this.style?(this._styleDirty=this._styleDirty||L,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(L){return this._update(),this._renderTaskQueue.add(L)},X.prototype._cancelRenderFrame=function(L){this._renderTaskQueue.remove(L)},X.prototype._render=function(L){var Y,ne=this,se=0,pe=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Y=pe.createQueryEXT(),pe.beginQueryEXT(pe.TIME_ELAPSED_EXT,Y),se=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(L),!this._removed){var ke=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Re=this.transform.zoom,Be=a.browser.now();this.style.zoomHistory.update(Re,Be);var Ze=new a.EvaluationParameters(Re,{now:Be,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ke=Ze.crossFadingFactor();1===Ke&&Ke===this._crossFadingFactor||(ke=!0,this._crossFadingFactor=Ke),this.style.update(Ze)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||ke)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var lt=a.browser.now()-se;pe.endQueryEXT(pe.TIME_ELAPSED_EXT,Y),setTimeout(function(){var St=pe.getQueryObjectEXT(Y,pe.QUERY_RESULT_EXT)/1e6;pe.deleteQueryEXT(Y),ne.fire(new a.Event("gpu-timing-frame",{cpuTime:lt,gpuTime:St}))},50)}if(this.listens("gpu-timing-layer")){var vt=this.painter.collectGpuTimers();setTimeout(function(){var St=ne.painter.queryGpuTimers(vt);ne.fire(new a.Event("gpu-timing-layer",{layerTimes:St}))},50)}var bt=this._sourcesDirty||this._styleDirty||this._placementDirty;return bt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||bt||(this._fullyLoaded=!0),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var L=0,Y=this._controls;L<Y.length;L+=1)Y[L].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==a.window&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ne=this.painter.context.gl.getExtension("WEBGL_lose_context");ne&&ne.loseContext&&ne.loseContext(),Bl(this._canvasContainer),Bl(this._controlContainer),Bl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},X.prototype.triggerRepaint=function(){var L=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(Y){L._frame=null,L._render(Y)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(L){this._trackResize&&this.resize({originalEvent:L})._update()},Z.showTileBoundaries.get=function(){return!!this._showTileBoundaries},Z.showTileBoundaries.set=function(L){this._showTileBoundaries!==L&&(this._showTileBoundaries=L,this._update())},Z.showPadding.get=function(){return!!this._showPadding},Z.showPadding.set=function(L){this._showPadding!==L&&(this._showPadding=L,this._update())},Z.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},Z.showCollisionBoxes.set=function(L){this._showCollisionBoxes!==L&&(this._showCollisionBoxes=L,L?this.style._generateCollisionBoxes():this._update())},Z.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},Z.showOverdrawInspector.set=function(L){this._showOverdrawInspector!==L&&(this._showOverdrawInspector=L,this._update())},Z.repaint.get=function(){return!!this._repaint},Z.repaint.set=function(L){this._repaint!==L&&(this._repaint=L,this.triggerRepaint())},Z.vertices.get=function(){return!!this._vertices},Z.vertices.set=function(L){this._vertices=L,this._update()},X.prototype._setCacheLimits=function(L,Y){a.setCacheLimits(L,Y)},Z.version.get=function(){return a.version},Object.defineProperties(X.prototype,Z),X}(Do);function Bl(V){V.parentNode&&V.parentNode.removeChild(V)}var tu={showCompass:!0,showZoom:!0,visualizePitch:!1},ys=function(V){var X=this;this.options=a.extend({},tu,V),this._container=_.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(Z){return Z.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(Z){return X._map.zoomIn({},{originalEvent:Z})}),_.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(Z){return X._map.zoomOut({},{originalEvent:Z})}),_.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(Z){X.options.visualizePitch?X._map.resetNorthPitch({},{originalEvent:Z}):X._map.resetNorth({},{originalEvent:Z})}),this._compassIcon=_.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ys.prototype._updateZoomButtons=function(){var V=this._map.getZoom(),X=V===this._map.getMaxZoom(),Z=V===this._map.getMinZoom();this._zoomInButton.disabled=X,this._zoomOutButton.disabled=Z,this._zoomInButton.setAttribute("aria-disabled",X.toString()),this._zoomOutButton.setAttribute("aria-disabled",Z.toString())},ys.prototype._rotateCompassArrow=function(){var V=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=V},ys.prototype.onAdd=function(V){return this._map=V,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new io(this._map,this._compass,this.options.visualizePitch)),this._container},ys.prototype.onRemove=function(){_.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ys.prototype._createButton=function(V,X){var Z=_.create("button",V,this._container);return Z.type="button",Z.addEventListener("click",X),Z},ys.prototype._setButtonTitle=function(V,X){var Z=this._map._getUIString("NavigationControl."+X);V.title=Z,V.setAttribute("aria-label",Z)};var io=function(V,X,Z){void 0===Z&&(Z=!1),this._clickTolerance=10,this.element=X,this.mouseRotate=new Mo({clickTolerance:V.dragRotate._mouseRotate._clickTolerance}),this.map=V,Z&&(this.mousePitch=new ca({clickTolerance:V.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),_.addEventListener(X,"mousedown",this.mousedown),_.addEventListener(X,"touchstart",this.touchstart,{passive:!1}),_.addEventListener(X,"touchmove",this.touchmove),_.addEventListener(X,"touchend",this.touchend),_.addEventListener(X,"touchcancel",this.reset)};function jl(V,X,Z){if(V=new a.LngLat(V.lng,V.lat),X){var L=new a.LngLat(V.lng-360,V.lat),Y=new a.LngLat(V.lng+360,V.lat),ne=Z.locationPoint(V).distSqr(X);Z.locationPoint(L).distSqr(X)<ne?V=L:Z.locationPoint(Y).distSqr(X)<ne&&(V=Y)}for(;Math.abs(V.lng-Z.center.lng)>180;){var se=Z.locationPoint(V);if(se.x>=0&&se.y>=0&&se.x<=Z.width&&se.y<=Z.height)break;V.lng>Z.center.lng?V.lng-=360:V.lng+=360}return V}io.prototype.down=function(V,X){this.mouseRotate.mousedown(V,X),this.mousePitch&&this.mousePitch.mousedown(V,X),_.disableDrag()},io.prototype.move=function(V,X){var Z=this.map,L=this.mouseRotate.mousemoveWindow(V,X);if(L&&L.bearingDelta&&Z.setBearing(Z.getBearing()+L.bearingDelta),this.mousePitch){var Y=this.mousePitch.mousemoveWindow(V,X);Y&&Y.pitchDelta&&Z.setPitch(Z.getPitch()+Y.pitchDelta)}},io.prototype.off=function(){var V=this.element;_.removeEventListener(V,"mousedown",this.mousedown),_.removeEventListener(V,"touchstart",this.touchstart,{passive:!1}),_.removeEventListener(V,"touchmove",this.touchmove),_.removeEventListener(V,"touchend",this.touchend),_.removeEventListener(V,"touchcancel",this.reset),this.offTemp()},io.prototype.offTemp=function(){_.enableDrag(),_.removeEventListener(a.window,"mousemove",this.mousemove),_.removeEventListener(a.window,"mouseup",this.mouseup)},io.prototype.mousedown=function(V){this.down(a.extend({},V,{ctrlKey:!0,preventDefault:function(){return V.preventDefault()}}),_.mousePos(this.element,V)),_.addEventListener(a.window,"mousemove",this.mousemove),_.addEventListener(a.window,"mouseup",this.mouseup)},io.prototype.mousemove=function(V){this.move(V,_.mousePos(this.element,V))},io.prototype.mouseup=function(V){this.mouseRotate.mouseupWindow(V),this.mousePitch&&this.mousePitch.mouseupWindow(V),this.offTemp()},io.prototype.touchstart=function(V){1!==V.targetTouches.length?this.reset():(this._startPos=this._lastPos=_.touchPos(this.element,V.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return V.preventDefault()}},this._startPos))},io.prototype.touchmove=function(V){1!==V.targetTouches.length?this.reset():(this._lastPos=_.touchPos(this.element,V.targetTouches)[0],this.move({preventDefault:function(){return V.preventDefault()}},this._lastPos))},io.prototype.touchend=function(V){0===V.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},io.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Zr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ei(V,X,Z){var L=V.classList;for(var Y in Zr)L.remove("mapboxgl-"+Z+"-anchor-"+Y);L.add("mapboxgl-"+Z+"-anchor-"+X)}var is,Ks=function(V){function X(Z,L){if(V.call(this),(Z instanceof a.window.HTMLElement||L)&&(Z=a.extend({element:Z},L)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=Z&&Z.anchor||"center",this._color=Z&&Z.color||"#3FB1CE",this._scale=Z&&Z.scale||1,this._draggable=Z&&Z.draggable||!1,this._clickTolerance=Z&&Z.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=Z&&Z.rotation||0,this._rotationAlignment=Z&&Z.rotationAlignment||"auto",this._pitchAlignment=Z&&Z.pitchAlignment&&"auto"!==Z.pitchAlignment?Z.pitchAlignment:this._rotationAlignment,Z&&Z.element)this._element=Z.element,this._offset=a.Point.convert(Z&&Z.offset||[0,0]);else{this._defaultMarker=!0,this._element=_.create("div"),this._element.setAttribute("aria-label","Map marker");var Y=_.createNS("http://www.w3.org/2000/svg","svg");Y.setAttributeNS(null,"display","block"),Y.setAttributeNS(null,"height","41px"),Y.setAttributeNS(null,"width","27px"),Y.setAttributeNS(null,"viewBox","0 0 27 41");var ne=_.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"stroke","none"),ne.setAttributeNS(null,"stroke-width","1"),ne.setAttributeNS(null,"fill","none"),ne.setAttributeNS(null,"fill-rule","evenodd");var se=_.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"fill-rule","nonzero");var pe=_.createNS("http://www.w3.org/2000/svg","g");pe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),pe.setAttributeNS(null,"fill","#000000");for(var ke=0,Re=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ke<Re.length;ke+=1){var Be=Re[ke],Ze=_.createNS("http://www.w3.org/2000/svg","ellipse");Ze.setAttributeNS(null,"opacity","0.04"),Ze.setAttributeNS(null,"cx","10.5"),Ze.setAttributeNS(null,"cy","5.80029008"),Ze.setAttributeNS(null,"rx",Be.rx),Ze.setAttributeNS(null,"ry",Be.ry),pe.appendChild(Ze)}var Ke=_.createNS("http://www.w3.org/2000/svg","g");Ke.setAttributeNS(null,"fill",this._color);var lt=_.createNS("http://www.w3.org/2000/svg","path");lt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ke.appendChild(lt);var vt=_.createNS("http://www.w3.org/2000/svg","g");vt.setAttributeNS(null,"opacity","0.25"),vt.setAttributeNS(null,"fill","#000000");var bt=_.createNS("http://www.w3.org/2000/svg","path");bt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),vt.appendChild(bt);var St=_.createNS("http://www.w3.org/2000/svg","g");St.setAttributeNS(null,"transform","translate(6.0, 7.0)"),St.setAttributeNS(null,"fill","#FFFFFF");var Ft=_.createNS("http://www.w3.org/2000/svg","g");Ft.setAttributeNS(null,"transform","translate(8.0, 8.0)");var It=_.createNS("http://www.w3.org/2000/svg","circle");It.setAttributeNS(null,"fill","#000000"),It.setAttributeNS(null,"opacity","0.25"),It.setAttributeNS(null,"cx","5.5"),It.setAttributeNS(null,"cy","5.5"),It.setAttributeNS(null,"r","5.4999962");var Wt=_.createNS("http://www.w3.org/2000/svg","circle");Wt.setAttributeNS(null,"fill","#FFFFFF"),Wt.setAttributeNS(null,"cx","5.5"),Wt.setAttributeNS(null,"cy","5.5"),Wt.setAttributeNS(null,"r","5.4999962"),Ft.appendChild(It),Ft.appendChild(Wt),se.appendChild(pe),se.appendChild(Ke),se.appendChild(vt),se.appendChild(St),se.appendChild(Ft),Y.appendChild(se),Y.setAttributeNS(null,"height",41*this._scale+"px"),Y.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(Y),this._offset=a.Point.convert(Z&&Z.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(zt){zt.preventDefault()}),this._element.addEventListener("mousedown",function(zt){zt.preventDefault()}),ei(this._element,this._anchor,"marker"),this._popup=null}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.addTo=function(Z){return this.remove(),this._map=Z,Z.getCanvasContainer().appendChild(this._element),Z.on("move",this._update),Z.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),_.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(Z){return this._lngLat=a.LngLat.convert(Z),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(Z){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),Z){if(!("offset"in Z.options)){var Y=Math.sqrt(Math.pow(13.5,2)/2);Z.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[Y,-1*(24.6+Y)],"bottom-right":[-Y,-1*(24.6+Y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=Z,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(Z){var L=Z.code,Y=Z.charCode||Z.keyCode;"Space"!==L&&"Enter"!==L&&32!==Y&&13!==Y||this.togglePopup()},X.prototype._onMapClick=function(Z){var L=Z.originalEvent.target,Y=this._element;this._popup&&(L===Y||Y.contains(L))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var Z=this._popup;return Z?(Z.isOpen()?Z.remove():Z.addTo(this._map),this):this},X.prototype._update=function(Z){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=jl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var L="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?L="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(L="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Y="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?Y="rotateX(0deg)":"map"===this._pitchAlignment&&(Y="rotateX("+this._map.getPitch()+"deg)"),Z&&"moveend"!==Z.type||(this._pos=this._pos.round()),_.setTransform(this._element,Zr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Y+" "+L)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(Z){return this._offset=a.Point.convert(Z),this._update(),this},X.prototype._onMove=function(Z){if(!this._isDragging){var L=this._clickTolerance||this._map._clickTolerance;this._isDragging=Z.point.dist(this._pointerdownPos)>=L}this._isDragging&&(this._pos=Z.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new a.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(Z){this._element.contains(Z.originalEvent.target)&&(Z.preventDefault(),this._positionDelta=Z.point.sub(this._pos).add(this._offset),this._pointerdownPos=Z.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(Z){return this._draggable=!!Z,this._map&&(Z?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(Z){return this._rotation=Z||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(Z){return this._rotationAlignment=Z||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(Z){return this._pitchAlignment=Z&&"auto"!==Z?Z:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(a.Evented),sl={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},zo=0,Js=!1,Gi=function(V){function X(Z){V.call(this),this.options=a.extend({},sl,Z),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.onAdd=function(Z){return this._map=Z,this._container=_.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),L=this._setupUI,void 0!==is?L(is):void 0!==a.window.navigator.permissions?a.window.navigator.permissions.query({name:"geolocation"}).then(function(Y){L(is="denied"!==Y.state)}):L(is=!!a.window.navigator.geolocation),this._container;var L},X.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),_.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,zo=0,Js=!1},X.prototype._isOutOfMapMaxBounds=function(Z){var L=this._map.getMaxBounds(),Y=Z.coords;return L&&(Y.longitude<L.getWest()||Y.longitude>L.getEast()||Y.latitude<L.getSouth()||Y.latitude>L.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},X.prototype._onSuccess=function(Z){if(this._map){if(this._isOutOfMapMaxBounds(Z))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",Z)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=Z,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(Z),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(Z),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",Z)),this._finish()}},X.prototype._updateCamera=function(Z){var L=new a.LngLat(Z.coords.longitude,Z.coords.latitude),Y=Z.coords.accuracy,ne=this._map.getBearing(),se=a.extend({bearing:ne},this.options.fitBoundsOptions);this._map.fitBounds(L.toBounds(Y),se,{geolocateSource:!0})},X.prototype._updateMarker=function(Z){if(Z){var L=new a.LngLat(Z.coords.longitude,Z.coords.latitude);this._accuracyCircleMarker.setLngLat(L).addTo(this._map),this._userLocationDotMarker.setLngLat(L).addTo(this._map),this._accuracy=Z.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var Z=this._map._container.clientHeight/2,L=this._map.unproject([0,Z]),Y=this._map.unproject([1,Z]),ne=L.distanceTo(Y),se=Math.ceil(2*this._accuracy/ne);this._circleElement.style.width=se+"px",this._circleElement.style.height=se+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(Z){if(this._map){if(this.options.trackUserLocation)if(1===Z.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var L=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===Z.code&&Js)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",Z)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(Z){var L=this;if(this._container.addEventListener("contextmenu",function(se){return se.preventDefault()}),this._geolocateButton=_.create("button","mapboxgl-ctrl-geolocate",this._container),_.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===Z){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Y,this._geolocateButton.setAttribute("aria-label",Y)}else{var ne=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=ne,this._geolocateButton.setAttribute("aria-label",ne)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=_.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ks(this._dotElement),this._circleElement=_.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ks({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(se){se.geolocateSource||"ACTIVE_LOCK"!==L._watchState||se.originalEvent&&"resize"===se.originalEvent.type||(L._watchState="BACKGROUND",L._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),L._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),L.fire(new a.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":zo--,Js=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var Z;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++zo>1?(Z={maximumAge:6e5,timeout:0},Js=!0):(Z=this.options.positionOptions,Js=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,Z)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(a.Evented),hc={maxWidth:100,unit:"metric"},os=function(V){this.options=a.extend({},hc,V),a.bindAll(["_onMove","setUnit"],this)};function $i(V,X,Z){var L=Z&&Z.maxWidth||100,Y=V._container.clientHeight/2,ne=V.unproject([0,Y]),se=V.unproject([L,Y]),pe=ne.distanceTo(se);if(Z&&"imperial"===Z.unit){var ke=3.2808*pe;ke>5280?oo(X,L,ke/5280,V._getUIString("ScaleControl.Miles")):oo(X,L,ke,V._getUIString("ScaleControl.Feet"))}else Z&&"nautical"===Z.unit?oo(X,L,pe/1852,V._getUIString("ScaleControl.NauticalMiles")):pe>=1e3?oo(X,L,pe/1e3,V._getUIString("ScaleControl.Kilometers")):oo(X,L,pe,V._getUIString("ScaleControl.Meters"))}function oo(V,X,Z,L){var Y,ne,se,Re,Be,pe=(Y=Z,(ne=Math.pow(10,(""+Math.floor(Y)).length-1))*((se=Y/ne)>=10?10:se>=5?5:se>=3?3:se>=2?2:se>=1?1:(Re=se,Be=Math.pow(10,Math.ceil(-Math.log(Re)/Math.LN10)),Math.round(Re*Be)/Be)));V.style.width=X*(pe/Z)+"px",V.innerHTML=pe+"&nbsp;"+L}os.prototype.getDefaultPosition=function(){return"bottom-left"},os.prototype._onMove=function(){$i(this._map,this._container,this.options)},os.prototype.onAdd=function(V){return this._map=V,this._container=_.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",V.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},os.prototype.onRemove=function(){_.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},os.prototype.setUnit=function(V){this.options.unit=V,$i(this._map,this._container,this.options)};var Ea=function(V){this._fullscreen=!1,V&&V.container&&(V.container instanceof a.window.HTMLElement?this._container=V.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ea.prototype.onAdd=function(V){return this._map=V,this._container||(this._container=this._map.getContainer()),this._controlContainer=_.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ea.prototype.onRemove=function(){_.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ea.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Ea.prototype._setupUI=function(){var V=this._fullscreenButton=_.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);_.create("span","mapboxgl-ctrl-icon",V).setAttribute("aria-hidden",!0),V.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ea.prototype._updateTitle=function(){var V=this._getTitle();this._fullscreenButton.setAttribute("aria-label",V),this._fullscreenButton.title=V},Ea.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ea.prototype._isFullscreen=function(){return this._fullscreen},Ea.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ea.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var El={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},qu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),rt=function(V){function X(Z){V.call(this),this.options=a.extend(Object.create(El),Z),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return V&&(X.__proto__=V),(X.prototype=Object.create(V&&V.prototype)).constructor=X,X.prototype.addTo=function(Z){return this._map&&this.remove(),this._map=Z,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&_.remove(this._content),this._container&&(_.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(Z){return this._lngLat=a.LngLat.convert(Z),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(Z){return this.setDOMContent(a.window.document.createTextNode(Z))},X.prototype.setHTML=function(Z){var L,Y=a.window.document.createDocumentFragment(),ne=a.window.document.createElement("body");for(ne.innerHTML=Z;L=ne.firstChild;)Y.appendChild(L);return this.setDOMContent(Y)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(Z){return this.options.maxWidth=Z,this._update(),this},X.prototype.setDOMContent=function(Z){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=_.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(Z),this._createCloseButton(),this._update(),this._focusFirstElement(),this},X.prototype.addClassName=function(Z){this._container&&this._container.classList.add(Z)},X.prototype.removeClassName=function(Z){this._container&&this._container.classList.remove(Z)},X.prototype.setOffset=function(Z){return this.options.offset=Z,this._update(),this},X.prototype.toggleClassName=function(Z){if(this._container)return this._container.classList.toggle(Z)},X.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=_.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(Z){this._update(Z.point)},X.prototype._onMouseMove=function(Z){this._update(Z.point)},X.prototype._onDrag=function(Z){this._update(Z.point)},X.prototype._update=function(Z){var L=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=_.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=_.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ke){return L._container.classList.add(Ke)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=jl(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||Z)){var ne=this._pos=this._trackPointer&&Z?Z:this._map.project(this._lngLat),se=this.options.anchor,pe=at(this.options.offset);if(!se){var ke,Re=this._container.offsetWidth,Be=this._container.offsetHeight;ke=ne.y+pe.bottom.y<Be?["top"]:ne.y>this._map.transform.height-Be?["bottom"]:[],ne.x<Re/2?ke.push("left"):ne.x>this._map.transform.width-Re/2&&ke.push("right"),se=0===ke.length?"bottom":ke.join("-")}var Ze=ne.add(pe[se]).round();_.setTransform(this._container,Zr[se]+" translate("+Ze.x+"px,"+Ze.y+"px)"),ei(this._container,se,"popup")}},X.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var Z=this._container.querySelector(qu);Z&&Z.focus()}},X.prototype._onClose=function(){this.remove()},X}(a.Evented);function at(V){if(V){if("number"==typeof V){var X=Math.round(Math.sqrt(.5*Math.pow(V,2)));return{center:new a.Point(0,0),top:new a.Point(0,V),"top-left":new a.Point(X,X),"top-right":new a.Point(-X,X),bottom:new a.Point(0,-V),"bottom-left":new a.Point(X,-X),"bottom-right":new a.Point(-X,-X),left:new a.Point(V,0),right:new a.Point(-V,0)}}if(V instanceof a.Point||Array.isArray(V)){var Z=a.Point.convert(V);return{center:Z,top:Z,"top-left":Z,"top-right":Z,bottom:Z,"bottom-left":Z,"bottom-right":Z,left:Z,right:Z}}return{center:a.Point.convert(V.center||[0,0]),top:a.Point.convert(V.top||[0,0]),"top-left":a.Point.convert(V["top-left"]||[0,0]),"top-right":a.Point.convert(V["top-right"]||[0,0]),bottom:a.Point.convert(V.bottom||[0,0]),"bottom-left":a.Point.convert(V["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(V["bottom-right"]||[0,0]),left:a.Point.convert(V.left||[0,0]),right:a.Point.convert(V.right||[0,0])}}return at(new a.Point(0,0))}var gt={version:a.version,supported:M,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:vs,NavigationControl:ys,GeolocateControl:Gi,AttributionControl:qi,ScaleControl:os,FullscreenControl:Ea,Popup:rt,Marker:Ks,Style:vr,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){At().acquire(ft)},clearPrewarmedResources:function(){var V=xt;V&&(V.isPreloaded()&&1===V.numActive()?(V.release(ft),xt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(V){a.config.ACCESS_TOKEN=V},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(V){a.config.API_URL=V},get workerCount(){return et.workerCount},set workerCount(V){et.workerCount=V},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(V){a.config.MAX_PARALLEL_IMAGE_REQUESTS=V},clearStorage:function(V){a.clearTileCache(V)},workerUrl:""};return gt}),S}()},3108:function(ie,z,e){"use strict";ie.exports=e(26099)},26099:function(ie,z,e){"use strict";var S=e(64928),A=e(32420),a=e(51160),M=e(76752),_=e(55616),d=e(31264),s=e(47520),t=e(18400),i=e(72512),n=e(76244);function r(o,u){for(var l=u[0],h=u[1],c=1/(u[2]-l),b=1/(u[3]-h),p=new Array(o.length),m=0,v=o.length/2;m<v;m++)p[2*m]=A((o[2*m]-l)*c,0,1),p[2*m+1]=A((o[2*m+1]-h)*b,0,1);return p}ie.exports=function(o,u){u||(u={}),o=s(o,"float64"),u=_(u,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var l=d(u.maxDepth,255),h=d(u.bounds,M(o,2));h[0]===h[2]&&h[2]++,h[1]===h[3]&&h[3]++;var c,b=r(o,h),p=o.length>>>1;u.dtype||(u.dtype="array"),"string"==typeof u.dtype?c=new(i(u.dtype))(p):u.dtype&&(c=u.dtype,Array.isArray(c)&&(c.length=p));for(var m=0;m<p;++m)c[m]=m;var v=[],x=[],y=[],w=[];!function B(q,N,H,$,j,W){if(!$.length)return null;var G=v[j]||(v[j]=[]),ae=y[j]||(y[j]=[]),te=x[j]||(x[j]=[]),Q=G.length;if(++j>l||W>1073741824){for(var ee=0;ee<$.length;ee++)G.push($[ee]),ae.push(W),te.push(null,null,null,null);return Q}if(G.push($[0]),ae.push(W),$.length<=1)return te.push(null,null,null,null),Q;for(var re=.5*H,J=q+re,le=N+re,fe=[],ce=[],ge=[],Te=[],Me=1,we=$.length;Me<we;Me++){var xe=$[Me],ye=b[2*xe+1];b[2*xe]<J?ye<le?fe.push(xe):ce.push(xe):ye<le?ge.push(xe):Te.push(xe)}return te.push(B(q,N,re,fe,j,W<<=2),B(q,le,re,ce,j,W+1),B(J,N,re,ge,j,W+2),B(J,le,re,Te,j,W+3)),Q}(0,0,1,c,0,1);for(var f=0,C=0;C<v.length;C++){var T=v[C];if(c.set)c.set(T,f);else for(var D=0,R=T.length;D<R;D++)c[D+f]=T[D];var P=f+v[C].length;w[C]=[f,P],f=P}return c.range=function(){for(var B,q=[],N=arguments.length;N--;)q[N]=arguments[N];if(t(q[q.length-1])){var H=q.pop();q.length||null==H.x&&null==H.l&&null==H.left||(q=[H],B={}),B=_(H,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else B={};q.length||(q=h);var $,j=a.apply(void 0,q),W=[Math.min(j.x,j.x+j.width),Math.min(j.y,j.y+j.height),Math.max(j.x,j.x+j.width),Math.max(j.y,j.y+j.height)],G=W[0],ae=W[1],te=W[2],Q=W[3],ee=r([G,ae,te,Q],h),re=ee[0],J=ee[1],le=ee[2],fe=ee[3],ce=d(B.level,v.length);if(null!=B.d&&("number"==typeof B.d?$=[B.d,B.d]:B.d.length&&($=B.d),ce=Math.min(Math.max(Math.ceil(-n(Math.abs($[0])/(h[2]-h[0]))),Math.ceil(-n(Math.abs($[1])/(h[3]-h[1])))),ce)),ce=Math.min(ce,v.length),B.lod)return function(Te,Me,we,xe,be){for(var ye=[],Se=0;Se<be;Se++){var Ee=y[Se],he=w[Se][0],ue=O(Te,Me,Se),me=O(we,xe,Se),Pe=S.ge(Ee,ue),Ce=S.gt(Ee,me,Pe,Ee.length-1);ye[Se]=[Pe+he,Ce+he]}return ye}(re,J,le,fe,ce);var ge=[];return function Te(Me,we,xe,be,ye,Se){if(null!==ye&&null!==Se&&!(re>Me+xe||J>we+xe||le<Me||fe<we||be>=ce||ye===Se)){var Ee=v[be];void 0===Se&&(Se=Ee.length);for(var he=ye;he<Se;he++){var ue=Ee[he],me=o[2*ue],Pe=o[2*ue+1];me>=G&&me<=te&&Pe>=ae&&Pe<=Q&&ge.push(ue)}var Ce=x[be],Ie=Ce[4*ye+0],Oe=Ce[4*ye+1],ze=Ce[4*ye+2],je=Ce[4*ye+3],ve=function(Ve,Ne){for(var We=null,Xe=0;null===We;)if(We=Ve[4*Ne+Xe],++Xe>Ve.length)return null;return We}(Ce,ye+1),Ae=.5*xe,Le=be+1;Te(Me,we,Ae,Le,Ie,Oe||ze||je||ve),Te(Me,we+Ae,Ae,Le,Oe,ze||je||ve),Te(Me+Ae,we,Ae,Le,ze,je||ve),Te(Me+Ae,we+Ae,Ae,Le,je,ve)}}(0,0,1,0,0,1),ge},c;function O(B,q,N){for(var H=1,$=.5,j=.5,W=.5,G=0;G<N;G++)H<<=2,H+=B<$?q<j?0:1:q<j?2:3,W*=.5,$+=B<$?-W:W,j+=q<j?-W:W;return H}}},40440:function(ie,z,e){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var S=e(3256),A=6378137;function a(d){var s=0;if(d&&d.length>0){s+=Math.abs(M(d[0]));for(var t=1;t<d.length;t++)s-=Math.abs(M(d[t]))}return s}function M(d){var s,t,i,n,r,o,u=0,l=d.length;if(l>2){for(o=0;o<l;o++)o===l-2?(i=l-2,n=l-1,r=0):o===l-1?(i=l-1,n=0,r=1):(i=o,n=o+1,r=o+2),s=d[i],t=d[n],u+=(_(d[r][0])-_(s[0]))*Math.sin(_(t[1]));u=u*A*A/2}return u}function _(d){return d*Math.PI/180}z.default=function(d){return S.geomReduce(d,function(s,t){return s+function(i){var n,r=0;switch(i.type){case"Polygon":return a(i.coordinates);case"MultiPolygon":for(n=0;n<i.coordinates.length;n++)r+=a(i.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},46284:function(ie,z){"use strict";function e(o,u,l){void 0===l&&(l={});var h={type:"Feature"};return(0===l.id||l.id)&&(h.id=l.id),l.bbox&&(h.bbox=l.bbox),h.properties=u||{},h.geometry=o,h}function S(o,u,l){if(void 0===l&&(l={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(o[0])||!r(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},u,l)}function A(o,u,l){void 0===l&&(l={});for(var h=0,c=o;h<c.length;h++){var b=c[h];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var p=0;p<b[b.length-1].length;p++)if(b[b.length-1][p]!==b[0][p])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},u,l)}function a(o,u,l){if(void 0===l&&(l={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},u,l)}function M(o,u){void 0===u&&(u={});var l={type:"FeatureCollection"};return u.id&&(l.id=u.id),u.bbox&&(l.bbox=u.bbox),l.features=o,l}function _(o,u,l){return void 0===l&&(l={}),e({type:"MultiLineString",coordinates:o},u,l)}function d(o,u,l){return void 0===l&&(l={}),e({type:"MultiPoint",coordinates:o},u,l)}function s(o,u,l){return void 0===l&&(l={}),e({type:"MultiPolygon",coordinates:o},u,l)}function t(o,u){void 0===u&&(u="kilometers");var l=z.factors[u];if(!l)throw new Error(u+" units is invalid");return o*l}function i(o,u){void 0===u&&(u="kilometers");var l=z.factors[u];if(!l)throw new Error(u+" units is invalid");return o/l}function n(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)}Object.defineProperty(z,"__esModule",{value:!0}),z.earthRadius=6371008.8,z.factors={centimeters:100*z.earthRadius,centimetres:100*z.earthRadius,degrees:z.earthRadius/111325,feet:3.28084*z.earthRadius,inches:39.37*z.earthRadius,kilometers:z.earthRadius/1e3,kilometres:z.earthRadius/1e3,meters:z.earthRadius,metres:z.earthRadius,miles:z.earthRadius/1609.344,millimeters:1e3*z.earthRadius,millimetres:1e3*z.earthRadius,nauticalmiles:z.earthRadius/1852,radians:1,yards:1.0936*z.earthRadius},z.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/z.earthRadius,yards:1.0936133},z.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},z.feature=e,z.geometry=function(o,u,l){switch(void 0===l&&(l={}),o){case"Point":return S(u).geometry;case"LineString":return a(u).geometry;case"Polygon":return A(u).geometry;case"MultiPoint":return d(u).geometry;case"MultiLineString":return _(u).geometry;case"MultiPolygon":return s(u).geometry;default:throw new Error(o+" is invalid")}},z.point=S,z.points=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return S(h,u)}),l)},z.polygon=A,z.polygons=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return A(h,u)}),l)},z.lineString=a,z.lineStrings=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return a(h,u)}),l)},z.featureCollection=M,z.multiLineString=_,z.multiPoint=d,z.multiPolygon=s,z.geometryCollection=function(o,u,l){return void 0===l&&(l={}),e({type:"GeometryCollection",geometries:o},u,l)},z.round=function(o,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var l=Math.pow(10,u||0);return Math.round(o*l)/l},z.radiansToLength=t,z.lengthToRadians=i,z.lengthToDegrees=function(o,u){return n(i(o,u))},z.bearingToAzimuth=function(o){var u=o%360;return u<0&&(u+=360),u},z.radiansToDegrees=n,z.degreesToRadians=function(o){return o%360*Math.PI/180},z.convertLength=function(o,u,l){if(void 0===u&&(u="kilometers"),void 0===l&&(l="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,u),l)},z.convertArea=function(o,u,l){if(void 0===u&&(u="meters"),void 0===l&&(l="kilometers"),!(o>=0))throw new Error("area must be a positive number");var h=z.areaFactors[u];if(!h)throw new Error("invalid original units");var c=z.areaFactors[l];if(!c)throw new Error("invalid final units");return o/h*c},z.isNumber=r,z.isObject=function(o){return!!o&&o.constructor===Object},z.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(u){if(!r(u))throw new Error("bbox must only contain numbers")})},z.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")}},3256:function(ie,z,e){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var S=e(46284);function A(i,n,r){if(null!==i)for(var o,u,l,h,c,b,p,m,v=0,x=0,y=i.type,w="FeatureCollection"===y,f="Feature"===y,C=w?i.features.length:1,T=0;T<C;T++){c=(m=!!(p=w?i.features[T].geometry:f?i.geometry:i)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var D=0;D<c;D++){var R=0,P=0;if(null!==(h=m?p.geometries[D]:p)){b=h.coordinates;var O=h.type;switch(v=!r||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":if(!1===n(b,x,T,R,P))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(o=0;o<b.length;o++){if(!1===n(b[o],x,T,R,P))return!1;x++,"MultiPoint"===O&&R++}"LineString"===O&&R++;break;case"Polygon":case"MultiLineString":for(o=0;o<b.length;o++){for(u=0;u<b[o].length-v;u++){if(!1===n(b[o][u],x,T,R,P))return!1;x++}"MultiLineString"===O&&R++,"Polygon"===O&&P++}"Polygon"===O&&R++;break;case"MultiPolygon":for(o=0;o<b.length;o++){for(P=0,u=0;u<b[o].length;u++){for(l=0;l<b[o][u].length-v;l++){if(!1===n(b[o][u][l],x,T,R,P))return!1;x++}P++}R++}break;case"GeometryCollection":for(o=0;o<h.geometries.length;o++)if(!1===A(h.geometries[o],n,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&!1!==n(i.features[r].properties,r);r++);break;case"Feature":n(i.properties,0)}}function M(i,n){if("Feature"===i.type)n(i,0);else if("FeatureCollection"===i.type)for(var r=0;r<i.features.length&&!1!==n(i.features[r],r);r++);}function _(i,n){var r,o,u,l,h,c,b,p,m,v,x=0,y="FeatureCollection"===i.type,w="Feature"===i.type,f=y?i.features.length:1;for(r=0;r<f;r++){for(p=y?i.features[r].properties:w?i.properties:{},m=y?i.features[r].bbox:w?i.bbox:void 0,v=y?i.features[r].id:w?i.id:void 0,h=(b=!!(c=y?i.features[r].geometry:w?i.geometry:i)&&"GeometryCollection"===c.type)?c.geometries.length:1,u=0;u<h;u++)if(null!==(l=b?c.geometries[u]:c))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(l,x,p,m,v))return!1;break;case"GeometryCollection":for(o=0;o<l.geometries.length;o++)if(!1===n(l.geometries[o],x,p,m,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,x,p,m,v))return!1;x++}}function d(i,n){_(i,function(r,o,u,l,h){var c,b=null===r?null:r.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return!1!==n(S.feature(r,u,{bbox:l,id:h}),o,0)&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var p=0;p<r.coordinates.length;p++)if(!1===n(S.feature({type:c,coordinates:r.coordinates[p]},u),o,p))return!1})}function s(i,n){d(i,function(r,o,u){var l=0;if(r.geometry){var h=r.geometry.type;if("Point"!==h&&"MultiPoint"!==h){var c,b=0,p=0,m=0;return!1!==A(r,function(v,x,y,w,f){if(void 0===c||o>b||w>p||f>m)return c=v,b=o,p=w,m=f,void(l=0);var C=S.lineString([c,v],r.properties);if(!1===n(C,o,u,f,l))return!1;l++,c=v})&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");d(i,function(r,o,u){if(null!==r.geometry){var h=r.geometry.coordinates;switch(r.geometry.type){case"LineString":if(!1===n(r,o,u,0,0))return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(!1===n(S.lineString(h[c],r.properties),o,u,c))return!1}}})}z.coordEach=A,z.coordReduce=function(i,n,r,o){var u=r;return A(i,function(l,h,c,b,p){u=0===h&&void 0===r?l:n(u,l,h,c,b,p)},o),u},z.propEach=a,z.propReduce=function(i,n,r){var o=r;return a(i,function(u,l){o=0===l&&void 0===r?u:n(o,u,l)}),o},z.featureEach=M,z.featureReduce=function(i,n,r){var o=r;return M(i,function(u,l){o=0===l&&void 0===r?u:n(o,u,l)}),o},z.coordAll=function(i){var n=[];return A(i,function(r){n.push(r)}),n},z.geomEach=_,z.geomReduce=function(i,n,r){var o=r;return _(i,function(u,l,h,c,b){o=0===l&&void 0===r?u:n(o,u,l,h,c,b)}),o},z.flattenEach=d,z.flattenReduce=function(i,n,r){var o=r;return d(i,function(u,l,h){o=0===l&&0===h&&void 0===r?u:n(o,u,l,h)}),o},z.segmentEach=s,z.segmentReduce=function(i,n,r){var o=r,u=!1;return s(i,function(l,h,c,b,p){o=!1===u&&void 0===r?l:n(o,l,h,c,b,p),u=!0}),o},z.lineEach=t,z.lineReduce=function(i,n,r){var o=r;return t(i,function(u,l,h,c){o=0===l&&void 0===r?u:n(o,u,l,h,c)}),o},z.findSegment=function(i,n){if(!S.isObject(n=n||{}))throw new Error("options is invalid");var r,o=n.featureIndex||0,u=n.multiFeatureIndex||0,l=n.geometryIndex||0,h=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var b=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=b.length+h-1),S.lineString([b[h],b[h+1]],c,n);case"Polygon":return l<0&&(l=b.length+l),h<0&&(h=b[l].length+h-1),S.lineString([b[l][h],b[l][h+1]],c,n);case"MultiLineString":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h-1),S.lineString([b[u][h],b[u][h+1]],c,n);case"MultiPolygon":return u<0&&(u=b.length+u),l<0&&(l=b[u].length+l),h<0&&(h=b[u][l].length-h-1),S.lineString([b[u][l][h],b[u][l][h+1]],c,n)}throw new Error("geojson is invalid")},z.findPoint=function(i,n){if(!S.isObject(n=n||{}))throw new Error("options is invalid");var r,o=n.featureIndex||0,u=n.multiFeatureIndex||0,l=n.geometryIndex||0,h=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var b=r.coordinates;switch(r.type){case"Point":return S.point(b,c,n);case"MultiPoint":return u<0&&(u=b.length+u),S.point(b[u],c,n);case"LineString":return h<0&&(h=b.length+h),S.point(b[h],c,n);case"Polygon":return l<0&&(l=b.length+l),h<0&&(h=b[l].length+h),S.point(b[l][h],c,n);case"MultiLineString":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h),S.point(b[u][h],c,n);case"MultiPolygon":return u<0&&(u=b.length+u),l<0&&(l=b[u].length+l),h<0&&(h=b[u][l].length-h),S.point(b[u][l][h],c,n)}throw new Error("geojson is invalid")}},42428:function(ie,z,e){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var S=e(84880);function A(a){var M=[1/0,1/0,-1/0,-1/0];return S.coordEach(a,function(_){M[0]>_[0]&&(M[0]=_[0]),M[1]>_[1]&&(M[1]=_[1]),M[2]<_[0]&&(M[2]=_[0]),M[3]<_[1]&&(M[3]=_[1])}),M}A.default=A,z.default=A},76796:function(ie,z){"use strict";function e(o,u,l){void 0===l&&(l={});var h={type:"Feature"};return(0===l.id||l.id)&&(h.id=l.id),l.bbox&&(h.bbox=l.bbox),h.properties=u||{},h.geometry=o,h}function S(o,u,l){if(void 0===l&&(l={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(o[0])||!r(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},u,l)}function A(o,u,l){void 0===l&&(l={});for(var h=0,c=o;h<c.length;h++){var b=c[h];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var p=0;p<b[b.length-1].length;p++)if(b[b.length-1][p]!==b[0][p])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},u,l)}function a(o,u,l){if(void 0===l&&(l={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},u,l)}function M(o,u){void 0===u&&(u={});var l={type:"FeatureCollection"};return u.id&&(l.id=u.id),u.bbox&&(l.bbox=u.bbox),l.features=o,l}function _(o,u,l){return void 0===l&&(l={}),e({type:"MultiLineString",coordinates:o},u,l)}function d(o,u,l){return void 0===l&&(l={}),e({type:"MultiPoint",coordinates:o},u,l)}function s(o,u,l){return void 0===l&&(l={}),e({type:"MultiPolygon",coordinates:o},u,l)}function t(o,u){void 0===u&&(u="kilometers");var l=z.factors[u];if(!l)throw new Error(u+" units is invalid");return o*l}function i(o,u){void 0===u&&(u="kilometers");var l=z.factors[u];if(!l)throw new Error(u+" units is invalid");return o/l}function n(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)}Object.defineProperty(z,"__esModule",{value:!0}),z.earthRadius=6371008.8,z.factors={centimeters:100*z.earthRadius,centimetres:100*z.earthRadius,degrees:z.earthRadius/111325,feet:3.28084*z.earthRadius,inches:39.37*z.earthRadius,kilometers:z.earthRadius/1e3,kilometres:z.earthRadius/1e3,meters:z.earthRadius,metres:z.earthRadius,miles:z.earthRadius/1609.344,millimeters:1e3*z.earthRadius,millimetres:1e3*z.earthRadius,nauticalmiles:z.earthRadius/1852,radians:1,yards:1.0936*z.earthRadius},z.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/z.earthRadius,yards:1.0936133},z.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},z.feature=e,z.geometry=function(o,u,l){switch(void 0===l&&(l={}),o){case"Point":return S(u).geometry;case"LineString":return a(u).geometry;case"Polygon":return A(u).geometry;case"MultiPoint":return d(u).geometry;case"MultiLineString":return _(u).geometry;case"MultiPolygon":return s(u).geometry;default:throw new Error(o+" is invalid")}},z.point=S,z.points=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return S(h,u)}),l)},z.polygon=A,z.polygons=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return A(h,u)}),l)},z.lineString=a,z.lineStrings=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return a(h,u)}),l)},z.featureCollection=M,z.multiLineString=_,z.multiPoint=d,z.multiPolygon=s,z.geometryCollection=function(o,u,l){return void 0===l&&(l={}),e({type:"GeometryCollection",geometries:o},u,l)},z.round=function(o,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var l=Math.pow(10,u||0);return Math.round(o*l)/l},z.radiansToLength=t,z.lengthToRadians=i,z.lengthToDegrees=function(o,u){return n(i(o,u))},z.bearingToAzimuth=function(o){var u=o%360;return u<0&&(u+=360),u},z.radiansToDegrees=n,z.degreesToRadians=function(o){return o%360*Math.PI/180},z.convertLength=function(o,u,l){if(void 0===u&&(u="kilometers"),void 0===l&&(l="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,u),l)},z.convertArea=function(o,u,l){if(void 0===u&&(u="meters"),void 0===l&&(l="kilometers"),!(o>=0))throw new Error("area must be a positive number");var h=z.areaFactors[u];if(!h)throw new Error("invalid original units");var c=z.areaFactors[l];if(!c)throw new Error("invalid final units");return o/h*c},z.isNumber=r,z.isObject=function(o){return!!o&&o.constructor===Object},z.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(u){if(!r(u))throw new Error("bbox must only contain numbers")})},z.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")}},84880:function(ie,z,e){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var S=e(76796);function A(i,n,r){if(null!==i)for(var o,u,l,h,c,b,p,m,v=0,x=0,y=i.type,w="FeatureCollection"===y,f="Feature"===y,C=w?i.features.length:1,T=0;T<C;T++){c=(m=!!(p=w?i.features[T].geometry:f?i.geometry:i)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var D=0;D<c;D++){var R=0,P=0;if(null!==(h=m?p.geometries[D]:p)){b=h.coordinates;var O=h.type;switch(v=!r||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":if(!1===n(b,x,T,R,P))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(o=0;o<b.length;o++){if(!1===n(b[o],x,T,R,P))return!1;x++,"MultiPoint"===O&&R++}"LineString"===O&&R++;break;case"Polygon":case"MultiLineString":for(o=0;o<b.length;o++){for(u=0;u<b[o].length-v;u++){if(!1===n(b[o][u],x,T,R,P))return!1;x++}"MultiLineString"===O&&R++,"Polygon"===O&&P++}"Polygon"===O&&R++;break;case"MultiPolygon":for(o=0;o<b.length;o++){for(P=0,u=0;u<b[o].length;u++){for(l=0;l<b[o][u].length-v;l++){if(!1===n(b[o][u][l],x,T,R,P))return!1;x++}P++}R++}break;case"GeometryCollection":for(o=0;o<h.geometries.length;o++)if(!1===A(h.geometries[o],n,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&!1!==n(i.features[r].properties,r);r++);break;case"Feature":n(i.properties,0)}}function M(i,n){if("Feature"===i.type)n(i,0);else if("FeatureCollection"===i.type)for(var r=0;r<i.features.length&&!1!==n(i.features[r],r);r++);}function _(i,n){var r,o,u,l,h,c,b,p,m,v,x=0,y="FeatureCollection"===i.type,w="Feature"===i.type,f=y?i.features.length:1;for(r=0;r<f;r++){for(p=y?i.features[r].properties:w?i.properties:{},m=y?i.features[r].bbox:w?i.bbox:void 0,v=y?i.features[r].id:w?i.id:void 0,h=(b=!!(c=y?i.features[r].geometry:w?i.geometry:i)&&"GeometryCollection"===c.type)?c.geometries.length:1,u=0;u<h;u++)if(null!==(l=b?c.geometries[u]:c))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(l,x,p,m,v))return!1;break;case"GeometryCollection":for(o=0;o<l.geometries.length;o++)if(!1===n(l.geometries[o],x,p,m,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,x,p,m,v))return!1;x++}}function d(i,n){_(i,function(r,o,u,l,h){var c,b=null===r?null:r.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return!1!==n(S.feature(r,u,{bbox:l,id:h}),o,0)&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var p=0;p<r.coordinates.length;p++)if(!1===n(S.feature({type:c,coordinates:r.coordinates[p]},u),o,p))return!1})}function s(i,n){d(i,function(r,o,u){var l=0;if(r.geometry){var h=r.geometry.type;if("Point"!==h&&"MultiPoint"!==h){var c,b=0,p=0,m=0;return!1!==A(r,function(v,x,y,w,f){if(void 0===c||o>b||w>p||f>m)return c=v,b=o,p=w,m=f,void(l=0);var C=S.lineString([c,v],r.properties);if(!1===n(C,o,u,f,l))return!1;l++,c=v})&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");d(i,function(r,o,u){if(null!==r.geometry){var h=r.geometry.coordinates;switch(r.geometry.type){case"LineString":if(!1===n(r,o,u,0,0))return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(!1===n(S.lineString(h[c],r.properties),o,u,c))return!1}}})}z.coordEach=A,z.coordReduce=function(i,n,r,o){var u=r;return A(i,function(l,h,c,b,p){u=0===h&&void 0===r?l:n(u,l,h,c,b,p)},o),u},z.propEach=a,z.propReduce=function(i,n,r){var o=r;return a(i,function(u,l){o=0===l&&void 0===r?u:n(o,u,l)}),o},z.featureEach=M,z.featureReduce=function(i,n,r){var o=r;return M(i,function(u,l){o=0===l&&void 0===r?u:n(o,u,l)}),o},z.coordAll=function(i){var n=[];return A(i,function(r){n.push(r)}),n},z.geomEach=_,z.geomReduce=function(i,n,r){var o=r;return _(i,function(u,l,h,c,b){o=0===l&&void 0===r?u:n(o,u,l,h,c,b)}),o},z.flattenEach=d,z.flattenReduce=function(i,n,r){var o=r;return d(i,function(u,l,h){o=0===l&&0===h&&void 0===r?u:n(o,u,l,h)}),o},z.segmentEach=s,z.segmentReduce=function(i,n,r){var o=r,u=!1;return s(i,function(l,h,c,b,p){o=!1===u&&void 0===r?l:n(o,l,h,c,b,p),u=!0}),o},z.lineEach=t,z.lineReduce=function(i,n,r){var o=r;return t(i,function(u,l,h,c){o=0===l&&void 0===r?u:n(o,u,l,h,c)}),o},z.findSegment=function(i,n){if(!S.isObject(n=n||{}))throw new Error("options is invalid");var r,o=n.featureIndex||0,u=n.multiFeatureIndex||0,l=n.geometryIndex||0,h=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var b=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=b.length+h-1),S.lineString([b[h],b[h+1]],c,n);case"Polygon":return l<0&&(l=b.length+l),h<0&&(h=b[l].length+h-1),S.lineString([b[l][h],b[l][h+1]],c,n);case"MultiLineString":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h-1),S.lineString([b[u][h],b[u][h+1]],c,n);case"MultiPolygon":return u<0&&(u=b.length+u),l<0&&(l=b[u].length+l),h<0&&(h=b[u][l].length-h-1),S.lineString([b[u][l][h],b[u][l][h+1]],c,n)}throw new Error("geojson is invalid")},z.findPoint=function(i,n){if(!S.isObject(n=n||{}))throw new Error("options is invalid");var r,o=n.featureIndex||0,u=n.multiFeatureIndex||0,l=n.geometryIndex||0,h=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var b=r.coordinates;switch(r.type){case"Point":return S.point(b,c,n);case"MultiPoint":return u<0&&(u=b.length+u),S.point(b[u],c,n);case"LineString":return h<0&&(h=b.length+h),S.point(b[h],c,n);case"Polygon":return l<0&&(l=b.length+l),h<0&&(h=b[l].length+h),S.point(b[l][h],c,n);case"MultiLineString":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h),S.point(b[u][h],c,n);case"MultiPolygon":return u<0&&(u=b.length+u),l<0&&(l=b[u].length+l),h<0&&(h=b[u][l].length-h),S.point(b[u][l][h],c,n)}throw new Error("geojson is invalid")}},77844:function(ie,z,e){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var S=e(43752),A=e(49840);z.default=function(a,M){void 0===M&&(M={});var _=0,d=0,s=0;return S.coordEach(a,function(t){_+=t[0],d+=t[1],s++}),A.point([_/s,d/s],M.properties)}},49840:function(ie,z){"use strict";function e(o,u,l){void 0===l&&(l={});var h={type:"Feature"};return(0===l.id||l.id)&&(h.id=l.id),l.bbox&&(h.bbox=l.bbox),h.properties=u||{},h.geometry=o,h}function S(o,u,l){return void 0===l&&(l={}),e({type:"Point",coordinates:o},u,l)}function A(o,u,l){void 0===l&&(l={});for(var h=0,c=o;h<c.length;h++){var b=c[h];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var p=0;p<b[b.length-1].length;p++)if(b[b.length-1][p]!==b[0][p])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},u,l)}function a(o,u,l){if(void 0===l&&(l={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},u,l)}function M(o,u){void 0===u&&(u={});var l={type:"FeatureCollection"};return u.id&&(l.id=u.id),u.bbox&&(l.bbox=u.bbox),l.features=o,l}function _(o,u,l){return void 0===l&&(l={}),e({type:"MultiLineString",coordinates:o},u,l)}function d(o,u,l){return void 0===l&&(l={}),e({type:"MultiPoint",coordinates:o},u,l)}function s(o,u,l){return void 0===l&&(l={}),e({type:"MultiPolygon",coordinates:o},u,l)}function t(o,u){void 0===u&&(u="kilometers");var l=z.factors[u];if(!l)throw new Error(u+" units is invalid");return o*l}function i(o,u){void 0===u&&(u="kilometers");var l=z.factors[u];if(!l)throw new Error(u+" units is invalid");return o/l}function n(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)&&!/^\s*$/.test(o)}Object.defineProperty(z,"__esModule",{value:!0}),z.earthRadius=6371008.8,z.factors={centimeters:100*z.earthRadius,centimetres:100*z.earthRadius,degrees:z.earthRadius/111325,feet:3.28084*z.earthRadius,inches:39.37*z.earthRadius,kilometers:z.earthRadius/1e3,kilometres:z.earthRadius/1e3,meters:z.earthRadius,metres:z.earthRadius,miles:z.earthRadius/1609.344,millimeters:1e3*z.earthRadius,millimetres:1e3*z.earthRadius,nauticalmiles:z.earthRadius/1852,radians:1,yards:z.earthRadius/1.0936},z.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/z.earthRadius,yards:.91441111923921},z.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},z.feature=e,z.geometry=function(o,u,l){switch(void 0===l&&(l={}),o){case"Point":return S(u).geometry;case"LineString":return a(u).geometry;case"Polygon":return A(u).geometry;case"MultiPoint":return d(u).geometry;case"MultiLineString":return _(u).geometry;case"MultiPolygon":return s(u).geometry;default:throw new Error(o+" is invalid")}},z.point=S,z.points=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return S(h,u)}),l)},z.polygon=A,z.polygons=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return A(h,u)}),l)},z.lineString=a,z.lineStrings=function(o,u,l){return void 0===l&&(l={}),M(o.map(function(h){return a(h,u)}),l)},z.featureCollection=M,z.multiLineString=_,z.multiPoint=d,z.multiPolygon=s,z.geometryCollection=function(o,u,l){return void 0===l&&(l={}),e({type:"GeometryCollection",geometries:o},u,l)},z.round=function(o,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var l=Math.pow(10,u||0);return Math.round(o*l)/l},z.radiansToLength=t,z.lengthToRadians=i,z.lengthToDegrees=function(o,u){return n(i(o,u))},z.bearingToAzimuth=function(o){var u=o%360;return u<0&&(u+=360),u},z.radiansToDegrees=n,z.degreesToRadians=function(o){return o%360*Math.PI/180},z.convertLength=function(o,u,l){if(void 0===u&&(u="kilometers"),void 0===l&&(l="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,u),l)},z.convertArea=function(o,u,l){if(void 0===u&&(u="meters"),void 0===l&&(l="kilometers"),!(o>=0))throw new Error("area must be a positive number");var h=z.areaFactors[u];if(!h)throw new Error("invalid original units");var c=z.areaFactors[l];if(!c)throw new Error("invalid final units");return o/h*c},z.isNumber=r,z.isObject=function(o){return!!o&&o.constructor===Object},z.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(u){if(!r(u))throw new Error("bbox must only contain numbers")})},z.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")},z.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},z.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},z.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},z.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},z.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},z.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},z.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(ie,z,e){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var S=e(49840);function A(i,n,r){if(null!==i)for(var o,u,l,h,c,b,p,m,v=0,x=0,y=i.type,w="FeatureCollection"===y,f="Feature"===y,C=w?i.features.length:1,T=0;T<C;T++){c=(m=!!(p=w?i.features[T].geometry:f?i.geometry:i)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var D=0;D<c;D++){var R=0,P=0;if(null!==(h=m?p.geometries[D]:p)){b=h.coordinates;var O=h.type;switch(v=!r||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":if(!1===n(b,x,T,R,P))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(o=0;o<b.length;o++){if(!1===n(b[o],x,T,R,P))return!1;x++,"MultiPoint"===O&&R++}"LineString"===O&&R++;break;case"Polygon":case"MultiLineString":for(o=0;o<b.length;o++){for(u=0;u<b[o].length-v;u++){if(!1===n(b[o][u],x,T,R,P))return!1;x++}"MultiLineString"===O&&R++,"Polygon"===O&&P++}"Polygon"===O&&R++;break;case"MultiPolygon":for(o=0;o<b.length;o++){for(P=0,u=0;u<b[o].length;u++){for(l=0;l<b[o][u].length-v;l++){if(!1===n(b[o][u][l],x,T,R,P))return!1;x++}P++}R++}break;case"GeometryCollection":for(o=0;o<h.geometries.length;o++)if(!1===A(h.geometries[o],n,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&!1!==n(i.features[r].properties,r);r++);break;case"Feature":n(i.properties,0)}}function M(i,n){if("Feature"===i.type)n(i,0);else if("FeatureCollection"===i.type)for(var r=0;r<i.features.length&&!1!==n(i.features[r],r);r++);}function _(i,n){var r,o,u,l,h,c,b,p,m,v,x=0,y="FeatureCollection"===i.type,w="Feature"===i.type,f=y?i.features.length:1;for(r=0;r<f;r++){for(p=y?i.features[r].properties:w?i.properties:{},m=y?i.features[r].bbox:w?i.bbox:void 0,v=y?i.features[r].id:w?i.id:void 0,h=(b=!!(c=y?i.features[r].geometry:w?i.geometry:i)&&"GeometryCollection"===c.type)?c.geometries.length:1,u=0;u<h;u++)if(null!==(l=b?c.geometries[u]:c))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(l,x,p,m,v))return!1;break;case"GeometryCollection":for(o=0;o<l.geometries.length;o++)if(!1===n(l.geometries[o],x,p,m,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,x,p,m,v))return!1;x++}}function d(i,n){_(i,function(r,o,u,l,h){var c,b=null===r?null:r.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return!1!==n(S.feature(r,u,{bbox:l,id:h}),o,0)&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var p=0;p<r.coordinates.length;p++)if(!1===n(S.feature({type:c,coordinates:r.coordinates[p]},u),o,p))return!1})}function s(i,n){d(i,function(r,o,u){var l=0;if(r.geometry){var h=r.geometry.type;if("Point"!==h&&"MultiPoint"!==h){var c,b=0,p=0,m=0;return!1!==A(r,function(v,x,y,w,f){if(void 0===c||o>b||w>p||f>m)return c=v,b=o,p=w,m=f,void(l=0);var C=S.lineString([c,v],r.properties);if(!1===n(C,o,u,f,l))return!1;l++,c=v})&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");d(i,function(r,o,u){if(null!==r.geometry){var h=r.geometry.coordinates;switch(r.geometry.type){case"LineString":if(!1===n(r,o,u,0,0))return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(!1===n(S.lineString(h[c],r.properties),o,u,c))return!1}}})}z.coordEach=A,z.coordReduce=function(i,n,r,o){var u=r;return A(i,function(l,h,c,b,p){u=0===h&&void 0===r?l:n(u,l,h,c,b,p)},o),u},z.propEach=a,z.propReduce=function(i,n,r){var o=r;return a(i,function(u,l){o=0===l&&void 0===r?u:n(o,u,l)}),o},z.featureEach=M,z.featureReduce=function(i,n,r){var o=r;return M(i,function(u,l){o=0===l&&void 0===r?u:n(o,u,l)}),o},z.coordAll=function(i){var n=[];return A(i,function(r){n.push(r)}),n},z.geomEach=_,z.geomReduce=function(i,n,r){var o=r;return _(i,function(u,l,h,c,b){o=0===l&&void 0===r?u:n(o,u,l,h,c,b)}),o},z.flattenEach=d,z.flattenReduce=function(i,n,r){var o=r;return d(i,function(u,l,h){o=0===l&&0===h&&void 0===r?u:n(o,u,l,h)}),o},z.segmentEach=s,z.segmentReduce=function(i,n,r){var o=r,u=!1;return s(i,function(l,h,c,b,p){o=!1===u&&void 0===r?l:n(o,l,h,c,b,p),u=!0}),o},z.lineEach=t,z.lineReduce=function(i,n,r){var o=r;return t(i,function(u,l,h,c){o=0===l&&void 0===r?u:n(o,u,l,h,c)}),o},z.findSegment=function(i,n){if(!S.isObject(n=n||{}))throw new Error("options is invalid");var r,o=n.featureIndex||0,u=n.multiFeatureIndex||0,l=n.geometryIndex||0,h=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var b=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=b.length+h-1),S.lineString([b[h],b[h+1]],c,n);case"Polygon":return l<0&&(l=b.length+l),h<0&&(h=b[l].length+h-1),S.lineString([b[l][h],b[l][h+1]],c,n);case"MultiLineString":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h-1),S.lineString([b[u][h],b[u][h+1]],c,n);case"MultiPolygon":return u<0&&(u=b.length+u),l<0&&(l=b[u].length+l),h<0&&(h=b[u][l].length-h-1),S.lineString([b[u][l][h],b[u][l][h+1]],c,n)}throw new Error("geojson is invalid")},z.findPoint=function(i,n){if(!S.isObject(n=n||{}))throw new Error("options is invalid");var r,o=n.featureIndex||0,u=n.multiFeatureIndex||0,l=n.geometryIndex||0,h=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var b=r.coordinates;switch(r.type){case"Point":return S.point(b,c,n);case"MultiPoint":return u<0&&(u=b.length+u),S.point(b[u],c,n);case"LineString":return h<0&&(h=b.length+h),S.point(b[h],c,n);case"Polygon":return l<0&&(l=b.length+l),h<0&&(h=b[l].length+h),S.point(b[l][h],c,n);case"MultiLineString":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h),S.point(b[u][h],c,n);case"MultiPolygon":return u<0&&(u=b.length+u),l<0&&(l=b[u].length+l),h<0&&(h=b[u][l].length-h),S.point(b[u][l][h],c,n)}throw new Error("geojson is invalid")}},49972:function(ie){ie.exports=function(z){var e=0,S=0,A=0,a=0;return z.map(function(M){var _=(M=M.slice())[0],d=_.toUpperCase();if(_!=d)switch(M[0]=d,_){case"a":M[6]+=A,M[7]+=a;break;case"v":M[1]+=a;break;case"h":M[1]+=A;break;default:for(var s=1;s<M.length;)M[s++]+=A,M[s++]+=a}switch(d){case"Z":A=e,a=S;break;case"H":A=M[1];break;case"V":a=M[1];break;case"M":A=e=M[1],a=S=M[2];break;default:A=M[M.length-2],a=M[M.length-1]}return M})}},76752:function(ie){"use strict";ie.exports=function(z,e){if(!z||null==z.length)throw Error("Argument should be an array");e=null==e?1:Math.floor(e);for(var S=Array(2*e),A=0;A<e;A++){for(var a=-1/0,M=1/0,_=A,d=z.length;_<d;_+=e)z[_]>a&&(a=z[_]),z[_]<M&&(M=z[_]);S[A]=M,S[e+A]=a}return S}},10272:function(ie){"use strict";ie.exports=function(z,e,S){if("function"==typeof Array.prototype.findIndex)return z.findIndex(e,S);if("function"!=typeof e)throw new TypeError("predicate must be a function");var A=Object(z),a=A.length;if(0===a)return-1;for(var M=0;M<a;M++)if(e.call(S,A[M],M,A))return M;return-1}},71152:function(ie,z,e){"use strict";var S=e(76752);ie.exports=function(A,a,M){if(!A||null==A.length)throw Error("Argument should be an array");null==a&&(a=1),null==M&&(M=S(A,a));for(var _=0;_<a;_++){var d=M[a+_],s=M[_],t=_,i=A.length;if(d===1/0&&s===-1/0)for(t=_;t<i;t+=a)A[t]=A[t]===d?1:A[t]===s?0:.5;else if(d===1/0)for(t=_;t<i;t+=a)A[t]=A[t]===d?1:0;else if(s===-1/0)for(t=_;t<i;t+=a)A[t]=A[t]===s?0:1;else{var n=d-s;for(t=_;t<i;t+=a)isNaN(A[t])||(A[t]=0===n?.5:(A[t]-s)/n)}}return A}},67752:function(ie){ie.exports=function(z,e){var S="number"==typeof z,A="number"==typeof e;S&&!A?(e=z,z=0):S||A||(z=0,e=0);var a=(e|=0)-(z|=0);if(a<0)throw new Error("array length must be positive");for(var M=new Array(a),_=0,d=z;_<a;_++,d++)M[_]=d;return M}},45408:function(ie,z,e){"use strict";var S=e(4168);function A(N){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(N)}var a,M,_=e(86832).codes,d=_.ERR_AMBIGUOUS_ARGUMENT,s=_.ERR_INVALID_ARG_TYPE,t=_.ERR_INVALID_ARG_VALUE,i=_.ERR_INVALID_RETURN_VALUE,n=_.ERR_MISSING_ARGS,r=e(26144),o=e(35840).inspect,u=e(35840).types,l=u.isPromise,h=u.isRegExp,c=Object.assign?Object.assign:e(60964).assign,b=Object.is?Object.is:e(39896);function p(){var N=e(25116);a=N.isDeepEqual,M=N.isDeepStrictEqual}var m=!1,v=ie.exports=f,x={};function y(N){throw N.message instanceof Error?N.message:new r(N)}function w(N,H,$,j){if(!$){var W=!1;if(0===H)W=!0,j="No value argument passed to `assert.ok()`";else if(j instanceof Error)throw j;var G=new r({actual:$,expected:!0,message:j,operator:"==",stackStartFn:N});throw G.generatedMessage=W,G}}function f(){for(var N=arguments.length,H=new Array(N),$=0;$<N;$++)H[$]=arguments[$];w.apply(void 0,[f,H.length].concat(H))}v.fail=function N(H,$,j,W,G){var ae,te=arguments.length;if(0===te?ae="Failed":1===te?(j=H,H=void 0):(!1===m&&(m=!0,(S.emitWarning?S.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===te&&(W="!=")),j instanceof Error)throw j;var Q={actual:H,expected:$,operator:void 0===W?"fail":W,stackStartFn:G||N};void 0!==j&&(Q.message=j);var ee=new r(Q);throw ae&&(ee.message=ae,ee.generatedMessage=!0),ee},v.AssertionError=r,v.ok=f,v.equal=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");H!=$&&y({actual:H,expected:$,message:j,operator:"==",stackStartFn:N})},v.notEqual=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");H==$&&y({actual:H,expected:$,message:j,operator:"!=",stackStartFn:N})},v.deepEqual=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");void 0===a&&p(),a(H,$)||y({actual:H,expected:$,message:j,operator:"deepEqual",stackStartFn:N})},v.notDeepEqual=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");void 0===a&&p(),a(H,$)&&y({actual:H,expected:$,message:j,operator:"notDeepEqual",stackStartFn:N})},v.deepStrictEqual=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");void 0===a&&p(),M(H,$)||y({actual:H,expected:$,message:j,operator:"deepStrictEqual",stackStartFn:N})},v.notDeepStrictEqual=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");void 0===a&&p(),M(H,$)&&y({actual:H,expected:$,message:j,operator:"notDeepStrictEqual",stackStartFn:N})},v.strictEqual=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");b(H,$)||y({actual:H,expected:$,message:j,operator:"strictEqual",stackStartFn:N})},v.notStrictEqual=function N(H,$,j){if(arguments.length<2)throw new n("actual","expected");b(H,$)&&y({actual:H,expected:$,message:j,operator:"notStrictEqual",stackStartFn:N})};var C=function N(H,$,j){var W=this;(function(G,ae){if(!(G instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,N),$.forEach(function(G){G in H&&(W[G]=void 0!==j&&"string"==typeof j[G]&&h(H[G])&&H[G].test(j[G])?j[G]:H[G])})};function T(N,H,$,j){if("function"!=typeof H){if(h(H))return H.test(N);if(2===arguments.length)throw new s("expected",["Function","RegExp"],H);if("object"!==A(N)||null===N){var W=new r({actual:N,expected:H,message:$,operator:"deepStrictEqual",stackStartFn:j});throw W.operator=j.name,W}var G=Object.keys(H);if(H instanceof Error)G.push("name","message");else if(0===G.length)throw new t("error",H,"may not be an empty object");return void 0===a&&p(),G.forEach(function(ae){"string"==typeof N[ae]&&h(H[ae])&&H[ae].test(N[ae])||function(te,Q,ee,re,J,le){if(!(ee in te)||!M(te[ee],Q[ee])){if(!re){var fe=new C(te,J),ce=new C(Q,J,te),ge=new r({actual:fe,expected:ce,operator:"deepStrictEqual",stackStartFn:le});throw ge.actual=te,ge.expected=Q,ge.operator=le.name,ge}y({actual:te,expected:Q,message:re,operator:le.name,stackStartFn:le})}}(N,H,ae,$,G,j)}),!0}return void 0!==H.prototype&&N instanceof H||!Error.isPrototypeOf(H)&&!0===H.call({},N)}function D(N){if("function"!=typeof N)throw new s("fn","Function",N);try{N()}catch(H){return H}return x}function R(N){return l(N)||null!==N&&"object"===A(N)&&"function"==typeof N.then&&"function"==typeof N.catch}function P(N){return Promise.resolve().then(function(){var H;if("function"==typeof N){if(!R(H=N()))throw new i("instance of Promise","promiseFn",H)}else{if(!R(N))throw new s("promiseFn",["Function","Promise"],N);H=N}return Promise.resolve().then(function(){return H}).then(function(){return x}).catch(function($){return $})})}function O(N,H,$,j){if("string"==typeof $){if(4===arguments.length)throw new s("error",["Object","Error","Function","RegExp"],$);if("object"===A(H)&&null!==H){if(H.message===$)throw new d("error/message",'The error message "'.concat(H.message,'" is identical to the message.'))}else if(H===$)throw new d("error/message",'The error "'.concat(H,'" is identical to the message.'));j=$,$=void 0}else if(null!=$&&"object"!==A($)&&"function"!=typeof $)throw new s("error",["Object","Error","Function","RegExp"],$);if(H===x){var W="";$&&$.name&&(W+=" (".concat($.name,")")),W+=j?": ".concat(j):".",y({actual:void 0,expected:$,operator:N.name,message:"Missing expected ".concat("rejects"===N.name?"rejection":"exception").concat(W),stackStartFn:N})}if($&&!T(H,$,j,N))throw H}function B(N,H,$,j){if(H!==x){if("string"==typeof $&&(j=$,$=void 0),!$||T(H,$)){var W=j?": ".concat(j):".";y({actual:H,expected:$,operator:N.name,message:"Got unwanted ".concat("doesNotReject"===N.name?"rejection":"exception").concat(W,"\n")+'Actual message: "'.concat(H&&H.message,'"'),stackStartFn:N})}throw H}}function q(){for(var N=arguments.length,H=new Array(N),$=0;$<N;$++)H[$]=arguments[$];w.apply(void 0,[q,H.length].concat(H))}v.throws=function N(H){for(var $=arguments.length,j=new Array($>1?$-1:0),W=1;W<$;W++)j[W-1]=arguments[W];O.apply(void 0,[N,D(H)].concat(j))},v.rejects=function N(H){for(var $=arguments.length,j=new Array($>1?$-1:0),W=1;W<$;W++)j[W-1]=arguments[W];return P(H).then(function(G){return O.apply(void 0,[N,G].concat(j))})},v.doesNotThrow=function N(H){for(var $=arguments.length,j=new Array($>1?$-1:0),W=1;W<$;W++)j[W-1]=arguments[W];B.apply(void 0,[N,D(H)].concat(j))},v.doesNotReject=function N(H){for(var $=arguments.length,j=new Array($>1?$-1:0),W=1;W<$;W++)j[W-1]=arguments[W];return P(H).then(function(G){return B.apply(void 0,[N,G].concat(j))})},v.ifError=function N(H){if(null!=H){var $="ifError got unwanted exception: ";"object"===A(H)&&"string"==typeof H.message?$+=0===H.message.length&&H.constructor?H.constructor.name:H.message:$+=o(H);var j=new r({actual:H,expected:null,operator:"ifError",message:$,stackStartFn:N}),W=H.stack;if("string"==typeof W){var G=W.split("\n");G.shift();for(var ae=j.stack.split("\n"),te=0;te<G.length;te++){var Q=ae.indexOf(G[te]);if(-1!==Q){ae=ae.slice(0,Q);break}}j.stack="".concat(ae.join("\n"),"\n").concat(G.join("\n"))}throw j}},v.strict=c(q,v,{equal:v.strictEqual,deepEqual:v.deepStrictEqual,notEqual:v.notStrictEqual,notDeepEqual:v.notDeepStrictEqual}),v.strict.strict=v.strict},26144:function(ie,z,e){"use strict";var S=e(4168);function A(y,w,f){return w in y?Object.defineProperty(y,w,{value:f,enumerable:!0,configurable:!0,writable:!0}):y[w]=f,y}function M(y,w){return!w||"object"!==n(w)&&"function"!=typeof w?_(y):w}function _(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function d(y){var w="function"==typeof Map?new Map:void 0;return d=function(f){if(null===f||-1===Function.toString.call(f).indexOf("[native code]"))return f;if("function"!=typeof f)throw new TypeError("Super expression must either be null or a function");if(void 0!==w){if(w.has(f))return w.get(f);w.set(f,T)}function T(){return s(f,arguments,i(this).constructor)}return T.prototype=Object.create(f.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),t(T,f)},d(y)}function s(y,w,f){return(s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(C,T,D){var R=[null];R.push.apply(R,T);var P=new(Function.bind.apply(C,R));return D&&t(P,D.prototype),P}).apply(null,arguments)}function t(y,w){return(t=Object.setPrototypeOf||function(f,C){return f.__proto__=C,f})(y,w)}function i(y){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(y)}function n(y){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(y)}var r=e(35840).inspect,o=e(86832).codes.ERR_INVALID_ARG_TYPE;function u(y,w,f){return(void 0===f||f>y.length)&&(f=y.length),y.substring(f-w.length,f)===w}var l="",h="",c="",b="",p={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function m(y){var w=Object.keys(y),f=Object.create(Object.getPrototypeOf(y));return w.forEach(function(C){f[C]=y[C]}),Object.defineProperty(f,"message",{value:y.message}),f}function v(y){return r(y,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var x=function(y){function w(T){var D;if(function(ae,te){if(!(ae instanceof te))throw new TypeError("Cannot call a class as a function")}(this,w),"object"!==n(T)||null===T)throw new o("options","Object",T);var R=T.message,P=T.operator,O=T.stackStartFn,B=T.actual,q=T.expected,N=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=R)D=M(this,i(w).call(this,String(R)));else if(S.stderr&&S.stderr.isTTY&&(S.stderr&&S.stderr.getColorDepth&&1!==S.stderr.getColorDepth()?(l="\x1b[34m",h="\x1b[32m",b="\x1b[39m",c="\x1b[31m"):(l="",h="",b="",c="")),"object"===n(B)&&null!==B&&"object"===n(q)&&null!==q&&"stack"in B&&B instanceof Error&&"stack"in q&&q instanceof Error&&(B=m(B),q=m(q)),"deepStrictEqual"===P||"strictEqual"===P)D=M(this,i(w).call(this,function(ae,te,Q){var ee="",re="",J=0,le="",fe=!1,ce=v(ae),ge=ce.split("\n"),Te=v(te).split("\n"),Me=0,we="";if("strictEqual"===Q&&"object"===n(ae)&&"object"===n(te)&&null!==ae&&null!==te&&(Q="strictEqualObject"),1===ge.length&&1===Te.length&&ge[0]!==Te[0]){var xe=ge[0].length+Te[0].length;if(xe<=10){if(!("object"===n(ae)&&null!==ae||"object"===n(te)&&null!==te||0===ae&&0===te))return"".concat(p[Q],"\n\n")+"".concat(ge[0]," !== ").concat(Te[0],"\n")}else if("strictEqualObject"!==Q&&xe<(S.stderr&&S.stderr.isTTY?S.stderr.columns:80)){for(;ge[0][Me]===Te[0][Me];)Me++;Me>2&&(we="\n  ".concat(function(ze,je){if(je=Math.floor(je),0==ze.length||0==je)return"";var ve=ze.length*je;for(je=Math.floor(Math.log(je)/Math.log(2));je;)ze+=ze,je--;return ze+ze.substring(0,ve-ze.length)}(" ",Me),"^"),Me=0)}}for(var be=ge[ge.length-1],ye=Te[Te.length-1];be===ye&&(Me++<2?le="\n  ".concat(be).concat(le):ee=be,ge.pop(),Te.pop(),0!==ge.length&&0!==Te.length);)be=ge[ge.length-1],ye=Te[Te.length-1];var Se=Math.max(ge.length,Te.length);if(0===Se){var Ee=ce.split("\n");if(Ee.length>30)for(Ee[26]="".concat(l,"...").concat(b);Ee.length>27;)Ee.pop();return"".concat(p.notIdentical,"\n\n").concat(Ee.join("\n"),"\n")}Me>3&&(le="\n".concat(l,"...").concat(b).concat(le),fe=!0),""!==ee&&(le="\n  ".concat(ee).concat(le),ee="");var he=0,ue=p[Q]+"\n".concat(h,"+ actual").concat(b," ").concat(c,"- expected").concat(b),me=" ".concat(l,"...").concat(b," Lines skipped");for(Me=0;Me<Se;Me++){var Pe=Me-J;if(ge.length<Me+1)Pe>1&&Me>2&&(Pe>4?(re+="\n".concat(l,"...").concat(b),fe=!0):Pe>3&&(re+="\n  ".concat(Te[Me-2]),he++),re+="\n  ".concat(Te[Me-1]),he++),J=Me,ee+="\n".concat(c,"-").concat(b," ").concat(Te[Me]),he++;else if(Te.length<Me+1)Pe>1&&Me>2&&(Pe>4?(re+="\n".concat(l,"...").concat(b),fe=!0):Pe>3&&(re+="\n  ".concat(ge[Me-2]),he++),re+="\n  ".concat(ge[Me-1]),he++),J=Me,re+="\n".concat(h,"+").concat(b," ").concat(ge[Me]),he++;else{var Ce=Te[Me],Ie=ge[Me],Oe=Ie!==Ce&&(!u(Ie,",")||Ie.slice(0,-1)!==Ce);Oe&&u(Ce,",")&&Ce.slice(0,-1)===Ie&&(Oe=!1,Ie+=","),Oe?(Pe>1&&Me>2&&(Pe>4?(re+="\n".concat(l,"...").concat(b),fe=!0):Pe>3&&(re+="\n  ".concat(ge[Me-2]),he++),re+="\n  ".concat(ge[Me-1]),he++),J=Me,re+="\n".concat(h,"+").concat(b," ").concat(Ie),ee+="\n".concat(c,"-").concat(b," ").concat(Ce),he+=2):(re+=ee,ee="",1!==Pe&&0!==Me||(re+="\n  ".concat(Ie),he++))}if(he>20&&Me<Se-2)return"".concat(ue).concat(me,"\n").concat(re,"\n").concat(l,"...").concat(b).concat(ee,"\n")+"".concat(l,"...").concat(b)}return"".concat(ue).concat(fe?me:"","\n").concat(re).concat(ee).concat(le).concat(we)}(B,q,P)));else if("notDeepStrictEqual"===P||"notStrictEqual"===P){var H=p[P],$=v(B).split("\n");if("notStrictEqual"===P&&"object"===n(B)&&null!==B&&(H=p.notStrictEqualObject),$.length>30)for($[26]="".concat(l,"...").concat(b);$.length>27;)$.pop();D=M(this,1===$.length?i(w).call(this,"".concat(H," ").concat($[0])):i(w).call(this,"".concat(H,"\n\n").concat($.join("\n"),"\n")))}else{var j=v(B),W="",G=p[P];"notDeepEqual"===P||"notEqual"===P?(j="".concat(p[P],"\n\n").concat(j)).length>1024&&(j="".concat(j.slice(0,1021),"...")):(W="".concat(v(q)),j.length>512&&(j="".concat(j.slice(0,509),"...")),W.length>512&&(W="".concat(W.slice(0,509),"...")),"deepEqual"===P||"equal"===P?j="".concat(G,"\n\n").concat(j,"\n\nshould equal\n\n"):W=" ".concat(P," ").concat(W)),D=M(this,i(w).call(this,"".concat(j).concat(W)))}return Error.stackTraceLimit=N,D.generatedMessage=!R,Object.defineProperty(_(D),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),D.code="ERR_ASSERTION",D.actual=B,D.expected=q,D.operator=P,Error.captureStackTrace&&Error.captureStackTrace(_(D),O),D.name="AssertionError",M(D)}var C;return function(T,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),D&&t(T,D)}(w,y),C=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r.custom,value:function(T,D){return r(this,function(R){for(var P=1;P<arguments.length;P++){var O=null!=arguments[P]?arguments[P]:{},B=Object.keys(O);"function"==typeof Object.getOwnPropertySymbols&&(B=B.concat(Object.getOwnPropertySymbols(O).filter(function(q){return Object.getOwnPropertyDescriptor(O,q).enumerable}))),B.forEach(function(q){A(R,q,O[q])})}return R}({},D,{customInspect:!1,depth:0}))}}],C&&function a(y,w){for(var f=0;f<w.length;f++){var C=w[f];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}(w.prototype,C),w}(d(Error));ie.exports=x},86832:function(ie,z,e){"use strict";function S(i){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(i)}function A(i){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(i)}function a(i,n){return(a=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(i,n)}var M,_,d={};function s(i,n,r){r||(r=Error);var o=function(u){function l(h,c,b){var p,m,v,x;return function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,l),(p=function(m,v){return!v||"object"!==S(v)&&"function"!=typeof v?function(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(m):v}(this,A(l).call(this,(m=h,v=c,x=b,"string"==typeof n?n:n(m,v,x))))).code=i,p}return function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&a(h,c)}(l,u),l}(r);d[i]=o}function t(i,n){if(Array.isArray(i)){var r=i.length;return i=i.map(function(o){return String(o)}),r>2?"one of ".concat(n," ").concat(i.slice(0,r-1).join(", "),", or ")+i[r-1]:2===r?"one of ".concat(n," ").concat(i[0]," or ").concat(i[1]):"of ".concat(n," ").concat(i[0])}return"of ".concat(n," ").concat(String(i))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(i,n,r){var o,l,h,c,p,v;if(void 0===M&&(M=e(45408)),M("string"==typeof i,"'name' must be a string"),"string"==typeof n&&("not ","not "===n.substr(0,4))?(o="must not be",n=n.replace(/^not /,"")):o="must be",p=i," argument",(void 0===v||v>p.length)&&(v=p.length)," argument"===p.substring(v-9,v))l="The ".concat(i," ").concat(o," ").concat(t(n,"type"));else{var b=("number"!=typeof c&&(c=0),c+1>(h=i).length||-1===h.indexOf(".",c)?"argument":"property");l='The "'.concat(i,'" ').concat(b," ").concat(o," ").concat(t(n,"type"))}return l+". Received type ".concat(S(r))},TypeError),s("ERR_INVALID_ARG_VALUE",function(i,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===_&&(_=e(35840));var o=_.inspect(n);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(r,". Received ").concat(o)},TypeError,RangeError),s("ERR_INVALID_RETURN_VALUE",function(i,n,r){var o;return o=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(S(r)),"Expected ".concat(i,' to be returned from the "').concat(n,'"')+" function but got ".concat(o,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];void 0===M&&(M=e(45408)),M(n.length>0,"At least one arg needs to be specified");var o="The ",u=n.length;switch(n=n.map(function(l){return'"'.concat(l,'"')}),u){case 1:o+="".concat(n[0]," argument");break;case 2:o+="".concat(n[0]," and ").concat(n[1]," arguments");break;default:o+=n.slice(0,u-1).join(", "),o+=", and ".concat(n[u-1]," arguments")}return"".concat(o," must be specified")},TypeError),ie.exports.codes=d},25116:function(ie,z,e){"use strict";function S(J,le){return function(fe){if(Array.isArray(fe))return fe}(J)||function(fe,ce){var ge=[],Te=!0,Me=!1,we=void 0;try{for(var xe,be=fe[Symbol.iterator]();!(Te=(xe=be.next()).done)&&(ge.push(xe.value),!ce||ge.length!==ce);Te=!0);}catch(ye){Me=!0,we=ye}finally{try{Te||null==be.return||be.return()}finally{if(Me)throw we}}return ge}(J,le)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(J){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(J)}var a=void 0!==/a/g.flags,M=function(J){var le=[];return J.forEach(function(fe){return le.push(fe)}),le},_=function(J){var le=[];return J.forEach(function(fe,ce){return le.push([ce,fe])}),le},d=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(1560);function i(J){return J.call.bind(J)}var n=i(Object.prototype.hasOwnProperty),r=i(Object.prototype.propertyIsEnumerable),o=i(Object.prototype.toString),u=e(35840).types,l=u.isAnyArrayBuffer,h=u.isArrayBufferView,c=u.isDate,b=u.isMap,p=u.isRegExp,m=u.isSet,v=u.isNativeError,x=u.isBoxedPrimitive,y=u.isNumberObject,w=u.isStringObject,f=u.isBooleanObject,C=u.isBigIntObject,T=u.isSymbolObject,D=u.isFloat32Array,R=u.isFloat64Array;function P(J){if(0===J.length||J.length>10)return!0;for(var le=0;le<J.length;le++){var fe=J.charCodeAt(le);if(fe<48||fe>57)return!0}return 10===J.length&&J>=Math.pow(2,32)}function O(J){return Object.keys(J).filter(P).concat(s(J).filter(Object.prototype.propertyIsEnumerable.bind(J)))}function B(J,le){if(J===le)return 0;for(var fe=J.length,ce=le.length,ge=0,Te=Math.min(fe,ce);ge<Te;++ge)if(J[ge]!==le[ge]){fe=J[ge],ce=le[ge];break}return fe<ce?-1:ce<fe?1:0}var q=0,N=1,H=2,$=3;function j(J,le,fe,ce){if(J===le)return 0!==J||!fe||d(J,le);if(fe){if("object"!==A(J))return"number"==typeof J&&t(J)&&t(le);if("object"!==A(le)||null===J||null===le||Object.getPrototypeOf(J)!==Object.getPrototypeOf(le))return!1}else{if(null===J||"object"!==A(J))return(null===le||"object"!==A(le))&&J==le;if(null===le||"object"!==A(le))return!1}var ge,Te,Me,we,he,ue,xe=o(J);if(xe!==o(le))return!1;if(Array.isArray(J)){if(J.length!==le.length)return!1;var be=O(J),ye=O(le);return be.length===ye.length&&G(J,le,fe,ce,N,be)}if("[object Object]"===xe&&(!b(J)&&b(le)||!m(J)&&m(le)))return!1;if(c(J)){if(!c(le)||Date.prototype.getTime.call(J)!==Date.prototype.getTime.call(le))return!1}else if(p(J)){if(!p(le)||(Me=J,we=le,!(a?Me.source===we.source&&Me.flags===we.flags:RegExp.prototype.toString.call(Me)===RegExp.prototype.toString.call(we))))return!1}else if(v(J)||J instanceof Error){if(J.message!==le.message||J.name!==le.name)return!1}else{if(h(J)){if(fe||!D(J)&&!R(J)){if((he=J).byteLength!==(ue=le).byteLength||0!==B(new Uint8Array(he.buffer,he.byteOffset,he.byteLength),new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength)))return!1}else if(!function(he,ue){if(he.byteLength!==ue.byteLength)return!1;for(var me=0;me<he.byteLength;me++)if(he[me]!==ue[me])return!1;return!0}(J,le))return!1;var Se=O(J),Ee=O(le);return Se.length===Ee.length&&G(J,le,fe,ce,q,Se)}if(m(J))return!(!m(le)||J.size!==le.size)&&G(J,le,fe,ce,H);if(b(J))return!(!b(le)||J.size!==le.size)&&G(J,le,fe,ce,$);if(l(J)){if((ge=J).byteLength!==(Te=le).byteLength||0!==B(new Uint8Array(ge),new Uint8Array(Te)))return!1}else if(x(J)&&!function(he,ue){return y(he)?y(ue)&&d(Number.prototype.valueOf.call(he),Number.prototype.valueOf.call(ue)):w(he)?w(ue)&&String.prototype.valueOf.call(he)===String.prototype.valueOf.call(ue):f(he)?f(ue)&&Boolean.prototype.valueOf.call(he)===Boolean.prototype.valueOf.call(ue):C(he)?C(ue)&&BigInt.prototype.valueOf.call(he)===BigInt.prototype.valueOf.call(ue):T(ue)&&Symbol.prototype.valueOf.call(he)===Symbol.prototype.valueOf.call(ue)}(J,le))return!1}return G(J,le,fe,ce,q)}function W(J,le){return le.filter(function(fe){return r(J,fe)})}function G(J,le,fe,ce,ge,Te){if(5===arguments.length){Te=Object.keys(J);var Me=Object.keys(le);if(Te.length!==Me.length)return!1}for(var we=0;we<Te.length;we++)if(!n(le,Te[we]))return!1;if(fe&&5===arguments.length){var xe=s(J);if(0!==xe.length){var be=0;for(we=0;we<xe.length;we++){var ye=xe[we];if(r(J,ye)){if(!r(le,ye))return!1;Te.push(ye),be++}else if(r(le,ye))return!1}var Se=s(le);if(xe.length!==Se.length&&W(le,Se).length!==be)return!1}else{var Ee=s(le);if(0!==Ee.length&&0!==W(le,Ee).length)return!1}}if(0===Te.length&&(ge===q||ge===N&&0===J.length||0===J.size))return!0;if(void 0===ce)ce={val1:new Map,val2:new Map,position:0};else{var he=ce.val1.get(J);if(void 0!==he){var ue=ce.val2.get(le);if(void 0!==ue)return he===ue}ce.position++}ce.val1.set(J,ce.position),ce.val2.set(le,ce.position);var me=function(Pe,Ce,Ie,Oe,ze,je){var ve=0;if(je===H){if(!function(Ne,We,Xe,nt){for(var dt=null,ht=M(Ne),Mt=0;Mt<ht.length;Mt++){var kt=ht[Mt];if("object"===A(kt)&&null!==kt)null===dt&&(dt=new Set),dt.add(kt);else if(!We.has(kt)){if(Xe||!Q(Ne,We,kt))return!1;null===dt&&(dt=new Set),dt.add(kt)}}if(null!==dt){for(var _t=M(We),ut=0;ut<_t.length;ut++){var st=_t[ut];if("object"===A(st)&&null!==st){if(!ae(dt,st,Xe,nt))return!1}else if(!Xe&&!Ne.has(st)&&!ae(dt,st,Xe,nt))return!1}return 0===dt.size}return!0}(Pe,Ce,Ie,ze))return!1}else if(je===$){if(!function(Ne,We,Xe,nt){for(var dt=null,ht=_(Ne),Mt=0;Mt<ht.length;Mt++){var kt=S(ht[Mt],2),_t=kt[0],ut=kt[1];if("object"===A(_t)&&null!==_t)null===dt&&(dt=new Set),dt.add(_t);else{var st=We.get(_t);if(void 0===st&&!We.has(_t)||!j(ut,st,Xe,nt)){if(Xe||!ee(Ne,We,_t,ut,nt))return!1;null===dt&&(dt=new Set),dt.add(_t)}}}if(null!==dt){for(var Lt=_(We),Ut=0;Ut<Lt.length;Ut++){var Ht=S(Lt[Ut],2),Pt=(_t=Ht[0],Ht[1]);if("object"===A(_t)&&null!==_t){if(!re(dt,Ne,_t,Pt,Xe,nt))return!1}else if(!(Xe||Ne.has(_t)&&j(Ne.get(_t),Pt,!1,nt)||re(dt,Ne,_t,Pt,!1,nt)))return!1}return 0===dt.size}return!0}(Pe,Ce,Ie,ze))return!1}else if(je===N)for(;ve<Pe.length;ve++){if(!n(Pe,ve)){if(n(Ce,ve))return!1;for(var Ae=Object.keys(Pe);ve<Ae.length;ve++){var Le=Ae[ve];if(!n(Ce,Le)||!j(Pe[Le],Ce[Le],Ie,ze))return!1}return Ae.length===Object.keys(Ce).length}if(!n(Ce,ve)||!j(Pe[ve],Ce[ve],Ie,ze))return!1}for(ve=0;ve<Oe.length;ve++){var Ve=Oe[ve];if(!j(Pe[Ve],Ce[Ve],Ie,ze))return!1}return!0}(J,le,fe,Te,ce,ge);return ce.val1.delete(J),ce.val2.delete(le),me}function ae(J,le,fe,ce){for(var ge=M(J),Te=0;Te<ge.length;Te++){var Me=ge[Te];if(j(le,Me,fe,ce))return J.delete(Me),!0}return!1}function te(J){switch(A(J)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":J=+J;case"number":if(t(J))return!1}return!0}function Q(J,le,fe){var ce=te(fe);return ce??(le.has(ce)&&!J.has(ce))}function ee(J,le,fe,ce,ge){var Te=te(fe);if(null!=Te)return Te;var Me=le.get(Te);return!(void 0===Me&&!le.has(Te)||!j(ce,Me,!1,ge))&&!J.has(Te)&&j(ce,Me,!1,ge)}function re(J,le,fe,ce,ge,Te){for(var Me=M(J),we=0;we<Me.length;we++){var xe=Me[we];if(j(fe,xe,ge,Te)&&j(ce,le.get(xe),ge,Te))return J.delete(xe),!0}return!1}ie.exports={isDeepEqual:function(J,le){return j(J,le,!1)},isDeepStrictEqual:function(J,le){return j(J,le,!0)}}},83160:function(ie,z,e){"use strict";e.r(z),e.d(z,{decode:function(){return _},encode:function(){return M}});for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<64;a++)A[S.charCodeAt(a)]=a;var M=function(d){var s,t=new Uint8Array(d),i=t.length,n="";for(s=0;s<i;s+=3)n+=S[t[s]>>2],n+=S[(3&t[s])<<4|t[s+1]>>4],n+=S[(15&t[s+1])<<2|t[s+2]>>6],n+=S[63&t[s+2]];return i%3==2?n=n.substring(0,n.length-1)+"=":i%3==1&&(n=n.substring(0,n.length-2)+"=="),n},_=function(d){var s,t,i,n,r,o=.75*d.length,u=d.length,l=0;"="===d[d.length-1]&&(o--,"="===d[d.length-2]&&o--);var h=new ArrayBuffer(o),c=new Uint8Array(h);for(s=0;s<u;s+=4)t=A[d.charCodeAt(s)],i=A[d.charCodeAt(s+1)],n=A[d.charCodeAt(s+2)],r=A[d.charCodeAt(s+3)],c[l++]=t<<2|i>>4,c[l++]=(15&i)<<4|n>>2,c[l++]=(3&n)<<6|63&r;return h}},59968:function(ie,z){"use strict";z.byteLength=function(s){var t=_(s),n=t[1];return 3*(t[0]+n)/4-n},z.toByteArray=function(s){var t,i,p,n=_(s),r=n[0],o=n[1],u=new A(3*(r+(p=o))/4-p),l=0,h=o>0?r-4:r;for(i=0;i<h;i+=4)t=S[s.charCodeAt(i)]<<18|S[s.charCodeAt(i+1)]<<12|S[s.charCodeAt(i+2)]<<6|S[s.charCodeAt(i+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===o&&(t=S[s.charCodeAt(i)]<<2|S[s.charCodeAt(i+1)]>>4,u[l++]=255&t),1===o&&(t=S[s.charCodeAt(i)]<<10|S[s.charCodeAt(i+1)]<<4|S[s.charCodeAt(i+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},z.fromByteArray=function(s){for(var t,i=s.length,n=i%3,r=[],o=16383,u=0,l=i-n;u<l;u+=o)r.push(d(s,u,u+o>l?l:u+o));return 1===n?r.push(e[(t=s[i-1])>>2]+e[t<<4&63]+"=="):2===n&&r.push(e[(t=(s[i-2]<<8)+s[i-1])>>10]+e[t>>4&63]+e[t<<2&63]+"="),r.join("")};for(var e=[],S=[],A=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0;M<64;++M)e[M]=a[M],S[a.charCodeAt(M)]=M;function _(s){var t=s.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=s.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function d(s,t,i){for(var r,o=[],u=t;u<i;u+=3)o.push(e[(r=(s[u]<<16&16711680)+(s[u+1]<<8&65280)+(255&s[u+2]))>>18&63]+e[r>>12&63]+e[r>>6&63]+e[63&r]);return o.join("")}S["-".charCodeAt(0)]=62,S["_".charCodeAt(0)]=63},64928:function(ie){"use strict";function z(_,d,s,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,o=_[r];(void 0!==s?s(o,d):o-d)>=0?(n=r,i=r-1):t=r+1}return n}function e(_,d,s,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,o=_[r];(void 0!==s?s(o,d):o-d)>0?(n=r,i=r-1):t=r+1}return n}function S(_,d,s,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,o=_[r];(void 0!==s?s(o,d):o-d)<0?(n=r,t=r+1):i=r-1}return n}function A(_,d,s,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,o=_[r];(void 0!==s?s(o,d):o-d)<=0?(n=r,t=r+1):i=r-1}return n}function a(_,d,s,t,i){for(;t<=i;){var n=t+i>>>1,r=_[n],o=void 0!==s?s(r,d):r-d;if(0===o)return n;o<=0?t=n+1:i=n-1}return-1}function M(_,d,s,t,i,n){return"function"==typeof s?n(_,d,s,void 0===t?0:0|t,void 0===i?_.length-1:0|i):n(_,d,void 0,void 0===s?0:0|s,void 0===t?_.length-1:0|t)}ie.exports={ge:function(_,d,s,t,i){return M(_,d,s,t,i,z)},gt:function(_,d,s,t,i){return M(_,d,s,t,i,e)},lt:function(_,d,s,t,i){return M(_,d,s,t,i,S)},le:function(_,d,s,t,i){return M(_,d,s,t,i,A)},eq:function(_,d,s,t,i){return M(_,d,s,t,i,a)}}},308:function(ie,z){"use strict";function e(A){var a=32;return(A&=-A)&&a--,65535&A&&(a-=16),16711935&A&&(a-=8),252645135&A&&(a-=4),858993459&A&&(a-=2),1431655765&A&&(a-=1),a}z.INT_BITS=32,z.INT_MAX=2147483647,z.INT_MIN=-2147483648,z.sign=function(A){return(A>0)-(A<0)},z.abs=function(A){var a=A>>31;return(A^a)-a},z.min=function(A,a){return a^(A^a)&-(A<a)},z.max=function(A,a){return A^(A^a)&-(A<a)},z.isPow2=function(A){return!(A&A-1||!A)},z.log2=function(A){var a,M;return a=(A>65535)<<4,a|=M=((A>>>=a)>255)<<3,a|=M=((A>>>=M)>15)<<2,(a|=M=((A>>>=M)>3)<<1)|(A>>>=M)>>1},z.log10=function(A){return A>=1e9?9:A>=1e8?8:A>=1e7?7:A>=1e6?6:A>=1e5?5:A>=1e4?4:A>=1e3?3:A>=100?2:A>=10?1:0},z.popCount=function(A){return 16843009*((A=(858993459&(A-=A>>>1&1431655765))+(A>>>2&858993459))+(A>>>4)&252645135)>>>24},z.countTrailingZeros=e,z.nextPow2=function(A){return A+=0===A,--A,A|=A>>>1,A|=A>>>2,A|=A>>>4,1+((A|=A>>>8)|A>>>16)},z.prevPow2=function(A){return A|=A>>>1,A|=A>>>2,A|=A>>>4,A|=A>>>8,(A|=A>>>16)-(A>>>1)},z.parity=function(A){return A^=A>>>16,A^=A>>>8,A^=A>>>4,27030>>>(A&=15)&1};var S=new Array(256);(function(A){for(var a=0;a<256;++a){var M=a,_=a,d=7;for(M>>>=1;M;M>>>=1)_<<=1,_|=1&M,--d;A[a]=_<<d&255}})(S),z.reverse=function(A){return S[255&A]<<24|S[A>>>8&255]<<16|S[A>>>16&255]<<8|S[A>>>24&255]},z.interleave2=function(A,a){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A&=65535)|A<<8))|A<<4))|A<<2))|A<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))<<1},z.deinterleave2=function(A,a){return(A=65535&((A=16711935&((A=252645135&((A=858993459&((A=A>>>a&1431655765)|A>>>1))|A>>>2))|A>>>4))|A>>>16))<<16>>16},z.interleave3=function(A,a,M){return A=1227133513&((A=3272356035&((A=251719695&((A=4278190335&((A&=1023)|A<<16))|A<<8))|A<<4))|A<<2),(A|=(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<1)|(M=1227133513&((M=3272356035&((M=251719695&((M=4278190335&((M&=1023)|M<<16))|M<<8))|M<<4))|M<<2))<<2},z.deinterleave3=function(A,a){return(A=1023&((A=4278190335&((A=251719695&((A=3272356035&((A=A>>>a&1227133513)|A>>>2))|A>>>4))|A>>>8))|A>>>16))<<22>>22},z.nextCombination=function(A){var a=A|A-1;return a+1|(~a&-~a)-1>>>e(A)+1}},29620:function(ie,z,e){"use strict";var S=e(32420);ie.exports=function(_,d){d||(d={});var s,t,i,n,r,o,l,c,b,p=null==d.cutoff?.25:d.cutoff,m=null==d.radius?8:d.radius,v=d.channel||0;if(ArrayBuffer.isView(_)||Array.isArray(_)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");s=d.width,t=d.height,n=_,o=d.stride?d.stride:Math.floor(_.length/s/t)}else window.HTMLCanvasElement&&_ instanceof window.HTMLCanvasElement?(n=(l=_).getContext("2d").getImageData(0,0,s=l.width,t=l.height).data,o=4):window.CanvasRenderingContext2D&&_ instanceof window.CanvasRenderingContext2D?(s=(l=_.canvas).width,n=_.getImageData(0,0,s,t=l.height).data,o=4):window.ImageData&&_ instanceof window.ImageData&&(s=_.width,t=_.height,n=_.data,o=4);if(i=Math.max(s,t),window.Uint8ClampedArray&&n instanceof window.Uint8ClampedArray||window.Uint8Array&&n instanceof window.Uint8Array)for(r=n,n=Array(s*t),c=0,b=r.length;c<b;c++)n[c]=r[c*o+v]/255;else if(1!==o)throw Error("Raw data can have only 1 value per pixel");var x=Array(s*t),y=Array(s*t),w=Array(i),f=Array(i),C=Array(i+1),T=Array(i);for(c=0,b=s*t;c<b;c++){var D=n[c];x[c]=1===D?0:0===D?A:Math.pow(Math.max(0,.5-D),2),y[c]=1===D?A:0===D?0:Math.pow(Math.max(0,D-.5),2)}a(x,s,t,w,f,T,C),a(y,s,t,w,f,T,C);var R=window.Float32Array?new Float32Array(s*t):new Array(s*t);for(c=0,b=s*t;c<b;c++)R[c]=S(1-((x[c]-y[c])/m+p),0,1);return R};var A=1e20;function a(_,d,s,t,i,n,r){for(var o=0;o<d;o++){for(var u=0;u<s;u++)t[u]=_[u*d+o];for(M(t,i,n,r,s),u=0;u<s;u++)_[u*d+o]=i[u]}for(u=0;u<s;u++){for(o=0;o<d;o++)t[o]=_[u*d+o];for(M(t,i,n,r,d),o=0;o<d;o++)_[u*d+o]=Math.sqrt(i[o])}}function M(_,d,s,t,i){s[0]=0,t[0]=-A,t[1]=+A;for(var n=1,r=0;n<i;n++){for(var o=(_[n]+n*n-(_[s[r]]+s[r]*s[r]))/(2*n-2*s[r]);o<=t[r];)r--,o=(_[n]+n*n-(_[s[r]]+s[r]*s[r]))/(2*n-2*s[r]);s[++r]=n,t[r]=o,t[r+1]=+A}for(n=0,r=0;n<i;n++){for(;t[r+1]<n;)r++;d[n]=(n-s[r])*(n-s[r])+_[s[r]]}}},99676:function(ie,z,e){"use strict";var S=e(53664),A=e(57916),a=A(S("String.prototype.indexOf"));ie.exports=function(M,_){var d=S(M,!!_);return"function"==typeof d&&a(M,".prototype.")>-1?A(d):d}},57916:function(ie,z,e){"use strict";var S=e(8844),A=e(53664),a=e(14500),M=A("%TypeError%"),_=A("%Function.prototype.apply%"),d=A("%Function.prototype.call%"),s=A("%Reflect.apply%",!0)||S.call(d,_),t=A("%Object.defineProperty%",!0),i=A("%Math.max%");if(t)try{t({},"a",{value:1})}catch{t=null}ie.exports=function(r){if("function"!=typeof r)throw new M("a function is required");var o=s(S,d,arguments);return a(o,1+i(0,r.length-(arguments.length-1)),!0)};var n=function(){return s(S,_,arguments)};t?t(ie.exports,"apply",{value:n}):ie.exports.apply=n},32420:function(ie){ie.exports=function(z,e,S){return e<S?z<e?e:z>S?S:z:z<S?S:z>e?e:z}},3808:function(ie,z,e){"use strict";var S=e(32420);function A(a,M){null==M&&(M=!0);var _=a[0],d=a[1],s=a[2],t=a[3];return null==t&&(t=M?1:255),M&&(_*=255,d*=255,s*=255,t*=255),16777216*(_=255&S(_,0,255))+((d=255&S(d,0,255))<<16)+((s=255&S(s,0,255))<<8)+(255&S(t,0,255))}ie.exports=A,ie.exports.to=A,ie.exports.from=function(a,M){var _=(a=+a)>>>24,d=(16711680&a)>>>16,s=(65280&a)>>>8,t=255&a;return!1===M?[_,d,s,t]:[_/255,d/255,s/255,t/255]}},17592:function(ie){"use strict";ie.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(ie,z,e){"use strict";var S=e(96824),A=e(32420),a=e(72512);ie.exports=function(M,_){"float"!==_&&_||(_="array"),"uint"===_&&(_="uint8"),"uint_clamped"===_&&(_="uint8_clamped");var t,d=new(a(_))(4),s="uint8"!==_&&"uint8_clamped"!==_;return M.length&&"string"!=typeof M||((M=S(M))[0]/=255,M[1]/=255,M[2]/=255),(t=M)instanceof Uint8Array||t instanceof Uint8ClampedArray||Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1)?(d[0]=M[0],d[1]=M[1],d[2]=M[2],d[3]=null!=M[3]?M[3]:255,s&&(d[0]/=255,d[1]/=255,d[2]/=255,d[3]/=255),d):(s?(d[0]=M[0],d[1]=M[1],d[2]=M[2],d[3]=null!=M[3]?M[3]:1):(d[0]=A(Math.floor(255*M[0]),0,255),d[1]=A(Math.floor(255*M[1]),0,255),d[2]=A(Math.floor(255*M[2]),0,255),d[3]=null==M[3]?255:A(Math.floor(255*M[3]),0,255)),d)}},96824:function(ie,z,e){"use strict";var S=e(95532),A=e(53576),a=e(32420);ie.exports=function(M){var _,d=S(M);return d.space?((_=Array(3))[0]=a(d.values[0],0,255),_[1]=a(d.values[1],0,255),_[2]=a(d.values[2],0,255),"h"===d.space[0]&&(_=A.rgb(_)),_.push(a(d.alpha,0,1)),_):[]}},95532:function(ie,z,e){"use strict";var S=e(17592);ie.exports=function(a){var M,_,d=[],s=1;if("string"==typeof a)if(a=a.toLowerCase(),S[a])d=S[a].slice(),_="rgb";else if("transparent"===a)s=0,_="rgb",d=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(a)){var t=a.slice(1);s=1,(r=t.length)<=4?(d=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],4===r&&(s=parseInt(t[3]+t[3],16)/255)):(d=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],8===r&&(s=parseInt(t[6]+t[7],16)/255)),d[0]||(d[0]=0),d[1]||(d[1]=0),d[2]||(d[2]=0),_="rgb"}else if(M=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(a)){var i=M[1],n="rgb"===i;_=t=i.replace(/a$/,"");var r="cmyk"===t?4:"gray"===t?1:3;d=M[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(o,u){if(/%$/.test(o))return u===r?parseFloat(o)/100:"rgb"===t?255*parseFloat(o)/100:parseFloat(o);if("h"===t[u]){if(/deg$/.test(o))return parseFloat(o);if(void 0!==A[o])return A[o]}return parseFloat(o)}),i===t&&d.push(1),s=n||void 0===d[r]?1:d[r],d=d.slice(0,r)}else a.length>10&&/[0-9](?:\s|\/)/.test(a)&&(d=a.match(/([0-9]+)/g).map(function(o){return parseFloat(o)}),_=a.match(/([a-z])/gi).join("").toLowerCase());else isNaN(a)?Array.isArray(a)||a.length?(d=[a[0],a[1],a[2]],_="rgb",s=4===a.length?a[3]:1):a instanceof Object&&(null!=a.r||null!=a.red||null!=a.R?(_="rgb",d=[a.r||a.red||a.R||0,a.g||a.green||a.G||0,a.b||a.blue||a.B||0]):(_="hsl",d=[a.h||a.hue||a.H||0,a.s||a.saturation||a.S||0,a.l||a.lightness||a.L||a.b||a.brightness]),s=a.a||a.alpha||a.opacity||1,null!=a.opacity&&(s/=100)):(_="rgb",d=[a>>>16,(65280&a)>>>8,255&a]);return{space:_,values:d,alpha:s}};var A={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},53576:function(ie,z,e){"use strict";var S=e(19336);ie.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(A){var a,M,_,d,s,t=A[0]/360,i=A[1]/100,n=A[2]/100;if(0===i)return[s=255*n,s,s];a=2*n-(M=n<.5?n*(1+i):n+i-n*i),d=[0,0,0];for(var r=0;r<3;r++)(_=t+.3333333333333333*-(r-1))<0?_++:_>1&&_--,d[r]=255*(s=6*_<1?a+6*(M-a)*_:2*_<1?M:3*_<2?a+(M-a)*(.6666666666666666-_)*6:a);return d}},S.hsl=function(A){var a,M,_=A[0]/255,d=A[1]/255,s=A[2]/255,t=Math.min(_,d,s),i=Math.max(_,d,s),n=i-t;return i===t?a=0:_===i?a=(d-s)/n:d===i?a=2+(s-_)/n:s===i&&(a=4+(_-d)/n),(a=Math.min(60*a,360))<0&&(a+=360),M=(t+i)/2,[a,100*(i===t?0:M<=.5?n/(i+t):n/(2-i-t)),100*M]}},19336:function(ie){"use strict";ie.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(ie){ie.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(ie,z,e){"use strict";ie.exports={parse:e(46416),stringify:e(49395)}},8744:function(ie,z,e){"use strict";var S=e(30584);ie.exports={isSize:function(A){return/^[\d\.]/.test(A)||-1!==A.indexOf("/")||-1!==S.indexOf(A)}}},46416:function(ie,z,e){"use strict";var S=e(92384),A=e(68194),a=e(3748),M=e(2904),_=e(47916),d=e(7294),s=e(39956),t=e(8744).isSize;ie.exports=n;var i=n.cache={};function n(o){if("string"!=typeof o)throw new Error("Font argument must be a string.");if(i[o])return i[o];if(""===o)throw new Error("Cannot parse an empty string.");if(-1!==a.indexOf(o))return i[o]={system:o};for(var u,l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=s(o,/\s+/);u=h.shift();){if(-1!==A.indexOf(u))return["style","variant","weight","stretch"].forEach(function(b){l[b]=u}),i[o]=l;if(-1===_.indexOf(u))if("normal"!==u&&"small-caps"!==u)if(-1===d.indexOf(u)){if(-1===M.indexOf(u)){if(t(u)){var c=s(u,"/");if(l.size=c[0],null!=c[1]?l.lineHeight=r(c[1]):"/"===h[0]&&(h.shift(),l.lineHeight=r(h.shift())),!h.length)throw new Error("Missing required font-family.");return l.family=s(h.join(" "),/\s*,\s*/).map(S),i[o]=l}throw new Error("Unknown or unsupported font token: "+u)}l.weight=u}else l.stretch=u;else l.variant=u;else l.style=u}throw new Error("Missing required font-size.")}function r(o){var u=parseFloat(o);return u.toString()===o?u:o}},49395:function(ie,z,e){"use strict";var S=e(55616),A=e(8744).isSize,a=o(e(68194)),M=o(e(3748)),_=o(e(2904)),d=o(e(47916)),s=o(e(7294)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},n="serif";function r(u,l){if(u&&!l[u]&&!a[u])throw Error("Unknown keyword `"+u+"`");return u}function o(u){for(var l={},h=0;h<u.length;h++)l[u[h]]=1;return l}ie.exports=function(u){if((u=S(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return u.system&&r(u.system,M),u.system;if(r(u.style,d),r(u.variant,t),r(u.weight,_),r(u.stretch,s),null==u.size&&(u.size="1rem"),"number"==typeof u.size&&(u.size+="px"),!A)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=n),Array.isArray(u.family)&&(u.family.length||(u.family=[n]),u.family=u.family.map(function(h){return i[h]?h:'"'+h+'"'}).join(", "));var l=[];return l.push(u.style),u.variant!==u.style&&l.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&l.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&l.push(u.stretch),l.push(u.size+(null==u.lineHeight||"normal"===u.lineHeight||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),l.push(u.family),l.filter(Boolean).join(" ")}},27940:function(ie,z,e){"use strict";var S,A=e(81680),a=e(18496),M=e(87396),_=e(95920),d=e(50868),s=e(84323),t=Function.prototype.bind,i=Object.defineProperty,n=Object.prototype.hasOwnProperty;S=function(r,o,u){var l,h=a(o)&&M(o.value);return delete(l=_(o)).writable,delete l.value,l.get=function(){return!u.overwriteDefinition&&n.call(this,r)?h:(o.value=t.call(h,u.resolveContext?u.resolveContext(this):this),i(this,r,o),this[r])},l},ie.exports=function(r){var o=d(arguments[1]);return A(o.resolveContext)&&M(o.resolveContext),s(r,function(u,l){return S(l,u,o)})}},21092:function(ie,z,e){"use strict";var S=e(81680),A=e(85488),a=e(38452),M=e(50868),_=e(71056),d=ie.exports=function(s,t){var i,n,r,o,u;return arguments.length<2||"string"!=typeof s?(o=t,t=s,s=null):o=arguments[2],S(s)?(i=_.call(s,"c"),n=_.call(s,"e"),r=_.call(s,"w")):(i=r=!0,n=!1),u={value:t,configurable:i,enumerable:n,writable:r},o?a(M(o),u):u};d.gs=function(s,t,i){var n,r,o,u;return"string"!=typeof s?(o=i,i=t,t=s,s=null):o=arguments[3],S(t)?A(t)?S(i)?A(i)||(o=i,i=void 0):i=void 0:(o=t,t=i=void 0):t=void 0,S(s)?(n=_.call(s,"c"),r=_.call(s,"e")):(n=!0,r=!1),u={get:t,set:i,configurable:n,enumerable:r},o?a(M(o),u):u}},84706:function(ie,z,e){"use strict";function S(o,u){return o<u?-1:o>u?1:o>=u?0:NaN}var A,a;function _(o,u){var l,h,c=o.length,b=-1;if(null==u){for(;++b<c;)if(null!=(l=o[b])&&l>=l)for(h=l;++b<c;)null!=(l=o[b])&&l>h&&(h=l)}else for(;++b<c;)if(null!=(l=u(o[b],b,o))&&l>=l)for(h=l;++b<c;)null!=(l=u(o[b],b,o))&&l>h&&(h=l);return h}function d(o){return null===o?NaN:+o}function s(o,u){var l,h=o.length,c=h,b=-1,p=0;if(null==u)for(;++b<h;)isNaN(l=d(o[b]))?--c:p+=l;else for(;++b<h;)isNaN(l=d(u(o[b],b,o)))?--c:p+=l;if(c)return p/c}function t(o){for(var u,l,h,c=o.length,b=-1,p=0;++b<c;)p+=o[b].length;for(l=new Array(p);--c>=0;)for(u=(h=o[c]).length;--u>=0;)l[--p]=h[u];return l}function i(o,u){var l,h,c=o.length,b=-1;if(null==u){for(;++b<c;)if(null!=(l=o[b])&&l>=l)for(h=l;++b<c;)null!=(l=o[b])&&h>l&&(h=l)}else for(;++b<c;)if(null!=(l=u(o[b],b,o))&&l>=l)for(h=l;++b<c;)null!=(l=u(o[b],b,o))&&h>l&&(h=l);return h}function n(o,u,l){o=+o,u=+u,l=(c=arguments.length)<2?(u=o,o=0,1):c<3?1:+l;for(var h=-1,c=0|Math.max(0,Math.ceil((u-o)/l)),b=new Array(c);++h<c;)b[h]=o+h*l;return b}function r(o,u){var l,h=o.length,c=-1,b=0;if(null==u)for(;++c<h;)(l=+o[c])&&(b+=l);else for(;++c<h;)(l=+u(o[c],c,o))&&(b+=l);return b}e.d(z,{XE:function(){return S},kv:function(){return _},mo:function(){return s},Uf:function(){return t},SY:function(){return i},ik:function(){return n},oh:function(){return r}}),1===(A=S).length&&(a=A,A=function(o,u){return S(a(o),u)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},34712:function(ie,z,e){"use strict";e.d(z,{kH:function(){return M},UJ:function(){return _}});var S="$";function A(){}function a(o,u){var l=new A;if(o instanceof A)o.each(function(m,v){l.set(v,m)});else if(Array.isArray(o)){var h,c=-1,b=o.length;if(null==u)for(;++c<b;)l.set(c,o[c]);else for(;++c<b;)l.set(u(h=o[c],c,o),h)}else if(o)for(var p in o)l.set(p,o[p]);return l}A.prototype=a.prototype={constructor:A,has:function(o){return S+o in this},get:function(o){return this[S+o]},set:function(o,u){return this[S+o]=u,this},remove:function(o){var u=S+o;return u in this&&delete this[u]},clear:function(){for(var o in this)o[0]===S&&delete this[o]},keys:function(){var o=[];for(var u in this)u[0]===S&&o.push(u.slice(1));return o},values:function(){var o=[];for(var u in this)u[0]===S&&o.push(this[u]);return o},entries:function(){var o=[];for(var u in this)u[0]===S&&o.push({key:u.slice(1),value:this[u]});return o},size:function(){var o=0;for(var u in this)u[0]===S&&++o;return o},empty:function(){for(var o in this)if(o[0]===S)return!1;return!0},each:function(o){for(var u in this)u[0]===S&&o(this[u],u.slice(1),this)}};var M=a;function _(){var o,u,l,h=[],c=[];function b(m,v,x,y){if(v>=h.length)return null!=o&&m.sort(o),null!=u?u(m):m;for(var w,f,C,T=-1,D=m.length,R=h[v++],P=M(),O=x();++T<D;)(C=P.get(w=R(f=m[T])+""))?C.push(f):P.set(w,[f]);return P.each(function(B,q){y(O,q,b(B,v,x,y))}),O}function p(m,v){if(++v>h.length)return m;var x,y=c[v-1];return null!=u&&v>=h.length?x=m.entries():(x=[],m.each(function(w,f){x.push({key:f,values:p(w,v)})})),null!=y?x.sort(function(w,f){return y(w.key,f.key)}):x}return l={object:function(m){return b(m,0,d,s)},map:function(m){return b(m,0,t,i)},entries:function(m){return p(b(m,0,t,i),0)},key:function(m){return h.push(m),l},sortKeys:function(m){return c[h.length-1]=m,l},sortValues:function(m){return o=m,l},rollup:function(m){return u=m,l}}}function d(){return{}}function s(o,u,l){o[u]=l}function t(){return M()}function i(o,u,l){o.set(u,l)}function n(){}var r=M.prototype;n.prototype=function(o,u){var l=new n;if(o instanceof n)o.each(function(b){l.add(b)});else if(o){var h=-1,c=o.length;if(null==u)for(;++h<c;)l.add(o[h]);else for(;++h<c;)l.add(u(o[h],h,o))}return l}.prototype={constructor:n,has:r.has,add:function(o){return this[S+(o+="")]=o,this},remove:r.remove,clear:r.clear,values:r.keys,size:r.size,empty:r.empty,each:r.each}},49812:function(ie,z,e){"use strict";function S(xe,be){var ye;function Se(){var Ee,he,ue=ye.length,me=0,Pe=0;for(Ee=0;Ee<ue;++Ee)me+=(he=ye[Ee]).x,Pe+=he.y;for(me=me/ue-xe,Pe=Pe/ue-be,Ee=0;Ee<ue;++Ee)(he=ye[Ee]).x-=me,he.y-=Pe}return null==xe&&(xe=0),null==be&&(be=0),Se.initialize=function(Ee){ye=Ee},Se.x=function(Ee){return arguments.length?(xe=+Ee,Se):xe},Se.y=function(Ee){return arguments.length?(be=+Ee,Se):be},Se}function A(xe){return function(){return xe}}function a(){return 1e-6*(Math.random()-.5)}function M(xe,be,ye,Se){if(isNaN(be)||isNaN(ye))return xe;var Ee,he,ue,me,Pe,Ce,Ie,Oe,ze,je=xe._root,ve={data:Se},Ae=xe._x0,Le=xe._y0,Ve=xe._x1,Ne=xe._y1;if(!je)return xe._root=ve,xe;for(;je.length;)if((Ce=be>=(he=(Ae+Ve)/2))?Ae=he:Ve=he,(Ie=ye>=(ue=(Le+Ne)/2))?Le=ue:Ne=ue,Ee=je,!(je=je[Oe=Ie<<1|Ce]))return Ee[Oe]=ve,xe;if(me=+xe._x.call(null,je.data),Pe=+xe._y.call(null,je.data),be===me&&ye===Pe)return ve.next=je,Ee?Ee[Oe]=ve:xe._root=ve,xe;do{Ee=Ee?Ee[Oe]=new Array(4):xe._root=new Array(4),(Ce=be>=(he=(Ae+Ve)/2))?Ae=he:Ve=he,(Ie=ye>=(ue=(Le+Ne)/2))?Le=ue:Ne=ue}while((Oe=Ie<<1|Ce)==(ze=(Pe>=ue)<<1|me>=he));return Ee[ze]=je,Ee[Oe]=ve,xe}function _(xe,be,ye,Se,Ee){this.node=xe,this.x0=be,this.y0=ye,this.x1=Se,this.y1=Ee}function d(xe){return xe[0]}function s(xe){return xe[1]}function t(xe,be,ye){var Se=new i(be??d,ye??s,NaN,NaN,NaN,NaN);return null==xe?Se:Se.addAll(xe)}function i(xe,be,ye,Se,Ee,he){this._x=xe,this._y=be,this._x0=ye,this._y0=Se,this._x1=Ee,this._y1=he,this._root=void 0}function n(xe){for(var be={data:xe.data},ye=be;xe=xe.next;)ye=ye.next={data:xe.data};return be}e.r(z),e.d(z,{forceCenter:function(){return S},forceCollide:function(){return l},forceLink:function(){return p},forceManyBody:function(){return ge},forceRadial:function(){return Te},forceSimulation:function(){return ce},forceX:function(){return Me},forceY:function(){return we}});var r=t.prototype=i.prototype;function o(xe){return xe.x+xe.vx}function u(xe){return xe.y+xe.vy}function l(xe){var be,ye,Se=1,Ee=1;function he(){for(var Pe,Ce,Ie,Oe,ze,je,ve,Ae=be.length,Le=0;Le<Ee;++Le)for(Ce=t(be,o,u).visitAfter(ue),Pe=0;Pe<Ae;++Pe)ve=(je=ye[(Ie=be[Pe]).index])*je,Oe=Ie.x+Ie.vx,ze=Ie.y+Ie.vy,Ce.visit(Ve);function Ve(Ne,We,Xe,nt,dt){var ht=Ne.data,Mt=Ne.r,kt=je+Mt;if(!ht)return We>Oe+kt||nt<Oe-kt||Xe>ze+kt||dt<ze-kt;if(ht.index>Ie.index){var _t=Oe-ht.x-ht.vx,ut=ze-ht.y-ht.vy,st=_t*_t+ut*ut;st<kt*kt&&(0===_t&&(st+=(_t=a())*_t),0===ut&&(st+=(ut=a())*ut),st=(kt-(st=Math.sqrt(st)))/st*Se,Ie.vx+=(_t*=st)*(kt=(Mt*=Mt)/(ve+Mt)),Ie.vy+=(ut*=st)*kt,ht.vx-=_t*(kt=1-kt),ht.vy-=ut*kt)}}}function ue(Pe){if(Pe.data)return Pe.r=ye[Pe.data.index];for(var Ce=Pe.r=0;Ce<4;++Ce)Pe[Ce]&&Pe[Ce].r>Pe.r&&(Pe.r=Pe[Ce].r)}function me(){if(be){var Pe,Ce,Ie=be.length;for(ye=new Array(Ie),Pe=0;Pe<Ie;++Pe)ye[(Ce=be[Pe]).index]=+xe(Ce,Pe,be)}}return"function"!=typeof xe&&(xe=A(null==xe?1:+xe)),he.initialize=function(Pe){be=Pe,me()},he.iterations=function(Pe){return arguments.length?(Ee=+Pe,he):Ee},he.strength=function(Pe){return arguments.length?(Se=+Pe,he):Se},he.radius=function(Pe){return arguments.length?(xe="function"==typeof Pe?Pe:A(+Pe),me(),he):xe},he}r.copy=function(){var xe,be,ye=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Se=this._root;if(!Se)return ye;if(!Se.length)return ye._root=n(Se),ye;for(xe=[{source:Se,target:ye._root=new Array(4)}];Se=xe.pop();)for(var Ee=0;Ee<4;++Ee)(be=Se.source[Ee])&&(be.length?xe.push({source:be,target:Se.target[Ee]=new Array(4)}):Se.target[Ee]=n(be));return ye},r.add=function(xe){var be=+this._x.call(null,xe),ye=+this._y.call(null,xe);return M(this.cover(be,ye),be,ye,xe)},r.addAll=function(xe){var be,ye,Se,Ee,he=xe.length,ue=new Array(he),me=new Array(he),Pe=1/0,Ce=1/0,Ie=-1/0,Oe=-1/0;for(ye=0;ye<he;++ye)isNaN(Se=+this._x.call(null,be=xe[ye]))||isNaN(Ee=+this._y.call(null,be))||(ue[ye]=Se,me[ye]=Ee,Se<Pe&&(Pe=Se),Se>Ie&&(Ie=Se),Ee<Ce&&(Ce=Ee),Ee>Oe&&(Oe=Ee));if(Pe>Ie||Ce>Oe)return this;for(this.cover(Pe,Ce).cover(Ie,Oe),ye=0;ye<he;++ye)M(this,ue[ye],me[ye],xe[ye]);return this},r.cover=function(xe,be){if(isNaN(xe=+xe)||isNaN(be=+be))return this;var ye=this._x0,Se=this._y0,Ee=this._x1,he=this._y1;if(isNaN(ye))Ee=(ye=Math.floor(xe))+1,he=(Se=Math.floor(be))+1;else{for(var ue,me,Pe=Ee-ye,Ce=this._root;ye>xe||xe>=Ee||Se>be||be>=he;)switch(me=(be<Se)<<1|xe<ye,(ue=new Array(4))[me]=Ce,Ce=ue,Pe*=2,me){case 0:Ee=ye+Pe,he=Se+Pe;break;case 1:ye=Ee-Pe,he=Se+Pe;break;case 2:Ee=ye+Pe,Se=he-Pe;break;case 3:ye=Ee-Pe,Se=he-Pe}this._root&&this._root.length&&(this._root=Ce)}return this._x0=ye,this._y0=Se,this._x1=Ee,this._y1=he,this},r.data=function(){var xe=[];return this.visit(function(be){if(!be.length)do{xe.push(be.data)}while(be=be.next)}),xe},r.extent=function(xe){return arguments.length?this.cover(+xe[0][0],+xe[0][1]).cover(+xe[1][0],+xe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},r.find=function(xe,be,ye){var Se,Ee,he,ue,me,Pe,Ce,Ie=this._x0,Oe=this._y0,ze=this._x1,je=this._y1,ve=[],Ae=this._root;for(Ae&&ve.push(new _(Ae,Ie,Oe,ze,je)),null==ye?ye=1/0:(Ie=xe-ye,Oe=be-ye,ze=xe+ye,je=be+ye,ye*=ye);Pe=ve.pop();)if(!(!(Ae=Pe.node)||(Ee=Pe.x0)>ze||(he=Pe.y0)>je||(ue=Pe.x1)<Ie||(me=Pe.y1)<Oe))if(Ae.length){var Le=(Ee+ue)/2,Ve=(he+me)/2;ve.push(new _(Ae[3],Le,Ve,ue,me),new _(Ae[2],Ee,Ve,Le,me),new _(Ae[1],Le,he,ue,Ve),new _(Ae[0],Ee,he,Le,Ve)),(Ce=(be>=Ve)<<1|xe>=Le)&&(Pe=ve[ve.length-1],ve[ve.length-1]=ve[ve.length-1-Ce],ve[ve.length-1-Ce]=Pe)}else{var Ne=xe-+this._x.call(null,Ae.data),We=be-+this._y.call(null,Ae.data),Xe=Ne*Ne+We*We;if(Xe<ye){var nt=Math.sqrt(ye=Xe);Ie=xe-nt,Oe=be-nt,ze=xe+nt,je=be+nt,Se=Ae.data}}return Se},r.remove=function(xe){if(isNaN(he=+this._x.call(null,xe))||isNaN(ue=+this._y.call(null,xe)))return this;var be,ye,Se,Ee,he,ue,me,Pe,Ce,Ie,Oe,ze,je=this._root,ve=this._x0,Ae=this._y0,Le=this._x1,Ve=this._y1;if(!je)return this;if(je.length)for(;;){if((Ce=he>=(me=(ve+Le)/2))?ve=me:Le=me,(Ie=ue>=(Pe=(Ae+Ve)/2))?Ae=Pe:Ve=Pe,be=je,!(je=je[Oe=Ie<<1|Ce]))return this;if(!je.length)break;(be[Oe+1&3]||be[Oe+2&3]||be[Oe+3&3])&&(ye=be,ze=Oe)}for(;je.data!==xe;)if(Se=je,!(je=je.next))return this;return(Ee=je.next)&&delete je.next,Se?(Ee?Se.next=Ee:delete Se.next,this):be?(Ee?be[Oe]=Ee:delete be[Oe],(je=be[0]||be[1]||be[2]||be[3])&&je===(be[3]||be[2]||be[1]||be[0])&&!je.length&&(ye?ye[ze]=je:this._root=je),this):(this._root=Ee,this)},r.removeAll=function(xe){for(var be=0,ye=xe.length;be<ye;++be)this.remove(xe[be]);return this},r.root=function(){return this._root},r.size=function(){var xe=0;return this.visit(function(be){if(!be.length)do{++xe}while(be=be.next)}),xe},r.visit=function(xe){var be,ye,Se,Ee,he,ue,me=[],Pe=this._root;for(Pe&&me.push(new _(Pe,this._x0,this._y0,this._x1,this._y1));be=me.pop();)if(!xe(Pe=be.node,Se=be.x0,Ee=be.y0,he=be.x1,ue=be.y1)&&Pe.length){var Ce=(Se+he)/2,Ie=(Ee+ue)/2;(ye=Pe[3])&&me.push(new _(ye,Ce,Ie,he,ue)),(ye=Pe[2])&&me.push(new _(ye,Se,Ie,Ce,ue)),(ye=Pe[1])&&me.push(new _(ye,Ce,Ee,he,Ie)),(ye=Pe[0])&&me.push(new _(ye,Se,Ee,Ce,Ie))}return this},r.visitAfter=function(xe){var be,ye=[],Se=[];for(this._root&&ye.push(new _(this._root,this._x0,this._y0,this._x1,this._y1));be=ye.pop();){var Ee=be.node;if(Ee.length){var he,ue=be.x0,me=be.y0,Pe=be.x1,Ce=be.y1,Ie=(ue+Pe)/2,Oe=(me+Ce)/2;(he=Ee[0])&&ye.push(new _(he,ue,me,Ie,Oe)),(he=Ee[1])&&ye.push(new _(he,Ie,me,Pe,Oe)),(he=Ee[2])&&ye.push(new _(he,ue,Oe,Ie,Ce)),(he=Ee[3])&&ye.push(new _(he,Ie,Oe,Pe,Ce))}Se.push(be)}for(;be=Se.pop();)xe(be.node,be.x0,be.y0,be.x1,be.y1);return this},r.x=function(xe){return arguments.length?(this._x=xe,this):this._x},r.y=function(xe){return arguments.length?(this._y=xe,this):this._y};var h=e(34712);function c(xe){return xe.index}function b(xe,be){var ye=xe.get(be);if(!ye)throw new Error("missing: "+be);return ye}function p(xe){var be,ye,Se,Ee,he,ue=c,me=function(ve){return 1/Math.min(Ee[ve.source.index],Ee[ve.target.index])},Pe=A(30),Ce=1;function Ie(ve){for(var Ae=0,Le=xe.length;Ae<Ce;++Ae)for(var Ve,Ne,We,Xe,nt,dt,ht,Mt=0;Mt<Le;++Mt)Ne=(Ve=xe[Mt]).source,Xe=(We=Ve.target).x+We.vx-Ne.x-Ne.vx||a(),nt=We.y+We.vy-Ne.y-Ne.vy||a(),Xe*=dt=((dt=Math.sqrt(Xe*Xe+nt*nt))-ye[Mt])/dt*ve*be[Mt],nt*=dt,We.vx-=Xe*(ht=he[Mt]),We.vy-=nt*ht,Ne.vx+=Xe*(ht=1-ht),Ne.vy+=nt*ht}function Oe(){if(Se){var ve,Ae,Le=Se.length,Ve=xe.length,Ne=(0,h.kH)(Se,ue);for(ve=0,Ee=new Array(Le);ve<Ve;++ve)(Ae=xe[ve]).index=ve,"object"!=typeof Ae.source&&(Ae.source=b(Ne,Ae.source)),"object"!=typeof Ae.target&&(Ae.target=b(Ne,Ae.target)),Ee[Ae.source.index]=(Ee[Ae.source.index]||0)+1,Ee[Ae.target.index]=(Ee[Ae.target.index]||0)+1;for(ve=0,he=new Array(Ve);ve<Ve;++ve)he[ve]=Ee[(Ae=xe[ve]).source.index]/(Ee[Ae.source.index]+Ee[Ae.target.index]);be=new Array(Ve),ze(),ye=new Array(Ve),je()}}function ze(){if(Se)for(var ve=0,Ae=xe.length;ve<Ae;++ve)be[ve]=+me(xe[ve],ve,xe)}function je(){if(Se)for(var ve=0,Ae=xe.length;ve<Ae;++ve)ye[ve]=+Pe(xe[ve],ve,xe)}return null==xe&&(xe=[]),Ie.initialize=function(ve){Se=ve,Oe()},Ie.links=function(ve){return arguments.length?(xe=ve,Oe(),Ie):xe},Ie.id=function(ve){return arguments.length?(ue=ve,Ie):ue},Ie.iterations=function(ve){return arguments.length?(Ce=+ve,Ie):Ce},Ie.strength=function(ve){return arguments.length?(me="function"==typeof ve?ve:A(+ve),ze(),Ie):me},Ie.distance=function(ve){return arguments.length?(Pe="function"==typeof ve?ve:A(+ve),je(),Ie):Pe},Ie}var m={value:function(){}};function v(){for(var xe,be=0,ye=arguments.length,Se={};be<ye;++be){if(!(xe=arguments[be]+"")||xe in Se||/[\s.]/.test(xe))throw new Error("illegal type: "+xe);Se[xe]=[]}return new x(Se)}function x(xe){this._=xe}function y(xe,be){for(var ye,Se=0,Ee=xe.length;Se<Ee;++Se)if((ye=xe[Se]).name===be)return ye.value}function w(xe,be,ye){for(var Se=0,Ee=xe.length;Se<Ee;++Se)if(xe[Se].name===be){xe[Se]=m,xe=xe.slice(0,Se).concat(xe.slice(Se+1));break}return null!=ye&&xe.push({name:be,value:ye}),xe}x.prototype=v.prototype={constructor:x,on:function(xe,be){var ye,Se,Ee=this._,he=(Se=Ee,(xe+"").trim().split(/^|\s+/).map(function(Pe){var Ce="",Ie=Pe.indexOf(".");if(Ie>=0&&(Ce=Pe.slice(Ie+1),Pe=Pe.slice(0,Ie)),Pe&&!Se.hasOwnProperty(Pe))throw new Error("unknown type: "+Pe);return{type:Pe,name:Ce}})),ue=-1,me=he.length;if(!(arguments.length<2)){if(null!=be&&"function"!=typeof be)throw new Error("invalid callback: "+be);for(;++ue<me;)if(ye=(xe=he[ue]).type)Ee[ye]=w(Ee[ye],xe.name,be);else if(null==be)for(ye in Ee)Ee[ye]=w(Ee[ye],xe.name,null);return this}for(;++ue<me;)if((ye=(xe=he[ue]).type)&&(ye=y(Ee[ye],xe.name)))return ye},copy:function(){var xe={},be=this._;for(var ye in be)xe[ye]=be[ye].slice();return new x(xe)},call:function(xe,be){if((ye=arguments.length-2)>0)for(var ye,Se,Ee=new Array(ye),he=0;he<ye;++he)Ee[he]=arguments[he+2];if(!this._.hasOwnProperty(xe))throw new Error("unknown type: "+xe);for(he=0,ye=(Se=this._[xe]).length;he<ye;++he)Se[he].value.apply(be,Ee)},apply:function(xe,be,ye){if(!this._.hasOwnProperty(xe))throw new Error("unknown type: "+xe);for(var Se=this._[xe],Ee=0,he=Se.length;Ee<he;++Ee)Se[Ee].value.apply(be,ye)}};var f,C,T=v,D=0,R=0,P=0,O=1e3,B=0,q=0,N=0,H="object"==typeof performance&&performance.now?performance:Date,$="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(xe){setTimeout(xe,17)};function j(){return q||($(W),q=H.now()+N)}function W(){q=0}function G(){this._call=this._time=this._next=null}function ae(xe,be,ye){var Se=new G;return Se.restart(xe,be,ye),Se}function te(){q=(B=H.now())+N,D=R=0;try{!function(){j(),++D;for(var xe,be=f;be;)(xe=q-be._time)>=0&&be._call.call(null,xe),be=be._next;--D}()}finally{D=0,function(){for(var xe,be,ye=f,Se=1/0;ye;)ye._call?(Se>ye._time&&(Se=ye._time),xe=ye,ye=ye._next):(be=ye._next,ye._next=null,ye=xe?xe._next=be:f=be);C=xe,ee(Se)}(),q=0}}function Q(){var xe=H.now(),be=xe-B;be>O&&(N-=be,B=xe)}function ee(xe){D||(R&&(R=clearTimeout(R)),xe-q>24?(xe<1/0&&(R=setTimeout(te,xe-H.now()-N)),P&&(P=clearInterval(P))):(P||(B=H.now(),P=setInterval(Q,O)),D=1,$(te)))}function re(xe){return xe.x}function J(xe){return xe.y}G.prototype=ae.prototype={constructor:G,restart:function(xe,be,ye){if("function"!=typeof xe)throw new TypeError("callback is not a function");ye=(null==ye?j():+ye)+(null==be?0:+be),this._next||C===this||(C?C._next=this:f=this,C=this),this._call=xe,this._time=ye,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};var le=10,fe=Math.PI*(3-Math.sqrt(5));function ce(xe){var be,ye=1,Se=.001,Ee=1-Math.pow(Se,1/300),he=0,ue=.6,me=(0,h.kH)(),Pe=ae(Ie),Ce=T("tick","end");function Ie(){Oe(),Ce.call("tick",be),ye<Se&&(Pe.stop(),Ce.call("end",be))}function Oe(ve){var Ae,Le,Ve=xe.length;void 0===ve&&(ve=1);for(var Ne=0;Ne<ve;++Ne)for(ye+=(he-ye)*Ee,me.each(function(We){We(ye)}),Ae=0;Ae<Ve;++Ae)null==(Le=xe[Ae]).fx?Le.x+=Le.vx*=ue:(Le.x=Le.fx,Le.vx=0),null==Le.fy?Le.y+=Le.vy*=ue:(Le.y=Le.fy,Le.vy=0);return be}function ze(){for(var ve,Ae=0,Le=xe.length;Ae<Le;++Ae){if((ve=xe[Ae]).index=Ae,null!=ve.fx&&(ve.x=ve.fx),null!=ve.fy&&(ve.y=ve.fy),isNaN(ve.x)||isNaN(ve.y)){var Ve=le*Math.sqrt(Ae),Ne=Ae*fe;ve.x=Ve*Math.cos(Ne),ve.y=Ve*Math.sin(Ne)}(isNaN(ve.vx)||isNaN(ve.vy))&&(ve.vx=ve.vy=0)}}function je(ve){return ve.initialize&&ve.initialize(xe),ve}return null==xe&&(xe=[]),ze(),be={tick:Oe,restart:function(){return Pe.restart(Ie),be},stop:function(){return Pe.stop(),be},nodes:function(ve){return arguments.length?(xe=ve,ze(),me.each(je),be):xe},alpha:function(ve){return arguments.length?(ye=+ve,be):ye},alphaMin:function(ve){return arguments.length?(Se=+ve,be):Se},alphaDecay:function(ve){return arguments.length?(Ee=+ve,be):+Ee},alphaTarget:function(ve){return arguments.length?(he=+ve,be):he},velocityDecay:function(ve){return arguments.length?(ue=1-ve,be):1-ue},force:function(ve,Ae){return arguments.length>1?(null==Ae?me.remove(ve):me.set(ve,je(Ae)),be):me.get(ve)},find:function(ve,Ae,Le){var Ve,Ne,We,Xe,nt,dt=0,ht=xe.length;for(null==Le?Le=1/0:Le*=Le,dt=0;dt<ht;++dt)(We=(Ve=ve-(Xe=xe[dt]).x)*Ve+(Ne=Ae-Xe.y)*Ne)<Le&&(nt=Xe,Le=We);return nt},on:function(ve,Ae){return arguments.length>1?(Ce.on(ve,Ae),be):Ce.on(ve)}}}function ge(){var xe,be,ye,Se,Ee=A(-30),he=1,ue=1/0,me=.81;function Pe(ze){var je,ve=xe.length,Ae=t(xe,re,J).visitAfter(Ie);for(ye=ze,je=0;je<ve;++je)be=xe[je],Ae.visit(Oe)}function Ce(){if(xe){var ze,je,ve=xe.length;for(Se=new Array(ve),ze=0;ze<ve;++ze)Se[(je=xe[ze]).index]=+Ee(je,ze,xe)}}function Ie(ze){var je,ve,Ae,Le,Ve,Ne=0,We=0;if(ze.length){for(Ae=Le=Ve=0;Ve<4;++Ve)(je=ze[Ve])&&(ve=Math.abs(je.value))&&(Ne+=je.value,We+=ve,Ae+=ve*je.x,Le+=ve*je.y);ze.x=Ae/We,ze.y=Le/We}else{(je=ze).x=je.data.x,je.y=je.data.y;do{Ne+=Se[je.data.index]}while(je=je.next)}ze.value=Ne}function Oe(ze,je,ve,Ae){if(!ze.value)return!0;var Le=ze.x-be.x,Ve=ze.y-be.y,Ne=Ae-je,We=Le*Le+Ve*Ve;if(Ne*Ne/me<We)return We<ue&&(0===Le&&(We+=(Le=a())*Le),0===Ve&&(We+=(Ve=a())*Ve),We<he&&(We=Math.sqrt(he*We)),be.vx+=Le*ze.value*ye/We,be.vy+=Ve*ze.value*ye/We),!0;if(!(ze.length||We>=ue)){(ze.data!==be||ze.next)&&(0===Le&&(We+=(Le=a())*Le),0===Ve&&(We+=(Ve=a())*Ve),We<he&&(We=Math.sqrt(he*We)));do{ze.data!==be&&(be.vx+=Le*(Ne=Se[ze.data.index]*ye/We),be.vy+=Ve*Ne)}while(ze=ze.next)}}return Pe.initialize=function(ze){xe=ze,Ce()},Pe.strength=function(ze){return arguments.length?(Ee="function"==typeof ze?ze:A(+ze),Ce(),Pe):Ee},Pe.distanceMin=function(ze){return arguments.length?(he=ze*ze,Pe):Math.sqrt(he)},Pe.distanceMax=function(ze){return arguments.length?(ue=ze*ze,Pe):Math.sqrt(ue)},Pe.theta=function(ze){return arguments.length?(me=ze*ze,Pe):Math.sqrt(me)},Pe}function Te(xe,be,ye){var Se,Ee,he,ue=A(.1);function me(Ce){for(var Ie=0,Oe=Se.length;Ie<Oe;++Ie){var ze=Se[Ie],je=ze.x-be||1e-6,ve=ze.y-ye||1e-6,Ae=Math.sqrt(je*je+ve*ve),Le=(he[Ie]-Ae)*Ee[Ie]*Ce/Ae;ze.vx+=je*Le,ze.vy+=ve*Le}}function Pe(){if(Se){var Ce,Ie=Se.length;for(Ee=new Array(Ie),he=new Array(Ie),Ce=0;Ce<Ie;++Ce)he[Ce]=+xe(Se[Ce],Ce,Se),Ee[Ce]=isNaN(he[Ce])?0:+ue(Se[Ce],Ce,Se)}}return"function"!=typeof xe&&(xe=A(+xe)),null==be&&(be=0),null==ye&&(ye=0),me.initialize=function(Ce){Se=Ce,Pe()},me.strength=function(Ce){return arguments.length?(ue="function"==typeof Ce?Ce:A(+Ce),Pe(),me):ue},me.radius=function(Ce){return arguments.length?(xe="function"==typeof Ce?Ce:A(+Ce),Pe(),me):xe},me.x=function(Ce){return arguments.length?(be=+Ce,me):be},me.y=function(Ce){return arguments.length?(ye=+Ce,me):ye},me}function Me(xe){var be,ye,Se,Ee=A(.1);function he(me){for(var Pe,Ce=0,Ie=be.length;Ce<Ie;++Ce)(Pe=be[Ce]).vx+=(Se[Ce]-Pe.x)*ye[Ce]*me}function ue(){if(be){var me,Pe=be.length;for(ye=new Array(Pe),Se=new Array(Pe),me=0;me<Pe;++me)ye[me]=isNaN(Se[me]=+xe(be[me],me,be))?0:+Ee(be[me],me,be)}}return"function"!=typeof xe&&(xe=A(null==xe?0:+xe)),he.initialize=function(me){be=me,ue()},he.strength=function(me){return arguments.length?(Ee="function"==typeof me?me:A(+me),ue(),he):Ee},he.x=function(me){return arguments.length?(xe="function"==typeof me?me:A(+me),ue(),he):xe},he}function we(xe){var be,ye,Se,Ee=A(.1);function he(me){for(var Pe,Ce=0,Ie=be.length;Ce<Ie;++Ce)(Pe=be[Ce]).vy+=(Se[Ce]-Pe.y)*ye[Ce]*me}function ue(){if(be){var me,Pe=be.length;for(ye=new Array(Pe),Se=new Array(Pe),me=0;me<Pe;++me)ye[me]=isNaN(Se[me]=+xe(be[me],me,be))?0:+Ee(be[me],me,be)}}return"function"!=typeof xe&&(xe=A(null==xe?0:+xe)),he.initialize=function(me){be=me,ue()},he.strength=function(me){return arguments.length?(Ee="function"==typeof me?me:A(+me),ue(),he):Ee},he.y=function(me){return arguments.length?(xe="function"==typeof me?me:A(+me),ue(),he):xe},he}},57624:function(ie,z,e){"use strict";function S(l,h){if((c=(l=h?l.toExponential(h-1):l.toExponential()).indexOf("e"))<0)return null;var c,b=l.slice(0,c);return[b.length>1?b[0]+b.slice(2):b,+l.slice(c+1)]}e.d(z,{E9:function(){return n},SO:function(){return u}});var A,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function M(l){if(!(h=a.exec(l)))throw new Error("invalid format: "+l);var h;return new _({fill:h[1],align:h[2],sign:h[3],symbol:h[4],zero:h[5],width:h[6],comma:h[7],precision:h[8]&&h[8].slice(1),trim:h[9],type:h[10]})}function _(l){this.fill=void 0===l.fill?" ":l.fill+"",this.align=void 0===l.align?">":l.align+"",this.sign=void 0===l.sign?"-":l.sign+"",this.symbol=void 0===l.symbol?"":l.symbol+"",this.zero=!!l.zero,this.width=void 0===l.width?void 0:+l.width,this.comma=!!l.comma,this.precision=void 0===l.precision?void 0:+l.precision,this.trim=!!l.trim,this.type=void 0===l.type?"":l.type+""}function d(l,h){var c=S(l,h);if(!c)return l+"";var b=c[0],p=c[1];return p<0?"0."+new Array(-p).join("0")+b:b.length>p+1?b.slice(0,p+1)+"."+b.slice(p+1):b+new Array(p-b.length+2).join("0")}M.prototype=_.prototype,_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(l,h){return(100*l).toFixed(h)},b:function(l){return Math.round(l).toString(2)},c:function(l){return l+""},d:function(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:function(l,h){return l.toExponential(h)},f:function(l,h){return l.toFixed(h)},g:function(l,h){return l.toPrecision(h)},o:function(l){return Math.round(l).toString(8)},p:function(l,h){return d(100*l,h)},r:d,s:function(l,h){var c=S(l,h);if(!c)return l+"";var b=c[0],p=c[1],m=p-(A=3*Math.max(-8,Math.min(8,Math.floor(p/3))))+1,v=b.length;return m===v?b:m>v?b+new Array(m-v+1).join("0"):m>0?b.slice(0,m)+"."+b.slice(m):"0."+new Array(1-m).join("0")+S(l,Math.max(0,h+m-1))[0]},X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}};function t(l){return l}var i,n,r=Array.prototype.map,o=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function u(l){var h,c,T,b=void 0===l.grouping||void 0===l.thousands?t:(h=r.call(l.grouping,Number),c=l.thousands+"",function(T,D){for(var R=T.length,P=[],O=0,B=h[0],q=0;R>0&&B>0&&(q+B+1>D&&(B=Math.max(1,D-q)),P.push(T.substring(R-=B,R+B)),!((q+=B+1)>D));)B=h[O=(O+1)%h.length];return P.reverse().join(c)}),p=void 0===l.currency?"":l.currency[0]+"",m=void 0===l.currency?"":l.currency[1]+"",v=void 0===l.decimal?".":l.decimal+"",x=void 0===l.numerals?t:(T=r.call(l.numerals,String),function(D){return D.replace(/[0-9]/g,function(R){return T[+R]})}),y=void 0===l.percent?"%":l.percent+"",w=void 0===l.minus?"-":l.minus+"",f=void 0===l.nan?"NaN":l.nan+"";function C(T){var D=(T=M(T)).fill,R=T.align,P=T.sign,O=T.symbol,B=T.zero,q=T.width,N=T.comma,H=T.precision,$=T.trim,j=T.type;"n"===j?(N=!0,j="g"):s[j]||(void 0===H&&(H=12),$=!0,j="g"),(B||"0"===D&&"="===R)&&(B=!0,D="0",R="=");var W="$"===O?p:"#"===O&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",G="$"===O?m:/[%p]/.test(j)?y:"",ae=s[j],te=/[defgprs%]/.test(j);function Q(ee){var re,J,le,fe=W,ce=G;if("c"===j)ce=ae(ee)+ce,ee="";else{var ge=(ee=+ee)<0||1/ee<0;if(ee=isNaN(ee)?f:ae(Math.abs(ee),H),$&&(ee=function(we){e:for(var xe,be=we.length,ye=1,Se=-1;ye<be;++ye)switch(we[ye]){case".":Se=xe=ye;break;case"0":0===Se&&(Se=ye),xe=ye;break;default:if(!+we[ye])break e;Se>0&&(Se=0)}return Se>0?we.slice(0,Se)+we.slice(xe+1):we}(ee)),ge&&0==+ee&&"+"!==P&&(ge=!1),fe=(ge?"("===P?P:w:"-"===P||"("===P?"":P)+fe,ce=("s"===j?o[8+A/3]:"")+ce+(ge&&"("===P?")":""),te)for(re=-1,J=ee.length;++re<J;)if(48>(le=ee.charCodeAt(re))||le>57){ce=(46===le?v+ee.slice(re+1):ee.slice(re))+ce,ee=ee.slice(0,re);break}}N&&!B&&(ee=b(ee,1/0));var Te=fe.length+ee.length+ce.length,Me=Te<q?new Array(q-Te+1).join(D):"";switch(N&&B&&(ee=b(Me+ee,Me.length?q-ce.length:1/0),Me=""),R){case"<":ee=fe+ee+ce+Me;break;case"=":ee=fe+Me+ee+ce;break;case"^":ee=Me.slice(0,Te=Me.length>>1)+fe+ee+ce+Me.slice(Te);break;default:ee=Me+fe+ee+ce}return x(ee)}return H=void 0===H?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H)),Q.toString=function(){return T+""},Q}return{format:C,formatPrefix:function(T,D){var R,P=C(((T=M(T)).type="f",T)),O=3*Math.max(-8,Math.min(8,Math.floor((R=D,((R=S(Math.abs(R)))?R[1]:NaN)/3)))),B=Math.pow(10,-O),q=o[8+O/3];return function(N){return P(B*N)+q}}}}i=u({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),n=i.format},87108:function(ie,z,e){"use strict";e.r(z),e.d(z,{geoAiry:function(){return N},geoAiryRaw:function(){return q},geoAitoff:function(){return $},geoAitoffRaw:function(){return H},geoArmadillo:function(){return W},geoArmadilloRaw:function(){return j},geoAugust:function(){return ae},geoAugustRaw:function(){return G},geoBaker:function(){return re},geoBakerRaw:function(){return ee},geoBerghaus:function(){return fe},geoBerghausRaw:function(){return le},geoBertin1953:function(){return ye},geoBertin1953Raw:function(){return be},geoBoggs:function(){return Ie},geoBoggsRaw:function(){return Ce},geoBonne:function(){return Ae},geoBonneRaw:function(){return ve},geoBottomley:function(){return Ve},geoBottomleyRaw:function(){return Le},geoBromley:function(){return We},geoBromleyRaw:function(){return Ne},geoChamberlin:function(){return st},geoChamberlinAfrica:function(){return ut},geoChamberlinRaw:function(){return kt},geoCollignon:function(){return Ut},geoCollignonRaw:function(){return Lt},geoCraig:function(){return Pt},geoCraigRaw:function(){return Ht},geoCraster:function(){return Ge},geoCrasterRaw:function(){return tt},geoCylindricalEqualArea:function(){return pt},geoCylindricalEqualAreaRaw:function(){return Qe},geoCylindricalStereographic:function(){return He},geoCylindricalStereographicRaw:function(){return ct},geoEckert1:function(){return ft},geoEckert1Raw:function(){return qe},geoEckert2:function(){return xt},geoEckert2Raw:function(){return et},geoEckert3:function(){return At},geoEckert3Raw:function(){return wt},geoEckert4:function(){return Ot},geoEckert4Raw:function(){return yt},geoEckert5:function(){return Rt},geoEckert5Raw:function(){return Ct},geoEckert6:function(){return jt},geoEckert6Raw:function(){return Bt},geoEisenlohr:function(){return Jt},geoEisenlohrRaw:function(){return on},geoFahey:function(){return dn},geoFaheyRaw:function(){return tn},geoFoucaut:function(){return zn},geoFoucautRaw:function(){return Gn},geoFoucautSinusoidal:function(){return ln},geoFoucautSinusoidalRaw:function(){return Mn},geoGilbert:function(){return Pn},geoGingery:function(){return Jn},geoGingeryRaw:function(){return Yn},geoGinzburg4:function(){return or},geoGinzburg4Raw:function(){return nr},geoGinzburg5:function(){return cr},geoGinzburg5Raw:function(){return lr},geoGinzburg6:function(){return fn},geoGinzburg6Raw:function(){return Ar},geoGinzburg8:function(){return Vn},geoGinzburg8Raw:function(){return an},geoGinzburg9:function(){return Wn},geoGinzburg9Raw:function(){return En},geoGringorten:function(){return fr},geoGringortenQuincuncial:function(){return vo},geoGringortenRaw:function(){return In},geoGuyou:function(){return Nt},geoGuyouRaw:function(){return An},geoHammer:function(){return Me},geoHammerRaw:function(){return ge},geoHammerRetroazimuthal:function(){return wn},geoHammerRetroazimuthalRaw:function(){return cn},geoHealpix:function(){return Xn},geoHealpixRaw:function(){return pn},geoHill:function(){return pr},geoHillRaw:function(){return er},geoHomolosine:function(){return kr},geoHomolosineRaw:function(){return Dr},geoHufnagel:function(){return yr},geoHufnagelRaw:function(){return Lr},geoHyperelliptical:function(){return to},geoHyperellipticalRaw:function(){return Qr},geoInterrupt:function(){return ji},geoInterruptedBoggs:function(){return Aa},geoInterruptedHomolosine:function(){return Ro},geoInterruptedMollweide:function(){return Li},geoInterruptedMollweideHemispheres:function(){return vl},geoInterruptedQuarticAuthalic:function(){return Yl},geoInterruptedSinuMollweide:function(){return Ns},geoInterruptedSinusoidal:function(){return ni},geoKavrayskiy7:function(){return Va},geoKavrayskiy7Raw:function(){return La},geoLagrange:function(){return Ri},geoLagrangeRaw:function(){return ts},geoLarrivee:function(){return Bs},geoLarriveeRaw:function(){return fs},geoLaskowski:function(){return yl},geoLaskowskiRaw:function(){return Ms},geoLittrow:function(){return xl},geoLittrowRaw:function(){return js},geoLoximuthal:function(){return As},geoLoximuthalRaw:function(){return Ha},geoMiller:function(){return xu},geoMillerRaw:function(){return qa},geoModifiedStereographic:function(){return Hs},geoModifiedStereographicAlaska:function(){return fc},geoModifiedStereographicGs48:function(){return ki},geoModifiedStereographicGs50:function(){return nl},geoModifiedStereographicLee:function(){return Vs},geoModifiedStereographicMiller:function(){return Si},geoModifiedStereographicRaw:function(){return cu},geoMollweide:function(){return ue},geoMollweideRaw:function(){return he},geoMtFlatPolarParabolic:function(){return _u},geoMtFlatPolarParabolicRaw:function(){return hs},geoMtFlatPolarQuartic:function(){return ns},geoMtFlatPolarQuarticRaw:function(){return ga},geoMtFlatPolarSinusoidal:function(){return sa},geoMtFlatPolarSinusoidalRaw:function(){return $o},geoNaturalEarth:function(){return Xr.c},geoNaturalEarth2:function(){return wu},geoNaturalEarth2Raw:function(){return Gs},geoNaturalEarthRaw:function(){return Xr.g},geoNellHammer:function(){return Ml},geoNellHammerRaw:function(){return Fl},geoNicolosi:function(){return Hu},geoNicolosiRaw:function(){return Zl},geoPatterson:function(){return rs},geoPattersonRaw:function(){return fu},geoPeirceQuincuncial:function(){return ds},geoPierceQuincuncial:function(){return ds},geoPolyconic:function(){return il},geoPolyconicRaw:function(){return Nl},geoPolyhedral:function(){return Ui},geoPolyhedralButterfly:function(){return Za},geoPolyhedralCollignon:function(){return ma},geoPolyhedralWaterman:function(){return ra},geoProject:function(){return ua},geoQuantize:function(){return Mo},geoQuincuncial:function(){return Hi},geoRectangularPolyconic:function(){return Ni},geoRectangularPolyconicRaw:function(){return ca},geoRobinson:function(){return Mr},geoRobinsonRaw:function(){return va},geoSatellite:function(){return hu},geoSatelliteRaw:function(){return Ws},geoSinuMollweide:function(){return dr},geoSinuMollweideRaw:function(){return vr},geoSinusoidal:function(){return je},geoSinusoidalRaw:function(){return ze},geoStitch:function(){return Do},geoTimes:function(){return Xs},geoTimesRaw:function(){return qi},geoTwoPointAzimuthal:function(){return Uo},geoTwoPointAzimuthalRaw:function(){return Yo},geoTwoPointAzimuthalUsa:function(){return al},geoTwoPointEquidistant:function(){return $s},geoTwoPointEquidistantRaw:function(){return yi},geoTwoPointEquidistantUsa:function(){return Zo},geoVanDerGrinten:function(){return Bl},geoVanDerGrinten2:function(){return ys},geoVanDerGrinten2Raw:function(){return tu},geoVanDerGrinten3:function(){return jl},geoVanDerGrinten3Raw:function(){return io},geoVanDerGrinten4:function(){return ei},geoVanDerGrinten4Raw:function(){return Zr},geoVanDerGrintenRaw:function(){return vs},geoWagner:function(){return Ks},geoWagner4:function(){return hc},geoWagner4Raw:function(){return Gi},geoWagner6:function(){return $i},geoWagner6Raw:function(){return os},geoWagner7:function(){return sl},geoWagnerRaw:function(){return is},geoWiechel:function(){return Ea},geoWiechelRaw:function(){return oo},geoWinkel3:function(){return qu},geoWinkel3Raw:function(){return El}});var S=e(87952),A=Math.abs,a=Math.atan,M=Math.atan2,_=Math.cos,d=Math.exp,s=Math.floor,t=Math.log,i=Math.max,n=Math.min,r=Math.pow,o=Math.round,u=Math.sign||function(rt){return rt>0?1:rt<0?-1:0},l=Math.sin,h=Math.tan,c=1e-6,b=1e-12,p=Math.PI,m=p/2,v=p/4,x=Math.SQRT1_2,y=P(2),w=P(p),f=2*p,C=180/p,T=p/180;function D(rt){return rt>1?m:rt<-1?-m:Math.asin(rt)}function R(rt){return rt>1?0:rt<-1?p:Math.acos(rt)}function P(rt){return rt>0?Math.sqrt(rt):0}function O(rt){return(d(rt)-d(-rt))/2}function B(rt){return(d(rt)+d(-rt))/2}function q(rt){var at=h(rt/2),gt=2*t(_(rt/2))/(at*at);function V(X,Z){var L=_(X),Y=_(Z),ne=l(Z),se=Y*L,pe=-((1-se?t((1+se)/2)/(1-se):-.5)+gt/(1+se));return[pe*Y*l(X),pe*ne]}return V.invert=function(X,Z){var L,Y=P(X*X+Z*Z),ne=-rt/2,se=50;if(!Y)return[0,0];do{var pe=ne/2,ke=_(pe),Re=l(pe),Be=Re/ke,Ze=-t(A(ke));ne-=L=(2/Be*Ze-gt*Be-Y)/(-Ze/(Re*Re)+1-gt/(2*ke*ke))*(ke<0?.7:1)}while(A(L)>c&&--se>0);var Ke=l(ne);return[M(X*Ke,Y*_(ne)),D(Z*Ke/Y)]},V}function N(){var rt=m,at=(0,S.U)(q),gt=at(rt);return gt.radius=function(V){return arguments.length?at(rt=V*T):rt*C},gt.scale(179.976).clipAngle(147)}function H(rt,at){var X,gt=_(at),V=(X=R(gt*_(rt/=2)))?X/Math.sin(X):1;return[2*gt*l(rt)*V,l(at)*V]}function $(){return(0,S.c)(H).scale(152.63)}function j(rt){var at=l(rt),gt=_(rt),V=rt>=0?1:-1,X=h(V*rt),Z=(1+at-gt)/2;function L(Y,ne){var se=_(ne),pe=_(Y/=2);return[(1+se)*l(Y),(V*ne>-M(pe,X)-.001?0:10*-V)+Z+l(ne)*gt-(1+se)*at*pe]}return L.invert=function(Y,ne){var se=0,pe=0,ke=50;do{var Re=_(se),Be=l(se),Ze=_(pe),Ke=l(pe),lt=1+Ze,vt=lt*Be-Y,bt=Z+Ke*gt-lt*at*Re-ne,St=lt*Re/2,Ft=-Be*Ke,It=at*lt*Be/2,Wt=gt*Ze+at*Re*Ke,zt=Ft*It-Wt*St,sn=(bt*Ft-vt*Wt)/zt/2,en=(vt*It-bt*St)/zt;A(en)>2&&(en/=2),se-=sn,pe-=en}while((A(sn)>c||A(en)>c)&&--ke>0);return V*pe>-M(_(se),X)-.001?[2*se,pe]:null},L}function W(){var rt=20*T,at=rt>=0?1:-1,gt=h(at*rt),V=(0,S.U)(j),X=V(rt),Z=X.stream;return X.parallel=function(L){return arguments.length?(gt=h((at=(rt=L*T)>=0?1:-1)*rt),V(rt)):rt*C},X.stream=function(L){var Y=X.rotate(),ne=Z(L),se=(X.rotate([0,0]),Z(L)),pe=X.precision();return X.rotate(Y),ne.sphere=function(){se.polygonStart(),se.lineStart();for(var ke=-180*at;at*ke<180;ke+=90*at)se.point(ke,90*at);if(rt)for(;at*(ke-=3*at*pe)>=-180;)se.point(ke,at*-M(_(ke*T/2),gt)*C);se.lineEnd(),se.polygonEnd()},ne},X.scale(218.695).center([0,28.0974])}function G(rt,at){var gt=h(at/2),V=P(1-gt*gt),X=1+V*_(rt/=2),Z=l(rt)*V/X,L=gt/X,Y=Z*Z,ne=L*L;return[1.3333333333333333*Z*(3+Y-3*ne),1.3333333333333333*L*(3+3*Y-ne)]}function ae(){return(0,S.c)(G).scale(66.1603)}H.invert=function(rt,at){if(!(rt*rt+4*at*at>p*p+c)){var gt=rt,V=at,X=25;do{var Z,L=l(gt),Y=l(gt/2),ne=_(gt/2),se=l(V),pe=_(V),ke=l(2*V),Re=se*se,Be=pe*pe,Ze=Y*Y,Ke=1-Be*ne*ne,lt=Ke?R(pe*ne)*P(Z=1/Ke):Z=0,vt=2*lt*pe*Y-rt,bt=lt*se-at,St=Z*(Be*Ze+lt*pe*ne*Re),Ft=Z*(.5*L*ke-2*lt*se*Y),It=.25*Z*(ke*Y-lt*se*Be*L),Wt=Z*(Re*ne+lt*Ze*pe),zt=Ft*It-Wt*St;if(!zt)break;var sn=(bt*Ft-vt*Wt)/zt,en=(vt*It-bt*St)/zt;gt-=sn,V-=en}while((A(sn)>c||A(en)>c)&&--X>0);return[gt,V]}},G.invert=function(rt,at){if(at*=.375,!(rt*=.375)&&A(at)>1)return null;var se,gt=1+rt*rt+at*at,V=P((gt-P(gt*gt-4*at*at))/2),X=D(V)/3,Z=V?(se=A(at/V),t(se+P(se*se-1))/3):function(se){return t(se+P(se*se+1))}(A(rt))/3,L=_(X),Y=B(Z),ne=Y*Y-L*L;return[2*u(rt)*M(O(Z)*L,.25-ne),2*u(at)*M(Y*l(X),.25+ne)]};var te=P(8),Q=t(1+y);function ee(rt,at){var gt=A(at);return gt<v?[rt,t(h(v+at/2))]:[rt*_(gt)*(2*y-1/l(gt)),u(at)*(2*y*(gt-v)-t(h(gt/2)))]}function re(){return(0,S.c)(ee).scale(112.314)}ee.invert=function(rt,at){if((V=A(at))<Q)return[rt,2*a(d(at))-m];var gt,V,X=v,Z=25;do{var L=_(X/2),Y=h(X/2);X-=gt=(te*(X-v)-t(Y)-V)/(te-L*L/(2*Y))}while(A(gt)>b&&--Z>0);return[rt/(_(X)*(te-1/l(X))),u(at)*X]};var J=e(69020);function le(rt){var at=2*p/rt;function gt(V,X){var Z=(0,J.O)(V,X);if(A(V)>m){var L=M(Z[1],Z[0]),Y=P(Z[0]*Z[0]+Z[1]*Z[1]),ne=at*o((L-m)/at)+m,se=M(l(L-=ne),2-_(L));L=ne+D(p/Y*l(se))-se,Z[0]=Y*_(L),Z[1]=Y*l(L)}return Z}return gt.invert=function(V,X){var Z=P(V*V+X*X);if(Z>m){var L=M(X,V),Y=at*o((L-m)/at)+m,ne=L>Y?-1:1,se=Z*_(Y-L),pe=1/h(ne*R((se-p)/P(p*(p-2*se)+Z*Z)));L=Y+2*a((pe+ne*P(pe*pe-3))/3),V=Z*_(L),X=Z*l(L)}return J.O.invert(V,X)},gt}function fe(){var rt=5,at=(0,S.U)(le),gt=at(rt),V=gt.stream,X=.01,Z=-_(X*T),L=l(X*T);return gt.lobes=function(Y){return arguments.length?at(rt=+Y):rt},gt.stream=function(Y){var ne=gt.rotate(),se=V(Y),pe=(gt.rotate([0,0]),V(Y));return gt.rotate(ne),se.sphere=function(){pe.polygonStart(),pe.lineStart();for(var ke=0,Re=360/rt,Be=2*p/rt,Ze=90-180/rt,Ke=m;ke<rt;++ke,Ze-=Re,Ke-=Be)pe.point(M(L*_(Ke),Z)*C,D(L*l(Ke))*C),Ze<-90?(pe.point(-90,-180-Ze-X),pe.point(-90,-180-Ze+X)):(pe.point(90,Ze+X),pe.point(90,Ze-X));pe.lineEnd(),pe.polygonEnd()},se},gt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ce=e(54724);function ge(rt,at){if(arguments.length<2&&(at=rt),1===at)return ce.y;if(at===1/0)return Te;function gt(V,X){var Z=(0,ce.y)(V/at,X);return Z[0]*=rt,Z}return gt.invert=function(V,X){var Z=ce.y.invert(V/rt,X);return Z[0]*=at,Z},gt}function Te(rt,at){return[rt*_(at)/_(at/=2),2*l(at)]}function Me(){var rt=2,at=(0,S.U)(ge),gt=at(rt);return gt.coefficient=function(V){return arguments.length?at(rt=+V):rt},gt.scale(169.529)}function we(rt,at,gt){var V,X,Z,L=100;gt=void 0===gt?0:+gt,at=+at;do{(X=rt(gt))===(Z=rt(gt+c))&&(Z=X+c),gt-=V=-1*c*(X-at)/(X-Z)}while(L-- >0&&A(V)>c);return L<0?NaN:gt}function xe(rt,at,gt){return void 0===at&&(at=40),void 0===gt&&(gt=b),function(V,X,Z,L){var Y,ne,se;Z=void 0===Z?0:+Z,L=void 0===L?0:+L;for(var pe=0;pe<at;pe++){var ke=rt(Z,L),Re=ke[0]-V,Be=ke[1]-X;if(A(Re)<gt&&A(Be)<gt)break;var Ze=Re*Re+Be*Be;if(Ze>Y)Z-=ne/=2,L-=se/=2;else{Y=Ze;var Ke=(Z>0?-1:1)*gt,lt=(L>0?-1:1)*gt,vt=rt(Z+Ke,L),bt=rt(Z,L+lt),St=(vt[0]-ke[0])/Ke,Ft=(vt[1]-ke[1])/Ke,It=(bt[0]-ke[0])/lt,Wt=(bt[1]-ke[1])/lt,zt=Wt*St-Ft*It,sn=(A(zt)<.5?.5:1)/zt;if(Z+=ne=(Be*It-Re*Wt)*sn,L+=se=(Re*Ft-Be*St)*sn,A(ne)<gt&&A(se)<gt)break}}return[Z,L]}}function be(){var rt=ge(1.68,2);function at(gt,V){if(gt+V<-1.4){var X=(gt-V+1.6)*(gt+V+1.4)/8;gt+=X,V-=.8*X*l(V+p/2)}var Z=rt(gt,V),L=(1-_(gt*V))/12;return Z[1]<0&&(Z[0]*=1+L),Z[1]>0&&(Z[1]*=1+L/1.5*Z[0]*Z[0]),Z}return at.invert=xe(at),at}function ye(){return(0,S.c)(be()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Se(rt,at){var gt,V=rt*l(at),X=30;do{at-=gt=(at+l(at)-V)/(1+_(at))}while(A(gt)>c&&--X>0);return at/2}function Ee(rt,at,gt){function V(X,Z){return[rt*X*_(Z=Se(gt,Z)),at*l(Z)]}return V.invert=function(X,Z){return Z=D(Z/at),[X/(rt*_(Z)),D((2*Z+l(2*Z))/gt)]},V}Te.invert=function(rt,at){var gt=2*D(at/2);return[rt*_(gt/2)/_(gt),gt]};var he=Ee(y/m,y,p);function ue(){return(0,S.c)(he).scale(169.529)}var me=2.00276,Pe=1.11072;function Ce(rt,at){var gt=Se(p,at);return[me*rt/(1/_(at)+Pe/_(gt)),(at+y*l(gt))/me]}function Ie(){return(0,S.c)(Ce).scale(160.857)}function Oe(rt){var at=0,gt=(0,S.U)(rt),V=gt(at);return V.parallel=function(X){return arguments.length?gt(at=X*T):at*C},V}function ze(rt,at){return[rt*_(at),at]}function je(){return(0,S.c)(ze).scale(152.63)}function ve(rt){if(!rt)return ze;var at=1/h(rt);function gt(V,X){var Z=at+rt-X,L=Z&&V*_(X)/Z;return[Z*l(L),at-Z*_(L)]}return gt.invert=function(V,X){var Z=P(V*V+(X=at-X)*X),L=at+rt-Z;return[Z/_(L)*M(V,X),L]},gt}function Ae(){return Oe(ve).scale(123.082).center([0,26.1441]).parallel(45)}function Le(rt){function at(gt,V){var X=m-V,Z=X&&gt*rt*l(X)/X;return[X*l(Z)/rt,m-X*_(Z)]}return at.invert=function(gt,V){var X=gt*rt,Z=m-V,L=P(X*X+Z*Z),Y=M(X,Z);return[(L?L/l(L):1)*Y/rt,m-L]},at}function Ve(){var rt=.5,at=(0,S.U)(Le),gt=at(rt);return gt.fraction=function(V){return arguments.length?at(rt=+V):rt},gt.scale(158.837)}Ce.invert=function(rt,at){var gt,V,X=me*at,Z=at<0?-v:v,L=25;do{V=X-y*l(Z),Z-=gt=(l(2*Z)+2*Z-p*l(V))/(2*_(2*Z)+2+p*_(V)*y*_(Z))}while(A(gt)>c&&--L>0);return V=X-y*l(Z),[rt*(1/_(V)+Pe/_(Z))/me,V]},ze.invert=function(rt,at){return[rt/_(at),at]};var Ne=Ee(1,4/p,p);function We(){return(0,S.c)(Ne).scale(152.63)}var Xe=e(24052),nt=e(92992);function dt(rt,at,gt,V,X,Z){var L,Y=_(Z);if(A(rt)>1||A(Z)>1)L=R(gt*X+at*V*Y);else{var ne=l(rt/2),se=l(Z/2);L=2*D(P(ne*ne+at*V*se*se))}return A(L)>c?[L,M(V*l(Z),at*X-gt*V*Y)]:[0,0]}function ht(rt,at,gt){return R((rt*rt+at*at-gt*gt)/(2*rt*at))}function Mt(rt){return rt-2*p*s((rt+p)/(2*p))}function kt(rt,at,gt){for(var V,X=[[rt[0],rt[1],l(rt[1]),_(rt[1])],[at[0],at[1],l(at[1]),_(at[1])],[gt[0],gt[1],l(gt[1]),_(gt[1])]],Z=X[2],L=0;L<3;++L,Z=V)Z.v=dt((V=X[L])[1]-Z[1],Z[3],Z[2],V[3],V[2],V[0]-Z[0]),Z.point=[0,0];var Y=ht(X[0].v[0],X[2].v[0],X[1].v[0]),ne=ht(X[0].v[0],X[1].v[0],X[2].v[0]),se=p-Y;X[2].point[1]=0,X[0].point[0]=-(X[1].point[0]=X[0].v[0]/2);var pe=[X[2].point[0]=X[0].point[0]+X[2].v[0]*_(Y),2*(X[0].point[1]=X[1].point[1]=X[2].v[0]*l(Y))];return function(ke,Re){var Be,Ze=l(Re),Ke=_(Re),lt=new Array(3);for(Be=0;Be<3;++Be){var vt=X[Be];if(lt[Be]=dt(Re-vt[1],vt[3],vt[2],Ke,Ze,ke-vt[0]),!lt[Be][0])return vt.point;lt[Be][1]=Mt(lt[Be][1]-vt.v[1])}var bt=pe.slice();for(Be=0;Be<3;++Be){var Ft=ht(X[Be].v[0],lt[Be][0],lt[2==Be?0:Be+1][0]);lt[Be][1]<0&&(Ft=-Ft),Be?1==Be?(bt[0]-=lt[Be][0]*_(Ft=ne-Ft),bt[1]-=lt[Be][0]*l(Ft)):(bt[0]+=lt[Be][0]*_(Ft=se-Ft),bt[1]+=lt[Be][0]*l(Ft)):(bt[0]+=lt[Be][0]*_(Ft),bt[1]-=lt[Be][0]*l(Ft))}return bt[0]/=3,bt[1]/=3,bt}}function _t(rt){return rt[0]*=T,rt[1]*=T,rt}function ut(){return st([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function st(rt,at,gt){var V=(0,Xe.c)({type:"MultiPoint",coordinates:[rt,at,gt]}),X=[-V[0],-V[1]],Z=(0,nt.c)(X),L=kt(_t(Z(rt)),_t(Z(at)),_t(Z(gt)));L.invert=xe(L);var Y=(0,S.c)(L).rotate(X),ne=Y.center;return delete Y.rotate,Y.center=function(se){return arguments.length?ne(Z(se)):Z.invert(ne())},Y.clipAngle(90)}function Lt(rt,at){var gt=P(1-l(at));return[2/w*rt*gt,w*(1-gt)]}function Ut(){return(0,S.c)(Lt).scale(95.6464).center([0,30])}function Ht(rt){var at=h(rt);function gt(V,X){return[V,(V?V/l(V):1)*(l(X)*_(V)-at*_(X))]}return gt.invert=at?function(V,X){V&&(X*=l(V)/V);var Z=_(V);return[V,2*M(P(Z*Z+at*at-X*X)-Z,at-X)]}:function(V,X){return[V,D(V?X*h(V)/V:X)]},gt}function Pt(){return Oe(Ht).scale(249.828).clipAngle(90)}Lt.invert=function(rt,at){var gt=(gt=at/w-1)*gt;return[gt>0?rt*P(p/gt)/2:0,D(1-gt)]};var Je=P(3);function tt(rt,at){return[Je*rt*(2*_(2*at/3)-1)/w,Je*w*l(at/3)]}function Ge(){return(0,S.c)(tt).scale(156.19)}function Qe(rt){var at=_(rt);function gt(V,X){return[V*at,l(X)/at]}return gt.invert=function(V,X){return[V/at,D(X*at)]},gt}function pt(){return Oe(Qe).parallel(38.58).scale(195.044)}function ct(rt){var at=_(rt);function gt(V,X){return[V*at,(1+at)*h(X/2)]}return gt.invert=function(V,X){return[V/at,2*a(X/(1+at))]},gt}function He(){return Oe(ct).scale(124.75)}function qe(rt,at){var gt=P(8/(3*p));return[gt*rt*(1-A(at)/p),gt*at]}function ft(){return(0,S.c)(qe).scale(165.664)}function et(rt,at){var gt=P(4-3*l(A(at)));return[2/P(6*p)*rt*gt,u(at)*P(2*p/3)*(2-gt)]}function xt(){return(0,S.c)(et).scale(165.664)}function wt(rt,at){var gt=P(p*(4+p));return[2/gt*rt*(1+P(1-4*at*at/(p*p))),4/gt*at]}function At(){return(0,S.c)(wt).scale(180.739)}function yt(rt,at){var gt=(2+m)*l(at);at/=2;for(var V=0,X=1/0;V<10&&A(X)>c;V++){var Z=_(at);at-=X=(at+l(at)*(Z+2)-gt)/(2*Z*(1+Z))}return[2/P(p*(4+p))*rt*(1+_(at)),2*P(p/(4+p))*l(at)]}function Ot(){return(0,S.c)(yt).scale(180.739)}function Ct(rt,at){return[rt*(1+_(at))/P(2+p),2*at/P(2+p)]}function Rt(){return(0,S.c)(Ct).scale(173.044)}function Bt(rt,at){for(var gt=(1+m)*l(at),V=0,X=1/0;V<10&&A(X)>c;V++)at-=X=(at+l(at)-gt)/(1+_(at));return gt=P(2+p),[rt*(1+_(at))/gt,2*at/gt]}function jt(){return(0,S.c)(Bt).scale(173.044)}tt.invert=function(rt,at){var gt=3*D(at/(Je*w));return[w*rt/(Je*(2*_(2*gt/3)-1)),gt]},qe.invert=function(rt,at){var gt=P(8/(3*p)),V=at/gt;return[rt/(gt*(1-A(V)/p)),V]},et.invert=function(rt,at){var gt=2-A(at)/P(2*p/3);return[rt*P(6*p)/(2*gt),u(at)*D((4-gt*gt)/3)]},wt.invert=function(rt,at){var gt=P(p*(4+p))/2;return[rt*gt/(1+P(1-at*at*(4+p)/(4*p))),at*gt/2]},yt.invert=function(rt,at){var gt=at*P((4+p)/p)/2,V=D(gt),X=_(V);return[rt/(2/P(p*(4+p))*(1+X)),D((V+gt*(X+2))/(2+m))]},Ct.invert=function(rt,at){var gt=P(2+p),V=at*gt/2;return[gt*rt/(1+_(V)),V]},Bt.invert=function(rt,at){var gt=1+m,V=P(gt/2);return[2*rt*V/(1+_(at*=V)),D((at+l(at))/gt)]};var Gt=3+2*y;function on(rt,at){var gt=l(rt/=2),V=_(rt),X=P(_(at)),Z=_(at/=2),L=l(at)/(Z+y*V*X),Y=P(2/(1+L*L)),ne=P((y*Z+(V+gt)*X)/(y*Z+(V-gt)*X));return[Gt*(Y*(ne-1/ne)-2*t(ne)),Gt*(Y*L*(ne+1/ne)-2*a(L))]}function Jt(){return(0,S.c)(on).scale(62.5271)}on.invert=function(rt,at){if(!(gt=G.invert(rt/1.2,1.065*at)))return null;var gt,V=gt[0],X=gt[1],Z=20;rt/=Gt,at/=Gt;do{var L=V/2,Y=X/2,ne=l(L),se=_(L),pe=l(Y),ke=_(Y),Re=_(X),Be=P(Re),Ze=pe/(ke+y*se*Be),Ke=Ze*Ze,lt=P(2/(1+Ke)),vt=(y*ke+(se+ne)*Be)/(y*ke+(se-ne)*Be),bt=P(vt),St=bt-1/bt,Ft=bt+1/bt,It=lt*St-2*t(bt)-rt,Wt=lt*Ze*Ft-2*a(Ze)-at,zt=pe&&x*Be*ne*Ke/pe,sn=(y*se*ke+Be)/(2*(ke+y*se*Be)*(ke+y*se*Be)*Be),en=-.5*Ze*lt*lt*lt,Xt=en*zt,Tn=en*sn,kn=(kn=2*ke+y*Be*(se-ne))*kn*bt,Bn=(y*se*ke*Be+Re)/kn,Hn=-y*ne*pe/(Be*kn),tr=St*Xt-2*Bn/bt+lt*(Bn+Bn/vt),gr=St*Tn-2*Hn/bt+lt*(Hn+Hn/vt),Er=Ze*Ft*Xt-2*zt/(1+Ke)+lt*Ft*zt+lt*Ze*(Bn-Bn/vt),sr=Ze*Ft*Tn-2*sn/(1+Ke)+lt*Ft*sn+lt*Ze*(Hn-Hn/vt),wr=gr*Er-sr*tr;if(!wr)break;var zr=(Wt*gr-It*sr)/wr,Gr=(It*Er-Wt*tr)/wr;V-=zr,X=i(-m,n(m,X-Gr))}while((A(zr)>c||A(Gr)>c)&&--Z>0);return A(A(X)-m)<c?[0,X]:Z&&[V,X]};var $t=_(35*T);function tn(rt,at){var gt=h(at/2);return[rt*$t*P(1-gt*gt),(1+$t)*gt]}function dn(){return(0,S.c)(tn).scale(137.152)}function Gn(rt,at){var gt=at/2,V=_(gt);return[2*rt/w*_(at)*V*V,w*h(gt)]}function zn(){return(0,S.c)(Gn).scale(135.264)}function Mn(rt){var at=1-rt,gt=X(p,0)[0]-X(-p,0)[0],V=P(2*(X(0,m)[1]-X(0,-m)[1])/gt);function X(Y,ne){var se=_(ne),pe=l(ne);return[se/(at+rt*se)*Y,at*ne+rt*pe]}function Z(Y,ne){var se=X(Y,ne);return[se[0]*V,se[1]/V]}function L(Y){return Z(0,Y)[1]}return Z.invert=function(Y,ne){var se=we(L,ne);return[Y/V*(rt+at/_(se)),se]},Z}function ln(){var rt=.5,at=(0,S.U)(Mn),gt=at(rt);return gt.alpha=function(V){return arguments.length?at(rt=+V):rt},gt.scale(168.725)}tn.invert=function(rt,at){var gt=at/(1+$t);return[rt&&rt/($t*P(1-gt*gt)),2*a(gt)]},Gn.invert=function(rt,at){var gt=a(at/w),V=_(gt),X=2*gt;return[rt*w/2/(_(X)*V*V),X]};var vn=e(4888),hn=e(69604);function _n(rt){return[rt[0]/2,D(h(rt[1]/2*T))*C]}function Dn(rt){return[2*rt[0],2*a(l(rt[1]*T))*C]}function Pn(rt){null==rt&&(rt=vn.c);var at=rt(),gt=(0,hn.c)().scale(C).precision(0).clipAngle(null).translate([0,0]);function V(Z){return at(_n(Z))}function X(Z){V[Z]=function(){return arguments.length?(at[Z].apply(at,arguments),V):at[Z]()}}return at.invert&&(V.invert=function(Z){return Dn(at.invert(Z))}),V.stream=function(Z){var L=at.stream(Z),Y=gt.stream({point:function(ne,se){L.point(ne/2,D(h(-se/2*T))*C)},lineStart:function(){L.lineStart()},lineEnd:function(){L.lineEnd()},polygonStart:function(){L.polygonStart()},polygonEnd:function(){L.polygonEnd()}});return Y.sphere=L.sphere,Y},V.rotate=function(Z){return arguments.length?(gt.rotate(Z),V):gt.rotate()},V.center=function(Z){return arguments.length?(at.center(_n(Z)),V):Dn(at.center())},X("angle"),X("clipAngle"),X("clipExtent"),X("fitExtent"),X("fitHeight"),X("fitSize"),X("fitWidth"),X("scale"),X("translate"),X("precision"),V.scale(249.5)}function Yn(rt,at){var gt=2*p/at,V=rt*rt;function X(Z,L){var Y=(0,J.O)(Z,L),ne=Y[0],se=Y[1],pe=ne*ne+se*se;if(pe>V){var ke=P(pe),Re=M(se,ne),Be=gt*o(Re/gt),Ze=Re-Be,Ke=rt*_(Ze),lt=(rt*l(Ze)-Ze*l(Ke))/(m-Ke),vt=jn(Ze,lt),bt=(p-rt)/Fn(vt,Ke,p);ne=ke;var St,Ft=50;do{ne-=St=(rt+Fn(vt,Ke,ne)*bt-ke)/(vt(ne)*bt)}while(A(St)>c&&--Ft>0);se=Ze*l(ne),ne<m&&(se-=lt*(ne-m));var It=l(Be),Wt=_(Be);Y[0]=ne*Wt-se*It,Y[1]=ne*It+se*Wt}return Y}return X.invert=function(Z,L){var Y=Z*Z+L*L;if(Y>V){var ne=P(Y),se=M(L,Z),pe=gt*o(se/gt),ke=se-pe;Z=ne*_(ke),L=ne*l(ke);for(var Re=Z-m,Be=l(Z),Ze=L/Be,Ke=Z<m?1/0:0,lt=10;;){var vt=rt*l(Ze),bt=rt*_(Ze),St=l(bt),Ft=m-bt,It=(vt-Ze*St)/Ft,Wt=jn(Ze,It);if(A(Ke)<b||! --lt)break;Ze-=Ke=(Ze*Be-It*Re-L)/(Be-2*Re*(Ft*(bt+Ze*vt*_(bt)-St)-vt*(vt-Ze*St))/(Ft*Ft))}Z=(ne=rt+Fn(Wt,bt,Z)*(p-rt)/Fn(Wt,bt,p))*_(se=pe+Ze),L=ne*l(se)}return J.O.invert(Z,L)},X}function jn(rt,at){return function(gt){var V=rt*_(gt);return gt<m&&(V-=at),P(1+V*V)}}function Fn(rt,at,gt){for(var V=(gt-at)/50,X=rt(at)+rt(gt),Z=1,L=at;Z<50;++Z)X+=2*rt(L+=V);return.5*X*V}function Jn(){var rt=6,at=30*T,gt=_(at),V=l(at),X=(0,S.U)(Yn),Z=X(at,rt),L=Z.stream,Y=-_(.01*T),ne=l(.01*T);return Z.radius=function(se){return arguments.length?(gt=_(at=se*T),V=l(at),X(at,rt)):at*C},Z.lobes=function(se){return arguments.length?X(at,rt=+se):rt},Z.stream=function(se){var pe=Z.rotate(),ke=L(se),Re=(Z.rotate([0,0]),L(se));return Z.rotate(pe),ke.sphere=function(){Re.polygonStart(),Re.lineStart();for(var Be=0,Ze=2*p/rt,Ke=0;Be<rt;++Be,Ke-=Ze)Re.point(M(ne*_(Ke),Y)*C,D(ne*l(Ke))*C),Re.point(M(V*_(Ke-Ze/2),gt)*C,D(V*l(Ke-Ze/2))*C);Re.lineEnd(),Re.polygonEnd()},ke},Z.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function $n(rt,at,gt,V,X,Z,L,Y){function ne(se,pe){if(!pe)return[rt*se/p,0];var ke=pe*pe,Re=rt+ke*(at+ke*(gt+ke*V)),Be=pe*(X-1+ke*(Z-Y+ke*L)),Ze=(Re*Re+Be*Be)/(2*Be),Ke=se*D(Re/Ze)/p;return[Ze*l(Ke),pe*(1+ke*Y)+Ze*(1-_(Ke))]}return arguments.length<8&&(Y=0),ne.invert=function(se,pe){var ke,Re,Be=p*se/rt,Ze=pe,Ke=50;do{var lt=Ze*Ze,vt=rt+lt*(at+lt*(gt+lt*V)),bt=Ze*(X-1+lt*(Z-Y+lt*L)),St=vt*vt+bt*bt,Ft=2*bt,It=St/Ft,Wt=It*It,zt=D(vt/It)/p,sn=Be*zt,en=vt*vt,Xt=(2*at+lt*(4*gt+6*lt*V))*Ze,Tn=X+lt*(3*Z+5*lt*L),kn=(2*(vt*Xt+bt*(Tn-1))*Ft-St*(2*(Tn-1)))/(Ft*Ft),Bn=_(sn),Hn=l(sn),tr=It*Bn,gr=It*Hn,Er=Be/p*(1/P(1-en/Wt))*(Xt*It-vt*kn)/Wt,sr=gr-se,wr=Ze*(1+lt*Y)+It-tr-pe,zr=kn*Hn+tr*Er,Gr=tr*zt,mr=1+kn-(kn*Bn-gr*Er),br=gr*zt,Ur=zr*br-mr*Gr;if(!Ur)break;Be-=ke=(wr*zr-sr*mr)/Ur,Ze-=Re=(sr*br-wr*Gr)/Ur}while((A(ke)>c||A(Re)>c)&&--Ke>0);return[Be,Ze]},ne}var nr=$n(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function or(){return(0,S.c)(nr).scale(149.995)}var lr=$n(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function cr(){return(0,S.c)(lr).scale(153.93)}var Ar=$n(5/6*p,-.62636,-.0344,0,1.3493,-.05524,0,.045);function fn(){return(0,S.c)(Ar).scale(130.945)}function an(rt,at){var gt=rt*rt,V=at*at;return[rt*(1-.162388*V)*(.87-952426e-9*gt*gt),at*(1+V/12)]}function Vn(){return(0,S.c)(an).scale(131.747)}an.invert=function(rt,at){var gt,V=rt,X=at,Z=50;do{var L=X*X;X-=gt=(X*(1+L/12)-at)/(1+L/4)}while(A(gt)>c&&--Z>0);Z=50,rt/=1-.162388*L;do{var Y=(Y=V*V)*Y;V-=gt=(V*(.87-952426e-9*Y)-rt)/(.87-.00476213*Y)}while(A(gt)>c&&--Z>0);return[V,X]};var En=$n(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Wn(){return(0,S.c)(En).scale(131.087)}function ar(rt){var at=rt(m,0)[0]-rt(-m,0)[0];function gt(V,X){var Z=V>0?-.5:.5,L=rt(V+Z*p,X);return L[0]-=Z*at,L}return rt.invert&&(gt.invert=function(V,X){var Z=V>0?-.5:.5,L=rt.invert(V+Z*at,X),Y=L[0]-Z*p;return Y<-p?Y+=2*p:Y>p&&(Y-=2*p),L[0]=Y,L}),gt}function In(rt,at){var gt=u(rt),V=u(at),X=_(at),Z=_(rt)*X,L=l(rt)*X,Y=l(V*at);rt=A(M(L,Y)),at=D(Z),A(rt-m)>c&&(rt%=m);var ne=function(se,pe){if(pe===m)return[0,0];var ke,Re,Be=l(pe),Ze=Be*Be,Ke=Ze*Ze,lt=1+Ke,vt=1+3*Ke,bt=1-Ke,St=D(1/P(lt)),Ft=bt+Ze*lt*St,It=(1-Be)/Ft,Wt=P(It),zt=It*lt,sn=P(zt),en=Wt*bt;if(0===se)return[0,-(en+Ze*sn)];var Xt,Tn=_(pe),kn=1/Tn,Bn=2*Be*Tn,Hn=(-Ft*Tn-(-3*Ze+St*vt)*Bn*(1-Be))/(Ft*Ft),tr=-kn*Bn,gr=-kn*(Ze*lt*Hn+It*vt*Bn),Er=-2*kn*(bt*(.5*Hn/Wt)-2*Ze*Wt*Bn),sr=4*se/p;if(se>.222*p||pe<p/4&&se>.175*p){if(ke=(en+Ze*P(zt*(1+Ke)-en*en))/(1+Ke),se>p/4)return[ke,ke];var wr=ke,zr=.5*ke;ke=.5*(zr+wr),Re=50;do{var Gr=ke*(Er+tr*P(zt-ke*ke))+gr*D(ke/sn)-sr;if(!Gr)break;Gr<0?zr=ke:wr=ke,ke=.5*(zr+wr)}while(A(wr-zr)>c&&--Re>0)}else{ke=c,Re=25;do{var mr=ke*ke,br=P(zt-mr),Ur=Er+tr*br,Sr=ke*Ur+gr*D(ke/sn)-sr;ke-=Xt=br?Sr/(Ur+(gr-tr*mr)/br):0}while(A(Xt)>c&&--Re>0)}return[ke,-en-Ze*P(zt-ke*ke)]}(rt>p/4?m-rt:rt,at);return rt>p/4&&(Y=ne[0],ne[0]=-ne[1],ne[1]=-Y),ne[0]*=gt,ne[1]*=-V,ne}function fr(){return(0,S.c)(ar(In)).scale(239.75)}function ur(rt,at){var gt,V,X,Z,L,Y;if(at<c)return[(Z=l(rt))-(gt=at*(rt-Z*(V=_(rt)))/4)*V,V+gt*Z,1-at*Z*Z/2,rt-gt];if(at>=1-c)return gt=(1-at)/4,X=1/(V=B(rt)),[(Z=((Y=d(2*(Y=rt)))-1)/(Y+1))+gt*((L=V*O(rt))-rt)/(V*V),X-gt*Z*X*(L-rt),X+gt*Z*X*(L+rt),2*a(d(rt))-m+gt*(L-rt)/V];var ne=[1,0,0,0,0,0,0,0,0],se=[P(at),0,0,0,0,0,0,0,0],pe=0;for(V=P(1-at),L=1;A(se[pe]/ne[pe])>c&&pe<8;)gt=ne[pe++],se[pe]=(gt-V)/2,ne[pe]=(gt+V)/2,V=P(gt*V),L*=2;X=L*ne[pe]*rt;do{X=(D(Z=se[pe]*l(V=X)/ne[pe])+X)/2}while(--pe);return[l(X),Z=_(X),Z/_(X-V),X]}function Kt(rt,at){if(!at)return rt;if(1===at)return t(h(rt/2+v));for(var gt=1,V=P(1-at),X=P(at),Z=0;A(X)>c;Z++){if(rt%p){var L=a(V*h(rt)/gt);L<0&&(L+=p),rt+=L+~~(rt/p)*p}else rt+=rt;X=(gt+V)/2,V=P(gt*V),X=((gt=X)-V)/2}return rt/(r(2,Z)*gt)}function An(rt,at){var se,pe,ke,Re,Be,gt=(y-1)/(y+1),V=P(1-gt*gt),X=Kt(m,V*V),Z=t(h(p/4+A(at)/2)),L=d(-1*Z)/P(gt),Y=(se=L*_(-1*rt),Re=(pe=L*l(-1*rt))+1,[.5*((se>=0?m:-m)-M(Be=1-(ke=se*se)-pe*pe,2*se)),-.25*t(Be*Be+4*ke)+.5*t(Re*Re+ke)]),ne=function(se,pe,ke){var Re=A(se),Be=O(A(pe));if(Re){var Ze=1/l(Re),Ke=1/(h(Re)*h(Re)),lt=-(Ke+ke*(Be*Be*Ze*Ze)-1+ke),vt=(-lt+P(lt*lt-(ke-1)*Ke*4))/2;return[Kt(a(1/P(vt)),ke)*u(se),Kt(a(P((vt/Ke-1)/ke)),1-ke)*u(pe)]}return[0,Kt(a(Be),1-ke)*u(pe)]}(Y[0],Y[1],V*V);return[-ne[1],(at>=0?1:-1)*(.5*X-ne[0])]}function Nt(){return(0,S.c)(ar(An)).scale(151.496)}In.invert=function(rt,at){A(rt)>1&&(rt=2*u(rt)-rt),A(at)>1&&(at=2*u(at)-at);var gt=u(rt),V=u(at),X=-gt*rt,Z=-V*at,L=Z/X<1,Y=function(ke,Re){for(var Be=0,Ze=1,Ke=.5,lt=50;;){var vt=Ke*Ke,bt=P(Ke),St=D(1/P(1+vt)),Ft=1-vt+Ke*(1+vt)*St,It=(1-bt)/Ft,Wt=P(It),zt=It*(1+vt),sn=Wt*(1-vt),en=P(zt-ke*ke),Xt=Re+sn+Ke*en;if(A(Ze-Be)<b||0==--lt||0===Xt)break;Xt>0?Be=Ke:Ze=Ke,Ke=.5*(Be+Ze)}if(!lt)return null;var Tn=D(bt),kn=_(Tn),Bn=1/kn,Hn=2*bt*kn,tr=(-Ft*kn-(-3*Ke+St*(1+3*vt))*Hn*(1-bt))/(Ft*Ft);return[p/4*(ke*(-2*Bn*(.5*tr/Wt*(1-vt)-2*Ke*Wt*Hn)+-Bn*Hn*en)+-Bn*(Ke*(1+vt)*tr+It*(1+3*vt)*Hn)*D(ke/P(zt))),Tn]}(L?Z:X,L?X:Z),ne=Y[0],se=Y[1],pe=_(se);return L&&(ne=-m-ne),[gt*(M(l(ne)*pe,-l(se))+p),V*D(_(ne)*pe)]},An.invert=function(rt,at){var gt,V,X,Z,L,Y,Re,Be,Ze,ne=(y-1)/(y+1),se=P(1-ne*ne),pe=(V=-rt,X=se*se,(gt=.5*Kt(m,se*se)-at)?(Z=ur(gt,X),V?(Y=(L=ur(V,1-X))[1]*L[1]+X*Z[0]*Z[0]*L[0]*L[0],[[Z[0]*L[2]/Y,Z[1]*Z[2]*L[0]*L[1]/Y],[Z[1]*L[1]/Y,-Z[0]*Z[2]*L[0]*L[2]/Y],[Z[2]*L[1]*L[2]/Y,-X*Z[0]*Z[1]*L[0]/Y]]):[[Z[0],0],[Z[1],0],[Z[2],0]]):[[0,(L=ur(V,1-X))[0]/L[1]],[1/L[1],0],[L[2]/L[1],0]]),ke=[((Re=pe[0])[0]*(Be=pe[1])[0]+Re[1]*Be[1])/(Ze=Be[0]*Be[0]+Be[1]*Be[1]),(Re[1]*Be[0]-Re[0]*Be[1])/Ze];return[M(ke[1],ke[0])/-1,2*a(d(-.5*t(ne*ke[0]*ke[0]+ne*ke[1]*ke[1])))-m]};var Yt=e(61780);function cn(rt){var at=l(rt),gt=_(rt),V=xn(rt);function X(Z,L){var Y=V(Z,L);Z=Y[0];var ne=l(L=Y[1]),se=_(L),pe=_(Z),ke=R(at*ne+gt*se*pe),Re=l(ke),Be=A(Re)>c?ke/Re:1;return[Be*gt*l(Z),(A(Z)>m?Be:-Be)*(at*se-gt*ne*pe)]}return V.invert=xn(-rt),X.invert=function(Z,L){var Y=P(Z*Z+L*L),ne=-l(Y),se=_(Y),pe=Y*se,ke=-L*ne,Re=Y*at,Be=P(pe*pe+ke*ke-Re*Re),Ze=M(pe*Re+ke*Be,ke*Re-pe*Be),Ke=(Y>m?-1:1)*M(Z*ne,Y*_(Ze)*se+L*l(Ze)*ne);return V.invert(Ke,Ze)},X}function xn(rt){var at=l(rt),gt=_(rt);return function(V,X){var Z=_(X),L=_(V)*Z,Y=l(V)*Z,ne=l(X);return[M(Y,L*gt-ne*at),D(ne*gt+L*at)]}}function wn(){var rt=0,at=(0,S.U)(cn),gt=at(rt),V=gt.rotate,X=gt.stream,Z=(0,Yt.c)();return gt.parallel=function(L){if(!arguments.length)return rt*C;var Y=gt.rotate();return at(rt=L*T).rotate(Y)},gt.rotate=function(L){return arguments.length?(V.call(gt,[L[0],L[1]-rt*C]),Z.center([-L[0],-L[1]]),gt):((L=V.call(gt))[1]+=rt*C,L)},gt.stream=function(L){return(L=X(L)).sphere=function(){L.polygonStart();var Y,ne=Z.radius(89.99)().coordinates[0],se=ne.length-1,pe=-1;for(L.lineStart();++pe<se;)L.point((Y=ne[pe])[0],Y[1]);for(L.lineEnd(),se=(ne=Z.radius(90.01)().coordinates[0]).length-1,L.lineStart();--pe>=0;)L.point((Y=ne[pe])[0],Y[1]);L.lineEnd(),L.polygonEnd()},L},gt.scale(79.4187).parallel(45).clipAngle(179.999)}var Cn=e(84706),mn=e(16016),nn=D(1-1/3)*C,rn=Qe(0);function pn(rt){var at=nn*T,gt=Lt(p,at)[0]-Lt(-p,at)[0],V=rn(0,at)[1],X=Lt(0,at)[1],Z=w-X,L=f/rt,Y=4/f,ne=V+Z*Z*4/f;function se(pe,ke){var Re,Be=A(ke);if(Be>at){var Ze=n(rt-1,i(0,s((pe+p)/L)));(Re=Lt(pe+=p*(rt-1)/rt-Ze*L,Be))[0]=Re[0]*f/gt-f*(rt-1)/(2*rt)+Ze*f/rt,Re[1]=V+4*(Re[1]-X)*Z/f,ke<0&&(Re[1]=-Re[1])}else Re=rn(pe,ke);return Re[0]*=Y,Re[1]/=ne,Re}return se.invert=function(pe,ke){pe/=Y;var Re=A(ke*=ne);if(Re>V){var Be=n(rt-1,i(0,s((pe+p)/L))),Ze=Lt.invert(pe=(pe+p*(rt-1)/rt-Be*L)*gt/f,.25*(Re-V)*f/Z+X);return Ze[0]-=p*(rt-1)/rt-Be*L,ke<0&&(Ze[1]=-Ze[1]),Ze}return rn.invert(pe,ke)},se}function yn(rt,at){return[rt,1&at?90-c:nn]}function Nn(rt,at){return[rt,1&at?-90+c:-nn]}function Un(rt){return[rt[0]*(1-c),rt[1]]}function Xn(){var rt=4,at=(0,S.U)(pn),gt=at(rt),V=gt.stream;return gt.lobes=function(X){return arguments.length?at(rt=+X):rt},gt.stream=function(X){var Z=gt.rotate(),L=V(X),Y=(gt.rotate([0,0]),V(X));return gt.rotate(Z),L.sphere=function(){var ne,se;(0,mn.c)((se=[].concat((0,Cn.ik)(-180,180+(ne=180/rt)/2,ne).map(yn),(0,Cn.ik)(180,-180-ne/2,-ne).map(Nn)),{type:"Polygon",coordinates:[180===ne?se.map(Un):se]}),Y)},L},gt.scale(239.75)}function er(rt){var at,gt=1+rt,V=D(l(1/gt)),X=2*P(p/(at=p+4*V*gt)),Z=.5*X*(gt+P(rt*(2+rt))),L=rt*rt,Y=gt*gt;function ne(se,pe){var ke,Re,Be=1-l(pe);if(Be&&Be<2){var Ze,Ke=m-pe,lt=25;do{var vt=l(Ke),bt=_(Ke),St=V+M(vt,gt-bt),Ft=1+Y-2*gt*bt;Ke-=Ze=(Ke-L*V-gt*vt+Ft*St-.5*Be*at)/(2*gt*vt*St)}while(A(Ze)>b&&--lt>0);ke=X*P(Ft),Re=se*St/p}else ke=X*(rt+Be),Re=se*V/p;return[ke*l(Re),Z-ke*_(Re)]}return ne.invert=function(se,pe){var ke=se*se+(pe-=Z)*pe,Re=(1+Y-ke/(X*X))/(2*gt),Be=R(Re),Ze=l(Be),Ke=V+M(Ze,gt-Re);return[D(se/P(ke))*p/Ke,D(1-2*(Be-L*V-gt*Ze+(1+Y-2*gt*Re)*Ke)/at)]},ne}function pr(){var rt=1,at=(0,S.U)(er),gt=at(rt);return gt.ratio=function(V){return arguments.length?at(rt=+V):rt},gt.scale(167.774).center([0,18.67])}var Qn=.7109889596207567,qn=.0528035274542;function vr(rt,at){return at>-Qn?((rt=he(rt,at))[1]+=qn,rt):ze(rt,at)}function dr(){return(0,S.c)(vr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Dr(rt,at){return A(at)>Qn?((rt=he(rt,at))[1]-=at>0?qn:-qn,rt):ze(rt,at)}function kr(){return(0,S.c)(Dr).scale(152.63)}function Lr(rt,at,gt,V){var X=P(4*p/(2*gt+(1+rt-at/2)*l(2*gt)+(rt+at)/2*l(4*gt)+at/2*l(6*gt))),Z=P(V*l(gt)*P((1+rt*_(2*gt)+at*_(4*gt))/(1+rt+at))),L=gt*ne(1);function Y(ke){return P(1+rt*_(2*ke)+at*_(4*ke))}function ne(ke){var Re=ke*gt;return(2*Re+(1+rt-at/2)*l(2*Re)+(rt+at)/2*l(4*Re)+at/2*l(6*Re))/gt}function se(ke){return Y(ke)*l(ke)}var pe=function(ke,Re){var Be=gt*we(ne,L*l(Re)/gt,Re/p);isNaN(Be)&&(Be=gt*u(Re));var Ze=X*Y(Be);return[Ze*Z*ke/p*_(Be),Ze/Z*l(Be)]};return pe.invert=function(ke,Re){var Be=we(se,Re*Z/X);return[ke*p/(_(Be)*X*Z*Y(Be)),D(gt*ne(Be/gt)/L)]},0===gt&&(X=P(V/p),(pe=function(ke,Re){return[ke*X,l(Re)/X]}).invert=function(ke,Re){return[ke/X,D(Re*X)]}),pe}function yr(){var rt=1,at=0,gt=45*T,V=2,X=(0,S.U)(Lr),Z=X(rt,at,gt,V);return Z.a=function(L){return arguments.length?X(rt=+L,at,gt,V):rt},Z.b=function(L){return arguments.length?X(rt,at=+L,gt,V):at},Z.psiMax=function(L){return arguments.length?X(rt,at,gt=+L*T,V):gt*C},Z.ratio=function(L){return arguments.length?X(rt,at,gt,V=+L):V},Z.scale(180.739)}function Or(rt,at,gt,V,X,Z,L,Y,ne,se,pe){if(pe.nanEncountered)return NaN;var ke,Re,Be,Ze,Ke,lt,vt,bt,St,Ft;if(Re=rt(at+.25*(ke=gt-at)),Be=rt(gt-.25*ke),isNaN(Re))pe.nanEncountered=!0;else{if(!isNaN(Be))return Ft=((lt=(Ze=ke*(V+4*Re+X)/12)+(Ke=ke*(X+4*Be+Z)/12))-L)/15,se>ne?(pe.maxDepthCount++,lt+Ft):Math.abs(Ft)<Y?lt+Ft:(bt=Or(rt,at,vt=at+.5*ke,V,Re,X,Ze,.5*Y,ne,se+1,pe),isNaN(bt)?(pe.nanEncountered=!0,NaN):(St=Or(rt,vt,gt,X,Be,Z,Ke,.5*Y,ne,se+1,pe),isNaN(St)?(pe.nanEncountered=!0,NaN):bt+St));pe.nanEncountered=!0}}function Yr(rt,at,gt,V,X){void 0===V&&(V=1e-8),void 0===X&&(X=20);var Z=rt(at),L=rt(.5*(at+gt)),Y=rt(gt);return Or(rt,at,gt,Z,L,Y,(Z+4*L+Y)*(gt-at)/6,V,X,1,{maxDepthCount:0,nanEncountered:!1})}function Qr(rt,at,gt){function V(Be){return rt+(1-rt)*r(1-r(Be,at),1/at)}function X(Be){return Yr(V,0,Be,1e-4)}for(var Z=1/X(1),L=1e3,Y=1.00000001*Z,ne=[],se=0;se<=L;se++)ne.push(X(se/L)*Y);function pe(Be){var Ze=0,Ke=L,lt=500;do{ne[lt]>Be?Ke=lt:Ze=lt,lt=Ze+Ke>>1}while(lt>Ze);var vt=ne[lt+1]-ne[lt];return vt&&(vt=(Be-ne[lt+1])/vt),(lt+1+vt)/L}var ke=2*pe(1)/p*Z/gt,Re=function(Be,Ze){var Ke=pe(A(l(Ze))),lt=V(Ke)*Be;return Ke/=ke,[lt,Ze>=0?Ke:-Ke]};return Re.invert=function(Be,Ze){var Ke;return A(Ze*=ke)<1&&(Ke=u(Ze)*D(X(A(Ze))*Z)),[Be/V(A(Ze)),Ke]},Re}function to(){var rt=0,at=2.5,gt=1.183136,V=(0,S.U)(Qr),X=V(rt,at,gt);return X.alpha=function(Z){return arguments.length?V(rt=+Z,at,gt):rt},X.k=function(Z){return arguments.length?V(rt,at=+Z,gt):at},X.gamma=function(Z){return arguments.length?V(rt,at,gt=+Z):gt},X.scale(152.63)}function Bi(rt,at){return A(rt[0]-at[0])<c&&A(rt[1]-at[1])<c}function mo(rt,at){for(var gt,V,X,Z=-1,L=rt.length,Y=rt[0],ne=[];++Z<L;){V=((gt=rt[Z])[0]-Y[0])/at,X=(gt[1]-Y[1])/at;for(var se=0;se<at;++se)ne.push([Y[0]+se*V,Y[1]+se*X]);Y=gt}return ne.push(gt),ne}function ji(rt,at,gt){var V,X;function Z(ne,se){for(var pe=se<0?-1:1,ke=at[+(se<0)],Re=0,Be=ke.length-1;Re<Be&&ne>ke[Re][2][0];++Re);var Ze=rt(ne-ke[Re][1][0],se);return Ze[0]+=rt(ke[Re][1][0],pe*se>pe*ke[Re][0][1]?ke[Re][0][1]:se)[0],Ze}gt?Z.invert=gt(Z):rt.invert&&(Z.invert=function(ne,se){for(var pe=X[+(se<0)],ke=at[+(se<0)],Re=0,Be=pe.length;Re<Be;++Re){var Ze=pe[Re];if(Ze[0][0]<=ne&&ne<Ze[1][0]&&Ze[0][1]<=se&&se<Ze[1][1]){var Ke=rt.invert(ne-rt(ke[Re][1][0],0)[0],se);return Ke[0]+=ke[Re][1][0],Bi(Z(Ke[0],Ke[1]),[ne,se])?Ke:null}}});var L=(0,S.c)(Z),Y=L.stream;return L.stream=function(ne){var se=L.rotate(),pe=Y(ne),ke=(L.rotate([0,0]),Y(ne));return L.rotate(se),pe.sphere=function(){(0,mn.c)(V,ke)},pe},L.lobes=function(ne){return arguments.length?(V=function(se){var pe,ke,Be,Ze,lt,vt=[],bt=se[0].length;for(lt=0;lt<bt;++lt)ke=(pe=se[0][lt])[0][0],vt.push(mo([[ke+c,pe[0][1]+c],[ke+c,(Be=pe[1][1])-c],[(Ze=pe[2][0])-c,Be-c],[Ze-c,pe[2][1]+c]],30));for(lt=se[1].length-1;lt>=0;--lt)ke=(pe=se[1][lt])[0][0],vt.push(mo([[(Ze=pe[2][0])-c,pe[2][1]-c],[Ze-c,(Be=pe[1][1])+c],[ke+c,Be+c],[ke+c,pe[0][1]-c]],30));return{type:"Polygon",coordinates:[(0,Cn.Uf)(vt)]}}(ne),at=ne.map(function(se){return se.map(function(pe){return[[pe[0][0]*T,pe[0][1]*T],[pe[1][0]*T,pe[1][1]*T],[pe[2][0]*T,pe[2][1]*T]]})}),X=at.map(function(se){return se.map(function(pe){var ke,Re=rt(pe[0][0],pe[0][1])[0],Be=rt(pe[2][0],pe[2][1])[0],Ze=rt(pe[1][0],pe[0][1])[1],Ke=rt(pe[1][0],pe[1][1])[1];return Ze>Ke&&(ke=Ze,Ze=Ke,Ke=ke),[[Re,Ze],[Be,Ke]]})}),L):at.map(function(se){return se.map(function(pe){return[[pe[0][0]*C,pe[0][1]*C],[pe[1][0]*C,pe[1][1]*C],[pe[2][0]*C,pe[2][1]*C]]})})},null!=at&&L.lobes(at),L}vr.invert=function(rt,at){return at>-Qn?he.invert(rt,at-qn):ze.invert(rt,at)},Dr.invert=function(rt,at){return A(at)>Qn?he.invert(rt,at+(at>0?qn:-qn)):ze.invert(rt,at)};var co=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Aa(){return ji(Ce,co).scale(160.857)}var Nr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ro(){return ji(Dr,Nr).scale(152.63)}var Ua=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Li(){return ji(he,Ua).scale(169.529)}var Ts=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function vl(){return ji(he,Ts).scale(169.529).rotate([20,0])}var gi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Ns(){return ji(vr,gi,xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var zs=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function ni(){return ji(ze,zs).scale(152.63).rotate([-20,0])}function La(rt,at){return[3/f*rt*P(p*p/3-at*at),at]}function Va(){return(0,S.c)(La).scale(158.837)}function ts(rt){function at(gt,V){if(A(A(V)-m)<c)return[0,V<0?-2:2];var X=l(V),Z=r((1+X)/(1-X),rt/2),L=.5*(Z+1/Z)+_(gt*=rt);return[2*l(gt)/L,(Z-1/Z)/L]}return at.invert=function(gt,V){var X=A(V);if(A(X-2)<c)return gt?null:[0,u(V)*m];if(X>2)return null;var Z=(gt/=2)*gt,L=(V/=2)*V,Y=2*V/(1+Z+L);return Y=r((1+Y)/(1-Y),1/rt),[M(2*gt,1-Z-L)/rt,D((Y-1)/(Y+1))]},at}function Ri(){var rt=.5,at=(0,S.U)(ts),gt=at(rt);return gt.spacing=function(V){return arguments.length?at(rt=+V):rt},gt.scale(124.75)}La.invert=function(rt,at){return[f/3*rt/P(p*p/3-at*at),at]};var Go=p/y;function fs(rt,at){return[rt*(1+P(_(at)))/2,at/(_(at/2)*_(rt/6))]}function Bs(){return(0,S.c)(fs).scale(97.2672)}function Ms(rt,at){var gt=rt*rt,V=at*at;return[rt*(.975534+V*(-.0143059*gt-.119161+-.0547009*V)),at*(1.00384+gt*(.0802894+-.02855*V+199025e-9*gt)+V*(.0998909+-.0491032*V))]}function yl(){return(0,S.c)(Ms).scale(139.98)}function js(rt,at){return[l(rt)/_(at),h(at)*_(rt)]}function xl(){return(0,S.c)(js).scale(144.049).clipAngle(89.999)}function Ha(rt){var at=_(rt),gt=h(v+rt/2);function V(X,Z){var L=Z-rt,Y=A(L)<c?X*at:A(Y=v+Z/2)<c||A(A(Y)-m)<c?0:X*L/t(h(Y)/gt);return[Y,L]}return V.invert=function(X,Z){var L,Y=Z+rt;return[A(Z)<c?X/at:A(L=v+Y/2)<c||A(A(L)-m)<c?0:X*t(h(L)/gt)/Z,Y]},V}function As(){return Oe(Ha).parallel(40).scale(158.837)}function qa(rt,at){return[rt,1.25*t(h(v+.4*at))]}function xu(){return(0,S.c)(qa).scale(108.318)}function cu(rt){var at=rt.length-1;function gt(V,X){for(var Z,L=_(X),Y=2/(1+L*_(V)),ne=Y*L*l(V),se=Y*l(X),pe=at,ke=rt[pe],Re=ke[0],Be=ke[1];--pe>=0;)Re=(ke=rt[pe])[0]+ne*(Z=Re)-se*Be,Be=ke[1]+ne*Be+se*Z;return[Re=ne*(Z=Re)-se*Be,Be=ne*Be+se*Z]}return gt.invert=function(V,X){var Z=20,L=V,Y=X;do{for(var ne,se=at,pe=rt[se],ke=pe[0],Re=pe[1],Be=0,Ze=0;--se>=0;)Be=ke+L*(ne=Be)-Y*Ze,Ze=Re+L*Ze+Y*ne,ke=(pe=rt[se])[0]+L*(ne=ke)-Y*Re,Re=pe[1]+L*Re+Y*ne;var Ke,lt,vt=(Be=ke+L*(ne=Be)-Y*Ze)*Be+(Ze=Re+L*Ze+Y*ne)*Ze;L-=Ke=((ke=L*(ne=ke)-Y*Re-V)*Be+(Re=L*Re+Y*ne-X)*Ze)/vt,Y-=lt=(Re*Be-ke*Ze)/vt}while(A(Ke)+A(lt)>c*c&&--Z>0);if(Z){var bt=P(L*L+Y*Y),St=2*a(.5*bt),Ft=l(St);return[M(L*Ft,bt*_(St)),bt?D(Y*Ft/bt):0]}},gt}fs.invert=function(rt,at){var gt=A(rt),V=A(at),X=c,Z=m;V<Go?Z*=V/Go:X+=6*R(Go/V);for(var L=0;L<25;L++){var Y=l(Z),ne=P(_(Z)),se=l(Z/2),pe=_(Z/2),ke=l(X/6),Re=_(X/6),Be=.5*X*(1+ne)-gt,Ze=Z/(pe*Re)-V,Ke=ne?-.25*X*Y/ne:0,lt=.5*(1+ne),vt=(1+.5*Z*se/pe)/(pe*Re),bt=Z/pe*(ke/6)/(Re*Re),St=Ke*bt-vt*lt,Ft=(Be*bt-Ze*lt)/St,It=(Ze*Ke-Be*vt)/St;if(Z-=Ft,X-=It,A(Ft)<c&&A(It)<c)break}return[rt<0?-X:X,at<0?-Z:Z]},Ms.invert=function(rt,at){var gt=u(rt)*p,V=at/2,X=50;do{var Z=gt*gt,L=V*V,Y=gt*V,ne=gt*(.975534+L*(-.0143059*Z-.119161+-.0547009*L))-rt,se=V*(1.00384+Z*(.0802894+-.02855*L+199025e-9*Z)+L*(.0998909+-.0491032*L))-at,pe=.975534-L*(.119161+3*Z*.0143059+.0547009*L),ke=-Y*(.238322+.2188036*L+.0286118*Z),Re=Y*(.1605788+7961e-7*Z+-.0571*L),Be=1.00384+Z*(.0802894+199025e-9*Z)+L*(3*(.0998909-.02855*Z)-.245516*L),Ze=ke*Re-Be*pe,Ke=(se*ke-ne*Be)/Ze,lt=(ne*Re-se*pe)/Ze;gt-=Ke,V-=lt}while((A(Ke)>c||A(lt)>c)&&--X>0);return X&&[gt,V]},js.invert=function(rt,at){var gt=rt*rt,V=at*at+1,X=gt+V,Z=rt?x*P((X-P(X*X-4*gt))/gt):1/P(V);return[D(rt*Z),u(at)*R(Z)]},qa.invert=function(rt,at){return[rt,2.5*a(d(.8*at))-.625*p]};var bl=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],bu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],_l=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],wl=[[.9245,0],[0,0],[.01943,0]],Us=[[.721316,0],[0,0],[-.00881625,-.00617325]];function fc(){return Hs(bl,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ki(){return Hs(bu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function nl(){return Hs(_l,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Si(){return Hs(wl,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Vs(){return Hs(Us,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Hs(rt,at){var gt=(0,S.c)(cu(rt)).rotate(at).clipAngle(90),V=(0,nt.c)(at),X=gt.center;return delete gt.rotate,gt.center=function(Z){return arguments.length?X(V(Z)):V.invert(X())},gt}var qs=P(6),Tl=P(7);function hs(rt,at){var gt=D(7*l(at)/(3*qs));return[qs*rt*(2*_(2*gt/3)-1)/Tl,9*l(gt/3)/Tl]}function _u(){return(0,S.c)(hs).scale(164.859)}function ga(rt,at){for(var gt,V=(1+x)*l(at),X=at,Z=0;Z<25&&(X-=gt=(l(X/2)+l(X)-V)/(.5*_(X/2)+_(X)),!(A(gt)<c));Z++);return[rt*(1+2*_(X)/_(X/2))/(3*y),2*P(3)*l(X/2)/P(2+y)]}function ns(){return(0,S.c)(ga).scale(188.209)}function $o(rt,at){for(var gt,V=P(6/(4+p)),X=(1+p/4)*l(at),Z=at/2,L=0;L<25&&(Z-=gt=(Z/2+l(Z)-X)/(.5+_(Z)),!(A(gt)<c));L++);return[V*(.5+_(Z))*rt/1.5,V*Z]}function sa(){return(0,S.c)($o).scale(166.518)}hs.invert=function(rt,at){var gt=3*D(at*Tl/9);return[rt*Tl/(qs*(2*_(2*gt/3)-1)),D(3*l(gt)*qs/7)]},ga.invert=function(rt,at){var gt=at*P(2+y)/(2*P(3)),V=2*D(gt);return[3*y*rt/(1+2*_(V)/_(V/2)),D((gt+l(V))/(1+x))]},$o.invert=function(rt,at){var gt=P(6/(4+p)),V=at/gt;return A(A(V)-m)<c&&(V=V<0?-m:m),[1.5*rt/(gt*(.5+_(V))),D((V/2+l(V))/(1+p/4))]};var Xr=e(47984);function Gs(rt,at){var gt=at*at,V=gt*gt,X=gt*V;return[rt*(.84719-.13063*gt+X*X*(.05494*gt-.04515-.02326*V+.00331*X)),at*(1.01183+V*V*(.01926*gt-.02625-.00396*V))]}function wu(){return(0,S.c)(Gs).scale(175.295)}function Fl(rt,at){return[rt*(1+_(at))/2,2*(at-h(at/2))]}function Ml(){return(0,S.c)(Fl).scale(152.63)}Gs.invert=function(rt,at){var gt,V,X,Z,L=at,Y=25;do{L-=gt=(L*(1.01183+(X=(V=L*L)*V)*X*(.01926*V-.02625-.00396*X))-at)/(1.01183+X*X*(.21186*V-.23625+-.05148*X))}while(A(gt)>b&&--Y>0);return[rt/(.84719-.13063*(V=L*L)+(Z=V*(X=V*V))*Z*(.05494*V-.04515-.02326*X+.00331*Z)),L]},Fl.invert=function(rt,at){for(var gt=at/2,V=0,X=1/0;V<10&&A(X)>c;++V){var Z=_(at/2);at-=X=(at-h(at/2)-gt)/(1-.5/(Z*Z))}return[2*rt/(1+_(at)),at]};var ks=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Yl(){return ji(ge(1/0),ks).rotate([20,0]).scale(152.63)}function Zl(rt,at){var gt=l(at),V=_(at),X=u(rt);if(0===rt||A(at)===m)return[0,at];if(0===at)return[rt,0];if(A(rt)===m)return[rt*V,m*gt];var Z=p/(2*rt)-2*rt/p,L=2*at/p,Y=(1-L*L)/(gt-L),ne=Z*Z,se=Y*Y,pe=1+ne/se,ke=1+se/ne,Re=(Z*gt/Y-Z/2)/pe,Be=(se*gt/ne+Y/2)/ke,Ze=Be*Be-(se*gt*gt/ne+Y*gt-1)/ke;return[m*(Re+P(Re*Re+V*V/pe)*X),m*(Be+P(Ze<0?0:Ze)*u(-at*Z)*X)]}function Hu(){return(0,S.c)(Zl).scale(127.267)}Zl.invert=function(rt,at){var gt=(rt/=m)*rt,V=gt+(at/=m)*at,X=p*p;return[rt?(V-1+P((1-V)*(1-V)+4*gt))/(2*rt)*m:0,we(function(Z){return V*(p*l(Z)-2*Z)*p+4*Z*Z*(at-l(Z))+2*p*Z-X*at},0)]};var Ss=1.0148,rl=.23185,Es=-.14499,ka=.02406,Al=Ss,Tu=5*rl,Xl=7*Es,$l=9*ka,Ga=1.790857183;function fu(rt,at){var gt=at*at;return[rt,at*(Ss+gt*gt*(rl+gt*(Es+ka*gt)))]}function rs(){return(0,S.c)(fu).scale(139.319)}function Nl(rt,at){if(A(at)<c)return[rt,0];var gt=h(at),V=rt*l(at);return[l(V)/gt,at+(1-_(V))/gt]}function il(){return(0,S.c)(Nl).scale(103.74)}fu.invert=function(rt,at){at>Ga?at=Ga:at<-1.790857183&&(at=-1.790857183);var gt,V=at;do{var X=V*V;V-=gt=(V*(Ss+X*X*(rl+X*(Es+ka*X)))-at)/(Al+X*X*(Tu+X*(Xl+$l*X)))}while(A(gt)>c);return[rt,V]},Nl.invert=function(rt,at){if(A(at)<c)return[rt,0];var gt,V=rt*rt+at*at,X=.5*at,Z=10;do{var L=h(X),Y=1/_(X),ne=V-2*at*X+X*X;X-=gt=(L*ne+2*(X-at))/(2+ne*Y*Y+2*(X-at)*L)}while(A(gt)>c&&--Z>0);return L=h(X),[(A(at)<A(X+1/L)?D(rt*L):u(at)*u(rt)*(R(A(rt*L))+m))/l(X),X]};var zl=e(13696),kl=e(27284);function Sl(rt,at){return[rt[0]*at[0]+rt[1]*at[3],rt[0]*at[1]+rt[1]*at[4],rt[0]*at[2]+rt[1]*at[5]+rt[2],rt[3]*at[0]+rt[4]*at[3],rt[3]*at[1]+rt[4]*at[4],rt[3]*at[2]+rt[4]*at[5]+rt[5]]}function Kl(rt,at){return[rt[0]-at[0],rt[1]-at[1]]}function Jl(rt){return P(rt[0]*rt[0]+rt[1]*rt[1])}function Ui(rt,at,gt){function V(Y,ne){var se,pe=at(Y,ne),ke=pe.project([Y*C,ne*C]);return(se=pe.transform)?[se[0]*ke[0]+se[1]*ke[1]+se[2],-(se[3]*ke[0]+se[4]*ke[1]+se[5])]:(ke[1]=-ke[1],ke)}function X(Y,ne){var lt,vt,se=Y.project.invert,pe=Y.transform,ke=ne;if(pe&&(ke=[(pe=[(vt=1/((lt=pe)[0]*lt[4]-lt[1]*lt[3]))*lt[4],-vt*lt[1],vt*(lt[1]*lt[5]-lt[2]*lt[4]),-vt*lt[3],vt*lt[0],vt*(lt[2]*lt[3]-lt[0]*lt[5])])[0]*ke[0]+pe[1]*ke[1]+pe[2],pe[3]*ke[0]+pe[4]*ke[1]+pe[5]]),se&&Y===function(lt){return at(lt[0]*T,lt[1]*T)}(Re=se(ke)))return Re;for(var Re,Be=Y.children,Ze=0,Ke=Be&&Be.length;Ze<Ke;++Ze)if(Re=X(Be[Ze],ne))return Re}(function Y(ne,se){if(ne.edges=function(It){for(var Wt=It.length,zt=[],sn=It[Wt-1],en=0;en<Wt;++en)zt.push([sn,sn=It[en]]);return zt}(ne.face),se.face){var pe=ne.shared=function(It,Wt){for(var zt,sn,en=It.length,Xt=null,Tn=0;Tn<en;++Tn){zt=It[Tn];for(var kn=Wt.length;--kn>=0;)if(zt[0]===(sn=Wt[kn])[0]&&zt[1]===sn[1]){if(Xt)return[Xt,zt];Xt=zt}}}(ne.face,se.face),ke=(Ke=pe.map(se.project),lt=pe.map(ne.project),vt=Kl(Ke[1],Ke[0]),bt=Kl(lt[1],lt[0]),St=M((It=vt)[0]*(Wt=bt)[1]-It[1]*Wt[0],It[0]*Wt[0]+It[1]*Wt[1]),Ft=Jl(vt)/Jl(bt),Sl([1,0,Ke[0][0],0,1,Ke[0][1]],Sl([Ft,0,0,0,Ft,0],Sl([_(St),l(St),0,-l(St),_(St),0],[1,0,-lt[0][0],0,1,-lt[0][1]]))));ne.transform=se.transform?Sl(se.transform,ke):ke;for(var Re=se.edges,Be=0,Ze=Re.length;Be<Ze;++Be)la(pe[0],Re[Be][1])&&la(pe[1],Re[Be][0])&&(Re[Be]=ne),la(pe[0],Re[Be][0])&&la(pe[1],Re[Be][1])&&(Re[Be]=ne);for(Be=0,Ze=(Re=ne.edges).length;Be<Ze;++Be)la(pe[0],Re[Be][0])&&la(pe[1],Re[Be][1])&&(Re[Be]=se),la(pe[0],Re[Be][1])&&la(pe[1],Re[Be][0])&&(Re[Be]=se)}else ne.transform=se.transform;var It,Wt,Ke,lt,vt,bt,St,Ft;return ne.children&&ne.children.forEach(function(It){Y(It,ne)}),ne})(rt,{transform:null}),Wa(rt)&&(V.invert=function(Y,ne){var se=X(rt,[Y,-ne]);return se&&(se[0]*=T,se[1]*=T,se)});var Z=(0,S.c)(V),L=Z.stream;return Z.stream=function(Y){var ne=Z.rotate(),se=L(Y),pe=(Z.rotate([0,0]),L(Y));return Z.rotate(ne),se.sphere=function(){pe.polygonStart(),pe.lineStart(),ol(pe,rt),pe.lineEnd(),pe.polygonEnd()},se},Z.angle(null==gt?-30:gt*C)}function ol(rt,at,gt){var V,X,Z=at.edges,L=Z.length,Y={type:"MultiPoint",coordinates:at.face},ne=at.face.filter(function(Ke){return 90!==A(Ke[1])}),se=(0,zl.c)({type:"MultiPoint",coordinates:ne}),pe=!1,ke=-1,Re=se[1][0]-se[0][0],Be=180===Re||360===Re?[(se[0][0]+se[1][0])/2,(se[0][1]+se[1][1])/2]:(0,Xe.c)(Y);if(gt)for(;++ke<L&&Z[ke]!==gt;);++ke;for(var Ze=0;Ze<L;++Ze)X=Z[(Ze+ke)%L],Array.isArray(X)?(pe||(rt.point((V=(0,kl.c)(X[0],Be)(c))[0],V[1]),pe=!0),rt.point((V=(0,kl.c)(X[1],Be)(c))[0],V[1])):(pe=!1,X!==gt&&ol(rt,X,at))}function la(rt,at){return rt&&at&&rt[0]===at[0]&&rt[1]===at[1]}function Wa(rt){return rt.project.invert||rt.children&&rt.children.some(Wa)}var Ei=e(53285),Fi=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ya=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(rt){return rt.map(function(at){return Fi[at]})});function Za(rt){rt=rt||function(gt){var V=(0,Xe.c)({type:"MultiPoint",coordinates:gt});return(0,Ei.c)().scale(1).translate([0,0]).rotate([-V[0],-V[1]])};var at=Ya.map(function(gt){return{face:gt,project:rt(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,V){var X=at[gt];X&&(X.children||(X.children=[])).push(at[V])}),Ui(at[0],function(gt,V){return at[gt<-p/2?V<0?6:4:gt<0?V<0?2:0:gt<p/2?V<0?3:1:V<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Ql=2/P(3);function eu(rt,at){var gt=Lt(rt,at);return[gt[0]*Ql,gt[1]]}function ma(rt){rt=rt||function(gt){var V=(0,Xe.c)({type:"MultiPoint",coordinates:gt});return(0,S.c)(eu).translate([0,0]).scale(1).rotate(V[1]>0?[-V[0],0]:[180-V[0],180])};var at=Ya.map(function(gt){return{face:gt,project:rt(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,V){var X=at[gt];X&&(X.children||(X.children=[])).push(at[V])}),Ui(at[0],function(gt,V){return at[gt<-p/2?V<0?6:4:gt<0?V<0?2:0:gt<p/2?V<0?3:1:V<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ra(rt){rt=rt||function(Z){var L=6===Z.length?(0,Xe.c)({type:"MultiPoint",coordinates:Z}):Z[0];return(0,Ei.c)().scale(1).translate([0,0]).rotate([-L[0],-L[1]])};var at=Ya.map(function(Z){for(var L,Y=Z.map(Fo),ne=Y.length,se=Y[ne-1],pe=[],ke=0;ke<ne;++ke)pe.push(To([.9486832980505138*se[0]+.31622776601683794*(L=Y[ke])[0],.9486832980505138*se[1]+.31622776601683794*L[1],.9486832980505138*se[2]+.31622776601683794*L[2]]),To([.9486832980505138*L[0]+.31622776601683794*se[0],.9486832980505138*L[1]+.31622776601683794*se[1],.9486832980505138*L[2]+.31622776601683794*se[2]])),se=L;return pe}),gt=[],V=[-1,0,0,1,0,1,4,5];at.forEach(function(Z,L){for(var Y,ne,se=Ya[L],pe=se.length,ke=gt[L]=[],Re=0;Re<pe;++Re)at.push([se[Re],Z[(2*Re+2)%(2*pe)],Z[(2*Re+1)%(2*pe)]]),V.push(L),ke.push((Y=Fo(Z[(2*Re+2)%(2*pe)]),ne=Fo(Z[(2*Re+1)%(2*pe)]),[Y[1]*ne[2]-Y[2]*ne[1],Y[2]*ne[0]-Y[0]*ne[2],Y[0]*ne[1]-Y[1]*ne[0]]))});var X=at.map(function(Z){return{project:rt(Z),face:Z}});return V.forEach(function(Z,L){var Y=X[Z];Y&&(Y.children||(Y.children=[])).push(X[L])}),Ui(X[0],function(Z,L){var Y=_(L),ne=[Y*_(Z),Y*l(Z),l(L)],se=Z<-p/2?L<0?6:4:Z<0?L<0?2:0:Z<p/2?L<0?3:1:L<0?7:5,pe=gt[se];return X[fi(pe[0],ne)<0?8+3*se:fi(pe[1],ne)<0?8+3*se+1:fi(pe[2],ne)<0?8+3*se+2:se]}).angle(-30).scale(110.625).center([0,45])}function fi(rt,at){for(var gt=0,V=rt.length,X=0;gt<V;++gt)X+=rt[gt]*at[gt];return X}function To(rt){return[M(rt[1],rt[0])*C,D(i(-1,n(1,rt[2])))*C]}function Fo(rt){var at=rt[0]*T,gt=rt[1]*T,V=_(gt);return[V*_(at),V*l(at),l(gt)]}function Wo(){}function ua(rt,at){var gt,V=at.stream;if(!V)throw new Error("invalid projection");switch(rt&&rt.type){case"Feature":gt=jo;break;case"FeatureCollection":gt=Xa;break;default:gt=No}return gt(rt,V)}function Xa(rt,at){return{type:"FeatureCollection",features:rt.features.map(function(gt){return jo(gt,at)})}}function jo(rt,at){return{type:"Feature",id:rt.id,properties:rt.properties,geometry:No(rt.geometry,at)}}function No(rt,at){if(!rt)return null;if("GeometryCollection"===rt.type)return X=at,{type:"GeometryCollection",geometries:rt.geometries.map(function(Z){return No(Z,X)})};var X,gt;switch(rt.type){case"Point":case"MultiPoint":gt=Vi;break;case"LineString":case"MultiLineString":gt=jr;break;case"Polygon":case"MultiPolygon":case"Sphere":gt=ri;break;default:return null}return(0,mn.c)(rt,at(gt)),gt.result()}eu.invert=function(rt,at){return Lt.invert(rt/Ql,at)};var Xi=[],Ko=[],Vi={point:function(rt,at){Xi.push([rt,at])},result:function(){var rt=Xi.length?Xi.length<2?{type:"Point",coordinates:Xi[0]}:{type:"MultiPoint",coordinates:Xi}:null;return Xi=[],rt}},jr={lineStart:Wo,point:function(rt,at){Xi.push([rt,at])},lineEnd:function(){Xi.length&&(Ko.push(Xi),Xi=[])},result:function(){var rt=Ko.length?Ko.length<2?{type:"LineString",coordinates:Ko[0]}:{type:"MultiLineString",coordinates:Ko}:null;return Ko=[],rt}},ri={polygonStart:Wo,lineStart:Wo,point:function(rt,at){Xi.push([rt,at])},lineEnd:function(){var rt=Xi.length;if(rt){do{Xi.push(Xi[0].slice())}while(++rt<4);Ko.push(Xi),Xi=[]}},polygonEnd:Wo,result:function(){if(!Ko.length)return null;var rt=[],at=[];return Ko.forEach(function(gt){!function(V){if((X=V.length)<4)return!1;for(var X,Z=0,L=V[X-1][1]*V[0][0]-V[X-1][0]*V[0][1];++Z<X;)L+=V[Z-1][1]*V[Z][0]-V[Z-1][0]*V[Z][1];return L<=0}(gt)?at.push(gt):rt.push([gt])}),at.forEach(function(gt){var V=gt[0];rt.some(function(X){if(function(Z,L){for(var Y=L[0],ne=L[1],se=!1,pe=0,ke=Z.length,Re=ke-1;pe<ke;Re=pe++){var Be=Z[pe],Ze=Be[0],Ke=Be[1],lt=Z[Re],bt=lt[1];Ke>ne^bt>ne&&Y<(lt[0]-Ze)*(ne-Ke)/(bt-Ke)+Ze&&(se=!se)}return se}(X[0],V))return X.push(gt),!0})||rt.push([gt])}),Ko=[],rt.length?rt.length>1?{type:"MultiPolygon",coordinates:rt}:{type:"Polygon",coordinates:rt[0]}:null}};function Hi(rt){var at=rt(m,0)[0]-rt(-m,0)[0];function gt(V,X){var Z=A(V)<m,L=rt(Z?V:V>0?V-p:V+p,X),Y=(L[0]-L[1])*x,ne=(L[0]+L[1])*x;if(Z)return[Y,ne];var se=at*x,pe=Y>0^ne>0?-1:1;return[pe*Y-u(ne)*se,pe*ne-u(Y)*se]}return rt.invert&&(gt.invert=function(V,X){var Z=(V+X)*x,L=(X-V)*x,Y=A(Z)<.5*at&&A(L)<.5*at;if(!Y){var ne=at*x,se=Z>0^L>0?-1:1,pe=-se*V+(L>0?1:-1)*ne,ke=-se*X+(Z>0?1:-1)*ne;Z=(-pe-ke)*x,L=(pe-ke)*x}var Re=rt.invert(Z,L);return Y||(Re[0]+=Z>0?p:-p),Re}),(0,S.c)(gt).rotate([-90,-90,45]).clipAngle(179.999)}function vo(){return Hi(In).scale(176.423)}function ds(){return Hi(An).scale(111.48)}function Mo(rt,at){if(!(0<=(at=+at)&&at<=20))throw new Error("invalid digits");function gt(se){var pe=se.length,ke=2,Re=new Array(pe);for(Re[0]=+se[0].toFixed(at),Re[1]=+se[1].toFixed(at);ke<pe;)Re[ke]=se[ke],++ke;return Re}function V(se){return se.map(gt)}function X(se){for(var pe=gt(se[0]),ke=[pe],Re=1;Re<se.length;Re++){var Be=gt(se[Re]);(Be.length>2||Be[0]!=pe[0]||Be[1]!=pe[1])&&(ke.push(Be),pe=Be)}return 1===ke.length&&se.length>1&&ke.push(gt(se[se.length-1])),ke}function Z(se){return se.map(X)}function L(se){if(null==se)return se;var pe;switch(se.type){case"GeometryCollection":pe={type:"GeometryCollection",geometries:se.geometries.map(L)};break;case"Point":pe={type:"Point",coordinates:gt(se.coordinates)};break;case"MultiPoint":pe={type:se.type,coordinates:V(se.coordinates)};break;case"LineString":pe={type:se.type,coordinates:X(se.coordinates)};break;case"MultiLineString":case"Polygon":pe={type:se.type,coordinates:Z(se.coordinates)};break;case"MultiPolygon":pe={type:"MultiPolygon",coordinates:se.coordinates.map(Z)};break;default:return se}return null!=se.bbox&&(pe.bbox=se.bbox),pe}function Y(se){var pe={type:"Feature",properties:se.properties,geometry:L(se.geometry)};return null!=se.id&&(pe.id=se.id),null!=se.bbox&&(pe.bbox=se.bbox),pe}if(null!=rt)switch(rt.type){case"Feature":return Y(rt);case"FeatureCollection":var ne={type:"FeatureCollection",features:rt.features.map(Y)};return null!=rt.bbox&&(ne.bbox=rt.bbox),ne;default:return L(rt)}return rt}function ca(rt){var at=l(rt);function gt(V,X){var Z=at?h(V*at/2)/at:V/2;if(!X)return[2*Z,-rt];var L=2*a(Z*l(X)),Y=1/h(X);return[l(L)*Y,X+(1-_(L))*Y-rt]}return gt.invert=function(V,X){if(A(X+=rt)<c)return[at?2*a(at*V/2)/at:V,0];var Z,L=V*V+X*X,Y=0,ne=10;do{var se=h(Y),pe=1/_(Y),ke=L-2*X*Y+Y*Y;Y-=Z=(se*ke+2*(Y-X))/(2+ke*pe*pe+2*(Y-X)*se)}while(A(Z)>c&&--ne>0);var Re=V*(se=h(Y)),Be=h(A(X)<A(Y+1/se)?.5*D(Re):.5*R(Re)+p/4)/l(Y);return[at?2*a(at*Be)/at:2*Be,Y]},gt}function Ni(){return Oe(ca).scale(131.215)}var Ci=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function va(rt,at){var gt,V=n(18,36*A(at)/p),X=s(V),Z=V-X,L=(gt=Ci[X])[0],Y=gt[1],ne=(gt=Ci[++X])[0],se=gt[1],pe=(gt=Ci[n(19,++X)])[0],ke=gt[1];return[rt*(ne+Z*(pe-L)/2+Z*Z*(pe-2*ne+L)/2),(at>0?m:-m)*(se+Z*(ke-Y)/2+Z*Z*(ke-2*se+Y)/2)]}function Mr(){return(0,S.c)(va).scale(152.63)}function Ws(rt,at){var gt=function(L){function Y(ne,se){var pe=_(se),ke=(L-1)/(L-pe*_(ne));return[ke*pe*l(ne),ke*l(se)]}return Y.invert=function(ne,se){var pe=ne*ne+se*se,ke=P(pe),Re=(L-P(1-pe*(L+1)/(L-1)))/((L-1)/ke+ke/(L-1));return[M(ne*Re,ke*P(1-Re*Re)),ke?D(se*Re/ke):0]},Y}(rt);if(!at)return gt;var V=_(at),X=l(at);function Z(L,Y){var ne=gt(L,Y),se=ne[1],pe=se*X/(rt-1)+V;return[ne[0]*V/pe,se/pe]}return Z.invert=function(L,Y){var ne=(rt-1)/(rt-1-Y*X);return gt.invert(ne*L,ne*Y*V)},Z}function hu(){var rt=2,at=0,gt=(0,S.U)(Ws),V=gt(rt,at);return V.distance=function(X){return arguments.length?gt(rt=+X,at):rt},V.tilt=function(X){return arguments.length?gt(rt,at=X*T):at*C},V.scale(432.147).clipAngle(R(1/rt)*C-1e-6)}Ci.forEach(function(rt){rt[1]*=1.0144}),va.invert=function(rt,at){var gt=at/m,V=90*gt,X=n(18,A(V/5)),Z=i(0,s(X));do{var L=Ci[Z][1],Y=Ci[Z+1][1],ne=Ci[n(19,Z+2)][1],se=ne-L,pe=ne-2*Y+L,ke=2*(A(gt)-Y)/se,Re=pe/se,Be=ke*(1-Re*ke*(1-2*Re*ke));if(Be>=0||1===Z){V=(at>=0?5:-5)*(Be+X);var Ze,Ke=50;do{Be=(X=n(18,A(V)/5))-(Z=s(X)),L=Ci[Z][1],Y=Ci[Z+1][1],ne=Ci[n(19,Z+2)][1],V-=(Ze=(at>=0?m:-m)*(Y+Be*(ne-L)/2+Be*Be*(ne-2*Y+L)/2)-at)*C}while(A(Ze)>b&&--Ke>0);break}}while(--Z>=0);var lt=Ci[Z][0],vt=Ci[Z+1][0],bt=Ci[n(19,Z+2)][0];return[rt/(vt+Be*(bt-lt)/2+Be*Be*(bt-2*vt+lt)/2),V*T]};var $a=1e-4,no=1e4,ps=-180,gs=ps+$a,Pr=180,Ys=Pr-$a,Cs=-90,lo=Cs+$a,ya=90,Sa=ya-$a;function xa(rt){return rt.length>0}function ii(rt){return rt===Cs||rt===ya?[0,rt]:[ps,(at=rt,Math.floor(at*no)/no)];var at}function Zs(rt){var at=rt[0],gt=rt[1],V=!1;return at<=gs?(at=ps,V=!0):at>=Ys&&(at=Pr,V=!0),gt<=lo?(gt=Cs,V=!0):gt>=Sa&&(gt=ya,V=!0),V?[at,gt]:rt}function Pa(rt){return rt.map(Zs)}function Ds(rt,at,gt){for(var V=0,X=rt.length;V<X;++V){var Z=rt[V].slice();gt.push({index:-1,polygon:at,ring:Z});for(var L=0,Y=Z.length;L<Y;++L){var ne=Z[L],se=ne[0],pe=ne[1];if(se<=gs||se>=Ys||pe<=lo||pe>=Sa){Z[L]=Zs(ne);for(var ke=L+1;ke<Y;++ke){var Re=Z[ke],Be=Re[0],Ze=Re[1];if(Be>gs&&Be<Ys&&Ze>lo&&Ze<Sa)break}if(ke===L+1)continue;if(L){var Ke={index:-1,polygon:at,ring:Z.slice(0,L+1)};Ke.ring[Ke.ring.length-1]=ii(pe),gt[gt.length-1]=Ke}else gt.pop();if(ke>=Y)break;gt.push({index:-1,polygon:at,ring:Z=Z.slice(ke-1)}),Z[0]=ii(Z[0][1]),L=-1,Y=Z.length}}}}function Oa(rt){var at,gt,V,X,Z,L,Y=rt.length,ne={},se={};for(at=0;at<Y;++at)(V=(gt=rt[at]).ring[0])[0]!==(Z=gt.ring[gt.ring.length-1])[0]||V[1]!==Z[1]?(gt.index=at,ne[V]=se[Z]=gt):(gt.polygon.push(gt.ring),rt[at]=null);for(at=0;at<Y;++at)if(gt=rt[at]){if(X=se[V=gt.ring[0]],L=ne[Z=gt.ring[gt.ring.length-1]],delete ne[V],delete se[Z],V[0]===Z[0]&&V[1]===Z[1]){gt.polygon.push(gt.ring);continue}X?(delete se[V],delete ne[X.ring[0]],X.ring.pop(),rt[X.index]=null,gt={index:-1,polygon:X.polygon,ring:X.ring.concat(gt.ring)},X===L?gt.polygon.push(gt.ring):(gt.index=Y++,rt.push(ne[gt.ring[0]]=se[gt.ring[gt.ring.length-1]]=gt))):L?(delete ne[Z],delete se[L.ring[L.ring.length-1]],gt.ring.pop(),gt={index:Y++,polygon:L.polygon,ring:gt.ring.concat(L.ring)},rt[L.index]=null,rt.push(ne[gt.ring[0]]=se[gt.ring[gt.ring.length-1]]=gt)):(gt.ring.push(gt.ring[0]),gt.polygon.push(gt.ring))}}function ms(rt){var at={type:"Feature",geometry:mi(rt.geometry)};return null!=rt.id&&(at.id=rt.id),null!=rt.bbox&&(at.bbox=rt.bbox),null!=rt.properties&&(at.properties=rt.properties),at}function mi(rt){if(null==rt)return rt;var at,gt,V,X;switch(rt.type){case"GeometryCollection":at={type:"GeometryCollection",geometries:rt.geometries.map(mi)};break;case"Point":at={type:"Point",coordinates:Zs(rt.coordinates)};break;case"MultiPoint":case"LineString":at={type:rt.type,coordinates:Pa(rt.coordinates)};break;case"MultiLineString":at={type:"MultiLineString",coordinates:rt.coordinates.map(Pa)};break;case"Polygon":var Z=[];Ds(rt.coordinates,Z,gt=[]),Oa(gt),at={type:"Polygon",coordinates:Z};break;case"MultiPolygon":gt=[],V=-1,X=rt.coordinates.length;for(var L=new Array(X);++V<X;)Ds(rt.coordinates[V],L[V]=[],gt);Oa(gt),at={type:"MultiPolygon",coordinates:L.filter(xa)};break;default:return rt}return null!=rt.bbox&&(at.bbox=rt.bbox),at}function Do(rt){if(null==rt)return rt;switch(rt.type){case"Feature":return ms(rt);case"FeatureCollection":var at={type:"FeatureCollection",features:rt.features.map(ms)};return null!=rt.bbox&&(at.bbox=rt.bbox),at;default:return mi(rt)}}function qi(rt,at){var gt=h(at/2),V=l(v*gt);return[rt*(.74482-.34588*V*V),1.70711*gt]}function Xs(){return(0,S.c)(qi).scale(146.153)}function ro(rt,at,gt){var V=(0,kl.c)(at,gt),X=V(.5),Z=(0,nt.c)([-X[0],-X[1]])(at),L=V.distance/2,Y=-D(l(Z[1]*T)/l(L)),ne=[-X[0],-X[1],-(Z[0]>0?p-Y:Y)*C],se=(0,S.c)(rt(L)).rotate(ne),pe=(0,nt.c)(ne),ke=se.center;return delete se.rotate,se.center=function(Re){return arguments.length?ke(pe(Re)):pe.invert(ke())},se.clipAngle(90)}function Yo(rt){var at=_(rt);function gt(V,X){var Z=(0,Ei.Y)(V,X);return Z[0]*=at,Z}return gt.invert=function(V,X){return Ei.Y.invert(V/at,X)},gt}function al(){return Uo([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Uo(rt,at){return ro(Yo,rt,at)}function yi(rt){if(!(rt*=2))return J.O;var at=-rt/2,gt=-at,V=rt*rt,X=h(gt),Z=.5/l(gt);function L(Y,ne){var se=R(_(ne)*_(Y-at)),pe=R(_(ne)*_(Y-gt));return[((se*=se)-(pe*=pe))/(2*rt),(ne<0?-1:1)*P(4*V*pe-(V-se+pe)*(V-se+pe))/(2*rt)]}return L.invert=function(Y,ne){var se,pe,ke=ne*ne,Re=_(P(ke+(se=Y+at)*se)),Be=_(P(ke+(se=Y+gt)*se));return[M(pe=Re-Be,se=(Re+Be)*X),(ne<0?-1:1)*R(P(se*se+pe*pe)*Z)]},L}function Zo(){return $s([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function $s(rt,at){return ro(yi,rt,at)}function vs(rt,at){if(A(at)<c)return[rt,0];var gt=A(at/m),V=D(gt);if(A(rt)<c||A(A(at)-m)<c)return[0,u(at)*p*h(V/2)];var X=_(V),Z=A(p/rt-rt/p)/2,L=Z*Z,Y=X/(gt+X-1),ne=Y*(2/gt-1),se=ne*ne,pe=se+L,ke=Y-se,Re=L+Y;return[u(rt)*p*(Z*ke+P(L*ke*ke-pe*(Y*Y-se)))/pe,u(at)*p*(ne*Re-Z*P((L+1)*pe-Re*Re))/pe]}function Bl(){return(0,S.c)(vs).scale(79.4183)}function tu(rt,at){if(A(at)<c)return[rt,0];var gt=A(at/m),V=D(gt);if(A(rt)<c||A(A(at)-m)<c)return[0,u(at)*p*h(V/2)];var X=_(V),Z=A(p/rt-rt/p)/2,L=Z*Z,Y=X*(P(1+L)-Z*X)/(1+L*gt*gt);return[u(rt)*p*Y,u(at)*p*P(1-Y*(2*Z+Y))]}function ys(){return(0,S.c)(tu).scale(79.4183)}function io(rt,at){if(A(at)<c)return[rt,0];var gt=at/m,V=D(gt);if(A(rt)<c||A(A(at)-m)<c)return[0,p*h(V/2)];var X=(p/rt-rt/p)/2,Z=gt/(1+_(V));return[p*(u(rt)*P(X*X+1-Z*Z)-X),p*Z]}function jl(){return(0,S.c)(io).scale(79.4183)}function Zr(rt,at){if(!at)return[rt,0];var gt=A(at);if(!rt||gt===m)return[0,at];var V=gt/m,X=V*V,Z=(8*V-X*(X+2)-5)/(2*X*(V-1)),L=Z*Z,Y=V*Z,ne=X+L+2*Y,se=V+3*Z,pe=rt/m,ke=pe+1/pe,Re=u(A(rt)-m)*P(ke*ke-4),Be=Re*Re,Ze=(Re*(ne+L-1)+2*P(ne*(X+L*Be-1)+(1-X)*(X*(se*se+4*L)+12*Y*L+4*L*L)))/(4*ne+Be);return[u(rt)*m*Ze,u(at)*m*P(1+Re*A(Ze)-Ze*Ze)]}function ei(){return(0,S.c)(Zr).scale(127.16)}function is(rt,at,gt,V){var X=p/3;rt=i(rt,c),at=i(at,c),rt=n(rt,m),at=n(at,p-c),gt=i(gt,0),gt=n(gt,100-c);var Z=(V=i(V,c))/100,L=R((gt/100+1)*_(X))/X,Y=l(rt)/l(L*m),ne=at/p,se=P(Z*l(rt/2)/l(at/2));return function(pe,ke,Re,Be,Ze){function Ke(lt,vt){var bt=Re*l(Be*vt),St=P(1-bt*bt),Ft=P(2/(1+St*_(lt*=Ze)));return[pe*St*Ft*l(lt),ke*bt*Ft]}return Ke.invert=function(lt,vt){var bt=lt/pe,St=vt/ke,Ft=P(bt*bt+St*St),It=2*D(Ft/2);return[M(lt*h(It),pe*Ft)/Ze,Ft&&D(vt*l(It)/(ke*Re*Ft))/Be]},Ke}(se/P(ne*Y*L),1/(se*P(ne*Y*L)),Y,L,ne)}function Ks(){var rt=65*T,at=60*T,gt=20,V=200,X=(0,S.U)(is),Z=X(rt,at,gt,V);return Z.poleline=function(L){return arguments.length?X(rt=+L*T,at,gt,V):rt*C},Z.parallels=function(L){return arguments.length?X(rt,at=+L*T,gt,V):at*C},Z.inflation=function(L){return arguments.length?X(rt,at,gt=+L,V):gt},Z.ratio=function(L){return arguments.length?X(rt,at,gt,V=+L):V},Z.scale(163.775)}function sl(){return Ks().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}qi.invert=function(rt,at){var gt=at/1.70711,V=l(v*gt);return[rt/(.74482-.34588*V*V),2*a(gt)]},vs.invert=function(rt,at){if(A(at)<c)return[rt,0];if(A(rt)<c)return[0,m*l(2*a(at/p))];var gt=(rt/=p)*rt,V=(at/=p)*at,X=gt+V,Z=X*X,L=-A(at)*(1+X),Y=L-2*V+gt,ne=-2*L+1+2*V+Z,se=V/ne+(2*Y*Y*Y/(ne*ne*ne)-9*L*Y/(ne*ne))/27,pe=(L-Y*Y/(3*ne))/ne,ke=2*P(-pe/3),Re=R(3*se/(pe*ke))/3;return[p*(X-1+P(1+2*(gt-V)+Z))/(2*rt),u(at)*p*(-ke*_(Re+p/3)-Y/(3*ne))]},tu.invert=function(rt,at){if(!rt)return[0,m*l(2*a(at/p))];var gt=A(rt/p),V=(1-gt*gt-(at/=p)*at)/(2*gt),X=P(V*V+1);return[u(rt)*p*(X-V),u(at)*m*l(2*M(P((1-2*V*gt)*(V+X)-gt),P(X+V+gt)))]},io.invert=function(rt,at){if(!at)return[rt,0];var gt=at/p,V=(p*p*(1-gt*gt)-rt*rt)/(2*p*rt);return[rt?p*(u(rt)*P(V*V+1)-V):0,m*l(2*a(gt))]},Zr.invert=function(rt,at){var gt;if(!rt||!at)return[rt,at];at/=p;var V=u(rt)*rt/m,X=(V*V-1+4*at*at)/A(V),Z=X*X,L=2*at,Y=50;do{var ne=L*L,se=(8*L-ne*(ne+2)-5)/(2*ne*(L-1)),pe=(3*L-ne*L-10)/(2*ne*L),ke=se*se,Re=L*se,Be=L+se,Ze=Be*Be,Ke=L+3*se,lt=-2*Be*(4*Re*ke+(1-4*ne+3*ne*ne)*(1+pe)+ke*(14*ne-6-Z+(8*ne-8-2*Z)*pe)+Re*(12*ne-8+(10*ne-10-Z)*pe)),vt=P(Ze*(ne+ke*Z-1)+(1-ne)*(ne*(Ke*Ke+4*ke)+ke*(12*Re+4*ke)));L-=gt=(X*(Ze+ke-1)+2*vt-V*(4*Ze+Z))/(X*(2*se*pe+2*Be*(1+pe))+lt/vt-8*Be*(X*(-1+ke+Ze)+2*vt)*(1+pe)/(Z+4*Ze))}while(gt>c&&--Y>0);return[u(rt)*(P(X*X+4)+X)*p/4,m*L]};var zo=4*p+3*P(3),Js=2*P(2*p*P(3)/zo),Gi=Ee(Js*P(3)/p,Js,zo/6);function hc(){return(0,S.c)(Gi).scale(176.84)}function os(rt,at){return[rt*P(1-3*at*at/(p*p)),at]}function $i(){return(0,S.c)(os).scale(152.63)}function oo(rt,at){var gt=_(at),V=_(rt)*gt,X=1-V,Z=_(rt=M(l(rt)*gt,-l(at))),L=l(rt);return[L*(gt=P(1-V*V))-Z*X,-Z*gt-L*X]}function Ea(){return(0,S.c)(oo).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function El(rt,at){var gt=H(rt,at);return[(gt[0]+rt/m)/2,(gt[1]+at)/2]}function qu(){return(0,S.c)(El).scale(158.837)}os.invert=function(rt,at){return[rt/P(1-3*at*at/(p*p)),at]},oo.invert=function(rt,at){var gt=(rt*rt+at*at)/-2,V=P(-gt*(2+gt)),X=at*gt+rt*V,Z=rt*gt-at*V,L=P(Z*Z+X*X);return[M(V*X,L*(1+gt)),L?-D(V*Z/L):0]},El.invert=function(rt,at){var gt=rt,V=at,X=25;do{var Z,L=_(V),Y=l(V),ne=l(2*V),se=Y*Y,pe=L*L,ke=l(gt),Re=_(gt/2),Be=l(gt/2),Ze=Be*Be,Ke=1-pe*Re*Re,lt=Ke?R(L*Re)*P(Z=1/Ke):Z=0,vt=.5*(2*lt*L*Be+gt/m)-rt,bt=.5*(lt*Y+V)-at,St=.5*Z*(pe*Ze+lt*L*Re*se)+.5/m,Ft=Z*(ke*ne/4-lt*Y*Be),It=.125*Z*(ne*Be-lt*Y*pe*ke),Wt=.5*Z*(se*Re+lt*Ze*L)+.5,zt=Ft*It-Wt*St,sn=(bt*Ft-vt*Wt)/zt,en=(vt*It-bt*St)/zt;gt-=sn,V-=en}while((A(sn)>c||A(en)>c)&&--X>0);return[gt,V]}},88728:function(ie,z,e){"use strict";function S(){return new A}function A(){this.reset()}e.d(z,{c:function(){return S}}),A.prototype={constructor:A,reset:function(){this.s=this.t=0},add:function(_){M(a,_,this.t),M(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new A;function M(_,d,s){var t=_.s=d+s,i=t-d;_.t=d-(t-i)+(s-i)}},95384:function(ie,z,e){"use strict";e.d(z,{cp:function(){return b},mQ:function(){return n},oB:function(){return o}});var S,A,a,M,_,d=e(88728),s=e(64528),t=e(70932),i=e(16016),n=(0,d.c)(),r=(0,d.c)(),o={point:t.c,lineStart:t.c,lineEnd:t.c,polygonStart:function(){n.reset(),o.lineStart=u,o.lineEnd=l},polygonEnd:function(){var p=+n;r.add(p<0?s.kD+p:p),this.lineStart=this.lineEnd=this.point=t.c},sphere:function(){r.add(s.kD)}};function u(){o.point=h}function l(){c(S,A)}function h(p,m){o.point=c,S=p,A=m,a=p*=s.qw,M=(0,s.W8)(m=(m*=s.qw)/2+s.wL),_=(0,s.g$)(m)}function c(p,m){m=(m*=s.qw)/2+s.wL;var v=(p*=s.qw)-a,x=v>=0?1:-1,y=x*v,w=(0,s.W8)(m),f=(0,s.g$)(m),C=_*f,T=M*w+C*(0,s.W8)(y),D=C*x*(0,s.g$)(y);n.add((0,s.WE)(D,T)),a=p,M=w,_=f}function b(p){return r.reset(),(0,i.c)(p,o),2*r}},13696:function(ie,z,e){"use strict";e.d(z,{c:function(){return R}});var S,A,a,M,_,d,s,t,i,n,r=e(88728),o=e(95384),u=e(84220),l=e(64528),h=e(16016),c=(0,r.c)(),b={point:p,lineStart:v,lineEnd:x,polygonStart:function(){b.point=y,b.lineStart=w,b.lineEnd=f,c.reset(),o.oB.polygonStart()},polygonEnd:function(){o.oB.polygonEnd(),b.point=p,b.lineStart=v,b.lineEnd=x,o.mQ<0?(S=-(a=180),A=-(M=90)):c>l.Gg?M=90:c<-l.Gg&&(A=-90),n[0]=S,n[1]=a},sphere:function(){S=-(a=180),A=-(M=90)}};function p(P,O){i.push(n=[S=P,a=P]),O<A&&(A=O),O>M&&(M=O)}function m(P,O){var B=(0,u.ux)([P*l.qw,O*l.qw]);if(t){var q=(0,u.CW)(t,B),H=(0,u.CW)([q[1],-q[0],0],q);(0,u.cJ)(H),H=(0,u.G)(H);var $,j=P-_,W=j>0?1:-1,G=H[0]*l.oh*W,ae=(0,l.a2)(j)>180;ae^(W*_<G&&G<W*P)?($=H[1]*l.oh)>M&&(M=$):ae^(W*_<(G=(G+360)%360-180)&&G<W*P)?($=-H[1]*l.oh)<A&&(A=$):(O<A&&(A=O),O>M&&(M=O)),ae?P<_?C(S,P)>C(S,a)&&(a=P):C(P,a)>C(S,a)&&(S=P):a>=S?(P<S&&(S=P),P>a&&(a=P)):P>_?C(S,P)>C(S,a)&&(a=P):C(P,a)>C(S,a)&&(S=P)}else i.push(n=[S=P,a=P]);O<A&&(A=O),O>M&&(M=O),t=B,_=P}function v(){b.point=m}function x(){n[0]=S,n[1]=a,b.point=p,t=null}function y(P,O){if(t){var B=P-_;c.add((0,l.a2)(B)>180?B+(B>0?360:-360):B)}else d=P,s=O;o.oB.point(P,O),m(P,O)}function w(){o.oB.lineStart()}function f(){y(d,s),o.oB.lineEnd(),(0,l.a2)(c)>l.Gg&&(S=-(a=180)),n[0]=S,n[1]=a,t=null}function C(P,O){return(O-=P)<0?O+360:O}function T(P,O){return P[0]-O[0]}function D(P,O){return P[0]<=P[1]?P[0]<=O&&O<=P[1]:O<P[0]||P[1]<O}function R(P){var O,B,q,N,H,$,j;if(M=a=-(S=A=1/0),i=[],(0,h.c)(P,b),B=i.length){for(i.sort(T),O=1,H=[q=i[0]];O<B;++O)D(q,(N=i[O])[0])||D(q,N[1])?(C(q[0],N[1])>C(q[0],q[1])&&(q[1]=N[1]),C(N[0],q[1])>C(q[0],q[1])&&(q[0]=N[0])):H.push(q=N);for($=-1/0,O=0,q=H[B=H.length-1];O<=B;q=N,++O)(j=C(q[1],(N=H[O])[0]))>$&&($=j,S=N[0],a=q[1])}return i=n=null,S===1/0||A===1/0?[[NaN,NaN],[NaN,NaN]]:[[S,A],[a,M]]}},84220:function(ie,z,e){"use strict";e.d(z,{CW:function(){return _},Ez:function(){return M},G:function(){return A},cJ:function(){return t},mg:function(){return d},ux:function(){return a},wx:function(){return s}});var S=e(64528);function A(i){return[(0,S.WE)(i[1],i[0]),(0,S.qR)(i[2])]}function a(i){var n=i[0],r=i[1],o=(0,S.W8)(r);return[o*(0,S.W8)(n),o*(0,S.g$)(n),(0,S.g$)(r)]}function M(i,n){return i[0]*n[0]+i[1]*n[1]+i[2]*n[2]}function _(i,n){return[i[1]*n[2]-i[2]*n[1],i[2]*n[0]-i[0]*n[2],i[0]*n[1]-i[1]*n[0]]}function d(i,n){i[0]+=n[0],i[1]+=n[1],i[2]+=n[2]}function s(i,n){return[i[0]*n,i[1]*n,i[2]*n]}function t(i){var n=(0,S._I)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=n,i[1]/=n,i[2]/=n}},24052:function(ie,z,e){"use strict";e.d(z,{c:function(){return B}});var S,A,a,M,_,d,s,t,i,n,r,o,u,l,h,c,b=e(64528),p=e(70932),m=e(16016),v={sphere:p.c,point:x,lineStart:w,lineEnd:T,polygonStart:function(){v.lineStart=D,v.lineEnd=R},polygonEnd:function(){v.lineStart=w,v.lineEnd=T}};function x(q,N){q*=b.qw;var H=(0,b.W8)(N*=b.qw);y(H*(0,b.W8)(q),H*(0,b.g$)(q),(0,b.g$)(N))}function y(q,N,H){++S,a+=(q-a)/S,M+=(N-M)/S,_+=(H-_)/S}function w(){v.point=f}function f(q,N){q*=b.qw;var H=(0,b.W8)(N*=b.qw);l=H*(0,b.W8)(q),h=H*(0,b.g$)(q),c=(0,b.g$)(N),v.point=C,y(l,h,c)}function C(q,N){q*=b.qw;var H=(0,b.W8)(N*=b.qw),$=H*(0,b.W8)(q),j=H*(0,b.g$)(q),W=(0,b.g$)(N),G=(0,b.WE)((0,b._I)((G=h*W-c*j)*G+(G=c*$-l*W)*G+(G=l*j-h*$)*G),l*$+h*j+c*W);A+=G,d+=G*(l+(l=$)),s+=G*(h+(h=j)),t+=G*(c+(c=W)),y(l,h,c)}function T(){v.point=x}function D(){v.point=P}function R(){O(o,u),v.point=x}function P(q,N){o=q,u=N,q*=b.qw,N*=b.qw,v.point=O;var H=(0,b.W8)(N);l=H*(0,b.W8)(q),h=H*(0,b.g$)(q),c=(0,b.g$)(N),y(l,h,c)}function O(q,N){q*=b.qw;var H=(0,b.W8)(N*=b.qw),$=H*(0,b.W8)(q),j=H*(0,b.g$)(q),W=(0,b.g$)(N),G=h*W-c*j,ae=c*$-l*W,te=l*j-h*$,Q=(0,b._I)(G*G+ae*ae+te*te),ee=(0,b.qR)(Q),re=Q&&-ee/Q;i+=re*G,n+=re*ae,r+=re*te,A+=ee,d+=ee*(l+(l=$)),s+=ee*(h+(h=j)),t+=ee*(c+(c=W)),y(l,h,c)}function B(q){S=A=a=M=_=d=s=t=i=n=r=0,(0,m.c)(q,v);var N=i,H=n,$=r,j=N*N+H*H+$*$;return j<b.a8&&(N=d,H=s,$=t,A<b.Gg&&(N=a,H=M,$=_),(j=N*N+H*H+$*$)<b.a8)?[NaN,NaN]:[(0,b.WE)(H,N)*b.oh,(0,b.qR)($/(0,b._I)(j))*b.oh]}},61780:function(ie,z,e){"use strict";e.d(z,{Q:function(){return _},c:function(){return s}});var S=e(84220);function A(t){return function(){return t}}var a=e(64528),M=e(92992);function _(t,i,n,r,o,u){if(n){var l=(0,a.W8)(i),h=(0,a.g$)(i),c=r*n;null==o?(o=i+r*a.kD,u=i-c/2):(o=d(l,o),u=d(l,u),(r>0?o<u:o>u)&&(o+=r*a.kD));for(var b,p=o;r>0?p>u:p<u;p-=c)b=(0,S.G)([l,-h*(0,a.W8)(p),-h*(0,a.g$)(p)]),t.point(b[0],b[1])}}function d(t,i){(i=(0,S.ux)(i))[0]-=t,(0,S.cJ)(i);var n=(0,a.mE)(-i[1]);return((-i[2]<0?-n:n)+a.kD-a.Gg)%a.kD}function s(){var t,i,n=A([0,0]),r=A(90),o=A(6),u={point:function(h,c){t.push(h=i(h,c)),h[0]*=a.oh,h[1]*=a.oh}};function l(){var h=n.apply(this,arguments),c=r.apply(this,arguments)*a.qw,b=o.apply(this,arguments)*a.qw;return t=[],i=(0,M.O)(-h[0]*a.qw,-h[1]*a.qw,0).invert,_(u,c,b,1),h={type:"Polygon",coordinates:[t]},t=i=null,h}return l.center=function(h){return arguments.length?(n="function"==typeof h?h:A([+h[0],+h[1]]),l):n},l.radius=function(h){return arguments.length?(r="function"==typeof h?h:A(+h),l):r},l.precision=function(h){return arguments.length?(o="function"==typeof h?h:A(+h),l):o},l}},78284:function(ie,z,e){"use strict";var S=e(14229),A=e(64528);z.c=(0,S.c)(function(){return!0},function(a){var M,_=NaN,d=NaN,s=NaN;return{lineStart:function(){a.lineStart(),M=1},point:function(t,i){var o,u,l,h,c,b,p,n=t>0?A.pi:-A.pi,r=(0,A.a2)(t-_);(0,A.a2)(r-A.pi)<A.Gg?(a.point(_,d=(d+i)/2>0?A.or:-A.or),a.point(s,d),a.lineEnd(),a.lineStart(),a.point(n,d),a.point(t,d),M=0):s!==n&&r>=A.pi&&((0,A.a2)(_-s)<A.Gg&&(_-=s*A.Gg),(0,A.a2)(t-n)<A.Gg&&(t-=n*A.Gg),u=d,h=i,p=(0,A.g$)((o=_)-(l=t)),d=(0,A.a2)(p)>A.Gg?(0,A.MQ)(((0,A.g$)(u)*(b=(0,A.W8)(h))*(0,A.g$)(l)-(0,A.g$)(h)*(c=(0,A.W8)(u))*(0,A.g$)(o))/(c*b*p)):(u+h)/2,a.point(s,d),a.lineEnd(),a.lineStart(),a.point(n,d),M=0),a.point(_=t,d=i),s=n},lineEnd:function(){a.lineEnd(),_=d=NaN},clean:function(){return 2-M}}},function(a,M,_,d){var s;if(null==a)d.point(-A.pi,s=_*A.or),d.point(0,s),d.point(A.pi,s),d.point(A.pi,0),d.point(A.pi,-s),d.point(0,-s),d.point(-A.pi,-s),d.point(-A.pi,0),d.point(-A.pi,s);else if((0,A.a2)(a[0]-M[0])>A.Gg){var t=a[0]<M[0]?A.pi:-A.pi;d.point(-t,s=_*t/2),d.point(0,s),d.point(t,s)}else d.point(M[0],M[1])},[-A.pi,-A.or])},97208:function(ie,z,e){"use strict";e.d(z,{c:function(){return A}});var S=e(70932);function A(){var a,M=[];return{point:function(_,d,s){a.push([_,d,s])},lineStart:function(){M.push(a=[])},lineEnd:S.c,rejoin:function(){M.length>1&&M.push(M.pop().concat(M.shift()))},result:function(){var _=M;return M=[],a=null,_}}}},2728:function(ie,z,e){"use strict";e.d(z,{c:function(){return d}});var S=e(84220),A=e(61780),a=e(64528),M=e(41860),_=e(14229);function d(s){var t=(0,a.W8)(s),i=6*a.qw,n=t>0,r=(0,a.a2)(t)>a.Gg;function o(h,c){return(0,a.W8)(h)*(0,a.W8)(c)>t}function u(h,c,b){var p=(0,S.ux)(h),m=(0,S.ux)(c),v=[1,0,0],x=(0,S.CW)(p,m),y=(0,S.Ez)(x,x),w=x[0],f=y-w*w;if(!f)return!b&&h;var C=t*y/f,T=-t*w/f,D=(0,S.CW)(v,x),R=(0,S.wx)(v,C),P=(0,S.wx)(x,T);(0,S.mg)(R,P);var O=D,B=(0,S.Ez)(R,O),q=(0,S.Ez)(O,O),N=B*B-q*((0,S.Ez)(R,R)-1);if(!(N<0)){var H=(0,a._I)(N),$=(0,S.wx)(O,(-B-H)/q);if((0,S.mg)($,R),$=(0,S.G)($),!b)return $;var j,W=h[0],G=c[0],ae=h[1],te=c[1];G<W&&(j=W,W=G,G=j);var Q=G-W,ee=(0,a.a2)(Q-a.pi)<a.Gg;if(!ee&&te<ae&&(j=ae,ae=te,te=j),ee||Q<a.Gg?ee?ae+te>0^$[1]<((0,a.a2)($[0]-W)<a.Gg?ae:te):ae<=$[1]&&$[1]<=te:Q>a.pi^(W<=$[0]&&$[0]<=G)){var re=(0,S.wx)(O,(-B+H)/q);return(0,S.mg)(re,R),[$,(0,S.G)(re)]}}}function l(h,c){var b=n?s:a.pi-s,p=0;return h<-b?p|=1:h>b&&(p|=2),c<-b?p|=4:c>b&&(p|=8),p}return(0,_.c)(o,function(h){var c,b,p,m,v;return{lineStart:function(){m=p=!1,v=1},point:function(x,y){var w,f=[x,y],C=o(x,y),T=n?C?0:l(x,y):C?l(x+(x<0?a.pi:-a.pi),y):0;if(!c&&(m=p=C)&&h.lineStart(),C!==p&&(!(w=u(c,f))||(0,M.c)(c,w)||(0,M.c)(f,w))&&(f[2]=1),C!==p)v=0,C?(h.lineStart(),w=u(f,c),h.point(w[0],w[1])):(w=u(c,f),h.point(w[0],w[1],2),h.lineEnd()),c=w;else if(r&&c&&n^C){var D;T&b||!(D=u(f,c,!0))||(v=0,n?(h.lineStart(),h.point(D[0][0],D[0][1]),h.point(D[1][0],D[1][1]),h.lineEnd()):(h.point(D[1][0],D[1][1]),h.lineEnd(),h.lineStart(),h.point(D[0][0],D[0][1],3)))}!C||c&&(0,M.c)(c,f)||h.point(f[0],f[1]),c=f,p=C,b=T},lineEnd:function(){p&&h.lineEnd(),c=null},clean:function(){return v|(m&&p)<<1}}},function(h,c,b,p){(0,A.Q)(p,s,i,b,h,c)},n?[0,-s]:[-a.pi,s-a.pi])}},14229:function(ie,z,e){"use strict";e.d(z,{c:function(){return d}});var S=e(97208),A=e(32232),a=e(64528),M=e(58196),_=e(84706);function d(i,n,r,o){return function(u){var l,h,c,b=n(u),p=(0,S.c)(),m=n(p),v=!1,x={point:y,lineStart:f,lineEnd:C,polygonStart:function(){x.point=T,x.lineStart=D,x.lineEnd=R,h=[],l=[]},polygonEnd:function(){x.point=y,x.lineStart=f,x.lineEnd=C,h=(0,_.Uf)(h);var P=(0,M.c)(l,o);h.length?(v||(u.polygonStart(),v=!0),(0,A.c)(h,t,P,r,u)):P&&(v||(u.polygonStart(),v=!0),u.lineStart(),r(null,null,1,u),u.lineEnd()),v&&(u.polygonEnd(),v=!1),h=l=null},sphere:function(){u.polygonStart(),u.lineStart(),r(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function y(P,O){i(P,O)&&u.point(P,O)}function w(P,O){b.point(P,O)}function f(){x.point=w,b.lineStart()}function C(){x.point=y,b.lineEnd()}function T(P,O){c.push([P,O]),m.point(P,O)}function D(){m.lineStart(),c=[]}function R(){T(c[0][0],c[0][1]),m.lineEnd();var P,O,B,q,N=m.clean(),H=p.result(),$=H.length;if(c.pop(),l.push(c),c=null,$)if(1&N){if((O=(B=H[0]).length-1)>0){for(v||(u.polygonStart(),v=!0),u.lineStart(),P=0;P<O;++P)u.point((q=B[P])[0],q[1]);u.lineEnd()}}else $>1&&2&N&&H.push(H.pop().concat(H.shift())),h.push(H.filter(s))}return x}}function s(i){return i.length>1}function t(i,n){return((i=i.x)[0]<0?i[1]-a.or-a.Gg:a.or-i[1])-((n=n.x)[0]<0?n[1]-a.or-a.Gg:a.or-n[1])}},21676:function(ie,z,e){"use strict";e.d(z,{c:function(){return s}});var S=e(64528),A=e(97208),a=e(32232),M=e(84706),_=1e9,d=-_;function s(t,i,n,r){function o(b,p){return t<=b&&b<=n&&i<=p&&p<=r}function u(b,p,m,v){var x=0,y=0;if(null==b||(x=l(b,m))!==(y=l(p,m))||c(b,p)<0^m>0)do{v.point(0===x||3===x?t:n,x>1?r:i)}while((x=(x+m+4)%4)!==y);else v.point(p[0],p[1])}function l(b,p){return(0,S.a2)(b[0]-t)<S.Gg?p>0?0:3:(0,S.a2)(b[0]-n)<S.Gg?p>0?2:1:(0,S.a2)(b[1]-i)<S.Gg?p>0?1:0:p>0?3:2}function h(b,p){return c(b.x,p.x)}function c(b,p){var m=l(b,1),v=l(p,1);return m!==v?m-v:0===m?p[1]-b[1]:1===m?b[0]-p[0]:2===m?b[1]-p[1]:p[0]-b[0]}return function(b){var p,m,v,x,y,w,f,C,T,D,R,P=b,O=(0,A.c)(),B={point:q,lineStart:function(){B.point=N,m&&m.push(v=[]),D=!0,T=!1,f=C=NaN},lineEnd:function(){p&&(N(x,y),w&&T&&O.rejoin(),p.push(O.result())),B.point=q,T&&P.lineEnd()},polygonStart:function(){P=O,p=[],m=[],R=!0},polygonEnd:function(){var H=function(){for(var W=0,G=0,ae=m.length;G<ae;++G)for(var te,Q,ee=m[G],re=1,J=ee.length,le=ee[0],fe=le[0],ce=le[1];re<J;++re)te=fe,Q=ce,fe=(le=ee[re])[0],ce=le[1],Q<=r?ce>r&&(fe-te)*(r-Q)>(ce-Q)*(t-te)&&++W:ce<=r&&(fe-te)*(r-Q)<(ce-Q)*(t-te)&&--W;return W}(),$=R&&H,j=(p=(0,M.Uf)(p)).length;($||j)&&(b.polygonStart(),$&&(b.lineStart(),u(null,null,1,b),b.lineEnd()),j&&(0,a.c)(p,h,H,u,b),b.polygonEnd()),P=b,p=m=v=null}};function q(H,$){o(H,$)&&P.point(H,$)}function N(H,$){var j=o(H,$);if(m&&v.push([H,$]),D)x=H,y=$,w=j,D=!1,j&&(P.lineStart(),P.point(H,$));else if(j&&T)P.point(H,$);else{var W=[f=Math.max(d,Math.min(_,f)),C=Math.max(d,Math.min(_,C))],G=[H=Math.max(d,Math.min(_,H)),$=Math.max(d,Math.min(_,$))];!function(ae,te,Q,ee,re,J){var le,fe=ae[0],ce=ae[1],ge=0,Te=1,Me=te[0]-fe,we=te[1]-ce;if(le=Q-fe,Me||!(le>0)){if(le/=Me,Me<0){if(le<ge)return;le<Te&&(Te=le)}else if(Me>0){if(le>Te)return;le>ge&&(ge=le)}if(le=re-fe,Me||!(le<0)){if(le/=Me,Me<0){if(le>Te)return;le>ge&&(ge=le)}else if(Me>0){if(le<ge)return;le<Te&&(Te=le)}if(le=ee-ce,we||!(le>0)){if(le/=we,we<0){if(le<ge)return;le<Te&&(Te=le)}else if(we>0){if(le>Te)return;le>ge&&(ge=le)}if(le=J-ce,we||!(le<0)){if(le/=we,we<0){if(le>Te)return;le>ge&&(ge=le)}else if(we>0){if(le<ge)return;le<Te&&(Te=le)}return ge>0&&(ae[0]=fe+ge*Me,ae[1]=ce+ge*we),Te<1&&(te[0]=fe+Te*Me,te[1]=ce+Te*we),!0}}}}}(W,G,t,i,n,r)?j&&(P.lineStart(),P.point(H,$),R=!1):(T||(P.lineStart(),P.point(W[0],W[1])),P.point(G[0],G[1]),j||P.lineEnd(),R=!1)}f=H,C=$,T=j}return B}}},32232:function(ie,z,e){"use strict";e.d(z,{c:function(){return M}});var S=e(41860),A=e(64528);function a(d,s,t,i){this.x=d,this.z=s,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function M(d,s,t,i,n){var r,o,u=[],l=[];if(d.forEach(function(v){if(!((x=v.length-1)<=0)){var x,y,w=v[0],f=v[x];if((0,S.c)(w,f)){if(!w[2]&&!f[2]){for(n.lineStart(),r=0;r<x;++r)n.point((w=v[r])[0],w[1]);return void n.lineEnd()}f[0]+=2*A.Gg}u.push(y=new a(w,v,null,!0)),l.push(y.o=new a(w,null,y,!1)),u.push(y=new a(f,v,null,!1)),l.push(y.o=new a(f,null,y,!0))}}),u.length){for(l.sort(s),_(u),_(l),r=0,o=l.length;r<o;++r)l[r].e=t=!t;for(var h,c,b=u[0];;){for(var p=b,m=!0;p.v;)if((p=p.n)===b)return;h=p.z,n.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(r=0,o=h.length;r<o;++r)n.point((c=h[r])[0],c[1]);else i(p.x,p.n.x,1,n);p=p.n}else{if(m)for(r=(h=p.p.z).length-1;r>=0;--r)n.point((c=h[r])[0],c[1]);else i(p.x,p.p.x,-1,n);p=p.p}h=(p=p.o).z,m=!m}while(!p.v);n.lineEnd()}}}function _(d){if(s=d.length){for(var s,t,i=0,n=d[0];++i<s;)n.n=t=d[i],t.p=n,n=t;n.n=t=d[0],t.p=n}}},68120:function(ie,z,e){"use strict";function S(A,a){function M(_,d){return _=A(_,d),a(_[0],_[1])}return A.invert&&a.invert&&(M.invert=function(_,d){return(_=a.invert(_,d))&&A.invert(_[0],_[1])}),M}e.d(z,{c:function(){return S}})},7376:function(ie,z,e){"use strict";function S(A){return A}e.d(z,{c:function(){return S}})},83356:function(ie,z,e){"use strict";e.r(z),e.d(z,{geoAlbers:function(){return At},geoAlbersUsa:function(){return Ot},geoArea:function(){return S.cp},geoAzimuthalEqualArea:function(){return Ct.c},geoAzimuthalEqualAreaRaw:function(){return Ct.y},geoAzimuthalEquidistant:function(){return Rt.c},geoAzimuthalEquidistantRaw:function(){return Rt.O},geoBounds:function(){return A.c},geoCentroid:function(){return a.c},geoCircle:function(){return M.c},geoClipAntimeridian:function(){return _.c},geoClipCircle:function(){return d.c},geoClipExtent:function(){return t},geoClipRectangle:function(){return s.c},geoConicConformal:function(){return tn},geoConicConformalRaw:function(){return $t},geoConicEqualArea:function(){return wt},geoConicEqualAreaRaw:function(){return xt},geoConicEquidistant:function(){return zn},geoConicEquidistantRaw:function(){return Gn},geoContains:function(){return H},geoDistance:function(){return C},geoEqualEarth:function(){return Pn},geoEqualEarthRaw:function(){return Dn},geoEquirectangular:function(){return dn.c},geoEquirectangularRaw:function(){return dn.u},geoGnomonic:function(){return Yn.c},geoGnomonicRaw:function(){return Yn.Y},geoGraticule:function(){return G},geoGraticule10:function(){return ae},geoIdentity:function(){return Fn},geoInterpolate:function(){return J.c},geoLength:function(){return y},geoMercator:function(){return Gt},geoMercatorRaw:function(){return jt},geoNaturalEarth1:function(){return Jn.c},geoNaturalEarth1Raw:function(){return Jn.g},geoOrthographic:function(){return $n.c},geoOrthographicRaw:function(){return $n.t},geoPath:function(){return qe},geoProjection:function(){return ft.c},geoProjectionMutator:function(){return ft.U},geoRotation:function(){return Bt.c},geoStereographic:function(){return lr},geoStereographicRaw:function(){return or},geoStream:function(){return c.c},geoTransform:function(){return jn.c},geoTransverseMercator:function(){return Ar},geoTransverseMercatorRaw:function(){return cr}});var S=e(95384),A=e(13696),a=e(24052),M=e(61780),_=e(78284),d=e(2728),s=e(21676);function t(){var fn,an,Vn,En=0,Wn=0,ar=960,In=500;return Vn={stream:function(fr){return fn&&an===fr?fn:fn=(0,s.c)(En,Wn,ar,In)(an=fr)},extent:function(fr){return arguments.length?(En=+fr[0][0],Wn=+fr[0][1],ar=+fr[1][0],In=+fr[1][1],fn=an=null,Vn):[[En,Wn],[ar,In]]}}}var i,n,r,o=e(58196),u=e(88728),l=e(64528),h=e(70932),c=e(16016),b=(0,u.c)(),p={sphere:h.c,point:h.c,lineStart:function(){p.point=v,p.lineEnd=m},lineEnd:h.c,polygonStart:h.c,polygonEnd:h.c};function m(){p.point=p.lineEnd=h.c}function v(fn,an){i=fn*=l.qw,n=(0,l.g$)(an*=l.qw),r=(0,l.W8)(an),p.point=x}function x(fn,an){fn*=l.qw;var Vn=(0,l.g$)(an*=l.qw),En=(0,l.W8)(an),Wn=(0,l.a2)(fn-i),ar=(0,l.W8)(Wn),In=En*(0,l.g$)(Wn),fr=r*Vn-n*En*ar,ur=n*Vn+r*En*ar;b.add((0,l.WE)((0,l._I)(In*In+fr*fr),ur)),i=fn,n=Vn,r=En}function y(fn){return b.reset(),(0,c.c)(fn,p),+b}var w=[null,null],f={type:"LineString",coordinates:w};function C(fn,an){return w[0]=fn,w[1]=an,y(f)}var T={Feature:function(fn,an){return R(fn.geometry,an)},FeatureCollection:function(fn,an){for(var Vn=fn.features,En=-1,Wn=Vn.length;++En<Wn;)if(R(Vn[En].geometry,an))return!0;return!1}},D={Sphere:function(){return!0},Point:function(fn,an){return P(fn.coordinates,an)},MultiPoint:function(fn,an){for(var Vn=fn.coordinates,En=-1,Wn=Vn.length;++En<Wn;)if(P(Vn[En],an))return!0;return!1},LineString:function(fn,an){return O(fn.coordinates,an)},MultiLineString:function(fn,an){for(var Vn=fn.coordinates,En=-1,Wn=Vn.length;++En<Wn;)if(O(Vn[En],an))return!0;return!1},Polygon:function(fn,an){return B(fn.coordinates,an)},MultiPolygon:function(fn,an){for(var Vn=fn.coordinates,En=-1,Wn=Vn.length;++En<Wn;)if(B(Vn[En],an))return!0;return!1},GeometryCollection:function(fn,an){for(var Vn=fn.geometries,En=-1,Wn=Vn.length;++En<Wn;)if(R(Vn[En],an))return!0;return!1}};function R(fn,an){return!(!fn||!D.hasOwnProperty(fn.type))&&D[fn.type](fn,an)}function P(fn,an){return 0===C(fn,an)}function O(fn,an){for(var Vn,En,Wn,ar=0,In=fn.length;ar<In;ar++){if(0===(En=C(fn[ar],an))||ar>0&&(Wn=C(fn[ar],fn[ar-1]))>0&&Vn<=Wn&&En<=Wn&&(Vn+En-Wn)*(1-Math.pow((Vn-En)/Wn,2))<l.a8*Wn)return!0;Vn=En}return!1}function B(fn,an){return!!(0,o.c)(fn.map(q),N(an))}function q(fn){return(fn=fn.map(N)).pop(),fn}function N(fn){return[fn[0]*l.qw,fn[1]*l.qw]}function H(fn,an){return(fn&&T.hasOwnProperty(fn.type)?T[fn.type]:R)(fn,an)}var $=e(84706);function j(fn,an,Vn){var En=(0,$.ik)(fn,an-l.Gg,Vn).concat(an);return function(Wn){return En.map(function(ar){return[Wn,ar]})}}function W(fn,an,Vn){var En=(0,$.ik)(fn,an-l.Gg,Vn).concat(an);return function(Wn){return En.map(function(ar){return[ar,Wn]})}}function G(){var fn,an,Vn,En,Wn,ar,In,fr,ur,Kt,An,Nt,Yt=10,cn=Yt,xn=90,wn=360,Cn=2.5;function mn(){return{type:"MultiLineString",coordinates:nn()}}function nn(){return(0,$.ik)((0,l.Km)(En/xn)*xn,Vn,xn).map(An).concat((0,$.ik)((0,l.Km)(fr/wn)*wn,In,wn).map(Nt)).concat((0,$.ik)((0,l.Km)(an/Yt)*Yt,fn,Yt).filter(function(rn){return(0,l.a2)(rn%xn)>l.Gg}).map(ur)).concat((0,$.ik)((0,l.Km)(ar/cn)*cn,Wn,cn).filter(function(rn){return(0,l.a2)(rn%wn)>l.Gg}).map(Kt))}return mn.lines=function(){return nn().map(function(rn){return{type:"LineString",coordinates:rn}})},mn.outline=function(){return{type:"Polygon",coordinates:[An(En).concat(Nt(In).slice(1),An(Vn).reverse().slice(1),Nt(fr).reverse().slice(1))]}},mn.extent=function(rn){return arguments.length?mn.extentMajor(rn).extentMinor(rn):mn.extentMinor()},mn.extentMajor=function(rn){return arguments.length?(fr=+rn[0][1],In=+rn[1][1],(En=+rn[0][0])>(Vn=+rn[1][0])&&(rn=En,En=Vn,Vn=rn),fr>In&&(rn=fr,fr=In,In=rn),mn.precision(Cn)):[[En,fr],[Vn,In]]},mn.extentMinor=function(rn){return arguments.length?(ar=+rn[0][1],Wn=+rn[1][1],(an=+rn[0][0])>(fn=+rn[1][0])&&(rn=an,an=fn,fn=rn),ar>Wn&&(rn=ar,ar=Wn,Wn=rn),mn.precision(Cn)):[[an,ar],[fn,Wn]]},mn.step=function(rn){return arguments.length?mn.stepMajor(rn).stepMinor(rn):mn.stepMinor()},mn.stepMajor=function(rn){return arguments.length?(xn=+rn[0],wn=+rn[1],mn):[xn,wn]},mn.stepMinor=function(rn){return arguments.length?(Yt=+rn[0],cn=+rn[1],mn):[Yt,cn]},mn.precision=function(rn){return arguments.length?(Cn=+rn,ur=j(ar,Wn,90),Kt=W(an,fn,Cn),An=j(fr,In,90),Nt=W(En,Vn,Cn),mn):Cn},mn.extentMajor([[-180,-90+l.Gg],[180,90-l.Gg]]).extentMinor([[-180,-80-l.Gg],[180,80+l.Gg]])}function ae(){return G()()}var te,Q,ee,re,J=e(27284),le=e(7376),fe=(0,u.c)(),ce=(0,u.c)(),ge={point:h.c,lineStart:h.c,lineEnd:h.c,polygonStart:function(){ge.lineStart=Te,ge.lineEnd=xe},polygonEnd:function(){ge.lineStart=ge.lineEnd=ge.point=h.c,fe.add((0,l.a2)(ce)),ce.reset()},result:function(){var fn=fe/2;return fe.reset(),fn}};function Te(){ge.point=Me}function Me(fn,an){ge.point=we,te=ee=fn,Q=re=an}function we(fn,an){ce.add(re*fn-ee*an),ee=fn,re=an}function xe(){we(te,Q)}var be,ye,Se,Ee,he=ge,ue=e(73784),me=0,Pe=0,Ce=0,Ie=0,Oe=0,ze=0,je=0,ve=0,Ae=0,Le={point:Ve,lineStart:Ne,lineEnd:nt,polygonStart:function(){Le.lineStart=dt,Le.lineEnd=ht},polygonEnd:function(){Le.point=Ve,Le.lineStart=Ne,Le.lineEnd=nt},result:function(){var fn=Ae?[je/Ae,ve/Ae]:ze?[Ie/ze,Oe/ze]:Ce?[me/Ce,Pe/Ce]:[NaN,NaN];return me=Pe=Ce=Ie=Oe=ze=je=ve=Ae=0,fn}};function Ve(fn,an){me+=fn,Pe+=an,++Ce}function Ne(){Le.point=We}function We(fn,an){Le.point=Xe,Ve(Se=fn,Ee=an)}function Xe(fn,an){var Vn=fn-Se,En=an-Ee,Wn=(0,l._I)(Vn*Vn+En*En);Ie+=Wn*(Se+fn)/2,Oe+=Wn*(Ee+an)/2,ze+=Wn,Ve(Se=fn,Ee=an)}function nt(){Le.point=Ve}function dt(){Le.point=Mt}function ht(){kt(be,ye)}function Mt(fn,an){Le.point=kt,Ve(be=Se=fn,ye=Ee=an)}function kt(fn,an){var Vn=fn-Se,En=an-Ee,Wn=(0,l._I)(Vn*Vn+En*En);Ie+=Wn*(Se+fn)/2,Oe+=Wn*(Ee+an)/2,ze+=Wn,je+=(Wn=Ee*fn-Se*an)*(Se+fn),ve+=Wn*(Ee+an),Ae+=3*Wn,Ve(Se=fn,Ee=an)}var _t=Le;function ut(fn){this._context=fn}ut.prototype={_radius:4.5,pointRadius:function(fn){return this._radius=fn,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(fn,an){switch(this._point){case 0:this._context.moveTo(fn,an),this._point=1;break;case 1:this._context.lineTo(fn,an);break;default:this._context.moveTo(fn+this._radius,an),this._context.arc(fn,an,this._radius,0,l.kD)}},result:h.c};var st,Lt,Ut,Ht,Pt,Je=(0,u.c)(),tt={point:h.c,lineStart:function(){tt.point=Ge},lineEnd:function(){st&&Qe(Lt,Ut),tt.point=h.c},polygonStart:function(){st=!0},polygonEnd:function(){st=null},result:function(){var fn=+Je;return Je.reset(),fn}};function Ge(fn,an){tt.point=Qe,Lt=Ht=fn,Ut=Pt=an}function Qe(fn,an){Je.add((0,l._I)((Ht-=fn)*Ht+(Pt-=an)*Pt)),Ht=fn,Pt=an}var pt=tt;function ct(){this._string=[]}function He(fn){return"m0,"+fn+"a"+fn+","+fn+" 0 1,1 0,"+-2*fn+"a"+fn+","+fn+" 0 1,1 0,"+2*fn+"z"}function qe(fn,an){var Vn,En,Wn=4.5;function ar(In){return In&&("function"==typeof Wn&&En.pointRadius(+Wn.apply(this,arguments)),(0,c.c)(In,Vn(En))),En.result()}return ar.area=function(In){return(0,c.c)(In,Vn(he)),he.result()},ar.measure=function(In){return(0,c.c)(In,Vn(pt)),pt.result()},ar.bounds=function(In){return(0,c.c)(In,Vn(ue.c)),ue.c.result()},ar.centroid=function(In){return(0,c.c)(In,Vn(_t)),_t.result()},ar.projection=function(In){return arguments.length?(Vn=null==In?(fn=null,le.c):(fn=In).stream,ar):fn},ar.context=function(In){return arguments.length?(En=null==In?(an=null,new ct):new ut(an=In),"function"!=typeof Wn&&En.pointRadius(Wn),ar):an},ar.pointRadius=function(In){return arguments.length?(Wn="function"==typeof In?In:(En.pointRadius(+In),+In),ar):Wn},ar.projection(fn).context(an)}ct.prototype={_radius:4.5,_circle:He(4.5),pointRadius:function(fn){return(fn=+fn)!==this._radius&&(this._radius=fn,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(fn,an){switch(this._point){case 0:this._string.push("M",fn,",",an),this._point=1;break;case 1:this._string.push("L",fn,",",an);break;default:null==this._circle&&(this._circle=He(this._radius)),this._string.push("M",fn,",",an,this._circle)}},result:function(){if(this._string.length){var fn=this._string.join("");return this._string=[],fn}return null}};var ft=e(87952);function et(fn){var an=0,Vn=l.pi/3,En=(0,ft.U)(fn),Wn=En(an,Vn);return Wn.parallels=function(ar){return arguments.length?En(an=ar[0]*l.qw,Vn=ar[1]*l.qw):[an*l.oh,Vn*l.oh]},Wn}function xt(fn,an){var Vn=(0,l.g$)(fn),En=(Vn+(0,l.g$)(an))/2;if((0,l.a2)(En)<l.Gg)return function(fr){var ur=(0,l.W8)(fr);function Kt(An,Nt){return[An*ur,(0,l.g$)(Nt)/ur]}return Kt.invert=function(An,Nt){return[An/ur,(0,l.qR)(Nt*ur)]},Kt}(fn);var Wn=1+Vn*(2*En-Vn),ar=(0,l._I)(Wn)/En;function In(fr,ur){var Kt=(0,l._I)(Wn-2*En*(0,l.g$)(ur))/En;return[Kt*(0,l.g$)(fr*=En),ar-Kt*(0,l.W8)(fr)]}return In.invert=function(fr,ur){var Kt=ar-ur,An=(0,l.WE)(fr,(0,l.a2)(Kt))*(0,l.kq)(Kt);return Kt*En<0&&(An-=l.pi*(0,l.kq)(fr)*(0,l.kq)(Kt)),[An/En,(0,l.qR)((Wn-(fr*fr+Kt*Kt)*En*En)/(2*En))]},In}function wt(){return et(xt).scale(155.424).center([0,33.6442])}function At(){return wt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var yt=e(86420);function Ot(){var fn,an,Vn,En,Wn,ar,In=At(),fr=wt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ur=wt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Kt={point:function(Yt,cn){ar=[Yt,cn]}};function An(Yt){var cn=Yt[0],xn=Yt[1];return ar=null,Vn.point(cn,xn),ar||(En.point(cn,xn),ar)||(Wn.point(cn,xn),ar)}function Nt(){return fn=an=null,An}return An.invert=function(Yt){var cn=In.scale(),xn=In.translate(),wn=(Yt[0]-xn[0])/cn,Cn=(Yt[1]-xn[1])/cn;return(Cn>=.12&&Cn<.234&&wn>=-.425&&wn<-.214?fr:Cn>=.166&&Cn<.234&&wn>=-.214&&wn<-.115?ur:In).invert(Yt)},An.stream=function(Yt){return fn&&an===Yt?fn:(cn=[In.stream(an=Yt),fr.stream(Yt),ur.stream(Yt)],xn=cn.length,fn={point:function(wn,Cn){for(var mn=-1;++mn<xn;)cn[mn].point(wn,Cn)},sphere:function(){for(var wn=-1;++wn<xn;)cn[wn].sphere()},lineStart:function(){for(var wn=-1;++wn<xn;)cn[wn].lineStart()},lineEnd:function(){for(var wn=-1;++wn<xn;)cn[wn].lineEnd()},polygonStart:function(){for(var wn=-1;++wn<xn;)cn[wn].polygonStart()},polygonEnd:function(){for(var wn=-1;++wn<xn;)cn[wn].polygonEnd()}});var cn,xn},An.precision=function(Yt){return arguments.length?(In.precision(Yt),fr.precision(Yt),ur.precision(Yt),Nt()):In.precision()},An.scale=function(Yt){return arguments.length?(In.scale(Yt),fr.scale(.35*Yt),ur.scale(Yt),An.translate(In.translate())):In.scale()},An.translate=function(Yt){if(!arguments.length)return In.translate();var cn=In.scale(),xn=+Yt[0],wn=+Yt[1];return Vn=In.translate(Yt).clipExtent([[xn-.455*cn,wn-.238*cn],[xn+.455*cn,wn+.238*cn]]).stream(Kt),En=fr.translate([xn-.307*cn,wn+.201*cn]).clipExtent([[xn-.425*cn+l.Gg,wn+.12*cn+l.Gg],[xn-.214*cn-l.Gg,wn+.234*cn-l.Gg]]).stream(Kt),Wn=ur.translate([xn-.205*cn,wn+.212*cn]).clipExtent([[xn-.214*cn+l.Gg,wn+.166*cn+l.Gg],[xn-.115*cn-l.Gg,wn+.234*cn-l.Gg]]).stream(Kt),Nt()},An.fitExtent=function(Yt,cn){return(0,yt.QX)(An,Yt,cn)},An.fitSize=function(Yt,cn){return(0,yt.UV)(An,Yt,cn)},An.fitWidth=function(Yt,cn){return(0,yt.Qx)(An,Yt,cn)},An.fitHeight=function(Yt,cn){return(0,yt.OW)(An,Yt,cn)},An.scale(1070)}var Ct=e(54724),Rt=e(69020),Bt=e(92992);function jt(fn,an){return[fn,(0,l.Yz)((0,l.a6)((l.or+an)/2))]}function Gt(){return on(jt).scale(961/l.kD)}function on(fn){var an,Vn,En,Wn=(0,ft.c)(fn),ar=Wn.center,In=Wn.scale,fr=Wn.translate,ur=Wn.clipExtent,Kt=null;function An(){var Nt=l.pi*In(),Yt=Wn((0,Bt.c)(Wn.rotate()).invert([0,0]));return ur(null==Kt?[[Yt[0]-Nt,Yt[1]-Nt],[Yt[0]+Nt,Yt[1]+Nt]]:fn===jt?[[Math.max(Yt[0]-Nt,Kt),an],[Math.min(Yt[0]+Nt,Vn),En]]:[[Kt,Math.max(Yt[1]-Nt,an)],[Vn,Math.min(Yt[1]+Nt,En)]])}return Wn.scale=function(Nt){return arguments.length?(In(Nt),An()):In()},Wn.translate=function(Nt){return arguments.length?(fr(Nt),An()):fr()},Wn.center=function(Nt){return arguments.length?(ar(Nt),An()):ar()},Wn.clipExtent=function(Nt){return arguments.length?(null==Nt?Kt=an=Vn=En=null:(Kt=+Nt[0][0],an=+Nt[0][1],Vn=+Nt[1][0],En=+Nt[1][1]),An()):null==Kt?null:[[Kt,an],[Vn,En]]},An()}function Jt(fn){return(0,l.a6)((l.or+fn)/2)}function $t(fn,an){var Vn=(0,l.W8)(fn),En=fn===an?(0,l.g$)(fn):(0,l.Yz)(Vn/(0,l.W8)(an))/(0,l.Yz)(Jt(an)/Jt(fn)),Wn=Vn*(0,l.g3)(Jt(fn),En)/En;if(!En)return jt;function ar(In,fr){Wn>0?fr<-l.or+l.Gg&&(fr=-l.or+l.Gg):fr>l.or-l.Gg&&(fr=l.or-l.Gg);var ur=Wn/(0,l.g3)(Jt(fr),En);return[ur*(0,l.g$)(En*In),Wn-ur*(0,l.W8)(En*In)]}return ar.invert=function(In,fr){var ur=Wn-fr,Kt=(0,l.kq)(En)*(0,l._I)(In*In+ur*ur),An=(0,l.WE)(In,(0,l.a2)(ur))*(0,l.kq)(ur);return ur*En<0&&(An-=l.pi*(0,l.kq)(In)*(0,l.kq)(ur)),[An/En,2*(0,l.MQ)((0,l.g3)(Wn/Kt,1/En))-l.or]},ar}function tn(){return et($t).scale(109.5).parallels([30,30])}jt.invert=function(fn,an){return[fn,2*(0,l.MQ)((0,l.oN)(an))-l.or]};var dn=e(69604);function Gn(fn,an){var Vn=(0,l.W8)(fn),En=fn===an?(0,l.g$)(fn):(Vn-(0,l.W8)(an))/(an-fn),Wn=Vn/En+fn;if((0,l.a2)(En)<l.Gg)return dn.u;function ar(In,fr){var ur=Wn-fr,Kt=En*In;return[ur*(0,l.g$)(Kt),Wn-ur*(0,l.W8)(Kt)]}return ar.invert=function(In,fr){var ur=Wn-fr,Kt=(0,l.WE)(In,(0,l.a2)(ur))*(0,l.kq)(ur);return ur*En<0&&(Kt-=l.pi*(0,l.kq)(In)*(0,l.kq)(ur)),[Kt/En,Wn-(0,l.kq)(En)*(0,l._I)(In*In+ur*ur)]},ar}function zn(){return et(Gn).scale(131.154).center([0,13.9389])}var Mn=1.340264,ln=-.081106,vn=893e-6,hn=.003796,_n=(0,l._I)(3)/2;function Dn(fn,an){var Vn=(0,l.qR)(_n*(0,l.g$)(an)),En=Vn*Vn,Wn=En*En*En;return[fn*(0,l.W8)(Vn)/(_n*(Mn+3*ln*En+Wn*(7*vn+9*hn*En))),Vn*(Mn+ln*En+Wn*(vn+hn*En))]}function Pn(){return(0,ft.c)(Dn).scale(177.158)}Dn.invert=function(fn,an){for(var Vn,En=an,Wn=En*En,ar=Wn*Wn*Wn,In=0;In<12&&(ar=(Wn=(En-=Vn=(En*(Mn+ln*Wn+ar*(vn+hn*Wn))-an)/(Mn+3*ln*Wn+ar*(7*vn+9*hn*Wn)))*En)*Wn*Wn,!((0,l.a2)(Vn)<l.a8));++In);return[_n*fn*(Mn+3*ln*Wn+ar*(7*vn+9*hn*Wn))/(0,l.W8)(En),(0,l.qR)((0,l.g$)(En)/_n)]};var Yn=e(53285),jn=e(15196);function Fn(){var fn,an,Vn,En,Wn,ar,In,fr=1,ur=0,Kt=0,An=1,Nt=1,Yt=0,cn=null,xn=1,wn=1,Cn=(0,jn.s)({point:function(pn,yn){var Nn=rn([pn,yn]);this.stream.point(Nn[0],Nn[1])}}),mn=le.c;function nn(){return xn=fr*An,wn=fr*Nt,ar=In=null,rn}function rn(pn){var yn=pn[0]*xn,Nn=pn[1]*wn;if(Yt){var Un=Nn*fn-yn*an;yn=yn*fn+Nn*an,Nn=Un}return[yn+ur,Nn+Kt]}return rn.invert=function(pn){var yn=pn[0]-ur,Nn=pn[1]-Kt;if(Yt){var Un=Nn*fn+yn*an;yn=yn*fn-Nn*an,Nn=Un}return[yn/xn,Nn/wn]},rn.stream=function(pn){return ar&&In===pn?ar:ar=Cn(mn(In=pn))},rn.postclip=function(pn){return arguments.length?(mn=pn,cn=Vn=En=Wn=null,nn()):mn},rn.clipExtent=function(pn){return arguments.length?(mn=null==pn?(cn=Vn=En=Wn=null,le.c):(0,s.c)(cn=+pn[0][0],Vn=+pn[0][1],En=+pn[1][0],Wn=+pn[1][1]),nn()):null==cn?null:[[cn,Vn],[En,Wn]]},rn.scale=function(pn){return arguments.length?(fr=+pn,nn()):fr},rn.translate=function(pn){return arguments.length?(ur=+pn[0],Kt=+pn[1],nn()):[ur,Kt]},rn.angle=function(pn){return arguments.length?(an=(0,l.g$)(Yt=pn%360*l.qw),fn=(0,l.W8)(Yt),nn()):Yt*l.oh},rn.reflectX=function(pn){return arguments.length?(An=pn?-1:1,nn()):An<0},rn.reflectY=function(pn){return arguments.length?(Nt=pn?-1:1,nn()):Nt<0},rn.fitExtent=function(pn,yn){return(0,yt.QX)(rn,pn,yn)},rn.fitSize=function(pn,yn){return(0,yt.UV)(rn,pn,yn)},rn.fitWidth=function(pn,yn){return(0,yt.Qx)(rn,pn,yn)},rn.fitHeight=function(pn,yn){return(0,yt.OW)(rn,pn,yn)},rn}var Jn=e(47984),$n=e(4888),nr=e(62280);function or(fn,an){var Vn=(0,l.W8)(an),En=1+(0,l.W8)(fn)*Vn;return[Vn*(0,l.g$)(fn)/En,(0,l.g$)(an)/En]}function lr(){return(0,ft.c)(or).scale(250).clipAngle(142)}function cr(fn,an){return[(0,l.Yz)((0,l.a6)((l.or+an)/2)),-fn]}function Ar(){var fn=on(cr),an=fn.center,Vn=fn.rotate;return fn.center=function(En){return arguments.length?an([-En[1],En[0]]):[(En=an())[1],-En[0]]},fn.rotate=function(En){return arguments.length?Vn([En[0],En[1],En.length>2?En[2]+90:90]):[(En=Vn())[0],En[1],En[2]-90]},Vn([0,0,90]).scale(159.155)}or.invert=(0,nr.g)(function(fn){return 2*(0,l.MQ)(fn)}),cr.invert=function(fn,an){return[-an,2*(0,l.MQ)((0,l.oN)(fn))-l.or]}},27284:function(ie,z,e){"use strict";e.d(z,{c:function(){return A}});var S=e(64528);function A(a,M){var _=a[0]*S.qw,d=a[1]*S.qw,s=M[0]*S.qw,t=M[1]*S.qw,i=(0,S.W8)(d),n=(0,S.g$)(d),r=(0,S.W8)(t),o=(0,S.g$)(t),u=i*(0,S.W8)(_),l=i*(0,S.g$)(_),h=r*(0,S.W8)(s),c=r*(0,S.g$)(s),b=2*(0,S.qR)((0,S._I)((0,S.SD)(t-d)+i*r*(0,S.SD)(s-_))),p=(0,S.g$)(b),m=b?function(v){var x=(0,S.g$)(v*=b)/p,y=(0,S.g$)(b-v)/p,w=y*u+x*h,f=y*l+x*c,C=y*n+x*o;return[(0,S.WE)(f,w)*S.oh,(0,S.WE)(C,(0,S._I)(w*w+f*f))*S.oh]}:function(){return[_*S.oh,d*S.oh]};return m.distance=b,m}},64528:function(ie,z,e){"use strict";e.d(z,{Gg:function(){return S},Km:function(){return u},MQ:function(){return n},SD:function(){return w},W8:function(){return o},WE:function(){return r},Yz:function(){return h},_I:function(){return m},a2:function(){return i},a6:function(){return v},a8:function(){return A},g$:function(){return b},g3:function(){return c},kD:function(){return d},kq:function(){return p},mE:function(){return x},oN:function(){return l},oh:function(){return s},or:function(){return M},pi:function(){return a},qR:function(){return y},qw:function(){return t},wL:function(){return _}});var S=1e-6,A=1e-12,a=Math.PI,M=a/2,_=a/4,d=2*a,s=180/a,t=a/180,i=Math.abs,n=Math.atan,r=Math.atan2,o=Math.cos,u=Math.ceil,l=Math.exp,h=Math.log,c=Math.pow,b=Math.sin,p=Math.sign||function(f){return f>0?1:f<0?-1:0},m=Math.sqrt,v=Math.tan;function x(f){return f>1?0:f<-1?a:Math.acos(f)}function y(f){return f>1?M:f<-1?-M:Math.asin(f)}function w(f){return(f=b(f/2))*f}},70932:function(ie,z,e){"use strict";function S(){}e.d(z,{c:function(){return S}})},73784:function(ie,z,e){"use strict";var S=e(70932),A=1/0,a=A,M=-A,_=M;z.c={point:function(s,t){s<A&&(A=s),s>M&&(M=s),t<a&&(a=t),t>_&&(_=t)},lineStart:S.c,lineEnd:S.c,polygonStart:S.c,polygonEnd:S.c,result:function(){var s=[[A,a],[M,_]];return M=_=-(a=A=1/0),s}}},41860:function(ie,z,e){"use strict";e.d(z,{c:function(){return A}});var S=e(64528);function A(a,M){return(0,S.a2)(a[0]-M[0])<S.Gg&&(0,S.a2)(a[1]-M[1])<S.Gg}},58196:function(ie,z,e){"use strict";e.d(z,{c:function(){return d}});var S=e(88728),A=e(84220),a=e(64528),M=(0,S.c)();function _(s){return(0,a.a2)(s[0])<=a.pi?s[0]:(0,a.kq)(s[0])*(((0,a.a2)(s[0])+a.pi)%a.kD-a.pi)}function d(s,t){var i=_(t),n=t[1],r=(0,a.g$)(n),o=[(0,a.g$)(i),-(0,a.W8)(i),0],u=0,l=0;M.reset(),1===r?n=a.or+a.Gg:-1===r&&(n=-a.or-a.Gg);for(var h=0,c=s.length;h<c;++h)if(p=(b=s[h]).length)for(var b,p,m=b[p-1],v=_(m),x=m[1]/2+a.wL,y=(0,a.g$)(x),w=(0,a.W8)(x),f=0;f<p;++f,v=T,y=R,w=P,m=C){var C=b[f],T=_(C),D=C[1]/2+a.wL,R=(0,a.g$)(D),P=(0,a.W8)(D),O=T-v,B=O>=0?1:-1,q=B*O,N=q>a.pi,H=y*R;if(M.add((0,a.WE)(H*B*(0,a.g$)(q),w*P+H*(0,a.W8)(q))),u+=N?O+B*a.kD:O,N^v>=i^T>=i){var $=(0,A.CW)((0,A.ux)(m),(0,A.ux)(C));(0,A.cJ)($);var j=(0,A.CW)(o,$);(0,A.cJ)(j);var W=(N^O>=0?-1:1)*(0,a.qR)(j[2]);(n>W||n===W&&($[0]||$[1]))&&(l+=N^O>=0?1:-1)}}return(u<-a.Gg||u<a.Gg&&M<-a.Gg)^1&l}},62280:function(ie,z,e){"use strict";e.d(z,{a:function(){return A},g:function(){return a}});var S=e(64528);function A(M){return function(_,d){var s=(0,S.W8)(_),t=(0,S.W8)(d),i=M(s*t);return[i*t*(0,S.g$)(_),i*(0,S.g$)(d)]}}function a(M){return function(_,d){var s=(0,S._I)(_*_+d*d),t=M(s),i=(0,S.g$)(t),n=(0,S.W8)(t);return[(0,S.WE)(_*i,s*n),(0,S.qR)(s&&d*i/s)]}}},54724:function(ie,z,e){"use strict";e.d(z,{c:function(){return _},y:function(){return M}});var S=e(64528),A=e(62280),a=e(87952),M=(0,A.a)(function(d){return(0,S._I)(2/(1+d))});function _(){return(0,a.c)(M).scale(124.75).clipAngle(179.999)}M.invert=(0,A.g)(function(d){return 2*(0,S.qR)(d/2)})},69020:function(ie,z,e){"use strict";e.d(z,{O:function(){return M},c:function(){return _}});var S=e(64528),A=e(62280),a=e(87952),M=(0,A.a)(function(d){return(d=(0,S.mE)(d))&&d/(0,S.g$)(d)});function _(){return(0,a.c)(M).scale(79.4188).clipAngle(179.999)}M.invert=(0,A.g)(function(d){return d})},69604:function(ie,z,e){"use strict";e.d(z,{c:function(){return a},u:function(){return A}});var S=e(87952);function A(M,_){return[M,_]}function a(){return(0,S.c)(A).scale(152.63)}A.invert=A},86420:function(ie,z,e){"use strict";e.d(z,{OW:function(){return s},QX:function(){return M},Qx:function(){return d},UV:function(){return _}});var S=e(16016),A=e(73784);function a(t,i,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),(0,S.c)(n,t.stream(A.c)),i(A.c.result()),null!=r&&t.clipExtent(r),t}function M(t,i,n){return a(t,function(r){var o=i[1][0]-i[0][0],u=i[1][1]-i[0][1],l=Math.min(o/(r[1][0]-r[0][0]),u/(r[1][1]-r[0][1])),h=+i[0][0]+(o-l*(r[1][0]+r[0][0]))/2,c=+i[0][1]+(u-l*(r[1][1]+r[0][1]))/2;t.scale(150*l).translate([h,c])},n)}function _(t,i,n){return M(t,[[0,0],i],n)}function d(t,i,n){return a(t,function(r){var o=+i,u=o/(r[1][0]-r[0][0]),l=(o-u*(r[1][0]+r[0][0]))/2,h=-u*r[0][1];t.scale(150*u).translate([l,h])},n)}function s(t,i,n){return a(t,function(r){var o=+i,u=o/(r[1][1]-r[0][1]),l=-u*r[0][0],h=(o-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([l,h])},n)}},53285:function(ie,z,e){"use strict";e.d(z,{Y:function(){return M},c:function(){return _}});var S=e(64528),A=e(62280),a=e(87952);function M(d,s){var t=(0,S.W8)(s),i=(0,S.W8)(d)*t;return[t*(0,S.g$)(d)/i,(0,S.g$)(s)/i]}function _(){return(0,a.c)(M).scale(144.049).clipAngle(60)}M.invert=(0,A.g)(S.MQ)},87952:function(ie,z,e){"use strict";e.d(z,{c:function(){return b},U:function(){return p}});var S=e(78284),A=e(2728),a=e(21676),M=e(68120),_=e(7376),d=e(64528),s=e(92992),t=e(15196),i=e(86420),n=e(84220),r=16,o=(0,d.W8)(30*d.qw);function u(m,v){return+v?function(x,y){function w(f,C,T,D,R,P,O,B,q,N,H,$,j,W){var G=O-f,ae=B-C,te=G*G+ae*ae;if(te>4*y&&j--){var Q=D+N,ee=R+H,re=P+$,J=(0,d._I)(Q*Q+ee*ee+re*re),le=(0,d.qR)(re/=J),fe=(0,d.a2)((0,d.a2)(re)-1)<d.Gg||(0,d.a2)(T-q)<d.Gg?(T+q)/2:(0,d.WE)(ee,Q),ce=x(fe,le),ge=ce[0],Te=ce[1],Me=ge-f,we=Te-C,xe=ae*Me-G*we;(xe*xe/te>y||(0,d.a2)((G*Me+ae*we)/te-.5)>.3||D*N+R*H+P*$<o)&&(w(f,C,T,D,R,P,ge,Te,fe,Q/=J,ee/=J,re,j,W),W.point(ge,Te),w(ge,Te,fe,Q,ee,re,O,B,q,N,H,$,j,W))}}return function(f){var C,T,D,R,P,O,B,q,N,H,$,j,W={point:G,lineStart:ae,lineEnd:Q,polygonStart:function(){f.polygonStart(),W.lineStart=ee},polygonEnd:function(){f.polygonEnd(),W.lineStart=ae}};function G(le,fe){le=x(le,fe),f.point(le[0],le[1])}function ae(){q=NaN,W.point=te,f.lineStart()}function te(le,fe){var ce=(0,n.ux)([le,fe]),ge=x(le,fe);w(q,N,B,H,$,j,q=ge[0],N=ge[1],B=le,H=ce[0],$=ce[1],j=ce[2],r,f),f.point(q,N)}function Q(){W.point=G,f.lineEnd()}function ee(){ae(),W.point=re,W.lineEnd=J}function re(le,fe){te(C=le,fe),T=q,D=N,R=H,P=$,O=j,W.point=te}function J(){w(q,N,B,H,$,j,T,D,C,R,P,O,r,f),W.lineEnd=Q,Q()}return W}}(m,v):(x=m,(0,t.s)({point:function(y,w){y=x(y,w),this.stream.point(y[0],y[1])}}));var x}var l=(0,t.s)({point:function(m,v){this.stream.point(m*d.qw,v*d.qw)}});function h(m,v,x,y,w){function f(C,T){return[v+m*(C*=y),x-m*(T*=w)]}return f.invert=function(C,T){return[(C-v)/m*y,(x-T)/m*w]},f}function c(m,v,x,y,w,f){var C=(0,d.W8)(f),T=(0,d.g$)(f),D=C*m,R=T*m,P=C/m,O=T/m,B=(T*x-C*v)/m,q=(T*v+C*x)/m;function N(H,$){return[D*(H*=y)-R*($*=w)+v,x-R*H-D*$]}return N.invert=function(H,$){return[y*(P*H-O*$+B),w*(q-O*H-P*$)]},N}function b(m){return p(function(){return m})()}function p(m){var v,x,y,w,f,C,T,D,R,P,O=150,B=480,q=250,N=0,H=0,$=0,j=0,W=0,G=0,ae=1,te=1,Q=null,ee=S.c,re=null,J=_.c,le=.5;function fe(Me){return D(Me[0]*d.qw,Me[1]*d.qw)}function ce(Me){return(Me=D.invert(Me[0],Me[1]))&&[Me[0]*d.oh,Me[1]*d.oh]}function ge(){var Me=c(O,0,0,ae,te,G).apply(null,v(N,H)),we=(G?c:h)(O,B-Me[0],q-Me[1],ae,te,G);return x=(0,s.O)($,j,W),T=(0,M.c)(v,we),D=(0,M.c)(x,T),C=u(T,le),Te()}function Te(){return R=P=null,fe}return fe.stream=function(Me){return R&&P===Me?R:R=l((we=x,(0,t.s)({point:function(xe,be){var ye=we(xe,be);return this.stream.point(ye[0],ye[1])}}))(ee(C(J(P=Me)))));var we},fe.preclip=function(Me){return arguments.length?(ee=Me,Q=void 0,Te()):ee},fe.postclip=function(Me){return arguments.length?(J=Me,re=y=w=f=null,Te()):J},fe.clipAngle=function(Me){return arguments.length?(ee=+Me?(0,A.c)(Q=Me*d.qw):(Q=null,S.c),Te()):Q*d.oh},fe.clipExtent=function(Me){return arguments.length?(J=null==Me?(re=y=w=f=null,_.c):(0,a.c)(re=+Me[0][0],y=+Me[0][1],w=+Me[1][0],f=+Me[1][1]),Te()):null==re?null:[[re,y],[w,f]]},fe.scale=function(Me){return arguments.length?(O=+Me,ge()):O},fe.translate=function(Me){return arguments.length?(B=+Me[0],q=+Me[1],ge()):[B,q]},fe.center=function(Me){return arguments.length?(N=Me[0]%360*d.qw,H=Me[1]%360*d.qw,ge()):[N*d.oh,H*d.oh]},fe.rotate=function(Me){return arguments.length?($=Me[0]%360*d.qw,j=Me[1]%360*d.qw,W=Me.length>2?Me[2]%360*d.qw:0,ge()):[$*d.oh,j*d.oh,W*d.oh]},fe.angle=function(Me){return arguments.length?(G=Me%360*d.qw,ge()):G*d.oh},fe.reflectX=function(Me){return arguments.length?(ae=Me?-1:1,ge()):ae<0},fe.reflectY=function(Me){return arguments.length?(te=Me?-1:1,ge()):te<0},fe.precision=function(Me){return arguments.length?(C=u(T,le=Me*Me),Te()):(0,d._I)(le)},fe.fitExtent=function(Me,we){return(0,i.QX)(fe,Me,we)},fe.fitSize=function(Me,we){return(0,i.UV)(fe,Me,we)},fe.fitWidth=function(Me,we){return(0,i.Qx)(fe,Me,we)},fe.fitHeight=function(Me,we){return(0,i.OW)(fe,Me,we)},function(){return v=m.apply(this,arguments),fe.invert=v.invert&&ce,ge()}}},47984:function(ie,z,e){"use strict";e.d(z,{c:function(){return M},g:function(){return a}});var S=e(87952),A=e(64528);function a(_,d){var s=d*d,t=s*s;return[_*(.8707-.131979*s+t*(t*(.003971*s-.001529*t)-.013791)),d*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))]}function M(){return(0,S.c)(a).scale(175.295)}a.invert=function(_,d){var s,t=d,i=25;do{var n=t*t,r=n*n;t-=s=(t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))-d)/(1.007226+n*(.045255+r*(.259866*n-.311325-.06507600000000001*r)))}while((0,A.a2)(s)>A.Gg&&--i>0);return[_/(.8707+(n=t*t)*(n*(n*n*n*(.003971-.001529*n)-.013791)-.131979)),t]}},4888:function(ie,z,e){"use strict";e.d(z,{c:function(){return _},t:function(){return M}});var S=e(64528),A=e(62280),a=e(87952);function M(d,s){return[(0,S.W8)(s)*(0,S.g$)(d),(0,S.g$)(s)]}function _(){return(0,a.c)(M).scale(249.5).clipAngle(90+S.Gg)}M.invert=(0,A.g)(S.qR)},92992:function(ie,z,e){"use strict";e.d(z,{O:function(){return M},c:function(){return t}});var S=e(68120),A=e(64528);function a(i,n){return[(0,A.a2)(i)>A.pi?i+Math.round(-i/A.kD)*A.kD:i,n]}function M(i,n,r){return(i%=A.kD)?n||r?(0,S.c)(d(i),s(n,r)):d(i):n||r?s(n,r):a}function _(i){return function(n,r){return[(n+=i)>A.pi?n-A.kD:n<-A.pi?n+A.kD:n,r]}}function d(i){var n=_(i);return n.invert=_(-i),n}function s(i,n){var r=(0,A.W8)(i),o=(0,A.g$)(i),u=(0,A.W8)(n),l=(0,A.g$)(n);function h(c,b){var p=(0,A.W8)(b),m=(0,A.W8)(c)*p,v=(0,A.g$)(c)*p,x=(0,A.g$)(b),y=x*r+m*o;return[(0,A.WE)(v*u-y*l,m*r-x*o),(0,A.qR)(y*u+v*l)]}return h.invert=function(c,b){var p=(0,A.W8)(b),m=(0,A.W8)(c)*p,v=(0,A.g$)(c)*p,x=(0,A.g$)(b),y=x*u-v*l;return[(0,A.WE)(v*u+x*l,m*r+y*o),(0,A.qR)(y*r-m*o)]},h}function t(i){function n(r){return(r=i(r[0]*A.qw,r[1]*A.qw))[0]*=A.oh,r[1]*=A.oh,r}return i=M(i[0]*A.qw,i[1]*A.qw,i.length>2?i[2]*A.qw:0),n.invert=function(r){return(r=i.invert(r[0]*A.qw,r[1]*A.qw))[0]*=A.oh,r[1]*=A.oh,r},n}a.invert=a},16016:function(ie,z,e){"use strict";function S(s,t){s&&a.hasOwnProperty(s.type)&&a[s.type](s,t)}e.d(z,{c:function(){return d}});var A={Feature:function(s,t){S(s.geometry,t)},FeatureCollection:function(s,t){for(var i=s.features,n=-1,r=i.length;++n<r;)S(i[n].geometry,t)}},a={Sphere:function(s,t){t.sphere()},Point:function(s,t){t.point((s=s.coordinates)[0],s[1],s[2])},MultiPoint:function(s,t){for(var i=s.coordinates,n=-1,r=i.length;++n<r;)t.point((s=i[n])[0],s[1],s[2])},LineString:function(s,t){M(s.coordinates,t,0)},MultiLineString:function(s,t){for(var i=s.coordinates,n=-1,r=i.length;++n<r;)M(i[n],t,0)},Polygon:function(s,t){_(s.coordinates,t)},MultiPolygon:function(s,t){for(var i=s.coordinates,n=-1,r=i.length;++n<r;)_(i[n],t)},GeometryCollection:function(s,t){for(var i=s.geometries,n=-1,r=i.length;++n<r;)S(i[n],t)}};function M(s,t,i){var n,r=-1,o=s.length-i;for(t.lineStart();++r<o;)t.point((n=s[r])[0],n[1],n[2]);t.lineEnd()}function _(s,t){var i=-1,n=s.length;for(t.polygonStart();++i<n;)M(s[i],t,1);t.polygonEnd()}function d(s,t){s&&A.hasOwnProperty(s.type)?A[s.type](s,t):S(s,t)}},15196:function(ie,z,e){"use strict";function S(M){return{stream:A(M)}}function A(M){return function(_){var d=new a;for(var s in M)d[s]=M[s];return d.stream=_,d}}function a(){}e.d(z,{c:function(){return S},s:function(){return A}}),a.prototype={constructor:a,point:function(M,_){this.stream.point(M,_)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(ie,z,e){"use strict";function S(ue,me){return ue.parent===me.parent?1:2}function A(ue,me){return ue+me.x}function a(ue,me){return Math.max(ue,me.y)}function M(){var ue=S,me=1,Pe=1,Ce=!1;function Ie(Oe){var ze,je=0;Oe.eachAfter(function(Ne){var Xe,We=Ne.children;We?(Ne.x=(Xe=We).reduce(A,0)/Xe.length,Ne.y=function(Xe){return 1+Xe.reduce(a,0)}(We)):(Ne.x=ze?je+=ue(Ne,ze):0,Ne.y=0,ze=Ne)});var ve=function(Ne){for(var We;We=Ne.children;)Ne=We[0];return Ne}(Oe),Ae=function(Ne){for(var We;We=Ne.children;)Ne=We[We.length-1];return Ne}(Oe),Le=ve.x-ue(ve,Ae)/2,Ve=Ae.x+ue(Ae,ve)/2;return Oe.eachAfter(Ce?function(Ne){Ne.x=(Ne.x-Oe.x)*me,Ne.y=(Oe.y-Ne.y)*Pe}:function(Ne){Ne.x=(Ne.x-Le)/(Ve-Le)*me,Ne.y=(1-(Oe.y?Ne.y/Oe.y:1))*Pe})}return Ie.separation=function(Oe){return arguments.length?(ue=Oe,Ie):ue},Ie.size=function(Oe){return arguments.length?(Ce=!1,me=+Oe[0],Pe=+Oe[1],Ie):Ce?null:[me,Pe]},Ie.nodeSize=function(Oe){return arguments.length?(Ce=!0,me=+Oe[0],Pe=+Oe[1],Ie):Ce?[me,Pe]:null},Ie}function _(ue){var me=0,Pe=ue.children,Ce=Pe&&Pe.length;if(Ce)for(;--Ce>=0;)me+=Pe[Ce].value;else me=1;ue.value=me}function d(ue,me){var Pe,Ce,Ie,Oe,ze,je=new n(ue),ve=+ue.value&&(je.value=ue.value),Ae=[je];for(null==me&&(me=s);Pe=Ae.pop();)if(ve&&(Pe.value=+Pe.data.value),(Ie=me(Pe.data))&&(ze=Ie.length))for(Pe.children=new Array(ze),Oe=ze-1;Oe>=0;--Oe)Ae.push(Ce=Pe.children[Oe]=new n(Ie[Oe])),Ce.parent=Pe,Ce.depth=Pe.depth+1;return je.eachBefore(i)}function s(ue){return ue.children}function t(ue){ue.data=ue.data.data}function i(ue){var me=0;do{ue.height=me}while((ue=ue.parent)&&ue.height<++me)}function n(ue){this.data=ue,this.depth=this.height=0,this.parent=null}e.r(z),e.d(z,{cluster:function(){return M},hierarchy:function(){return d},pack:function(){return O},packEnclose:function(){return o},packSiblings:function(){return C},partition:function(){return j},stratify:function(){return ee},tree:function(){return Te},treemap:function(){return ye},treemapBinary:function(){return Se},treemapDice:function(){return $},treemapResquarify:function(){return he},treemapSlice:function(){return Me},treemapSliceDice:function(){return Ee},treemapSquarify:function(){return be}}),n.prototype=d.prototype={constructor:n,count:function(){return this.eachAfter(_)},each:function(ue){var me,Pe,Ce,Ie,Oe=this,ze=[Oe];do{for(me=ze.reverse(),ze=[];Oe=me.pop();)if(ue(Oe),Pe=Oe.children)for(Ce=0,Ie=Pe.length;Ce<Ie;++Ce)ze.push(Pe[Ce])}while(ze.length);return this},eachAfter:function(ue){for(var me,Pe,Ce,Ie=this,Oe=[Ie],ze=[];Ie=Oe.pop();)if(ze.push(Ie),me=Ie.children)for(Pe=0,Ce=me.length;Pe<Ce;++Pe)Oe.push(me[Pe]);for(;Ie=ze.pop();)ue(Ie);return this},eachBefore:function(ue){for(var me,Pe,Ce=this,Ie=[Ce];Ce=Ie.pop();)if(ue(Ce),me=Ce.children)for(Pe=me.length-1;Pe>=0;--Pe)Ie.push(me[Pe]);return this},sum:function(ue){return this.eachAfter(function(me){for(var Pe=+ue(me.data)||0,Ce=me.children,Ie=Ce&&Ce.length;--Ie>=0;)Pe+=Ce[Ie].value;me.value=Pe})},sort:function(ue){return this.eachBefore(function(me){me.children&&me.children.sort(ue)})},path:function(ue){for(var me=this,Pe=function(Oe,ze){if(Oe===ze)return Oe;var je=Oe.ancestors(),ve=ze.ancestors(),Ae=null;for(Oe=je.pop(),ze=ve.pop();Oe===ze;)Ae=Oe,Oe=je.pop(),ze=ve.pop();return Ae}(me,ue),Ce=[me];me!==Pe;)Ce.push(me=me.parent);for(var Ie=Ce.length;ue!==Pe;)Ce.splice(Ie,0,ue),ue=ue.parent;return Ce},ancestors:function(){for(var ue=this,me=[ue];ue=ue.parent;)me.push(ue);return me},descendants:function(){var ue=[];return this.each(function(me){ue.push(me)}),ue},leaves:function(){var ue=[];return this.eachBefore(function(me){me.children||ue.push(me)}),ue},links:function(){var ue=this,me=[];return ue.each(function(Pe){Pe!==ue&&me.push({source:Pe.parent,target:Pe})}),me},copy:function(){return d(this).eachBefore(t)}};var r=Array.prototype.slice;function o(ue){for(var me,Pe,Ce=0,Ie=(ue=function(ze){for(var je,ve,Ae=ze.length;Ae;)ve=Math.random()*Ae--|0,je=ze[Ae],ze[Ae]=ze[ve],ze[ve]=je;return ze}(r.call(ue))).length,Oe=[];Ce<Ie;)me=ue[Ce],Pe&&h(Pe,me)?++Ce:(Pe=b(Oe=u(Oe,me)),Ce=0);return Pe}function u(ue,me){var Pe,Ce;if(c(me,ue))return[me];for(Pe=0;Pe<ue.length;++Pe)if(l(me,ue[Pe])&&c(p(ue[Pe],me),ue))return[ue[Pe],me];for(Pe=0;Pe<ue.length-1;++Pe)for(Ce=Pe+1;Ce<ue.length;++Ce)if(l(p(ue[Pe],ue[Ce]),me)&&l(p(ue[Pe],me),ue[Ce])&&l(p(ue[Ce],me),ue[Pe])&&c(m(ue[Pe],ue[Ce],me),ue))return[ue[Pe],ue[Ce],me];throw new Error}function l(ue,me){var Pe=ue.r-me.r,Ce=me.x-ue.x,Ie=me.y-ue.y;return Pe<0||Pe*Pe<Ce*Ce+Ie*Ie}function h(ue,me){var Pe=ue.r-me.r+1e-6,Ce=me.x-ue.x,Ie=me.y-ue.y;return Pe>0&&Pe*Pe>Ce*Ce+Ie*Ie}function c(ue,me){for(var Pe=0;Pe<me.length;++Pe)if(!h(ue,me[Pe]))return!1;return!0}function b(ue){switch(ue.length){case 1:return{x:(me=ue[0]).x,y:me.y,r:me.r};case 2:return p(ue[0],ue[1]);case 3:return m(ue[0],ue[1],ue[2])}var me}function p(ue,me){var Pe=ue.x,Ce=ue.y,Ie=ue.r,Oe=me.x,ze=me.y,je=me.r,ve=Oe-Pe,Ae=ze-Ce,Le=je-Ie,Ve=Math.sqrt(ve*ve+Ae*Ae);return{x:(Pe+Oe+ve/Ve*Le)/2,y:(Ce+ze+Ae/Ve*Le)/2,r:(Ve+Ie+je)/2}}function m(ue,me,Pe){var Ce=ue.x,Ie=ue.y,Oe=ue.r,ze=me.x,je=me.y,ve=me.r,Ae=Pe.x,Le=Pe.y,Ve=Pe.r,Ne=Ce-ze,We=Ce-Ae,Xe=Ie-je,nt=Ie-Le,dt=ve-Oe,ht=Ve-Oe,Mt=Ce*Ce+Ie*Ie-Oe*Oe,kt=Mt-ze*ze-je*je+ve*ve,_t=Mt-Ae*Ae-Le*Le+Ve*Ve,ut=We*Xe-Ne*nt,st=(Xe*_t-nt*kt)/(2*ut)-Ce,Lt=(nt*dt-Xe*ht)/ut,Ut=(We*kt-Ne*_t)/(2*ut)-Ie,Ht=(Ne*ht-We*dt)/ut,Pt=Lt*Lt+Ht*Ht-1,Je=2*(Oe+st*Lt+Ut*Ht),tt=st*st+Ut*Ut-Oe*Oe,Ge=-(Pt?(Je+Math.sqrt(Je*Je-4*Pt*tt))/(2*Pt):tt/Je);return{x:Ce+st+Lt*Ge,y:Ie+Ut+Ht*Ge,r:Ge}}function v(ue,me,Pe){var Ce,Ie,Oe,ze,je=ue.x-me.x,ve=ue.y-me.y,Ae=je*je+ve*ve;Ae?(Ie=me.r+Pe.r,ze=ue.r+Pe.r,(Ie*=Ie)>(ze*=ze)?(Ce=(Ae+ze-Ie)/(2*Ae),Oe=Math.sqrt(Math.max(0,ze/Ae-Ce*Ce)),Pe.x=ue.x-Ce*je-Oe*ve,Pe.y=ue.y-Ce*ve+Oe*je):(Ce=(Ae+Ie-ze)/(2*Ae),Oe=Math.sqrt(Math.max(0,Ie/Ae-Ce*Ce)),Pe.x=me.x+Ce*je-Oe*ve,Pe.y=me.y+Ce*ve+Oe*je)):(Pe.x=me.x+Pe.r,Pe.y=me.y)}function x(ue,me){var Pe=ue.r+me.r-1e-6,Ce=me.x-ue.x,Ie=me.y-ue.y;return Pe>0&&Pe*Pe>Ce*Ce+Ie*Ie}function y(ue){var me=ue._,Pe=ue.next._,Ce=me.r+Pe.r,Ie=(me.x*Pe.r+Pe.x*me.r)/Ce,Oe=(me.y*Pe.r+Pe.y*me.r)/Ce;return Ie*Ie+Oe*Oe}function w(ue){this._=ue,this.next=null,this.previous=null}function f(ue){if(!(Ie=ue.length))return 0;var me,Pe,Ce,Ie,Oe,ze,je,ve,Ae,Le,Ve;if((me=ue[0]).x=0,me.y=0,!(Ie>1))return me.r;if(me.x=-(Pe=ue[1]).r,Pe.x=me.r,Pe.y=0,!(Ie>2))return me.r+Pe.r;v(Pe,me,Ce=ue[2]),me=new w(me),Pe=new w(Pe),Ce=new w(Ce),me.next=Ce.previous=Pe,Pe.next=me.previous=Ce,Ce.next=Pe.previous=me;e:for(je=3;je<Ie;++je){v(me._,Pe._,Ce=ue[je]),Ce=new w(Ce),ve=Pe.next,Ae=me.previous,Le=Pe._.r,Ve=me._.r;do{if(Le<=Ve){if(x(ve._,Ce._)){me.next=Pe=ve,Pe.previous=me,--je;continue e}Le+=ve._.r,ve=ve.next}else{if(x(Ae._,Ce._)){(me=Ae).next=Pe,Pe.previous=me,--je;continue e}Ve+=Ae._.r,Ae=Ae.previous}}while(ve!==Ae.next);for(Ce.previous=me,Ce.next=Pe,me.next=Pe.previous=Pe=Ce,Oe=y(me);(Ce=Ce.next)!==Pe;)(ze=y(Ce))<Oe&&(me=Ce,Oe=ze);Pe=me.next}for(me=[Pe._],Ce=Pe;(Ce=Ce.next)!==Pe;)me.push(Ce._);for(Ce=o(me),je=0;je<Ie;++je)(me=ue[je]).x-=Ce.x,me.y-=Ce.y;return Ce.r}function C(ue){return f(ue),ue}function T(ue){if("function"!=typeof ue)throw new Error;return ue}function D(){return 0}function R(ue){return function(){return ue}}function P(ue){return Math.sqrt(ue.value)}function O(){var ue=null,me=1,Pe=1,Ce=D;function Ie(Oe){return Oe.x=me/2,Oe.y=Pe/2,ue?Oe.eachBefore(B(ue)).eachAfter(q(Ce,.5)).eachBefore(N(1)):Oe.eachBefore(B(P)).eachAfter(q(D,1)).eachAfter(q(Ce,Oe.r/Math.min(me,Pe))).eachBefore(N(Math.min(me,Pe)/(2*Oe.r))),Oe}return Ie.radius=function(Oe){return arguments.length?(ue=null==(ze=Oe)?null:T(ze),Ie):ue;var ze},Ie.size=function(Oe){return arguments.length?(me=+Oe[0],Pe=+Oe[1],Ie):[me,Pe]},Ie.padding=function(Oe){return arguments.length?(Ce="function"==typeof Oe?Oe:R(+Oe),Ie):Ce},Ie}function B(ue){return function(me){me.children||(me.r=Math.max(0,+ue(me)||0))}}function q(ue,me){return function(Pe){if(Ce=Pe.children){var Ce,Ie,Oe,ze=Ce.length,je=ue(Pe)*me||0;if(je)for(Ie=0;Ie<ze;++Ie)Ce[Ie].r+=je;if(Oe=f(Ce),je)for(Ie=0;Ie<ze;++Ie)Ce[Ie].r-=je;Pe.r=Oe+je}}}function N(ue){return function(me){var Pe=me.parent;me.r*=ue,Pe&&(me.x=Pe.x+ue*me.x,me.y=Pe.y+ue*me.y)}}function H(ue){ue.x0=Math.round(ue.x0),ue.y0=Math.round(ue.y0),ue.x1=Math.round(ue.x1),ue.y1=Math.round(ue.y1)}function $(ue,me,Pe,Ce,Ie){for(var Oe,ze=ue.children,je=-1,ve=ze.length,Ae=ue.value&&(Ce-me)/ue.value;++je<ve;)(Oe=ze[je]).y0=Pe,Oe.y1=Ie,Oe.x0=me,Oe.x1=me+=Oe.value*Ae}function j(){var ue=1,me=1,Pe=0,Ce=!1;function Ie(Oe){var je,ve,ze=Oe.height+1;return Oe.x0=Oe.y0=Pe,Oe.x1=ue,Oe.y1=me/ze,Oe.eachBefore((je=me,ve=ze,function(Ae){Ae.children&&$(Ae,Ae.x0,je*(Ae.depth+1)/ve,Ae.x1,je*(Ae.depth+2)/ve);var Le=Ae.x0,Ve=Ae.y0,Ne=Ae.x1-Pe,We=Ae.y1-Pe;Ne<Le&&(Le=Ne=(Le+Ne)/2),We<Ve&&(Ve=We=(Ve+We)/2),Ae.x0=Le,Ae.y0=Ve,Ae.x1=Ne,Ae.y1=We})),Ce&&Oe.eachBefore(H),Oe}return Ie.round=function(Oe){return arguments.length?(Ce=!!Oe,Ie):Ce},Ie.size=function(Oe){return arguments.length?(ue=+Oe[0],me=+Oe[1],Ie):[ue,me]},Ie.padding=function(Oe){return arguments.length?(Pe=+Oe,Ie):Pe},Ie}var W="$",G={depth:-1},ae={};function te(ue){return ue.id}function Q(ue){return ue.parentId}function ee(){var ue=te,me=Q;function Pe(Ce){var Ie,Oe,ze,je,ve,Ae,Le,Ve=Ce.length,Ne=new Array(Ve),We={};for(Oe=0;Oe<Ve;++Oe)ve=Ne[Oe]=new n(Ie=Ce[Oe]),null!=(Ae=ue(Ie,Oe,Ce))&&(Ae+="")&&(We[Le=W+(ve.id=Ae)]=Le in We?ae:ve);for(Oe=0;Oe<Ve;++Oe)if(ve=Ne[Oe],null!=(Ae=me(Ce[Oe],Oe,Ce))&&(Ae+="")){if(!(je=We[W+Ae]))throw new Error("missing: "+Ae);if(je===ae)throw new Error("ambiguous: "+Ae);je.children?je.children.push(ve):je.children=[ve],ve.parent=je}else{if(ze)throw new Error("multiple roots");ze=ve}if(!ze)throw new Error("no root");if(ze.parent=G,ze.eachBefore(function(Xe){Xe.depth=Xe.parent.depth+1,--Ve}).eachBefore(i),ze.parent=null,Ve>0)throw new Error("cycle");return ze}return Pe.id=function(Ce){return arguments.length?(ue=T(Ce),Pe):ue},Pe.parentId=function(Ce){return arguments.length?(me=T(Ce),Pe):me},Pe}function re(ue,me){return ue.parent===me.parent?1:2}function J(ue){var me=ue.children;return me?me[0]:ue.t}function le(ue){var me=ue.children;return me?me[me.length-1]:ue.t}function fe(ue,me,Pe){var Ce=Pe/(me.i-ue.i);me.c-=Ce,me.s+=Pe,ue.c+=Ce,me.z+=Pe,me.m+=Pe}function ce(ue,me,Pe){return ue.a.parent===me.parent?ue.a:Pe}function ge(ue,me){this._=ue,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=me}function Te(){var ue=re,me=1,Pe=1,Ce=null;function Ie(ve){var Ae=function(ht){for(var Mt,kt,_t,ut,st,Lt=new ge(ht,0),Ut=[Lt];Mt=Ut.pop();)if(_t=Mt._.children)for(Mt.children=new Array(st=_t.length),ut=st-1;ut>=0;--ut)Ut.push(kt=Mt.children[ut]=new ge(_t[ut],ut)),kt.parent=Mt;return(Lt.parent=new ge(null,0)).children=[Lt],Lt}(ve);if(Ae.eachAfter(Oe),Ae.parent.m=-Ae.z,Ae.eachBefore(ze),Ce)ve.eachBefore(je);else{var Le=ve,Ve=ve,Ne=ve;ve.eachBefore(function(ht){ht.x<Le.x&&(Le=ht),ht.x>Ve.x&&(Ve=ht),ht.depth>Ne.depth&&(Ne=ht)});var We=Le===Ve?1:ue(Le,Ve)/2,Xe=We-Le.x,nt=me/(Ve.x+We+Xe),dt=Pe/(Ne.depth||1);ve.eachBefore(function(ht){ht.x=(ht.x+Xe)*nt,ht.y=ht.depth*dt})}return ve}function Oe(ve){var Ae=ve.children,Le=ve.parent.children,Ve=ve.i?Le[ve.i-1]:null;if(Ae){!function(We){for(var Xe,nt=0,dt=0,ht=We.children,Mt=ht.length;--Mt>=0;)(Xe=ht[Mt]).z+=nt,Xe.m+=nt,nt+=Xe.s+(dt+=Xe.c)}(ve);var Ne=(Ae[0].z+Ae[Ae.length-1].z)/2;Ve?(ve.z=Ve.z+ue(ve._,Ve._),ve.m=ve.z-Ne):ve.z=Ne}else Ve&&(ve.z=Ve.z+ue(ve._,Ve._));ve.parent.A=function(We,Xe,nt){if(Xe){for(var dt,ht=We,Mt=We,kt=Xe,_t=ht.parent.children[0],ut=ht.m,st=Mt.m,Lt=kt.m,Ut=_t.m;kt=le(kt),ht=J(ht),kt&&ht;)_t=J(_t),(Mt=le(Mt)).a=We,(dt=kt.z+Lt-ht.z-ut+ue(kt._,ht._))>0&&(fe(ce(kt,We,nt),We,dt),ut+=dt,st+=dt),Lt+=kt.m,ut+=ht.m,Ut+=_t.m,st+=Mt.m;kt&&!le(Mt)&&(Mt.t=kt,Mt.m+=Lt-st),ht&&!J(_t)&&(_t.t=ht,_t.m+=ut-Ut,nt=We)}return nt}(ve,Ve,ve.parent.A||Le[0])}function ze(ve){ve._.x=ve.z+ve.parent.m,ve.m+=ve.parent.m}function je(ve){ve.x*=me,ve.y=ve.depth*Pe}return Ie.separation=function(ve){return arguments.length?(ue=ve,Ie):ue},Ie.size=function(ve){return arguments.length?(Ce=!1,me=+ve[0],Pe=+ve[1],Ie):Ce?null:[me,Pe]},Ie.nodeSize=function(ve){return arguments.length?(Ce=!0,me=+ve[0],Pe=+ve[1],Ie):Ce?[me,Pe]:null},Ie}function Me(ue,me,Pe,Ce,Ie){for(var Oe,ze=ue.children,je=-1,ve=ze.length,Ae=ue.value&&(Ie-Pe)/ue.value;++je<ve;)(Oe=ze[je]).x0=me,Oe.x1=Ce,Oe.y0=Pe,Oe.y1=Pe+=Oe.value*Ae}ge.prototype=Object.create(n.prototype);var we=(1+Math.sqrt(5))/2;function xe(ue,me,Pe,Ce,Ie,Oe){for(var ze,je,ve,Ae,Le,Ve,Ne,We,Xe,nt,dt,ht=[],Mt=me.children,kt=0,_t=0,ut=Mt.length,st=me.value;kt<ut;){ve=Ie-Pe,Ae=Oe-Ce;do{Le=Mt[_t++].value}while(!Le&&_t<ut);for(Ve=Ne=Le,dt=Le*Le*(nt=Math.max(Ae/ve,ve/Ae)/(st*ue)),Xe=Math.max(Ne/dt,dt/Ve);_t<ut;++_t){if(Le+=je=Mt[_t].value,je<Ve&&(Ve=je),je>Ne&&(Ne=je),dt=Le*Le*nt,(We=Math.max(Ne/dt,dt/Ve))>Xe){Le-=je;break}Xe=We}ht.push(ze={value:Le,dice:ve<Ae,children:Mt.slice(kt,_t)}),ze.dice?$(ze,Pe,Ce,Ie,st?Ce+=Ae*Le/st:Oe):Me(ze,Pe,Ce,st?Pe+=ve*Le/st:Ie,Oe),st-=Le,kt=_t}return ht}var be=function ue(me){function Pe(Ce,Ie,Oe,ze,je){xe(me,Ce,Ie,Oe,ze,je)}return Pe.ratio=function(Ce){return ue((Ce=+Ce)>1?Ce:1)},Pe}(we);function ye(){var ue=be,me=!1,Pe=1,Ce=1,Ie=[0],Oe=D,ze=D,je=D,ve=D,Ae=D;function Le(Ne){return Ne.x0=Ne.y0=0,Ne.x1=Pe,Ne.y1=Ce,Ne.eachBefore(Ve),Ie=[0],me&&Ne.eachBefore(H),Ne}function Ve(Ne){var We=Ie[Ne.depth],Xe=Ne.x0+We,nt=Ne.y0+We,dt=Ne.x1-We,ht=Ne.y1-We;dt<Xe&&(Xe=dt=(Xe+dt)/2),ht<nt&&(nt=ht=(nt+ht)/2),Ne.x0=Xe,Ne.y0=nt,Ne.x1=dt,Ne.y1=ht,Ne.children&&(We=Ie[Ne.depth+1]=Oe(Ne)/2,Xe+=Ae(Ne)-We,nt+=ze(Ne)-We,(dt-=je(Ne)-We)<Xe&&(Xe=dt=(Xe+dt)/2),(ht-=ve(Ne)-We)<nt&&(nt=ht=(nt+ht)/2),ue(Ne,Xe,nt,dt,ht))}return Le.round=function(Ne){return arguments.length?(me=!!Ne,Le):me},Le.size=function(Ne){return arguments.length?(Pe=+Ne[0],Ce=+Ne[1],Le):[Pe,Ce]},Le.tile=function(Ne){return arguments.length?(ue=T(Ne),Le):ue},Le.padding=function(Ne){return arguments.length?Le.paddingInner(Ne).paddingOuter(Ne):Le.paddingInner()},Le.paddingInner=function(Ne){return arguments.length?(Oe="function"==typeof Ne?Ne:R(+Ne),Le):Oe},Le.paddingOuter=function(Ne){return arguments.length?Le.paddingTop(Ne).paddingRight(Ne).paddingBottom(Ne).paddingLeft(Ne):Le.paddingTop()},Le.paddingTop=function(Ne){return arguments.length?(ze="function"==typeof Ne?Ne:R(+Ne),Le):ze},Le.paddingRight=function(Ne){return arguments.length?(je="function"==typeof Ne?Ne:R(+Ne),Le):je},Le.paddingBottom=function(Ne){return arguments.length?(ve="function"==typeof Ne?Ne:R(+Ne),Le):ve},Le.paddingLeft=function(Ne){return arguments.length?(Ae="function"==typeof Ne?Ne:R(+Ne),Le):Ae},Le}function Se(ue,me,Pe,Ce,Ie){var Oe,ze,je=ue.children,ve=je.length,Ae=new Array(ve+1);for(Ae[0]=ze=Oe=0;Oe<ve;++Oe)Ae[Oe+1]=ze+=je[Oe].value;!function Le(Ve,Ne,We,Xe,nt,dt,ht){if(Ve>=Ne-1){var Mt=je[Ve];return Mt.x0=Xe,Mt.y0=nt,Mt.x1=dt,void(Mt.y1=ht)}for(var kt=Ae[Ve],_t=We/2+kt,ut=Ve+1,st=Ne-1;ut<st;){var Lt=ut+st>>>1;Ae[Lt]<_t?ut=Lt+1:st=Lt}_t-Ae[ut-1]<Ae[ut]-_t&&Ve+1<ut&&--ut;var Ut=Ae[ut]-kt,Ht=We-Ut;if(dt-Xe>ht-nt){var Pt=(Xe*Ht+dt*Ut)/We;Le(Ve,ut,Ut,Xe,nt,Pt,ht),Le(ut,Ne,Ht,Pt,nt,dt,ht)}else{var Je=(nt*Ht+ht*Ut)/We;Le(Ve,ut,Ut,Xe,nt,dt,Je),Le(ut,Ne,Ht,Xe,Je,dt,ht)}}(0,ve,ue.value,me,Pe,Ce,Ie)}function Ee(ue,me,Pe,Ce,Ie){(1&ue.depth?Me:$)(ue,me,Pe,Ce,Ie)}var he=function ue(me){function Pe(Ce,Ie,Oe,ze,je){if((ve=Ce._squarify)&&ve.ratio===me)for(var ve,Ae,Le,Ve,Ne,We=-1,Xe=ve.length,nt=Ce.value;++We<Xe;){for(Le=(Ae=ve[We]).children,Ve=Ae.value=0,Ne=Le.length;Ve<Ne;++Ve)Ae.value+=Le[Ve].value;Ae.dice?$(Ae,Ie,Oe,ze,Oe+=(je-Oe)*Ae.value/nt):Me(Ae,Ie,Oe,Ie+=(ze-Ie)*Ae.value/nt,je),nt-=Ae.value}else Ce._squarify=ve=xe(me,Ce,Ie,Oe,ze,je),ve.ratio=me}return Pe.ratio=function(Ce){return ue((Ce=+Ce)>1?Ce:1)},Pe}(we)},10132:function(ie,z,e){"use strict";e.d(z,{ak:function(){return h}});var S=Math.PI,A=2*S,a=1e-6,M=A-a;function _(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function d(){return new _}_.prototype=d.prototype={constructor:_,moveTo:function(c,b){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,b){this._+="L"+(this._x1=+c)+","+(this._y1=+b)},quadraticCurveTo:function(c,b,p,m){this._+="Q"+ +c+","+ +b+","+(this._x1=+p)+","+(this._y1=+m)},bezierCurveTo:function(c,b,p,m,v,x){this._+="C"+ +c+","+ +b+","+ +p+","+ +m+","+(this._x1=+v)+","+(this._y1=+x)},arcTo:function(c,b,p,m,v){var x=this._x1,y=this._y1,w=(p=+p)-(c=+c),f=(m=+m)-(b=+b),C=x-c,T=y-b,D=C*C+T*T;if((v=+v)<0)throw new Error("negative radius: "+v);if(null===this._x1)this._+="M"+(this._x1=c)+","+(this._y1=b);else if(D>a)if(Math.abs(T*w-f*C)>a&&v){var R=p-x,P=m-y,O=w*w+f*f,B=R*R+P*P,q=Math.sqrt(O),N=Math.sqrt(D),H=v*Math.tan((S-Math.acos((O+D-B)/(2*q*N)))/2),$=H/N,j=H/q;Math.abs($-1)>a&&(this._+="L"+(c+$*C)+","+(b+$*T)),this._+="A"+v+","+v+",0,0,"+ +(T*R>C*P)+","+(this._x1=c+j*w)+","+(this._y1=b+j*f)}else this._+="L"+(this._x1=c)+","+(this._y1=b)},arc:function(c,b,p,m,v,x){c=+c,b=+b,x=!!x;var y=(p=+p)*Math.cos(m),w=p*Math.sin(m),f=c+y,C=b+w,T=1^x,D=x?m-v:v-m;if(p<0)throw new Error("negative radius: "+p);null===this._x1?this._+="M"+f+","+C:(Math.abs(this._x1-f)>a||Math.abs(this._y1-C)>a)&&(this._+="L"+f+","+C),p&&(D<0&&(D=D%A+A),D>M?this._+="A"+p+","+p+",0,1,"+T+","+(c-y)+","+(b-w)+"A"+p+","+p+",0,1,"+T+","+(this._x1=f)+","+(this._y1=C):D>a&&(this._+="A"+p+","+p+",0,"+ +(D>=S)+","+T+","+(this._x1=c+p*Math.cos(v))+","+(this._y1=b+p*Math.sin(v))))},rect:function(c,b,p,m){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+b)+"h"+ +p+"v"+ +m+"h"+-p+"Z"},toString:function(){return this._}};var s=d,t=Array.prototype.slice;function i(c){return function(){return c}}function n(c){return c[0]}function r(c){return c[1]}function o(c){return c.source}function u(c){return c.target}function l(c,b,p,m,v){c.moveTo(b,p),c.bezierCurveTo(b=(b+m)/2,p,b,v,m,v)}function h(){return function(c){var b=o,p=u,m=n,v=r,x=null;function y(){var w,f=t.call(arguments),C=b.apply(this,f),T=p.apply(this,f);if(x||(x=w=s()),c(x,+m.apply(this,(f[0]=C,f)),+v.apply(this,f),+m.apply(this,(f[0]=T,f)),+v.apply(this,f)),w)return x=null,w+""||null}return y.source=function(w){return arguments.length?(b=w,y):b},y.target=function(w){return arguments.length?(p=w,y):p},y.x=function(w){return arguments.length?(m="function"==typeof w?w:i(+w),y):m},y.y=function(w){return arguments.length?(v="function"==typeof w?w:i(+w),y):v},y.context=function(w){return arguments.length?(x=w??null,y):x},y}(l)}},94336:function(ie,z,e){"use strict";e.d(z,{Yn:function(){return o},m_:function(){return n},E9:function(){return u}});var S=e(8208),A=e(58931),a=e(46192),M=e(68936),_=e(32171),d=e(53528);function s(ut){if(0<=ut.y&&ut.y<100){var st=new Date(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L);return st.setFullYear(ut.y),st}return new Date(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L)}function t(ut){if(0<=ut.y&&ut.y<100){var st=new Date(Date.UTC(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L));return st.setUTCFullYear(ut.y),st}return new Date(Date.UTC(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L))}function i(ut,st,Lt){return{y:ut,m:st,d:Lt,H:0,M:0,S:0,L:0}}function n(ut){var st=ut.dateTime,Lt=ut.date,Ut=ut.time,Ht=ut.periods,Pt=ut.days,Je=ut.shortDays,tt=ut.months,Ge=ut.shortMonths,Qe=v(Ht),pt=x(Ht),ct=v(Pt),He=x(Pt),qe=v(Je),ft=x(Je),et=v(tt),xt=x(tt),wt=v(Ge),At=x(Ge),yt={a:function(Gt){return Je[Gt.getDay()]},A:function(Gt){return Pt[Gt.getDay()]},b:function(Gt){return Ge[Gt.getMonth()]},B:function(Gt){return tt[Gt.getMonth()]},c:null,d:ee,e:ee,f:ce,H:re,I:J,j:le,L:fe,m:ge,M:Te,p:function(Gt){return Ht[+(Gt.getHours()>=12)]},q:function(Gt){return 1+~~(Gt.getMonth()/3)},Q:kt,s:_t,S:Me,u:we,U:xe,V:be,w:ye,W:Se,x:null,X:null,y:Ee,Y:he,Z:ue,"%":Mt},Ot={a:function(Gt){return Je[Gt.getUTCDay()]},A:function(Gt){return Pt[Gt.getUTCDay()]},b:function(Gt){return Ge[Gt.getUTCMonth()]},B:function(Gt){return tt[Gt.getUTCMonth()]},c:null,d:me,e:me,f:ze,H:Pe,I:Ce,j:Ie,L:Oe,m:je,M:ve,p:function(Gt){return Ht[+(Gt.getUTCHours()>=12)]},q:function(Gt){return 1+~~(Gt.getUTCMonth()/3)},Q:kt,s:_t,S:Ae,u:Le,U:Ve,V:Ne,w:We,W:Xe,x:null,X:null,y:nt,Y:dt,Z:ht,"%":Mt},Ct={a:function(Gt,on,Jt){var $t=qe.exec(on.slice(Jt));return $t?(Gt.w=ft[$t[0].toLowerCase()],Jt+$t[0].length):-1},A:function(Gt,on,Jt){var $t=ct.exec(on.slice(Jt));return $t?(Gt.w=He[$t[0].toLowerCase()],Jt+$t[0].length):-1},b:function(Gt,on,Jt){var $t=wt.exec(on.slice(Jt));return $t?(Gt.m=At[$t[0].toLowerCase()],Jt+$t[0].length):-1},B:function(Gt,on,Jt){var $t=et.exec(on.slice(Jt));return $t?(Gt.m=xt[$t[0].toLowerCase()],Jt+$t[0].length):-1},c:function(Gt,on,Jt){return jt(Gt,st,on,Jt)},d:q,e:q,f:G,H,I:H,j:N,L:W,m:B,M:$,p:function(Gt,on,Jt){var $t=Qe.exec(on.slice(Jt));return $t?(Gt.p=pt[$t[0].toLowerCase()],Jt+$t[0].length):-1},q:O,Q:te,s:Q,S:j,u:w,U:f,V:C,w:y,W:T,x:function(Gt,on,Jt){return jt(Gt,Lt,on,Jt)},X:function(Gt,on,Jt){return jt(Gt,Ut,on,Jt)},y:R,Y:D,Z:P,"%":ae};function Rt(Gt,on){return function(Jt){var $t,tn,dn,Gn=[],zn=-1,Mn=0,ln=Gt.length;for(Jt instanceof Date||(Jt=new Date(+Jt));++zn<ln;)37===Gt.charCodeAt(zn)&&(Gn.push(Gt.slice(Mn,zn)),null!=(tn=l[$t=Gt.charAt(++zn)])?$t=Gt.charAt(++zn):tn="e"===$t?" ":"0",(dn=on[$t])&&($t=dn(Jt,tn)),Gn.push($t),Mn=zn+1);return Gn.push(Gt.slice(Mn,zn)),Gn.join("")}}function Bt(Gt,on){return function(Jt){var $t,tn,dn=i(1900,void 0,1);if(jt(dn,Gt,Jt+="",0)!=Jt.length)return null;if("Q"in dn)return new Date(dn.Q);if("s"in dn)return new Date(1e3*dn.s+("L"in dn?dn.L:0));if(on&&!("Z"in dn)&&(dn.Z=0),"p"in dn&&(dn.H=dn.H%12+12*dn.p),void 0===dn.m&&(dn.m="q"in dn?dn.q:0),"V"in dn){if(dn.V<1||dn.V>53)return null;"w"in dn||(dn.w=1),"Z"in dn?(tn=($t=t(i(dn.y,0,1))).getUTCDay(),$t=tn>4||0===tn?S.ot.ceil($t):(0,S.ot)($t),$t=A.c.offset($t,7*(dn.V-1)),dn.y=$t.getUTCFullYear(),dn.m=$t.getUTCMonth(),dn.d=$t.getUTCDate()+(dn.w+6)%7):(tn=($t=s(i(dn.y,0,1))).getDay(),$t=tn>4||0===tn?a.qT.ceil($t):(0,a.qT)($t),$t=M.c.offset($t,7*(dn.V-1)),dn.y=$t.getFullYear(),dn.m=$t.getMonth(),dn.d=$t.getDate()+(dn.w+6)%7)}else("W"in dn||"U"in dn)&&("w"in dn||(dn.w="u"in dn?dn.u%7:"W"in dn?1:0),tn="Z"in dn?t(i(dn.y,0,1)).getUTCDay():s(i(dn.y,0,1)).getDay(),dn.m=0,dn.d="W"in dn?(dn.w+6)%7+7*dn.W-(tn+5)%7:dn.w+7*dn.U-(tn+6)%7);return"Z"in dn?(dn.H+=dn.Z/100|0,dn.M+=dn.Z%100,t(dn)):s(dn)}}function jt(Gt,on,Jt,$t){for(var tn,dn,Gn=0,zn=on.length,Mn=Jt.length;Gn<zn;){if($t>=Mn)return-1;if(37===(tn=on.charCodeAt(Gn++))){if(tn=on.charAt(Gn++),!(dn=Ct[tn in l?on.charAt(Gn++):tn])||($t=dn(Gt,Jt,$t))<0)return-1}else if(tn!=Jt.charCodeAt($t++))return-1}return $t}return yt.x=Rt(Lt,yt),yt.X=Rt(Ut,yt),yt.c=Rt(st,yt),Ot.x=Rt(Lt,Ot),Ot.X=Rt(Ut,Ot),Ot.c=Rt(st,Ot),{format:function(Gt){var on=Rt(Gt+="",yt);return on.toString=function(){return Gt},on},parse:function(Gt){var on=Bt(Gt+="",!1);return on.toString=function(){return Gt},on},utcFormat:function(Gt){var on=Rt(Gt+="",Ot);return on.toString=function(){return Gt},on},utcParse:function(Gt){var on=Bt(Gt+="",!0);return on.toString=function(){return Gt},on}}}var r,o,u,l={"-":"",_:" ",0:"0"},h=/^\s*\d+/,c=/^%/,b=/[\\^$*+?|[\]().{}]/g;function p(ut,st,Lt){var Ut=ut<0?"-":"",Ht=(Ut?-ut:ut)+"",Pt=Ht.length;return Ut+(Pt<Lt?new Array(Lt-Pt+1).join(st)+Ht:Ht)}function m(ut){return ut.replace(b,"\\$&")}function v(ut){return new RegExp("^(?:"+ut.map(m).join("|")+")","i")}function x(ut){for(var st={},Lt=-1,Ut=ut.length;++Lt<Ut;)st[ut[Lt].toLowerCase()]=Lt;return st}function y(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+1));return Ut?(ut.w=+Ut[0],Lt+Ut[0].length):-1}function w(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+1));return Ut?(ut.u=+Ut[0],Lt+Ut[0].length):-1}function f(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.U=+Ut[0],Lt+Ut[0].length):-1}function C(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.V=+Ut[0],Lt+Ut[0].length):-1}function T(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.W=+Ut[0],Lt+Ut[0].length):-1}function D(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+4));return Ut?(ut.y=+Ut[0],Lt+Ut[0].length):-1}function R(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.y=+Ut[0]+(+Ut[0]>68?1900:2e3),Lt+Ut[0].length):-1}function P(ut,st,Lt){var Ut=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(st.slice(Lt,Lt+6));return Ut?(ut.Z=Ut[1]?0:-(Ut[2]+(Ut[3]||"00")),Lt+Ut[0].length):-1}function O(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+1));return Ut?(ut.q=3*Ut[0]-3,Lt+Ut[0].length):-1}function B(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.m=Ut[0]-1,Lt+Ut[0].length):-1}function q(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.d=+Ut[0],Lt+Ut[0].length):-1}function N(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+3));return Ut?(ut.m=0,ut.d=+Ut[0],Lt+Ut[0].length):-1}function H(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.H=+Ut[0],Lt+Ut[0].length):-1}function $(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.M=+Ut[0],Lt+Ut[0].length):-1}function j(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+2));return Ut?(ut.S=+Ut[0],Lt+Ut[0].length):-1}function W(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+3));return Ut?(ut.L=+Ut[0],Lt+Ut[0].length):-1}function G(ut,st,Lt){var Ut=h.exec(st.slice(Lt,Lt+6));return Ut?(ut.L=Math.floor(Ut[0]/1e3),Lt+Ut[0].length):-1}function ae(ut,st,Lt){var Ut=c.exec(st.slice(Lt,Lt+1));return Ut?Lt+Ut[0].length:-1}function te(ut,st,Lt){var Ut=h.exec(st.slice(Lt));return Ut?(ut.Q=+Ut[0],Lt+Ut[0].length):-1}function Q(ut,st,Lt){var Ut=h.exec(st.slice(Lt));return Ut?(ut.s=+Ut[0],Lt+Ut[0].length):-1}function ee(ut,st){return p(ut.getDate(),st,2)}function re(ut,st){return p(ut.getHours(),st,2)}function J(ut,st){return p(ut.getHours()%12||12,st,2)}function le(ut,st){return p(1+M.c.count((0,_.c)(ut),ut),st,3)}function fe(ut,st){return p(ut.getMilliseconds(),st,3)}function ce(ut,st){return fe(ut,st)+"000"}function ge(ut,st){return p(ut.getMonth()+1,st,2)}function Te(ut,st){return p(ut.getMinutes(),st,2)}function Me(ut,st){return p(ut.getSeconds(),st,2)}function we(ut){var st=ut.getDay();return 0===st?7:st}function xe(ut,st){return p(a.uU.count((0,_.c)(ut)-1,ut),st,2)}function be(ut,st){var Lt=ut.getDay();return ut=Lt>=4||0===Lt?(0,a.kD)(ut):a.kD.ceil(ut),p(a.kD.count((0,_.c)(ut),ut)+(4===(0,_.c)(ut).getDay()),st,2)}function ye(ut){return ut.getDay()}function Se(ut,st){return p(a.qT.count((0,_.c)(ut)-1,ut),st,2)}function Ee(ut,st){return p(ut.getFullYear()%100,st,2)}function he(ut,st){return p(ut.getFullYear()%1e4,st,4)}function ue(ut){var st=ut.getTimezoneOffset();return(st>0?"-":(st*=-1,"+"))+p(st/60|0,"0",2)+p(st%60,"0",2)}function me(ut,st){return p(ut.getUTCDate(),st,2)}function Pe(ut,st){return p(ut.getUTCHours(),st,2)}function Ce(ut,st){return p(ut.getUTCHours()%12||12,st,2)}function Ie(ut,st){return p(1+A.c.count((0,d.c)(ut),ut),st,3)}function Oe(ut,st){return p(ut.getUTCMilliseconds(),st,3)}function ze(ut,st){return Oe(ut,st)+"000"}function je(ut,st){return p(ut.getUTCMonth()+1,st,2)}function ve(ut,st){return p(ut.getUTCMinutes(),st,2)}function Ae(ut,st){return p(ut.getUTCSeconds(),st,2)}function Le(ut){var st=ut.getUTCDay();return 0===st?7:st}function Ve(ut,st){return p(S.EV.count((0,d.c)(ut)-1,ut),st,2)}function Ne(ut,st){var Lt=ut.getUTCDay();return ut=Lt>=4||0===Lt?(0,S.yA)(ut):S.yA.ceil(ut),p(S.yA.count((0,d.c)(ut),ut)+(4===(0,d.c)(ut).getUTCDay()),st,2)}function We(ut){return ut.getUTCDay()}function Xe(ut,st){return p(S.ot.count((0,d.c)(ut)-1,ut),st,2)}function nt(ut,st){return p(ut.getUTCFullYear()%100,st,2)}function dt(ut,st){return p(ut.getUTCFullYear()%1e4,st,4)}function ht(){return"+0000"}function Mt(){return"%"}function kt(ut){return+ut}function _t(ut){return Math.floor(+ut/1e3)}r=n({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o=r.format,u=r.utcFormat},68936:function(ie,z,e){"use strict";e.d(z,{m:function(){return M}});var S=e(81628),A=e(69792),a=(0,S.c)(function(_){_.setHours(0,0,0,0)},function(_,d){_.setDate(_.getDate()+d)},function(_,d){return(d-_-(d.getTimezoneOffset()-_.getTimezoneOffset())*A.iy)/A.SK},function(_){return _.getDate()-1});z.c=a;var M=a.range},69792:function(ie,z,e){"use strict";e.d(z,{KK:function(){return _},SK:function(){return M},cg:function(){return a},iy:function(){return A},yc:function(){return S}});var S=1e3,A=6e4,a=36e5,M=864e5,_=6048e5},73220:function(ie,z,e){"use strict";e.r(z),e.d(z,{timeDay:function(){return h.c},timeDays:function(){return h.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return S.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return M},timeMinute:function(){return n},timeMinutes:function(){return r},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return p},timeMonths:function(){return m},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return s},timeSeconds:function(){return t},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return v.c},timeYears:function(){return v.Q},utcDay:function(){return D.c},utcDays:function(){return D.o},utcFriday:function(){return R.od},utcFridays:function(){return R.iG},utcHour:function(){return C},utcHours:function(){return T},utcMillisecond:function(){return a},utcMilliseconds:function(){return M},utcMinute:function(){return y},utcMinutes:function(){return w},utcMonday:function(){return R.ot},utcMondays:function(){return R.iO},utcMonth:function(){return O},utcMonths:function(){return B},utcSaturday:function(){return R.Ad},utcSaturdays:function(){return R.K8},utcSecond:function(){return s},utcSeconds:function(){return t},utcSunday:function(){return R.EV},utcSundays:function(){return R.Wq},utcThursday:function(){return R.yA},utcThursdays:function(){return R.ob},utcTuesday:function(){return R.sG},utcTuesdays:function(){return R.kl},utcWednesday:function(){return R._6},utcWednesdays:function(){return R.W_},utcWeek:function(){return R.EV},utcWeeks:function(){return R.Wq},utcYear:function(){return q.c},utcYears:function(){return q.i}});var S=e(81628),A=(0,S.c)(function(){},function(N,H){N.setTime(+N+H)},function(N,H){return H-N});A.every=function(N){return N=Math.floor(N),isFinite(N)&&N>0?N>1?(0,S.c)(function(H){H.setTime(Math.floor(H/N)*N)},function(H,$){H.setTime(+H+$*N)},function(H,$){return($-H)/N}):A:null};var a=A,M=A.range,_=e(69792),d=(0,S.c)(function(N){N.setTime(N-N.getMilliseconds())},function(N,H){N.setTime(+N+H*_.yc)},function(N,H){return(H-N)/_.yc},function(N){return N.getUTCSeconds()}),s=d,t=d.range,i=(0,S.c)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*_.yc)},function(N,H){N.setTime(+N+H*_.iy)},function(N,H){return(H-N)/_.iy},function(N){return N.getMinutes()}),n=i,r=i.range,o=(0,S.c)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*_.yc-N.getMinutes()*_.iy)},function(N,H){N.setTime(+N+H*_.cg)},function(N,H){return(H-N)/_.cg},function(N){return N.getHours()}),u=o,l=o.range,h=e(68936),c=e(46192),b=(0,S.c)(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,H){N.setMonth(N.getMonth()+H)},function(N,H){return H.getMonth()-N.getMonth()+12*(H.getFullYear()-N.getFullYear())},function(N){return N.getMonth()}),p=b,m=b.range,v=e(32171),x=(0,S.c)(function(N){N.setUTCSeconds(0,0)},function(N,H){N.setTime(+N+H*_.iy)},function(N,H){return(H-N)/_.iy},function(N){return N.getUTCMinutes()}),y=x,w=x.range,f=(0,S.c)(function(N){N.setUTCMinutes(0,0,0)},function(N,H){N.setTime(+N+H*_.cg)},function(N,H){return(H-N)/_.cg},function(N){return N.getUTCHours()}),C=f,T=f.range,D=e(58931),R=e(8208),P=(0,S.c)(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,H){N.setUTCMonth(N.getUTCMonth()+H)},function(N,H){return H.getUTCMonth()-N.getUTCMonth()+12*(H.getUTCFullYear()-N.getUTCFullYear())},function(N){return N.getUTCMonth()}),O=P,B=P.range,q=e(53528)},81628:function(ie,z,e){"use strict";e.d(z,{c:function(){return a}});var S=new Date,A=new Date;function a(M,_,d,s){function t(i){return M(i=0===arguments.length?new Date:new Date(+i)),i}return t.floor=function(i){return M(i=new Date(+i)),i},t.ceil=function(i){return M(i=new Date(i-1)),_(i,1),M(i),i},t.round=function(i){var n=t(i),r=t.ceil(i);return i-n<r-i?n:r},t.offset=function(i,n){return _(i=new Date(+i),null==n?1:Math.floor(n)),i},t.range=function(i,n,r){var o,u=[];if(i=t.ceil(i),r=null==r?1:Math.floor(r),!(i<n&&r>0))return u;do{u.push(o=new Date(+i)),_(i,r),M(i)}while(o<i&&i<n);return u},t.filter=function(i){return a(function(n){if(n>=n)for(;M(n),!i(n);)n.setTime(n-1)},function(n,r){if(n>=n)if(r<0)for(;++r<=0;)for(;_(n,-1),!i(n););else for(;--r>=0;)for(;_(n,1),!i(n););})},d&&(t.count=function(i,n){return S.setTime(+i),A.setTime(+n),M(S),M(A),Math.floor(d(S,A))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(s?function(n){return s(n)%i==0}:function(n){return t.count(0,n)%i==0}):t:null}),t}},58931:function(ie,z,e){"use strict";e.d(z,{o:function(){return M}});var S=e(81628),A=e(69792),a=(0,S.c)(function(_){_.setUTCHours(0,0,0,0)},function(_,d){_.setUTCDate(_.getUTCDate()+d)},function(_,d){return(d-_)/A.SK},function(_){return _.getUTCDate()-1});z.c=a;var M=a.range},8208:function(ie,z,e){"use strict";e.d(z,{Ad:function(){return n},EV:function(){return M},K8:function(){return b},W_:function(){return l},Wq:function(){return r},_6:function(){return s},iG:function(){return c},iO:function(){return o},kl:function(){return u},ob:function(){return h},od:function(){return i},ot:function(){return _},sG:function(){return d},yA:function(){return t}});var S=e(81628),A=e(69792);function a(p){return(0,S.c)(function(m){m.setUTCDate(m.getUTCDate()-(m.getUTCDay()+7-p)%7),m.setUTCHours(0,0,0,0)},function(m,v){m.setUTCDate(m.getUTCDate()+7*v)},function(m,v){return(v-m)/A.KK})}var M=a(0),_=a(1),d=a(2),s=a(3),t=a(4),i=a(5),n=a(6),r=M.range,o=_.range,u=d.range,l=s.range,h=t.range,c=i.range,b=n.range},53528:function(ie,z,e){"use strict";e.d(z,{i:function(){return a}});var S=e(81628),A=(0,S.c)(function(M){M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,_){M.setUTCFullYear(M.getUTCFullYear()+_)},function(M,_){return _.getUTCFullYear()-M.getUTCFullYear()},function(M){return M.getUTCFullYear()});A.every=function(M){return isFinite(M=Math.floor(M))&&M>0?(0,S.c)(function(_){_.setUTCFullYear(Math.floor(_.getUTCFullYear()/M)*M),_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},function(_,d){_.setUTCFullYear(_.getUTCFullYear()+d*M)}):null},z.c=A;var a=A.range},46192:function(ie,z,e){"use strict";e.d(z,{Ab:function(){return r},Mf:function(){return d},Oc:function(){return u},QP:function(){return o},Wc:function(){return n},aI:function(){return b},eC:function(){return h},eg:function(){return s},iB:function(){return i},kD:function(){return t},qT:function(){return _},sJ:function(){return c},sn:function(){return l},uU:function(){return M}});var S=e(81628),A=e(69792);function a(p){return(0,S.c)(function(m){m.setDate(m.getDate()-(m.getDay()+7-p)%7),m.setHours(0,0,0,0)},function(m,v){m.setDate(m.getDate()+7*v)},function(m,v){return(v-m-(v.getTimezoneOffset()-m.getTimezoneOffset())*A.iy)/A.KK})}var M=a(0),_=a(1),d=a(2),s=a(3),t=a(4),i=a(5),n=a(6),r=M.range,o=_.range,u=d.range,l=s.range,h=t.range,c=i.range,b=n.range},32171:function(ie,z,e){"use strict";e.d(z,{Q:function(){return a}});var S=e(81628),A=(0,S.c)(function(M){M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,_){M.setFullYear(M.getFullYear()+_)},function(M,_){return _.getFullYear()-M.getFullYear()},function(M){return M.getFullYear()});A.every=function(M){return isFinite(M=Math.floor(M))&&M>0?(0,S.c)(function(_){_.setFullYear(Math.floor(_.getFullYear()/M)*M),_.setMonth(0,1),_.setHours(0,0,0,0)},function(_,d){_.setFullYear(_.getFullYear()+d*M)}):null},z.c=A;var a=A.range},64348:function(ie,z,e){"use strict";var S=e(39640)(),A=e(53664),a=S&&A("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var M=A("%SyntaxError%"),_=A("%TypeError%"),d=e(2304);ie.exports=function(s,t,i){if(!s||"object"!=typeof s&&"function"!=typeof s)throw new _("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new _("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new _("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new _("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new _("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new _("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],l=!!d&&d(s,t);if(a)a(s,t,{configurable:null===o&&l?l.configurable:!o,enumerable:null===n&&l?l.enumerable:!n,value:i,writable:null===r&&l?l.writable:!r});else{if(!u&&(n||r||o))throw new M("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[t]=i}}},81288:function(ie,z,e){"use strict";var S=e(41820),A="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,M=Array.prototype.concat,_=Object.defineProperty,d=e(39640)(),s=_&&d,t=function(n,r,o,u){if(r in n)if(!0===u){if(n[r]===o)return}else if("function"!=typeof(l=u)||"[object Function]"!==a.call(l)||!u())return;var l;s?_(n,r,{configurable:!0,enumerable:!1,value:o,writable:!0}):n[r]=o},i=function(n,r){var o=arguments.length>2?arguments[2]:{},u=S(r);A&&(u=M.call(u,Object.getOwnPropertySymbols(r)));for(var l=0;l<u.length;l+=1)t(n,u[l],r[u[l]],o[u[l]])};i.supportsDescriptors=!!s,ie.exports=i},31264:function(ie){ie.exports=function(){for(var z=0;z<arguments.length;z++)if(void 0!==arguments[z])return arguments[z]}},63768:function(ie){"use strict";ie.exports=S;var z=(S.canvas=document.createElement("canvas")).getContext("2d"),e=A([32,126]);function S(a,M){Array.isArray(a)&&(a=a.join(", "));var _,d={},s=16,t=.05;M&&(2===M.length&&"number"==typeof M[0]?_=A(M):Array.isArray(M)?_=M:(M.o?_=A(M.o):M.pairs&&(_=M.pairs),M.fontSize&&(s=M.fontSize),null!=M.threshold&&(t=M.threshold))),_||(_=e),z.font=s+"px "+a;for(var i=0;i<_.length;i++){var n=_[i],r=z.measureText(n[0]).width+z.measureText(n[1]).width,o=z.measureText(n).width;Math.abs(r-o)>s*t&&(d[n]=(o-r)/s*1e3)}return d}function A(a){for(var M=[],_=a[0];_<=a[1];_++)for(var d=String.fromCharCode(_),s=a[0];s<a[1];s++){var t=d+String.fromCharCode(s);M.push(t)}return M}S.createPairs=A,S.ascii=e},22235:function(ie,z,e){var S=e(49972),A=e(48816),a={M:"moveTo",C:"bezierCurveTo"};ie.exports=function(M,_){M.beginPath(),A(S(_)).forEach(function(d){var s=d[0],t=d.slice(1);M[a[s]].apply(M,t)}),M.closePath()}},72512:function(ie){ie.exports=function(z){switch(z){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(ie){"use strict";function z(e,S,A){var a=0|e[A];if(a<=0)return[];var M,_=new Array(a);if(A===e.length-1)for(M=0;M<a;++M)_[M]=S;else for(M=0;M<a;++M)_[M]=z(e,S,A+1);return _}ie.exports=function(e,S){switch(void 0===S&&(S=0),typeof e){case"number":if(e>0)return function(A,a){var M,_;for(M=new Array(A),_=0;_<A;++_)M[_]=a;return M}(0|e,S);break;case"object":if("number"==typeof e.length)return z(e,S,0)}return[]}},28912:function(ie){"use strict";function z(C,T,D){D=D||2;var R,P,O,B,q,N,H,$=T&&T.length,j=$?T[0]*D:C.length,W=e(C,0,j,D,!0),G=[];if(!W||W.next===W.prev)return G;if($&&(W=function(te,Q,ee,re){var J,le,fe,ce=[];for(J=0,le=Q.length;J<le;J++)(fe=e(te,Q[J]*re,J<le-1?Q[J+1]*re:te.length,re,!1))===fe.next&&(fe.steiner=!0),ce.push(r(fe));for(ce.sort(s),J=0;J<ce.length;J++)t(ce[J],ee),ee=S(ee,ee.next);return ee}(C,T,W,D)),C.length>80*D){R=O=C[0],P=B=C[1];for(var ae=D;ae<j;ae+=D)(q=C[ae])<R&&(R=q),(N=C[ae+1])<P&&(P=N),q>O&&(O=q),N>B&&(B=N);H=0!==(H=Math.max(O-R,B-P))?1/H:0}return A(W,G,D,R,P,H),G}function e(C,T,D,R,P){var O,B;if(P===f(C,T,D,R)>0)for(O=T;O<D;O+=R)B=x(O,C[O],C[O+1],B);else for(O=D-R;O>=T;O-=R)B=x(O,C[O],C[O+1],B);return B&&h(B,B.next)&&(y(B),B=B.next),B}function S(C,T){if(!C)return C;T||(T=C);var D,R=C;do{if(D=!1,R.steiner||!h(R,R.next)&&0!==l(R.prev,R,R.next))R=R.next;else{if(y(R),(R=T=R.prev)===R.next)break;D=!0}}while(D||R!==T);return T}function A(C,T,D,R,P,O,B){if(C){!B&&O&&function($,j,W,G){var ae=$;do{null===ae.z&&(ae.z=n(ae.x,ae.y,j,W,G)),ae.prevZ=ae.prev,ae.nextZ=ae.next,ae=ae.next}while(ae!==$);ae.prevZ.nextZ=null,ae.prevZ=null,function(te){var Q,ee,re,J,le,fe,ce,ge,Te=1;do{for(ee=te,te=null,le=null,fe=0;ee;){for(fe++,re=ee,ce=0,Q=0;Q<Te&&(ce++,re=re.nextZ);Q++);for(ge=Te;ce>0||ge>0&&re;)0!==ce&&(0===ge||!re||ee.z<=re.z)?(J=ee,ee=ee.nextZ,ce--):(J=re,re=re.nextZ,ge--),le?le.nextZ=J:te=J,J.prevZ=le,le=J;ee=re}le.nextZ=null,Te*=2}while(fe>1)}(ae)}(C,R,P,O);for(var q,N,H=C;C.prev!==C.next;)if(q=C.prev,N=C.next,O?M(C,R,P,O):a(C))T.push(q.i/D),T.push(C.i/D),T.push(N.i/D),y(C),C=N.next,H=N.next;else if((C=N)===H){B?1===B?A(C=_(S(C),T,D),T,D,R,P,O,2):2===B&&d(C,T,D,R,P,O):A(S(C),T,D,R,P,O,1);break}}}function a(C){var T=C.prev,D=C,R=C.next;if(l(T,D,R)>=0)return!1;for(var P=C.next.next;P!==C.prev;){if(o(T.x,T.y,D.x,D.y,R.x,R.y,P.x,P.y)&&l(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function M(C,T,D,R){var P=C.prev,O=C,B=C.next;if(l(P,O,B)>=0)return!1;for(var H=P.x>O.x?P.x>B.x?P.x:B.x:O.x>B.x?O.x:B.x,$=P.y>O.y?P.y>B.y?P.y:B.y:O.y>B.y?O.y:B.y,j=n(P.x<O.x?P.x<B.x?P.x:B.x:O.x<B.x?O.x:B.x,P.y<O.y?P.y<B.y?P.y:B.y:O.y<B.y?O.y:B.y,T,D,R),W=n(H,$,T,D,R),G=C.prevZ,ae=C.nextZ;G&&G.z>=j&&ae&&ae.z<=W;){if(G!==C.prev&&G!==C.next&&o(P.x,P.y,O.x,O.y,B.x,B.y,G.x,G.y)&&l(G.prev,G,G.next)>=0||(G=G.prevZ,ae!==C.prev&&ae!==C.next&&o(P.x,P.y,O.x,O.y,B.x,B.y,ae.x,ae.y)&&l(ae.prev,ae,ae.next)>=0))return!1;ae=ae.nextZ}for(;G&&G.z>=j;){if(G!==C.prev&&G!==C.next&&o(P.x,P.y,O.x,O.y,B.x,B.y,G.x,G.y)&&l(G.prev,G,G.next)>=0)return!1;G=G.prevZ}for(;ae&&ae.z<=W;){if(ae!==C.prev&&ae!==C.next&&o(P.x,P.y,O.x,O.y,B.x,B.y,ae.x,ae.y)&&l(ae.prev,ae,ae.next)>=0)return!1;ae=ae.nextZ}return!0}function _(C,T,D){var R=C;do{var P=R.prev,O=R.next.next;!h(P,O)&&c(P,R,R.next,O)&&m(P,O)&&m(O,P)&&(T.push(P.i/D),T.push(R.i/D),T.push(O.i/D),y(R),y(R.next),R=C=O),R=R.next}while(R!==C);return S(R)}function d(C,T,D,R,P,O){var B=C;do{for(var q=B.next.next;q!==B.prev;){if(B.i!==q.i&&u(B,q)){var N=v(B,q);return B=S(B,B.next),N=S(N,N.next),A(B,T,D,R,P,O),void A(N,T,D,R,P,O)}q=q.next}B=B.next}while(B!==C)}function s(C,T){return C.x-T.x}function t(C,T){if(T=function(R,P){var O,B=P,q=R.x,N=R.y,H=-1/0;do{if(N<=B.y&&N>=B.next.y&&B.next.y!==B.y){var $=B.x+(N-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if($<=q&&$>H){if(H=$,$===q){if(N===B.y)return B;if(N===B.next.y)return B.next}O=B.x<B.next.x?B:B.next}}B=B.next}while(B!==P);if(!O)return null;if(q===H)return O;var j,W=O,G=O.x,ae=O.y,te=1/0;B=O;do{q>=B.x&&B.x>=G&&q!==B.x&&o(N<ae?q:H,N,G,ae,N<ae?H:q,N,B.x,B.y)&&(j=Math.abs(N-B.y)/(q-B.x),m(B,R)&&(j<te||j===te&&(B.x>O.x||B.x===O.x&&i(O,B)))&&(O=B,te=j)),B=B.next}while(B!==W);return O}(C,T)){var D=v(T,C);S(T,T.next),S(D,D.next)}}function i(C,T){return l(C.prev,C,T.prev)<0&&l(T.next,C,C.next)<0}function n(C,T,D,R,P){return(C=1431655765&((C=858993459&((C=252645135&((C=16711935&((C=32767*(C-D)*P)|C<<8))|C<<4))|C<<2))|C<<1))|(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=32767*(T-R)*P)|T<<8))|T<<4))|T<<2))|T<<1))<<1}function r(C){var T=C,D=C;do{(T.x<D.x||T.x===D.x&&T.y<D.y)&&(D=T),T=T.next}while(T!==C);return D}function o(C,T,D,R,P,O,B,q){return(P-B)*(T-q)-(C-B)*(O-q)>=0&&(C-B)*(R-q)-(D-B)*(T-q)>=0&&(D-B)*(O-q)-(P-B)*(R-q)>=0}function u(C,T){return C.next.i!==T.i&&C.prev.i!==T.i&&!function(D,R){var P=D;do{if(P.i!==D.i&&P.next.i!==D.i&&P.i!==R.i&&P.next.i!==R.i&&c(P,P.next,D,R))return!0;P=P.next}while(P!==D);return!1}(C,T)&&(m(C,T)&&m(T,C)&&function(D,R){var P=D,O=!1,B=(D.x+R.x)/2,q=(D.y+R.y)/2;do{P.y>q!=P.next.y>q&&P.next.y!==P.y&&B<(P.next.x-P.x)*(q-P.y)/(P.next.y-P.y)+P.x&&(O=!O),P=P.next}while(P!==D);return O}(C,T)&&(l(C.prev,C,T.prev)||l(C,T.prev,T))||h(C,T)&&l(C.prev,C,C.next)>0&&l(T.prev,T,T.next)>0)}function l(C,T,D){return(T.y-C.y)*(D.x-T.x)-(T.x-C.x)*(D.y-T.y)}function h(C,T){return C.x===T.x&&C.y===T.y}function c(C,T,D,R){var P=p(l(C,T,D)),O=p(l(C,T,R)),B=p(l(D,R,C)),q=p(l(D,R,T));return P!==O&&B!==q||!(0!==P||!b(C,D,T))||!(0!==O||!b(C,R,T))||!(0!==B||!b(D,C,R))||!(0!==q||!b(D,T,R))}function b(C,T,D){return T.x<=Math.max(C.x,D.x)&&T.x>=Math.min(C.x,D.x)&&T.y<=Math.max(C.y,D.y)&&T.y>=Math.min(C.y,D.y)}function p(C){return C>0?1:C<0?-1:0}function m(C,T){return l(C.prev,C,C.next)<0?l(C,T,C.next)>=0&&l(C,C.prev,T)>=0:l(C,T,C.prev)<0||l(C,C.next,T)<0}function v(C,T){var D=new w(C.i,C.x,C.y),R=new w(T.i,T.x,T.y),P=C.next,O=T.prev;return C.next=T,T.prev=C,D.next=P,P.prev=D,R.next=D,D.prev=R,O.next=R,R.prev=O,R}function x(C,T,D,R){var P=new w(C,T,D);return R?(P.next=R.next,P.prev=R,R.next.prev=P,R.next=P):(P.prev=P,P.next=P),P}function y(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function w(C,T,D){this.i=C,this.x=T,this.y=D,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function f(C,T,D,R){for(var P=0,O=T,B=D-R;O<D;O+=R)P+=(C[B]-C[O])*(C[O+1]+C[B+1]),B=O;return P}ie.exports=z,ie.exports.default=z,z.deviation=function(C,T,D,R){var P=T&&T.length,B=Math.abs(f(C,0,P?T[0]*D:C.length,D));if(P)for(var q=0,N=T.length;q<N;q++)B-=Math.abs(f(C,T[q]*D,q<N-1?T[q+1]*D:C.length,D));var j=0;for(q=0;q<R.length;q+=3){var W=R[q]*D,G=R[q+1]*D,ae=R[q+2]*D;j+=Math.abs((C[W]-C[ae])*(C[G+1]-C[W+1])-(C[W]-C[G])*(C[ae+1]-C[W+1]))}return 0===B&&0===j?0:Math.abs((j-B)/B)},z.flatten=function(C){for(var T=C[0][0].length,D={vertices:[],holes:[],dimensions:T},R=0,P=0;P<C.length;P++){for(var O=0;O<C[P].length;O++)for(var B=0;B<T;B++)D.vertices.push(C[P][O][B]);P>0&&D.holes.push(R+=C[P-1].length)}return D}},6688:function(ie,z,e){var S=e(78484);ie.exports=function(A,a){var M,_=[],d=[],s=[],t={},i=[];function n(m){s[m]=!1,t.hasOwnProperty(m)&&Object.keys(t[m]).forEach(function(v){delete t[m][v],s[v]&&n(v)})}function r(m){var v,x,y=!1;for(d.push(m),s[m]=!0,v=0;v<i[m].length;v++)(x=i[m][v])===M?(o(M,d),y=!0):s[x]||(y=r(x));if(y)n(m);else for(v=0;v<i[m].length;v++){var w=t[x=i[m][v]];w||(t[x]=w={}),w[x]=!0}return d.pop(),y}function o(m,v){var x=[].concat(v).concat(m);a?a(r):_.push(x)}function u(m){!function(D){for(var R=0;R<A.length;R++)R<D&&(A[R]=[]),A[R]=A[R].filter(function(P){return P>=D})}(m);for(var v,x=S(A).components.filter(function(D){return D.length>1}),y=1/0,w=0;w<x.length;w++)for(var f=0;f<x[w].length;f++)x[w][f]<y&&(y=x[w][f],v=w);var C=x[v];return!!C&&{leastVertex:y,adjList:A.map(function(D,R){return-1===C.indexOf(R)?[]:D.filter(function(P){return-1!==C.indexOf(P)})})}}M=0;for(var l=A.length;M<l;){var h=u(M);if(M=h.leastVertex,i=h.adjList){for(var c=0;c<i.length;c++)for(var b=0;b<i[c].length;b++){var p=i[c][b];s[+p]=!1,t[p]={}}r(M),M+=1}else M=l}return a?void 0:_}},41476:function(ie,z,e){"use strict";var S=e(9252);ie.exports=function(){return S(this).length=0,this}},74772:function(ie,z,e){"use strict";ie.exports=e(44716)()?Array.from:e(80816)},44716:function(ie){"use strict";ie.exports=function(){var z,e,S=Array.from;return"function"==typeof S&&!(!(e=S(z=["raz","dwa"]))||e===z||"dwa"!==e[1])}},80816:function(ie,z,e){"use strict";var S=e(92664).iterator,A=e(60948),a=e(17024),M=e(81304),_=e(34044),d=e(9252),s=e(42584),t=e(29768),i=Array.isArray,n=Function.prototype.call,r={configurable:!0,enumerable:!0,writable:!0,value:null},o=Object.defineProperty;ie.exports=function(u){var l,h,c,b,p,m,v,x,y,w,f=arguments[1],C=arguments[2];if(u=Object(d(u)),s(f)&&_(f),this&&this!==Array&&a(this))l=this;else{if(!f){if(A(u))return 1!==(p=u.length)?Array.apply(null,u):((b=new Array(1))[0]=u[0],b);if(i(u)){for(b=new Array(p=u.length),h=0;h<p;++h)b[h]=u[h];return b}}b=[]}if(!i(u))if(void 0!==(y=u[S])){for(v=_(y).call(u),l&&(b=new l),x=v.next(),h=0;!x.done;)w=f?n.call(f,C,x.value,h):x.value,l?(r.value=w,o(b,h,r)):b[h]=w,x=v.next(),++h;p=h}else if(t(u)){for(p=u.length,l&&(b=new l),h=0,c=0;h<p;++h)w=u[h],h+1<p&&(m=w.charCodeAt(0))>=55296&&m<=56319&&(w+=u[++h]),w=f?n.call(f,C,w,c):w,l?(r.value=w,o(b,c,r)):b[c]=w,++c;p=c}if(void 0===p)for(p=M(u.length),l&&(b=new l(p)),h=0;h<p;++h)w=f?n.call(f,C,u[h],h):u[h],l?(r.value=w,o(b,h,r)):b[h]=w;return l&&(r.value=null,b.length=p),b}},60948:function(ie){"use strict";var z=Object.prototype.toString,e=z.call(function(){return arguments}());ie.exports=function(S){return z.call(S)===e}},17024:function(ie){"use strict";var z=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ie.exports=function(S){return"function"==typeof S&&e(z.call(S))}},33208:function(ie){"use strict";ie.exports=function(){}},85608:function(ie,z,e){"use strict";ie.exports=e(37328)()?Math.sign:e(92928)},37328:function(ie){"use strict";ie.exports=function(){var z=Math.sign;return"function"==typeof z&&1===z(10)&&-1===z(-20)}},92928:function(ie){"use strict";ie.exports=function(z){return z=Number(z),isNaN(z)||0===z?z:z>0?1:-1}},96936:function(ie,z,e){"use strict";var S=e(85608),A=Math.abs,a=Math.floor;ie.exports=function(M){return isNaN(M)?0:0!==(M=Number(M))&&isFinite(M)?S(M)*a(A(M)):M}},81304:function(ie,z,e){"use strict";var S=e(96936),A=Math.max;ie.exports=function(a){return A(0,S(a))}},14428:function(ie,z,e){"use strict";var S=e(34044),A=e(9252),a=Function.prototype.bind,M=Function.prototype.call,_=Object.keys,d=Object.prototype.propertyIsEnumerable;ie.exports=function(s,t){return function(i,n){var r,o=arguments[2],u=arguments[3];return i=Object(A(i)),S(n),r=_(i),u&&r.sort("function"==typeof u?a.call(u,i):void 0),"function"!=typeof s&&(s=r[s]),M.call(s,r,function(l,h){return d.call(i,l)?M.call(n,o,i[l],l,i,h):t})}}},38452:function(ie,z,e){"use strict";ie.exports=e(96276)()?Object.assign:e(81892)},96276:function(ie){"use strict";ie.exports=function(){var z,e=Object.assign;return"function"==typeof e&&(e(z={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),z.foo+z.bar+z.trzy==="razdwatrzy")}},81892:function(ie,z,e){"use strict";var S=e(54768),A=e(9252),a=Math.max;ie.exports=function(M,_){var d,s,t,i=a(arguments.length,2);for(M=Object(A(M)),t=function(n){try{M[n]=_[n]}catch(r){d||(d=r)}},s=1;s<i;++s)S(_=arguments[s]).forEach(t);if(void 0!==d)throw d;return M}},95920:function(ie,z,e){"use strict";var S=e(74772),A=e(38452),a=e(9252);ie.exports=function(M){var _=Object(a(M)),d=arguments[1],s=Object(arguments[2]);if(_!==M&&!d)return _;var t={};return d?S(d,function(i){(s.ensure||i in M)&&(t[i]=M[i])}):A(t,M),t}},14452:function(ie,z,e){"use strict";var S,A,a,M,_=Object.create;e(63092)()||(S=e(8672)),ie.exports=S?1!==S.level?_:(A={},a={},M={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(d){a[d]="__proto__"!==d?M:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(A,a),Object.defineProperty(S,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:A}),function(d,s){return _(null===d?A:d,s)}):_},42748:function(ie,z,e){"use strict";ie.exports=e(14428)("forEach")},69127:function(ie,z,e){"use strict";var S=e(42584),A={function:!0,object:!0};ie.exports=function(a){return S(a)&&A[typeof a]||!1}},42584:function(ie,z,e){"use strict";var S=e(33208)();ie.exports=function(A){return A!==S&&null!==A}},54768:function(ie,z,e){"use strict";ie.exports=e(87888)()?Object.keys:e(89592)},87888:function(ie){"use strict";ie.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(ie,z,e){"use strict";var S=e(42584),A=Object.keys;ie.exports=function(a){return A(S(a)?Object(a):a)}},84323:function(ie,z,e){"use strict";var S=e(34044),A=e(42748),a=Function.prototype.call;ie.exports=function(M,_){var d={},s=arguments[2];return S(_),A(M,function(t,i,n,r){d[i]=a.call(_,s,t,i,n,r)}),d}},50868:function(ie,z,e){"use strict";var S=e(42584),A=Array.prototype.forEach,a=Object.create;ie.exports=function(M){var _=a(null);return A.call(arguments,function(d){S(d)&&function(s,t){var i;for(i in s)t[i]=s[i]}(Object(d),_)}),_}},69932:function(ie,z,e){"use strict";ie.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(ie){"use strict";var z=Object.create,e=Object.getPrototypeOf,S={};ie.exports=function(){var A=Object.setPrototypeOf;return"function"==typeof A&&e(A((arguments[0]||z)(null),S))===S}},8672:function(ie,z,e){"use strict";var S,A,a,M,_=e(69127),d=e(9252),s=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};S=function(n,r){if(d(n),null===r||_(r))return n;throw new TypeError("Prototype must be null or an object")},ie.exports=(A=function(){var n,r=Object.create(null),o={},u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(u){try{(n=u.set).call(r,o)}catch{}if(Object.getPrototypeOf(r)===o)return{set:n,level:2}}return r.__proto__=o,Object.getPrototypeOf(r)===o?{level:2}:((r={}).__proto__=o,Object.getPrototypeOf(r)===o&&{level:1})}())?(2===A.level?A.set?(M=A.set,a=function(n,r){return M.call(S(n,r),r),n}):a=function(n,r){return S(n,r).__proto__=r,n}:a=function n(r,o){var u;return S(r,o),(u=s.call(n.nullPolyfill,r))&&delete n.nullPolyfill.__proto__,null===o&&(o=n.nullPolyfill),r.__proto__=o,u&&t(n.nullPolyfill,"__proto__",i),r},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:A.level})):null,e(14452)},34044:function(ie){"use strict";ie.exports=function(z){if("function"!=typeof z)throw new TypeError(z+" is not a function");return z}},92584:function(ie,z,e){"use strict";var S=e(69127);ie.exports=function(A){if(!S(A))throw new TypeError(A+" is not an Object");return A}},9252:function(ie,z,e){"use strict";var S=e(42584);ie.exports=function(A){if(!S(A))throw new TypeError("Cannot use null or undefined");return A}},71056:function(ie,z,e){"use strict";ie.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(ie){"use strict";var z="razdwatrzy";ie.exports=function(){return"function"==typeof z.contains&&!0===z.contains("dwa")&&!1===z.contains("foo")}},93040:function(ie){"use strict";var z=String.prototype.indexOf;ie.exports=function(e){return z.call(this,e,arguments[1])>-1}},29768:function(ie){"use strict";var z=Object.prototype.toString,e=z.call("");ie.exports=function(S){return"string"==typeof S||S&&"object"==typeof S&&(S instanceof String||z.call(S)===e)||!1}},82252:function(ie){"use strict";var z=Object.create(null),e=Math.random;ie.exports=function(){var S;do{S=e().toString(36).slice(2)}while(z[S]);return S}},52104:function(ie,z,e){"use strict";var S,A=e(69932),a=e(71056),M=e(21092),_=e(92664),d=e(85512),s=Object.defineProperty;S=ie.exports=function(t,i){if(!(this instanceof S))throw new TypeError("Constructor requires 'new'");d.call(this,t),i=i?a.call(i,"key+value")?"key+value":a.call(i,"key")?"key":"value":"value",s(this,"__kind__",M("",i))},A&&A(S,d),delete S.prototype.constructor,S.prototype=Object.create(d.prototype,{_resolve:M(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),s(S.prototype,_.toStringTag,M("c","Array Iterator"))},76024:function(ie,z,e){"use strict";var S=e(60948),A=e(34044),a=e(29768),M=e(76252),_=Array.isArray,d=Function.prototype.call,s=Array.prototype.some;ie.exports=function(t,i){var n,r,o,u,l,h,c,b,p=arguments[2];if(_(t)||S(t)?n="array":a(t)?n="string":t=M(t),A(i),o=function(){u=!0},"array"!==n)if("string"!==n)for(r=t.next();!r.done;){if(d.call(i,p,r.value,o),u)return;r=t.next()}else for(h=t.length,l=0;l<h&&(c=t[l],l+1<h&&(b=c.charCodeAt(0))>=55296&&b<=56319&&(c+=t[++l]),d.call(i,p,c,o),!u);++l);else s.call(t,function(m){return d.call(i,p,m,o),u})}},76252:function(ie,z,e){"use strict";var S=e(60948),A=e(29768),a=e(52104),M=e(80940),_=e(52891),d=e(92664).iterator;ie.exports=function(s){return"function"==typeof _(s)[d]?s[d]():S(s)?new a(s):A(s)?new M(s):new a(s)}},85512:function(ie,z,e){"use strict";var S,A=e(41476),a=e(38452),M=e(34044),_=e(9252),d=e(21092),s=e(27940),t=e(92664),i=Object.defineProperty,n=Object.defineProperties;ie.exports=S=function(r,o){if(!(this instanceof S))throw new TypeError("Constructor requires 'new'");n(this,{__list__:d("w",_(r)),__context__:d("w",o),__nextIndex__:d("w",0)}),o&&(M(o.on),o.on("_add",this._onAdd),o.on("_delete",this._onDelete),o.on("_clear",this._onClear))},delete S.prototype.constructor,n(S.prototype,a({_next:d(function(){var r;if(this.__list__)return this.__redo__&&void 0!==(r=this.__redo__.shift())?r:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:d(function(){return this._createResult(this._next())}),_createResult:d(function(r){return void 0===r?{done:!0,value:void 0}:{done:!1,value:this._resolve(r)}}),_resolve:d(function(r){return this.__list__[r]}),_unBind:d(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:d(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},s({_onAdd:d(function(r){r>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(o,u){o>=r&&(this.__redo__[u]=++o)},this),this.__redo__.push(r)):i(this,"__redo__",d("c",[r])))}),_onDelete:d(function(r){var o;r>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(o=this.__redo__.indexOf(r))&&this.__redo__.splice(o,1),this.__redo__.forEach(function(u,l){u>r&&(this.__redo__[l]=--u)},this)))}),_onClear:d(function(){this.__redo__&&A.call(this.__redo__),this.__nextIndex__=0})}))),i(S.prototype,t.iterator,d(function(){return this}))},76368:function(ie,z,e){"use strict";var S=e(60948),A=e(42584),a=e(29768),M=e(92664).iterator,_=Array.isArray;ie.exports=function(d){return!(!A(d)||!_(d)&&!a(d)&&!S(d)&&"function"!=typeof d[M])}},80940:function(ie,z,e){"use strict";var S,A=e(69932),a=e(21092),M=e(92664),_=e(85512),d=Object.defineProperty;S=ie.exports=function(s){if(!(this instanceof S))throw new TypeError("Constructor requires 'new'");s=String(s),_.call(this,s),d(this,"__length__",a("",s.length))},A&&A(S,_),delete S.prototype.constructor,S.prototype=Object.create(_.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(s){var t,i=this.__list__[s];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),d(S.prototype,M.toStringTag,a("c","String Iterator"))},52891:function(ie,z,e){"use strict";var S=e(76368);ie.exports=function(A){if(!S(A))throw new TypeError(A+" is not iterable");return A}},60964:function(ie){"use strict";function z(e,S){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var A=Object(e),a=1;a<arguments.length;a++){var M=arguments[a];if(null!=M)for(var _=Object.keys(Object(M)),d=0,s=_.length;d<s;d++){var t=_[d],i=Object.getOwnPropertyDescriptor(M,t);void 0!==i&&i.enumerable&&(A[t]=M[t])}}return A}ie.exports={assign:z,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:z})}}},92664:function(ie,z,e){"use strict";ie.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(ie,z,e){"use strict";var S=e(12296),A={object:!0,symbol:!0};ie.exports=function(){var a,M=S.Symbol;if("function"!=typeof M)return!1;a=M("test symbol");try{String(a)}catch{return!1}return!!A[typeof M.iterator]&&!!A[typeof M.toPrimitive]&&!!A[typeof M.toStringTag]}},53908:function(ie){"use strict";ie.exports=function(z){return!!z&&("symbol"==typeof z||!!z.constructor&&"Symbol"===z.constructor.name&&"Symbol"===z[z.constructor.toStringTag])}},96863:function(ie,z,e){"use strict";var S=e(21092),a=Object.defineProperty,M=Object.prototype,_=(0,Object.create)(null);ie.exports=function(d){for(var s,t,i=0;_[d+(i||"")];)++i;return _[d+=i||""]=!0,a(M,s="@@"+d,S.gs(null,function(n){t||(t=!0,a(this,s,S(n)),t=!1)})),s}},53540:function(ie,z,e){"use strict";var S=e(21092),A=e(12296).Symbol;ie.exports=function(a){return Object.defineProperties(a,{hasInstance:S("",A&&A.hasInstance||a("hasInstance")),isConcatSpreadable:S("",A&&A.isConcatSpreadable||a("isConcatSpreadable")),iterator:S("",A&&A.iterator||a("iterator")),match:S("",A&&A.match||a("match")),replace:S("",A&&A.replace||a("replace")),search:S("",A&&A.search||a("search")),species:S("",A&&A.species||a("species")),split:S("",A&&A.split||a("split")),toPrimitive:S("",A&&A.toPrimitive||a("toPrimitive")),toStringTag:S("",A&&A.toStringTag||a("toStringTag")),unscopables:S("",A&&A.unscopables||a("unscopables"))})}},73852:function(ie,z,e){"use strict";var S=e(21092),A=e(63948),a=Object.create(null);ie.exports=function(M){return Object.defineProperties(M,{for:S(function(_){return a[_]?a[_]:a[_]=M(String(_))}),keyFor:S(function(_){var d;for(d in A(_),a)if(a[d]===_)return d})})}},18376:function(ie,z,e){"use strict";var S,A,a,M=e(21092),_=e(63948),d=e(12296).Symbol,s=e(96863),t=e(53540),i=e(73852),n=Object.create,r=Object.defineProperties,o=Object.defineProperty;if("function"==typeof d)try{String(d()),a=!0}catch{}else d=null;A=function(u){if(this instanceof A)throw new TypeError("Symbol is not a constructor");return S(u)},ie.exports=S=function u(l){var h;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return a?d(l):(h=n(A.prototype),l=void 0===l?"":String(l),r(h,{__description__:M("",l),__name__:M("",s(l))}))},t(S),i(S),r(A.prototype,{constructor:M(S),toString:M("",function(){return this.__name__})}),r(S.prototype,{toString:M(function(){return"Symbol ("+_(this).__description__+")"}),valueOf:M(function(){return _(this)})}),o(S.prototype,S.toPrimitive,M("",function(){var u=_(this);return"symbol"==typeof u?u:u.toString()})),o(S.prototype,S.toStringTag,M("c","Symbol")),o(A.prototype,S.toStringTag,M("c",S.prototype[S.toStringTag])),o(A.prototype,S.toPrimitive,M("c",S.prototype[S.toPrimitive]))},63948:function(ie,z,e){"use strict";var S=e(53908);ie.exports=function(A){if(!S(A))throw new TypeError(A+" is not a symbol");return A}},60463:function(ie,z,e){"use strict";ie.exports=e(96979)()?WeakMap:e(64864)},96979:function(ie){"use strict";ie.exports=function(){var z,e;if("function"!=typeof WeakMap)return!1;try{z=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(z)&&"function"==typeof z.set&&z.set({},1)===z&&"function"==typeof z.delete&&"function"==typeof z.has&&"one"===z.get(e)}},69876:function(ie){"use strict";ie.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},64864:function(ie,z,e){"use strict";var S,A=e(42584),a=e(69932),M=e(92584),_=e(9252),d=e(82252),s=e(21092),t=e(76252),i=e(76024),n=e(92664).toStringTag,r=e(69876),o=Array.isArray,u=Object.defineProperty,l=Object.prototype.hasOwnProperty,h=Object.getPrototypeOf;ie.exports=S=function(){var c,b=arguments[0];if(!(this instanceof S))throw new TypeError("Constructor requires 'new'");return c=r&&a&&WeakMap!==S?a(new WeakMap,h(this)):this,A(b)&&(o(b)||(b=t(b))),u(c,"__weakMapData__",s("c","$weakMap$"+d())),b&&i(b,function(p){_(p),c.set(p[0],p[1])}),c},r&&(a&&a(S,WeakMap),S.prototype=Object.create(WeakMap.prototype,{constructor:s(S)})),Object.defineProperties(S.prototype,{delete:s(function(c){return!!l.call(M(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(l.call(M(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return l.call(M(c),this.__weakMapData__)}),set:s(function(c,b){return u(M(c),this.__weakMapData__,s("c",b)),this}),toString:s(function(){return"[object WeakMap]"})}),u(S.prototype,n,s("c","WeakMap"))},61252:function(ie){"use strict";var z,e="object"==typeof Reflect?Reflect:null,S=e&&"function"==typeof e.apply?e.apply:function(l,h,c){return Function.prototype.apply.call(l,h,c)};z=e&&"function"==typeof e.ownKeys?e.ownKeys:Object.getOwnPropertySymbols?function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:function(l){return Object.getOwnPropertyNames(l)};var A=Number.isNaN||function(l){return l!=l};function a(){a.init.call(this)}ie.exports=a,ie.exports.once=function(l,h){return new Promise(function(c,b){function p(v){l.removeListener(h,m),b(v)}function m(){"function"==typeof l.removeListener&&l.removeListener("error",p),c([].slice.call(arguments))}var v;u(l,h,m,{once:!0}),"error"!==h&&("function"==typeof(v=l).on&&u(v,"error",p,{once:!0}))})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var M=10;function _(l){if("function"!=typeof l)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}function d(l){return void 0===l._maxListeners?a.defaultMaxListeners:l._maxListeners}function s(l,h,c,b){var p,m,v;if(_(c),void 0===(m=l._events)?(m=l._events=Object.create(null),l._eventsCount=0):(void 0!==m.newListener&&(l.emit("newListener",h,c.listener?c.listener:c),m=l._events),v=m[h]),void 0===v)v=m[h]=c,++l._eventsCount;else if("function"==typeof v?v=m[h]=b?[c,v]:[v,c]:b?v.unshift(c):v.push(c),(p=d(l))>0&&v.length>p&&!v.warned){v.warned=!0;var y=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");y.name="MaxListenersExceededWarning",y.emitter=l,y.type=h,y.count=v.length,console&&console.warn&&console.warn(y)}return l}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(l,h,c){var b={fired:!1,wrapFn:void 0,target:l,type:h,listener:c},p=t.bind(b);return p.listener=c,b.wrapFn=p,p}function n(l,h,c){var b=l._events;if(void 0===b)return[];var p=b[h];return void 0===p?[]:"function"==typeof p?c?[p.listener||p]:[p]:c?function(m){for(var v=new Array(m.length),x=0;x<v.length;++x)v[x]=m[x].listener||m[x];return v}(p):o(p,p.length)}function r(l){var h=this._events;if(void 0!==h){var c=h[l];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function o(l,h){for(var c=new Array(h),b=0;b<h;++b)c[b]=l[b];return c}function u(l,h,c,b){if("function"==typeof l.on)b.once?l.once(h,c):l.on(h,c);else{if("function"!=typeof l.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof l);l.addEventListener(h,function p(m){b.once&&l.removeEventListener(h,p),c(m)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(l){if("number"!=typeof l||l<0||A(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");M=l}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(l){if("number"!=typeof l||l<0||A(l))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+l+".");return this._maxListeners=l,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(l){for(var h=[],c=1;c<arguments.length;c++)h.push(arguments[c]);var b="error"===l,p=this._events;if(void 0!==p)b=b&&void 0===p.error;else if(!b)return!1;if(b){var m;if(h.length>0&&(m=h[0]),m instanceof Error)throw m;var v=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw v.context=m,v}var x=p[l];if(void 0===x)return!1;if("function"==typeof x)S(x,this,h);else{var y=x.length,w=o(x,y);for(c=0;c<y;++c)S(w[c],this,h)}return!0},a.prototype.on=a.prototype.addListener=function(l,h){return s(this,l,h,!1)},a.prototype.prependListener=function(l,h){return s(this,l,h,!0)},a.prototype.once=function(l,h){return _(h),this.on(l,i(this,l,h)),this},a.prototype.prependOnceListener=function(l,h){return _(h),this.prependListener(l,i(this,l,h)),this},a.prototype.off=a.prototype.removeListener=function(l,h){var c,b,p,m,v;if(_(h),void 0===(b=this._events))return this;if(void 0===(c=b[l]))return this;if(c===h||c.listener===h)0==--this._eventsCount?this._events=Object.create(null):(delete b[l],b.removeListener&&this.emit("removeListener",l,c.listener||h));else if("function"!=typeof c){for(p=-1,m=c.length-1;m>=0;m--)if(c[m]===h||c[m].listener===h){v=c[m].listener,p=m;break}if(p<0)return this;0===p?c.shift():function(x,y){for(;y+1<x.length;y++)x[y]=x[y+1];x.pop()}(c,p),1===c.length&&(b[l]=c[0]),void 0!==b.removeListener&&this.emit("removeListener",l,v||h)}return this},a.prototype.removeAllListeners=function(l){var h,c,b;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[l]&&(0==--this._eventsCount?this._events=Object.create(null):delete c[l]),this;if(0===arguments.length){var p,m=Object.keys(c);for(b=0;b<m.length;++b)"removeListener"!==(p=m[b])&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(h=c[l]))this.removeListener(l,h);else if(void 0!==h)for(b=h.length-1;b>=0;b--)this.removeListener(l,h[b]);return this},a.prototype.listeners=function(l){return n(this,l,!0)},a.prototype.rawListeners=function(l){return n(this,l,!1)},a.listenerCount=function(l,h){return"function"==typeof l.listenerCount?l.listenerCount(h):r.call(l,h)},a.prototype.listenerCount=r,a.prototype.eventNames=function(){return this._eventsCount>0?z(this._events):[]}},39072:function(ie){var z=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ie.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return z()}try{return __global__||z()}finally{delete Object.prototype.__global__}}()},12296:function(ie,z,e){"use strict";ie.exports=e(45072)()?globalThis:e(39072)},45072:function(ie){"use strict";ie.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},38248:function(ie,z,e){"use strict";var S=e(94576);ie.exports=function(A){var a=typeof A;if("string"===a){var M=A;if(0==(A=+A)&&S(M))return!1}else if("number"!==a)return!1;return A-A<1}},47520:function(ie,z,e){var S=e(72512);ie.exports=function(A,a,M){if(!A)throw new TypeError("must specify data as first parameter");if(M=0|+(M||0),Array.isArray(A)&&A[0]&&"number"==typeof A[0][0]){var _,d,s,t,i=A[0].length,n=A.length*i;a&&"string"!=typeof a||(a=new(S(a||"float32"))(n+M));var r=a.length-M;if(n!==r)throw new Error("source length "+n+" ("+i+"x"+A.length+") does not match destination length "+r);for(_=0,s=M;_<A.length;_++)for(d=0;d<i;d++)a[s++]=null===A[_][d]?NaN:A[_][d]}else if(a&&"string"!=typeof a)a.set(A,M);else{var o=S(a||"float32");if(Array.isArray(A)||"array"===a)for(_=0,s=M,t=(a=new o(A.length+M)).length;s<t;s++,_++)a[s]=null===A[_]?NaN:A[_];else 0===M?a=new o(A):(a=new o(A.length+M)).set(A,M)}return a}},33888:function(ie,z,e){"use strict";var S=e(49395),A=[32,126];ie.exports=function(a){var M=(a=a||{}).shape?a.shape:a.canvas?[a.canvas.width,a.canvas.height]:[512,512],_=a.canvas||document.createElement("canvas"),d=a.font,s="number"==typeof a.step?[a.step,a.step]:a.step||[32,32],t=a.chars||A;if(d&&"string"!=typeof d&&(d=S(d)),Array.isArray(t)){if(2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]){for(var i=[],n=t[0],r=0;n<=t[1];n++)i[r++]=String.fromCharCode(n);t=i}}else t=String(t).split("");M=M.slice(),_.width=M[0],_.height=M[1];var o=_.getContext("2d");o.fillStyle="#000",o.fillRect(0,0,_.width,_.height),o.font=d,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";var u=s[0]/2,l=s[1]/2;for(n=0;n<t.length;n++)o.fillText(t[n],u,l),(u+=s[0])>M[0]-s[0]/2&&(u=s[0]/2,l+=s[1]);return _}},71920:function(ie){"use strict";function z(a,M){M||(M={}),("string"==typeof a||Array.isArray(a))&&(M.family=a);var _=Array.isArray(M.family)?M.family.join(", "):M.family;if(!_)throw Error("`family` must be defined");var d=M.size||M.fontSize||M.em||48,t=(a=[M.style||M.fontStyle||"",M.weight||M.fontWeight||"",d].join(" ")+"px "+_,M.origin||"top");if(z.cache[_]&&d<=z.cache[_].em)return e(z.cache[_],t);var i=M.canvas||z.canvas,n=i.getContext("2d"),r={upper:void 0!==M.upper?M.upper:"H",lower:void 0!==M.lower?M.lower:"x",descent:void 0!==M.descent?M.descent:"p",ascent:void 0!==M.ascent?M.ascent:"h",tittle:void 0!==M.tittle?M.tittle:"i",overshoot:void 0!==M.overshoot?M.overshoot:"O"},o=Math.ceil(1.5*d);i.height=o,i.width=.5*o,n.font=a;var u="H",l={top:0};n.clearRect(0,0,o,o),n.textBaseline="top",n.fillStyle="black",n.fillText(u,0,0);var h=S(n.getImageData(0,0,o,o));n.clearRect(0,0,o,o),n.textBaseline="bottom",n.fillText(u,0,o);var c=S(n.getImageData(0,0,o,o));l.lineHeight=l.bottom=o-c+h,n.clearRect(0,0,o,o),n.textBaseline="alphabetic",n.fillText(u,0,o);var b=o-S(n.getImageData(0,0,o,o))-1+h;l.baseline=l.alphabetic=b,n.clearRect(0,0,o,o),n.textBaseline="middle",n.fillText(u,0,.5*o);var p=S(n.getImageData(0,0,o,o));l.median=l.middle=o-p-1+h-.5*o,n.clearRect(0,0,o,o),n.textBaseline="hanging",n.fillText(u,0,.5*o);var m=S(n.getImageData(0,0,o,o));l.hanging=o-m-1+h-.5*o,n.clearRect(0,0,o,o),n.textBaseline="ideographic",n.fillText(u,0,o);var v=S(n.getImageData(0,0,o,o));if(l.ideographic=o-v-1+h,r.upper&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.upper,0,0),l.upper=S(n.getImageData(0,0,o,o)),l.capHeight=l.baseline-l.upper),r.lower&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.lower,0,0),l.lower=S(n.getImageData(0,0,o,o)),l.xHeight=l.baseline-l.lower),r.tittle&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.tittle,0,0),l.tittle=S(n.getImageData(0,0,o,o))),r.ascent&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.ascent,0,0),l.ascent=S(n.getImageData(0,0,o,o))),r.descent&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.descent,0,0),l.descent=A(n.getImageData(0,0,o,o))),r.overshoot){n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.overshoot,0,0);var x=A(n.getImageData(0,0,o,o));l.overshoot=x-b}for(var y in l)l[y]/=d;return l.em=d,z.cache[_]=l,e(l,t)}function e(a,M){var _={};for(var d in"string"==typeof M&&(M=a[M]),a)"em"!==d&&(_[d]=a[d]-M);return _}function S(a){for(var M=a.height,_=a.data,d=3;d<_.length;d+=4)if(0!==_[d])return Math.floor(.25*(d-3)/M)}function A(a){for(var M=a.height,_=a.data,d=_.length-1;d>0;d-=4)if(0!==_[d])return Math.floor(.25*(d-3)/M)}ie.exports=z,z.canvas=document.createElement("canvas"),z.cache={}},46492:function(ie,z,e){"use strict";var S=e(90720),A=Object.prototype.toString,a=Object.prototype.hasOwnProperty;ie.exports=function(M,_,d){if(!S(_))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=d),"[object Array]"===A.call(M)?function(t,i,n){for(var r=0,o=t.length;r<o;r++)a.call(t,r)&&(null==n?i(t[r],r,t):i.call(n,t[r],r,t))}(M,_,s):"string"==typeof M?function(t,i,n){for(var r=0,o=t.length;r<o;r++)null==n?i(t.charAt(r),r,t):i.call(n,t.charAt(r),r,t)}(M,_,s):function(t,i,n){for(var r in t)a.call(t,r)&&(null==n?i(t[r],r,t):i.call(n,t[r],r,t))}(M,_,s)}},74336:function(ie){"use strict";var z=Object.prototype.toString,e=Math.max,S=function(A,a){for(var M=[],_=0;_<A.length;_+=1)M[_]=A[_];for(var d=0;d<a.length;d+=1)M[d+A.length]=a[d];return M};ie.exports=function(A){var a=this;if("function"!=typeof a||"[object Function]"!==z.apply(a))throw new TypeError("Function.prototype.bind called on incompatible "+a);for(var M,_=function(n,r){for(var o=[],u=1,l=0;u<n.length;u+=1,l+=1)o[l]=n[u];return o}(arguments),d=e(0,a.length-_.length),s=[],t=0;t<d;t++)s[t]="$"+t;if(M=Function("binder","return function ("+function(n,r){for(var o="",u=0;u<n.length;u+=1)o+=n[u],u+1<n.length&&(o+=",");return o}(s)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof M){var n=a.apply(this,S(_,arguments));return Object(n)===n?n:this}return a.apply(A,S(_,arguments))}),a.prototype){var i=function(){};i.prototype=a.prototype,M.prototype=new i,i.prototype=null}return M}},8844:function(ie,z,e){"use strict";var S=e(74336);ie.exports=Function.prototype.bind||S},13380:function(ie){ie.exports=function(z,e){if("string"!=typeof z)throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var S=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(S.width=e.width),"number"==typeof e.height&&(S.height=e.height);var A,a=e;try{var M=[z];0===z.indexOf("webgl")&&M.push("experimental-"+z);for(var _=0;_<M.length;_++)if(A=S.getContext(M[_],a))return A}catch{A=null}return A||null}},53664:function(ie,z,e){"use strict";var S,A=SyntaxError,a=Function,M=TypeError,_=function(R){try{return a('"use strict"; return ('+R+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var s=function(){throw new M},t=d?function(){try{return s}catch{try{return d(arguments,"callee").get}catch{return s}}}():s,i=e(71080)(),n=e(69572)(),r=Object.getPrototypeOf||(n?function(R){return R.__proto__}:null),o={},u=typeof Uint8Array<"u"&&r?r(Uint8Array):S,l={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":i&&r?r([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i&&r?r(r([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i&&r?r((new Map)[Symbol.iterator]()):S,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i&&r?r((new Set)[Symbol.iterator]()):S,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i&&r?r(""[Symbol.iterator]()):S,"%Symbol%":i?Symbol:S,"%SyntaxError%":A,"%ThrowTypeError%":t,"%TypedArray%":u,"%TypeError%":M,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(r)try{null.error}catch(R){var h=r(r(R));l["%Error.prototype%"]=h}var c=function R(P){var O;if("%AsyncFunction%"===P)O=_("async function () {}");else if("%GeneratorFunction%"===P)O=_("function* () {}");else if("%AsyncGeneratorFunction%"===P)O=_("async function* () {}");else if("%AsyncGenerator%"===P){var B=R("%AsyncGeneratorFunction%");B&&(O=B.prototype)}else if("%AsyncIteratorPrototype%"===P){var q=R("%AsyncGenerator%");q&&r&&(O=r(q.prototype))}return l[P]=O,O},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},p=e(8844),m=e(92064),v=p.call(Function.call,Array.prototype.concat),x=p.call(Function.apply,Array.prototype.splice),y=p.call(Function.call,String.prototype.replace),w=p.call(Function.call,String.prototype.slice),f=p.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,D=function(R,P){var O,B=R;if(m(b,B)&&(B="%"+(O=b[B])[0]+"%"),m(l,B)){var q=l[B];if(q===o&&(q=c(B)),void 0===q&&!P)throw new M("intrinsic "+R+" exists, but is not available. Please file an issue!");return{alias:O,name:B,value:q}}throw new A("intrinsic "+R+" does not exist!")};ie.exports=function(R,P){if("string"!=typeof R||0===R.length)throw new M("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof P)throw new M('"allowMissing" argument must be a boolean');if(null===f(/^%?[^%]*%?$/,R))throw new A("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=function(re){var J=w(re,0,1),le=w(re,-1);if("%"===J&&"%"!==le)throw new A("invalid intrinsic syntax, expected closing `%`");if("%"===le&&"%"!==J)throw new A("invalid intrinsic syntax, expected opening `%`");var fe=[];return y(re,C,function(ce,ge,Te,Me){fe[fe.length]=Te?y(Me,T,"$1"):ge||ce}),fe}(R),B=O.length>0?O[0]:"",q=D("%"+B+"%",P),N=q.name,H=q.value,$=!1,j=q.alias;j&&(B=j[0],x(O,v([0,1],j)));for(var W=1,G=!0;W<O.length;W+=1){var ae=O[W],te=w(ae,0,1),Q=w(ae,-1);if(('"'===te||"'"===te||"`"===te||'"'===Q||"'"===Q||"`"===Q)&&te!==Q)throw new A("property names with quotes must have matching quotes");if("constructor"!==ae&&G||($=!0),m(l,N="%"+(B+="."+ae)+"%"))H=l[N];else if(null!=H){if(!(ae in H)){if(!P)throw new M("base intrinsic for "+R+" exists, but the property is not available.");return}if(d&&W+1>=O.length){var ee=d(H,ae);H=(G=!!ee)&&"get"in ee&&!("originalValue"in ee.get)?ee.get:H[ae]}else G=m(H,ae),H=H[ae];G&&!$&&(l[N]=H)}}return H}},12408:function(ie){ie.exports=function(z,e){var S=e[0],A=e[1],a=e[2],M=e[3],_=e[4],d=e[5],s=e[6],t=e[7],i=e[8],n=e[9],r=e[10],o=e[11],u=e[12],l=e[13],h=e[14],c=e[15];return z[0]=d*(r*c-o*h)-n*(s*c-t*h)+l*(s*o-t*r),z[1]=-(A*(r*c-o*h)-n*(a*c-M*h)+l*(a*o-M*r)),z[2]=A*(s*c-t*h)-d*(a*c-M*h)+l*(a*t-M*s),z[3]=-(A*(s*o-t*r)-d*(a*o-M*r)+n*(a*t-M*s)),z[4]=-(_*(r*c-o*h)-i*(s*c-t*h)+u*(s*o-t*r)),z[5]=S*(r*c-o*h)-i*(a*c-M*h)+u*(a*o-M*r),z[6]=-(S*(s*c-t*h)-_*(a*c-M*h)+u*(a*t-M*s)),z[7]=S*(s*o-t*r)-_*(a*o-M*r)+i*(a*t-M*s),z[8]=_*(n*c-o*l)-i*(d*c-t*l)+u*(d*o-t*n),z[9]=-(S*(n*c-o*l)-i*(A*c-M*l)+u*(A*o-M*n)),z[10]=S*(d*c-t*l)-_*(A*c-M*l)+u*(A*t-M*d),z[11]=-(S*(d*o-t*n)-_*(A*o-M*n)+i*(A*t-M*d)),z[12]=-(_*(n*h-r*l)-i*(d*h-s*l)+u*(d*r-s*n)),z[13]=S*(n*h-r*l)-i*(A*h-a*l)+u*(A*r-a*n),z[14]=-(S*(d*h-s*l)-_*(A*h-a*l)+u*(A*s-a*d)),z[15]=S*(d*r-s*n)-_*(A*r-a*n)+i*(A*s-a*d),z}},76860:function(ie){ie.exports=function(z){var e=new Float32Array(16);return e[0]=z[0],e[1]=z[1],e[2]=z[2],e[3]=z[3],e[4]=z[4],e[5]=z[5],e[6]=z[6],e[7]=z[7],e[8]=z[8],e[9]=z[9],e[10]=z[10],e[11]=z[11],e[12]=z[12],e[13]=z[13],e[14]=z[14],e[15]=z[15],e}},64492:function(ie){ie.exports=function(z,e){return z[0]=e[0],z[1]=e[1],z[2]=e[2],z[3]=e[3],z[4]=e[4],z[5]=e[5],z[6]=e[6],z[7]=e[7],z[8]=e[8],z[9]=e[9],z[10]=e[10],z[11]=e[11],z[12]=e[12],z[13]=e[13],z[14]=e[14],z[15]=e[15],z}},54212:function(ie){ie.exports=function(){var z=new Float32Array(16);return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},70800:function(ie){ie.exports=function(z){var e=z[0],S=z[1],A=z[2],a=z[3],M=z[4],_=z[5],d=z[6],s=z[7],t=z[8],i=z[9],n=z[10],r=z[11],o=z[12],u=z[13],l=z[14],h=z[15];return(e*_-S*M)*(n*h-r*l)-(e*d-A*M)*(i*h-r*u)+(e*s-a*M)*(i*l-n*u)+(S*d-A*_)*(t*h-r*o)-(S*s-a*_)*(t*l-n*o)+(A*s-a*d)*(t*u-i*o)}},61784:function(ie){ie.exports=function(z,e){var S=e[0],A=e[1],a=e[2],M=e[3],_=S+S,d=A+A,s=a+a,t=S*_,i=A*_,n=A*d,r=a*_,o=a*d,u=a*s,l=M*_,h=M*d,c=M*s;return z[0]=1-n-u,z[1]=i+c,z[2]=r-h,z[3]=0,z[4]=i-c,z[5]=1-t-u,z[6]=o+l,z[7]=0,z[8]=r+h,z[9]=o-l,z[10]=1-t-n,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},91616:function(ie){ie.exports=function(z,e,S){var A,a,M,_=S[0],d=S[1],s=S[2],t=Math.sqrt(_*_+d*d+s*s);return Math.abs(t)<1e-6?null:(_*=t=1/t,d*=t,s*=t,A=Math.sin(e),M=1-(a=Math.cos(e)),z[0]=_*_*M+a,z[1]=d*_*M+s*A,z[2]=s*_*M-d*A,z[3]=0,z[4]=_*d*M-s*A,z[5]=d*d*M+a,z[6]=s*d*M+_*A,z[7]=0,z[8]=_*s*M+d*A,z[9]=d*s*M-_*A,z[10]=s*s*M+a,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z)}},51944:function(ie){ie.exports=function(z,e,S){var A=e[0],a=e[1],M=e[2],_=e[3],d=A+A,s=a+a,t=M+M,i=A*d,n=A*s,r=A*t,o=a*s,u=a*t,l=M*t,h=_*d,c=_*s,b=_*t;return z[0]=1-(o+l),z[1]=n+b,z[2]=r-c,z[3]=0,z[4]=n-b,z[5]=1-(i+l),z[6]=u+h,z[7]=0,z[8]=r+c,z[9]=u-h,z[10]=1-(i+o),z[11]=0,z[12]=S[0],z[13]=S[1],z[14]=S[2],z[15]=1,z}},69444:function(ie){ie.exports=function(z,e){return z[0]=e[0],z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=e[1],z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=e[2],z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},48268:function(ie){ie.exports=function(z,e){return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=e[0],z[13]=e[1],z[14]=e[2],z[15]=1,z}},21856:function(ie){ie.exports=function(z,e){var S=Math.sin(e),A=Math.cos(e);return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=A,z[6]=S,z[7]=0,z[8]=0,z[9]=-S,z[10]=A,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},79216:function(ie){ie.exports=function(z,e){var S=Math.sin(e),A=Math.cos(e);return z[0]=A,z[1]=0,z[2]=-S,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=S,z[9]=0,z[10]=A,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},57736:function(ie){ie.exports=function(z,e){var S=Math.sin(e),A=Math.cos(e);return z[0]=A,z[1]=S,z[2]=0,z[3]=0,z[4]=-S,z[5]=A,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},38848:function(ie){ie.exports=function(z,e,S,A,a,M,_){var d=1/(S-e),s=1/(a-A),t=1/(M-_);return z[0]=2*M*d,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=2*M*s,z[6]=0,z[7]=0,z[8]=(S+e)*d,z[9]=(a+A)*s,z[10]=(_+M)*t,z[11]=-1,z[12]=0,z[13]=0,z[14]=_*M*2*t,z[15]=0,z}},36635:function(ie){ie.exports=function(z){return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},36524:function(ie,z,e){ie.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(ie){ie.exports=function(z,e){var S=e[0],A=e[1],a=e[2],M=e[3],_=e[4],d=e[5],s=e[6],t=e[7],i=e[8],n=e[9],r=e[10],o=e[11],u=e[12],l=e[13],h=e[14],c=e[15],b=S*d-A*_,p=S*s-a*_,m=S*t-M*_,v=A*s-a*d,x=A*t-M*d,y=a*t-M*s,w=i*l-n*u,f=i*h-r*u,C=i*c-o*u,T=n*h-r*l,D=n*c-o*l,R=r*c-o*h,P=b*R-p*D+m*T+v*C-x*f+y*w;return P?(z[0]=(d*R-s*D+t*T)*(P=1/P),z[1]=(a*D-A*R-M*T)*P,z[2]=(l*y-h*x+c*v)*P,z[3]=(r*x-n*y-o*v)*P,z[4]=(s*C-_*R-t*f)*P,z[5]=(S*R-a*C+M*f)*P,z[6]=(h*m-u*y-c*p)*P,z[7]=(i*y-r*m+o*p)*P,z[8]=(_*D-d*C+t*w)*P,z[9]=(A*C-S*D-M*w)*P,z[10]=(u*x-l*m+c*b)*P,z[11]=(n*m-i*x-o*b)*P,z[12]=(d*f-_*T-s*w)*P,z[13]=(S*T-A*f+a*w)*P,z[14]=(l*p-u*v-h*b)*P,z[15]=(i*v-n*p+r*b)*P,z):null}},56508:function(ie,z,e){var S=e(36635);ie.exports=function(A,a,M,_){var d,s,t,i,n,r,o,u,l,h,c=a[0],b=a[1],p=a[2],m=_[0],v=_[1],x=_[2],y=M[0],w=M[1],f=M[2];return Math.abs(c-y)<1e-6&&Math.abs(b-w)<1e-6&&Math.abs(p-f)<1e-6?S(A):(o=c-y,u=b-w,l=p-f,d=v*(l*=h=1/Math.sqrt(o*o+u*u+l*l))-x*(u*=h),s=x*(o*=h)-m*l,t=m*u-v*o,(h=Math.sqrt(d*d+s*s+t*t))?(d*=h=1/h,s*=h,t*=h):(d=0,s=0,t=0),i=u*t-l*s,n=l*d-o*t,r=o*s-u*d,(h=Math.sqrt(i*i+n*n+r*r))?(i*=h=1/h,n*=h,r*=h):(i=0,n=0,r=0),A[0]=d,A[1]=i,A[2]=o,A[3]=0,A[4]=s,A[5]=n,A[6]=u,A[7]=0,A[8]=t,A[9]=r,A[10]=l,A[11]=0,A[12]=-(d*c+s*b+t*p),A[13]=-(i*c+n*b+r*p),A[14]=-(o*c+u*b+l*p),A[15]=1,A)}},80944:function(ie){ie.exports=function(z,e,S){var A=e[0],a=e[1],M=e[2],_=e[3],d=e[4],s=e[5],t=e[6],i=e[7],n=e[8],r=e[9],o=e[10],u=e[11],l=e[12],h=e[13],c=e[14],b=e[15],p=S[0],m=S[1],v=S[2],x=S[3];return z[0]=p*A+m*d+v*n+x*l,z[1]=p*a+m*s+v*r+x*h,z[2]=p*M+m*t+v*o+x*c,z[3]=p*_+m*i+v*u+x*b,z[4]=(p=S[4])*A+(m=S[5])*d+(v=S[6])*n+(x=S[7])*l,z[5]=p*a+m*s+v*r+x*h,z[6]=p*M+m*t+v*o+x*c,z[7]=p*_+m*i+v*u+x*b,z[8]=(p=S[8])*A+(m=S[9])*d+(v=S[10])*n+(x=S[11])*l,z[9]=p*a+m*s+v*r+x*h,z[10]=p*M+m*t+v*o+x*c,z[11]=p*_+m*i+v*u+x*b,z[12]=(p=S[12])*A+(m=S[13])*d+(v=S[14])*n+(x=S[15])*l,z[13]=p*a+m*s+v*r+x*h,z[14]=p*M+m*t+v*o+x*c,z[15]=p*_+m*i+v*u+x*b,z}},97688:function(ie){ie.exports=function(z,e,S,A,a,M,_){var d=1/(e-S),s=1/(A-a),t=1/(M-_);return z[0]=-2*d,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=-2*s,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=2*t,z[11]=0,z[12]=(e+S)*d,z[13]=(a+A)*s,z[14]=(_+M)*t,z[15]=1,z}},51296:function(ie){ie.exports=function(z,e,S,A,a){var M=1/Math.tan(e/2),_=1/(A-a);return z[0]=M/S,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=M,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=(a+A)*_,z[11]=-1,z[12]=0,z[13]=0,z[14]=2*a*A*_,z[15]=0,z}},63688:function(ie){ie.exports=function(z,e,S,A){var a=Math.tan(e.upDegrees*Math.PI/180),M=Math.tan(e.downDegrees*Math.PI/180),_=Math.tan(e.leftDegrees*Math.PI/180),d=Math.tan(e.rightDegrees*Math.PI/180),s=2/(_+d),t=2/(a+M);return z[0]=s,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=t,z[6]=0,z[7]=0,z[8]=-(_-d)*s*.5,z[9]=(a-M)*t*.5,z[10]=A/(S-A),z[11]=-1,z[12]=0,z[13]=0,z[14]=A*S/(S-A),z[15]=0,z}},30016:function(ie){ie.exports=function(z,e,S,A){var a,M,_,d,s,t,i,n,r,o,u,l,h,c,b,p,m,v,x,y,w,f,C,T,D=A[0],R=A[1],P=A[2],O=Math.sqrt(D*D+R*R+P*P);return Math.abs(O)<1e-6?null:(D*=O=1/O,R*=O,P*=O,a=Math.sin(S),_=1-(M=Math.cos(S)),s=e[1],t=e[2],i=e[3],r=e[5],o=e[6],u=e[7],h=e[9],c=e[10],b=e[11],x=D*R*_-P*a,y=R*R*_+M,w=P*R*_+D*a,f=D*P*_+R*a,C=R*P*_-D*a,T=P*P*_+M,z[0]=(d=e[0])*(p=D*D*_+M)+(n=e[4])*(m=R*D*_+P*a)+(l=e[8])*(v=P*D*_-R*a),z[1]=s*p+r*m+h*v,z[2]=t*p+o*m+c*v,z[3]=i*p+u*m+b*v,z[4]=d*x+n*y+l*w,z[5]=s*x+r*y+h*w,z[6]=t*x+o*y+c*w,z[7]=i*x+u*y+b*w,z[8]=d*f+n*C+l*T,z[9]=s*f+r*C+h*T,z[10]=t*f+o*C+c*T,z[11]=i*f+u*C+b*T,e!==z&&(z[12]=e[12],z[13]=e[13],z[14]=e[14],z[15]=e[15]),z)}},15456:function(ie){ie.exports=function(z,e,S){var A=Math.sin(S),a=Math.cos(S),M=e[4],_=e[5],d=e[6],s=e[7],t=e[8],i=e[9],n=e[10],r=e[11];return e!==z&&(z[0]=e[0],z[1]=e[1],z[2]=e[2],z[3]=e[3],z[12]=e[12],z[13]=e[13],z[14]=e[14],z[15]=e[15]),z[4]=M*a+t*A,z[5]=_*a+i*A,z[6]=d*a+n*A,z[7]=s*a+r*A,z[8]=t*a-M*A,z[9]=i*a-_*A,z[10]=n*a-d*A,z[11]=r*a-s*A,z}},64840:function(ie){ie.exports=function(z,e,S){var A=Math.sin(S),a=Math.cos(S),M=e[0],_=e[1],d=e[2],s=e[3],t=e[8],i=e[9],n=e[10],r=e[11];return e!==z&&(z[4]=e[4],z[5]=e[5],z[6]=e[6],z[7]=e[7],z[12]=e[12],z[13]=e[13],z[14]=e[14],z[15]=e[15]),z[0]=M*a-t*A,z[1]=_*a-i*A,z[2]=d*a-n*A,z[3]=s*a-r*A,z[8]=M*A+t*a,z[9]=_*A+i*a,z[10]=d*A+n*a,z[11]=s*A+r*a,z}},4192:function(ie){ie.exports=function(z,e,S){var A=Math.sin(S),a=Math.cos(S),M=e[0],_=e[1],d=e[2],s=e[3],t=e[4],i=e[5],n=e[6],r=e[7];return e!==z&&(z[8]=e[8],z[9]=e[9],z[10]=e[10],z[11]=e[11],z[12]=e[12],z[13]=e[13],z[14]=e[14],z[15]=e[15]),z[0]=M*a+t*A,z[1]=_*a+i*A,z[2]=d*a+n*A,z[3]=s*a+r*A,z[4]=t*a-M*A,z[5]=i*a-_*A,z[6]=n*a-d*A,z[7]=r*a-s*A,z}},68152:function(ie){ie.exports=function(z,e,S){var A=S[0],a=S[1],M=S[2];return z[0]=e[0]*A,z[1]=e[1]*A,z[2]=e[2]*A,z[3]=e[3]*A,z[4]=e[4]*a,z[5]=e[5]*a,z[6]=e[6]*a,z[7]=e[7]*a,z[8]=e[8]*M,z[9]=e[9]*M,z[10]=e[10]*M,z[11]=e[11]*M,z[12]=e[12],z[13]=e[13],z[14]=e[14],z[15]=e[15],z}},89412:function(ie){ie.exports=function(z){return"mat4("+z[0]+", "+z[1]+", "+z[2]+", "+z[3]+", "+z[4]+", "+z[5]+", "+z[6]+", "+z[7]+", "+z[8]+", "+z[9]+", "+z[10]+", "+z[11]+", "+z[12]+", "+z[13]+", "+z[14]+", "+z[15]+")"}},35176:function(ie){ie.exports=function(z,e,S){var A,a,M,_,d,s,t,i,n,r,o,u,l=S[0],h=S[1],c=S[2];return e===z?(z[12]=e[0]*l+e[4]*h+e[8]*c+e[12],z[13]=e[1]*l+e[5]*h+e[9]*c+e[13],z[14]=e[2]*l+e[6]*h+e[10]*c+e[14],z[15]=e[3]*l+e[7]*h+e[11]*c+e[15]):(a=e[1],M=e[2],_=e[3],d=e[4],s=e[5],t=e[6],i=e[7],n=e[8],r=e[9],o=e[10],u=e[11],z[0]=A=e[0],z[1]=a,z[2]=M,z[3]=_,z[4]=d,z[5]=s,z[6]=t,z[7]=i,z[8]=n,z[9]=r,z[10]=o,z[11]=u,z[12]=A*l+d*h+n*c+e[12],z[13]=a*l+s*h+r*c+e[13],z[14]=M*l+t*h+o*c+e[14],z[15]=_*l+i*h+u*c+e[15]),z}},86520:function(ie){ie.exports=function(z,e){if(z===e){var S=e[1],A=e[2],a=e[3],M=e[6],_=e[7],d=e[11];z[1]=e[4],z[2]=e[8],z[3]=e[12],z[4]=S,z[6]=e[9],z[7]=e[13],z[8]=A,z[9]=M,z[11]=e[14],z[12]=a,z[13]=_,z[14]=d}else z[0]=e[0],z[1]=e[4],z[2]=e[8],z[3]=e[12],z[4]=e[1],z[5]=e[5],z[6]=e[9],z[7]=e[13],z[8]=e[2],z[9]=e[6],z[10]=e[10],z[11]=e[14],z[12]=e[3],z[13]=e[7],z[14]=e[11],z[15]=e[15];return z}},23352:function(ie,z,e){"use strict";var S=e(42771),A=e(55616),a=e(28624),M=e(55212),_=e(60463),d=e(72160),s=e(33888),t=e(14144),i=e(51160),n=e(58908),r=e(65819),o=e(23464),u=e(63768),l=e(50896),h=e(71920),c=e(47520),b=e(308).nextPow2,p=new _,m=!1;if(document.body){var v=document.body.appendChild(document.createElement("div"));v.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(v).fontStretch&&(m=!0),document.body.removeChild(v)}var x=function(y){var w;this.gl="function"==typeof(w=y)&&w._gl&&w.prop&&w.texture&&w.buffer?(y={regl:y}).regl._gl:M(y),this.shader=p.get(this.gl),this.regl=this.shader?this.shader.regl:y.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),p.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(n(y)?y:{})};x.prototype.createShader=function(){var y=this.regl,w=y({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:y.prop("count"),offset:y.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:y.this("sizeBuffer")},width:{offset:0,stride:8,buffer:y.this("sizeBuffer")},char:y.this("charBuffer"),position:y.this("position")},uniforms:{atlasSize:function(f,C){return[C.atlas.width,C.atlas.height]},atlasDim:function(f,C){return[C.atlas.cols,C.atlas.rows]},atlas:function(f,C){return C.atlas.texture},charStep:function(f,C){return C.atlas.step},em:function(f,C){return C.atlas.em},color:y.prop("color"),opacity:y.prop("opacity"),viewport:y.this("viewportArray"),scale:y.this("scale"),align:y.prop("align"),baseline:y.prop("baseline"),translate:y.this("translate"),positionOffset:y.prop("positionOffset")},primitive:"points",viewport:y.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:y,draw:w,atlas:{}}},x.prototype.update=function(y){var w=this;if("string"==typeof y)y={text:y};else if(!y)return;null!=(y=A(y,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(y.opacity)?y.opacity.map(function(me){return parseFloat(me)}):parseFloat(y.opacity)),null!=y.viewport&&(this.viewport=i(y.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=y.kerning&&(this.kerning=y.kerning),null!=y.offset&&("number"==typeof y.offset&&(y.offset=[y.offset,0]),this.positionOffset=c(y.offset)),y.direction&&(this.direction=y.direction),y.range&&(this.range=y.range,this.scale=[1/(y.range[2]-y.range[0]),1/(y.range[3]-y.range[1])],this.translate=[-y.range[0],-y.range[1]]),y.scale&&(this.scale=y.scale),y.translate&&(this.translate=y.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||y.font||(y.font=x.baseFontSize+"px sans-serif");var f,C=!1,T=!1;if(y.font&&(Array.isArray(y.font)?y.font:[y.font]).forEach(function(me,Pe){if("string"==typeof me)try{me=S.parse(me)}catch{me=S.parse(x.baseFontSize+"px "+me)}else{var Ce=me.style,Ie=me.weight,Oe=me.stretch,ze=me.variant;me=S.parse(S.stringify(me)),Ce&&(me.style=Ce),Ie&&(me.weight=Ie),Oe&&(me.stretch=Oe),ze&&(me.variant=ze)}var je=S.stringify({size:x.baseFontSize,family:me.family,stretch:m?me.stretch:void 0,variant:me.variant,weight:me.weight,style:me.style}),ve=r(me.size),Ae=Math.round(ve[0]*o(ve[1]));if(Ae!==w.fontSize[Pe]&&(T=!0,w.fontSize[Pe]=Ae),!(w.font[Pe]&&je==w.font[Pe].baseString||(C=!0,w.font[Pe]=x.fonts[je],w.font[Pe]))){var Le=me.family.join(", "),Ve=[me.style];me.style!=me.variant&&Ve.push(me.variant),me.variant!=me.weight&&Ve.push(me.weight),m&&me.weight!=me.stretch&&Ve.push(me.stretch),w.font[Pe]={baseString:je,family:Le,weight:me.weight,stretch:me.stretch,style:me.style,variant:me.variant,width:{},kerning:{},metrics:h(Le,{origin:"top",fontSize:x.baseFontSize,fontStyle:Ve.join(" ")})},x.fonts[je]=w.font[Pe]}}),(C||T)&&this.font.forEach(function(me,Pe){var Ce=S.stringify({size:w.fontSize[Pe],family:me.family,stretch:m?me.stretch:void 0,variant:me.variant,weight:me.weight,style:me.style});w.fontAtlas[Pe]=w.shader.atlas[Ce],w.fontAtlas[Pe]||(w.shader.atlas[Ce]=w.fontAtlas[Pe]={fontString:Ce,step:2*Math.ceil(w.fontSize[Pe]*me.metrics.bottom*.5),em:w.fontSize[Pe],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}),null==y.text&&(y.text=w.text)}),"string"==typeof y.text&&y.position&&y.position.length>2){for(var D=Array(.5*y.position.length),R=0;R<D.length;R++)D[R]=y.text;y.text=D}if(null!=y.text||C){if(this.textOffsets=[0],Array.isArray(y.text)){this.count=y.text[0].length,this.counts=[this.count];for(var P=1;P<y.text.length;P++)this.textOffsets[P]=this.textOffsets[P-1]+y.text[P-1].length,this.count+=y.text[P].length,this.counts.push(y.text[P].length);this.text=y.text.join("")}else this.text=y.text,this.count=this.text.length,this.counts=[this.count];f=[],this.font.forEach(function(me,Pe){x.atlasContext.font=me.baseString;for(var Ce=w.fontAtlas[Pe],Ie=0;Ie<w.text.length;Ie++){var Oe=w.text.charAt(Ie);if(null==Ce.ids[Oe]&&(Ce.ids[Oe]=Ce.chars.length,Ce.chars.push(Oe),f.push(Oe)),null==me.width[Oe]&&(me.width[Oe]=x.atlasContext.measureText(Oe).width/x.baseFontSize,w.kerning)){var ze=[];for(var je in me.width)ze.push(je+Oe,Oe+je);l(me.kerning,u(me.family,{pairs:ze}))}}})}if(y.position)if(y.position.length>2){for(var O=!y.position[0].length,B=t.mallocFloat(2*this.count),q=0,N=0;q<this.counts.length;q++){var H=this.counts[q];if(O)for(var $=0;$<H;$++)B[N++]=y.position[2*q],B[N++]=y.position[2*q+1];else for(var j=0;j<H;j++)B[N++]=y.position[q][0],B[N++]=y.position[q][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),t.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:y.position};if(y.text||C){var W=t.mallocUint8(this.count),G=t.mallocFloat(2*this.count);this.textWidth=[];for(var ae=0,te=0;ae<this.counts.length;ae++){for(var Q=this.counts[ae],ee=this.font[ae]||this.font[0],re=this.fontAtlas[ae]||this.fontAtlas[0],J=0;J<Q;J++){var le=this.text.charAt(te),fe=this.text.charAt(te-1);if(W[te]=re.ids[le],G[2*te]=ee.width[le],J){var Te=G[2*te-1]+.5*G[2*te-2]+.5*G[2*te];if(this.kerning){var Me=ee.kerning[fe+le];Me&&(Te+=.001*Me)}G[2*te+1]=Te}else G[2*te+1]=.5*G[2*te];te++}this.textWidth.push(G.length?.5*G[2*te-2]+G[2*te-1]:0)}y.align||(y.align=this.align),this.charBuffer({data:W,type:"uint8",usage:"stream"}),this.sizeBuffer({data:G,type:"float",usage:"stream"}),t.freeUint8(W),t.freeFloat(G),f.length&&this.font.forEach(function(me,Pe){var Ce=w.fontAtlas[Pe],Ie=Ce.step,Oe=Math.floor(x.maxAtlasSize/Ie),ze=Math.min(Oe,Ce.chars.length),je=Math.ceil(Ce.chars.length/ze),ve=b(ze*Ie),Ae=b(je*Ie);Ce.width=ve,Ce.height=Ae,Ce.rows=je,Ce.cols=ze,Ce.em&&Ce.texture({data:s({canvas:x.atlasCanvas,font:Ce.fontString,chars:Ce.chars,shape:[ve,Ae],step:[Ie,Ie]})})})}if(y.align&&(this.align=y.align,this.alignOffset=this.textWidth.map(function(me,Pe){var Ce=Array.isArray(w.align)?w.align.length>1?w.align[Pe]:w.align[0]:w.align;if("number"==typeof Ce)return Ce;switch(Ce){case"right":case"end":return-me;case"center":case"centre":case"middle":return.5*-me}return 0})),null==this.baseline&&null==y.baseline&&(y.baseline=0),null!=y.baseline&&(this.baseline=y.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(me,Pe){var Ce=(w.font[Pe]||w.font[0]).metrics,Ie=0;return-1*((Ie+=.5*Ce.bottom)+("number"==typeof me?me-Ce.baseline:-Ce[me]))})),null!=y.color)if(y.color||(y.color="transparent"),"string"!=typeof y.color&&isNaN(y.color)){var we;if("number"==typeof y.color[0]&&y.color.length>this.counts.length){var xe=y.color.length;we=t.mallocUint8(xe);for(var be=(y.color.subarray||y.color.slice).bind(y.color),ye=0;ye<xe;ye+=4)we.set(d(be(ye,ye+4),"uint8"),ye)}else{var Se=y.color.length;we=t.mallocUint8(4*Se);for(var Ee=0;Ee<Se;Ee++)we.set(d(y.color[Ee]||0,"uint8"),4*Ee)}this.color=we}else this.color=d(y.color,"uint8");if(y.position||y.text||y.color||y.baseline||y.align||y.font||y.offset||y.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var he=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(he);for(var ue=0;ue<this.batch.length;ue++)this.batch[ue]={count:this.counts.length>1?this.counts[ue]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[ue]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*ue,4*ue+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[ue]:this.opacity,baseline:null!=this.baselineOffset[ue]?this.baselineOffset[ue]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[ue]?this.alignOffset[ue]:this.alignOffset[0]:0,atlas:this.fontAtlas[ue]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*ue,2*ue+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},x.prototype.destroy=function(){},x.prototype.kerning=!0,x.prototype.position={constant:new Float32Array(2)},x.prototype.translate=null,x.prototype.scale=null,x.prototype.font=null,x.prototype.text="",x.prototype.positionOffset=[0,0],x.prototype.opacity=1,x.prototype.color=new Uint8Array([0,0,0,255]),x.prototype.alignOffset=[0,0],x.maxAtlasSize=1024,x.atlasCanvas=document.createElement("canvas"),x.atlasContext=x.atlasCanvas.getContext("2d",{alpha:!1}),x.baseFontSize=64,x.fonts={},ie.exports=x},55212:function(ie,z,e){"use strict";var S=e(55616);function A(_){if(_.container)if(_.container==document.body)document.body.style.width||(_.canvas.width=_.width||_.pixelRatio*e.g.innerWidth),document.body.style.height||(_.canvas.height=_.height||_.pixelRatio*e.g.innerHeight);else{var d=_.container.getBoundingClientRect();_.canvas.width=_.width||d.right-d.left,_.canvas.height=_.height||d.bottom-d.top}}function a(_){return"function"==typeof _.getContext&&"width"in _&&"height"in _}function M(){var _=document.createElement("canvas");return _.style.position="absolute",_.style.top=0,_.style.left=0,_}ie.exports=function(_){var d,t;if(_?"string"==typeof _&&(_={container:_}):_={},(_=a(_)||"string"==typeof(d=_).nodeName&&"function"==typeof d.appendChild&&"function"==typeof d.getBoundingClientRect?{container:_}:(t=_,"function"==typeof t.drawArrays||"function"==typeof t.drawElements?{gl:_}:S(_,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(_.pixelRatio=e.g.pixelRatio||1),_.gl)return _.gl;if(_.canvas&&(_.container=_.canvas.parentNode),_.container){if("string"==typeof _.container){var s=document.querySelector(_.container);if(!s)throw Error("Element "+_.container+" is not found");_.container=s}a(_.container)?(_.canvas=_.container,_.container=_.canvas.parentNode):_.canvas||(_.canvas=M(),_.container.appendChild(_.canvas),A(_))}else if(!_.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");_.container=document.body||document.documentElement,_.canvas=M(),_.container.appendChild(_.canvas),A(_)}return _.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{_.gl=_.canvas.getContext(t,_.attrs)}catch{}return _.gl}),_.gl}},26444:function(ie){ie.exports=function(z){"string"==typeof z&&(z=[z]);for(var e=[].slice.call(arguments,1),S=[],A=0;A<z.length-1;A++)S.push(z[A],e[A]||"");return S.push(z[A]),S.join("")}},2304:function(ie,z,e){"use strict";var S=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(S)try{S([],"length")}catch{S=null}ie.exports=S},52264:function(ie,z,e){"use strict";var S,A=e(24200);S="function"==typeof e.g.matchMedia?!e.g.matchMedia("(hover: none)").matches:A,ie.exports=S},89184:function(ie,z,e){"use strict";var S=e(24200);ie.exports=S&&function(){var A=!1;try{var a=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{A=!1}return A}()},39640:function(ie,z,e){"use strict";var S=e(53664)("%Object.defineProperty%",!0),A=function(){if(S)try{return S({},"a",{value:1}),!0}catch{return!1}return!1};A.hasArrayLengthDefineBug=function(){if(!A())return null;try{return 1!==S([],"length",{value:1}).length}catch{return!0}},ie.exports=A},69572:function(ie){"use strict";var z={foo:{}},e=Object;ie.exports=function(){return{__proto__:z}.foo===z.foo&&!({__proto__:null}instanceof e)}},71080:function(ie,z,e){"use strict";var S=typeof Symbol<"u"&&Symbol,A=e(89320);ie.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&A()}},89320:function(ie){"use strict";ie.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var z={},e=Symbol("test"),S=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(S))return!1;for(e in z[e]=42,z)return!1;if("function"==typeof Object.keys&&0!==Object.keys(z).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(z).length)return!1;var A=Object.getOwnPropertySymbols(z);if(1!==A.length||A[0]!==e||!Object.prototype.propertyIsEnumerable.call(z,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(z,e);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},46672:function(ie,z,e){"use strict";var S=e(89320);ie.exports=function(){return S()&&!!Symbol.toStringTag}},92064:function(ie,z,e){"use strict";var S=Function.prototype.call,A=Object.prototype.hasOwnProperty,a=e(8844);ie.exports=a.call(S,A)},35984:function(ie,z){z.read=function(e,S,A,a,M){var _,d,s=8*M-a-1,t=(1<<s)-1,i=t>>1,n=-7,r=A?M-1:0,o=A?-1:1,u=e[S+r];for(r+=o,_=u&(1<<-n)-1,u>>=-n,n+=s;n>0;_=256*_+e[S+r],r+=o,n-=8);for(d=_&(1<<-n)-1,_>>=-n,n+=a;n>0;d=256*d+e[S+r],r+=o,n-=8);if(0===_)_=1-i;else{if(_===t)return d?NaN:1/0*(u?-1:1);d+=Math.pow(2,a),_-=i}return(u?-1:1)*d*Math.pow(2,_-a)},z.write=function(e,S,A,a,M,_){var d,s,t,i=8*_-M-1,n=(1<<i)-1,r=n>>1,o=23===M?Math.pow(2,-24)-Math.pow(2,-77):0,u=a?0:_-1,l=a?1:-1,h=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(s=isNaN(S)?1:0,d=n):(d=Math.floor(Math.log(S)/Math.LN2),S*(t=Math.pow(2,-d))<1&&(d--,t*=2),(S+=d+r>=1?o/t:o*Math.pow(2,1-r))*t>=2&&(d++,t/=2),d+r>=n?(s=0,d=n):d+r>=1?(s=(S*t-1)*Math.pow(2,M),d+=r):(s=S*Math.pow(2,r-1)*Math.pow(2,M),d=0));M>=8;e[A+u]=255&s,u+=l,s/=256,M-=8);for(d=d<<M|s,i+=M;i>0;e[A+u]=255&d,u+=l,d/=256,i-=8);e[A+u-l]|=128*h}},6768:function(ie){ie.exports="function"==typeof Object.create?function(z,e){e&&(z.super_=e,z.prototype=Object.create(e.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}))}:function(z,e){if(e){z.super_=e;var S=function(){};S.prototype=e.prototype,z.prototype=new S,z.prototype.constructor=z}}},91148:function(ie,z,e){"use strict";var S=e(46672)(),A=e(99676)("Object.prototype.toString"),a=function(d){return!(S&&d&&"object"==typeof d&&Symbol.toStringTag in d)&&"[object Arguments]"===A(d)},M=function(d){return!!a(d)||null!==d&&"object"==typeof d&&"number"==typeof d.length&&d.length>=0&&"[object Array]"!==A(d)&&"[object Function]"===A(d.callee)},_=function(){return a(arguments)}();a.isLegacyArguments=M,ie.exports=_?a:M},24200:function(ie){ie.exports=!0},90720:function(ie){"use strict";var z,e,S=Function.prototype.toString,A="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof A&&"function"==typeof Object.defineProperty)try{z=Object.defineProperty({},"length",{get:function(){throw e}}),e={},A(function(){throw 42},null,z)}catch(r){r!==e&&(A=null)}else A=null;var a=/^\s*class\b/,M=function(r){try{var o=S.call(r);return a.test(o)}catch{return!1}},_=function(r){try{return!M(r)&&(S.call(r),!0)}catch{return!1}},d=Object.prototype.toString,s="function"==typeof Symbol&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if("object"==typeof document){var n=document.all;d.call(n)===d.call(document.all)&&(i=function(r){if((t||!r)&&(void 0===r||"object"==typeof r))try{var o=d.call(r);return("[object HTMLAllCollection]"===o||"[object HTML document.all class]"===o||"[object HTMLCollection]"===o||"[object Object]"===o)&&null==r("")}catch{}return!1})}ie.exports=A?function(r){if(i(r))return!0;if(!r||"function"!=typeof r&&"object"!=typeof r)return!1;try{A(r,null,z)}catch(o){if(o!==e)return!1}return!M(r)&&_(r)}:function(r){if(i(r))return!0;if(!r||"function"!=typeof r&&"object"!=typeof r)return!1;if(s)return _(r);if(M(r))return!1;var o=d.call(r);return!("[object Function]"!==o&&"[object GeneratorFunction]"!==o&&!/^\[object HTML/.test(o))&&_(r)}},84420:function(ie,z,e){"use strict";var S,A=Object.prototype.toString,a=Function.prototype.toString,M=/^\s*(?:function)?\*/,_=e(46672)(),d=Object.getPrototypeOf;ie.exports=function(s){if("function"!=typeof s)return!1;if(M.test(a.call(s)))return!0;if(!_)return"[object GeneratorFunction]"===A.call(s);if(!d)return!1;if(void 0===S){var t=function(){if(!_)return!1;try{return Function("return function*() {}")()}catch{}}();S=!!t&&d(t)}return d(s)===S}},96604:function(ie){"use strict";ie.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(ie){"use strict";ie.exports=function(z){return z!=z}},1560:function(ie,z,e){"use strict";var S=e(57916),A=e(81288),a=e(85992),M=e(57740),_=e(59736),d=S(M(),Number);A(d,{getPolyfill:M,implementation:a,shim:_}),ie.exports=d},57740:function(ie,z,e){"use strict";var S=e(85992);ie.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:S}},59736:function(ie,z,e){"use strict";var S=e(81288),A=e(57740);ie.exports=function(){var a=A();return S(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}},18400:function(ie){"use strict";ie.exports=function(z){var e=typeof z;return null!==z&&("object"===e||"function"===e)}},58908:function(ie){"use strict";var z=Object.prototype.toString;ie.exports=function(e){var S;return"[object Object]"===z.call(e)&&(null===(S=Object.getPrototypeOf(e))||S===Object.getPrototypeOf({}))}},94576:function(ie){"use strict";ie.exports=function(z){for(var e,S=z.length,A=0;A<S;A++)if(((e=z.charCodeAt(A))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},53520:function(ie){"use strict";ie.exports=function(z){return"string"==typeof z&&(z=z.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(z)&&/[\dz]$/i.test(z)&&z.length>4))}},7728:function(ie,z,e){"use strict";var S=e(46492),A=e(63436),a=e(99676),M=a("Object.prototype.toString"),_=e(46672)(),d=e(2304),s=typeof globalThis>"u"?e.g:globalThis,t=A(),i=a("Array.prototype.indexOf",!0)||function(u,l){for(var h=0;h<u.length;h+=1)if(u[h]===l)return h;return-1},n=a("String.prototype.slice"),r={},o=Object.getPrototypeOf;_&&d&&o&&S(t,function(u){var l=new s[u];if(Symbol.toStringTag in l){var h=o(l),c=d(h,Symbol.toStringTag);if(!c){var b=o(h);c=d(b,Symbol.toStringTag)}r[u]=c.get}}),ie.exports=function(u){if(!u||"object"!=typeof u)return!1;if(!_||!(Symbol.toStringTag in u)){var l=n(M(u),8,-1);return i(t,l)>-1}return!!d&&(h=u,c=!1,S(r,function(b,p){if(!c)try{c=b.call(h)===p}catch{}}),c);var h,c}},76244:function(ie){"use strict";ie.exports=Math.log2||function(z){return Math.log(z)*Math.LOG2E}},62644:function(ie,z,e){"use strict";ie.exports=function(A,a){a||(a=A,A=window);var M=0,_=0,d=0,s={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(m){var v=!1;return"altKey"in m&&(v=v||m.altKey!==s.alt,s.alt=!!m.altKey),"shiftKey"in m&&(v=v||m.shiftKey!==s.shift,s.shift=!!m.shiftKey),"ctrlKey"in m&&(v=v||m.ctrlKey!==s.control,s.control=!!m.ctrlKey),"metaKey"in m&&(v=v||m.metaKey!==s.meta,s.meta=!!m.metaKey),v}function n(m,v){var x=S.x(v),y=S.y(v);"buttons"in v&&(m=0|v.buttons),(m!==M||x!==_||y!==d||i(v))&&(M=0|m,_=x||0,d=y||0,a&&a(M,_,d,s))}function r(m){n(0,m)}function o(){(M||_||d||s.shift||s.alt||s.meta||s.control)&&(_=d=0,M=0,s.shift=s.alt=s.control=s.meta=!1,a&&a(0,0,0,s))}function u(m){i(m)&&a&&a(M,_,d,s)}function l(m){0===S.buttons(m)?n(0,m):n(M,m)}function h(m){n(M|S.buttons(m),m)}function c(m){n(M&~S.buttons(m),m)}function b(){t||(t=!0,A.addEventListener("mousemove",l),A.addEventListener("mousedown",h),A.addEventListener("mouseup",c),A.addEventListener("mouseleave",r),A.addEventListener("mouseenter",r),A.addEventListener("mouseout",r),A.addEventListener("mouseover",r),A.addEventListener("blur",o),A.addEventListener("keyup",u),A.addEventListener("keydown",u),A.addEventListener("keypress",u),A!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}b();var p={element:A};return Object.defineProperties(p,{enabled:{get:function(){return t},set:function(m){m?b():t&&(t=!1,A.removeEventListener("mousemove",l),A.removeEventListener("mousedown",h),A.removeEventListener("mouseup",c),A.removeEventListener("mouseleave",r),A.removeEventListener("mouseenter",r),A.removeEventListener("mouseout",r),A.removeEventListener("mouseover",r),A.removeEventListener("blur",o),A.removeEventListener("keyup",u),A.removeEventListener("keydown",u),A.removeEventListener("keypress",u),A!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))},enumerable:!0},buttons:{get:function(){return M},enumerable:!0},x:{get:function(){return _},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),p};var S=e(93784)},29128:function(ie){var z={left:0,top:0};ie.exports=function(e,S,A){S=S||e.currentTarget||e.srcElement,Array.isArray(A)||(A=[0,0]);var a,M=e.clientX||0,_=e.clientY||0,d=(a=S)===window||a===document||a===document.body?z:a.getBoundingClientRect();return A[0]=M-d.left,A[1]=_-d.top,A}},93784:function(ie,z){"use strict";function e(S){return S.target||S.srcElement||window}z.buttons=function(S){if("object"==typeof S){if("buttons"in S)return S.buttons;if("which"in S){if(2===(A=S.which))return 4;if(3===A)return 2;if(A>0)return 1<<A-1}else if("button"in S){var A;if(1===(A=S.button))return 4;if(2===A)return 2;if(A>=0)return 1<<A}}return 0},z.element=e,z.x=function(S){if("object"==typeof S){if("offsetX"in S)return S.offsetX;var A=e(S).getBoundingClientRect();return S.clientX-A.left}return 0},z.y=function(S){if("object"==typeof S){if("offsetY"in S)return S.offsetY;var A=e(S).getBoundingClientRect();return S.clientY-A.top}return 0}},97264:function(ie,z,e){"use strict";var S=e(23464);ie.exports=function(A,a,M){"function"==typeof A&&(M=!!a,a=A,A=window);var _=S("ex",A),d=function(s){M&&s.preventDefault();var t=s.deltaX||0,i=s.deltaY||0,n=s.deltaZ||0,r=1;switch(s.deltaMode){case 1:r=_;break;case 2:r=window.innerHeight}if(i*=r,n*=r,(t*=r)||i||n)return a(t,i,n,s)};return A.addEventListener("wheel",d),d}},88324:function(ie,z,e){var S,A,a;(a=void 0!==e.g?e.g:this)[A="Promise"]=a[A]||function(){"use strict";var _,d,s,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(x){return setImmediate(x)}:setTimeout;try{Object.defineProperty({},"x",{}),_=function(x,y,w,f){return Object.defineProperty(x,y,{value:w,writable:!0,configurable:!1!==f})}}catch{_=function(y,w,f){return y[w]=f,y}}function n(x,y){s.add(x,y),d||(d=i(s.drain))}function r(x){var y,w=typeof x;return null==x||"object"!=w&&"function"!=w||(y=x.then),"function"==typeof y&&y}function o(){for(var x=0;x<this.chain.length;x++)u(this,1===this.state?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function u(x,y,w){var f,C;try{!1===y?w.reject(x.msg):(f=!0===y?x.msg:y.call(void 0,x.msg))===w.promise?w.reject(TypeError("Promise-chain cycle")):(C=r(f))?C.call(f,w.resolve,w.reject):w.resolve(f)}catch(T){w.reject(T)}}function l(x){var y,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(y=r(x))?n(function(){var f=new b(w);try{y.call(x,function(){l.apply(f,arguments)},function(){h.apply(f,arguments)})}catch(C){h.call(f,C)}}):(w.msg=x,w.state=1,w.chain.length>0&&n(o,w))}catch(f){h.call(new b(w),f)}}}function h(x){var y=this;y.triggered||(y.triggered=!0,y.def&&(y=y.def),y.msg=x,y.state=2,y.chain.length>0&&n(o,y))}function c(x,y,w,f){for(var C=0;C<y.length;C++)!function(T){x.resolve(y[T]).then(function(D){w(T,D)},f)}(C)}function b(x){this.def=x,this.triggered=!1}function p(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(x){if("function"!=typeof x)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var y=new p(this);this.then=function(w,f){var C={success:"function"!=typeof w||w,failure:"function"==typeof f&&f};return C.promise=new this.constructor(function(T,D){if("function"!=typeof T||"function"!=typeof D)throw TypeError("Not a function");C.resolve=T,C.reject=D}),y.chain.push(C),0!==y.state&&n(o,y),C.promise},this.catch=function(w){return this.then(void 0,w)};try{x.call(void 0,function(w){l.call(y,w)},function(w){h.call(y,w)})}catch(w){h.call(y,w)}}s=function(){var x,y,w;function f(C,T){this.fn=C,this.self=T,this.next=void 0}return{add:function(C,T){w=new f(C,T),y?y.next=w:x=w,y=w,w=void 0},drain:function(){var C=x;for(x=y=d=void 0;C;)C.fn.call(C.self),C=C.next}}}();var v=_({},"constructor",m,!1);return m.prototype=v,_(v,"__NPO__",0,!1),_(m,"resolve",function(x){return x&&"object"==typeof x&&1===x.__NPO__?x:new this(function(y,w){if("function"!=typeof y||"function"!=typeof w)throw TypeError("Not a function");y(x)})}),_(m,"reject",function(x){return new this(function(y,w){if("function"!=typeof y||"function"!=typeof w)throw TypeError("Not a function");w(x)})}),_(m,"all",function(x){var y=this;return"[object Array]"!=t.call(x)?y.reject(TypeError("Not an array")):0===x.length?y.resolve([]):new y(function(w,f){if("function"!=typeof w||"function"!=typeof f)throw TypeError("Not a function");var C=x.length,T=Array(C),D=0;c(y,x,function(R,P){T[R]=P,++D===C&&w(T)},f)})}),_(m,"race",function(x){var y=this;return"[object Array]"!=t.call(x)?y.reject(TypeError("Not an array")):new y(function(w,f){if("function"!=typeof w||"function"!=typeof f)throw TypeError("Not a function");c(y,x,function(C,T){w(T)},f)})}),m}(),ie.exports?ie.exports=a[A]:void 0===(S=function(){return a[A]}.call(z,e,z,ie))||(ie.exports=S)},48816:function(ie){var z=Math.PI,e=_(120);function S(d,s,t,i){return["C",d,s,t,i,t,i]}function A(d,s,t,i,n,r){return["C",d/3+.6666666666666666*t,s/3+.6666666666666666*i,n/3+.6666666666666666*t,r/3+.6666666666666666*i,n,r]}function a(d,s,t,i,n,r,o,u,l,h){if(h)C=h[0],T=h[1],w=h[2],f=h[3];else{var c=M(d,s,-n);s=c.y;var b=((d=c.x)-(u=(c=M(u,l,-n)).x))/2,p=(s-(l=c.y))/2,m=b*b/(t*t)+p*p/(i*i);m>1&&(t*=m=Math.sqrt(m),i*=m);var v=t*t,x=i*i,y=(r==o?-1:1)*Math.sqrt(Math.abs((v*x-v*p*p-x*b*b)/(v*p*p+x*b*b)));y==1/0&&(y=1);var w=y*t*p/i+(d+u)/2,f=y*-i*b/t+(s+l)/2,C=Math.asin(((s-f)/i).toFixed(9)),T=Math.asin(((l-f)/i).toFixed(9));(C=d<w?z-C:C)<0&&(C=2*z+C),(T=u<w?z-T:T)<0&&(T=2*z+T),o&&C>T&&(C-=2*z),!o&&T>C&&(T-=2*z)}if(Math.abs(T-C)>e){var D=T,R=u,P=l;T=C+e*(o&&T>C?1:-1);var O=a(u=w+t*Math.cos(T),l=f+i*Math.sin(T),t,i,n,0,o,R,P,[T,D,w,f])}var B=Math.tan((T-C)/4),q=4/3*t*B,N=4/3*i*B,H=[2*d-(d+q*Math.sin(C)),2*s-(s-N*Math.cos(C)),u+q*Math.sin(T),l-N*Math.cos(T),u,l];if(h)return H;O&&(H=H.concat(O));for(var $=0;$<H.length;){var j=M(H[$],H[$+1],n);H[$++]=j.x,H[$++]=j.y}return H}function M(d,s,t){return{x:d*Math.cos(t)-s*Math.sin(t),y:d*Math.sin(t)+s*Math.cos(t)}}function _(d){return d*(z/180)}ie.exports=function(d){for(var s,t=[],i=0,n=0,r=0,o=0,u=null,l=null,h=0,c=0,b=0,p=d.length;b<p;b++){var m=d[b],v=m[0];switch(v){case"M":r=m[1],o=m[2];break;case"A":(m=a(h,c,m[1],m[2],_(m[3]),m[4],m[5],m[6],m[7])).unshift("C"),m.length>7&&(t.push(m.splice(0,7)),m.unshift("C"));break;case"S":var x=h,y=c;"C"!=s&&"S"!=s||(x+=x-i,y+=y-n),m=["C",x,y,m[1],m[2],m[3],m[4]];break;case"T":"Q"==s||"T"==s?(u=2*h-u,l=2*c-l):(u=h,l=c),m=A(h,c,u,l,m[1],m[2]);break;case"Q":u=m[1],l=m[2],m=A(h,c,m[1],m[2],m[3],m[4]);break;case"L":m=S(h,c,m[1],m[2]);break;case"H":m=S(h,c,m[1],c);break;case"V":m=S(h,c,h,m[1]);break;case"Z":m=S(h,c,r,o)}s=v,h=m[m.length-2],c=m[m.length-1],m.length>4?(i=m[m.length-4],n=m[m.length-3]):(i=h,n=c),t.push(m)}return t}},50896:function(ie){"use strict";var z=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;ie.exports=function(){try{if(!Object.assign)return!1;var A=new String("abc");if(A[5]="de","5"===Object.getOwnPropertyNames(A)[0])return!1;for(var a={},M=0;M<10;M++)a["_"+String.fromCharCode(M)]=M;if("0123456789"!==Object.getOwnPropertyNames(a).map(function(d){return a[d]}).join(""))return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(d){_[d]=d}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},_)).join("")}catch{return!1}}()?Object.assign:function(A,a){for(var M,_,d=function(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}(A),s=1;s<arguments.length;s++){for(var t in M=Object(arguments[s]))e.call(M,t)&&(d[t]=M[t]);if(z){_=z(M);for(var i=0;i<_.length;i++)S.call(M,_[i])&&(d[_[i]]=M[_[i]])}}return d}},76835:function(ie){"use strict";var z=function(e){return e!=e};ie.exports=function(e,S){return 0===e&&0===S?1/e==1/S:e===S||!(!z(e)||!z(S))}},39896:function(ie,z,e){"use strict";var S=e(81288),A=e(57916),a=e(76835),M=e(66148),_=e(16408),d=A(M(),Object);S(d,{getPolyfill:M,implementation:a,shim:_}),ie.exports=d},66148:function(ie,z,e){"use strict";var S=e(76835);ie.exports=function(){return"function"==typeof Object.is?Object.is:S}},16408:function(ie,z,e){"use strict";var S=e(66148),A=e(81288);ie.exports=function(){var a=S();return A(Object,{is:a},{is:function(){return Object.is!==a}}),a}},32764:function(ie,z,e){"use strict";var S;if(!Object.keys){var A=Object.prototype.hasOwnProperty,a=Object.prototype.toString,M=e(97344),_=Object.prototype.propertyIsEnumerable,d=!_.call({toString:null},"toString"),s=_.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(o){var u=o.constructor;return u&&u.prototype===o},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},r=function(){if(typeof window>"u")return!1;for(var o in window)try{if(!n["$"+o]&&A.call(window,o)&&null!==window[o]&&"object"==typeof window[o])try{i(window[o])}catch{return!0}}catch{return!0}return!1}();S=function(o){var u=null!==o&&"object"==typeof o,l="[object Function]"===a.call(o),h=M(o),c=u&&"[object String]"===a.call(o),b=[];if(!u&&!l&&!h)throw new TypeError("Object.keys called on a non-object");var p=s&&l;if(c&&o.length>0&&!A.call(o,0))for(var m=0;m<o.length;++m)b.push(String(m));if(h&&o.length>0)for(var v=0;v<o.length;++v)b.push(String(v));else for(var x in o)p&&"prototype"===x||!A.call(o,x)||b.push(String(x));if(d)for(var y=function(f){if(typeof window>"u"||!r)return i(f);try{return i(f)}catch{return!1}}(o),w=0;w<t.length;++w)y&&"constructor"===t[w]||!A.call(o,t[w])||b.push(t[w]);return b}}ie.exports=S},41820:function(ie,z,e){"use strict";var S=Array.prototype.slice,A=e(97344),a=Object.keys,M=a?function(d){return a(d)}:e(32764),_=Object.keys;M.shim=function(){if(Object.keys){var d=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);d||(Object.keys=function(s){return A(s)?_(S.call(s)):_(s)})}else Object.keys=M;return Object.keys||M},ie.exports=M},97344:function(ie){"use strict";var z=Object.prototype.toString;ie.exports=function(e){var S=z.call(e),A="[object Arguments]"===S;return A||(A="[object Array]"!==S&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===z.call(e.callee)),A}},32868:function(ie){"use strict";function z(A,a){if("string"!=typeof A)return[A];var M=[A];"string"==typeof a||Array.isArray(a)?a={brackets:a}:a||(a={});var _=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],d=a.escape||"___",s=!!a.flat;_.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),r=[];function o(u,l,h){var c=M.push(u.slice(i[0].length,-i[1].length))-1;return r.push(c),d+c+d}M.forEach(function(u,l){for(var h,c=0;u!=h;)if(h=u,u=u.replace(n,o),c++>1e4)throw Error("References have circular dependency. Please, check them.");M[l]=u}),r=r.reverse(),M=M.map(function(u){return r.forEach(function(l){u=u.replace(new RegExp("(\\"+d+l+"\\"+d+")","g"),i[0]+"$1"+i[1])}),u})});var t=new RegExp("\\"+d+"([0-9]+)\\"+d);return s?M:function i(n,r,o){for(var u,l=[],h=0;u=t.exec(n);){if(h++>1e4)throw Error("Circular references in parenthesis");l.push(n.slice(0,u.index)),l.push(i(r[u[1]],r)),n=n.slice(u.index+u[0].length)}return l.push(n),l}(M[0],M)}function e(A,a){if(a&&a.flat){var M,_=a&&a.escape||"___",d=A[0];if(!d)return"";for(var s=new RegExp("\\"+_+"([0-9]+)\\"+_),t=0;d!=M;){if(t++>1e4)throw Error("Circular references in "+A);M=d,d=d.replace(s,i)}return d}return A.reduce(function n(r,o){return Array.isArray(o)&&(o=o.reduce(n,"")),r+o},"");function i(n,r){if(null==A[r])throw Error("Reference "+r+"is undefined");return A[r]}}function S(A,a){return Array.isArray(A)?e(A,a):z(A,a)}S.parse=z,S.stringify=e,ie.exports=S},51160:function(ie,z,e){"use strict";var S=e(55616);ie.exports=function(A){var a;return arguments.length>1&&(A=arguments),"string"==typeof A?A=A.split(/\s/).map(parseFloat):"number"==typeof A&&(A=[A]),A.length&&"number"==typeof A[0]?a=1===A.length?{width:A[0],height:A[0],x:0,y:0}:2===A.length?{width:A[0],height:A[1],x:0,y:0}:{x:A[0],y:A[1],width:A[2]-A[0]||0,height:A[3]-A[1]||0}:A&&((a={x:(A=S(A,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:A.top||0}).width=null==A.width?A.right?A.right-a.x:0:A.width,a.height=null==A.height?A.bottom?A.bottom-a.y:0:A.height),a}},21984:function(ie){ie.exports=function(A){var a=[];return A.replace(e,function(M,_,d){var i,s=_.toLowerCase();for(i=void 0,d=(i=d.match(S))?i.map(Number):[],"m"==s&&d.length>2&&(a.push([_].concat(d.splice(0,2))),s="l",_="m"==_?"l":"L");;){if(d.length==z[s])return d.unshift(_),a.push(d);if(d.length<z[s])throw new Error("malformed path data");a.push([_].concat(d.splice(0,z[s])))}}),a};var z={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,S=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(ie){ie.exports=function(z,e){e||(e=[0,""]),z=String(z);var S=parseFloat(z,10);return e[0]=S,e[1]=z.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(ie,z,e){var S=e(4168);(function(){var A,a,M,_,d,s;typeof performance<"u"&&null!==performance&&performance.now?ie.exports=function(){return performance.now()}:null!=S&&S.hrtime?(ie.exports=function(){return(A()-d)/1e6},a=S.hrtime,_=(A=function(){var t;return 1e9*(t=a())[0]+t[1]})(),s=1e9*S.uptime(),d=_-s):Date.now?(ie.exports=function(){return Date.now()-M},M=Date.now()):(ie.exports=function(){return(new Date).getTime()-M},M=(new Date).getTime())}).call(this)},55616:function(ie){"use strict";ie.exports=function(S,A,a){var M,_,d={};if("string"==typeof A&&(A=e(A)),Array.isArray(A)){var s={};for(_=0;_<A.length;_++)s[A[_]]=!0;A=s}for(M in A)A[M]=e(A[M]);var t={};for(M in A){var i=A[M];if(Array.isArray(i))for(_=0;_<i.length;_++){var n=i[_];if(a&&(t[n]=!0),n in S){if(d[M]=S[n],a)for(var r=_;r<i.length;r++)t[i[r]]=!0;break}}else M in S&&(A[M]&&(d[M]=S[M]),a&&(t[M]=!0))}if(a)for(M in S)t[M]||(d[M]=S[M]);return d};var z={};function e(S){return z[S]?z[S]:("string"==typeof S&&(S=z[S]=S.split(/\s*,\s*|\s+/)),S)}},61456:function(ie){ie.exports=function(z,e,S,A){var a=z[0],M=z[1],_=!1;void 0===S&&(S=0),void 0===A&&(A=e.length);for(var d=A-S,s=0,t=d-1;s<d;t=s++){var i=e[s+S][0],n=e[s+S][1],o=e[t+S][1];n>M!=o>M&&a<(e[t+S][0]-i)*(M-n)/(o-n)+i&&(_=!_)}return _}},14756:function(ie,z,e){var S,A=e(7688),a=e(28648),M=e(72200),_=e(11403),d=e(82368),s=e(17792),t=!1,i=a();function n(r,o,u){var l=S.segments(r),h=S.segments(o),c=u(S.combine(l,h));return S.polygon(c)}S={buildLog:function(r){return!0===r?t=A():!1===r&&(t=!1),!1!==t&&t.list},epsilon:function(r){return i.epsilon(r)},segments:function(r){var o=M(!0,i,t);return r.regions.forEach(o.addRegion),{segments:o.calculate(r.inverted),inverted:r.inverted}},combine:function(r,o){return{combined:M(!1,i,t).calculate(r.segments,r.inverted,o.segments,o.inverted),inverted1:r.inverted,inverted2:o.inverted}},selectUnion:function(r){return{segments:d.union(r.combined,t),inverted:r.inverted1||r.inverted2}},selectIntersect:function(r){return{segments:d.intersect(r.combined,t),inverted:r.inverted1&&r.inverted2}},selectDifference:function(r){return{segments:d.difference(r.combined,t),inverted:r.inverted1&&!r.inverted2}},selectDifferenceRev:function(r){return{segments:d.differenceRev(r.combined,t),inverted:!r.inverted1&&r.inverted2}},selectXor:function(r){return{segments:d.xor(r.combined,t),inverted:r.inverted1!==r.inverted2}},polygon:function(r){return{regions:_(r.segments,i,t),inverted:r.inverted}},polygonFromGeoJSON:function(r){return s.toPolygon(S,r)},polygonToGeoJSON:function(r){return s.fromPolygon(S,i,r)},union:function(r,o){return n(r,o,S.selectUnion)},intersect:function(r,o){return n(r,o,S.selectIntersect)},difference:function(r,o){return n(r,o,S.selectDifference)},differenceRev:function(r,o){return n(r,o,S.selectDifferenceRev)},xor:function(r,o){return n(r,o,S.selectXor)}},"object"==typeof window&&(window.PolyBool=S),ie.exports=S},7688:function(ie){ie.exports=function(){var z,e=0,S=!1;function A(a,M){return z.list.push({type:a,data:M?JSON.parse(JSON.stringify(M)):void 0}),z}return z={list:[],segmentId:function(){return e++},checkIntersection:function(a,M){return A("check",{seg1:a,seg2:M})},segmentChop:function(a,M){return A("div_seg",{seg:a,pt:M}),A("chop",{seg:a,pt:M})},statusRemove:function(a){return A("pop_seg",{seg:a})},segmentUpdate:function(a){return A("seg_update",{seg:a})},segmentNew:function(a,M){return A("new_seg",{seg:a,primary:M})},segmentRemove:function(a){return A("rem_seg",{seg:a})},tempStatus:function(a,M,_){return A("temp_status",{seg:a,above:M,below:_})},rewind:function(a){return A("rewind",{seg:a})},status:function(a,M,_){return A("status",{seg:a,above:M,below:_})},vert:function(a){return a===S?z:(S=a,A("vert",{x:a}))},log:function(a){return"string"!=typeof a&&(a=JSON.stringify(a,!1,"  ")),A("log",{txt:a})},reset:function(){return A("reset")},selected:function(a){return A("selected",{segs:a})},chainStart:function(a){return A("chain_start",{seg:a})},chainRemoveHead:function(a,M){return A("chain_rem_head",{index:a,pt:M})},chainRemoveTail:function(a,M){return A("chain_rem_tail",{index:a,pt:M})},chainNew:function(a,M){return A("chain_new",{pt1:a,pt2:M})},chainMatch:function(a){return A("chain_match",{index:a})},chainClose:function(a){return A("chain_close",{index:a})},chainAddHead:function(a,M){return A("chain_add_head",{index:a,pt:M})},chainAddTail:function(a,M){return A("chain_add_tail",{index:a,pt:M})},chainConnect:function(a,M){return A("chain_con",{index1:a,index2:M})},chainReverse:function(a){return A("chain_rev",{index:a})},chainJoin:function(a,M){return A("chain_join",{index1:a,index2:M})},done:function(){return A("done")}}}},28648:function(ie){ie.exports=function(z){"number"!=typeof z&&(z=1e-10);var e={epsilon:function(S){return"number"==typeof S&&(z=S),z},pointAboveOrOnLine:function(S,A,a){var M=A[0],_=A[1];return(a[0]-M)*(S[1]-_)-(a[1]-_)*(S[0]-M)>=-z},pointBetween:function(S,A,a){var _=a[0]-A[0],s=a[1]-A[1],t=(S[0]-A[0])*_+(S[1]-A[1])*s;return!(t<z||t-(_*_+s*s)>-z)},pointsSameX:function(S,A){return Math.abs(S[0]-A[0])<z},pointsSameY:function(S,A){return Math.abs(S[1]-A[1])<z},pointsSame:function(S,A){return e.pointsSameX(S,A)&&e.pointsSameY(S,A)},pointsCompare:function(S,A){return e.pointsSameX(S,A)?e.pointsSameY(S,A)?0:S[1]<A[1]?-1:1:S[0]<A[0]?-1:1},pointsCollinear:function(S,A,a){return Math.abs((S[0]-A[0])*(A[1]-a[1])-(A[0]-a[0])*(S[1]-A[1]))<z},linesIntersect:function(S,A,a,M){var _=A[0]-S[0],d=A[1]-S[1],s=M[0]-a[0],t=M[1]-a[1],i=_*t-d*s;if(Math.abs(i)<z)return!1;var n=S[0]-a[0],r=S[1]-a[1],o=(s*r-t*n)/i,u=(_*r-d*n)/i,l={alongA:0,alongB:0,pt:[S[0]+o*_,S[1]+o*d]};return l.alongA=o<=-z?-2:o<z?-1:o-1<=-z?0:o-1<z?1:2,l.alongB=u<=-z?-2:u<z?-1:u-1<=-z?0:u-1<z?1:2,l},pointInsideRegion:function(S,A){for(var a=S[0],M=S[1],_=A[A.length-1][0],d=A[A.length-1][1],s=!1,t=0;t<A.length;t++){var i=A[t][0],n=A[t][1];n-M>z!=d-M>z&&(_-i)*(M-n)/(d-n)+i-a>z&&(s=!s),_=i,d=n}return s}};return e}},17792:function(ie){ie.exports={toPolygon:function(e,S){function A(_){if(_.length<=0)return e.segments({inverted:!1,regions:[]});function d(i){var n=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[n]})}for(var s=d(_[0]),t=1;t<_.length;t++)s=e.selectDifference(e.combine(s,d(_[t])));return s}if("Polygon"===S.type)return e.polygon(A(S.coordinates));if("MultiPolygon"===S.type){for(var a=e.segments({inverted:!1,regions:[]}),M=0;M<S.coordinates.length;M++)a=e.selectUnion(e.combine(a,A(S.coordinates[M])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,S,A){function a(u,l){return S.pointInsideRegion([.5*(u[0][0]+u[1][0]),.5*(u[0][1]+u[1][1])],l)}function M(u){return{region:u,children:[]}}A=e.polygon(e.segments(A));var _=M(null);function d(u,l){for(var h=0;h<u.children.length;h++)if(a(l,(b=u.children[h]).region))return void d(b,l);var c=M(l);for(h=0;h<u.children.length;h++){var b;a((b=u.children[h]).region,l)&&(c.children.push(b),u.children.splice(h,1),h--)}u.children.push(c)}for(var s=0;s<A.regions.length;s++){var t=A.regions[s];t.length<3||d(_,t)}function i(u,l){for(var h=0,c=u[u.length-1][0],b=u[u.length-1][1],p=[],m=0;m<u.length;m++){var v=u[m][0],x=u[m][1];p.push([v,x]),h+=x*c-v*b,c=v,b=x}return h<0!==l&&p.reverse(),p.push([p[0][0],p[0][1]]),p}var n=[];function r(u){var l=[i(u.region,!1)];n.push(l);for(var h=0;h<u.children.length;h++)l.push(o(u.children[h]))}function o(u){for(var l=0;l<u.children.length;l++)r(u.children[l]);return i(u.region,!0)}for(s=0;s<_.children.length;s++)r(_.children[s]);return n.length<=0?{type:"Polygon",coordinates:[]}:1==n.length?{type:"Polygon",coordinates:n[0]}:{type:"MultiPolygon",coordinates:n}}}},72200:function(ie,z,e){var S=e(48088);ie.exports=function(A,a,M){function _(r,o,u){return{id:M?M.segmentId():-1,start:r,end:o,myFill:{above:u.myFill.above,below:u.myFill.below},otherFill:null}}var d=S.create();function s(r,o){d.insertBefore(r,function(u){return l=r.isStart,c=o,b=u.isStart,m=u.other.pt,(0!==(v=a.pointsCompare(r.pt,p=u.pt))?v:a.pointsSame(c,m)?0:l!==b?l?1:-1:a.pointAboveOrOnLine(c,b?p:m,b?m:p)?1:-1)<0;var l,c,b,p,m,v})}function t(r,o){var l,c,u=(s(c=S.node({isStart:!0,pt:(l=r).start,seg:l,primary:o,other:null,status:null}),l.end),c);return function(l,h,c){var b=S.node({isStart:!1,pt:h.end,seg:h,primary:c,other:l,status:null});l.other=b,s(b,l.pt)}(u,r,o),u}function i(r,o){var l,h,u=_(o,r.seg.end,r.seg);return l=r,h=o,M&&M.segmentChop(l.seg,h),l.other.remove(),l.seg.end=h,l.other.pt=h,s(l.other,l.pt),t(u,r.primary)}function n(r,o){var u=S.create();function l(D){return u.findTransition(function(R){var P,O,B,q,N,H;return q=(P=D).seg.end,(a.pointsCollinear(B=P.seg.start,N=(O=R.ev).seg.start,H=O.seg.end)?a.pointsCollinear(q,N,H)||a.pointAboveOrOnLine(q,N,H)?1:-1:a.pointAboveOrOnLine(B,N,H)?1:-1)>0})}function h(D,R){var P=D.seg,O=R.seg,B=P.start,q=P.end,N=O.start,H=O.end;M&&M.checkIntersection(P,O);var $=a.linesIntersect(B,q,N,H);if(!1===$){if(!a.pointsCollinear(B,q,N)||a.pointsSame(B,H)||a.pointsSame(q,N))return!1;var j=a.pointsSame(B,N),W=a.pointsSame(q,H);if(j&&W)return R;var G=!j&&a.pointBetween(B,N,H),ae=!W&&a.pointBetween(q,N,H);if(j)return ae?i(R,q):i(D,H),R;G&&(W||(ae?i(R,q):i(D,H)),i(R,B))}else 0===$.alongA&&(-1===$.alongB?i(D,N):0===$.alongB?i(D,$.pt):1===$.alongB&&i(D,H)),0===$.alongB&&(-1===$.alongA?i(R,B):0===$.alongA?i(R,$.pt):1===$.alongA&&i(R,q));return!1}for(var c=[];!d.isEmpty();){var b=d.getHead();if(M&&M.vert(b.pt[0]),b.isStart){let D=function(){if(m){var R=h(b,m);if(R)return R}return!!v&&h(b,v)};M&&M.segmentNew(b.seg,b.primary);var p=l(b),m=p.before?p.before.ev:null,v=p.after?p.after.ev:null;M&&M.tempStatus(b.seg,!!m&&m.seg,!!v&&v.seg);var x,y,w=D();if(w&&(A?(y=null===b.seg.myFill.below||b.seg.myFill.above!==b.seg.myFill.below)&&(w.seg.myFill.above=!w.seg.myFill.above):w.seg.otherFill=b.seg.myFill,M&&M.segmentUpdate(w.seg),b.other.remove(),b.remove()),d.getHead()!==b){M&&M.rewind(b.seg);continue}A?(y=null===b.seg.myFill.below||b.seg.myFill.above!==b.seg.myFill.below,b.seg.myFill.below=v?v.seg.myFill.above:r,b.seg.myFill.above=y?!b.seg.myFill.below:b.seg.myFill.below):null===b.seg.otherFill&&(b.seg.otherFill={above:x=v?b.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:b.primary?o:r,below:x}),M&&M.status(b.seg,!!m&&m.seg,!!v&&v.seg),b.other.status=p.insert(S.node({ev:b}))}else{var f=b.status;if(null===f)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(u.exists(f.prev)&&u.exists(f.next)&&h(f.prev.ev,f.next.ev),M&&M.statusRemove(f.ev.seg),f.remove(),!b.primary){var C=b.seg.myFill;b.seg.myFill=b.seg.otherFill,b.seg.otherFill=C}c.push(b.seg)}d.getHead().remove()}return M&&M.done(),c}return A?{addRegion:function(r){for(var o,u,l,h=r[r.length-1],c=0;c<r.length;c++){var b=a.pointsCompare(o=h,h=r[c]);0!==b&&t((u=b<0?o:h,l=b<0?h:o,{id:M?M.segmentId():-1,start:u,end:l,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(r){return n(r,!1)}}:{calculate:function(r,o,u,l){return r.forEach(function(h){t(_(h.start,h.end,h),!0)}),u.forEach(function(h){t(_(h.start,h.end,h),!1)}),n(o,l)}}}},48088:function(ie){ie.exports={create:function(){var z={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==z.root},isEmpty:function(){return null===z.root.next},getHead:function(){return z.root.next},insertBefore:function(e,S){for(var A=z.root,a=z.root.next;null!==a;){if(S(a))return e.prev=a.prev,e.next=a,a.prev.next=e,void(a.prev=e);A=a,a=a.next}A.next=e,e.prev=A,e.next=null},findTransition:function(e){for(var S=z.root,A=z.root.next;null!==A&&!e(A);)S=A,A=A.next;return{before:S===z.root?null:S,after:A,insert:function(a){return a.prev=S,a.next=A,S.next=a,null!==A&&(A.prev=a),a}}}};return z},node:function(z){return z.prev=null,z.next=null,z.remove=function(){z.prev.next=z.next,z.next&&(z.next.prev=z.prev),z.prev=null,z.next=null},z}}},11403:function(ie){ie.exports=function(z,e,S){var A=[],a=[];return z.forEach(function(M){var _=M.start,d=M.end;if(e.pointsSame(_,d))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{S&&S.chainStart(M);for(var s={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=s,n=0;n<A.length;n++){var r=(c=A[n])[0],o=c[c.length-1];if(e.pointsSame(r,_)){if(f(n,!0,!0))break}else if(e.pointsSame(r,d)){if(f(n,!0,!1))break}else if(e.pointsSame(o,_)){if(f(n,!1,!0))break}else if(e.pointsSame(o,d)&&f(n,!1,!1))break}if(i===s)return A.push([_,d]),void(S&&S.chainNew(_,d));if(i===t){S&&S.chainMatch(s.index);var u=s.index,l=s.matches_pt1?d:_,h=s.matches_head,c=A[u],b=h?c[0]:c[c.length-1],p=h?c[1]:c[c.length-2],m=h?c[c.length-1]:c[0],v=h?c[c.length-2]:c[1];return e.pointsCollinear(p,b,l)&&(h?(S&&S.chainRemoveHead(s.index,l),c.shift()):(S&&S.chainRemoveTail(s.index,l),c.pop()),b=p),e.pointsSame(m,l)?(A.splice(u,1),e.pointsCollinear(v,m,b)&&(h?(S&&S.chainRemoveTail(s.index,b),c.pop()):(S&&S.chainRemoveHead(s.index,b),c.shift())),S&&S.chainClose(s.index),void a.push(c)):void(h?(S&&S.chainAddHead(s.index,l),c.unshift(l)):(S&&S.chainAddTail(s.index,l),c.push(l)))}var x=s.index,y=t.index;S&&S.chainConnect(x,y);var w=A[x].length<A[y].length;s.matches_head?t.matches_head?w?(C(x),T(x,y)):(C(y),T(y,x)):T(y,x):t.matches_head?T(x,y):w?(C(x),T(y,x)):(C(y),T(x,y))}function f(D,R,P){return i.index=D,i.matches_head=R,i.matches_pt1=P,i===s?(i=t,!1):(i=null,!0)}function C(D){S&&S.chainReverse(D),A[D].reverse()}function T(D,R){var P=A[D],O=A[R],B=P[P.length-1],q=P[P.length-2],N=O[0],H=O[1];e.pointsCollinear(q,B,N)&&(S&&S.chainRemoveTail(D,B),P.pop(),B=q),e.pointsCollinear(B,N,H)&&(S&&S.chainRemoveHead(R,N),O.shift()),S&&S.chainJoin(D,R),A[D]=P.concat(O),A.splice(R,1)}}),a}},82368:function(ie){function z(S,A,a){var M=[];return S.forEach(function(_){var d=(_.myFill.above?8:0)+(_.myFill.below?4:0)+(_.otherFill&&_.otherFill.above?2:0)+(_.otherFill&&_.otherFill.below?1:0);0!==A[d]&&M.push({id:a?a.segmentId():-1,start:_.start,end:_.end,myFill:{above:1===A[d],below:2===A[d]},otherFill:null})}),a&&a.selected(M),M}ie.exports={union:function(S,A){return z(S,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],A)},intersect:function(S,A){return z(S,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],A)},difference:function(S,A){return z(S,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],A)},differenceRev:function(S,A){return z(S,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],A)},xor:function(S,A){return z(S,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],A)}}},9696:function(ie,z,e){"use strict";var S=e(29936).Transform,A=e(55619);function a(){S.call(this,{readableObjectMode:!0})}function M(_,d,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=_,d&&(this.code=d),s&&(this.statusCode=s)}(a.prototype=Object.create(S.prototype)).constructor=a,A(a.prototype),z.gS=function(_,d,s){for(var t=d,i=0;i<s.length;)if(_[t++]!==s[i++])return!1;return!0},z.wR=function(_,d){var s=[],t=0;if(d&&"hex"===d)for(;t<_.length;)s.push(parseInt(_.slice(t,t+2),16)),t+=2;else for(;t<_.length;t++)s.push(255&_.charCodeAt(t));return s},z.Bz=function(_,d){return _[d]|_[d+1]<<8},z.eW=function(_,d){return _[d+1]|_[d]<<8},z.st=function(_,d){return _[d]|_[d+1]<<8|_[d+2]<<16|16777216*_[d+3]},z.eI=function(_,d){return _[d+3]|_[d+2]<<8|_[d+1]<<16|16777216*_[d]},(M.prototype=Object.create(Error.prototype)).constructor=M},11688:function(ie){"use strict";function z(A,a){var M=new Error(A);return M.code=a,M}function e(A){try{return decodeURIComponent(escape(A))}catch{return A}}function S(A,a,M){this.input=A.subarray(a,M),this.start=a;var _=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==_&&"MM\0*"!==_)throw z("invalid TIFF signature","EBADDATA");this.big_endian="M"===_[0]}S.prototype.each=function(A){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var M=this.ifds_to_read.shift();M.offset&&this.scan_ifd(M.id,M.offset,A)}},S.prototype.read_uint16=function(A){var a=this.input;if(A+2>a.length)throw z("unexpected EOF","EBADDATA");return this.big_endian?256*a[A]+a[A+1]:a[A]+256*a[A+1]},S.prototype.read_uint32=function(A){var a=this.input;if(A+4>a.length)throw z("unexpected EOF","EBADDATA");return this.big_endian?16777216*a[A]+65536*a[A+1]+256*a[A+2]+a[A+3]:a[A]+256*a[A+1]+65536*a[A+2]+16777216*a[A+3]},S.prototype.is_subifd_link=function(A,a){return 0===A&&34665===a||0===A&&34853===a||34665===A&&40965===a},S.prototype.exif_format_length=function(A){switch(A){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},S.prototype.exif_format_read=function(A,a){var M;switch(A){case 1:case 2:return this.input[a];case 6:return(M=this.input[a])|33554430*(128&M);case 3:return this.read_uint16(a);case 8:return(M=this.read_uint16(a))|131070*(32768&M);case 4:return this.read_uint32(a);case 9:return 0|this.read_uint32(a);default:return null}},S.prototype.scan_ifd=function(A,a,M){var _=this.read_uint16(a);a+=2;for(var d=0;d<_;d++){var s=this.read_uint16(a),t=this.read_uint16(a+2),i=this.read_uint32(a+4),n=this.exif_format_length(t),r=i*n,o=r<=4?a+8:this.read_uint32(a+8),u=!1;if(o+r>this.input.length)throw z("unexpected EOF","EBADDATA");for(var l=[],h=o,c=0;c<i;c++,h+=n){var b=this.exif_format_read(t,h);if(null===b){l=null;break}l.push(b)}if(Array.isArray(l)&&2===t&&(l=e(String.fromCharCode.apply(null,l)))&&"\0"===l[l.length-1]&&(l=l.slice(0,-1)),this.is_subifd_link(A,s)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:s,offset:l[0]}),u=!0),!1===M({is_big_endian:this.big_endian,ifd:A,tag:s,format:t,count:i,entry_offset:a+this.start,data_length:r,data_offset:o+this.start,value:l,is_subifd_link:u}))return void(this.aborted=!0);a+=12}0===A&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},ie.exports.ExifParser=S,ie.exports.get_orientation=function(A){var a=0;try{return new S(A,0,A.length).each(function(M){if(0===M.ifd&&274===M.tag&&Array.isArray(M.value))return a=M.value[0],!1}),a}catch{return-1}}},44600:function(ie,z,e){"use strict";var S=e(9696).eW,A=e(9696).eI;function a(i,n){if(i.length<4+n)return null;var r=A(i,n);return i.length<r+n||r<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(n+4,n+8)),data:i.slice(n+8,n+r),end:n+r}}function M(i,n){for(var r=0;;){var o=a(i,r);if(!o)break;switch(o.boxtype){case"ispe":n.sizes.push({width:A(o.data,4),height:A(o.data,8)});break;case"irot":n.transforms.push({type:"irot",value:3&o.data[0]});break;case"imir":n.transforms.push({type:"imir",value:1&o.data[0]})}r=o.end}}function _(i,n,r){for(var o=0,u=0;u<r;u++)o=256*o+(i[n+u]||0);return o}function d(i,n){for(var r=i[4]>>4&15,o=15&i[4],u=i[5]>>4&15,l=S(i,6),h=8,c=0;c<l;c++){var b=S(i,h),p=S(i,h+=2),m=_(i,h+=2,u),v=S(i,h+=u);if(h+=2,0===p&&1===v){var x=_(i,h,r),y=_(i,h+r,o);n.item_loc[b]={length:y,offset:x+m}}h+=v*(r+o)}}function s(i,n){for(var r=S(i,4),o=6,u=0;u<r;u++){var l=a(i,o);if(!l)break;if("infe"===l.boxtype){for(var h=S(l.data,4),c="",b=8;b<l.data.length&&l.data[b];b++)c+=String.fromCharCode(l.data[b]);n.item_inf[c]=h}o=l.end}}function t(i,n){for(var r=0;;){var o=a(i,r);if(!o)break;"ipco"===o.boxtype&&M(o.data,n),r=o.end}}ie.exports.unbox=a,ie.exports.readSizeFromMeta=function(i){var n={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(b,p){for(var m=4;;){var v=a(b,m);if(!v)break;"iprp"===v.boxtype&&t(v.data,p),"iloc"===v.boxtype&&d(v.data,p),"iinf"===v.boxtype&&s(v.data,p),m=v.end}}(i,n),n.sizes.length){var r,o,u,l=(o=(r=n.sizes).reduce(function(b,p){return b.width>p.width||b.width===p.width&&b.height>p.height?b:p}),u=r.reduce(function(b,p){return b.height>p.height||b.height===p.height&&b.width>p.width?b:p}),o.width>u.height||o.width===u.height&&o.height>u.width?o:u),h=1;n.transforms.forEach(function(b){var p={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},m={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===b.type&&(h=0===b.value?m[h]:p[h=p[h=m[h]]]),"irot"===b.type)for(var v=0;v<b.value;v++)h=p[h]});var c=null;return n.item_inf.Exif&&(c=n.item_loc[n.item_inf.Exif]),{width:l.width,height:l.height,orientation:n.transforms.length?h:null,variants:n.sizes,exif_location:c}}},ie.exports.getMimeType=function(i){var n=String.fromCharCode.apply(null,i.slice(0,4)),r={};r[n]=!0;for(var o=8;o<i.length;o+=4)r[String.fromCharCode.apply(null,i.slice(o,o+4))]=!0;if(r.mif1||r.msf1||r.miaf)return"avif"===n||"avis"===n||"avio"===n?{type:"avif",mime:"image/avif"}:"heic"===n||"heix"===n?{type:"heic",mime:"image/heic"}:"hevc"===n||"hevx"===n?{type:"heic",mime:"image/heic-sequence"}:r.avif||r.avis?{type:"avif",mime:"image/avif"}:r.heic||r.heix||r.hevc||r.hevx||r.heis?r.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(ie,z,e){"use strict";var S=e(9696).wR,A=e(9696).gS,a=e(9696).eI,M=e(44600),_=e(11688),d=S("ftyp");ie.exports=function(s){if(A(s,4,d)){var t=M.unbox(s,0);if(t){var i=M.getMimeType(t.data);if(i){for(var n,r=t.end;;){var o=M.unbox(s,r);if(!o)break;if(r=o.end,"mdat"===o.boxtype)return;if("meta"===o.boxtype){n=o.data;break}}if(n){var u=M.readSizeFromMeta(n);if(u){var l={width:u.width,height:u.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=s.length){var h=a(s,u.exif_location.offset),c=s.slice(u.exif_location.offset+h+4,u.exif_location.offset+u.exif_location.length),b=_.get_orientation(c);b>0&&(l.orientation=b)}return l}}}}}}},38728:function(ie,z,e){"use strict";var S=e(9696).wR,A=e(9696).gS,a=e(9696).Bz,M=S("BM");ie.exports=function(_){if(!(_.length<26)&&A(_,0,M))return{width:a(_,18),height:a(_,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(ie,z,e){"use strict";var S=e(9696).wR,A=e(9696).gS,a=e(9696).Bz,M=S("GIF87a"),_=S("GIF89a");ie.exports=function(d){if(!(d.length<10)&&(A(d,0,M)||A(d,0,_)))return{width:a(d,6),height:a(d,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(ie,z,e){"use strict";var S=e(9696).Bz;ie.exports=function(A){var a=S(A,0),M=S(A,2),_=S(A,4);if(0===a&&1===M&&_){for(var d=[],s={width:0,height:0},t=0;t<_;t++){var i=A[6+16*t]||256,n=A[6+16*t+1]||256,r={width:i,height:n};d.push(r),(i>s.width||n>s.height)&&(s=r)}return{width:s.width,height:s.height,variants:d,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(ie,z,e){"use strict";var S=e(9696).eW,A=e(9696).wR,a=e(9696).gS,M=e(11688),_=A("Exif\0\0");ie.exports=function(d){if(!(d.length<2)&&255===d[0]&&216===d[1]&&255===d[2])for(var s=2;;){for(;;){if(d.length-s<2)return;if(255===d[s++])break}for(var t,i,n=d[s++];255===n;)n=d[s++];if(208<=n&&n<=217||1===n)t=0;else{if(!(192<=n&&n<=254)||d.length-s<2)return;t=S(d,s)-2,s+=2}if(217===n||218===n)return;if(225===n&&t>=10&&a(d,s,_)&&(i=M.get_orientation(d.slice(s+6,s+t))),t>=5&&192<=n&&n<=207&&196!==n&&200!==n&&204!==n){if(d.length-s<t)return;var r={width:S(d,s+3),height:S(d,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(r.orientation=i),r}s+=t}}},37276:function(ie,z,e){"use strict";var S=e(9696).wR,A=e(9696).gS,a=e(9696).eI,M=S("\x89PNG\r\n\x1a\n"),_=S("IHDR");ie.exports=function(d){if(!(d.length<24)&&A(d,0,M)&&A(d,12,_))return{width:a(d,16),height:a(d,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(ie,z,e){"use strict";var S=e(9696).wR,A=e(9696).gS,a=e(9696).eI,M=S("8BPS\0\x01");ie.exports=function(_){if(!(_.length<22)&&A(_,0,M))return{width:a(_,18),height:a(_,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(ie){"use strict";function z(s){return"number"==typeof s&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,S=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,A=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,a=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,M=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,_=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function d(s){return _.test(s)?s.match(_)[0]:"px"}ie.exports=function(s){if(function(m){var v,x=0,y=m.length;for(239===m[0]&&187===m[1]&&191===m[2]&&(x=3);x<y&&(32===(v=m[x])||9===v||13===v||10===v);)x++;return x!==y&&60===m[x]}(s)){for(var t="",i=0;i<s.length;i++)t+=String.fromCharCode(s[i]);var n=(t.match(e)||[""])[0];if(S.test(n)){var r=(v=(m=n).match(A),x=m.match(a),y=m.match(M),{width:v&&(v[1]||v[2]),height:x&&(x[1]||x[2]),viewbox:y&&(y[1]||y[2])}),o=parseFloat(r.width),u=parseFloat(r.height);if(r.width&&r.height)return z(o)&&z(u)?{width:o,height:u,type:"svg",mime:"image/svg+xml",wUnits:d(r.width),hUnits:d(r.height)}:void 0;var l=(r.viewbox||"").split(" "),h={width:l[2],height:l[3]},c=parseFloat(h.width),b=parseFloat(h.height);if(z(c)&&z(b)&&d(h.width)===d(h.height)){var p=c/b;return r.width?z(o)?{width:o,height:o/p,type:"svg",mime:"image/svg+xml",wUnits:d(r.width),hUnits:d(r.width)}:void 0:r.height?z(u)?{width:u*p,height:u,type:"svg",mime:"image/svg+xml",wUnits:d(r.height),hUnits:d(r.height)}:void 0:{width:c,height:b,type:"svg",mime:"image/svg+xml",wUnits:d(h.width),hUnits:d(h.height)}}}}var m,v,x,y}},98792:function(ie,z,e){"use strict";var S=e(9696).wR,A=e(9696).gS,a=e(9696).Bz,M=e(9696).eW,_=e(9696).st,d=e(9696).eI,s=S("II*\0"),t=S("MM\0*");function i(o,u,l){return l?M(o,u):a(o,u)}function n(o,u,l){return l?d(o,u):_(o,u)}function r(o,u,l){var h=i(o,u+2,l);return 1!==n(o,u+4,l)||3!==h&&4!==h?null:3===h?i(o,u+8,l):n(o,u+8,l)}ie.exports=function(o){if(!(o.length<8)&&(A(o,0,s)||A(o,0,t))){var u=77===o[0],l=n(o,4,u)-8;if(!(l<0)){var h=l+8;if(!(o.length-h<2)){var c=12*i(o,h+0,u);if(!(c<=0||(h+=2,o.length-h<c))){var b,p,m,v;for(b=0;b<c;b+=12)256===(v=i(o,h+b,u))?p=r(o,h+b,u):257===v&&(m=r(o,h+b,u));return p&&m?{width:p,height:m,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(ie,z,e){"use strict";var S=e(9696).wR,A=e(9696).gS,a=e(9696).Bz,M=e(9696).st,_=e(11688),d=S("RIFF"),s=S("WEBP");function t(r,o){if(157===r[o+3]&&1===r[o+4]&&42===r[o+5])return{width:16383&a(r,o+6),height:16383&a(r,o+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(r,o){if(47===r[o]){var u=M(r,o+1);return{width:1+(16383&u),height:1+(u>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function n(r,o){return{width:1+(r[o+6]<<16|r[o+5]<<8|r[o+4]),height:1+(r[o+9]<<o|r[o+8]<<8|r[o+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ie.exports=function(r){if(!(r.length<16)&&(A(r,0,d)||A(r,8,s))){var o=12,u=null,l=0,h=M(r,4)+8;if(!(h>r.length)){for(;o+8<h;)if(0!==r[o]){var c=String.fromCharCode.apply(null,r.slice(o,o+4)),b=M(r,o+4);"VP8 "===c&&b>=10?u=u||t(r,o+8):"VP8L"===c&&b>=9?u=u||i(r,o+8):"VP8X"===c&&b>=10?u=u||n(r,o+8):"EXIF"===c&&(l=_.get_orientation(r.slice(o+8,o+8+b)),o=1/0),o+=8+b}else o++;if(u)return l>0&&(u.orientation=l),u}}}},87480:function(ie,z,e){"use strict";ie.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(ie,z,e){"use strict";var S=e(87480);ie.exports=function(A){return function(a){for(var M=Object.keys(S),_=0;_<M.length;_++){var d=S[M[_]](a);if(d)return d}return null}(A)},ie.exports.parsers=S},4168:function(ie){var z,e,S=ie.exports={};function A(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function M(u){if(z===setTimeout)return setTimeout(u,0);if((z===A||!z)&&setTimeout)return z=setTimeout,setTimeout(u,0);try{return z(u,0)}catch{try{return z.call(null,u,0)}catch{return z.call(this,u,0)}}}!function(){try{z="function"==typeof setTimeout?setTimeout:A}catch{z=A}try{e="function"==typeof clearTimeout?clearTimeout:a}catch{e=a}}();var _,d=[],s=!1,t=-1;function i(){s&&_&&(s=!1,_.length?d=_.concat(d):t=-1,d.length&&n())}function n(){if(!s){var u=M(i);s=!0;for(var l=d.length;l;){for(_=d,d=[];++t<l;)_&&_[t].run();t=-1,l=d.length}_=null,s=!1,function(h){if(e===clearTimeout)return clearTimeout(h);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(h);try{return e(h)}catch{try{return e.call(null,h)}catch{return e.call(this,h)}}}(u)}}function r(u,l){this.fun=u,this.array=l}function o(){}S.nextTick=function(u){var l=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)l[h-1]=arguments[h];d.push(new r(u,l)),1!==d.length||s||M(n)},r.prototype.run=function(){this.fun.apply(null,this.array)},S.title="browser",S.browser=!0,S.env={},S.argv=[],S.version="",S.versions={},S.on=o,S.addListener=o,S.once=o,S.off=o,S.removeListener=o,S.removeAllListeners=o,S.emit=o,S.prependListener=o,S.prependOnceListener=o,S.listeners=function(u){return[]},S.binding=function(u){throw new Error("process.binding is not supported")},S.cwd=function(){return"/"},S.chdir=function(u){throw new Error("process.chdir is not supported")},S.umask=function(){return 0}},3951:function(ie,z,e){for(var S=e(41984),A=typeof window>"u"?e.g:window,a=["moz","webkit"],M="AnimationFrame",_=A["request"+M],d=A["cancel"+M]||A["cancelRequest"+M],s=0;!_&&s<a.length;s++)_=A[a[s]+"Request"+M],d=A[a[s]+"Cancel"+M]||A[a[s]+"CancelRequest"+M];if(!_||!d){var t=0,i=0,n=[];_=function(r){if(0===n.length){var o=S(),u=Math.max(0,16.666666666666668-(o-t));t=u+o,setTimeout(function(){var l=n.slice(0);n.length=0;for(var h=0;h<l.length;h++)if(!l[h].cancelled)try{l[h].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(u))}return n.push({handle:++i,callback:r,cancelled:!1}),i},d=function(r){for(var o=0;o<n.length;o++)n[o].handle===r&&(n[o].cancelled=!0)}}ie.exports=function(r){return _.call(A,r)},ie.exports.cancel=function(){d.apply(A,arguments)},ie.exports.polyfill=function(r){r||(r=A),r.requestAnimationFrame=_,r.cancelAnimationFrame=d}},24544:function(ie,z,e){"use strict";var S=e(76752),A=e(72160),a=e(45223),M=e(55616),_=e(50896),d=e(47520),s=e(37816),t=s.float32,i=s.fract32;ie.exports=function(r,o){if("function"==typeof r?(o||(o={}),o.regl=r):o=r,o.length&&(o.positions=o),!(r=o.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u,l,h,c,b,p,m=r._gl,v={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},x=[];return c=r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),l=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),b=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=r.buffer({usage:"static",type:"float",data:n}),C(o),u=r({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:r.prop("range"),lineWidth:r.prop("lineWidth"),capSize:r.prop("capSize"),opacity:r.prop("opacity"),scale:r.prop("scale"),translate:r.prop("translate"),scaleFract:r.prop("scaleFract"),translateFract:r.prop("translateFract"),viewport:function(D,R){return[R.viewport.x,R.viewport.y,D.viewportWidth,D.viewportHeight]}},attributes:{color:{buffer:c,offset:function(D,R){return 4*R.offset},divisor:1},position:{buffer:l,offset:function(D,R){return 8*R.offset},divisor:1},positionFract:{buffer:h,offset:function(D,R){return 8*R.offset},divisor:1},error:{buffer:b,offset:function(D,R){return 16*R.offset},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:r.prop("viewport")},viewport:r.prop("viewport"),stencil:!1,instances:r.prop("count"),count:n.length}),_(y,{update:C,draw:w,destroy:T,regl:r,gl:m,canvas:m.canvas,groups:x}),y;function y(D){D?C(D):null===D&&T(),w()}function w(D){if("number"==typeof D)return f(D);D&&!Array.isArray(D)&&(D=[D]),r._refresh(),x.forEach(function(R,P){R&&(D&&(R.draw=!!D[P]),R.draw?f(P):R.draw=!0)})}function f(D){"number"==typeof D&&(D=x[D]),null!=D&&D&&D.count&&D.color&&D.opacity&&D.positions&&D.positions.length>1&&(D.scaleRatio=[D.scale[0]*D.viewport.width,D.scale[1]*D.viewport.height],u(D),D.after&&D.after(D))}function C(D){if(D){null!=D.length?"number"==typeof D[0]&&(D=[{positions:D}]):Array.isArray(D)||(D=[D]);var R=0,P=0;if(y.groups=x=D.map(function(j,W){var G=x[W];return j&&("function"==typeof j?j={after:j}:"number"==typeof j[0]&&(j={positions:j}),j=M(j,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),G||(x[W]=G={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},j=_({},v,j)),a(G,j,[{lineWidth:function(ae){return.5*+ae},capSize:function(ae){return.5*+ae},opacity:parseFloat,errors:function(ae){return ae=d(ae),P+=ae.length,ae},positions:function(ae,te){return ae=d(ae,"float64"),te.count=Math.floor(ae.length/2),te.bounds=S(ae,2),te.offset=R,R+=te.count,ae}},{color:function(ae,te){var Q=te.count;if(ae||(ae="transparent"),!Array.isArray(ae)||"number"==typeof ae[0]){var ee=ae;ae=Array(Q);for(var re=0;re<Q;re++)ae[re]=ee}if(ae.length<Q)throw Error("Not enough colors");for(var J=new Uint8Array(4*Q),le=0;le<Q;le++){var fe=A(ae[le],"uint8");J.set(fe,4*le)}return J},range:function(ae,te,Q){return ae||(ae=te.bounds),te.scale=[1/(ae[2]-ae[0]),1/(ae[3]-ae[1])],te.translate=[-ae[0],-ae[1]],te.scaleFract=i(te.scale),te.translateFract=i(te.translate),ae},viewport:function(ae){var te;return Array.isArray(ae)?te={x:ae[0],y:ae[1],width:ae[2]-ae[0],height:ae[3]-ae[1]}:ae?((te={x:ae.x||ae.left||0,y:ae.y||ae.top||0}).width=ae.right?ae.right-te.x:ae.w||ae.width||0,te.height=ae.bottom?ae.bottom-te.y:ae.h||ae.height||0):te={x:0,y:0,width:m.drawingBufferWidth,height:m.drawingBufferHeight},te}}])),G}),R||P){var O=x.reduce(function(j,W,G){return j+(W?W.count:0)},0),B=new Float64Array(2*O),q=new Uint8Array(4*O),N=new Float32Array(4*O);x.forEach(function(j,W){if(j){var G=j.positions,te=j.offset,ee=j.errors;j.count&&(q.set(j.color,4*te),N.set(ee,4*te),B.set(G,2*te))}});var H=t(B);l(H);var $=i(B,H);h($),c(q),b(N)}}}function T(){l.destroy(),h.destroy(),c.destroy(),b.destroy(),p.destroy()}};var n=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(ie,z,e){"use strict";var S=e(72160),A=e(76752),a=e(50896),M=e(55616),_=e(47520),d=e(28912),s=e(71152),t=e(37816),i=t.float32,n=t.fract32,r=e(60463),o=e(51160),u=e(10272);function l(h,c){if(!(this instanceof l))return new l(h,c);if("function"==typeof h?(c||(c={}),c.regl=h):c=h,c.length&&(c.positions=c),!(h=c.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=l.shaders.has(h)?l.shaders.get(h):l.shaders.set(h,l.createShaders(h)).get(h),this.update(c)}ie.exports=l,l.dashMult=2,l.maxPatternLength=256,l.precisionThreshold=3e6,l.maxPoints=1e4,l.maxLines=2048,l.shaders=new r,l.createShaders=function(h){var c,b=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),p={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(v,x){return"round"===x.join?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(v,x){return[x.viewport.x,x.viewport.y,v.viewportWidth,v.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(v,x){return!x.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},m=h(a({vert:"\nprecision highp float;\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n",frag:"\nprecision highp float;\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n",attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},p));try{c=h(a({cull:{enable:!0,face:"back"},vert:"\nprecision highp float;\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n",frag:"\nprecision highp float;\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n",attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},p))}catch{c=m}return{fill:h({primitive:"triangle",elements:function(v,x){return x.triangles},offset:0,vert:"\nprecision highp float;\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n",frag:"\nprecision highp float;\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n",uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(v,x){return[x.viewport.x,x.viewport.y,v.viewportWidth,v.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:p.blend,depth:{enable:!1},scissor:p.scissor,stencil:p.stencil,viewport:p.viewport}),rect:m,miter:c}},l.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},l.prototype.render=function(){for(var h,c=[],b=arguments.length;b--;)c[b]=arguments[b];c.length&&(h=this).update.apply(h,c),this.draw()},l.prototype.draw=function(){for(var h=this,c=[],b=arguments.length;b--;)c[b]=arguments[b];return(c.length?c:this.passes).forEach(function(p,m){var v;if(p&&Array.isArray(p))return(v=h).draw.apply(v,p);"number"==typeof p&&(p=h.passes[p]),p&&p.count>1&&p.opacity&&(h.regl._refresh(),p.fill&&p.triangles&&p.triangles.length>2&&h.shaders.fill(p),p.thickness&&(p.scale[0]*p.viewport.width>l.precisionThreshold||p.scale[1]*p.viewport.height>l.precisionThreshold||"rect"===p.join||!p.join&&(p.thickness<=2||p.count>=l.maxPoints)?h.shaders.rect(p):h.shaders.miter(p)))}),this},l.prototype.update=function(h){var c=this;if(h){null!=h.length?"number"==typeof h[0]&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var b=this.regl,p=this.gl;if(h.forEach(function(w,f){var C=c.passes[f];if(void 0!==w)if(null!==w){if("number"==typeof w[0]&&(w={positions:w}),w=M(w,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),C||(c.passes[f]=C={id:f,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:b.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:b.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},w=a({},l.defaults,w)),null!=w.thickness&&(C.thickness=parseFloat(w.thickness)),null!=w.opacity&&(C.opacity=parseFloat(w.opacity)),null!=w.miterLimit&&(C.miterLimit=parseFloat(w.miterLimit)),null!=w.overlay&&(C.overlay=!!w.overlay,f<l.maxLines&&(C.depth=2*(l.maxLines-1-f%l.maxLines)/l.maxLines-1)),null!=w.join&&(C.join=w.join),null!=w.hole&&(C.hole=w.hole),null!=w.fill&&(C.fill=w.fill?S(w.fill,"uint8"):null),null!=w.viewport&&(C.viewport=o(w.viewport)),C.viewport||(C.viewport=o([p.drawingBufferWidth,p.drawingBufferHeight])),null!=w.close&&(C.close=w.close),null===w.positions&&(w.positions=[]),w.positions){var T,D;if(w.positions.x&&w.positions.y){var R=w.positions.x,P=w.positions.y;D=C.count=Math.max(R.length,P.length),T=new Float64Array(2*D);for(var O=0;O<D;O++)T[2*O]=R[O],T[2*O+1]=P[O]}else T=_(w.positions,"float64"),D=C.count=Math.floor(T.length/2);var B=C.bounds=A(T,2);if(C.fill){for(var q=[],N={},H=0,$=0,j=0,W=C.count;$<W;$++){var G=T[2*$],ae=T[2*$+1];isNaN(G)||isNaN(ae)||null==G||null==ae?(G=T[2*H],ae=T[2*H+1],N[$]=H):H=$,q[j++]=G,q[j++]=ae}if(w.splitNull){C.count-1 in N||(N[C.count]=C.count-1);var te=Object.keys(N).map(Number).sort(function(kt,_t){return kt-_t}),Q=[],ee=0,re=null!=C.hole?C.hole[0]:null;if(null!=re){var J=u(te,function(kt){return kt>=re});(te=te.slice(0,J)).push(re)}for(var le=function(kt){var _t=q.slice(2*ee,2*te[kt]).concat(re?q.slice(2*re):[]),ut=(C.hole||[]).map(function(Lt){return Lt-re+(te[kt]-ee)}),st=d(_t,ut);st=st.map(function(Lt){return Lt+ee+(Lt+ee<te[kt]?0:re-te[kt])}),Q.push.apply(Q,st),ee=te[kt]+1},fe=0;fe<te.length;fe++)le(fe);for(var ce=0,ge=Q.length;ce<ge;ce++)null!=N[Q[ce]]&&(Q[ce]=N[Q[ce]]);C.triangles=Q}else{for(var Te=d(q,C.hole||[]),Me=0,we=Te.length;Me<we;Me++)null!=N[Te[Me]]&&(Te[Me]=N[Te[Me]]);C.triangles=Te}}var xe=new Float64Array(T);s(xe,2,B);var be=new Float64Array(2*D+6);C.close?T[0]===T[2*D-2]&&T[1]===T[2*D-1]?(be[0]=xe[2*D-4],be[1]=xe[2*D-3]):(be[0]=xe[2*D-2],be[1]=xe[2*D-1]):(be[0]=xe[0],be[1]=xe[1]),be.set(xe,2),C.close?T[0]===T[2*D-2]&&T[1]===T[2*D-1]?(be[2*D+2]=xe[2],be[2*D+3]=xe[3],C.count-=1):(be[2*D+2]=xe[0],be[2*D+3]=xe[1],be[2*D+4]=xe[2],be[2*D+5]=xe[3]):(be[2*D+2]=xe[2*D-2],be[2*D+3]=xe[2*D-1],be[2*D+4]=xe[2*D-2],be[2*D+5]=xe[2*D-1]);var ye=i(be);C.positionBuffer(ye);var Se=n(be,ye);C.positionFractBuffer(Se)}if(w.range?C.range=w.range:C.range||(C.range=C.bounds),(w.range||w.positions)&&C.count){var Ee=C.bounds,me=C.range[2]-C.range[0],Pe=C.range[3]-C.range[1];C.scale=[(Ee[2]-Ee[0])/me,(Ee[3]-Ee[1])/Pe],C.translate=[-C.range[0]/me+Ee[0]/me||0,-C.range[1]/Pe+Ee[1]/Pe||0],C.scaleFract=n(C.scale),C.translateFract=n(C.translate)}if(w.dashes){var Ce,Ie=0;if(!w.dashes||w.dashes.length<2)Ie=1,Ce=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ie=0;for(var Oe=0;Oe<w.dashes.length;++Oe)Ie+=w.dashes[Oe];Ce=new Uint8Array(Ie*l.dashMult);for(var ze=0,je=255,ve=0;ve<2;ve++)for(var Ae=0;Ae<w.dashes.length;++Ae){for(var Le=0,Ve=w.dashes[Ae]*l.dashMult*.5;Le<Ve;++Le)Ce[ze++]=je;je^=255}}C.dashLength=Ie,C.dashTexture({channels:1,data:Ce,width:Ce.length,height:1,mag:"linear",min:"linear"},0,0)}if(w.color){var Ne=C.count,We=w.color;We||(We="transparent");var Xe=new Uint8Array(4*Ne+4);if(Array.isArray(We)&&"number"!=typeof We[0]){for(var nt=0;nt<Ne;nt++){var dt=S(We[nt],"uint8");Xe.set(dt,4*nt)}Xe.set(S(We[0],"uint8"),4*Ne)}else for(var ht=S(We,"uint8"),Mt=0;Mt<Ne+1;Mt++)Xe.set(ht,4*Mt);C.colorBuffer({usage:"dynamic",type:"uint8",data:Xe})}}else c.passes[f]=null}),h.length<this.passes.length){for(var m=h.length;m<this.passes.length;m++){var v=this.passes[m];v&&(v.colorBuffer.destroy(),v.positionBuffer.destroy(),v.dashTexture.destroy())}this.passes.length=h.length}for(var x=[],y=0;y<this.passes.length;y++)null!==this.passes[y]&&x.push(this.passes[y]);return this.passes=x,this}},l.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(ie,z,e){"use strict";function S(m,v){return function(x){if(Array.isArray(x))return x}(m)||function(x,y){var w=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=w){var f,C,T,D,R=[],P=!0,O=!1;try{if(T=(w=w.call(x)).next,0===y){if(Object(w)!==w)return;P=!1}else for(;!(P=(f=T.call(w)).done)&&(R.push(f.value),R.length!==y);P=!0);}catch(B){O=!0,C=B}finally{try{if(!P&&null!=w.return&&(D=w.return(),Object(D)!==D))return}finally{if(O)throw C}}return R}}(m,v)||A(m,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(m,v){if(m){if("string"==typeof m)return a(m,v);var x=Object.prototype.toString.call(m).slice(8,-1);return"Object"===x&&m.constructor&&(x=m.constructor.name),"Map"===x||"Set"===x?Array.from(m):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?a(m,v):void 0}}function a(m,v){(null==v||v>m.length)&&(v=m.length);for(var x=0,y=new Array(v);x<v;x++)y[x]=m[x];return y}var M=e(72160),_=e(76752),d=e(3808),s=e(3108),t=e(50896),i=e(26444),n=e(55616),r=e(45223),o=e(47520),u=e(96604),l=e(37816),h=e(51160),c=b;function b(m,v){var x=this;if(!(this instanceof b))return new b(m,v);"function"==typeof m?(v||(v={}),v.regl=m):(v=m,m=null),v&&v.length&&(v.positions=v);var y,w=(m=v.regl)._gl,f=[];this.tooManyColors=u,y=m.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:m,gl:w,groups:[],markerCache:[null],markerTextures:[null],palette:f,paletteIds:{},paletteTexture:y,maxColors:255,maxSize:100,canvas:w.canvas}),this.update(v);var C={uniforms:{constPointSize:!!v.constPointSize,opacity:m.prop("opacity"),paletteSize:function(R,P){return[x.tooManyColors?0:255,y.height]},pixelRatio:m.context("pixelRatio"),scale:m.prop("scale"),scaleFract:m.prop("scaleFract"),translate:m.prop("translate"),translateFract:m.prop("translateFract"),markerTexture:m.prop("markerTexture"),paletteTexture:y},attributes:{x:function(R,P){return P.xAttr||{buffer:P.positionBuffer,stride:8,offset:0}},y:function(R,P){return P.yAttr||{buffer:P.positionBuffer,stride:8,offset:4}},xFract:function(R,P){return P.xAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:0}},yFract:function(R,P){return P.yAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:4}},size:function(R,P){return P.size.length?{buffer:P.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*P.size/x.maxSize)]}},borderSize:function(R,P){return P.borderSize.length?{buffer:P.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*P.borderSize/x.maxSize)]}},colorId:function(R,P){return P.color.length?{buffer:P.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?f.slice(4*P.color,4*P.color+4):[P.color]}},borderColorId:function(R,P){return P.borderColor.length?{buffer:P.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?f.slice(4*P.borderColor,4*P.borderColor+4):[P.borderColor]}},isActive:function(R,P){return!0===P.activation?{constant:[1]}:P.activation?P.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:m.prop("viewport")},viewport:m.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:m.prop("elements"),count:m.prop("count"),offset:m.prop("offset"),primitive:"points"},T=t({},C);T.frag=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),T.vert=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}\n"]),this.drawMarker=m(T);var D=t({},C);D.frag=i(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),D.vert=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),u&&(D.frag=D.frag.replace("smoothstep","smoothStep"),T.frag=T.frag.replace("smoothstep","smoothStep")),this.drawCircle=m(D)}b.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},b.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},b.prototype.draw=function(){for(var m=this,v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];var w=this.groups;if(1===x.length&&Array.isArray(x[0])&&(null===x[0][0]||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var f=0;f<x.length;f++)this.drawItem(f,x[f]);else w.forEach(function(C,T){m.drawItem(T)});return this},b.prototype.drawItem=function(m,v){var x,y=this.groups,w=y[m];if("number"==typeof v&&(m=v,w=y[v],v=null),w&&w.count&&w.opacity){w.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,w,v));for(var f=[],C=1;C<w.activation.length;C++)w.activation[C]&&(!0===w.activation[C]||w.activation[C].data.length)&&f.push.apply(f,function(T){if(Array.isArray(T))return a(T)}(x=this.getMarkerDrawOptions(C,w,v))||function(T){if(typeof Symbol<"u"&&null!=T[Symbol.iterator]||null!=T["@@iterator"])return Array.from(T)}(x)||A(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());f.length&&this.drawMarker(f)}},b.prototype.getMarkerDrawOptions=function(m,v,x){var y=v.range,w=v.tree,f=v.viewport,C=v.activation,T=v.selectionBuffer,D=v.count;if(!w)return x?[t({},v,{markerTexture:this.markerTextures[m],activation:C[m],count:x.length,elements:x,offset:0})]:[t({},v,{markerTexture:this.markerTextures[m],activation:C[m],offset:0})];var R=[],P=w.range(y,{lod:!0,px:[(y[2]-y[0])/f.width,(y[3]-y[1])/f.height]});if(x){for(var O=C[m].data,B=new Uint8Array(D),q=0;q<x.length;q++){var N=x[q];B[N]=O?O[N]:1}T.subdata(B)}for(var H=P.length;H--;){var $=S(P[H],2),j=$[0];R.push(t({},v,{markerTexture:this.markerTextures[m],activation:x?T:C[m],offset:j,count:$[1]-j}))}return R},b.prototype.update=function(){for(var m=this,v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];if(x.length){1===x.length&&Array.isArray(x[0])&&(x=x[0]);var w=this.groups,f=this.gl,C=this.regl,T=this.maxSize,D=this.maxColors,R=this.palette;this.groups=w=x.map(function(P,O){var B=w[O];if(void 0===P)return B;null===P?P={positions:null}:"function"==typeof P?P={ondraw:P}:"number"==typeof P[0]&&(P={positions:P}),null===(P=n(P,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(P.positions=[]),null!=P.tooManyColors&&(m.tooManyColors=P.tooManyColors),B||(w[O]=B={id:O,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:C.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},P=t({},b.defaults,P)),P.positions&&!("marker"in P)&&(P.marker=B.marker,delete B.marker),P.marker&&!("positions"in P)&&(P.positions=B.positions,delete B.positions);var q=0,N=0;if(r(B,P,[{snap:!0,size:function(we,xe){return null==we&&(we=b.defaults.size),q+=we&&we.length?1:0,we},borderSize:function(we,xe){return null==we&&(we=b.defaults.borderSize),q+=we&&we.length?1:0,we},opacity:parseFloat,color:function(we,xe){return null==we&&(we=b.defaults.color),we=m.updateColor(we),N++,we},borderColor:function(we,xe){return null==we&&(we=b.defaults.borderColor),we=m.updateColor(we),N++,we},bounds:function(we,xe,be){return"range"in be||(be.range=null),we},positions:function(we,xe,be){var ye=xe.snap,Se=xe.positionBuffer,Ee=xe.positionFractBuffer,he=xe.selectionBuffer;if(we.x||we.y)return xe.xAttr=we.x.length?{buffer:C.buffer(we.x),offset:0,stride:4,count:we.x.length}:{buffer:we.x.buffer,offset:4*we.x.offset||0,stride:4*(we.x.stride||1),count:we.x.count},xe.yAttr=we.y.length?{buffer:C.buffer(we.y),offset:0,stride:4,count:we.y.length}:{buffer:we.y.buffer,offset:4*we.y.offset||0,stride:4*(we.y.stride||1),count:we.y.count},xe.count=Math.max(xe.xAttr.count,xe.yAttr.count),we;we=o(we,"float64");var ue=xe.count=Math.floor(we.length/2),me=xe.bounds=ue?_(we,2):null;if(be.range||xe.range||(delete xe.range,be.range=me),be.marker||xe.marker||(delete xe.marker,be.marker=null),ye&&(!0===ye||ue>ye)?xe.tree=s(we,{bounds:me}):ye&&ye.length&&(xe.tree=ye),xe.tree){var Pe={primitive:"points",usage:"static",data:xe.tree,type:"uint32"};xe.elements?xe.elements(Pe):xe.elements=C.elements(Pe)}var Ce=l.float32(we);return Se({data:Ce,usage:"dynamic"}),Ee({data:l.fract32(we,Ce),usage:"dynamic"}),he({data:new Uint8Array(ue),type:"uint8",usage:"stream"}),we}},{marker:function(we,xe,be){var ye=xe.activation;if(ye.forEach(function(Ce){return Ce&&Ce.destroy&&Ce.destroy()}),ye.length=0,we&&"number"!=typeof we[0]){for(var Se=[],Ee=0,he=Math.min(we.length,xe.count);Ee<he;Ee++){var ue=m.addMarker(we[Ee]);Se[ue]||(Se[ue]=new Uint8Array(xe.count)),Se[ue][Ee]=1}for(var me=0;me<Se.length;me++)if(Se[me]){var Pe={data:Se[me],type:"uint8",usage:"static"};ye[me]?ye[me](Pe):ye[me]=C.buffer(Pe),ye[me].data=Se[me]}}else ye[m.addMarker(we)]=!0;return we},range:function(we,xe,be){var ye=xe.bounds;if(ye)return we||(we=ye),xe.scale=[1/(we[2]-we[0]),1/(we[3]-we[1])],xe.translate=[-we[0],-we[1]],xe.scaleFract=l.fract(xe.scale),xe.translateFract=l.fract(xe.translate),we},viewport:function(we){return h(we||[f.drawingBufferWidth,f.drawingBufferHeight])}}]),q){var $=B.count,j=B.size,W=B.borderSize,G=B.sizeBuffer,ae=new Uint8Array(2*$);if(j.length||W.length)for(var te=0;te<$;te++)ae[2*te]=Math.round(255*(null==j[te]?j:j[te])/T),ae[2*te+1]=Math.round(255*(null==W[te]?W:W[te])/T);G({data:ae,usage:"dynamic"})}if(N){var Q,re=B.count,J=B.color,le=B.borderColor,fe=B.colorBuffer;if(m.tooManyColors){if(J.length||le.length){Q=new Uint8Array(8*re);for(var ce=0;ce<re;ce++){var ge=J[ce];Q[8*ce]=R[4*ge],Q[8*ce+1]=R[4*ge+1],Q[8*ce+2]=R[4*ge+2],Q[8*ce+3]=R[4*ge+3];var Te=le[ce];Q[8*ce+4]=R[4*Te],Q[8*ce+5]=R[4*Te+1],Q[8*ce+6]=R[4*Te+2],Q[8*ce+7]=R[4*Te+3]}}}else if(J.length||le.length){Q=new Uint8Array(4*re+2);for(var Me=0;Me<re;Me++)null!=J[Me]&&(Q[4*Me]=J[Me]%D,Q[4*Me+1]=Math.floor(J[Me]/D)),null!=le[Me]&&(Q[4*Me+2]=le[Me]%D,Q[4*Me+3]=Math.floor(le[Me]/D))}fe({data:Q||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return B})}},b.prototype.addMarker=function(m){var v,x=this.markerTextures,y=this.regl,w=this.markerCache,f=null==m?0:w.indexOf(m);if(f>=0)return f;if(m instanceof Uint8Array||m instanceof Uint8ClampedArray)v=m;else{v=new Uint8Array(m.length);for(var C=0,T=m.length;C<T;C++)v[C]=255*m[C]}var D=Math.floor(Math.sqrt(v.length));return f=x.length,w.push(m),x.push(y.texture({channels:1,data:v,radius:D,mag:"linear",min:"linear"})),f},b.prototype.updateColor=function(m){var v=this.paletteIds,x=this.palette,y=this.maxColors;Array.isArray(m)||(m=[m]);var w=[];if("number"==typeof m[0]){var f=[];if(Array.isArray(m))for(var C=0;C<m.length;C+=4)f.push(m.slice(C,C+4));else for(var T=0;T<m.length;T+=4)f.push(m.subarray(T,T+4));m=f}for(var D=0;D<m.length;D++){var R=m[D];R=M(R,"uint8");var P=d(R,!1);if(null==v[P]){var O=x.length;v[P]=Math.floor(O/4),x[O]=R[0],x[O+1]=R[1],x[O+2]=R[2],x[O+3]=R[3]}w[D]=v[P]}return!this.tooManyColors&&x.length>4*y&&(this.tooManyColors=!0),this.updatePalette(x),1===w.length?w[0]:w},b.prototype.updatePalette=function(m){if(!this.tooManyColors){var v=this.maxColors,x=this.paletteTexture,y=Math.ceil(.25*m.length/v);if(y>1)for(var w=.25*(m=m.slice()).length%v;w<y*v;w++)m.push(0,0,0,0);x.height<y&&x.resize(v,y),x.subimage({width:Math.min(.25*m.length,v),height:y,data:m},0,0)}},b.prototype.destroy=function(){return this.groups.forEach(function(m){m.sizeBuffer.destroy(),m.positionBuffer.destroy(),m.positionFractBuffer.destroy(),m.colorBuffer.destroy(),m.activation.forEach(function(v){return v&&v.destroy&&v.destroy()}),m.selectionBuffer.destroy(),m.elements&&m.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(m){return m&&m.destroy&&m.destroy()}),this};var p=e(50896);ie.exports=function(m,v){var x=new c(m,v),y=x.render.bind(x);return p(y,{render:y,update:x.update.bind(x),draw:x.draw.bind(x),destroy:x.destroy.bind(x),regl:x.regl,gl:x.gl,canvas:x.gl.canvas,groups:x.groups,markers:x.markerCache,palette:x.palette}),y}},55795:function(ie,z,e){"use strict";var S=e(38540),A=e(55616),a=e(76752),M=e(3951),_=e(67752),d=e(51160),s=e(47520);function t(o,u){if(!(this instanceof t))return new t(o,u);this.traces=[],this.passes={},this.regl=o,this.scatter=S(o),this.canvas=this.scatter.canvas}function i(o,u,l){return(null!=o.id?o.id:o)<<16|(255&u)<<8|255&l}function n(o,u,l){var h,c,b,p,m=o[u],v=o[l];return m.length>2?(h=m[1],c=m[3]):m.length?(h=m[0],c=m[1]):(h=m.y,c=m.y+m.height),v.length>2?(b=v[0],p=v[2]):v.length?(b=v[0],p=v[1]):(b=v.x,p=v.x+v.width),[b,h,p,c]}function r(o){if("number"==typeof o)return[o,o,o,o];if(2===o.length)return[o[0],o[1],o[0],o[1]];var u=d(o);return[u.x,u.y,u.x+u.width,u.y+u.height]}ie.exports=t,t.prototype.render=function(){for(var o,u=this,l=[],h=arguments.length;h--;)l[h]=arguments[h];return l.length&&(o=this).update.apply(o,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=M(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,M(function(){u.dirty=!1})),this)},t.prototype.update=function(){for(var o,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var h=0;h<u.length;h++)this.updateItem(h,u[h]);this.traces=this.traces.filter(Boolean);for(var c=[],b=0,p=0;p<this.traces.length;p++){for(var m=this.traces[p],v=this.traces[p].passes,x=0;x<v.length;x++)c.push(this.passes[v[x]]);m.passOffset=b,b+=m.passes.length}return(o=this.scatter).update.apply(o,c),this}},t.prototype.updateItem=function(o,u){var l=this.regl;if(null===u)return this.traces[o]=null,this;if(!u)return this;var h,c=A(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),b=this.traces[o]||(this.traces[o]={id:o,buffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:d([l._gl.drawingBufferWidth,l._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=c.color&&(b.color=c.color),null!=c.size&&(b.size=c.size),null!=c.marker&&(b.marker=c.marker),null!=c.borderColor&&(b.borderColor=c.borderColor),null!=c.borderSize&&(b.borderSize=c.borderSize),null!=c.opacity&&(b.opacity=c.opacity),c.viewport&&(b.viewport=d(c.viewport)),null!=c.diagonal&&(b.diagonal=c.diagonal),null!=c.upper&&(b.upper=c.upper),null!=c.lower&&(b.lower=c.lower),c.data){b.buffer(s(c.data)),b.columns=c.data.length,b.count=c.data[0].length,b.bounds=[];for(var p=0;p<b.columns;p++)b.bounds[p]=a(c.data[p],1)}c.range&&(b.range=c.range,h=b.range&&"number"!=typeof b.range[0]),c.domain&&(b.domain=c.domain);var m=!1;null!=c.padding&&(Array.isArray(c.padding)&&c.padding.length===b.columns&&"number"==typeof c.padding[c.padding.length-1]?(b.padding=c.padding.map(r),m=!0):b.padding=r(c.padding));var v=b.columns,x=b.count,y=b.viewport.width,w=b.viewport.height,f=b.viewport.x,C=b.viewport.y,T=y/v,D=w/v;b.passes=[];for(var R=0;R<v;R++)for(var P=0;P<v;P++)if((b.diagonal||P!==R)&&(b.upper||!(R>P))&&(b.lower||!(R<P))){var O=i(b.id,R,P),B=this.passes[O]||(this.passes[O]={});if(c.data&&(B.positions=c.transpose?{x:{buffer:b.buffer,offset:P,count:x,stride:v},y:{buffer:b.buffer,offset:R,count:x,stride:v}}:{x:{buffer:b.buffer,offset:P*x,count:x},y:{buffer:b.buffer,offset:R*x,count:x}},B.bounds=n(b.bounds,R,P)),c.domain||c.viewport||c.data){var q=m?n(b.padding,R,P):b.padding;if(b.domain){var N=n(b.domain,R,P);B.viewport=[f+N[0]*y+q[0],C+N[1]*w+q[1],f+N[2]*y-q[2],C+N[3]*w-q[3]]}else B.viewport=[f+P*T+T*q[0],C+R*D+D*q[1],f+(P+1)*T-T*q[2],C+(R+1)*D-D*q[3]]}c.color&&(B.color=b.color),c.size&&(B.size=b.size),c.marker&&(B.marker=b.marker),c.borderSize&&(B.borderSize=b.borderSize),c.borderColor&&(B.borderColor=b.borderColor),c.opacity&&(B.opacity=b.opacity),c.range&&(B.range=h?n(b.range,R,P):b.range||B.bounds),b.passes.push(O)}return this},t.prototype.draw=function(){for(var o,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var h=[],c=0;c<u.length;c++)if("number"==typeof u[c]){var b=this.traces[u[c]],m=b.passOffset;h.push.apply(h,_(m,m+b.passes.length))}else if(u[c].length){var v=u[c],x=this.traces[c],y=x.passes,w=x.passOffset;y=y.map(function(f,C){h[w+C]=v})}(o=this.scatter).draw.apply(o,h)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(o){o.buffer&&o.buffer.destroy&&o.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(ie){ie.exports=function(){function z(Ge,Qe){this.id=le++,this.type=Ge,this.data=Qe}function e(Ge){if(0===Ge.length)return[];var Qe=Ge.charAt(0),pt=Ge.charAt(Ge.length-1);if(1<Ge.length&&Qe===pt&&('"'===Qe||"'"===Qe))return['"'+Ge.substr(1,Ge.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Qe=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ge))return e(Ge.substr(0,Qe.index)).concat(e(Qe[1])).concat(e(Ge.substr(Qe.index+Qe[0].length)));if(1===(Qe=Ge.split(".")).length)return['"'+Ge.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ge=[],pt=0;pt<Qe.length;++pt)Ge=Ge.concat(e(Qe[pt]));return Ge}function S(Ge){return"["+e(Ge).join("][")+"]"}function A(Ge){return"string"==typeof Ge?Ge.split():Ge}function a(Ge){return"string"==typeof Ge?document.querySelector(Ge):Ge}function _(Ge,Qe){for(var pt=Array(Ge),ct=0;ct<Ge;++ct)pt[ct]=Qe(ct);return pt}function d(Ge){var Qe,pt;return Qe=(65535<Ge)<<4,Qe|=pt=(255<(Ge>>>=Qe))<<3,(Qe|=pt=(15<(Ge>>>=pt))<<2)|(pt=(3<(Ge>>>=pt))<<1)|Ge>>>pt>>1}function s(){function Ge(ct){e:{for(var He=16;268435456>=He;He*=16)if(ct<=He){ct=He;break e}ct=0}return 0<(He=pt[d(ct)>>2]).length?He.pop():new ArrayBuffer(ct)}function Qe(ct){pt[d(ct.byteLength)>>2].push(ct)}var pt=_(8,function(){return[]});return{alloc:Ge,free:Qe,allocType:function(ct,He){var qe=null;switch(ct){case 5120:qe=new Int8Array(Ge(He),0,He);break;case 5121:qe=new Uint8Array(Ge(He),0,He);break;case 5122:qe=new Int16Array(Ge(2*He),0,He);break;case 5123:qe=new Uint16Array(Ge(2*He),0,He);break;case 5124:qe=new Int32Array(Ge(4*He),0,He);break;case 5125:qe=new Uint32Array(Ge(4*He),0,He);break;case 5126:qe=new Float32Array(Ge(4*He),0,He);break;default:return null}return qe.length!==He?qe.subarray(0,He):qe},freeType:function(ct){Qe(ct.buffer)}}}function t(Ge){return!!Ge&&"object"==typeof Ge&&Array.isArray(Ge.shape)&&Array.isArray(Ge.stride)&&"number"==typeof Ge.offset&&Ge.shape.length===Ge.stride.length&&(Array.isArray(Ge.data)||we(Ge.data))}function i(Ge,Qe,pt,ct,He,qe){for(var ft=0;ft<Qe;++ft)for(var et=Ge[ft],xt=0;xt<pt;++xt)for(var wt=et[xt],At=0;At<ct;++At)He[qe++]=wt[At]}function n(Ge,Qe,pt,ct,He){for(var qe=1,ft=pt+1;ft<Qe.length;++ft)qe*=Qe[ft];var et=Qe[pt];if(Qe.length-pt==4){var xt=Qe[pt+1],wt=Qe[pt+2];for(Qe=Qe[pt+3],ft=0;ft<et;++ft)i(Ge[ft],xt,wt,Qe,ct,He),He+=qe}else for(ft=0;ft<et;++ft)n(Ge[ft],Qe,pt+1,ct,He),He+=qe}function r(Ge){return 0|ye[Object.prototype.toString.call(Ge)]}function o(Ge,Qe){for(var pt=0;pt<Qe.length;++pt)Ge[pt]=Qe[pt]}function u(Ge,Qe,pt,ct,He,qe,ft){for(var et=0,xt=0;xt<pt;++xt)for(var wt=0;wt<ct;++wt)Ge[et++]=Qe[He*xt+qe*wt+ft]}function c(Ge){for(var Qe=Te.allocType(5123,Ge.length),pt=0;pt<Ge.length;++pt)if(isNaN(Ge[pt]))Qe[pt]=65535;else if(Ge[pt]===1/0)Qe[pt]=31744;else if(Ge[pt]===-1/0)Qe[pt]=64512;else{Ce[0]=Ge[pt];var ct=(qe=Ie[0])>>>31<<15,He=(qe<<1>>>24)-127,qe=qe>>13&1023;Qe[pt]=-24>He?ct:-14>He?ct+(qe+1024>>-14-He):15<He?ct+31744:ct+(He+15<<10)+qe}return Qe}function b(Ge){return Array.isArray(Ge)||we(Ge)}function p(Ge){return"[object "+Ge+"]"}function m(Ge){return Array.isArray(Ge)&&(0===Ge.length||"number"==typeof Ge[0])}function v(Ge){return!(!Array.isArray(Ge)||0===Ge.length||!b(Ge[0]))}function x(Ge){return Object.prototype.toString.call(Ge)}function y(Ge){if(!Ge)return!1;var Qe=x(Ge);return 0<=Xe.indexOf(Qe)||m(Ge)||v(Ge)||t(Ge)}function w(Ge,Qe){36193===Ge.type?(Ge.data=c(Qe),Te.freeType(Qe)):Ge.data=Qe}function f(Ge,Qe,pt,ct,He,qe){if(Ge=void 0!==dt[Ge]?dt[Ge]:je[Ge]*nt[Qe],qe&&(Ge*=6),He){for(ct=0;1<=pt;)ct+=Ge*pt*pt,pt/=2;return ct}return Ge*pt*ct}function D(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function B(Ge,Qe){return Ge>>>Qe|Ge<<32-Qe}function q(Ge,Qe){var pt=(65535&Ge)+(65535&Qe);return(Ge>>16)+(Qe>>16)+(pt>>16)<<16|65535&pt}function N(Ge){return Array.prototype.slice.call(Ge)}function H(Ge){return N(Ge).join("")}function j(Ge){return Array.isArray(Ge)||we(Ge)||t(Ge)}function W(Ge){return Ge.sort(function(Qe,pt){return"viewport"===Qe?-1:"viewport"===pt?1:Qe<pt?-1:1})}function G(Ge,Qe,pt,ct){this.thisDep=Ge,this.contextDep=Qe,this.propDep=pt,this.append=ct}function ae(Ge){return Ge&&!(Ge.thisDep||Ge.contextDep||Ge.propDep)}function te(Ge){return new G(!1,!1,!1,Ge)}function Q(Ge,Qe){var pt=Ge.type;if(0===pt)return new G(!0,1<=(pt=Ge.data.length),2<=pt,Qe);if(4===pt)return new G((pt=Ge.data).thisDep,pt.contextDep,pt.propDep,Qe);if(5===pt)return new G(!1,!1,!1,Qe);if(6===pt){for(var ct=pt=!1,He=!1,qe=0;qe<Ge.data.length;++qe){var ft=Ge.data[qe];1===ft.type?He=!0:2===ft.type?ct=!0:3===ft.type?pt=!0:0===ft.type?(pt=!0,1<=(ft=ft.data)&&(ct=!0),2<=ft&&(He=!0)):4===ft.type&&(pt=pt||ft.data.thisDep,ct=ct||ft.data.contextDep,He=He||ft.data.propDep)}return new G(pt,ct,He,Qe)}return new G(3===pt,2===pt,1===pt,Qe)}function ee(Ge,Qe,pt,ct,He,qe,ft,et,xt,wt,At,yt,Ot,Ct,Rt,Bt){function jt(Nt){return Nt.replace(".","_")}function Gt(Nt,Yt,cn){var xn=jt(Nt);ar.push(Nt),Wn[xn]=En[xn]=!!cn,In[xn]=Yt}function on(Nt,Yt,cn){var xn=jt(Nt);ar.push(Nt),Array.isArray(cn)?(En[xn]=cn.slice(),Wn[xn]=cn.slice()):En[xn]=Wn[xn]=cn,fr[xn]=Yt}function Jt(){var Nt=function $(Ge){function Qe(){var At=[],yt=[];return J(function(){At.push.apply(At,N(arguments))},{def:function(){var Ot="v"+He++;return yt.push(Ot),0<arguments.length&&(At.push(Ot,"="),At.push.apply(At,N(arguments)),At.push(";")),Ot},toString:function(){return H([0<yt.length?"var "+yt.join(",")+";":"",H(At)])}})}function pt(){function At(Bt,jt){Ot(Bt,jt,"=",yt.def(Bt,jt),";")}var yt=Qe(),Ot=Qe(),Ct=yt.toString,Rt=Ot.toString;return J(function(){yt.apply(yt,N(arguments))},{def:yt.def,entry:yt,exit:Ot,save:At,set:function(Bt,jt,Gt){At(Bt,jt),yt(Bt,jt,"=",Gt,";")},toString:function(){return Ct()+Rt()}})}var ct=Ge&&Ge.cache,He=0,qe=[],ft=[],et=[],xt=Qe(),wt={};return{global:xt,link:function(At,yt){var Ot=yt&&yt.stable;if(!Ot)for(var Ct=0;Ct<ft.length;++Ct)if(ft[Ct]===At&&!et[Ct])return qe[Ct];return Ct="g"+He++,qe.push(Ct),ft.push(At),et.push(Ot),Ct},block:Qe,proc:function(At,yt){function Ot(){var jt="a"+Ct.length;return Ct.push(jt),jt}var Ct=[];yt=yt||0;for(var Rt=0;Rt<yt;++Rt)Ot();var Bt=(Rt=pt()).toString;return wt[At]=J(Rt,{arg:Ot,toString:function(){return H(["function(",Ct.join(),"){",Bt(),"}"])}})},scope:pt,cond:function(){var At=H(arguments),yt=pt(),Ot=pt(),Ct=yt.toString,Rt=Ot.toString;return J(yt,{then:function(){return yt.apply(yt,N(arguments)),this},else:function(){return Ot.apply(Ot,N(arguments)),this},toString:function(){var Bt=Rt();return Bt&&(Bt="else{"+Bt+"}"),H(["if(",At,"){",Ct(),"}",Bt])}})},compile:function(){var At=['"use strict";',xt,"return {"];Object.keys(wt).forEach(function(Ct){At.push('"',Ct,'":',wt[Ct].toString(),",")}),At.push("}");var yt,Ot=H(At).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return ct&&(yt=function(Ct){for(var Rt,Bt="",jt=0;jt<Ct.length;jt++)Rt=Ct.charCodeAt(jt),Bt+="0123456789abcdef".charAt(Rt>>>4&15)+"0123456789abcdef".charAt(15&Rt);return Bt}(function(Ct){for(var Rt=Array(Ct.length>>2),Bt=0;Bt<Rt.length;Bt++)Rt[Bt]=0;for(Bt=0;Bt<8*Ct.length;Bt+=8)Rt[Bt>>5]|=(255&Ct.charCodeAt(Bt/8))<<24-Bt%32;var jt,Gt,on,Jt,$t,tn,dn,Gn,zn,Mn,ln,vn=8*Ct.length;for(Ct=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Bt=Array(64),Rt[vn>>5]|=128<<24-vn%32,Rt[15+(vn+64>>9<<4)]=vn,Gn=0;Gn<Rt.length;Gn+=16){for(vn=Ct[0],jt=Ct[1],Gt=Ct[2],on=Ct[3],Jt=Ct[4],$t=Ct[5],tn=Ct[6],dn=Ct[7],zn=0;64>zn;zn++){var hn;16>zn?Bt[zn]=Rt[zn+Gn]:(Mn=zn,ln=q(ln=B(ln=Bt[zn-2],17)^B(ln,19)^ln>>>10,Bt[zn-7]),hn=B(hn=Bt[zn-15],7)^B(hn,18)^hn>>>3,Bt[Mn]=q(q(ln,hn),Bt[zn-16])),Mn=q(q(q(q(dn,Mn=B(Mn=Jt,6)^B(Mn,11)^B(Mn,25)),Jt&$t^~Jt&tn),ut[zn]),Bt[zn]),ln=q(dn=B(dn=vn,2)^B(dn,13)^B(dn,22),vn&jt^vn&Gt^jt&Gt),dn=tn,tn=$t,$t=Jt,Jt=q(on,Mn),on=Gt,Gt=jt,jt=vn,vn=q(Mn,ln)}Ct[0]=q(vn,Ct[0]),Ct[1]=q(jt,Ct[1]),Ct[2]=q(Gt,Ct[2]),Ct[3]=q(on,Ct[3]),Ct[4]=q(Jt,Ct[4]),Ct[5]=q($t,Ct[5]),Ct[6]=q(tn,Ct[6]),Ct[7]=q(dn,Ct[7])}for(Rt="",Bt=0;Bt<32*Ct.length;Bt+=8)Rt+=String.fromCharCode(Ct[Bt>>5]>>>24-Bt%32&255);return Rt}(function(Ct){for(var Rt,Bt,jt="",Gt=-1;++Gt<Ct.length;)Rt=Ct.charCodeAt(Gt),Bt=Gt+1<Ct.length?Ct.charCodeAt(Gt+1):0,55296<=Rt&&56319>=Rt&&56320<=Bt&&57343>=Bt&&(Rt=65536+((1023&Rt)<<10)+(1023&Bt),Gt++),127>=Rt?jt+=String.fromCharCode(Rt):2047>=Rt?jt+=String.fromCharCode(192|Rt>>>6&31,128|63&Rt):65535>=Rt?jt+=String.fromCharCode(224|Rt>>>12&15,128|Rt>>>6&63,128|63&Rt):2097151>=Rt&&(jt+=String.fromCharCode(240|Rt>>>18&7,128|Rt>>>12&63,128|Rt>>>6&63,128|63&Rt));return jt}(Ot))),ct[yt])?ct[yt].apply(null,ft):(Ot=Function.apply(null,qe.concat(Ot)),ct&&(ct[yt]=Ot),Ot.apply(null,ft))}}}({cache:Rt}),Yt=Nt.link,cn=Nt.global;Nt.id=An++,Nt.batchId="0";var xn=Yt(ur),wn=Nt.shared={props:"a0"};Object.keys(ur).forEach(function(pn){wn[pn]=cn.def(xn,".",pn)});var Cn=Nt.next={},mn=Nt.current={};Object.keys(fr).forEach(function(pn){Array.isArray(En[pn])&&(Cn[pn]=cn.def(wn.next,".",pn),mn[pn]=cn.def(wn.current,".",pn))});var nn=Nt.constants={};Object.keys(Kt).forEach(function(pn){nn[pn]=cn.def(JSON.stringify(Kt[pn]))}),Nt.invoke=function(pn,yn){switch(yn.type){case 0:var Nn=["this",wn.context,wn.props,Nt.batchId];return pn.def(Yt(yn.data),".call(",Nn.slice(0,Math.max(yn.data.length+1,4)),")");case 1:return pn.def(wn.props,yn.data);case 2:return pn.def(wn.context,yn.data);case 3:return pn.def("this",yn.data);case 4:return yn.data.append(Nt,pn),yn.data.ref;case 5:return yn.data.toString();case 6:return yn.data.map(function(Un){return Nt.invoke(pn,Un)})}},Nt.attribCache={};var rn={};return Nt.scopeAttrib=function(pn){if((pn=Qe.id(pn))in rn)return rn[pn];var yn=wt.scope[pn];return yn||(yn=wt.scope[pn]=new cr),rn[pn]=Yt(yn)},Nt}function zn(Nt,Yt,cn,xn,wn){function Cn(pr){var Qn=nn[pr];Qn&&(pn[pr]=Qn)}var pr,qn,vr,dr,mn=function(pr,Qn){if("string"==typeof(qn=pr.static).frag&&"string"==typeof qn.vert){if(0<Object.keys(Qn.dynamic).length)return null;var qn=Qn.static,vr=Object.keys(qn);if(0<vr.length&&"number"==typeof qn[vr[0]]){for(var dr=[],Dr=0;Dr<vr.length;++Dr)dr.push([0|qn[vr[Dr]],vr[Dr]]);return dr}}return null}(Nt,Yt),nn=function(pr,Qn,qn){function vr(Lr){if(Lr in dr){var yr=dr[Lr];Lr=!0;var Or,Yr,Qr=0|yr.x,to=0|yr.y;return"width"in yr?Or=0|yr.width:Lr=!1,"height"in yr?Yr=0|yr.height:Lr=!1,new G(!Lr&&Qn&&Qn.thisDep,!Lr&&Qn&&Qn.contextDep,!Lr&&Qn&&Qn.propDep,function(mo,ji){var co=mo.shared.context,Aa=Or;"width"in yr||(Aa=ji.def(co,".","framebufferWidth","-",Qr));var Nr=Yr;return"height"in yr||(Nr=ji.def(co,".","framebufferHeight","-",to)),[Qr,to,Aa,Nr]})}if(Lr in Dr){var Bi=Dr[Lr];return Lr=Q(Bi,function(mo,ji){var co=mo.invoke(ji,Bi),Aa=mo.shared.context,Nr=ji.def(co,".x|0"),Ro=ji.def(co,".y|0");return[Nr,Ro,ji.def('"width" in ',co,"?",co,".width|0:","(",Aa,".","framebufferWidth","-",Nr,")"),co=ji.def('"height" in ',co,"?",co,".height|0:","(",Aa,".","framebufferHeight","-",Ro,")")]}),Qn&&(Lr.thisDep=Lr.thisDep||Qn.thisDep,Lr.contextDep=Lr.contextDep||Qn.contextDep,Lr.propDep=Lr.propDep||Qn.propDep),Lr}return Qn?new G(Qn.thisDep,Qn.contextDep,Qn.propDep,function(mo,ji){var co=mo.shared.context;return[0,0,ji.def(co,".","framebufferWidth"),ji.def(co,".","framebufferHeight")]}):null}var dr=pr.static,Dr=pr.dynamic;if(pr=vr("viewport")){var kr=pr;pr=new G(pr.thisDep,pr.contextDep,pr.propDep,function(Lr,yr){var Or=kr.append(Lr,yr),Yr=Lr.shared.context;return yr.set(Yr,".viewportWidth",Or[2]),yr.set(Yr,".viewportHeight",Or[3]),Or})}return{viewport:pr,scissor_box:vr("scissor.box")}}(Nt,Nn=function $t(Nt,Yt){var cn=Nt.static,xn=Nt.dynamic;if("framebuffer"in cn){var wn=cn.framebuffer;return wn?(wn=et.getFramebuffer(wn),te(function(mn,nn){var rn=mn.link(wn),pn=mn.shared;return nn.set(pn.framebuffer,".next",rn),nn.set(pn=pn.context,".framebufferWidth",rn+".width"),nn.set(pn,".framebufferHeight",rn+".height"),rn})):te(function(mn,nn){var rn=mn.shared;return nn.set(rn.framebuffer,".next","null"),nn.set(rn=rn.context,".framebufferWidth",rn+".drawingBufferWidth"),nn.set(rn,".framebufferHeight",rn+".drawingBufferHeight"),"null"})}if("framebuffer"in xn){var Cn=xn.framebuffer;return Q(Cn,function(mn,nn){var rn=mn.invoke(nn,Cn),pn=mn.shared,yn=pn.framebuffer;return rn=nn.def(yn,".getFramebuffer(",rn,")"),nn.set(yn,".next",rn),nn.set(pn=pn.context,".framebufferWidth",rn+"?"+rn+".width:"+pn+".drawingBufferWidth"),nn.set(pn,".framebufferHeight",rn+"?"+rn+".height:"+pn+".drawingBufferHeight"),rn})}return null}(Nt)),rn=function dn(Nt,Yt){function cn(er,pr){if(er in xn){var Qn=0|xn[er];return pr?Cn.offset=Qn:Cn.instances=Qn,te(function(vr,dr){return pr&&(vr.OFFSET=Qn),Qn})}if(er in wn){var qn=wn[er];return Q(qn,function(vr,dr){var Dr=vr.invoke(dr,qn);return pr&&(vr.OFFSET=Dr),Dr})}if(pr){if(rn)return te(function(vr,dr){return vr.OFFSET=0});if(mn)return new G(nn.thisDep,nn.contextDep,nn.propDep,function(vr,dr){return dr.def(vr.shared.vao+".currentVAO?"+vr.shared.vao+".currentVAO.offset:0")})}else if(mn)return new G(nn.thisDep,nn.contextDep,nn.propDep,function(vr,dr){return dr.def(vr.shared.vao+".currentVAO?"+vr.shared.vao+".currentVAO.instances:-1")});return null}var xn=Nt.static,wn=Nt.dynamic,Cn={},mn=!1,nn=function(){if("vao"in xn){var er=xn.vao;return null!==er&&null===wt.getVAO(er)&&(er=wt.createVAO(er)),mn=!0,Cn.vao=er,te(function(Qn){var qn=wt.getVAO(er);return qn?Qn.link(qn):"null"})}if("vao"in wn){mn=!0;var pr=wn.vao;return Q(pr,function(Qn,qn){var vr=Qn.invoke(qn,pr);return qn.def(Qn.shared.vao+".getVAO("+vr+")")})}return null}(),rn=!1,pn=function(){if("elements"in xn){var er=xn.elements;if(Cn.elements=er,j(er)){var pr=Cn.elements=qe.create(er,!0);er=qe.getElements(pr),rn=!0}else er&&(er=qe.getElements(er),rn=!0);return(pr=te(function(qn,vr){if(er){var dr=qn.link(er);return qn.ELEMENTS=dr}return qn.ELEMENTS=null})).value=er,pr}if("elements"in wn){rn=!0;var Qn=wn.elements;return Q(Qn,function(qn,vr){var dr=(Dr=qn.shared).isBufferArgs,Dr=Dr.elements,kr=qn.invoke(vr,Qn),Lr=vr.def("null");return dr=vr.def(dr,"(",kr,")"),kr=qn.cond(dr).then(Lr,"=",Dr,".createStream(",kr,");").else(Lr,"=",Dr,".getElements(",kr,");"),vr.entry(kr),vr.exit(qn.cond(dr).then(Dr,".destroyStream(",Lr,");")),qn.ELEMENTS=Lr})}return mn?new G(nn.thisDep,nn.contextDep,nn.propDep,function(qn,vr){return vr.def(qn.shared.vao+".currentVAO?"+qn.shared.elements+".getElements("+qn.shared.vao+".currentVAO.elements):null")}):null}(),yn=cn("offset",!0),Nn=function(){if("primitive"in xn){var er=xn.primitive;return Cn.primitive=er,te(function(Qn,qn){return Pe[er]})}if("primitive"in wn){var pr=wn.primitive;return Q(pr,function(Qn,qn){var vr=Qn.constants.primTypes,dr=Qn.invoke(qn,pr);return qn.def(vr,"[",dr,"]")})}return rn?ae(pn)?te(pn.value?function(Qn,qn){return qn.def(Qn.ELEMENTS,".primType")}:function(){return 4}):new G(pn.thisDep,pn.contextDep,pn.propDep,function(Qn,qn){var vr=Qn.ELEMENTS;return qn.def(vr,"?",vr,".primType:",4)}):mn?new G(nn.thisDep,nn.contextDep,nn.propDep,function(Qn,qn){return qn.def(Qn.shared.vao+".currentVAO?"+Qn.shared.vao+".currentVAO.primitive:4")}):null}(),Un=function(){if("count"in xn){var er=0|xn.count;return Cn.count=er,te(function(){return er})}if("count"in wn){var pr=wn.count;return Q(pr,function(Qn,qn){return Qn.invoke(qn,pr)})}return rn?ae(pn)?pn?yn?new G(yn.thisDep,yn.contextDep,yn.propDep,function(Qn,qn){return qn.def(Qn.ELEMENTS,".vertCount-",Qn.OFFSET)}):te(function(Qn,qn){return qn.def(Qn.ELEMENTS,".vertCount")}):te(function(){return-1}):new G(pn.thisDep||yn.thisDep,pn.contextDep||yn.contextDep,pn.propDep||yn.propDep,function(Qn,qn){var vr=Qn.ELEMENTS;return Qn.OFFSET?qn.def(vr,"?",vr,".vertCount-",Qn.OFFSET,":-1"):qn.def(vr,"?",vr,".vertCount:-1")}):mn?new G(nn.thisDep,nn.contextDep,nn.propDep,function(Qn,qn){return qn.def(Qn.shared.vao,".currentVAO?",Qn.shared.vao,".currentVAO.count:-1")}):null}(),Xn=cn("instances",!1);return{elements:pn,primitive:Nn,count:Un,instances:Xn,offset:yn,vao:nn,vaoActive:mn,elementsActive:rn,static:Cn}}(Nt),pn=(qn=(pr=Nt).static,vr=pr.dynamic,dr={},ar.forEach(function(Dr){function kr(yr,Or){if(Dr in qn){var Yr=yr(qn[Dr]);dr[Lr]=te(function(){return Yr})}else if(Dr in vr){var Qr=vr[Dr];dr[Lr]=Q(Qr,function(to,Bi){return Or(to,Bi,to.invoke(Bi,Qr))})}}var Lr=jt(Dr);switch(Dr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return kr(function(yr){return yr},function(yr,Or,Yr){return Yr});case"depth.func":return kr(function(yr){return Ht[yr]},function(yr,Or,Yr){return Or.def(yr.constants.compareFuncs,"[",Yr,"]")});case"depth.range":return kr(function(yr){return yr},function(yr,Or,Yr){return[Or.def("+",Yr,"[0]"),Or=Or.def("+",Yr,"[1]")]});case"blend.func":return kr(function(yr){return[Ut["srcRGB"in yr?yr.srcRGB:yr.src],Ut["dstRGB"in yr?yr.dstRGB:yr.dst],Ut["srcAlpha"in yr?yr.srcAlpha:yr.src],Ut["dstAlpha"in yr?yr.dstAlpha:yr.dst]]},function(yr,Or,Yr){function Qr(ji,co){return Or.def('"',ji,co,'" in ',Yr,"?",Yr,".",ji,co,":",Yr,".",ji)}yr=yr.constants.blendFuncs;var to=Qr("src","RGB"),Bi=Qr("dst","RGB"),mo=(to=Or.def(yr,"[",to,"]"),Or.def(yr,"[",Qr("src","Alpha"),"]"));return[to,Bi=Or.def(yr,"[",Bi,"]"),mo,yr=Or.def(yr,"[",Qr("dst","Alpha"),"]")]});case"blend.equation":return kr(function(yr){return"string"==typeof yr?[Ar[yr],Ar[yr]]:"object"==typeof yr?[Ar[yr.rgb],Ar[yr.alpha]]:void 0},function(yr,Or,Yr){var Qr=yr.constants.blendEquations,to=Or.def(),Bi=Or.def();return(yr=yr.cond("typeof ",Yr,'==="string"')).then(to,"=",Bi,"=",Qr,"[",Yr,"];"),yr.else(to,"=",Qr,"[",Yr,".rgb];",Bi,"=",Qr,"[",Yr,".alpha];"),Or(yr),[to,Bi]});case"blend.color":return kr(function(yr){return _(4,function(Or){return+yr[Or]})},function(yr,Or,Yr){return _(4,function(Qr){return Or.def("+",Yr,"[",Qr,"]")})});case"stencil.mask":return kr(function(yr){return 0|yr},function(yr,Or,Yr){return Or.def(Yr,"|0")});case"stencil.func":return kr(function(yr){return[Ht[yr.cmp||"keep"],yr.ref||0,"mask"in yr?yr.mask:-1]},function(yr,Or,Yr){return[yr=Or.def('"cmp" in ',Yr,"?",yr.constants.compareFuncs,"[",Yr,".cmp]",":",7680),Or.def(Yr,".ref|0"),Or=Or.def('"mask" in ',Yr,"?",Yr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return kr(function(yr){return["stencil.opBack"===Dr?1029:1028,Pt[yr.fail||"keep"],Pt[yr.zfail||"keep"],Pt[yr.zpass||"keep"]]},function(yr,Or,Yr){function Qr(Bi){return Or.def('"',Bi,'" in ',Yr,"?",to,"[",Yr,".",Bi,"]:",7680)}var to=yr.constants.stencilOps;return["stencil.opBack"===Dr?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return kr(function(yr){return[0|yr.factor,0|yr.units]},function(yr,Or,Yr){return[Or.def(Yr,".factor|0"),Or=Or.def(Yr,".units|0")]});case"cull.face":return kr(function(yr){var Or=0;return"front"===yr?Or=1028:"back"===yr&&(Or=1029),Or},function(yr,Or,Yr){return Or.def(Yr,'==="front"?',1028,":",1029)});case"frontFace":return kr(function(yr){return Je[yr]},function(yr,Or,Yr){return Or.def(Yr+'==="cw"?2304:2305')});case"colorMask":return kr(function(yr){return yr.map(function(Or){return!!Or})},function(yr,Or,Yr){return _(4,function(Qr){return"!!"+Yr+"["+Qr+"]"})});case"sample.coverage":return kr(function(yr){return["value"in yr?yr.value:1,!!yr.invert]},function(yr,Or,Yr){return[Or.def('"value" in ',Yr,"?+",Yr,".value:1"),Or=Or.def("!!",Yr,".invert")]})}}),dr),yn=function tn(Nt,Yt,cn){function xn(pn){if(pn in wn){var yn=Qe.id(wn[pn]);return(pn=te(function(){return yn})).id=yn,pn}if(pn in Cn){var Nn=Cn[pn];return Q(Nn,function(Un,Xn){var er=Un.invoke(Xn,Nn);return Xn.def(Un.shared.strings,".id(",er,")")})}return null}var wn=Nt.static,Cn=Nt.dynamic,mn=xn("frag"),nn=xn("vert"),rn=null;return ae(mn)&&ae(nn)?(rn=At.program(nn.id,mn.id,null,cn),Nt=te(function(pn,yn){return pn.link(rn)})):Nt=new G(mn&&mn.thisDep||nn&&nn.thisDep,mn&&mn.contextDep||nn&&nn.contextDep,mn&&mn.propDep||nn&&nn.propDep,function(pn,yn){var Nn,Un,Xn=pn.shared.shader;return Nn=mn?mn.append(pn,yn):yn.def(Xn,".","frag"),Un=nn?nn.append(pn,yn):yn.def(Xn,".","vert"),yn.def(Xn+".program("+Un+","+Nn+")")}),{frag:mn,vert:nn,progVar:Nt,program:rn}}(Nt,0,mn);Cn("viewport"),Cn(jt("scissor.box"));var Nn,Un=0<Object.keys(pn).length;if((Nn={framebuffer:Nn,draw:rn,shader:yn,state:pn,dirty:Un,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(pr){var Qn,qn=pr.static;if(pr=pr.dynamic,"profile"in qn){var vr=!!qn.profile;(Qn=te(function(Dr,kr){return vr})).enable=vr}else if("profile"in pr){var dr=pr.profile;Qn=Q(dr,function(Dr,kr){return Dr.invoke(kr,dr)})}return Qn}(Nt),Nn.uniforms=function(pr,Qn){var qn=pr.static,vr=pr.dynamic,dr={};return Object.keys(qn).forEach(function(Dr){var kr,Lr=qn[Dr];if("number"==typeof Lr||"boolean"==typeof Lr)kr=te(function(){return Lr});else if("function"==typeof Lr){var yr=Lr._reglType;"texture2d"===yr||"textureCube"===yr?kr=te(function(Or){return Or.link(Lr)}):"framebuffer"!==yr&&"framebufferCube"!==yr||(kr=te(function(Or){return Or.link(Lr.color[0])}))}else b(Lr)&&(kr=te(function(Or){return Or.global.def("[",_(Lr.length,function(Yr){return Lr[Yr]}),"]")}));kr.value=Lr,dr[Dr]=kr}),Object.keys(vr).forEach(function(Dr){var kr=vr[Dr];dr[Dr]=Q(kr,function(Lr,yr){return Lr.invoke(yr,kr)})}),dr}(cn),Nn.drawVAO=Nn.scopeVAO=rn.vao,!Nn.drawVAO&&yn.program&&!mn&&pt.angle_instanced_arrays&&rn.static.elements){var Xn=!0;if(Nt=yn.program.attributes.map(function(pr){return pr=Yt.static[pr],Xn=Xn&&!!pr,pr}),Xn&&0<Nt.length){var er=wt.getVAO(wt.createVAO({attributes:Nt,elements:rn.static.elements}));Nn.drawVAO=new G(null,null,null,function(pr,Qn){return pr.link(er)}),Nn.useVAO=!0}}return mn?Nn.useVAO=!0:Nn.attributes=function Gn(Nt,Yt){var cn=Nt.static,xn=Nt.dynamic,wn={};return Object.keys(cn).forEach(function(Cn){var mn=cn[Cn],nn=Qe.id(Cn),rn=new cr;if(j(mn))rn.state=1,rn.buffer=He.getBuffer(He.create(mn,34962,!1,!0)),rn.type=0;else if(yn=He.getBuffer(mn))rn.state=1,rn.buffer=yn,rn.type=0;else if("constant"in mn){var pn=mn.constant;rn.buffer="null",rn.state=2,"number"==typeof pn?rn.x=pn:st.forEach(function(Qn,qn){qn<pn.length&&(rn[Qn]=pn[qn])})}else{var yn=j(mn.buffer)?He.getBuffer(He.create(mn.buffer,34962,!1,!0)):He.getBuffer(mn.buffer),Nn=0|mn.offset,Un=0|mn.stride,Xn=0|mn.size,er=!!mn.normalized,pr=0;"type"in mn&&(pr=Se[mn.type]),mn=0|mn.divisor,rn.buffer=yn,rn.state=1,rn.size=Xn,rn.normalized=er,rn.type=pr||yn.dtype,rn.offset=Nn,rn.stride=Un,rn.divisor=mn}wn[Cn]=te(function(Qn,qn){var vr=Qn.attribCache;if(nn in vr)return vr[nn];var dr={isStream:!1};return Object.keys(rn).forEach(function(Dr){dr[Dr]=rn[Dr]}),rn.buffer&&(dr.buffer=Qn.link(rn.buffer),dr.type=dr.type||dr.buffer+".dtype"),vr[nn]=dr})}),Object.keys(xn).forEach(function(Cn){var mn=xn[Cn];wn[Cn]=Q(mn,function(nn,rn){function pn(vr){rn(er[vr],"=",yn,".",vr,"|0;")}var yn=nn.invoke(rn,mn),Nn=nn.shared,Un=nn.constants,Xn=Nn.isBufferArgs,er=(Nn=Nn.buffer,{isStream:rn.def(!1)}),pr=new cr;pr.state=1,Object.keys(pr).forEach(function(vr){er[vr]=rn.def(""+pr[vr])});var Qn=er.buffer,qn=er.type;return rn("if(",Xn,"(",yn,")){",er.isStream,"=true;",Qn,"=",Nn,".createStream(",34962,",",yn,");",qn,"=",Qn,".dtype;","}else{",Qn,"=",Nn,".getBuffer(",yn,");","if(",Qn,"){",qn,"=",Qn,".dtype;",'}else if("constant" in ',yn,"){",er.state,"=",2,";","if(typeof "+yn+'.constant === "number"){',er[st[0]],"=",yn,".constant;",st.slice(1).map(function(vr){return er[vr]}).join("="),"=0;","}else{",st.map(function(vr,dr){return er[vr]+"="+yn+".constant.length>"+dr+"?"+yn+".constant["+dr+"]:0;"}).join(""),"}}else{","if(",Xn,"(",yn,".buffer)){",Qn,"=",Nn,".createStream(",34962,",",yn,".buffer);","}else{",Qn,"=",Nn,".getBuffer(",yn,".buffer);","}",qn,'="type" in ',yn,"?",Un.glTypes,"[",yn,".type]:",Qn,".dtype;",er.normalized,"=!!",yn,".normalized;"),pn("size"),pn("offset"),pn("stride"),pn("divisor"),rn("}}"),rn.exit("if(",er.isStream,"){",Nn,".destroyStream(",Qn,");","}"),er})}),wn}(Yt),Nn.context=function(pr){var Qn=pr.static,qn=pr.dynamic,vr={};return Object.keys(Qn).forEach(function(dr){var Dr=Qn[dr];vr[dr]=te(function(kr,Lr){return"number"==typeof Dr||"boolean"==typeof Dr?""+Dr:kr.link(Dr)})}),Object.keys(qn).forEach(function(dr){var Dr=qn[dr];vr[dr]=Q(Dr,function(kr,Lr){return kr.invoke(Lr,Dr)})}),vr}(xn),Nn}function Mn(Nt,Yt,cn){var xn=Nt.shared.context,wn=Nt.scope();Object.keys(cn).forEach(function(Cn){Yt.save(xn,"."+Cn);var mn=cn[Cn].append(Nt,Yt);Array.isArray(mn)?wn(xn,".",Cn,"=[",mn.join(),"];"):wn(xn,".",Cn,"=",mn,";")}),Yt(wn)}function ln(Nt,Yt,cn,xn){var wn,Cn=(nn=Nt.shared).gl,mn=nn.framebuffer;an&&(wn=Yt.def(nn.extensions,".webgl_draw_buffers"));var nn=(rn=Nt.constants).drawBuffer,rn=rn.backBuffer;Nt=cn?cn.append(Nt,Yt):Yt.def(mn,".next"),xn||Yt("if(",Nt,"!==",mn,".cur){"),Yt("if(",Nt,"){",Cn,".bindFramebuffer(",36160,",",Nt,".framebuffer);"),an&&Yt(wn,".drawBuffersWEBGL(",nn,"[",Nt,".colorAttachments.length]);"),Yt("}else{",Cn,".bindFramebuffer(",36160,",null);"),an&&Yt(wn,".drawBuffersWEBGL(",rn,");"),Yt("}",mn,".cur=",Nt,";"),xn||Yt("}")}function vn(Nt,Yt,cn){var xn=Nt.shared,wn=xn.gl,Cn=Nt.current,mn=Nt.next,nn=xn.current,rn=xn.next,pn=Nt.cond(nn,".dirty");ar.forEach(function(yn){var Nn,Un;if(!((yn=jt(yn))in cn.state))if(yn in mn){Nn=mn[yn],Un=Cn[yn];var Xn=_(En[yn].length,function(er){return pn.def(Nn,"[",er,"]")});pn(Nt.cond(Xn.map(function(er,pr){return er+"!=="+Un+"["+pr+"]"}).join("||")).then(wn,".",fr[yn],"(",Xn,");",Xn.map(function(er,pr){return Un+"["+pr+"]="+er}).join(";"),";"))}else Nn=pn.def(rn,".",yn),Xn=Nt.cond(Nn,"!==",nn,".",yn),pn(Xn),yn in In?Xn(Nt.cond(Nn).then(wn,".enable(",In[yn],");").else(wn,".disable(",In[yn],");"),nn,".",yn,"=",Nn,";"):Xn(wn,".",fr[yn],"(",Nn,");",nn,".",yn,"=",Nn,";")}),0===Object.keys(cn.state).length&&pn(nn,".dirty=false;"),Yt(pn)}function hn(Nt,Yt,cn,xn){var wn,Cn=Nt.shared,mn=Nt.current,nn=Cn.current,rn=Cn.gl;W(Object.keys(cn)).forEach(function(pn){var yn=cn[pn];if(!xn||xn(yn)){var Nn=yn.append(Nt,Yt);if(In[pn]){var Un=In[pn];ae(yn)?(wn=Nt.link(Nn,{stable:!0}),Yt(Nt.cond(wn).then(rn,".enable(",Un,");").else(rn,".disable(",Un,");")),Yt(nn,".",pn,"=",wn,";")):(Yt(Nt.cond(Nn).then(rn,".enable(",Un,");").else(rn,".disable(",Un,");")),Yt(nn,".",pn,"=",Nn,";"))}else if(b(Nn)){var Xn=mn[pn];Yt(rn,".",fr[pn],"(",Nn,");",Nn.map(function(er,pr){return Xn+"["+pr+"]="+er}).join(";"),";")}else ae(yn)?(wn=Nt.link(Nn,{stable:!0}),Yt(rn,".",fr[pn],"(",wn,");",nn,".",pn,"=",wn,";")):Yt(rn,".",fr[pn],"(",Nn,");",nn,".",pn,"=",Nn,";")}})}function _n(Nt,Yt){fn&&(Nt.instancing=Yt.def(Nt.shared.extensions,".angle_instanced_arrays"))}function Dn(Nt,Yt,cn,xn,wn){function Cn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function mn(pr){pr(pn=Yt.def(),"=",Cn(),";"),"string"==typeof wn?pr(Un,".count+=",wn,";"):pr(Un,".count++;"),Ct&&(xn?pr(yn=Yt.def(),"=",er,".getNumPendingQueries();"):pr(er,".beginQuery(",Un,");"))}function nn(pr){pr(Un,".cpuTime+=",Cn(),"-",pn,";"),Ct&&(xn?pr(er,".pushScopeStats(",yn,",",er,".getNumPendingQueries(),",Un,");"):pr(er,".endQuery();"))}function rn(pr){var Qn=Yt.def(Xn,".profile");Yt(Xn,".profile=",pr,";"),Yt.exit(Xn,".profile=",Qn,";")}var pn,yn,Nn=Nt.shared,Un=Nt.stats,Xn=Nn.current,er=Nn.timer;if(cn=cn.profile){if(ae(cn))return void(cn.enable?(mn(Yt),nn(Yt.exit),rn("true")):rn("false"));rn(cn=cn.append(Nt,Yt))}else cn=Yt.def(Xn,".profile");mn(Nn=Nt.block()),Yt("if(",cn,"){",Nn,"}"),nn(Nt=Nt.block()),Yt.exit("if(",cn,"){",Nt,"}")}function Pn(Nt,Yt,cn,xn,wn){var mn=Nt.shared;xn.forEach(function(nn){var rn,pn=nn.name,yn=cn.attributes[pn];if(yn){if(!wn(yn))return;rn=yn.append(Nt,Yt)}else{if(!wn(tt))return;var Nn=Nt.scopeAttrib(pn);rn={},Object.keys(new cr).forEach(function(Un){rn[Un]=Yt.def(Nn,".",Un)})}!function Cn(nn,rn,pn){function yn(){Yt("if(!",er,".buffer){",Un,".enableVertexAttribArray(",Xn,");}");var vr,dr=pn.type;vr=pn.size?Yt.def(pn.size,"||",rn):rn,Yt("if(",er,".type!==",dr,"||",er,".size!==",vr,"||",qn.map(function(Dr){return er+"."+Dr+"!=="+pn[Dr]}).join("||"),"){",Un,".bindBuffer(",34962,",",pr,".buffer);",Un,".vertexAttribPointer(",[Xn,vr,dr,pn.normalized,pn.stride,pn.offset],");",er,".type=",dr,";",er,".size=",vr,";",qn.map(function(Dr){return er+"."+Dr+"="+pn[Dr]+";"}).join(""),"}"),fn&&Yt("if(",er,".divisor!==",dr=pn.divisor,"){",Nt.instancing,".vertexAttribDivisorANGLE(",[Xn,dr],");",er,".divisor=",dr,";}")}function Nn(){Yt("if(",er,".buffer){",Un,".disableVertexAttribArray(",Xn,");",er,".buffer=null;","}if(",st.map(function(vr,dr){return er+"."+vr+"!=="+Qn[dr]}).join("||"),"){",Un,".vertexAttrib4f(",Xn,",",Qn,");",st.map(function(vr,dr){return er+"."+vr+"="+Qn[dr]+";"}).join(""),"}")}var Un=mn.gl,Xn=Yt.def(nn,".location"),er=Yt.def(mn.attributes,"[",Xn,"]"),pr=pn.buffer,Qn=[pn.x,pn.y,pn.z,pn.w],qn=["buffer","normalized","offset","stride"];1===(nn=pn.state)?yn():2===nn?Nn():(Yt("if(",nn,"===",1,"){"),yn(),Yt("}else{"),Nn(),Yt("}"))}(Nt.link(nn),function(Un){switch(Un){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(nn.info.type),rn)})}function Yn(Nt,Yt,cn,xn,wn,Cn){for(var mn,nn=Nt.shared,rn=nn.gl,pn=0;pn<xn.length;++pn){var yn,Nn=(er=xn[pn]).name,Un=er.info.type,Xn=cn.uniforms[Nn],er=Nt.link(er)+".location";if(Xn){if(!wn(Xn))continue;if(ae(Xn)){if(Nn=Xn.value,35678===Un||35680===Un)Yt(rn,".uniform1i(",er,",",(Un=Nt.link(Nn._texture||Nn.color[0]._texture))+".bind());"),Yt.exit(Un,".unbind();");else if(35674===Un||35675===Un||35676===Un)Xn=2,35675===Un?Xn=3:35676===Un&&(Xn=4),Yt(rn,".uniformMatrix",Xn,"fv(",er,",false,",Nn=Nt.global.def("new Float32Array(["+Array.prototype.slice.call(Nn)+"])"),");");else{switch(Un){case 5126:mn="1f";break;case 35664:mn="2f";break;case 35665:mn="3f";break;case 35666:mn="4f";break;case 35670:case 5124:mn="1i";break;case 35671:case 35667:mn="2i";break;case 35672:case 35668:mn="3i";break;case 35673:case 35669:mn="4i"}Yt(rn,".uniform",mn,"(",er,",",b(Nn)?Array.prototype.slice.call(Nn):Nn,");")}continue}yn=Xn.append(Nt,Yt)}else{if(!wn(tt))continue;yn=Yt.def(nn.uniforms,"[",Qe.id(Nn),"]")}switch(35678===Un?Yt("if(",yn,"&&",yn,'._reglType==="framebuffer"){',yn,"=",yn,".color[0];","}"):35680===Un&&Yt("if(",yn,"&&",yn,'._reglType==="framebufferCube"){',yn,"=",yn,".color[0];","}"),Nn=1,Un){case 35678:case 35680:Un=Yt.def(yn,"._texture"),Yt(rn,".uniform1i(",er,",",Un,".bind());"),Yt.exit(Un,".unbind();");continue;case 5124:case 35670:mn="1i";break;case 35667:case 35671:mn="2i",Nn=2;break;case 35668:case 35672:mn="3i",Nn=3;break;case 35669:case 35673:mn="4i",Nn=4;break;case 5126:mn="1f";break;case 35664:mn="2f",Nn=2;break;case 35665:mn="3f",Nn=3;break;case 35666:mn="4f",Nn=4;break;case 35674:mn="Matrix2fv";break;case 35675:mn="Matrix3fv";break;case 35676:mn="Matrix4fv"}if("M"===mn.charAt(0)){Yt(rn,".uniform",mn,"(",er,","),er=Math.pow(Un-35674+2,2);var pr=Nt.global.def("new Float32Array(",er,")");Array.isArray(yn)?Yt("false,(",_(er,function(qn){return pr+"["+qn+"]="+yn[qn]}),",",pr,")"):Yt("false,(Array.isArray(",yn,")||",yn," instanceof Float32Array)?",yn,":(",_(er,function(qn){return pr+"["+qn+"]="+yn+"["+qn+"]"}),",",pr,")"),Yt(");")}else{if(1<Nn){Un=[];var Qn=[];for(Xn=0;Xn<Nn;++Xn)Array.isArray(yn)?Qn.push(yn[Xn]):Qn.push(Yt.def(yn+"["+Xn+"]")),Cn&&Un.push(Yt.def());Cn&&Yt("if(!",Nt.batchId,"||",Un.map(function(qn,vr){return qn+"!=="+Qn[vr]}).join("||"),"){",Un.map(function(qn,vr){return qn+"="+Qn[vr]+";"}).join("")),Yt(rn,".uniform",mn,"(",er,",",Qn.join(","),");")}else Cn&&(Un=Yt.def(),Yt("if(!",Nt.batchId,"||",Un,"!==",yn,"){",Un,"=",yn,";")),Yt(rn,".uniform",mn,"(",er,",",yn,");");Cn&&Yt("}")}}}function jn(Nt,Yt,cn,xn){function wn(dr){var Dr=Un[dr];return Dr?Dr.append(Nt,Dr.contextDep&&xn.contextDynamic||Dr.propDep?cn:Yt):Yt.def(Nn,".",dr)}function Cn(){function dr(){cn(rn,".drawElementsInstancedANGLE(",[er,Qn,qn,pr+"<<(("+qn+"-5121)>>1)",nn],");")}function Dr(){cn(rn,".drawArraysInstancedANGLE(",[er,pr,Qn,nn],");")}Xn&&"null"!==Xn?vr?dr():(cn("if(",Xn,"){"),dr(),cn("}else{"),Dr(),cn("}")):Dr()}function mn(){function dr(){cn(yn+".drawElements("+[er,Qn,qn,pr+"<<(("+qn+"-5121)>>1)"]+");")}function Dr(){cn(yn+".drawArrays("+[er,pr,Qn]+");")}Xn&&"null"!==Xn?vr?dr():(cn("if(",Xn,"){"),dr(),cn("}else{"),Dr(),cn("}")):Dr()}var nn,rn,dr,Dr,pn=Nt.shared,yn=pn.gl,Nn=pn.draw,Un=xn.draw,Xn=(Dr=Yt,(dr=Un.elements)?((dr.contextDep&&xn.contextDynamic||dr.propDep)&&(Dr=cn),dr=dr.append(Nt,Dr),Un.elementsActive&&Dr("if("+dr+")"+yn+".bindBuffer(34963,"+dr+".buffer.buffer);")):(dr=Dr.def(),Dr(dr,"=",Nn,".","elements",";","if(",dr,"){",yn,".bindBuffer(",34963,",",dr,".buffer.buffer);}","else if(",pn.vao,".currentVAO){",dr,"=",Nt.shared.elements+".getElements("+pn.vao,".currentVAO.elements);",Vn?"":"if("+dr+")"+yn+".bindBuffer(34963,"+dr+".buffer.buffer);","}")),dr),er=wn("primitive"),pr=wn("offset"),Qn=function(){var dr=Un.count,Dr=Yt;return dr?((dr.contextDep&&xn.contextDynamic||dr.propDep)&&(Dr=cn),dr=dr.append(Nt,Dr)):dr=Dr.def(Nn,".","count"),dr}();if("number"==typeof Qn){if(0===Qn)return}else cn("if(",Qn,"){"),cn.exit("}");fn&&(nn=wn("instances"),rn=Nt.instancing);var qn=Xn+".type",vr=Un.elements&&ae(Un.elements)&&!Un.vaoActive;fn&&("number"!=typeof nn||0<=nn)?"string"==typeof nn?(cn("if(",nn,">0){"),Cn(),cn("}else if(",nn,"<0){"),mn(),cn("}")):Cn():mn()}function Fn(Nt,Yt,cn,xn,wn){return wn=(Yt=Jt()).proc("body",wn),fn&&(Yt.instancing=wn.def(Yt.shared.extensions,".angle_instanced_arrays")),Nt(Yt,wn,cn,xn),Yt.compile().body}function Jn(Nt,Yt,cn,xn){_n(Nt,Yt),cn.useVAO?cn.drawVAO?Yt(Nt.shared.vao,".setVAO(",cn.drawVAO.append(Nt,Yt),");"):Yt(Nt.shared.vao,".setVAO(",Nt.shared.vao,".targetVAO);"):(Yt(Nt.shared.vao,".setVAO(null);"),Pn(Nt,Yt,cn,xn.attributes,function(){return!0})),Yn(Nt,Yt,cn,xn.uniforms,function(){return!0},!1),jn(Nt,Yt,Yt,cn)}function $n(Nt,Yt,cn,xn){function wn(){return!0}Nt.batchId="a1",_n(Nt,Yt),Pn(Nt,Yt,cn,xn.attributes,wn),Yn(Nt,Yt,cn,xn.uniforms,wn,!1),jn(Nt,Yt,Yt,cn)}function nr(Nt,Yt,cn,xn){function wn(Nn){return Nn.contextDep&&mn||Nn.propDep}function Cn(Nn){return!wn(Nn)}_n(Nt,Yt);var mn=cn.contextDep,nn=Yt.def(),rn=Yt.def();Nt.shared.props=rn,Nt.batchId=nn;var pn=Nt.scope(),yn=Nt.scope();Yt(pn.entry,"for(",nn,"=0;",nn,"<","a1",";++",nn,"){",rn,"=","a0","[",nn,"];",yn,"}",pn.exit),cn.needsContext&&Mn(Nt,yn,cn.context),cn.needsFramebuffer&&ln(Nt,yn,cn.framebuffer),hn(Nt,yn,cn.state,wn),cn.profile&&wn(cn.profile)&&Dn(Nt,yn,cn,!1,!0),xn?(cn.useVAO?cn.drawVAO?wn(cn.drawVAO)?yn(Nt.shared.vao,".setVAO(",cn.drawVAO.append(Nt,yn),");"):pn(Nt.shared.vao,".setVAO(",cn.drawVAO.append(Nt,pn),");"):pn(Nt.shared.vao,".setVAO(",Nt.shared.vao,".targetVAO);"):(pn(Nt.shared.vao,".setVAO(null);"),Pn(Nt,pn,cn,xn.attributes,Cn),Pn(Nt,yn,cn,xn.attributes,wn)),Yn(Nt,pn,cn,xn.uniforms,Cn,!1),Yn(Nt,yn,cn,xn.uniforms,wn,!0),jn(Nt,pn,yn,cn)):(Yt=Nt.global.def("{}"),xn=cn.shader.progVar.append(Nt,yn),rn=yn.def(xn,".id"),pn=yn.def(Yt,"[",rn,"]"),yn(Nt.shared.gl,".useProgram(",xn,".program);","if(!",pn,"){",pn,"=",Yt,"[",rn,"]=",Nt.link(function(Nn){return Fn($n,Nt,cn,Nn,2)}),"(",xn,");}",pn,".call(this,a0[",nn,"],",nn,");"))}function lr(Nt,Yt,cn){var xn=Yt.static[cn];if(xn&&function(yn){if("object"==typeof yn&&!b(yn)){for(var Nn=Object.keys(yn),Un=0;Un<Nn.length;++Un)if(fe.isDynamic(yn[Nn[Un]]))return!0;return!1}}(xn)){var wn=Nt.global,Cn=Object.keys(xn),mn=!1,nn=!1,rn=!1,pn=Nt.global.def("{}");Cn.forEach(function(yn){var Nn=xn[yn];if(fe.isDynamic(Nn))"function"==typeof Nn&&(Nn=xn[yn]=fe.unbox(Nn)),yn=Q(Nn,null),mn=mn||yn.thisDep,rn=rn||yn.propDep,nn=nn||yn.contextDep;else{switch(wn(pn,".",yn,"="),typeof Nn){case"number":wn(Nn);break;case"string":wn('"',Nn,'"');break;case"object":Array.isArray(Nn)&&wn("[",Nn.join(),"]");break;default:wn(Nt.link(Nn))}wn(";")}}),Yt.dynamic[cn]=new fe.DynamicVariable(4,{thisDep:mn,contextDep:nn,propDep:rn,ref:pn,append:function(yn,Nn){Cn.forEach(function(Un){var Xn=xn[Un];fe.isDynamic(Xn)&&(Xn=yn.invoke(Nn,Xn),Nn(pn,".",Un,"=",Xn,";"))})}}),delete Yt.static[cn]}}var cr=wt.Record,Ar={add:32774,subtract:32778,"reverse subtract":32779};pt.ext_blend_minmax&&(Ar.min=32775,Ar.max=32776);var fn=pt.angle_instanced_arrays,an=pt.webgl_draw_buffers,Vn=pt.oes_vertex_array_object,En={dirty:!0,profile:Bt.profile},Wn={},ar=[],In={},fr={};Gt("dither",3024),Gt("blend.enable",3042),on("blend.color","blendColor",[0,0,0,0]),on("blend.equation","blendEquationSeparate",[32774,32774]),on("blend.func","blendFuncSeparate",[1,0,1,0]),Gt("depth.enable",2929,!0),on("depth.func","depthFunc",513),on("depth.range","depthRange",[0,1]),on("depth.mask","depthMask",!0),on("colorMask","colorMask",[!0,!0,!0,!0]),Gt("cull.enable",2884),on("cull.face","cullFace",1029),on("frontFace","frontFace",2305),on("lineWidth","lineWidth",1),Gt("polygonOffset.enable",32823),on("polygonOffset.offset","polygonOffset",[0,0]),Gt("sample.alpha",32926),Gt("sample.enable",32928),on("sample.coverage","sampleCoverage",[1,!1]),Gt("stencil.enable",2960),on("stencil.mask","stencilMask",-1),on("stencil.func","stencilFunc",[519,0,-1]),on("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),on("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Gt("scissor.enable",3089),on("scissor.box","scissor",[0,0,Ge.drawingBufferWidth,Ge.drawingBufferHeight]),on("viewport","viewport",[0,0,Ge.drawingBufferWidth,Ge.drawingBufferHeight]);var ur={gl:Ge,context:Ot,strings:Qe,next:Wn,current:En,draw:yt,elements:qe,buffer:He,shader:At,attributes:wt.state,vao:wt,uniforms:xt,framebuffer:et,extensions:pt,timer:Ct,isBufferArgs:j},Kt={primTypes:Pe,compareFuncs:Ht,blendFuncs:Ut,blendEquations:Ar,stencilOps:Pt,glTypes:Se,orientationType:Je};an&&(Kt.backBuffer=[1029],Kt.drawBuffer=_(ct.maxDrawbuffers,function(Nt){return 0===Nt?[0]:_(Nt,function(Yt){return 36064+Yt})}));var An=0;return{next:Wn,current:En,procs:function(){var Nt=Jt(),Yt=Nt.proc("poll"),cn=Nt.proc("refresh"),xn=Nt.block();Yt(xn),cn(xn);var wn,Cn=(rn=Nt.shared).gl,mn=rn.next,nn=rn.current;xn(nn,".dirty=false;"),ln(Nt,Yt),ln(Nt,cn,null,!0),fn&&(wn=Nt.link(fn)),pt.oes_vertex_array_object&&cn(Nt.link(pt.oes_vertex_array_object),".bindVertexArrayOES(null);");var rn=cn.def(rn.attributes),pn=cn.def(0),yn=Nt.cond(pn,".buffer");yn.then(Cn,".enableVertexAttribArray(i);",Cn,".bindBuffer(",34962,",",pn,".buffer.buffer);",Cn,".vertexAttribPointer(i,",pn,".size,",pn,".type,",pn,".normalized,",pn,".stride,",pn,".offset);").else(Cn,".disableVertexAttribArray(i);",Cn,".vertexAttrib4f(i,",pn,".x,",pn,".y,",pn,".z,",pn,".w);",pn,".buffer=null;");var Nn=Nt.link(ct.maxAttributes,{stable:!0});return cn("for(var i=0;i<",Nn,";++i){",pn,"=",rn,"[i];",yn,"}"),fn&&cn("for(var i=0;i<",Nn,";++i){",wn,".vertexAttribDivisorANGLE(i,",rn,"[i].divisor);","}"),cn(Nt.shared.vao,".currentVAO=null;",Nt.shared.vao,".setVAO(",Nt.shared.vao,".targetVAO);"),Object.keys(In).forEach(function(Un){var Xn=In[Un],er=xn.def(mn,".",Un),pr=Nt.block();pr("if(",er,"){",Cn,".enable(",Xn,")}else{",Cn,".disable(",Xn,")}",nn,".",Un,"=",er,";"),cn(pr),Yt("if(",er,"!==",nn,".",Un,"){",pr,"}")}),Object.keys(fr).forEach(function(Un){var Xn,er,pr=fr[Un],Qn=En[Un],qn=Nt.block();qn(Cn,".",pr,"("),b(Qn)?(pr=Qn.length,Xn=Nt.global.def(mn,".",Un),er=Nt.global.def(nn,".",Un),qn(_(pr,function(vr){return Xn+"["+vr+"]"}),");",_(pr,function(vr){return er+"["+vr+"]="+Xn+"["+vr+"];"}).join("")),Yt("if(",_(pr,function(vr){return Xn+"["+vr+"]!=="+er+"["+vr+"]"}).join("||"),"){",qn,"}")):(Xn=xn.def(mn,".",Un),er=xn.def(nn,".",Un),qn(Xn,");",nn,".",Un,"=",Xn,";"),Yt("if(",Xn,"!==",er,"){",qn,"}")),cn(qn)}),Nt.compile()}(),compile:function(Nt,Yt,cn,xn,wn){var Cn=Jt();Cn.stats=Cn.link(wn),Object.keys(Yt.static).forEach(function(nn){lr(Cn,Yt,nn)}),Lt.forEach(function(nn){lr(Cn,Nt,nn)});var mn=zn(Nt,Yt,cn,xn);return mn.shader.program&&(mn.shader.program.attributes.sort(function(nn,rn){return nn.name<rn.name?-1:1}),mn.shader.program.uniforms.sort(function(nn,rn){return nn.name<rn.name?-1:1})),function(nn,rn){var pn=nn.proc("draw",1);_n(nn,pn),Mn(nn,pn,rn.context),ln(nn,pn,rn.framebuffer),vn(nn,pn,rn),hn(nn,pn,rn.state),Dn(nn,pn,rn,!1,!0);var yn=rn.shader.progVar.append(nn,pn);if(pn(nn.shared.gl,".useProgram(",yn,".program);"),rn.shader.program)Jn(nn,pn,rn,rn.shader.program);else{pn(nn.shared.vao,".setVAO(null);");var Nn=nn.global.def("{}"),Un=pn.def(yn,".id"),Xn=pn.def(Nn,"[",Un,"]");pn(nn.cond(Xn).then(Xn,".call(this,a0);").else(Xn,"=",Nn,"[",Un,"]=",nn.link(function(er){return Fn(Jn,nn,rn,er,1)}),"(",yn,");",Xn,".call(this,a0);"))}0<Object.keys(rn.state).length&&pn(nn.shared.current,".dirty=true;"),nn.shared.vao&&pn(nn.shared.vao,".setVAO(null);")}(Cn,mn),function or(Nt,Yt){function cn(nn){var rn=Yt.shader[nn];rn&&(rn=rn.append(Nt,xn),isNaN(rn)?xn.set(wn.shader,"."+nn,rn):xn.set(wn.shader,"."+nn,Nt.link(rn,{stable:!0})))}var xn=Nt.proc("scope",3);Nt.batchId="a2";var wn=Nt.shared,Cn=wn.current;if(Mn(Nt,xn,Yt.context),Yt.framebuffer&&Yt.framebuffer.append(Nt,xn),W(Object.keys(Yt.state)).forEach(function(nn){var rn=Yt.state[nn],pn=rn.append(Nt,xn);b(pn)?pn.forEach(function(yn,Nn){isNaN(yn)?xn.set(Nt.next[nn],"["+Nn+"]",yn):xn.set(Nt.next[nn],"["+Nn+"]",Nt.link(yn,{stable:!0}))}):ae(rn)?xn.set(wn.next,"."+nn,Nt.link(pn,{stable:!0})):xn.set(wn.next,"."+nn,pn)}),Dn(Nt,xn,Yt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(nn){var rn=Yt.draw[nn];rn&&(rn=rn.append(Nt,xn),isNaN(rn)?xn.set(wn.draw,"."+nn,rn):xn.set(wn.draw,"."+nn,Nt.link(rn),{stable:!0}))}),Object.keys(Yt.uniforms).forEach(function(nn){var rn=Yt.uniforms[nn].append(Nt,xn);Array.isArray(rn)&&(rn="["+rn.map(function(pn){return isNaN(pn)?pn:Nt.link(pn,{stable:!0})})+"]"),xn.set(wn.uniforms,"["+Nt.link(Qe.id(nn),{stable:!0})+"]",rn)}),Object.keys(Yt.attributes).forEach(function(nn){var rn=Yt.attributes[nn].append(Nt,xn),pn=Nt.scopeAttrib(nn);Object.keys(new cr).forEach(function(yn){xn.set(pn,"."+yn,rn[yn])})}),Yt.scopeVAO){var mn=Yt.scopeVAO.append(Nt,xn);isNaN(mn)?xn.set(wn.vao,".targetVAO",mn):xn.set(wn.vao,".targetVAO",Nt.link(mn,{stable:!0}))}cn("vert"),cn("frag"),0<Object.keys(Yt.state).length&&(xn(Cn,".dirty=true;"),xn.exit(Cn,".dirty=true;")),xn("a1(",Nt.shared.context,",a0,",Nt.batchId,");")}(Cn,mn),function(nn,rn){function pn(Qn){return Qn.contextDep&&Nn||Qn.propDep}var yn=nn.proc("batch",2);nn.batchId="0",_n(nn,yn);var Nn=!1,Un=!0;Object.keys(rn.context).forEach(function(Qn){Nn=Nn||rn.context[Qn].propDep}),Nn||(Mn(nn,yn,rn.context),Un=!1);var Xn=!1;if((er=rn.framebuffer)?(er.propDep?Nn=Xn=!0:er.contextDep&&Nn&&(Xn=!0),Xn||ln(nn,yn,er)):ln(nn,yn,null),rn.state.viewport&&rn.state.viewport.propDep&&(Nn=!0),vn(nn,yn,rn),hn(nn,yn,rn.state,function(Qn){return!pn(Qn)}),rn.profile&&pn(rn.profile)||Dn(nn,yn,rn,!1,"a1"),rn.contextDep=Nn,rn.needsContext=Un,rn.needsFramebuffer=Xn,(Un=rn.shader.progVar).contextDep&&Nn||Un.propDep)nr(nn,yn,rn,null);else if(Un=Un.append(nn,yn),yn(nn.shared.gl,".useProgram(",Un,".program);"),rn.shader.program)nr(nn,yn,rn,rn.shader.program);else{yn(nn.shared.vao,".setVAO(null);");var er=nn.global.def("{}"),pr=(Xn=yn.def(Un,".id"),yn.def(er,"[",Xn,"]"));yn(nn.cond(pr).then(pr,".call(this,a0,a1);").else(pr,"=",er,"[",Xn,"]=",nn.link(function(Qn){return Fn(nr,nn,rn,Qn,2)}),"(",Un,");",pr,".call(this,a0,a1);"))}0<Object.keys(rn.state).length&&yn(nn.shared.current,".dirty=true;"),nn.shared.vao&&yn(nn.shared.vao,".setVAO(null);")}(Cn,mn),J(Cn.compile(),{destroy:function(){mn.shader.program.destroy()}})}}}function re(Ge,Qe){for(var pt=0;pt<Ge.length;++pt)if(Ge[pt]===Qe)return pt;return-1}var J=function(Ge,Qe){for(var pt=Object.keys(Qe),ct=0;ct<pt.length;++ct)Ge[pt[ct]]=Qe[pt[ct]];return Ge},le=0,fe={DynamicVariable:z,define:function(Ge,Qe){return new z(Ge,S(Qe+""))},isDynamic:function(Ge){return"function"==typeof Ge&&!Ge._reglType||Ge instanceof z},unbox:function Ge(Qe,pt){return"function"==typeof Qe?new z(0,Qe):"number"==typeof Qe||"boolean"==typeof Qe?new z(5,Qe):Array.isArray(Qe)?new z(6,Qe.map(function(ct,He){return Ge(ct,pt+"["+He+"]")})):Qe instanceof z?Qe:void 0},accessor:S},ce={next:"function"==typeof requestAnimationFrame?function(Ge){return requestAnimationFrame(Ge)}:function(Ge){return setTimeout(Ge,16)},cancel:"function"==typeof cancelAnimationFrame?function(Ge){return cancelAnimationFrame(Ge)}:clearTimeout},ge=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Te=s();Te.zero=s();var we=function(Ge){return Ge instanceof Uint8Array||Ge instanceof Uint16Array||Ge instanceof Uint32Array||Ge instanceof Int8Array||Ge instanceof Int16Array||Ge instanceof Int32Array||Ge instanceof Float32Array||Ge instanceof Float64Array||Ge instanceof Uint8ClampedArray},xe=function(Ge){return Object.keys(Ge).map(function(Qe){return Ge[Qe]})},be={shape:function(Ge){for(var Qe=[];Ge.length;Ge=Ge[0])Qe.push(Ge.length);return Qe},flatten:function(Ge,Qe,pt,ct){var He=1;if(Qe.length)for(var qe=0;qe<Qe.length;++qe)He*=Qe[qe];else He=0;switch(pt=ct||Te.allocType(pt,He),Qe.length){case 0:break;case 1:for(ct=Qe[0],Qe=0;Qe<ct;++Qe)pt[Qe]=Ge[Qe];break;case 2:for(ct=Qe[0],Qe=Qe[1],qe=He=0;qe<ct;++qe)for(var ft=Ge[qe],et=0;et<Qe;++et)pt[He++]=ft[et];break;case 3:i(Ge,Qe[0],Qe[1],Qe[2],pt,0);break;default:n(Ge,Qe,0,pt,0)}return pt}},ye={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Se={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ee={dynamic:35048,stream:35040,static:35044},he=be.flatten,ue=be.shape,me=[];me[5120]=1,me[5122]=2,me[5124]=4,me[5121]=1,me[5123]=2,me[5125]=4,me[5126]=4;var Pe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ce=new Float32Array(1),Ie=new Uint32Array(Ce.buffer),Oe=[9984,9986,9985,9987],ze=[0,6409,6410,6407,6408],je={};je[6409]=je[6406]=je[6402]=1,je[34041]=je[6410]=2,je[6407]=je[35904]=3,je[6408]=je[35906]=4;var ve=p("HTMLCanvasElement"),Ae=p("OffscreenCanvas"),Le=p("CanvasRenderingContext2D"),Ve=p("ImageBitmap"),Ne=p("HTMLImageElement"),We=p("HTMLVideoElement"),Xe=Object.keys(ye).concat([ve,Ae,Le,Ve,Ne,We]),nt=[];nt[5121]=1,nt[5126]=4,nt[36193]=2,nt[5123]=2,nt[5125]=4;var dt=[];dt[32854]=2,dt[32855]=2,dt[36194]=2,dt[34041]=4,dt[33776]=.5,dt[33777]=.5,dt[33778]=1,dt[33779]=1,dt[35986]=.5,dt[35987]=1,dt[34798]=1,dt[35840]=.5,dt[35841]=.25,dt[35842]=.5,dt[35843]=.25,dt[36196]=.5;var ht=[];ht[32854]=2,ht[32855]=2,ht[36194]=2,ht[33189]=2,ht[36168]=1,ht[34041]=4,ht[35907]=4,ht[34836]=16,ht[34842]=8,ht[34843]=6;var kt=[];kt[6408]=4,kt[6407]=3;var _t=[];_t[5121]=1,_t[5126]=4,_t[36193]=2;var ut=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],st=["x","y","z","w"],Lt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ut={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ht={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Pt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Je={cw:2304,ccw:2305},tt=new G(!1,!1,!1,function(){});return function(Ge){function Qe(){if(0===$n.length)$t&&$t.update(),cr=null;else{cr=ce.next(Qe),At();for(var fn=$n.length-1;0<=fn;--fn){var an=$n[fn];an&&an(zn,null,0)}Ct.flush(),$t&&$t.update()}}function pt(){!cr&&0<$n.length&&(cr=ce.next(Qe))}function ct(){cr&&(ce.cancel(Qe),cr=null)}function He(fn){fn.preventDefault(),ct(),nr.forEach(function(an){an()})}function qe(fn){Ct.getError(),Bt.restore(),_n.restore(),ln.restore(),Dn.restore(),Pn.restore(),Yn.restore(),hn.restore(),$t&&$t.restore(),jn.procs.refresh(),pt(),or.forEach(function(an){an()})}function ft(fn){function an(Nt,Yt){var cn={},xn={};return Object.keys(Nt).forEach(function(wn){var Cn=Nt[wn];if(fe.isDynamic(Cn))xn[wn]=fe.unbox(Cn,wn);else{if(Yt&&Array.isArray(Cn))for(var mn=0;mn<Cn.length;++mn)if(fe.isDynamic(Cn[mn]))return void(xn[wn]=fe.unbox(Cn,wn));cn[wn]=Cn}}),{dynamic:xn,static:cn}}var Vn=an(fn.context||{},!0),En=an(fn.uniforms||{},!0),Wn=an(fn.attributes||{},!1);fn=an(function(Nt){function Yt(xn){if(xn in cn){var wn=cn[xn];delete cn[xn],Object.keys(wn).forEach(function(Cn){cn[xn+"."+Cn]=wn[Cn]})}}var cn=J({},Nt);return delete cn.uniforms,delete cn.attributes,delete cn.context,delete cn.vao,"stencil"in cn&&cn.stencil.op&&(cn.stencil.opBack=cn.stencil.opFront=cn.stencil.op,delete cn.stencil.op),Yt("blend"),Yt("depth"),Yt("cull"),Yt("stencil"),Yt("polygonOffset"),Yt("scissor"),Yt("sample"),"vao"in Nt&&(cn.vao=Nt.vao),cn}(fn),!1);var ar={gpuTime:0,cpuTime:0,count:0},In=jn.compile(fn,Wn,En,Vn,ar),fr=In.draw,ur=In.batch,Kt=In.scope,An=[];return J(function(Nt,Yt){var cn;if("function"==typeof Nt)return Kt.call(this,null,Nt,0);if("function"==typeof Yt)if("number"==typeof Nt)for(cn=0;cn<Nt;++cn)Kt.call(this,null,Yt,cn);else{if(!Array.isArray(Nt))return Kt.call(this,Nt,Yt,0);for(cn=0;cn<Nt.length;++cn)Kt.call(this,Nt[cn],Yt,cn)}else if("number"==typeof Nt){if(0<Nt)return ur.call(this,function(xn){for(;An.length<xn;)An.push(null);return An}(0|Nt),0|Nt)}else{if(!Array.isArray(Nt))return fr.call(this,Nt);if(Nt.length)return ur.call(this,Nt,Nt.length)}},{stats:ar,destroy:function(){In.destroy()}})}function et(fn,an){var Vn=0;jn.procs.poll();var En=an.color;En&&(Ct.clearColor(+En[0]||0,+En[1]||0,+En[2]||0,+En[3]||0),Vn|=16384),"depth"in an&&(Ct.clearDepth(+an.depth),Vn|=256),"stencil"in an&&(Ct.clearStencil(0|an.stencil),Vn|=1024),Ct.clear(Vn)}function xt(fn){return $n.push(fn),pt(),{cancel:function(){var an=re($n,fn);$n[an]=function Vn(){var En=re($n,Vn);$n[En]=$n[$n.length-1],--$n.length,0>=$n.length&&ct()}}}}function wt(){var fn=Fn.viewport,an=Fn.scissor_box;fn[0]=fn[1]=an[0]=an[1]=0,zn.viewportWidth=zn.framebufferWidth=zn.drawingBufferWidth=fn[2]=an[2]=Ct.drawingBufferWidth,zn.viewportHeight=zn.framebufferHeight=zn.drawingBufferHeight=fn[3]=an[3]=Ct.drawingBufferHeight}function At(){zn.tick+=1,zn.time=Ot(),wt(),jn.procs.poll()}function yt(){Dn.refresh(),wt(),jn.procs.refresh(),$t&&$t.update()}function Ot(){return(ge()-tn)/1e3}if(!(Ge=function M(Ge){var Qe,pt,ct,He,qe=Ge||{};Ge={};var ft=[],et=[],xt=typeof window>"u"?1:window.devicePixelRatio,wt=!1,At={},yt=function(Ct){},Ot=function(){};if("string"==typeof qe?Qe=document.querySelector(qe):"object"==typeof qe&&("string"==typeof qe.nodeName&&"function"==typeof qe.appendChild&&"function"==typeof qe.getBoundingClientRect?Qe=qe:"function"==typeof qe.drawArrays||"function"==typeof qe.drawElements?ct=(He=qe).canvas:("gl"in qe?He=qe.gl:"canvas"in qe?ct=a(qe.canvas):"container"in qe&&(pt=a(qe.container)),"attributes"in qe&&(Ge=qe.attributes),"extensions"in qe&&(ft=A(qe.extensions)),"optionalExtensions"in qe&&(et=A(qe.optionalExtensions)),"onDone"in qe&&(yt=qe.onDone),"profile"in qe&&(wt=!!qe.profile),"pixelRatio"in qe&&(xt=+qe.pixelRatio),"cachedCode"in qe&&(At=qe.cachedCode))),Qe&&("canvas"===Qe.nodeName.toLowerCase()?ct=Qe:pt=Qe),!He){if(!ct){if(!(Qe=function(Ct,Rt,Bt){function jt(){var Jt=window.innerWidth,$t=window.innerHeight;Ct!==document.body&&(Jt=($t=on.getBoundingClientRect()).right-$t.left,$t=$t.bottom-$t.top),on.width=Bt*Jt,on.height=Bt*$t}var Gt,on=document.createElement("canvas");return J(on.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Ct.appendChild(on),Ct===document.body&&(on.style.position="absolute",J(Ct.style,{margin:0,padding:0})),Ct!==document.body&&"function"==typeof ResizeObserver?(Gt=new ResizeObserver(function(){setTimeout(jt)})).observe(Ct):window.addEventListener("resize",jt,!1),jt(),{canvas:on,onDestroy:function(){Gt?Gt.disconnect():window.removeEventListener("resize",jt),Ct.removeChild(on)}}}(pt||document.body,0,xt)))return null;ct=Qe.canvas,Ot=Qe.onDestroy}void 0===Ge.premultipliedAlpha&&(Ge.premultipliedAlpha=!0),He=function(Ct,Rt){function Bt(jt){try{return Ct.getContext(jt,Rt)}catch{return null}}return Bt("webgl")||Bt("experimental-webgl")||Bt("webgl-experimental")}(ct,Ge)}return He?{gl:He,canvas:ct,container:pt,extensions:ft,optionalExtensions:et,pixelRatio:xt,profile:wt,cachedCode:At,onDone:yt,onDestroy:Ot}:(Ot(),yt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}(Ge)))return null;var Ct=Ge.gl,Rt=Ct.getContextAttributes();Ct.isContextLost();var Bt=function(fn,an){function Vn(In){var fr;In=In.toLowerCase();try{fr=En[In]=fn.getExtension(In)}catch{}return!!fr}for(var En={},Wn=0;Wn<an.extensions.length;++Wn){var ar=an.extensions[Wn];if(!Vn(ar))return an.onDestroy(),an.onDone('"'+ar+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return an.optionalExtensions.forEach(Vn),{extensions:En,restore:function(){Object.keys(En).forEach(function(In){if(En[In]&&!Vn(In))throw Error("(regl): error restoring extension "+In)})}}}(Ct,Ge);if(!Bt)return null;var fn,an,jt=(fn={"":0},an=[""],{id:function(Vn){var En=fn[Vn];return En||(En=fn[Vn]=an.length,an.push(Vn),En)},str:function(Vn){return an[Vn]}}),Gt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},on=Ge.cachedCode||{},Jt=Bt.extensions,$t=function(fn,an){function Vn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function En(An,Nt,Yt){var cn=In.pop()||new Vn;cn.startQueryIndex=An,cn.endQueryIndex=Nt,cn.sum=0,cn.stats=Yt,fr.push(cn)}if(!an.ext_disjoint_timer_query)return null;var Wn=[],ar=[],In=[],fr=[],ur=[],Kt=[];return{beginQuery:function(An){var Nt=Wn.pop()||an.ext_disjoint_timer_query.createQueryEXT();an.ext_disjoint_timer_query.beginQueryEXT(35007,Nt),ar.push(Nt),En(ar.length-1,ar.length,An)},endQuery:function(){an.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:En,update:function(){var An,Nt;if(0!==(An=ar.length)){Kt.length=Math.max(Kt.length,An+1),ur.length=Math.max(ur.length,An+1),ur[0]=0;var Yt=Kt[0]=0;for(Nt=An=0;Nt<ar.length;++Nt){var cn=ar[Nt];an.ext_disjoint_timer_query.getQueryObjectEXT(cn,34919)?(Yt+=an.ext_disjoint_timer_query.getQueryObjectEXT(cn,34918),Wn.push(cn)):ar[An++]=cn,ur[Nt+1]=Yt,Kt[Nt+1]=An}for(ar.length=An,Nt=An=0;Nt<fr.length;++Nt){var xn=(Yt=fr[Nt]).startQueryIndex;Yt.sum+=ur[cn=Yt.endQueryIndex]-ur[xn],(cn=Kt[cn])===(xn=Kt[xn])?(Yt.stats.gpuTime+=Yt.sum/1e6,In.push(Yt)):(Yt.startQueryIndex=xn,Yt.endQueryIndex=cn,fr[An++]=Yt)}fr.length=An}},getNumPendingQueries:function(){return ar.length},clear:function(){Wn.push.apply(Wn,ar);for(var An=0;An<Wn.length;An++)an.ext_disjoint_timer_query.deleteQueryEXT(Wn[An]);ar.length=0,Wn.length=0},restore:function(){ar.length=0,Wn.length=0}}}(0,Jt),tn=ge(),dn=Ct.drawingBufferWidth,Gn=Ct.drawingBufferHeight,zn={tick:0,time:0,viewportWidth:dn,viewportHeight:Gn,framebufferWidth:dn,framebufferHeight:Gn,drawingBufferWidth:dn,drawingBufferHeight:Gn,pixelRatio:Ge.pixelRatio},Mn=(dn={elements:null,primitive:4,count:-1,offset:0,instances:-1},function(Ge,Qe){var pt=1;Qe.ext_texture_filter_anisotropic&&(pt=Ge.getParameter(34047));var ct=1,He=1;Qe.webgl_draw_buffers&&(ct=Ge.getParameter(34852),He=Ge.getParameter(36063));var qe=!!Qe.oes_texture_float;if(qe){qe=Ge.createTexture(),Ge.bindTexture(3553,qe),Ge.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ft=Ge.createFramebuffer();if(Ge.bindFramebuffer(36160,ft),Ge.framebufferTexture2D(36160,36064,3553,qe,0),Ge.bindTexture(3553,null),36053!==Ge.checkFramebufferStatus(36160))qe=!1;else{Ge.viewport(0,0,1,1),Ge.clearColor(1,0,0,1),Ge.clear(16384);var et=Te.allocType(5126,4);Ge.readPixels(0,0,1,1,6408,5126,et),Ge.getError()?qe=!1:(Ge.deleteFramebuffer(ft),Ge.deleteTexture(qe),qe=1===et[0]),Te.freeType(et)}}return et=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(et=Ge.createTexture(),ft=Te.allocType(5121,36),Ge.activeTexture(33984),Ge.bindTexture(34067,et),Ge.texImage2D(34069,0,6408,3,3,0,6408,5121,ft),Te.freeType(ft),Ge.bindTexture(34067,null),Ge.deleteTexture(et),et=!Ge.getError()),{colorBits:[Ge.getParameter(3410),Ge.getParameter(3411),Ge.getParameter(3412),Ge.getParameter(3413)],depthBits:Ge.getParameter(3414),stencilBits:Ge.getParameter(3415),subpixelBits:Ge.getParameter(3408),extensions:Object.keys(Qe).filter(function(xt){return!!Qe[xt]}),maxAnisotropic:pt,maxDrawbuffers:ct,maxColorAttachments:He,pointSizeDims:Ge.getParameter(33901),lineWidthDims:Ge.getParameter(33902),maxViewportDims:Ge.getParameter(3386),maxCombinedTextureUnits:Ge.getParameter(35661),maxCubeMapSize:Ge.getParameter(34076),maxRenderbufferSize:Ge.getParameter(34024),maxTextureUnits:Ge.getParameter(34930),maxTextureSize:Ge.getParameter(3379),maxAttributes:Ge.getParameter(34921),maxVertexUniforms:Ge.getParameter(36347),maxVertexTextureUnits:Ge.getParameter(35660),maxVaryingVectors:Ge.getParameter(36348),maxFragmentUniforms:Ge.getParameter(36349),glsl:Ge.getParameter(35724),renderer:Ge.getParameter(7937),vendor:Ge.getParameter(7936),version:Ge.getParameter(7938),readFloat:qe,npotTextureCube:et}}(Ct,Jt)),ln=function l(Ge,Qe,pt,ct){function He(yt){this.id=xt++,this.buffer=Ge.createBuffer(),this.type=yt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,pt.profile&&(this.stats={size:0})}function qe(yt,Ot,Ct){yt.byteLength=Ot.byteLength,Ge.bufferData(yt.type,Ot,Ct)}function ft(yt,Ot,Ct,Rt,Bt,jt){if(yt.usage=Ct,Array.isArray(Ot)){if(yt.dtype=Rt||5126,0<Ot.length)if(Array.isArray(Ot[0])){Bt=ue(Ot);for(var Gt=Rt=1;Gt<Bt.length;++Gt)Rt*=Bt[Gt];yt.dimension=Rt,qe(yt,Ot=he(Ot,Bt,yt.dtype),Ct),jt?yt.persistentData=Ot:Te.freeType(Ot)}else"number"==typeof Ot[0]?(yt.dimension=Bt,o(Bt=Te.allocType(yt.dtype,Ot.length),Ot),qe(yt,Bt,Ct),jt?yt.persistentData=Bt:Te.freeType(Bt)):we(Ot[0])&&(yt.dimension=Ot[0].length,yt.dtype=Rt||r(Ot[0])||5126,qe(yt,Ot=he(Ot,[Ot.length,Ot[0].length],yt.dtype),Ct),jt?yt.persistentData=Ot:Te.freeType(Ot))}else if(we(Ot))yt.dtype=Rt||r(Ot),yt.dimension=Bt,qe(yt,Ot,Ct),jt&&(yt.persistentData=new Uint8Array(new Uint8Array(Ot.buffer)));else if(t(Ot)){var on=Ot.stride,Jt=(Gt=Ot.offset,0),$t=0,tn=0,dn=0;1===(Bt=Ot.shape).length?(Jt=Bt[0],$t=1,tn=on[0],dn=0):2===Bt.length&&(Jt=Bt[0],$t=Bt[1],tn=on[0],dn=on[1]),yt.dtype=Rt||r(Ot.data)||5126,yt.dimension=$t,u(Bt=Te.allocType(yt.dtype,Jt*$t),Ot.data,Jt,$t,tn,dn,Gt),qe(yt,Bt,Ct),jt?yt.persistentData=Bt:Te.freeType(Bt)}else Ot instanceof ArrayBuffer&&(yt.dtype=5121,yt.dimension=Bt,qe(yt,Ot,Ct),jt&&(yt.persistentData=new Uint8Array(new Uint8Array(Ot))))}function et(yt){Qe.bufferCount--,ct(yt),Ge.deleteBuffer(yt.buffer),yt.buffer=null,delete wt[yt.id]}var xt=0,wt={};He.prototype.bind=function(){Ge.bindBuffer(this.type,this.buffer)},He.prototype.destroy=function(){et(this)};var At=[];return pt.profile&&(Qe.getTotalBufferSize=function(){var yt=0;return Object.keys(wt).forEach(function(Ot){yt+=wt[Ot].stats.size}),yt}),{create:function(yt,Ot,Ct,Rt){function Bt(Gt){var on=35044,Jt=null,$t=0,tn=0,dn=1;return Array.isArray(Gt)||we(Gt)||t(Gt)||Gt instanceof ArrayBuffer?Jt=Gt:"number"==typeof Gt?$t=0|Gt:Gt&&("data"in Gt&&(Jt=Gt.data),"usage"in Gt&&(on=Ee[Gt.usage]),"type"in Gt&&(tn=Se[Gt.type]),"dimension"in Gt&&(dn=0|Gt.dimension),"length"in Gt&&($t=0|Gt.length)),jt.bind(),Jt?ft(jt,Jt,on,tn,dn,Rt):($t&&Ge.bufferData(jt.type,$t,on),jt.dtype=tn||5121,jt.usage=on,jt.dimension=dn,jt.byteLength=$t),pt.profile&&(jt.stats.size=jt.byteLength*me[jt.dtype]),Bt}Qe.bufferCount++;var jt=new He(Ot);return wt[jt.id]=jt,Ct||Bt(yt),Bt._reglType="buffer",Bt._buffer=jt,Bt.subdata=function(Gt,on){var Jt,$t=0|(on||0);if(jt.bind(),we(Gt)||Gt instanceof ArrayBuffer)Ge.bufferSubData(jt.type,$t,Gt);else if(Array.isArray(Gt)){if(0<Gt.length)if("number"==typeof Gt[0]){var tn=Te.allocType(jt.dtype,Gt.length);o(tn,Gt),Ge.bufferSubData(jt.type,$t,tn),Te.freeType(tn)}else(Array.isArray(Gt[0])||we(Gt[0]))&&(Jt=ue(Gt),tn=he(Gt,Jt,jt.dtype),Ge.bufferSubData(jt.type,$t,tn),Te.freeType(tn))}else if(t(Gt)){var dn=Gt.stride,Gn=tn=0,zn=0,Mn=0;1===(Jt=Gt.shape).length?(tn=Jt[0],Gn=1,zn=dn[0],Mn=0):2===Jt.length&&(tn=Jt[0],Gn=Jt[1],zn=dn[0],Mn=dn[1]),Jt=Array.isArray(Gt.data)?jt.dtype:r(Gt.data),u(Jt=Te.allocType(Jt,tn*Gn),Gt.data,tn,Gn,zn,Mn,Gt.offset),Ge.bufferSubData(jt.type,$t,Jt),Te.freeType(Jt)}return Bt},pt.profile&&(Bt.stats=jt.stats),Bt.destroy=function(){et(jt)},Bt},createStream:function(yt,Ot){var Ct=At.pop();return Ct||(Ct=new He(yt)),Ct.bind(),ft(Ct,Ot,35040,0,1,!1),Ct},destroyStream:function(yt){At.push(yt)},clear:function(){xe(wt).forEach(et),At.forEach(et)},getBuffer:function(yt){return yt&&yt._buffer instanceof He?yt._buffer:null},restore:function(){xe(wt).forEach(function(yt){yt.buffer=Ge.createBuffer(),Ge.bindBuffer(yt.type,yt.buffer),Ge.bufferData(yt.type,yt.persistentData||yt.byteLength,yt.usage)})},_initBuffer:ft}}(Ct,Gt,Ge,function(fn){return hn.destroyBuffer(fn)}),vn=function h(Ge,Qe,pt,ct){function He(yt){this.id=xt++,et[this.id]=this,this.buffer=yt,this.primType=4,this.type=this.vertCount=0}function qe(yt,Ot,Ct,Rt,Bt,jt,Gt){var on;if(yt.buffer.bind(),Ot?((on=Gt)||we(Ot)&&(!t(Ot)||we(Ot.data))||(on=Qe.oes_element_index_uint?5125:5123),pt._initBuffer(yt.buffer,Ot,Ct,on,3)):(Ge.bufferData(34963,jt,Ct),yt.buffer.dtype=on||5121,yt.buffer.usage=Ct,yt.buffer.dimension=3,yt.buffer.byteLength=jt),on=Gt,!Gt){switch(yt.buffer.dtype){case 5121:case 5120:on=5121;break;case 5123:case 5122:on=5123;break;case 5125:case 5124:on=5125}yt.buffer.dtype=on}yt.type=on,0>(Ot=Bt)&&(Ot=yt.buffer.byteLength,5123===on?Ot>>=1:5125===on&&(Ot>>=2)),yt.vertCount=Ot,Ot=Rt,0>Rt&&(Ot=4,1===(Rt=yt.buffer.dimension)&&(Ot=0),2===Rt&&(Ot=1),3===Rt&&(Ot=4)),yt.primType=Ot}function ft(yt){ct.elementsCount--,delete et[yt.id],yt.buffer.destroy(),yt.buffer=null}var et={},xt=0,wt={uint8:5121,uint16:5123};Qe.oes_element_index_uint&&(wt.uint32=5125),He.prototype.bind=function(){this.buffer.bind()};var At=[];return{create:function(yt,Ot){function Ct(jt){if(jt)if("number"==typeof jt)Rt(jt),Bt.primType=4,Bt.vertCount=0|jt,Bt.type=5121;else{var Gt=null,on=35044,Jt=-1,$t=-1,tn=0,dn=0;Array.isArray(jt)||we(jt)||t(jt)?Gt=jt:("data"in jt&&(Gt=jt.data),"usage"in jt&&(on=Ee[jt.usage]),"primitive"in jt&&(Jt=Pe[jt.primitive]),"count"in jt&&($t=0|jt.count),"type"in jt&&(dn=wt[jt.type]),"length"in jt?tn=0|jt.length:(tn=$t,5123===dn||5122===dn?tn*=2:5125!==dn&&5124!==dn||(tn*=4))),qe(Bt,Gt,on,Jt,$t,tn,dn)}else Rt(),Bt.primType=4,Bt.vertCount=0,Bt.type=5121;return Ct}var Rt=pt.create(null,34963,!0),Bt=new He(Rt._buffer);return ct.elementsCount++,Ct(yt),Ct._reglType="elements",Ct._elements=Bt,Ct.subdata=function(jt,Gt){return Rt.subdata(jt,Gt),Ct},Ct.destroy=function(){ft(Bt)},Ct},createStream:function(yt){var Ot=At.pop();return Ot||(Ot=new He(pt.create(null,34963,!0,!1)._buffer)),qe(Ot,yt,35040,-1,-1,0,0),Ot},destroyStream:function(yt){At.push(yt)},getElements:function(yt){return"function"==typeof yt&&yt._elements instanceof He?yt._elements:null},clear:function(){xe(et).forEach(ft)}}}(Ct,Jt,ln,Gt),hn=function R(Ge,Qe,pt,ct,He,qe,ft){function et(){this.id=++At,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ct=Qe.oes_vertex_array_object;this.vao=Ct?Ct.createVertexArrayOES():null,yt[this.id]=this,this.buffers=[]}var xt=pt.maxAttributes,wt=Array(xt);for(pt=0;pt<xt;++pt)wt[pt]=new D;var At=0,yt={},Ot={Record:D,scope:{},state:wt,currentVAO:null,targetVAO:null,restore:Qe.oes_vertex_array_object?function(){Qe.oes_vertex_array_object&&xe(yt).forEach(function(Ct){Ct.refresh()})}:function(){},createVAO:function(Ct){function Rt(jt){var Gt;Array.isArray(jt)?(Gt=jt,Bt.elements&&Bt.ownsElements&&Bt.elements.destroy(),Bt.elements=null,Bt.ownsElements=!1,Bt.offset=0,Bt.count=0,Bt.instances=-1,Bt.primitive=4):(jt.elements?(Gt=jt.elements,Bt.ownsElements?("function"==typeof Gt&&"elements"===Gt._reglType?Bt.elements.destroy():Bt.elements(Gt),Bt.ownsElements=!1):qe.getElements(jt.elements)?(Bt.elements=jt.elements,Bt.ownsElements=!1):(Bt.elements=qe.create(jt.elements),Bt.ownsElements=!0)):(Bt.elements=null,Bt.ownsElements=!1),Gt=jt.attributes,Bt.offset=0,Bt.count=-1,Bt.instances=-1,Bt.primitive=4,Bt.elements&&(Bt.count=Bt.elements._elements.vertCount,Bt.primitive=Bt.elements._elements.primType),"offset"in jt&&(Bt.offset=0|jt.offset),"count"in jt&&(Bt.count=0|jt.count),"instances"in jt&&(Bt.instances=0|jt.instances),"primitive"in jt&&(Bt.primitive=Pe[jt.primitive])),jt={};var on=Bt.attributes;on.length=Gt.length;for(var Jt=0;Jt<Gt.length;++Jt){var $t,tn=Gt[Jt],dn=on[Jt]=new D,Gn=tn.data||tn;Array.isArray(Gn)||we(Gn)||t(Gn)?(Bt.buffers[Jt]&&($t=Bt.buffers[Jt],we(Gn)&&$t._buffer.byteLength>=Gn.byteLength?$t.subdata(Gn):($t.destroy(),Bt.buffers[Jt]=null)),Bt.buffers[Jt]||($t=Bt.buffers[Jt]=He.create(tn,34962,!1,!0)),dn.buffer=He.getBuffer($t),dn.size=0|dn.buffer.dimension,dn.normalized=!1,dn.type=dn.buffer.dtype,dn.offset=0,dn.stride=0,dn.divisor=0,dn.state=1,jt[Jt]=1):He.getBuffer(tn)?(dn.buffer=He.getBuffer(tn),dn.size=0|dn.buffer.dimension,dn.normalized=!1,dn.type=dn.buffer.dtype,dn.offset=0,dn.stride=0,dn.divisor=0,dn.state=1):He.getBuffer(tn.buffer)?(dn.buffer=He.getBuffer(tn.buffer),dn.size=0|(+tn.size||dn.buffer.dimension),dn.normalized=!!tn.normalized||!1,dn.type="type"in tn?Se[tn.type]:dn.buffer.dtype,dn.offset=0|(tn.offset||0),dn.stride=0|(tn.stride||0),dn.divisor=0|(tn.divisor||0),dn.state=1):"x"in tn&&(dn.x=+tn.x||0,dn.y=+tn.y||0,dn.z=+tn.z||0,dn.w=+tn.w||0,dn.state=2)}for($t=0;$t<Bt.buffers.length;++$t)!jt[$t]&&Bt.buffers[$t]&&(Bt.buffers[$t].destroy(),Bt.buffers[$t]=null);return Bt.refresh(),Rt}var Bt=new et;return ct.vaoCount+=1,Rt.destroy=function(){for(var jt=0;jt<Bt.buffers.length;++jt)Bt.buffers[jt]&&Bt.buffers[jt].destroy();Bt.buffers.length=0,Bt.ownsElements&&(Bt.elements.destroy(),Bt.elements=null,Bt.ownsElements=!1),Bt.destroy()},Rt._vao=Bt,Rt._reglType="vao",Rt(Ct)},getVAO:function(Ct){return"function"==typeof Ct&&Ct._vao?Ct._vao:null},destroyBuffer:function(Ct){for(var Rt=0;Rt<wt.length;++Rt){var Bt=wt[Rt];Bt.buffer===Ct&&(Ge.disableVertexAttribArray(Rt),Bt.buffer=null)}},setVAO:Qe.oes_vertex_array_object?function(Ct){Ct!==Ot.currentVAO&&(Qe.oes_vertex_array_object.bindVertexArrayOES(Ct?Ct.vao:null),Ot.currentVAO=Ct)}:function(Ct){if(Ct!==Ot.currentVAO){if(Ct)Ct.bindAttrs();else{for(var Rt=Qe.angle_instanced_arrays,Bt=0;Bt<wt.length;++Bt){var jt=wt[Bt];jt.buffer?(Ge.enableVertexAttribArray(Bt),jt.buffer.bind(),Ge.vertexAttribPointer(Bt,jt.size,jt.type,jt.normalized,jt.stride,jt.offfset),Rt&&jt.divisor&&Rt.vertexAttribDivisorANGLE(Bt,jt.divisor)):(Ge.disableVertexAttribArray(Bt),Ge.vertexAttrib4f(Bt,jt.x,jt.y,jt.z,jt.w))}Ge.bindBuffer(34963,ft.elements?ft.elements.buffer.buffer:null)}Ot.currentVAO=Ct}},clear:Qe.oes_vertex_array_object?function(){xe(yt).forEach(function(Ct){Ct.destroy()})}:function(){}};return et.prototype.bindAttrs=function(){for(var Ct=Qe.angle_instanced_arrays,Rt=this.attributes,Bt=0;Bt<Rt.length;++Bt){var jt=Rt[Bt];jt.buffer?(Ge.enableVertexAttribArray(Bt),Ge.bindBuffer(34962,jt.buffer.buffer),Ge.vertexAttribPointer(Bt,jt.size,jt.type,jt.normalized,jt.stride,jt.offset),Ct&&jt.divisor&&Ct.vertexAttribDivisorANGLE(Bt,jt.divisor)):(Ge.disableVertexAttribArray(Bt),Ge.vertexAttrib4f(Bt,jt.x,jt.y,jt.z,jt.w))}for(Ct=Rt.length;Ct<xt;++Ct)Ge.disableVertexAttribArray(Ct);(Ct=qe.getElements(this.elements))?Ge.bindBuffer(34963,Ct.buffer.buffer):Ge.bindBuffer(34963,null)},et.prototype.refresh=function(){var Ct=Qe.oes_vertex_array_object;Ct&&(Ct.bindVertexArrayOES(this.vao),this.bindAttrs(),Ot.currentVAO=null,Ct.bindVertexArrayOES(null))},et.prototype.destroy=function(){if(this.vao){var Ct=Qe.oes_vertex_array_object;this===Ot.currentVAO&&(Ot.currentVAO=null,Ct.bindVertexArrayOES(null)),Ct.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),yt[this.id]&&(delete yt[this.id],--ct.vaoCount)},Ot}(Ct,Jt,Mn,Gt,ln,vn,dn),_n=function P(Ge,Qe,pt,ct){function He(Rt,Bt,jt,Gt){this.name=Rt,this.id=Bt,this.location=jt,this.info=Gt}function qe(Rt,Bt){for(var jt=0;jt<Rt.length;++jt)if(Rt[jt].id===Bt.id)return void(Rt[jt].location=Bt.location);Rt.push(Bt)}function ft(Rt,Bt,jt){if(!(on=(jt=35632===Rt?wt:At)[Bt])){var Gt=Qe.str(Bt),on=Ge.createShader(Rt);Ge.shaderSource(on,Gt),Ge.compileShader(on),jt[Bt]=on}return on}function et(Rt,Bt){this.id=Ct++,this.fragId=Rt,this.vertId=Bt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ct.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function xt(Rt,Bt,jt){var Gt;Gt=ft(35632,Rt.fragId);var on=ft(35633,Rt.vertId);if(Bt=Rt.program=Ge.createProgram(),Ge.attachShader(Bt,Gt),Ge.attachShader(Bt,on),jt)for(Gt=0;Gt<jt.length;++Gt)Ge.bindAttribLocation(Bt,(on=jt[Gt])[0],on[1]);Ge.linkProgram(Bt),on=Ge.getProgramParameter(Bt,35718),ct.profile&&(Rt.stats.uniformsCount=on);var Jt=Rt.uniforms;for(Gt=0;Gt<on;++Gt)if(jt=Ge.getActiveUniform(Bt,Gt))if(1<jt.size)for(var $t=0;$t<jt.size;++$t){var tn=jt.name.replace("[0]","["+$t+"]");qe(Jt,new He(tn,Qe.id(tn),Ge.getUniformLocation(Bt,tn),jt))}else qe(Jt,new He(jt.name,Qe.id(jt.name),Ge.getUniformLocation(Bt,jt.name),jt));for(on=Ge.getProgramParameter(Bt,35721),ct.profile&&(Rt.stats.attributesCount=on),Rt=Rt.attributes,Gt=0;Gt<on;++Gt)(jt=Ge.getActiveAttrib(Bt,Gt))&&qe(Rt,new He(jt.name,Qe.id(jt.name),Ge.getAttribLocation(Bt,jt.name),jt))}var wt={},At={},yt={},Ot=[],Ct=0;return ct.profile&&(pt.getMaxUniformsCount=function(){var Rt=0;return Ot.forEach(function(Bt){Bt.stats.uniformsCount>Rt&&(Rt=Bt.stats.uniformsCount)}),Rt},pt.getMaxAttributesCount=function(){var Rt=0;return Ot.forEach(function(Bt){Bt.stats.attributesCount>Rt&&(Rt=Bt.stats.attributesCount)}),Rt}),{clear:function(){var Rt=Ge.deleteShader.bind(Ge);xe(wt).forEach(Rt),wt={},xe(At).forEach(Rt),At={},Ot.forEach(function(Bt){Ge.deleteProgram(Bt.program)}),Ot.length=0,yt={},pt.shaderCount=0},program:function(Rt,Bt,jt,Gt){var on=yt[Bt];on||(on=yt[Bt]={});var Jt=on[Rt];if(Jt&&(Jt.refCount++,!Gt))return Jt;var $t=new et(Bt,Rt);return pt.shaderCount++,xt($t,jt,Gt),Jt||(on[Rt]=$t),Ot.push($t),J($t,{destroy:function(){if($t.refCount--,0>=$t.refCount){Ge.deleteProgram($t.program);var tn=Ot.indexOf($t);Ot.splice(tn,1),pt.shaderCount--}0>=on[$t.vertId].refCount&&(Ge.deleteShader(At[$t.vertId]),delete At[$t.vertId],delete yt[$t.fragId][$t.vertId]),Object.keys(yt[$t.fragId]).length||(Ge.deleteShader(wt[$t.fragId]),delete wt[$t.fragId],delete yt[$t.fragId])}})},restore:function(){wt={},At={};for(var Rt=0;Rt<Ot.length;++Rt)xt(Ot[Rt],null,Ot[Rt].attributes.map(function(Bt){return[Bt.location,Bt.name]}))},shader:ft,frag:-1,vert:-1}}(Ct,jt,Gt,Ge),Dn=function C(Ge,Qe,pt,ct,He,qe,ft){function et(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function xt(Kt,An){Kt.internalformat=An.internalformat,Kt.format=An.format,Kt.type=An.type,Kt.compressed=An.compressed,Kt.premultiplyAlpha=An.premultiplyAlpha,Kt.flipY=An.flipY,Kt.unpackAlignment=An.unpackAlignment,Kt.colorSpace=An.colorSpace,Kt.width=An.width,Kt.height=An.height,Kt.channels=An.channels}function wt(Kt,An){if("object"==typeof An&&An){"premultiplyAlpha"in An&&(Kt.premultiplyAlpha=An.premultiplyAlpha),"flipY"in An&&(Kt.flipY=An.flipY),"alignment"in An&&(Kt.unpackAlignment=An.alignment),"colorSpace"in An&&(Kt.colorSpace=jn[An.colorSpace]),"type"in An&&(Kt.type=Fn[An.type]);var Nt=Kt.width,Yt=Kt.height,cn=Kt.channels,xn=!1;"shape"in An?(Nt=An.shape[0],Yt=An.shape[1],3===An.shape.length&&(cn=An.shape[2],xn=!0)):("radius"in An&&(Nt=Yt=An.radius),"width"in An&&(Nt=An.width),"height"in An&&(Yt=An.height),"channels"in An&&(cn=An.channels,xn=!0)),Kt.width=0|Nt,Kt.height=0|Yt,Kt.channels=0|cn,Nt=!1,"format"in An&&(Yt=Kt.internalformat=Jn[Nt=An.format],Kt.format=Vn[Yt],Nt in Fn&&!("type"in An)&&(Kt.type=Fn[Nt]),Nt in $n&&(Kt.compressed=!0),Nt=!0),!xn&&Nt?Kt.channels=je[Kt.format]:xn&&!Nt&&Kt.channels!==ze[Kt.format]&&(Kt.format=Kt.internalformat=ze[Kt.channels])}}function At(Kt){Ge.pixelStorei(37440,Kt.flipY),Ge.pixelStorei(37441,Kt.premultiplyAlpha),Ge.pixelStorei(37443,Kt.colorSpace),Ge.pixelStorei(3317,Kt.unpackAlignment)}function yt(){et.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ot(Kt,An){var Nt=null;if(y(An)?Nt=An:An&&(wt(Kt,An),"x"in An&&(Kt.xOffset=0|An.x),"y"in An&&(Kt.yOffset=0|An.y),y(An.data)&&(Nt=An.data)),An.copy){var Yt=He.viewportWidth,cn=He.viewportHeight;Kt.width=Kt.width||Yt-Kt.xOffset,Kt.height=Kt.height||cn-Kt.yOffset,Kt.needsCopy=!0}else if(Nt){if(we(Nt))Kt.channels=Kt.channels||4,Kt.data=Nt,"type"in An||5121!==Kt.type||(Kt.type=0|ye[Object.prototype.toString.call(Nt)]);else if(m(Nt)){switch(Kt.channels=Kt.channels||4,cn=(Yt=Nt).length,Kt.type){case 5121:case 5123:case 5125:case 5126:(cn=Te.allocType(Kt.type,cn)).set(Yt),Kt.data=cn;break;case 36193:Kt.data=c(Yt)}Kt.alignment=1,Kt.needsFree=!0}else if(t(Nt)){Yt=Nt.data,Array.isArray(Yt)||5121!==Kt.type||(Kt.type=0|ye[Object.prototype.toString.call(Yt)]);var xn,wn,Cn,mn,nn=Nt.stride;3===(cn=Nt.shape).length?(Cn=cn[2],mn=nn[2]):mn=Cn=1,xn=cn[0],wn=cn[1],cn=nn[0],nn=nn[1],Kt.alignment=1,Kt.width=xn,Kt.height=wn,Kt.channels=Cn,Kt.format=Kt.internalformat=ze[Cn],Kt.needsFree=!0,xn=mn,Nt=Nt.offset;for(var rn=Te.allocType(36193===Kt.type?5126:Kt.type,(Cn=Kt.width)*(mn=Kt.height)*(wn=Kt.channels)),pn=0,yn=0;yn<mn;++yn)for(var Nn=0;Nn<Cn;++Nn)for(var Un=0;Un<wn;++Un)rn[pn++]=Yt[cn*Nn+nn*yn+xn*Un+Nt];w(Kt,rn)}else if(x(Nt)===ve||x(Nt)===Ae||x(Nt)===Le)Kt.element=x(Nt)===ve||x(Nt)===Ae?Nt:Nt.canvas,Kt.width=Kt.element.width,Kt.height=Kt.element.height,Kt.channels=4;else if(x(Nt)===Ve)Kt.element=Nt,Kt.width=Nt.width,Kt.height=Nt.height,Kt.channels=4;else if(x(Nt)===Ne)Kt.element=Nt,Kt.width=Nt.naturalWidth,Kt.height=Nt.naturalHeight,Kt.channels=4;else if(x(Nt)===We)Kt.element=Nt,Kt.width=Nt.videoWidth,Kt.height=Nt.videoHeight,Kt.channels=4;else if(v(Nt)){for(Yt=Kt.width||Nt[0].length,cn=Kt.height||Nt.length,nn=Kt.channels,nn=b(Nt[0][0])?nn||Nt[0][0].length:nn||1,xn=be.shape(Nt),Cn=1,mn=0;mn<xn.length;++mn)Cn*=xn[mn];Cn=Te.allocType(36193===Kt.type?5126:Kt.type,Cn),be.flatten(Nt,xn,"",Cn),w(Kt,Cn),Kt.alignment=1,Kt.width=Yt,Kt.height=cn,Kt.channels=nn,Kt.format=Kt.internalformat=ze[nn],Kt.needsFree=!0}}else Kt.width=Kt.width||1,Kt.height=Kt.height||1,Kt.channels=Kt.channels||4}function Ct(Kt,An,Nt,Yt,cn){var xn=Kt.element,wn=Kt.data,Cn=Kt.internalformat,mn=Kt.format,nn=Kt.type,rn=Kt.width,pn=Kt.height;At(Kt),xn?Ge.texSubImage2D(An,cn,Nt,Yt,mn,nn,xn):Kt.compressed?Ge.compressedTexSubImage2D(An,cn,Nt,Yt,Cn,rn,pn,wn):Kt.needsCopy?(ct(),Ge.copyTexSubImage2D(An,cn,Nt,Yt,Kt.xOffset,Kt.yOffset,rn,pn)):Ge.texSubImage2D(An,cn,Nt,Yt,rn,pn,mn,nn,wn)}function Rt(){return En.pop()||new yt}function Bt(Kt){Kt.needsFree&&Te.freeType(Kt.data),yt.call(Kt),En.push(Kt)}function jt(){et.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Gt(Kt,An,Nt){var Yt=Kt.images[0]=Rt();Kt.mipmask=1,Yt.width=Kt.width=An,Yt.height=Kt.height=Nt,Yt.channels=Kt.channels=4}function on(Kt,An){var Nt=null;if(y(An))xt(Nt=Kt.images[0]=Rt(),Kt),Ot(Nt,An),Kt.mipmask=1;else if(wt(Kt,An),Array.isArray(An.mipmap))for(var Yt=An.mipmap,cn=0;cn<Yt.length;++cn)xt(Nt=Kt.images[cn]=Rt(),Kt),Nt.width>>=cn,Nt.height>>=cn,Ot(Nt,Yt[cn]),Kt.mipmask|=1<<cn;else xt(Nt=Kt.images[0]=Rt(),Kt),Ot(Nt,An),Kt.mipmask=1;xt(Kt,Kt.images[0])}function Jt(Kt,An){for(var Nt=Kt.images,Yt=0;Yt<Nt.length&&Nt[Yt];++Yt){var cn=Nt[Yt],xn=An,wn=Yt,Cn=cn.element,mn=cn.data,nn=cn.internalformat,rn=cn.format,pn=cn.type,yn=cn.width,Nn=cn.height;At(cn),Cn?Ge.texImage2D(xn,wn,rn,rn,pn,Cn):cn.compressed?Ge.compressedTexImage2D(xn,wn,nn,yn,Nn,0,mn):cn.needsCopy?(ct(),Ge.copyTexImage2D(xn,wn,rn,cn.xOffset,cn.yOffset,yn,Nn,0)):Ge.texImage2D(xn,wn,rn,yn,Nn,0,rn,pn,mn||null)}}function $t(){var Kt=Wn.pop()||new jt;et.call(Kt);for(var An=Kt.mipmask=0;16>An;++An)Kt.images[An]=null;return Kt}function tn(Kt){for(var An=Kt.images,Nt=0;Nt<An.length;++Nt)An[Nt]&&Bt(An[Nt]),An[Nt]=null;Wn.push(Kt)}function dn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Gn(Kt,An){"min"in An&&(Kt.minFilter=Yn[An.min],0<=Oe.indexOf(Kt.minFilter)&&!("faces"in An)&&(Kt.genMipmaps=!0)),"mag"in An&&(Kt.magFilter=Pn[An.mag]);var Nt=Kt.wrapS,Yt=Kt.wrapT;if("wrap"in An){var cn=An.wrap;"string"==typeof cn?Nt=Yt=Dn[cn]:Array.isArray(cn)&&(Nt=Dn[cn[0]],Yt=Dn[cn[1]])}else"wrapS"in An&&(Nt=Dn[An.wrapS]),"wrapT"in An&&(Yt=Dn[An.wrapT]);if(Kt.wrapS=Nt,Kt.wrapT=Yt,"anisotropic"in An&&(Kt.anisotropic=An.anisotropic),"mipmap"in An){switch(Nt=!1,typeof An.mipmap){case"string":Kt.mipmapHint=_n[An.mipmap],Nt=Kt.genMipmaps=!0;break;case"boolean":Nt=Kt.genMipmaps=An.mipmap;break;case"object":Kt.genMipmaps=!1,Nt=!0}!Nt||"min"in An||(Kt.minFilter=9984)}}function zn(Kt,An){Ge.texParameteri(An,10241,Kt.minFilter),Ge.texParameteri(An,10240,Kt.magFilter),Ge.texParameteri(An,10242,Kt.wrapS),Ge.texParameteri(An,10243,Kt.wrapT),Qe.ext_texture_filter_anisotropic&&Ge.texParameteri(An,34046,Kt.anisotropic),Kt.genMipmaps&&(Ge.hint(33170,Kt.mipmapHint),Ge.generateMipmap(An))}function Mn(Kt){et.call(this),this.mipmask=0,this.internalformat=6408,this.id=ar++,this.refCount=1,this.target=Kt,this.texture=Ge.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new dn,ft.profile&&(this.stats={size:0})}function ln(Kt){Ge.activeTexture(33984),Ge.bindTexture(Kt.target,Kt.texture)}function vn(){var Kt=ur[0];Kt?Ge.bindTexture(Kt.target,Kt.texture):Ge.bindTexture(3553,null)}function hn(Kt){var An=Kt.texture,Nt=Kt.unit,Yt=Kt.target;0<=Nt&&(Ge.activeTexture(33984+Nt),Ge.bindTexture(Yt,null),ur[Nt]=null),Ge.deleteTexture(An),Kt.texture=null,Kt.params=null,Kt.pixels=null,Kt.refCount=0,delete In[Kt.id],qe.textureCount--}var _n={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Dn={repeat:10497,clamp:33071,mirror:33648},Pn={nearest:9728,linear:9729},Yn=J({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Pn),jn={none:0,browser:37444},Fn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Jn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},$n={};Qe.ext_srgb&&(Jn.srgb=35904,Jn.srgba=35906),Qe.oes_texture_float&&(Fn.float32=Fn.float=5126),Qe.oes_texture_half_float&&(Fn.float16=Fn["half float"]=36193),Qe.webgl_depth_texture&&(J(Jn,{depth:6402,"depth stencil":34041}),J(Fn,{uint16:5123,uint32:5125,"depth stencil":34042})),Qe.webgl_compressed_texture_s3tc&&J($n,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Qe.webgl_compressed_texture_atc&&J($n,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Qe.webgl_compressed_texture_pvrtc&&J($n,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Qe.webgl_compressed_texture_etc1&&($n["rgb etc1"]=36196);var nr=Array.prototype.slice.call(Ge.getParameter(34467));Object.keys($n).forEach(function(Kt){var An=$n[Kt];0<=nr.indexOf(An)&&(Jn[Kt]=An)});var or=Object.keys(Jn);pt.textureFormats=or;var lr=[];Object.keys(Jn).forEach(function(Kt){lr[Jn[Kt]]=Kt});var cr=[];Object.keys(Fn).forEach(function(Kt){cr[Fn[Kt]]=Kt});var Ar=[];Object.keys(Pn).forEach(function(Kt){Ar[Pn[Kt]]=Kt});var fn=[];Object.keys(Yn).forEach(function(Kt){fn[Yn[Kt]]=Kt});var an=[];Object.keys(Dn).forEach(function(Kt){an[Dn[Kt]]=Kt});var Vn=or.reduce(function(Kt,An){var Nt=Jn[An];return Kt[Nt]=6409===Nt||6406===Nt||6409===Nt||6410===Nt||6402===Nt||34041===Nt||Qe.ext_srgb&&(35904===Nt||35906===Nt)?Nt:32855===Nt||0<=An.indexOf("rgba")?6408:6407,Kt},{}),En=[],Wn=[],ar=0,In={},fr=pt.maxTextureUnits,ur=Array(fr).map(function(){return null});return J(Mn.prototype,{bind:function(){this.bindCount+=1;var Kt=this.unit;if(0>Kt){for(var An=0;An<fr;++An){var Nt=ur[An];if(Nt){if(0<Nt.bindCount)continue;Nt.unit=-1}ur[An]=this,Kt=An;break}ft.profile&&qe.maxTextureUnits<Kt+1&&(qe.maxTextureUnits=Kt+1),this.unit=Kt,Ge.activeTexture(33984+Kt),Ge.bindTexture(this.target,this.texture)}return Kt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&hn(this)}}),ft.profile&&(qe.getTotalTextureSize=function(){var Kt=0;return Object.keys(In).forEach(function(An){Kt+=In[An].stats.size}),Kt}),{create2D:function(Kt,An){function Nt(cn,xn){var wn=Yt.texInfo;dn.call(wn);var Cn=$t();return"number"==typeof cn?Gt(Cn,0|cn,"number"==typeof xn?0|xn:0|cn):cn?(Gn(wn,cn),on(Cn,cn)):Gt(Cn,1,1),wn.genMipmaps&&(Cn.mipmask=(Cn.width<<1)-1),Yt.mipmask=Cn.mipmask,xt(Yt,Cn),Yt.internalformat=Cn.internalformat,Nt.width=Cn.width,Nt.height=Cn.height,ln(Yt),Jt(Cn,3553),zn(wn,3553),vn(),tn(Cn),ft.profile&&(Yt.stats.size=f(Yt.internalformat,Yt.type,Cn.width,Cn.height,wn.genMipmaps,!1)),Nt.format=lr[Yt.internalformat],Nt.type=cr[Yt.type],Nt.mag=Ar[wn.magFilter],Nt.min=fn[wn.minFilter],Nt.wrapS=an[wn.wrapS],Nt.wrapT=an[wn.wrapT],Nt}var Yt=new Mn(3553);return In[Yt.id]=Yt,qe.textureCount++,Nt(Kt,An),Nt.subimage=function(cn,xn,wn,Cn){xn|=0,wn|=0,Cn|=0;var mn=Rt();return xt(mn,Yt),mn.width=0,mn.height=0,Ot(mn,cn),mn.width=mn.width||(Yt.width>>Cn)-xn,mn.height=mn.height||(Yt.height>>Cn)-wn,ln(Yt),Ct(mn,3553,xn,wn,Cn),vn(),Bt(mn),Nt},Nt.resize=function(cn,xn){var wn=0|cn,Cn=0|xn||wn;if(wn===Yt.width&&Cn===Yt.height)return Nt;Nt.width=Yt.width=wn,Nt.height=Yt.height=Cn,ln(Yt);for(var mn=0;Yt.mipmask>>mn;++mn){var nn=wn>>mn,rn=Cn>>mn;if(!nn||!rn)break;Ge.texImage2D(3553,mn,Yt.format,nn,rn,0,Yt.format,Yt.type,null)}return vn(),ft.profile&&(Yt.stats.size=f(Yt.internalformat,Yt.type,wn,Cn,!1,!1)),Nt},Nt._reglType="texture2d",Nt._texture=Yt,ft.profile&&(Nt.stats=Yt.stats),Nt.destroy=function(){Yt.decRef()},Nt},createCube:function(Kt,An,Nt,Yt,cn,xn){function wn(nn,rn,pn,yn,Nn,Un){var Xn,er=Cn.texInfo;for(dn.call(er),Xn=0;6>Xn;++Xn)mn[Xn]=$t();if("number"!=typeof nn&&nn){if("object"==typeof nn)if(rn)on(mn[0],nn),on(mn[1],rn),on(mn[2],pn),on(mn[3],yn),on(mn[4],Nn),on(mn[5],Un);else if(Gn(er,nn),wt(Cn,nn),"faces"in nn)for(nn=nn.faces,Xn=0;6>Xn;++Xn)xt(mn[Xn],Cn),on(mn[Xn],nn[Xn]);else for(Xn=0;6>Xn;++Xn)on(mn[Xn],nn)}else for(nn=0|nn||1,Xn=0;6>Xn;++Xn)Gt(mn[Xn],nn,nn);for(xt(Cn,mn[0]),Cn.mipmask=er.genMipmaps?(mn[0].width<<1)-1:mn[0].mipmask,Cn.internalformat=mn[0].internalformat,wn.width=mn[0].width,wn.height=mn[0].height,ln(Cn),Xn=0;6>Xn;++Xn)Jt(mn[Xn],34069+Xn);for(zn(er,34067),vn(),ft.profile&&(Cn.stats.size=f(Cn.internalformat,Cn.type,wn.width,wn.height,er.genMipmaps,!0)),wn.format=lr[Cn.internalformat],wn.type=cr[Cn.type],wn.mag=Ar[er.magFilter],wn.min=fn[er.minFilter],wn.wrapS=an[er.wrapS],wn.wrapT=an[er.wrapT],Xn=0;6>Xn;++Xn)tn(mn[Xn]);return wn}var Cn=new Mn(34067);In[Cn.id]=Cn,qe.cubeCount++;var mn=Array(6);return wn(Kt,An,Nt,Yt,cn,xn),wn.subimage=function(nn,rn,pn,yn,Nn){pn|=0,yn|=0,Nn|=0;var Un=Rt();return xt(Un,Cn),Un.width=0,Un.height=0,Ot(Un,rn),Un.width=Un.width||(Cn.width>>Nn)-pn,Un.height=Un.height||(Cn.height>>Nn)-yn,ln(Cn),Ct(Un,34069+nn,pn,yn,Nn),vn(),Bt(Un),wn},wn.resize=function(nn){if((nn|=0)!==Cn.width){wn.width=Cn.width=nn,wn.height=Cn.height=nn,ln(Cn);for(var rn=0;6>rn;++rn)for(var pn=0;Cn.mipmask>>pn;++pn)Ge.texImage2D(34069+rn,pn,Cn.format,nn>>pn,nn>>pn,0,Cn.format,Cn.type,null);return vn(),ft.profile&&(Cn.stats.size=f(Cn.internalformat,Cn.type,wn.width,wn.height,!1,!0)),wn}},wn._reglType="textureCube",wn._texture=Cn,ft.profile&&(wn.stats=Cn.stats),wn.destroy=function(){Cn.decRef()},wn},clear:function(){for(var Kt=0;Kt<fr;++Kt)Ge.activeTexture(33984+Kt),Ge.bindTexture(3553,null),ur[Kt]=null;xe(In).forEach(hn),qe.cubeCount=0,qe.textureCount=0},getTexture:function(Kt){return null},restore:function(){for(var Kt=0;Kt<fr;++Kt){var An=ur[Kt];An&&(An.bindCount=0,An.unit=-1,ur[Kt]=null)}xe(In).forEach(function(Nt){Nt.texture=Ge.createTexture(),Ge.bindTexture(Nt.target,Nt.texture);for(var Yt=0;32>Yt;++Yt)if(Nt.mipmask&1<<Yt)if(3553===Nt.target)Ge.texImage2D(3553,Yt,Nt.internalformat,Nt.width>>Yt,Nt.height>>Yt,0,Nt.internalformat,Nt.type,null);else for(var cn=0;6>cn;++cn)Ge.texImage2D(34069+cn,Yt,Nt.internalformat,Nt.width>>Yt,Nt.height>>Yt,0,Nt.internalformat,Nt.type,null);zn(Nt.texInfo,Nt.target)})},refresh:function(){for(var Kt=0;Kt<fr;++Kt){var An=ur[Kt];An&&(An.bindCount=0,An.unit=-1,ur[Kt]=null),Ge.activeTexture(33984+Kt),Ge.bindTexture(3553,null),Ge.bindTexture(34067,null)}}}}(Ct,Jt,Mn,function(){jn.procs.poll()},zn,Gt,Ge),Pn=function(Ge,Qe,pt,ct,He){function qe(yt){this.id=wt++,this.refCount=1,this.renderbuffer=yt,this.format=32854,this.height=this.width=0,He.profile&&(this.stats={size:0})}function ft(yt){var Ot=yt.renderbuffer;Ge.bindRenderbuffer(36161,null),Ge.deleteRenderbuffer(Ot),yt.renderbuffer=null,yt.refCount=0,delete At[yt.id],ct.renderbufferCount--}var et={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Qe.ext_srgb&&(et.srgba=35907),Qe.ext_color_buffer_half_float&&(et.rgba16f=34842,et.rgb16f=34843),Qe.webgl_color_buffer_float&&(et.rgba32f=34836);var xt=[];Object.keys(et).forEach(function(yt){xt[et[yt]]=yt});var wt=0,At={};return qe.prototype.decRef=function(){0>=--this.refCount&&ft(this)},He.profile&&(ct.getTotalRenderbufferSize=function(){var yt=0;return Object.keys(At).forEach(function(Ot){yt+=At[Ot].stats.size}),yt}),{create:function(yt,Ot){function Ct(Bt,jt){var Gt=0,on=0,Jt=32854;if("object"==typeof Bt&&Bt?("shape"in Bt?(Gt=0|(on=Bt.shape)[0],on=0|on[1]):("radius"in Bt&&(Gt=on=0|Bt.radius),"width"in Bt&&(Gt=0|Bt.width),"height"in Bt&&(on=0|Bt.height)),"format"in Bt&&(Jt=et[Bt.format])):"number"==typeof Bt?(Gt=0|Bt,on="number"==typeof jt?0|jt:Gt):Bt||(Gt=on=1),Gt!==Rt.width||on!==Rt.height||Jt!==Rt.format)return Ct.width=Rt.width=Gt,Ct.height=Rt.height=on,Rt.format=Jt,Ge.bindRenderbuffer(36161,Rt.renderbuffer),Ge.renderbufferStorage(36161,Jt,Gt,on),He.profile&&(Rt.stats.size=ht[Rt.format]*Rt.width*Rt.height),Ct.format=xt[Rt.format],Ct}var Rt=new qe(Ge.createRenderbuffer());return At[Rt.id]=Rt,ct.renderbufferCount++,Ct(yt,Ot),Ct.resize=function(Bt,jt){var Gt=0|Bt,on=0|jt||Gt;return Gt===Rt.width&&on===Rt.height||(Ct.width=Rt.width=Gt,Ct.height=Rt.height=on,Ge.bindRenderbuffer(36161,Rt.renderbuffer),Ge.renderbufferStorage(36161,Rt.format,Gt,on),He.profile&&(Rt.stats.size=ht[Rt.format]*Rt.width*Rt.height)),Ct},Ct._reglType="renderbuffer",Ct._renderbuffer=Rt,He.profile&&(Ct.stats=Rt.stats),Ct.destroy=function(){Rt.decRef()},Ct},clear:function(){xe(At).forEach(ft)},restore:function(){xe(At).forEach(function(yt){yt.renderbuffer=Ge.createRenderbuffer(),Ge.bindRenderbuffer(36161,yt.renderbuffer),Ge.renderbufferStorage(36161,yt.format,yt.width,yt.height)}),Ge.bindRenderbuffer(36161,null)}}}(Ct,Jt,0,Gt,Ge),Yn=function T(Ge,Qe,pt,ct,He,qe){function ft(Mn,ln,vn){this.target=Mn,this.texture=ln,this.renderbuffer=vn;var hn=Mn=0;ln?(Mn=ln.width,hn=ln.height):vn&&(Mn=vn.width,hn=vn.height),this.width=Mn,this.height=hn}function et(Mn){Mn&&(Mn.texture&&Mn.texture._texture.decRef(),Mn.renderbuffer&&Mn.renderbuffer._renderbuffer.decRef())}function xt(Mn,ln,vn){Mn&&(Mn.texture?Mn.texture._texture.refCount+=1:Mn.renderbuffer._renderbuffer.refCount+=1)}function wt(Mn,ln){ln&&(ln.texture?Ge.framebufferTexture2D(36160,Mn,ln.target,ln.texture._texture.texture,0):Ge.framebufferRenderbuffer(36160,Mn,36161,ln.renderbuffer._renderbuffer.renderbuffer))}function At(Mn){var ln=3553,vn=null,hn=null,_n=Mn;return"object"==typeof Mn&&(_n=Mn.data,"target"in Mn&&(ln=0|Mn.target)),"texture2d"===(Mn=_n._reglType)||"textureCube"===Mn?vn=_n:"renderbuffer"===Mn&&(hn=_n,ln=36161),new ft(ln,vn,hn)}function yt(Mn,ln,vn,hn,_n){return vn?((Mn=ct.create2D({width:Mn,height:ln,format:hn,type:_n}))._texture.refCount=0,new ft(3553,Mn,null)):((Mn=He.create({width:Mn,height:ln,format:hn}))._renderbuffer.refCount=0,new ft(36161,null,Mn))}function Ot(Mn){return Mn&&(Mn.texture||Mn.renderbuffer)}function Ct(Mn,ln,vn){Mn&&(Mn.texture?Mn.texture.resize(ln,vn):Mn.renderbuffer&&Mn.renderbuffer.resize(ln,vn),Mn.width=ln,Mn.height=vn)}function Rt(){this.id=Gn++,zn[this.id]=this,this.framebuffer=Ge.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Bt(Mn){Mn.colorAttachments.forEach(et),et(Mn.depthAttachment),et(Mn.stencilAttachment),et(Mn.depthStencilAttachment)}function jt(Mn){Ge.deleteFramebuffer(Mn.framebuffer),Mn.framebuffer=null,qe.framebufferCount--,delete zn[Mn.id]}function Gt(Mn){var ln;Ge.bindFramebuffer(36160,Mn.framebuffer);var vn=Mn.colorAttachments;for(ln=0;ln<vn.length;++ln)wt(36064+ln,vn[ln]);for(ln=vn.length;ln<pt.maxColorAttachments;++ln)Ge.framebufferTexture2D(36160,36064+ln,3553,null,0);Ge.framebufferTexture2D(36160,33306,3553,null,0),Ge.framebufferTexture2D(36160,36096,3553,null,0),Ge.framebufferTexture2D(36160,36128,3553,null,0),wt(36096,Mn.depthAttachment),wt(36128,Mn.stencilAttachment),wt(33306,Mn.depthStencilAttachment),Ge.checkFramebufferStatus(36160),Ge.isContextLost(),Ge.bindFramebuffer(36160,Jt.next?Jt.next.framebuffer:null),Jt.cur=Jt.next,Ge.getError()}function on(Mn,ln){function vn(_n,Dn){var Pn,Yn=0,jn=0,Fn=!0,Jn=!0;Pn=null;var $n=!0,nr="rgba",or="uint8",lr=1,cr=null,Ar=null,fn=null,an=!1;"number"==typeof _n?(Yn=0|_n,jn=0|Dn||Yn):_n?("shape"in _n?(Yn=(jn=_n.shape)[0],jn=jn[1]):("radius"in _n&&(Yn=jn=_n.radius),"width"in _n&&(Yn=_n.width),"height"in _n&&(jn=_n.height)),("color"in _n||"colors"in _n)&&(Pn=_n.color||_n.colors,Array.isArray(Pn)),Pn||("colorCount"in _n&&(lr=0|_n.colorCount),"colorTexture"in _n&&($n=!!_n.colorTexture,nr="rgba4"),"colorType"in _n&&(or=_n.colorType,!$n)&&("half float"===or||"float16"===or?nr="rgba16f":"float"!==or&&"float32"!==or||(nr="rgba32f")),"colorFormat"in _n&&(0<=$t.indexOf(nr=_n.colorFormat)?$n=!0:0<=tn.indexOf(nr)&&($n=!1))),("depthTexture"in _n||"depthStencilTexture"in _n)&&(an=!(!_n.depthTexture&&!_n.depthStencilTexture)),"depth"in _n&&("boolean"==typeof _n.depth?Fn=_n.depth:(cr=_n.depth,Jn=!1)),"stencil"in _n&&("boolean"==typeof _n.stencil?Jn=_n.stencil:(Ar=_n.stencil,Fn=!1)),"depthStencil"in _n&&("boolean"==typeof _n.depthStencil?Fn=Jn=_n.depthStencil:(fn=_n.depthStencil,Jn=Fn=!1))):Yn=jn=1;var Vn=null,En=null,Wn=null,ar=null;if(Array.isArray(Pn))Vn=Pn.map(At);else if(Pn)Vn=[At(Pn)];else for(Vn=Array(lr),Pn=0;Pn<lr;++Pn)Vn[Pn]=yt(Yn,jn,$n,nr,or);for(Yn=Yn||Vn[0].width,jn=jn||Vn[0].height,cr?En=At(cr):Fn&&!Jn&&(En=yt(Yn,jn,an,"depth","uint32")),Ar?Wn=At(Ar):Jn&&!Fn&&(Wn=yt(Yn,jn,!1,"stencil","uint8")),fn?ar=At(fn):!cr&&!Ar&&Jn&&Fn&&(ar=yt(Yn,jn,an,"depth stencil","depth stencil")),Fn=null,Pn=0;Pn<Vn.length;++Pn)xt(Vn[Pn]),Vn[Pn]&&Vn[Pn].texture&&(Jn=kt[Vn[Pn].texture._texture.format]*_t[Vn[Pn].texture._texture.type],null===Fn&&(Fn=Jn));return xt(En),xt(Wn),xt(ar),Bt(hn),hn.width=Yn,hn.height=jn,hn.colorAttachments=Vn,hn.depthAttachment=En,hn.stencilAttachment=Wn,hn.depthStencilAttachment=ar,vn.color=Vn.map(Ot),vn.depth=Ot(En),vn.stencil=Ot(Wn),vn.depthStencil=Ot(ar),vn.width=hn.width,vn.height=hn.height,Gt(hn),vn}var hn=new Rt;return qe.framebufferCount++,vn(Mn,ln),J(vn,{resize:function(_n,Dn){var Pn=Math.max(0|_n,1),Yn=Math.max(0|Dn||Pn,1);if(Pn===hn.width&&Yn===hn.height)return vn;for(var jn=hn.colorAttachments,Fn=0;Fn<jn.length;++Fn)Ct(jn[Fn],Pn,Yn);return Ct(hn.depthAttachment,Pn,Yn),Ct(hn.stencilAttachment,Pn,Yn),Ct(hn.depthStencilAttachment,Pn,Yn),hn.width=vn.width=Pn,hn.height=vn.height=Yn,Gt(hn),vn},_reglType:"framebuffer",_framebuffer:hn,destroy:function(){jt(hn),Bt(hn)},use:function(_n){Jt.setFBO({framebuffer:vn},_n)}})}var Jt={cur:null,next:null,dirty:!1,setFBO:null},$t=["rgba"],tn=["rgba4","rgb565","rgb5 a1"];Qe.ext_srgb&&tn.push("srgba"),Qe.ext_color_buffer_half_float&&tn.push("rgba16f","rgb16f"),Qe.webgl_color_buffer_float&&tn.push("rgba32f");var dn=["uint8"];Qe.oes_texture_half_float&&dn.push("half float","float16"),Qe.oes_texture_float&&dn.push("float","float32");var Gn=0,zn={};return J(Jt,{getFramebuffer:function(Mn){return"function"==typeof Mn&&"framebuffer"===Mn._reglType&&(Mn=Mn._framebuffer)instanceof Rt?Mn:null},create:on,createCube:function(Mn){function ln(hn){var _n,Dn={color:null},Pn=0,Yn=null;_n="rgba";var jn="uint8",Fn=1;if("number"==typeof hn?Pn=0|hn:hn?("shape"in hn?Pn=hn.shape[0]:("radius"in hn&&(Pn=0|hn.radius),"width"in hn?Pn=0|hn.width:"height"in hn&&(Pn=0|hn.height)),("color"in hn||"colors"in hn)&&(Yn=hn.color||hn.colors,Array.isArray(Yn)),Yn||("colorCount"in hn&&(Fn=0|hn.colorCount),"colorType"in hn&&(jn=hn.colorType),"colorFormat"in hn&&(_n=hn.colorFormat)),"depth"in hn&&(Dn.depth=hn.depth),"stencil"in hn&&(Dn.stencil=hn.stencil),"depthStencil"in hn&&(Dn.depthStencil=hn.depthStencil)):Pn=1,Yn)if(Array.isArray(Yn))for(hn=[],_n=0;_n<Yn.length;++_n)hn[_n]=Yn[_n];else hn=[Yn];else for(hn=Array(Fn),Yn={radius:Pn,format:_n,type:jn},_n=0;_n<Fn;++_n)hn[_n]=ct.createCube(Yn);for(Dn.color=Array(hn.length),_n=0;_n<hn.length;++_n)Fn=hn[_n],Pn=Pn||Fn.width,Dn.color[_n]={target:34069,data:hn[_n]};for(_n=0;6>_n;++_n){for(Fn=0;Fn<hn.length;++Fn)Dn.color[Fn].target=34069+_n;0<_n&&(Dn.depth=vn[0].depth,Dn.stencil=vn[0].stencil,Dn.depthStencil=vn[0].depthStencil),vn[_n]?vn[_n](Dn):vn[_n]=on(Dn)}return J(ln,{width:Pn,height:Pn,color:hn})}var vn=Array(6);return ln(Mn),J(ln,{faces:vn,resize:function(hn){var _n=0|hn;if(_n===ln.width)return ln;var Dn=ln.color;for(hn=0;hn<Dn.length;++hn)Dn[hn].resize(_n);for(hn=0;6>hn;++hn)vn[hn].resize(_n);return ln.width=ln.height=_n,ln},_reglType:"framebufferCube",destroy:function(){vn.forEach(function(hn){hn.destroy()})}})},clear:function(){xe(zn).forEach(jt)},restore:function(){Jt.cur=null,Jt.next=null,Jt.dirty=!0,xe(zn).forEach(function(Mn){Mn.framebuffer=Ge.createFramebuffer(),Gt(Mn)})}})}(Ct,Jt,Mn,Dn,Pn,Gt),jn=ee(Ct,jt,Jt,Mn,ln,vn,0,Yn,{},hn,_n,dn,zn,$t,on,Ge),Fn=(jt=function O(Ge,Qe,pt,ct,He,qe,ft){function et(xt){var wt;wt=null===Qe.next?5121:Qe.next.colorAttachments[0].texture._texture.type;var At=0,yt=0,Ot=ct.framebufferWidth,Ct=ct.framebufferHeight,Rt=null;return we(xt)?Rt=xt:xt&&(At=0|xt.x,yt=0|xt.y,Ot=0|(xt.width||ct.framebufferWidth-At),Ct=0|(xt.height||ct.framebufferHeight-yt),Rt=xt.data||null),pt(),xt=Ot*Ct*4,Rt||(5121===wt?Rt=new Uint8Array(xt):5126===wt&&(Rt=Rt||new Float32Array(xt))),Ge.pixelStorei(3333,4),Ge.readPixels(At,yt,Ot,Ct,6408,wt,Rt),Rt}return function(xt){return xt&&"framebuffer"in xt?(Qe.setFBO({framebuffer:(wt=xt).framebuffer},function(){At=et(wt)}),At):et(xt);var wt,At}}(Ct,Yn,jn.procs.poll,zn),jn.next),Jn=Ct.canvas,$n=[],nr=[],or=[],lr=[Ge.onDestroy],cr=null;Jn&&(Jn.addEventListener("webglcontextlost",He,!1),Jn.addEventListener("webglcontextrestored",qe,!1));var Ar=Yn.setFBO=ft({framebuffer:fe.define.call(null,1,"framebuffer")});return yt(),Rt=J(ft,{clear:function(fn){if("framebuffer"in fn)if(fn.framebuffer&&"framebufferCube"===fn.framebuffer_reglType)for(var an=0;6>an;++an)Ar(J({framebuffer:fn.framebuffer.faces[an]},fn),et);else Ar(fn,et);else et(0,fn)},prop:fe.define.bind(null,1),context:fe.define.bind(null,2),this:fe.define.bind(null,3),draw:ft({}),buffer:function(fn){return ln.create(fn,34962,!1,!1)},elements:function(fn){return vn.create(fn,!1)},texture:Dn.create2D,cube:Dn.createCube,renderbuffer:Pn.create,framebuffer:Yn.create,framebufferCube:Yn.createCube,vao:hn.createVAO,attributes:Rt,frame:xt,on:function(fn,an){var Vn;switch(fn){case"frame":return xt(an);case"lost":Vn=nr;break;case"restore":Vn=or;break;case"destroy":Vn=lr}return Vn.push(an),{cancel:function(){for(var En=0;En<Vn.length;++En)if(Vn[En]===an){Vn[En]=Vn[Vn.length-1],Vn.pop();break}}}},limits:Mn,hasExtension:function(fn){return 0<=Mn.extensions.indexOf(fn.toLowerCase())},read:jt,destroy:function(){$n.length=0,ct(),Jn&&(Jn.removeEventListener("webglcontextlost",He),Jn.removeEventListener("webglcontextrestored",qe)),_n.clear(),Yn.clear(),Pn.clear(),hn.clear(),Dn.clear(),vn.clear(),ln.clear(),$t&&$t.clear(),lr.forEach(function(fn){fn()})},_gl:Ct,_refresh:yt,poll:function(){At(),$t&&$t.update()},now:Ot,stats:Gt,getCachedCode:function(){return on},preloadCachedCode:function(fn){Object.entries(fn).forEach(function(an){on[an[0]]=an[1]})}}),Ge.onDone(null,Rt),Rt}}()},30456:function(ie,z,e){var S=e(33576),A=S.Buffer;function a(_,d){for(var s in _)d[s]=_[s]}function M(_,d,s){return A(_,d,s)}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?ie.exports=S:(a(S,z),z.Buffer=M),M.prototype=Object.create(A.prototype),a(A,M),M.from=function(_,d,s){if("number"==typeof _)throw new TypeError("Argument must not be a number");return A(_,d,s)},M.alloc=function(_,d,s){if("number"!=typeof _)throw new TypeError("Argument must be a number");var t=A(_);return void 0!==d?"string"==typeof s?t.fill(d,s):t.fill(d):t.fill(0),t},M.allocUnsafe=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return A(_)},M.allocUnsafeSlow=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return S.SlowBuffer(_)}},14500:function(ie,z,e){"use strict";var S=e(53664),A=e(64348),a=e(39640)(),M=e(2304),_=S("%TypeError%"),d=S("%Math.floor%");ie.exports=function(s,t){if("function"!=typeof s)throw new _("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||d(t)!==t)throw new _("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,r=!0;if("length"in s&&M){var o=M(s,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(r=!1)}return(n||r||!i)&&(a?A(s,"length",t,!0,!0):A(s,"length",t)),s}},29936:function(ie,z,e){ie.exports=A;var S=e(61252).EventEmitter;function A(){S.call(this)}e(6768)(A,S),A.Readable=e(12348),A.Writable=e(11288),A.Duplex=e(15316),A.Transform=e(22477),A.PassThrough=e(27136),A.finished=e(15932),A.pipeline=e(38180),A.Stream=A,A.prototype.pipe=function(a,M){var _=this;function d(u){a.writable&&!1===a.write(u)&&_.pause&&_.pause()}function s(){_.readable&&_.resume&&_.resume()}_.on("data",d),a.on("drain",s),a._isStdio||M&&!1===M.end||(_.on("end",i),_.on("close",n));var t=!1;function i(){t||(t=!0,a.end())}function n(){t||(t=!0,"function"==typeof a.destroy&&a.destroy())}function r(u){if(o(),0===S.listenerCount(this,"error"))throw u}function o(){_.removeListener("data",d),a.removeListener("drain",s),_.removeListener("end",i),_.removeListener("close",n),_.removeListener("error",r),a.removeListener("error",r),_.removeListener("end",o),_.removeListener("close",o),a.removeListener("close",o)}return _.on("error",r),a.on("error",r),_.on("end",o),_.on("close",o),a.on("close",o),a.emit("pipe",_),a}},92784:function(ie){"use strict";var z={};function e(A,a,M){M||(M=Error);var _=function(d){var s,t;function i(n,r,o){return d.call(this,"string"==typeof a?a:a(n,r,o))||this}return t=d,(s=i).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t,i}(M);_.prototype.name=M.name,_.prototype.code=A,z[A]=_}function S(A,a){if(Array.isArray(A)){var M=A.length;return A=A.map(function(_){return String(_)}),M>2?"one of ".concat(a," ").concat(A.slice(0,M-1).join(", "),", or ")+A[M-1]:2===M?"one of ".concat(a," ").concat(A[0]," or ").concat(A[1]):"of ".concat(a," ").concat(A[0])}return"of ".concat(a," ").concat(String(A))}e("ERR_INVALID_OPT_VALUE",function(A,a){return'The value "'+a+'" is invalid for option "'+A+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(A,a,M){var _,s,t,i,r,u;if("string"==typeof a&&("not ","not "===a.substr(0,4))?(_="must not be",a=a.replace(/^not /,"")):_="must be",r=A," argument",(void 0===u||u>r.length)&&(u=r.length)," argument"===r.substring(u-9,u))s="The ".concat(A," ").concat(_," ").concat(S(a,"type"));else{var n=("number"!=typeof i&&(i=0),i+1>(t=A).length||-1===t.indexOf(".",i)?"argument":"property");s='The "'.concat(A,'" ').concat(n," ").concat(_," ").concat(S(a,"type"))}return s+". Received type ".concat(typeof M)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ie.exports.i=z},15316:function(ie,z,e){"use strict";var S=e(4168),A=Object.keys||function(r){var o=[];for(var u in r)o.push(u);return o};ie.exports=t;var a=e(12348),M=e(11288);e(6768)(t,a);for(var _=A(M.prototype),d=0;d<_.length;d++){var s=_[d];t.prototype[s]||(t.prototype[s]=M.prototype[s])}function t(r){if(!(this instanceof t))return new t(r);a.call(this,r),M.call(this,r),this.allowHalfOpen=!0,r&&(!1===r.readable&&(this.readable=!1),!1===r.writable&&(this.writable=!1),!1===r.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||S.nextTick(n,this)}function n(r){r.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=r,this._writableState.destroyed=r)}})},27136:function(ie,z,e){"use strict";ie.exports=A;var S=e(22477);function A(a){if(!(this instanceof A))return new A(a);S.call(this,a)}e(6768)(A,S),A.prototype._transform=function(a,M,_){_(null,a)}},12348:function(ie,z,e){"use strict";var S,A=e(4168);ie.exports=w,w.ReadableState=y,e(61252);var a,M=function(te,Q){return te.listeners(Q).length},_=e(4776),d=e(33576).Buffer,s=e.g.Uint8Array||function(){},t=e(19768);a=t&&t.debuglog?t.debuglog("stream"):function(){};var i,n,r,o=e(47264),u=e(55324),l=e(24888).getHighWaterMark,h=e(92784).i,c=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(w,_);var v=u.errorOrDestroy,x=["error","close","destroy","pause","resume"];function y(te,Q,ee){S=S||e(15316),"boolean"!=typeof ee&&(ee=Q instanceof S),this.objectMode=!!(te=te||{}).objectMode,ee&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=l(this,te,"readableHighWaterMark",ee),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==te.emitClose,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(i||(i=e(86032).o),this.decoder=new i(te.encoding),this.encoding=te.encoding)}function w(te){if(S=S||e(15316),!(this instanceof w))return new w(te);this._readableState=new y(te,this,this instanceof S),this.readable=!0,te&&("function"==typeof te.read&&(this._read=te.read),"function"==typeof te.destroy&&(this._destroy=te.destroy)),_.call(this)}function f(te,Q,ee,re,J){a("readableAddChunk",Q);var le,ce,ge,Te,Me,fe=te._readableState;if(null===Q)fe.reading=!1,function(ce,ge){if(a("onEofChunk"),!ge.ended){if(ge.decoder){var Te=ge.decoder.end();Te&&Te.length&&(ge.buffer.push(Te),ge.length+=ge.objectMode?1:Te.length)}ge.ended=!0,ge.sync?R(ce):(ge.needReadable=!1,ge.emittedReadable||(ge.emittedReadable=!0,P(ce)))}}(te,fe);else if(J||(ce=fe,d.isBuffer(Me=ge=Q)||Me instanceof s||"string"==typeof ge||void 0===ge||ce.objectMode||(Te=new c("chunk",["string","Buffer","Uint8Array"],ge)),le=Te),le)v(te,le);else if(fe.objectMode||Q&&Q.length>0)if("string"==typeof Q||fe.objectMode||Object.getPrototypeOf(Q)===d.prototype||(Q=function(ce){return d.from(ce)}(Q)),re)fe.endEmitted?v(te,new m):C(te,fe,Q,!0);else if(fe.ended)v(te,new b);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!ee?(Q=fe.decoder.write(Q),fe.objectMode||0!==Q.length?C(te,fe,Q,!1):O(te,fe)):C(te,fe,Q,!1)}else re||(fe.reading=!1,O(te,fe));return!fe.ended&&(fe.length<fe.highWaterMark||0===fe.length)}function C(te,Q,ee,re){Q.flowing&&0===Q.length&&!Q.sync?(Q.awaitDrain=0,te.emit("data",ee)):(Q.length+=Q.objectMode?1:ee.length,re?Q.buffer.unshift(ee):Q.buffer.push(ee),Q.needReadable&&R(te)),O(te,Q)}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(te){this._readableState&&(this._readableState.destroyed=te)}}),w.prototype.destroy=u.destroy,w.prototype._undestroy=u.undestroy,w.prototype._destroy=function(te,Q){Q(te)},w.prototype.push=function(te,Q){var ee,re=this._readableState;return re.objectMode?ee=!0:"string"==typeof te&&((Q=Q||re.defaultEncoding)!==re.encoding&&(te=d.from(te,Q),Q=""),ee=!0),f(this,te,Q,!1,ee)},w.prototype.unshift=function(te){return f(this,te,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(te){i||(i=e(86032).o);var Q=new i(te);this._readableState.decoder=Q,this._readableState.encoding=this._readableState.decoder.encoding;for(var ee=this._readableState.buffer.head,re="";null!==ee;)re+=Q.write(ee.data),ee=ee.next;return this._readableState.buffer.clear(),""!==re&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};var T=1073741824;function D(te,Q){return te<=0||0===Q.length&&Q.ended?0:Q.objectMode?1:te!=te?Q.flowing&&Q.length?Q.buffer.head.data.length:Q.length:(te>Q.highWaterMark&&(Q.highWaterMark=((ee=te)>=T?ee=T:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee)),te<=Q.length?te:Q.ended?Q.length:(Q.needReadable=!0,0));var ee}function R(te){var Q=te._readableState;a("emitReadable",Q.needReadable,Q.emittedReadable),Q.needReadable=!1,Q.emittedReadable||(a("emitReadable",Q.flowing),Q.emittedReadable=!0,A.nextTick(P,te))}function P(te){var Q=te._readableState;a("emitReadable_",Q.destroyed,Q.length,Q.ended),Q.destroyed||!Q.length&&!Q.ended||(te.emit("readable"),Q.emittedReadable=!1),Q.needReadable=!Q.flowing&&!Q.ended&&Q.length<=Q.highWaterMark,$(te)}function O(te,Q){Q.readingMore||(Q.readingMore=!0,A.nextTick(B,te,Q))}function B(te,Q){for(;!Q.reading&&!Q.ended&&(Q.length<Q.highWaterMark||Q.flowing&&0===Q.length);){var ee=Q.length;if(a("maybeReadMore read 0"),te.read(0),ee===Q.length)break}Q.readingMore=!1}function q(te){var Q=te._readableState;Q.readableListening=te.listenerCount("readable")>0,Q.resumeScheduled&&!Q.paused?Q.flowing=!0:te.listenerCount("data")>0&&te.resume()}function N(te){a("readable nexttick read 0"),te.read(0)}function H(te,Q){a("resume",Q.reading),Q.reading||te.read(0),Q.resumeScheduled=!1,te.emit("resume"),$(te),Q.flowing&&!Q.reading&&te.read(0)}function $(te){var Q=te._readableState;for(a("flow",Q.flowing);Q.flowing&&null!==te.read(););}function j(te,Q){return 0===Q.length?null:(Q.objectMode?ee=Q.buffer.shift():!te||te>=Q.length?(ee=Q.decoder?Q.buffer.join(""):1===Q.buffer.length?Q.buffer.first():Q.buffer.concat(Q.length),Q.buffer.clear()):ee=Q.buffer.consume(te,Q.decoder),ee);var ee}function W(te){var Q=te._readableState;a("endReadable",Q.endEmitted),Q.endEmitted||(Q.ended=!0,A.nextTick(G,Q,te))}function G(te,Q){if(a("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&0===te.length&&(te.endEmitted=!0,Q.readable=!1,Q.emit("end"),te.autoDestroy)){var ee=Q._writableState;(!ee||ee.autoDestroy&&ee.finished)&&Q.destroy()}}function ae(te,Q){for(var ee=0,re=te.length;ee<re;ee++)if(te[ee]===Q)return ee;return-1}w.prototype.read=function(te){a("read",te),te=parseInt(te,10);var Q=this._readableState,ee=te;if(0!==te&&(Q.emittedReadable=!1),0===te&&Q.needReadable&&((0!==Q.highWaterMark?Q.length>=Q.highWaterMark:Q.length>0)||Q.ended))return a("read: emitReadable",Q.length,Q.ended),0===Q.length&&Q.ended?W(this):R(this),null;if(0===(te=D(te,Q))&&Q.ended)return 0===Q.length&&W(this),null;var re,J=Q.needReadable;return a("need readable",J),(0===Q.length||Q.length-te<Q.highWaterMark)&&a("length less than watermark",J=!0),Q.ended||Q.reading?a("reading or ended",J=!1):J&&(a("do read"),Q.reading=!0,Q.sync=!0,0===Q.length&&(Q.needReadable=!0),this._read(Q.highWaterMark),Q.sync=!1,Q.reading||(te=D(ee,Q))),null===(re=te>0?j(te,Q):null)?(Q.needReadable=Q.length<=Q.highWaterMark,te=0):(Q.length-=te,Q.awaitDrain=0),0===Q.length&&(Q.ended||(Q.needReadable=!0),ee!==te&&Q.ended&&W(this)),null!==re&&this.emit("data",re),re},w.prototype._read=function(te){v(this,new p("_read()"))},w.prototype.pipe=function(te,Q){var ee=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=te;break;case 1:re.pipes=[re.pipes,te];break;default:re.pipes.push(te)}re.pipesCount+=1,a("pipe count=%d opts=%j",re.pipesCount,Q);var J=Q&&!1===Q.end||te===A.stdout||te===A.stderr?xe:le;function le(){a("onend"),te.end()}re.endEmitted?A.nextTick(J):ee.once("end",J),te.on("unpipe",function be(ye,Se){a("onunpipe"),ye===ee&&Se&&!1===Se.hasUnpiped&&(Se.hasUnpiped=!0,a("cleanup"),te.removeListener("close",Me),te.removeListener("finish",we),te.removeListener("drain",fe),te.removeListener("error",Te),te.removeListener("unpipe",be),ee.removeListener("end",le),ee.removeListener("end",xe),ee.removeListener("data",ge),ce=!0,!re.awaitDrain||te._writableState&&!te._writableState.needDrain||fe())});var be,fe=(be=ee,function(){var ye=be._readableState;a("pipeOnDrain",ye.awaitDrain),ye.awaitDrain&&ye.awaitDrain--,0===ye.awaitDrain&&M(be,"data")&&(ye.flowing=!0,$(be))});te.on("drain",fe);var ce=!1;function ge(be){a("ondata");var ye=te.write(be);a("dest.write",ye),!1===ye&&((1===re.pipesCount&&re.pipes===te||re.pipesCount>1&&-1!==ae(re.pipes,te))&&!ce&&(a("false write response, pause",re.awaitDrain),re.awaitDrain++),ee.pause())}function Te(be){a("onerror",be),xe(),te.removeListener("error",Te),0===M(te,"error")&&v(te,be)}function Me(){te.removeListener("finish",we),xe()}function we(){a("onfinish"),te.removeListener("close",Me),xe()}function xe(){a("unpipe"),ee.unpipe(te)}return ee.on("data",ge),function(be,ye,Se){if("function"==typeof be.prependListener)return be.prependListener(ye,Se);be._events&&be._events[ye]?Array.isArray(be._events[ye])?be._events[ye].unshift(Se):be._events[ye]=[Se,be._events[ye]]:be.on(ye,Se)}(te,"error",Te),te.once("close",Me),te.once("finish",we),te.emit("pipe",ee),re.flowing||(a("pipe resume"),ee.resume()),te},w.prototype.unpipe=function(te){var Q=this._readableState,ee={hasUnpiped:!1};if(0===Q.pipesCount)return this;if(1===Q.pipesCount)return te&&te!==Q.pipes||(te||(te=Q.pipes),Q.pipes=null,Q.pipesCount=0,Q.flowing=!1,te&&te.emit("unpipe",this,ee)),this;if(!te){var re=Q.pipes,J=Q.pipesCount;Q.pipes=null,Q.pipesCount=0,Q.flowing=!1;for(var le=0;le<J;le++)re[le].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=ae(Q.pipes,te);return-1===fe||(Q.pipes.splice(fe,1),Q.pipesCount-=1,1===Q.pipesCount&&(Q.pipes=Q.pipes[0]),te.emit("unpipe",this,ee)),this},w.prototype.addListener=w.prototype.on=function(te,Q){var ee=_.prototype.on.call(this,te,Q),re=this._readableState;return"data"===te?(re.readableListening=this.listenerCount("readable")>0,!1!==re.flowing&&this.resume()):"readable"===te&&(re.endEmitted||re.readableListening||(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,a("on readable",re.length,re.reading),re.length?R(this):re.reading||A.nextTick(N,this))),ee},w.prototype.removeListener=function(te,Q){var ee=_.prototype.removeListener.call(this,te,Q);return"readable"===te&&A.nextTick(q,this),ee},w.prototype.removeAllListeners=function(te){var Q=_.prototype.removeAllListeners.apply(this,arguments);return"readable"!==te&&void 0!==te||A.nextTick(q,this),Q},w.prototype.resume=function(){var ee,te=this._readableState;return te.flowing||(a("resume"),te.flowing=!te.readableListening,this,(ee=te).resumeScheduled||(ee.resumeScheduled=!0,A.nextTick(H,this,ee))),te.paused=!1,this},w.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},w.prototype.wrap=function(te){var Q=this,ee=this._readableState,re=!1;for(var J in te.on("end",function(){if(a("wrapped end"),ee.decoder&&!ee.ended){var fe=ee.decoder.end();fe&&fe.length&&Q.push(fe)}Q.push(null)}),te.on("data",function(fe){a("wrapped data"),ee.decoder&&(fe=ee.decoder.write(fe)),ee.objectMode&&null==fe||(ee.objectMode||fe&&fe.length)&&(Q.push(fe)||(re=!0,te.pause()))}),te)void 0===this[J]&&"function"==typeof te[J]&&(this[J]=function(fe){return function(){return te[fe].apply(te,arguments)}}(J));for(var le=0;le<x.length;le++)te.on(x[le],this.emit.bind(this,x[le]));return this._read=function(fe){a("wrapped _read",fe),re&&(re=!1,te.resume())},this},"function"==typeof Symbol&&(w.prototype[Symbol.asyncIterator]=function(){return void 0===n&&(n=e(60328)),n(this)}),Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(w.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(w.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}}),w._fromList=j,Object.defineProperty(w.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(w.from=function(te,Q){return void 0===r&&(r=e(90555)),r(w,te,Q)})},22477:function(ie,z,e){"use strict";ie.exports=t;var S=e(92784).i,A=S.ERR_METHOD_NOT_IMPLEMENTED,a=S.ERR_MULTIPLE_CALLBACK,M=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,_=S.ERR_TRANSFORM_WITH_LENGTH_0,d=e(15316);function s(r,o){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(null===l)return this.emit("error",new a);u.writechunk=null,u.writecb=null,null!=o&&this.push(o),l(r);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function t(r){if(!(this instanceof t))return new t(r);d.call(this,r),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?n(this,null,null):this._flush(function(o,u){n(r,o,u)})}function n(r,o,u){if(o)return r.emit("error",o);if(null!=u&&r.push(u),r._writableState.length)throw new _;if(r._transformState.transforming)throw new M;return r.push(null)}e(6768)(t,d),t.prototype.push=function(r,o){return this._transformState.needTransform=!1,d.prototype.push.call(this,r,o)},t.prototype._transform=function(r,o,u){u(new A("_transform()"))},t.prototype._write=function(r,o,u){var l=this._transformState;if(l.writecb=u,l.writechunk=r,l.writeencoding=o,!l.transforming){var h=this._readableState;(l.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},t.prototype._read=function(r){var o=this._transformState;null===o.writechunk||o.transforming?o.needTransform=!0:(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform))},t.prototype._destroy=function(r,o){d.prototype._destroy.call(this,r,function(u){o(u)})}},11288:function(ie,z,e){"use strict";var S,A=e(4168);function a(O){var B=this;this.next=null,this.entry=null,this.finish=function(){!function(q,N,H){var $=q.entry;for(q.entry=null;$;){var j=$.callback;N.pendingcb--,j(void 0),$=$.next}N.corkedRequestsFree.next=q}(B,O)}}ie.exports=w,w.WritableState=y;var M,_={deprecate:e(96656)},d=e(4776),s=e(33576).Buffer,t=e.g.Uint8Array||function(){},i=e(55324),n=e(24888).getHighWaterMark,r=e(92784).i,o=r.ERR_INVALID_ARG_TYPE,u=r.ERR_METHOD_NOT_IMPLEMENTED,l=r.ERR_MULTIPLE_CALLBACK,h=r.ERR_STREAM_CANNOT_PIPE,c=r.ERR_STREAM_DESTROYED,b=r.ERR_STREAM_NULL_VALUES,p=r.ERR_STREAM_WRITE_AFTER_END,m=r.ERR_UNKNOWN_ENCODING,v=i.errorOrDestroy;function x(){}function y(O,B,q){S=S||e(15316),"boolean"!=typeof q&&(q=B instanceof S),this.objectMode=!!(O=O||{}).objectMode,q&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=n(this,O,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===O.decodeStrings),this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){!function($,j){var Q,W=$._writableState,G=W.sync,ae=W.writecb;if("function"!=typeof ae)throw new l;if((Q=W).writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,j)!function(Q,ee,re,J,le){--ee.pendingcb,re?(A.nextTick(le,J),A.nextTick(P,Q,ee),Q._writableState.errorEmitted=!0,v(Q,J)):(le(J),Q._writableState.errorEmitted=!0,v(Q,J),P(Q,ee))}($,W,G,j,ae);else{var te=D(W)||$.destroyed;te||W.corked||W.bufferProcessing||!W.bufferedRequest||T($,W),G?A.nextTick(C,$,W,te,ae):C($,W,te,ae)}}(B,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==O.emitClose,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function w(O){var B=this instanceof(S=S||e(15316));if(!B&&!M.call(w,this))return new w(O);this._writableState=new y(O,this,B),this.writable=!0,O&&("function"==typeof O.write&&(this._write=O.write),"function"==typeof O.writev&&(this._writev=O.writev),"function"==typeof O.destroy&&(this._destroy=O.destroy),"function"==typeof O.final&&(this._final=O.final)),d.call(this)}function f(O,B,q,N,H,$,j){B.writelen=N,B.writecb=j,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new c("write")):q?O._writev(H,B.onwrite):O._write(H,$,B.onwrite),B.sync=!1}function C(O,B,q,N){var H,$;q||(H=O,0===($=B).length&&$.needDrain&&($.needDrain=!1,H.emit("drain"))),B.pendingcb--,N(),P(O,B)}function T(O,B){B.bufferProcessing=!0;var q=B.bufferedRequest;if(O._writev&&q&&q.next){var H=new Array(B.bufferedRequestCount),$=B.corkedRequestsFree;$.entry=q;for(var j=0,W=!0;q;)H[j]=q,q.isBuf||(W=!1),q=q.next,j+=1;H.allBuffers=W,f(O,B,!0,B.length,H,"",$.finish),B.pendingcb++,B.lastBufferedRequest=null,$.next?(B.corkedRequestsFree=$.next,$.next=null):B.corkedRequestsFree=new a(B),B.bufferedRequestCount=0}else{for(;q;){var G=q.chunk;if(f(O,B,!1,B.objectMode?1:G.length,G,q.encoding,q.callback),q=q.next,B.bufferedRequestCount--,B.writing)break}null===q&&(B.lastBufferedRequest=null)}B.bufferedRequest=q,B.bufferProcessing=!1}function D(O){return O.ending&&0===O.length&&null===O.bufferedRequest&&!O.finished&&!O.writing}function R(O,B){O._final(function(q){B.pendingcb--,q&&v(O,q),B.prefinished=!0,O.emit("prefinish"),P(O,B)})}function P(O,B){var H,$,q=D(B);if(q&&(H=O,($=B).prefinished||$.finalCalled||("function"!=typeof H._final||$.destroyed?($.prefinished=!0,H.emit("prefinish")):($.pendingcb++,$.finalCalled=!0,A.nextTick(R,H,$))),0===B.pendingcb&&(B.finished=!0,O.emit("finish"),B.autoDestroy))){var N=O._readableState;(!N||N.autoDestroy&&N.endEmitted)&&O.destroy()}return q}e(6768)(w,d),y.prototype.getBuffer=function(){for(var O=this.bufferedRequest,B=[];O;)B.push(O),O=O.next;return B},function(){try{Object.defineProperty(y.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(O){return!!M.call(this,O)||this===w&&O&&O._writableState instanceof y}})):M=function(O){return O instanceof this},w.prototype.pipe=function(){v(this,new h)},w.prototype.write=function(O,B,q){var N,W,G,ae,H=this._writableState,$=!1,j=!H.objectMode&&(s.isBuffer(N=O)||N instanceof t);return j&&!s.isBuffer(O)&&(O=s.from(O)),"function"==typeof B&&(q=B,B=null),j?B="buffer":B||(B=H.defaultEncoding),"function"!=typeof q&&(q=x),H.ending?(W=this,G=q,ae=new p,v(W,ae),A.nextTick(G,ae)):(j||function(W,G,ae,te){var Q;return null===ae?Q=new b:"string"==typeof ae||G.objectMode||(Q=new o("chunk",["string","Buffer"],ae)),!Q||(v(W,Q),A.nextTick(te,Q),!1)}(this,H,O,q))&&(H.pendingcb++,$=function(W,G,ae,te,Q,ee){if(!ae){var re=(ge=te,(ce=G).objectMode||!1===ce.decodeStrings||"string"!=typeof ge||(ge=s.from(ge,Q)),ge);te!==re&&(ae=!0,Q="buffer",te=re)}var ce,ge,J=G.objectMode?1:te.length;G.length+=J;var le=G.length<G.highWaterMark;if(le||(G.needDrain=!0),G.writing||G.corked){var fe=G.lastBufferedRequest;G.lastBufferedRequest={chunk:te,encoding:Q,isBuf:ae,callback:ee,next:null},fe?fe.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else f(W,G,!1,J,te,Q,ee);return le}(this,H,j,O,B,q)),$},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.bufferProcessing||!O.bufferedRequest||T(this,O))},w.prototype.setDefaultEncoding=function(O){if("string"==typeof O&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new m(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(O,B,q){q(new u("_write()"))},w.prototype._writev=null,w.prototype.end=function(O,B,q){var H,$,j,N=this._writableState;return"function"==typeof O?(q=O,O=null,B=null):"function"==typeof B&&(q=B,B=null),null!=O&&this.write(O,B),N.corked&&(N.corked=1,this.uncork()),N.ending||(H=this,j=q,($=N).ending=!0,P(H,$),j&&($.finished?A.nextTick(j):H.once("finish",j)),$.ended=!0,H.writable=!1),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),w.prototype.destroy=i.destroy,w.prototype._undestroy=i.undestroy,w.prototype._destroy=function(O,B){B(O)}},60328:function(ie,z,e){"use strict";var S,A=e(4168);function a(b,p,m){return p in b?Object.defineProperty(b,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):b[p]=m,b}var M=e(15932),_=Symbol("lastResolve"),d=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),n=Symbol("handlePromise"),r=Symbol("stream");function o(b,p){return{value:b,done:p}}function u(b){var p=b[_];if(null!==p){var m=b[r].read();null!==m&&(b[i]=null,b[_]=null,b[d]=null,p(o(m,!1)))}}function l(b){A.nextTick(u,b)}var h=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((a(S={get stream(){return this[r]},next:function(){var b=this,p=this[s];if(null!==p)return Promise.reject(p);if(this[t])return Promise.resolve(o(void 0,!0));if(this[r].destroyed)return new Promise(function(y,w){A.nextTick(function(){b[s]?w(b[s]):y(o(void 0,!0))})});var m,y,w,v=this[i];if(v)m=new Promise((y=v,w=this,function(f,C){y.then(function(){w[t]?f(o(void 0,!0)):w[n](f,C)},C)}));else{var x=this[r].read();if(null!==x)return Promise.resolve(o(x,!1));m=new Promise(this[n])}return this[i]=m,m}},Symbol.asyncIterator,function(){return this}),a(S,"return",function(){var b=this;return new Promise(function(p,m){b[r].destroy(null,function(v){v?m(v):p(o(void 0,!0))})})}),S),h);ie.exports=function(b){var p,m=Object.create(c,(a(p={},r,{value:b,writable:!0}),a(p,_,{value:null,writable:!0}),a(p,d,{value:null,writable:!0}),a(p,s,{value:null,writable:!0}),a(p,t,{value:b._readableState.endEmitted,writable:!0}),a(p,n,{value:function(v,x){var y=m[r].read();y?(m[i]=null,m[_]=null,m[d]=null,v(o(y,!1))):(m[_]=v,m[d]=x)},writable:!0}),p));return m[i]=null,M(b,function(v){if(v&&"ERR_STREAM_PREMATURE_CLOSE"!==v.code){var x=m[d];return null!==x&&(m[i]=null,m[_]=null,m[d]=null,x(v)),void(m[s]=v)}var y=m[_];null!==y&&(m[i]=null,m[_]=null,m[d]=null,y(o(void 0,!0))),m[t]=!0}),b.on("readable",l.bind(null,m)),m}},47264:function(ie,z,e){"use strict";function S(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),i.push.apply(i,n)}return i}function A(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}var M=e(33576).Buffer,_=e(21576).inspect,d=_&&_.custom||"inspect";ie.exports=function(){function s(){(function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var i;return i=[{key:"push",value:function(n){var r={data:n,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(n){var r={data:n,next:this.head};0===this.length&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(0!==this.length){var n=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(0===this.length)return"";for(var r=this.head,o=""+r.data;r=r.next;)o+=n+r.data;return o}},{key:"concat",value:function(n){if(0===this.length)return M.alloc(0);for(var l=M.allocUnsafe(n>>>0),h=this.head,c=0;h;)M.prototype.copy.call(h.data,l,c),c+=h.data.length,h=h.next;return l}},{key:"consume",value:function(n,r){var o;return n<this.head.data.length?(o=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):o=n===this.head.data.length?this.shift():r?this._getString(n):this._getBuffer(n),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var r=this.head,o=1,u=r.data;for(n-=u.length;r=r.next;){var l=r.data,h=n>l.length?l.length:n;if(u+=h===l.length?l:l.slice(0,n),0==(n-=h)){h===l.length?(++o,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=l.slice(h));break}++o}return this.length-=o,u}},{key:"_getBuffer",value:function(n){var r=M.allocUnsafe(n),o=this.head,u=1;for(o.data.copy(r),n-=o.data.length;o=o.next;){var l=o.data,h=n>l.length?l.length:n;if(l.copy(r,r.length-n,0,h),0==(n-=h)){h===l.length?(++u,this.head=o.next?o.next:this.tail=null):(this.head=o,o.data=l.slice(h));break}++u}return this.length-=u,r}},{key:d,value:function(n,r){return _(this,function(o){for(var u=1;u<arguments.length;u++){var l=null!=arguments[u]?arguments[u]:{};u%2?S(Object(l),!0).forEach(function(h){A(o,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):S(Object(l)).forEach(function(h){Object.defineProperty(o,h,Object.getOwnPropertyDescriptor(l,h))})}return o}({},r,{depth:0,customInspect:!1}))}}],i&&function a(s,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}(s.prototype,i),s}()},55324:function(ie,z,e){"use strict";var S=e(4168);function A(_,d){M(_,d),a(_)}function a(_){_._writableState&&!_._writableState.emitClose||_._readableState&&!_._readableState.emitClose||_.emit("close")}function M(_,d){_.emit("error",d)}ie.exports={destroy:function(_,d){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(d?d(_):_&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(M,this,_)):S.nextTick(M,this,_)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(n){!d&&n?s._writableState?s._writableState.errorEmitted?S.nextTick(a,s):(s._writableState.errorEmitted=!0,S.nextTick(A,s,n)):S.nextTick(A,s,n):d?(S.nextTick(a,s),d(n)):S.nextTick(a,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(_,d){var s=_._readableState,t=_._writableState;s&&s.autoDestroy||t&&t.autoDestroy?_.destroy(d):_.emit("error",d)}}},15932:function(ie,z,e){"use strict";var S=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function A(){}ie.exports=function a(M,_,d){if("function"==typeof _)return a(M,null,_);var b,p;_||(_={}),b=d||A,p=!1,d=function(){if(!p){p=!0;for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];b.apply(this,v)}};var s=_.readable||!1!==_.readable&&M.readable,t=_.writable||!1!==_.writable&&M.writable,i=function(){M.writable||r()},n=M._writableState&&M._writableState.finished,r=function(){t=!1,n=!0,s||d.call(M)},o=M._readableState&&M._readableState.endEmitted,u=function(){s=!1,o=!0,t||d.call(M)},l=function(b){d.call(M,b)},h=function(){var b;return s&&!o?(M._readableState&&M._readableState.ended||(b=new S),d.call(M,b)):t&&!n?(M._writableState&&M._writableState.ended||(b=new S),d.call(M,b)):void 0},c=function(){M.req.on("finish",r)};return function(b){return b.setHeader&&"function"==typeof b.abort}(M)?(M.on("complete",r),M.on("abort",h),M.req?c():M.on("request",c)):t&&!M._writableState&&(M.on("end",i),M.on("close",i)),M.on("end",u),M.on("finish",r),!1!==_.error&&M.on("error",l),M.on("close",h),function(){M.removeListener("complete",r),M.removeListener("abort",h),M.removeListener("request",c),M.req&&M.req.removeListener("finish",r),M.removeListener("end",i),M.removeListener("close",i),M.removeListener("finish",r),M.removeListener("end",u),M.removeListener("error",l),M.removeListener("close",h)}}},90555:function(ie){ie.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(ie,z,e){"use strict";var S,A=e(92784).i,a=A.ERR_MISSING_ARGS,M=A.ERR_STREAM_DESTROYED;function _(t){if(t)throw t}function d(t){t()}function s(t,i){return t.pipe(i)}ie.exports=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,l,o=(l=i).length?"function"!=typeof l[l.length-1]?_:l.pop():_;if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new a("streams");var u=i.map(function(l,h){var c=h<i.length-1;return function(b,p,m,v){var w,f;w=v,f=!1,v=function(){f||(f=!0,w.apply(void 0,arguments))};var x=!1;b.on("close",function(){x=!0}),void 0===S&&(S=e(15932)),S(b,{readable:p,writable:m},function(w){if(w)return v(w);x=!0,v()});var y=!1;return function(w){if(!x&&!y)return y=!0,function(f){return f.setHeader&&"function"==typeof f.abort}(b)?b.abort():"function"==typeof b.destroy?b.destroy():void v(w||new M("pipe"))}}(l,c,h>0,function(b){r||(r=b),b&&u.forEach(d),c||(u.forEach(d),o(r))})});return i.reduce(s)}},24888:function(ie,z,e){"use strict";var S=e(92784).i.ERR_INVALID_OPT_VALUE;ie.exports={getHighWaterMark:function(A,a,M,_){var s,d=null!=(s=a).highWaterMark?s.highWaterMark:_?s[M]:null;if(null!=d){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new S(_?M:"highWaterMark",d);return Math.floor(d)}return A.objectMode?16:16384}}},4776:function(ie,z,e){ie.exports=e(61252).EventEmitter},86032:function(ie,z,e){"use strict";var S=e(30456).Buffer,A=S.isEncoding||function(o){switch((o=""+o)&&o.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(o){var u;switch(this.encoding=function(l){var h=function(c){if(!c)return"utf8";for(var b;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(b)return;c=(""+c).toLowerCase(),b=!0}}(l);if("string"!=typeof h&&(S.isEncoding===A||!A(l)))throw new Error("Unknown encoding: "+l);return h||l}(o),this.encoding){case"utf16le":this.text=d,this.end=s,u=4;break;case"utf8":this.fillLast=_,u=4;break;case"base64":this.text=t,this.end=i,u=3;break;default:return this.write=n,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=S.allocUnsafe(u)}function M(o){return o<=127?0:o>>5==6?2:o>>4==14?3:o>>3==30?4:o>>6==2?-1:-2}function _(o){var u=this.lastTotal-this.lastNeed,l=function(h,c,b){if(128!=(192&c[0]))return h.lastNeed=0,"\ufffd";if(h.lastNeed>1&&c.length>1){if(128!=(192&c[1]))return h.lastNeed=1,"\ufffd";if(h.lastNeed>2&&c.length>2&&128!=(192&c[2]))return h.lastNeed=2,"\ufffd"}}(this,o);return void 0!==l?l:this.lastNeed<=o.length?(o.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(o.copy(this.lastChar,u,0,o.length),void(this.lastNeed-=o.length))}function d(o,u){if((o.length-u)%2==0){var l=o.toString("utf16le",u);if(l){var h=l.charCodeAt(l.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1],l.slice(0,-1)}return l}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=o[o.length-1],o.toString("utf16le",u,o.length-1)}function s(o){var u=o&&o.length?this.write(o):"";return this.lastNeed?u+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):u}function t(o,u){var l=(o.length-u)%3;return 0===l?o.toString("base64",u):(this.lastNeed=3-l,this.lastTotal=3,1===l?this.lastChar[0]=o[o.length-1]:(this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1]),o.toString("base64",u,o.length-l))}function i(o){var u=o&&o.length?this.write(o):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function n(o){return o.toString(this.encoding)}function r(o){return o&&o.length?this.write(o):""}z.o=a,a.prototype.write=function(o){if(0===o.length)return"";var u,l;if(this.lastNeed){if(void 0===(u=this.fillLast(o)))return"";l=this.lastNeed,this.lastNeed=0}else l=0;return l<o.length?u?u+this.text(o,l):this.text(o,l):u||""},a.prototype.end=function(o){var u=o&&o.length?this.write(o):"";return this.lastNeed?u+"\ufffd":u},a.prototype.text=function(o,u){var l=function(c,b,p){var m=b.length-1;if(m<p)return 0;var v=M(b[m]);return v>=0?(v>0&&(c.lastNeed=v-1),v):--m<p||-2===v?0:(v=M(b[m]))>=0?(v>0&&(c.lastNeed=v-2),v):--m<p||-2===v?0:(v=M(b[m]))>=0?(v>0&&(2===v?v=0:c.lastNeed=v-3),v):0}(this,o,u);if(!this.lastNeed)return o.toString("utf8",u);this.lastTotal=l;var h=o.length-(l-this.lastNeed);return o.copy(this.lastChar,0,h),o.toString("utf8",u,h)},a.prototype.fillLast=function(o){if(this.lastNeed<=o.length)return o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,o.length),this.lastNeed-=o.length}},55619:function(ie,z,e){var S=e(45408),A=e(86844)("stream-parser");ie.exports=function(c){var b=c&&"function"==typeof c._transform;if(!(b||c&&"function"==typeof c._write))throw new Error("must pass a Writable or Transform stream in");A("extending Parser into stream"),c._bytes=t,c._skipBytes=i,b&&(c._passthrough=n),b?c._transform=o:c._write=r};var a=-1,M=0,_=1,d=2;function s(c){A("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,"function"==typeof c.push&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,b){S(!this._parserCallback,'there is already a "callback" set!'),S(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),A("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=M}function i(c,b){S(!this._parserCallback,'there is already a "callback" set!'),S(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),A("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=_}function n(c,b){S(!this._parserCallback,'There is already a "callback" set!'),S(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),A("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=d}function r(c,b,p){this._parserInit||s(this),A("write(%o bytes)",c.length),"function"==typeof b&&(p=b),l(this,c,null,p)}function o(c,b,p){this._parserInit||s(this),A("transform(%o bytes)",c.length),"function"!=typeof b&&(b=this._parserOutput),l(this,c,b,p)}function u(c,b,p,m){if(c._parserBytesLeft-=b.length,A("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===M?(c._parserBuffers.push(b),c._parserBuffered+=b.length):c._parserState===d&&p(b),0!==c._parserBytesLeft)return m;var v=c._parserCallback;if(v&&c._parserState===M&&c._parserBuffers.length>1&&(b=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==M&&(b=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),v){var x=[];b&&x.push(b),p&&x.push(p);var y=v.length>x.length;y&&x.push(h(m));var w=v.apply(c,x);if(!y||m===w)return m}}var l=h(function c(b,p,m,v){return b._parserBytesLeft<=0?v(new Error("got data but not currently parsing anything")):p.length<=b._parserBytesLeft?function(){return u(b,p,m,v)}:function(){var x=p.slice(0,b._parserBytesLeft);return u(b,x,m,function(y){return y?v(y):p.length>x.length?function(){return c(b,p.slice(x.length),m,v)}:void 0})}});function h(c){return function(){for(var b=c.apply(this,arguments);"function"==typeof b;)b=b();return b}}},86844:function(ie,z,e){var S=e(4168);function A(){var a;try{a=z.storage.debug}catch{}return!a&&void 0!==S&&"env"in S&&(a=S.env.DEBUG),a}(z=ie.exports=e(89416)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},z.formatArgs=function(a){var M=this.useColors;if(a[0]=(M?"%c":"")+this.namespace+(M?" %c":" ")+a[0]+(M?"%c ":" ")+"+"+z.humanize(this.diff),M){var _="color: "+this.color;a.splice(1,0,_,"color: inherit");var d=0,s=0;a[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(d++,"%c"===t&&(s=d))}),a.splice(s,0,_)}},z.save=function(a){try{null==a?z.storage.removeItem("debug"):z.storage.debug=a}catch{}},z.load=A,z.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},z.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),z.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],z.formatters.j=function(a){try{return JSON.stringify(a)}catch(M){return"[UnexpectedJSONParseError]: "+M.message}},z.enable(A())},89416:function(ie,z,e){var S;function A(a){function M(){if(M.enabled){var _=M,d=+new Date;_.diff=d-(S||d),_.prev=S,_.curr=d,S=d;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=z.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var n=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(r,o){if("%%"===r)return r;n++;var u=z.formatters[o];return"function"==typeof u&&(r=u.call(_,t[n]),t.splice(n,1),n--),r}),z.formatArgs.call(_,t),(M.log||z.log||console.log.bind(console)).apply(_,t)}}return M.namespace=a,M.enabled=z.enabled(a),M.useColors=z.useColors(),M.color=function(_){var d,s=0;for(d in _)s=(s<<5)-s+_.charCodeAt(d),s|=0;return z.colors[Math.abs(s)%z.colors.length]}(a),"function"==typeof z.init&&z.init(M),M}(z=ie.exports=A.debug=A.default=A).coerce=function(a){return a instanceof Error?a.stack||a.message:a},z.disable=function(){z.enable("")},z.enable=function(a){z.save(a),z.names=[],z.skips=[];for(var M=("string"==typeof a?a:"").split(/[\s,]+/),_=M.length,d=0;d<_;d++)M[d]&&("-"===(a=M[d].replace(/\*/g,".*?"))[0]?z.skips.push(new RegExp("^"+a.substr(1)+"$")):z.names.push(new RegExp("^"+a+"$")))},z.enabled=function(a){var M,_;for(M=0,_=z.skips.length;M<_;M++)if(z.skips[M].test(a))return!1;for(M=0,_=z.names.length;M<_;M++)if(z.names[M].test(a))return!0;return!1},z.humanize=e(93744),z.names=[],z.skips=[],z.formatters={}},93744:function(ie){var z=1e3,e=60*z,S=60*e,A=24*S;function a(M,_,d){if(!(M<_))return M<1.5*_?Math.floor(M/_)+" "+d:Math.ceil(M/_)+" "+d+"s"}ie.exports=function(M,_){_=_||{};var d,t,s=typeof M;if("string"===s&&M.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*A;case"hours":case"hour":case"hrs":case"hr":case"h":return n*S;case"minutes":case"minute":case"mins":case"min":case"m":return n*e;case"seconds":case"second":case"secs":case"sec":case"s":return n*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(M);if("number"===s&&!1===isNaN(M))return _.long?a(d=M,A,"day")||a(d,S,"hour")||a(d,e,"minute")||a(d,z,"second")||d+" ms":(t=M)>=A?Math.round(t/A)+"d":t>=S?Math.round(t/S)+"h":t>=e?Math.round(t/e)+"m":t>=z?Math.round(t/z)+"s":t+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(M))}},39956:function(ie,z,e){"use strict";var S=e(32868);ie.exports=function(A,a,M){if(null==A)throw Error("First argument should be a string");if(null==a)throw Error("Separator should be a string or a RegExp");M?("string"==typeof M||Array.isArray(M))&&(M={ignore:M}):M={},null==M.escape&&(M.escape=!0),null==M.ignore?M.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof M.ignore&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(r){return 1===r.length&&(r+=r),r}));var _=S.parse(A,{flat:!0,brackets:M.ignore}),d=_[0].split(a);if(M.escape){for(var s=[],t=0;t<d.length;t++){var i=d[t];"\\"===i[i.length-1]&&"\\"!==i[i.length-2]?(s.push(i+a+d[t+1]),t++):s.push(i)}d=s}for(t=0;t<d.length;t++)_[0]=d[t],d[t]=S.stringify(_,{flat:!0});return d}},78484:function(ie){"use strict";ie.exports=function(z){for(var e=z.length,S=new Array(e),A=new Array(e),a=new Array(e),M=new Array(e),_=new Array(e),d=new Array(e),s=0;s<e;++s)S[s]=-1,A[s]=0,a[s]=!1,M[s]=0,_[s]=-1,d[s]=[];var t,i=0,n=[],r=[];function o(h){var c=[h],b=[h];for(S[h]=A[h]=i,a[h]=!0,i+=1;b.length>0;){var p=z[h=b[b.length-1]];if(M[h]<p.length){for(var m=M[h];m<p.length;++m){var v=p[m];if(S[v]<0){S[v]=A[v]=i,a[v]=!0,i+=1,c.push(v),b.push(v);break}a[v]&&(A[h]=0|Math.min(A[h],A[v])),_[v]>=0&&d[h].push(_[v])}M[h]=m}else{if(A[h]===S[h]){var x=[],y=[],w=0;for(m=c.length-1;m>=0;--m){var f=c[m];if(a[f]=!1,x.push(f),y.push(d[f]),w+=d[f].length,_[f]=n.length,f===h){c.length=m;break}}n.push(x);var C=new Array(w);for(m=0;m<y.length;m++)for(var T=0;T<y[m].length;T++)C[--w]=y[m][T];r.push(C)}b.pop()}}}for(s=0;s<e;++s)S[s]<0&&o(s);for(s=0;s<r.length;s++){var u=r[s];if(0!==u.length){u.sort(function(h,c){return h-c}),t=[u[0]];for(var l=1;l<u.length;l++)u[l]!==u[l-1]&&t.push(u[l]);r[s]=t}}return{components:n,adjacencyList:r}}},92848:function(ie,z,e){"use strict";e.r(z);var S=2*Math.PI,A=function(_,d,s,t,i,n,r){var o=_.x,u=_.y;return{x:t*(o*=d)-i*(u*=s)+n,y:i*o+t*u+r}},a=function(_,d){var s=1.5707963267948966===d?.551915024494:-1.5707963267948966===d?-.551915024494:1.3333333333333333*Math.tan(d/4),t=Math.cos(_),i=Math.sin(_),n=Math.cos(_+d),r=Math.sin(_+d);return[{x:t-i*s,y:i+t*s},{x:n+r*s,y:r-n*s},{x:n,y:r}]},M=function(_,d,s,t){var i=_*s+d*t;return i>1&&(i=1),i<-1&&(i=-1),(_*t-d*s<0?-1:1)*Math.acos(i)};z.default=function(_){var d=_.px,s=_.py,t=_.cx,i=_.cy,n=_.rx,r=_.ry,o=_.xAxisRotation,u=void 0===o?0:o,l=_.largeArcFlag,h=void 0===l?0:l,c=_.sweepFlag,b=void 0===c?0:c,p=[];if(0===n||0===r)return[];var m=Math.sin(u*S/360),v=Math.cos(u*S/360),x=v*(d-t)/2+m*(s-i)/2,y=-m*(d-t)/2+v*(s-i)/2;if(0===x&&0===y)return[];n=Math.abs(n),r=Math.abs(r);var w=Math.pow(x,2)/Math.pow(n,2)+Math.pow(y,2)/Math.pow(r,2);w>1&&(n*=Math.sqrt(w),r*=Math.sqrt(w));var C=function(N,H){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function($,j){var W=[],G=!0,ae=!1,te=void 0;try{for(var Q,ee=$[Symbol.iterator]();!(G=(Q=ee.next()).done)&&(W.push(Q.value),4!==W.length);G=!0);}catch(re){ae=!0,te=re}finally{try{!G&&ee.return&&ee.return()}finally{if(ae)throw te}}return W}(N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(N,H,$,j,W,G,ae,te,Q,ee,re,J){var le=Math.pow(W,2),fe=Math.pow(G,2),ce=Math.pow(re,2),ge=Math.pow(J,2),Te=le*fe-le*ge-fe*ce;Te<0&&(Te=0),Te/=le*ge+fe*ce;var Me=(Te=Math.sqrt(Te)*(ae===te?-1:1))*W/G*J,we=Te*-G/W*re,xe=ee*Me-Q*we+(N+$)/2,be=Q*Me+ee*we+(H+j)/2,ye=(re-Me)/W,Se=(J-we)/G,Ee=(-re-Me)/W,he=(-J-we)/G,ue=M(1,0,ye,Se),me=M(ye,Se,Ee,he);return 0===te&&me>0&&(me-=S),1===te&&me<0&&(me+=S),[xe,be,ue,me]}(d,s,t,i,n,r,h,b,m,v,x,y)),T=C[0],D=C[1],R=C[2],P=C[3],O=Math.abs(P)/(S/4);Math.abs(1-O)<1e-7&&(O=1);var B=Math.max(Math.ceil(O),1);P/=B;for(var q=0;q<B;q++)p.push(a(R,P)),R+=P;return p.map(function(N){var H=A(N[0],n,r,v,m,T,D),$=H.x,j=H.y,W=A(N[1],n,r,v,m,T,D),G=W.x,ae=W.y,te=A(N[2],n,r,v,m,T,D);return{x1:$,y1:j,x2:G,y2:ae,x:te.x,y:te.y}})}},74840:function(ie,z,e){"use strict";var S=e(21984),A=e(49972),a=e(41976),M=e(53520),_=e(45408);ie.exports=function(d){if(Array.isArray(d)&&1===d.length&&"string"==typeof d[0]&&(d=d[0]),"string"==typeof d&&(_(M(d),"String is not an SVG path."),d=S(d)),_(Array.isArray(d),"Argument should be a string or an array of path segments."),d=A(d),!(d=a(d)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],t=0,i=d.length;t<i;t++)for(var n=d[t].slice(1),r=0;r<n.length;r+=2)n[r+0]<s[0]&&(s[0]=n[r+0]),n[r+1]<s[1]&&(s[1]=n[r+1]),n[r+0]>s[2]&&(s[2]=n[r+0]),n[r+1]>s[3]&&(s[3]=n[r+1]);return s}},41976:function(ie,z,e){"use strict";ie.exports=function(M){for(var _,d=[],s=0,t=0,i=0,n=0,r=null,o=null,u=0,l=0,h=0,c=M.length;h<c;h++){var b=M[h],p=b[0];switch(p){case"M":i=b[1],n=b[2];break;case"A":var m=S({px:u,py:l,cx:b[6],cy:b[7],rx:b[1],ry:b[2],xAxisRotation:b[3],largeArcFlag:b[4],sweepFlag:b[5]});if(!m.length)continue;for(var v,x=0;x<m.length;x++)b=["C",(v=m[x]).x1,v.y1,v.x2,v.y2,v.x,v.y],x<m.length-1&&d.push(b);break;case"S":var y=u,w=l;"C"!=_&&"S"!=_||(y+=y-s,w+=w-t),b=["C",y,w,b[1],b[2],b[3],b[4]];break;case"T":"Q"==_||"T"==_?(r=2*u-r,o=2*l-o):(r=u,o=l),b=a(u,l,r,o,b[1],b[2]);break;case"Q":r=b[1],o=b[2],b=a(u,l,b[1],b[2],b[3],b[4]);break;case"L":b=A(u,l,b[1],b[2]);break;case"H":b=A(u,l,b[1],l);break;case"V":b=A(u,l,u,b[1]);break;case"Z":b=A(u,l,i,n)}_=p,u=b[b.length-2],l=b[b.length-1],b.length>4?(s=b[b.length-4],t=b[b.length-3]):(s=u,t=l),d.push(b)}return d};var S=e(92848);function A(M,_,d,s){return["C",M,_,d,s,d,s]}function a(M,_,d,s,t,i){return["C",M/3+.6666666666666666*d,_/3+.6666666666666666*s,t/3+.6666666666666666*d,i/3+.6666666666666666*s,t,i]}},20472:function(ie,z,e){"use strict";var S,A=e(74840),a=e(21984),M=e(22235),_=e(53520),d=e(29620),s=document.createElement("canvas"),t=s.getContext("2d");ie.exports=function(i,n){if(!_(i))throw Error("Argument should be valid svg path string");var r,o;n||(n={}),n.shape?(r=n.shape[0],o=n.shape[1]):(r=s.width=n.w||n.width||200,o=s.height=n.h||n.height||200);var u=Math.min(r,o),l=n.stroke||0,h=n.viewbox||n.viewBox||A(i),c=[r/(h[2]-h[0]),o/(h[3]-h[1])],b=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,r,o),t.fillStyle="white",l&&("number"!=typeof l&&(l=1),t.strokeStyle=l>0?"white":"black",t.lineWidth=Math.abs(l)),t.translate(.5*r,.5*o),t.scale(b,b),function(){if(null!=S)return S;var v=document.createElement("canvas").getContext("2d");if(v.canvas.width=v.canvas.height=1,!window.Path2D)return S=!1;var x=new Path2D("M0,0h1v1h-1v-1Z");v.fillStyle="black",v.fill(x);var y=v.getImageData(0,0,1,1);return S=y&&y.data&&255===y.data[3]}()){var p=new Path2D(i);t.fill(p),l&&t.stroke(p)}else{var m=a(i);M(t,m),t.fill(),l&&t.stroke()}return t.setTransform(1,0,0,1,0,0),d(t,{cutoff:null!=n.cutoff?n.cutoff:.5,radius:null!=n.radius?n.radius:.5*u})}},49760:function(ie,z,e){var S;!function(A){var a=/^\s+/,M=/\s+$/,_=0,d=A.round,s=A.min,t=A.max,i=A.random;function n(re,J){if(J=J||{},(re=re||"")instanceof n)return re;if(!(this instanceof n))return new n(re,J);var fe,ge,Te,Me,we,xe,be,ye,Se,Ee,le=(Me={r:0,g:0,b:0},we=1,xe=null,be=null,ye=null,Se=!1,Ee=!1,"string"==typeof(fe=re)&&(fe=function(he){he=he.replace(a,"").replace(M,"").toLowerCase();var ue,me=!1;if(R[he])he=R[he],me=!0;else if("transparent"==he)return{r:0,g:0,b:0,a:0,format:"name"};return(ue=Q.rgb.exec(he))?{r:ue[1],g:ue[2],b:ue[3]}:(ue=Q.rgba.exec(he))?{r:ue[1],g:ue[2],b:ue[3],a:ue[4]}:(ue=Q.hsl.exec(he))?{h:ue[1],s:ue[2],l:ue[3]}:(ue=Q.hsla.exec(he))?{h:ue[1],s:ue[2],l:ue[3],a:ue[4]}:(ue=Q.hsv.exec(he))?{h:ue[1],s:ue[2],v:ue[3]}:(ue=Q.hsva.exec(he))?{h:ue[1],s:ue[2],v:ue[3],a:ue[4]}:(ue=Q.hex8.exec(he))?{r:N(ue[1]),g:N(ue[2]),b:N(ue[3]),a:W(ue[4]),format:me?"name":"hex8"}:(ue=Q.hex6.exec(he))?{r:N(ue[1]),g:N(ue[2]),b:N(ue[3]),format:me?"name":"hex"}:(ue=Q.hex4.exec(he))?{r:N(ue[1]+""+ue[1]),g:N(ue[2]+""+ue[2]),b:N(ue[3]+""+ue[3]),a:W(ue[4]+""+ue[4]),format:me?"name":"hex8"}:!!(ue=Q.hex3.exec(he))&&{r:N(ue[1]+""+ue[1]),g:N(ue[2]+""+ue[2]),b:N(ue[3]+""+ue[3]),format:me?"name":"hex"}}(fe)),"object"==typeof fe&&(ee(fe.r)&&ee(fe.g)&&ee(fe.b)?(ge=fe.g,Te=fe.b,Me={r:255*B(fe.r,255),g:255*B(ge,255),b:255*B(Te,255)},Se=!0,Ee="%"===String(fe.r).substr(-1)?"prgb":"rgb"):ee(fe.h)&&ee(fe.s)&&ee(fe.v)?(xe=$(fe.s),be=$(fe.v),Me=function(he,ue,me){he=6*B(he,360),ue=B(ue,100),me=B(me,100);var Pe=A.floor(he),Ce=he-Pe,Ie=me*(1-ue),Oe=me*(1-Ce*ue),ze=me*(1-(1-Ce)*ue),je=Pe%6;return{r:255*[me,Oe,Ie,Ie,ze,me][je],g:255*[ze,me,me,Oe,Ie,Ie][je],b:255*[Ie,Ie,ze,me,me,Oe][je]}}(fe.h,xe,be),Se=!0,Ee="hsv"):ee(fe.h)&&ee(fe.s)&&ee(fe.l)&&(xe=$(fe.s),ye=$(fe.l),Me=function(he,ue,me){var Pe,Ce,Ie;function Oe(ve,Ae,Le){return Le<0&&(Le+=1),Le>1&&(Le-=1),Le<1/6?ve+6*(Ae-ve)*Le:Le<.5?Ae:Le<2/3?ve+(Ae-ve)*(2/3-Le)*6:ve}if(he=B(he,360),ue=B(ue,100),me=B(me,100),0===ue)Pe=Ce=Ie=me;else{var ze=me<.5?me*(1+ue):me+ue-me*ue,je=2*me-ze;Pe=Oe(je,ze,he+1/3),Ce=Oe(je,ze,he),Ie=Oe(je,ze,he-1/3)}return{r:255*Pe,g:255*Ce,b:255*Ie}}(fe.h,xe,ye),Se=!0,Ee="hsl"),fe.hasOwnProperty("a")&&(we=fe.a)),we=O(we),{ok:Se,format:fe.format||Ee,r:s(255,t(Me.r,0)),g:s(255,t(Me.g,0)),b:s(255,t(Me.b,0)),a:we});this._originalInput=re,this._r=le.r,this._g=le.g,this._b=le.b,this._a=le.a,this._roundA=d(100*this._a)/100,this._format=J.format||le.format,this._gradientType=J.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=le.ok,this._tc_id=_++}function r(re,J,le){re=B(re,255),J=B(J,255),le=B(le,255);var fe,ce,ge=t(re,J,le),Te=s(re,J,le),Me=(ge+Te)/2;if(ge==Te)fe=ce=0;else{var we=ge-Te;switch(ce=Me>.5?we/(2-ge-Te):we/(ge+Te),ge){case re:fe=(J-le)/we+(J<le?6:0);break;case J:fe=(le-re)/we+2;break;case le:fe=(re-J)/we+4}fe/=6}return{h:fe,s:ce,l:Me}}function o(re,J,le){re=B(re,255),J=B(J,255),le=B(le,255);var fe,ce,ge=t(re,J,le),Te=s(re,J,le),Me=ge,we=ge-Te;if(ce=0===ge?0:we/ge,ge==Te)fe=0;else{switch(ge){case re:fe=(J-le)/we+(J<le?6:0);break;case J:fe=(le-re)/we+2;break;case le:fe=(re-J)/we+4}fe/=6}return{h:fe,s:ce,v:Me}}function u(re,J,le,fe){var ce=[H(d(re).toString(16)),H(d(J).toString(16)),H(d(le).toString(16))];return fe&&ce[0].charAt(0)==ce[0].charAt(1)&&ce[1].charAt(0)==ce[1].charAt(1)&&ce[2].charAt(0)==ce[2].charAt(1)?ce[0].charAt(0)+ce[1].charAt(0)+ce[2].charAt(0):ce.join("")}function l(re,J,le,fe){return[H(j(fe)),H(d(re).toString(16)),H(d(J).toString(16)),H(d(le).toString(16))].join("")}function h(re,J){J=0===J?0:J||10;var le=n(re).toHsl();return le.s-=J/100,le.s=q(le.s),n(le)}function c(re,J){J=0===J?0:J||10;var le=n(re).toHsl();return le.s+=J/100,le.s=q(le.s),n(le)}function b(re){return n(re).desaturate(100)}function p(re,J){J=0===J?0:J||10;var le=n(re).toHsl();return le.l+=J/100,le.l=q(le.l),n(le)}function m(re,J){J=0===J?0:J||10;var le=n(re).toRgb();return le.r=t(0,s(255,le.r-d(-J/100*255))),le.g=t(0,s(255,le.g-d(-J/100*255))),le.b=t(0,s(255,le.b-d(-J/100*255))),n(le)}function v(re,J){J=0===J?0:J||10;var le=n(re).toHsl();return le.l-=J/100,le.l=q(le.l),n(le)}function x(re,J){var le=n(re).toHsl(),fe=(le.h+J)%360;return le.h=fe<0?360+fe:fe,n(le)}function y(re){var J=n(re).toHsl();return J.h=(J.h+180)%360,n(J)}function w(re){var J=n(re).toHsl(),le=J.h;return[n(re),n({h:(le+120)%360,s:J.s,l:J.l}),n({h:(le+240)%360,s:J.s,l:J.l})]}function f(re){var J=n(re).toHsl(),le=J.h;return[n(re),n({h:(le+90)%360,s:J.s,l:J.l}),n({h:(le+180)%360,s:J.s,l:J.l}),n({h:(le+270)%360,s:J.s,l:J.l})]}function C(re){var J=n(re).toHsl(),le=J.h;return[n(re),n({h:(le+72)%360,s:J.s,l:J.l}),n({h:(le+216)%360,s:J.s,l:J.l})]}function T(re,J,le){J=J||6,le=le||30;var fe=n(re).toHsl(),ce=360/le,ge=[n(re)];for(fe.h=(fe.h-(ce*J>>1)+720)%360;--J;)fe.h=(fe.h+ce)%360,ge.push(n(fe));return ge}function D(re,J){J=J||6;for(var le=n(re).toHsv(),fe=le.h,ce=le.s,ge=le.v,Te=[],Me=1/J;J--;)Te.push(n({h:fe,s:ce,v:ge})),ge=(ge+Me)%1;return Te}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var re=this.toRgb();return(299*re.r+587*re.g+114*re.b)/1e3},getLuminance:function(){var re,J,le,fe=this.toRgb();return J=fe.g/255,le=fe.b/255,.2126*((re=fe.r/255)<=.03928?re/12.92:A.pow((re+.055)/1.055,2.4))+.7152*(J<=.03928?J/12.92:A.pow((J+.055)/1.055,2.4))+.0722*(le<=.03928?le/12.92:A.pow((le+.055)/1.055,2.4))},setAlpha:function(re){return this._a=O(re),this._roundA=d(100*this._a)/100,this},toHsv:function(){var re=o(this._r,this._g,this._b);return{h:360*re.h,s:re.s,v:re.v,a:this._a}},toHsvString:function(){var re=o(this._r,this._g,this._b),J=d(360*re.h),le=d(100*re.s),fe=d(100*re.v);return 1==this._a?"hsv("+J+", "+le+"%, "+fe+"%)":"hsva("+J+", "+le+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var re=r(this._r,this._g,this._b);return{h:360*re.h,s:re.s,l:re.l,a:this._a}},toHslString:function(){var re=r(this._r,this._g,this._b),J=d(360*re.h),le=d(100*re.s),fe=d(100*re.l);return 1==this._a?"hsl("+J+", "+le+"%, "+fe+"%)":"hsla("+J+", "+le+"%, "+fe+"%, "+this._roundA+")"},toHex:function(re){return u(this._r,this._g,this._b,re)},toHexString:function(re){return"#"+this.toHex(re)},toHex8:function(re){return le=this._g,fe=this._b,ce=this._a,ge=re,Te=[H(d(this._r).toString(16)),H(d(le).toString(16)),H(d(fe).toString(16)),H(j(ce))],ge&&Te[0].charAt(0)==Te[0].charAt(1)&&Te[1].charAt(0)==Te[1].charAt(1)&&Te[2].charAt(0)==Te[2].charAt(1)&&Te[3].charAt(0)==Te[3].charAt(1)?Te[0].charAt(0)+Te[1].charAt(0)+Te[2].charAt(0)+Te[3].charAt(0):Te.join("");var le,fe,ce,ge,Te},toHex8String:function(re){return"#"+this.toHex8(re)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(100*B(this._r,255))+"%",g:d(100*B(this._g,255))+"%",b:d(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+d(100*B(this._r,255))+"%, "+d(100*B(this._g,255))+"%, "+d(100*B(this._b,255))+"%)":"rgba("+d(100*B(this._r,255))+"%, "+d(100*B(this._g,255))+"%, "+d(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(re){var J="#"+l(this._r,this._g,this._b,this._a),le=J,fe=this._gradientType?"GradientType = 1, ":"";if(re){var ce=n(re);le="#"+l(ce._r,ce._g,ce._b,ce._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+J+",endColorstr="+le+")"},toString:function(re){var J=!!re;re=re||this._format;var le=!1;return J||!(this._a<1&&this._a>=0)||"hex"!==re&&"hex6"!==re&&"hex3"!==re&&"hex4"!==re&&"hex8"!==re&&"name"!==re?("rgb"===re&&(le=this.toRgbString()),"prgb"===re&&(le=this.toPercentageRgbString()),"hex"!==re&&"hex6"!==re||(le=this.toHexString()),"hex3"===re&&(le=this.toHexString(!0)),"hex4"===re&&(le=this.toHex8String(!0)),"hex8"===re&&(le=this.toHex8String()),"name"===re&&(le=this.toName()),"hsl"===re&&(le=this.toHslString()),"hsv"===re&&(le=this.toHsvString()),le||this.toHexString()):"name"===re&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(re,J){var le=re.apply(null,[this].concat([].slice.call(J)));return this._r=le._r,this._g=le._g,this._b=le._b,this.setAlpha(le._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(re,J){return re.apply(null,[this].concat([].slice.call(J)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(f,arguments)}},n.fromRatio=function(re,J){if("object"==typeof re){var le={};for(var fe in re)re.hasOwnProperty(fe)&&(le[fe]="a"===fe?re[fe]:$(re[fe]));re=le}return n(re,J)},n.equals=function(re,J){return!(!re||!J)&&n(re).toRgbString()==n(J).toRgbString()},n.random=function(){return n.fromRatio({r:i(),g:i(),b:i()})},n.mix=function(re,J,le){le=0===le?0:le||50;var fe=n(re).toRgb(),ce=n(J).toRgb(),ge=le/100;return n({r:(ce.r-fe.r)*ge+fe.r,g:(ce.g-fe.g)*ge+fe.g,b:(ce.b-fe.b)*ge+fe.b,a:(ce.a-fe.a)*ge+fe.a})},n.readability=function(re,J){var le=n(re),fe=n(J);return(A.max(le.getLuminance(),fe.getLuminance())+.05)/(A.min(le.getLuminance(),fe.getLuminance())+.05)},n.isReadable=function(re,J,le){var fe,ce,ge,Te,Me,we=n.readability(re,J);switch(ce=!1,(ge=le,"AA"!==(Te=((ge=ge||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==Te&&(Te="AA"),"small"!==(Me=(ge.size||"small").toLowerCase())&&"large"!==Me&&(Me="small"),fe={level:Te,size:Me}).level+fe.size){case"AAsmall":case"AAAlarge":ce=we>=4.5;break;case"AAlarge":ce=we>=3;break;case"AAAsmall":ce=we>=7}return ce},n.mostReadable=function(re,J,le){var fe,ce,ge,Te,Me=null,we=0;ce=(le=le||{}).includeFallbackColors,ge=le.level,Te=le.size;for(var xe=0;xe<J.length;xe++)(fe=n.readability(re,J[xe]))>we&&(we=fe,Me=n(J[xe]));return n.isReadable(re,Me,{level:ge,size:Te})||!ce?Me:(le.includeFallbackColors=!1,n.mostReadable(re,["#fff","#000"],le))};var R=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=n.hexNames=function(re){var J={};for(var le in re)re.hasOwnProperty(le)&&(J[re[le]]=le);return J}(R);function O(re){return re=parseFloat(re),(isNaN(re)||re<0||re>1)&&(re=1),re}function B(re,J){var fe;"string"==typeof(fe=re)&&-1!=fe.indexOf(".")&&1===parseFloat(fe)&&(re="100%");var le=function(fe){return"string"==typeof fe&&-1!=fe.indexOf("%")}(re);return re=s(J,t(0,parseFloat(re))),le&&(re=parseInt(re*J,10)/100),A.abs(re-J)<1e-6?1:re%J/parseFloat(J)}function q(re){return s(1,t(0,re))}function N(re){return parseInt(re,16)}function H(re){return 1==re.length?"0"+re:""+re}function $(re){return re<=1&&(re=100*re+"%"),re}function j(re){return A.round(255*parseFloat(re)).toString(16)}function W(re){return N(re)/255}var G,ae,te,Q=(ae="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",te="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+ae),rgba:new RegExp("rgba"+te),hsl:new RegExp("hsl"+ae),hsla:new RegExp("hsla"+te),hsv:new RegExp("hsv"+ae),hsva:new RegExp("hsva"+te),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ee(re){return!!Q.CSS_UNIT.exec(re)}ie.exports?ie.exports=n:void 0===(S=function(){return n}.call(z,e,z,ie))||(ie.exports=S)}(Math)},37816:function(ie){"use strict";ie.exports=e,ie.exports.float32=ie.exports.float=e,ie.exports.fract32=ie.exports.fract=function(S,A){if(S.length){if(S instanceof Float32Array)return new Float32Array(S.length);A instanceof Float32Array||(A=e(S));for(var a=0,M=A.length;a<M;a++)A[a]=S[a]-A[a];return A}return e(S-e(S))};var z=new Float32Array(1);function e(S){return S.length?S instanceof Float32Array?S:new Float32Array(S):(z[0]=S,z[0])}},23464:function(ie,z,e){"use strict";var S=e(65819);ie.exports=M;var A=96;function a(_,d){var s=S(getComputedStyle(_).getPropertyValue(d));return s[0]*M(s[1],_)}function M(_,d){switch(d=d||document.body,_=(_||"px").trim().toLowerCase(),d!==window&&d!==document||(d=document.body),_){case"%":return d.clientHeight/100;case"ch":case"ex":return function(s,t){var i=document.createElement("div");i.style["font-size"]="128"+s,t.appendChild(i);var n=a(i,"font-size")/128;return t.removeChild(i),n}(_,d);case"em":return a(d,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return A;case"cm":return A/2.54;case"mm":return A/25.4;case"pt":return A/72;case"pc":return A/6}return 1}},55712:function(ie,z,e){"use strict";function S(M){return M}function A(M,_){return"string"==typeof _&&(_=M.objects[_]),"GeometryCollection"===_.type?{type:"FeatureCollection",features:_.geometries.map(function(d){return a(M,d)})}:a(M,_)}function a(M,_){var d=_.id,s=_.bbox,t=null==_.properties?{}:_.properties,i=function(n,r){var o=function(m){if(null==m)return S;var v,x,y=m.scale[0],w=m.scale[1],f=m.translate[0],C=m.translate[1];return function(T,D){D||(v=x=0);var R=2,P=T.length,O=new Array(P);for(O[0]=(v+=T[0])*y+f,O[1]=(x+=T[1])*w+C;R<P;)O[R]=T[R],++R;return O}}(n.transform),u=n.arcs;function l(m,v){v.length&&v.pop();for(var x=u[m<0?~m:m],y=0,w=x.length;y<w;++y)v.push(o(x[y],y));m<0&&function(f,C){for(var T,D=f.length,R=D-C;R<--D;)T=f[R],f[R++]=f[D],f[D]=T}(v,w)}function h(m){return o(m)}function c(m){for(var v=[],x=0,y=m.length;x<y;++x)l(m[x],v);return v.length<2&&v.push(v[0]),v}function b(m){for(var v=c(m);v.length<4;)v.push(v[0]);return v}function p(m){return m.map(b)}return function m(v){var x,y=v.type;switch(y){case"GeometryCollection":return{type:y,geometries:v.geometries.map(m)};case"Point":x=h(v.coordinates);break;case"MultiPoint":x=v.coordinates.map(h);break;case"LineString":x=c(v.arcs);break;case"MultiLineString":x=v.arcs.map(c);break;case"Polygon":x=p(v.arcs);break;case"MultiPolygon":x=v.arcs.map(p);break;default:return null}return{type:y,coordinates:x}}(r)}(M,_);return null==d&&null==s?{type:"Feature",properties:t,geometry:i}:null==s?{type:"Feature",id:d,properties:t,geometry:i}:{type:"Feature",id:d,bbox:s,properties:t,geometry:i}}e.d(z,{NO:function(){return A}})},73384:function(ie,z,e){"use strict";var S=e(54612);ie.exports=function(A){if("function"!=typeof A||!hasOwnProperty.call(A,"length"))return!1;try{if("number"!=typeof A.length||"function"!=typeof A.call||"function"!=typeof A.apply)return!1}catch{return!1}return!S(A)}},57980:function(ie,z,e){"use strict";var S=e(81680),A=e(7328),a=e(33940),M=e(18856),_=function(d,s){return d.replace("%v",M(s))};ie.exports=function(d,s,t){if(!A(t))throw new TypeError(_(s,d));if(!S(d)){if("default"in t)return t.default;if(t.isOptional)return null}var i=a(t.errorMessage);throw S(i)||(i=s),new TypeError(_(i,d))}},32336:function(ie){"use strict";ie.exports=function(z){try{return z.toString()}catch{try{return String(z)}catch{return null}}}},18856:function(ie,z,e){"use strict";var S=e(32336),A=/[\n\r\u2028\u2029]/g;ie.exports=function(a){var M=S(a);return null===M?"<Non-coercible to string value>":(M.length>100&&(M=M.slice(0,99)+"\u2026"),M=M.replace(A,function(_){switch(_){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(ie,z,e){"use strict";var S=e(81680),A={object:!0,function:!0,undefined:!0};ie.exports=function(a){return!!S(a)&&hasOwnProperty.call(A,typeof a)}},87396:function(ie,z,e){"use strict";var S=e(57980),A=e(85488);ie.exports=function(a){return A(a)?a:S(a,"%v is not a plain function",arguments[1])}},85488:function(ie,z,e){"use strict";var S=e(73384),A=/^\s*class[\s{/}]/,a=Function.prototype.toString;ie.exports=function(M){return!!S(M)&&!A.test(a.call(M))}},54612:function(ie,z,e){"use strict";var S=e(7328);ie.exports=function(A){if(!S(A))return!1;try{return!!A.constructor&&A.constructor.prototype===A}catch{return!1}}},33940:function(ie,z,e){"use strict";var S=e(81680),A=e(7328),a=Object.prototype.toString;ie.exports=function(M){if(!S(M))return null;if(A(M)){var _=M.toString;if("function"!=typeof _||_===a)return null}try{return""+M}catch{return null}}},18496:function(ie,z,e){"use strict";var S=e(57980),A=e(81680);ie.exports=function(a){return A(a)?a:S(a,"Cannot use %v",arguments[1])}},81680:function(ie){"use strict";ie.exports=function(z){return null!=z}},14144:function(ie,z,e){"use strict";var S=e(308),A=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:A([32,0]),UINT16:A([32,0]),UINT32:A([32,0]),BIGUINT64:A([32,0]),INT8:A([32,0]),INT16:A([32,0]),INT32:A([32,0]),BIGINT64:A([32,0]),FLOAT:A([32,0]),DOUBLE:A([32,0]),DATA:A([32,0]),UINT8C:A([32,0]),BUFFER:A([32,0])});var M=typeof Uint8ClampedArray<"u",_=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=A([32,0])),s.BIGUINT64||(s.BIGUINT64=A([32,0])),s.BIGINT64||(s.BIGINT64=A([32,0])),s.BUFFER||(s.BUFFER=A([32,0]));var t=s.DATA,i=s.BUFFER;function n(C){if(C){var D=S.log2(C.length||C.byteLength);t[D].push(C)}}function r(C){C=S.nextPow2(C);var T=S.log2(C),D=t[T];return D.length>0?D.pop():new ArrayBuffer(C)}function o(C){return new Uint8Array(r(C),0,C)}function u(C){return new Uint16Array(r(2*C),0,C)}function l(C){return new Uint32Array(r(4*C),0,C)}function h(C){return new Int8Array(r(C),0,C)}function c(C){return new Int16Array(r(2*C),0,C)}function b(C){return new Int32Array(r(4*C),0,C)}function p(C){return new Float32Array(r(4*C),0,C)}function m(C){return new Float64Array(r(8*C),0,C)}function v(C){return M?new Uint8ClampedArray(r(C),0,C):o(C)}function x(C){return _?new BigUint64Array(r(8*C),0,C):null}function y(C){return d?new BigInt64Array(r(8*C),0,C):null}function w(C){return new DataView(r(C),0,C)}function f(C){C=S.nextPow2(C);var T=S.log2(C),D=i[T];return D.length>0?D.pop():new a(C)}z.free=function(C){if(a.isBuffer(C))i[S.log2(C.length)].push(C);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(C)&&(C=C.buffer),!C)return;var D=0|S.log2(C.length||C.byteLength);t[D].push(C)}},z.freeUint8=z.freeUint16=z.freeUint32=z.freeBigUint64=z.freeInt8=z.freeInt16=z.freeInt32=z.freeBigInt64=z.freeFloat32=z.freeFloat=z.freeFloat64=z.freeDouble=z.freeUint8Clamped=z.freeDataView=function(C){n(C.buffer)},z.freeArrayBuffer=n,z.freeBuffer=function(C){i[S.log2(C.length)].push(C)},z.malloc=function(C,T){if(void 0===T||"arraybuffer"===T)return r(C);switch(T){case"uint8":return o(C);case"uint16":return u(C);case"uint32":return l(C);case"int8":return h(C);case"int16":return c(C);case"int32":return b(C);case"float":case"float32":return p(C);case"double":case"float64":return m(C);case"uint8_clamped":return v(C);case"bigint64":return y(C);case"biguint64":return x(C);case"buffer":return f(C);case"data":case"dataview":return w(C);default:return null}return null},z.mallocArrayBuffer=r,z.mallocUint8=o,z.mallocUint16=u,z.mallocUint32=l,z.mallocInt8=h,z.mallocInt16=c,z.mallocInt32=b,z.mallocFloat32=z.mallocFloat=p,z.mallocFloat64=z.mallocDouble=m,z.mallocUint8Clamped=v,z.mallocBigUint64=x,z.mallocBigInt64=y,z.mallocDataView=w,z.mallocBuffer=f,z.clearCache=function(){for(var C=0;C<32;++C)s.UINT8[C].length=0,s.UINT16[C].length=0,s.UINT32[C].length=0,s.INT8[C].length=0,s.INT16[C].length=0,s.INT32[C].length=0,s.FLOAT[C].length=0,s.DOUBLE[C].length=0,s.BIGUINT64[C].length=0,s.BIGINT64[C].length=0,s.UINT8C[C].length=0,t[C].length=0,i[C].length=0}},92384:function(ie){var z=/[\'\"]/;ie.exports=function(e){return e?(z.test(e.charAt(0))&&(e=e.substr(1)),z.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(ie){"use strict";ie.exports=function(z,e,S){Array.isArray(S)||(S=[].slice.call(arguments,2));for(var A=0,a=S.length;A<a;A++){var M=S[A];for(var _ in M)if((void 0===e[_]||Array.isArray(e[_])||z[_]!==e[_])&&_ in e){var d;if(!0===M[_])d=e[_];else if(!1===M[_]||"function"==typeof M[_]&&void 0===(d=M[_](e[_],z,e)))continue;z[_]=d}}return z}},96656:function(ie,z,e){function S(A){try{if(!e.g.localStorage)return!1}catch{return!1}var a=e.g.localStorage[A];return null!=a&&"true"===String(a).toLowerCase()}ie.exports=function(A,a){if(S("noDeprecation"))return A;var M=!1;return function(){if(!M){if(S("throwDeprecation"))throw new Error(a);S("traceDeprecation")?console.trace(a):console.warn(a),M=!0}return A.apply(this,arguments)}}},75272:function(ie){ie.exports=function(z){return z&&"object"==typeof z&&"function"==typeof z.copy&&"function"==typeof z.fill&&"function"==typeof z.readUInt8}},41088:function(ie,z,e){"use strict";var S=e(91148),A=e(84420),a=e(96632),M=e(7728);function _(B){return B.call.bind(B)}var d=typeof BigInt<"u",s=typeof Symbol<"u",t=_(Object.prototype.toString),i=_(Number.prototype.valueOf),n=_(String.prototype.valueOf),r=_(Boolean.prototype.valueOf);if(d)var o=_(BigInt.prototype.valueOf);if(s)var u=_(Symbol.prototype.valueOf);function l(B,q){if("object"!=typeof B)return!1;try{return q(B),!0}catch{return!1}}function h(B){return"[object Map]"===t(B)}function c(B){return"[object Set]"===t(B)}function b(B){return"[object WeakMap]"===t(B)}function p(B){return"[object WeakSet]"===t(B)}function m(B){return"[object ArrayBuffer]"===t(B)}function v(B){return typeof ArrayBuffer<"u"&&(m.working?m(B):B instanceof ArrayBuffer)}function x(B){return"[object DataView]"===t(B)}function y(B){return typeof DataView<"u"&&(x.working?x(B):B instanceof DataView)}z.isArgumentsObject=S,z.isGeneratorFunction=A,z.isTypedArray=M,z.isPromise=function(B){return typeof Promise<"u"&&B instanceof Promise||null!==B&&"object"==typeof B&&"function"==typeof B.then&&"function"==typeof B.catch},z.isArrayBufferView=function(B){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(B):M(B)||y(B)},z.isUint8Array=function(B){return"Uint8Array"===a(B)},z.isUint8ClampedArray=function(B){return"Uint8ClampedArray"===a(B)},z.isUint16Array=function(B){return"Uint16Array"===a(B)},z.isUint32Array=function(B){return"Uint32Array"===a(B)},z.isInt8Array=function(B){return"Int8Array"===a(B)},z.isInt16Array=function(B){return"Int16Array"===a(B)},z.isInt32Array=function(B){return"Int32Array"===a(B)},z.isFloat32Array=function(B){return"Float32Array"===a(B)},z.isFloat64Array=function(B){return"Float64Array"===a(B)},z.isBigInt64Array=function(B){return"BigInt64Array"===a(B)},z.isBigUint64Array=function(B){return"BigUint64Array"===a(B)},h.working=typeof Map<"u"&&h(new Map),z.isMap=function(B){return typeof Map<"u"&&(h.working?h(B):B instanceof Map)},c.working=typeof Set<"u"&&c(new Set),z.isSet=function(B){return typeof Set<"u"&&(c.working?c(B):B instanceof Set)},b.working=typeof WeakMap<"u"&&b(new WeakMap),z.isWeakMap=function(B){return typeof WeakMap<"u"&&(b.working?b(B):B instanceof WeakMap)},p.working=typeof WeakSet<"u"&&p(new WeakSet),z.isWeakSet=function(B){return p(B)},m.working=typeof ArrayBuffer<"u"&&m(new ArrayBuffer),z.isArrayBuffer=v,x.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&x(new DataView(new ArrayBuffer(1),0,1)),z.isDataView=y;var w=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function f(B){return"[object SharedArrayBuffer]"===t(B)}function C(B){return void 0!==w&&(void 0===f.working&&(f.working=f(new w)),f.working?f(B):B instanceof w)}function T(B){return l(B,i)}function D(B){return l(B,n)}function R(B){return l(B,r)}function P(B){return d&&l(B,o)}function O(B){return s&&l(B,u)}z.isSharedArrayBuffer=C,z.isAsyncFunction=function(B){return"[object AsyncFunction]"===t(B)},z.isMapIterator=function(B){return"[object Map Iterator]"===t(B)},z.isSetIterator=function(B){return"[object Set Iterator]"===t(B)},z.isGeneratorObject=function(B){return"[object Generator]"===t(B)},z.isWebAssemblyCompiledModule=function(B){return"[object WebAssembly.Module]"===t(B)},z.isNumberObject=T,z.isStringObject=D,z.isBooleanObject=R,z.isBigIntObject=P,z.isSymbolObject=O,z.isBoxedPrimitive=function(B){return T(B)||D(B)||R(B)||P(B)||O(B)},z.isAnyArrayBuffer=function(B){return typeof Uint8Array<"u"&&(v(B)||C(B))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(B){Object.defineProperty(z,B,{enumerable:!1,value:function(){throw new Error(B+" is not supported in userland")}})})},35840:function(ie,z,e){var S=e(4168),A=Object.getOwnPropertyDescriptors||function(O){for(var B=Object.keys(O),q={},N=0;N<B.length;N++)q[B[N]]=Object.getOwnPropertyDescriptor(O,B[N]);return q},a=/%[sdj%]/g;z.format=function(O){if(!b(O)){for(var B=[],q=0;q<arguments.length;q++)B.push(s(arguments[q]));return B.join(" ")}q=1;for(var N=arguments,H=N.length,$=String(O).replace(a,function(W){if("%%"===W)return"%";if(q>=H)return W;switch(W){case"%s":return String(N[q++]);case"%d":return Number(N[q++]);case"%j":try{return JSON.stringify(N[q++])}catch{return"[Circular]"}default:return W}}),j=N[q];q<H;j=N[++q])h(j)||!v(j)?$+=" "+j:$+=" "+s(j);return $},z.deprecate=function(O,B){if(void 0!==S&&!0===S.noDeprecation)return O;if(void 0===S)return function(){return z.deprecate(O,B).apply(this,arguments)};var q=!1;return function(){if(!q){if(S.throwDeprecation)throw new Error(B);S.traceDeprecation?console.trace(B):console.error(B),q=!0}return O.apply(this,arguments)}};var M={},_=/^$/;if(S.env.NODE_DEBUG){var d=S.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),_=new RegExp("^"+d+"$","i")}function s(O,B){var q={seen:[],stylize:i};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),l(B)?q.showHidden=B:B&&z._extend(q,B),p(q.showHidden)&&(q.showHidden=!1),p(q.depth)&&(q.depth=2),p(q.colors)&&(q.colors=!1),p(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=t),n(q,O,q.depth)}function t(O,B){var q=s.styles[B];return q?"\x1b["+s.colors[q][0]+"m"+O+"\x1b["+s.colors[q][1]+"m":O}function i(O,B){return O}function n(O,B,q){if(O.customInspect&&B&&w(B.inspect)&&B.inspect!==z.inspect&&(!B.constructor||B.constructor.prototype!==B)){var N=B.inspect(q,O);return b(N)||(N=n(O,N,q)),N}var H=function(ee,re){if(p(re))return ee.stylize("undefined","undefined");if(b(re)){var J="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(J,"string")}return c(re)?ee.stylize(""+re,"number"):l(re)?ee.stylize(""+re,"boolean"):h(re)?ee.stylize("null","null"):void 0}(O,B);if(H)return H;var re,$=Object.keys(B),j=(re={},$.forEach(function(J,le){re[J]=!0}),re);if(O.showHidden&&($=Object.getOwnPropertyNames(B)),y(B)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return r(B);if(0===$.length){if(w(B))return O.stylize("[Function"+(B.name?": "+B.name:"")+"]","special");if(m(B))return O.stylize(RegExp.prototype.toString.call(B),"regexp");if(x(B))return O.stylize(Date.prototype.toString.call(B),"date");if(y(B))return r(B)}var G,ae="",te=!1,Q=["{","}"];return u(B)&&(te=!0,Q=["[","]"]),w(B)&&(ae=" [Function"+(B.name?": "+B.name:"")+"]"),m(B)&&(ae=" "+RegExp.prototype.toString.call(B)),x(B)&&(ae=" "+Date.prototype.toUTCString.call(B)),y(B)&&(ae=" "+r(B)),0!==$.length||te&&0!=B.length?q<0?m(B)?O.stylize(RegExp.prototype.toString.call(B),"regexp"):O.stylize("[Object]","special"):(O.seen.push(B),G=te?function(ee,re,J,le,fe){for(var ce=[],ge=0,Te=re.length;ge<Te;++ge)D(re,String(ge))?ce.push(o(ee,re,J,le,String(ge),!0)):ce.push("");return fe.forEach(function(Me){Me.match(/^\d+$/)||ce.push(o(ee,re,J,le,Me,!0))}),ce}(O,B,q,j,$):$.map(function(ee){return o(O,B,q,j,ee,te)}),O.seen.pop(),function(ee,re,J){return ee.reduce(function(le,fe){return fe.indexOf("\n"),le+fe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?J[0]+(""===re?"":re+"\n ")+" "+ee.join(",\n  ")+" "+J[1]:J[0]+re+" "+ee.join(", ")+" "+J[1]}(G,ae,Q)):Q[0]+ae+Q[1]}function r(O){return"["+Error.prototype.toString.call(O)+"]"}function o(O,B,q,N,H,$){var j,W,G;if((G=Object.getOwnPropertyDescriptor(B,H)||{value:B[H]}).get?W=O.stylize(G.set?"[Getter/Setter]":"[Getter]","special"):G.set&&(W=O.stylize("[Setter]","special")),D(N,H)||(j="["+H+"]"),W||(O.seen.indexOf(G.value)<0?(W=h(q)?n(O,G.value,null):n(O,G.value,q-1)).indexOf("\n")>-1&&(W=$?W.split("\n").map(function(ae){return"  "+ae}).join("\n").slice(2):"\n"+W.split("\n").map(function(ae){return"   "+ae}).join("\n")):W=O.stylize("[Circular]","special")),p(j)){if($&&H.match(/^\d+$/))return W;(j=JSON.stringify(""+H)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=O.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=O.stylize(j,"string"))}return j+": "+W}function u(O){return Array.isArray(O)}function l(O){return"boolean"==typeof O}function h(O){return null===O}function c(O){return"number"==typeof O}function b(O){return"string"==typeof O}function p(O){return void 0===O}function m(O){return v(O)&&"[object RegExp]"===f(O)}function v(O){return"object"==typeof O&&null!==O}function x(O){return v(O)&&"[object Date]"===f(O)}function y(O){return v(O)&&("[object Error]"===f(O)||O instanceof Error)}function w(O){return"function"==typeof O}function f(O){return Object.prototype.toString.call(O)}function C(O){return O<10?"0"+O.toString(10):O.toString(10)}z.debuglog=function(O){if(O=O.toUpperCase(),!M[O])if(_.test(O)){var B=S.pid;M[O]=function(){var q=z.format.apply(z,arguments);console.error("%s %d: %s",O,B,q)}}else M[O]=function(){};return M[O]},z.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},z.types=e(41088),z.isArray=u,z.isBoolean=l,z.isNull=h,z.isNullOrUndefined=function(O){return null==O},z.isNumber=c,z.isString=b,z.isSymbol=function(O){return"symbol"==typeof O},z.isUndefined=p,z.isRegExp=m,z.types.isRegExp=m,z.isObject=v,z.isDate=x,z.types.isDate=x,z.isError=y,z.types.isNativeError=y,z.isFunction=w,z.isPrimitive=function(O){return null===O||"boolean"==typeof O||"number"==typeof O||"string"==typeof O||"symbol"==typeof O||void 0===O},z.isBuffer=e(75272);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(O,B){return Object.prototype.hasOwnProperty.call(O,B)}z.log=function(){var O,B;console.log("%s - %s",(B=[C((O=new Date).getHours()),C(O.getMinutes()),C(O.getSeconds())].join(":"),[O.getDate(),T[O.getMonth()],B].join(" ")),z.format.apply(z,arguments))},z.inherits=e(6768),z._extend=function(O,B){if(!B||!v(B))return O;for(var q=Object.keys(B),N=q.length;N--;)O[q[N]]=B[q[N]];return O};var R=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function P(O,B){if(!O){var q=new Error("Promise was rejected with a falsy value");q.reason=O,O=q}return B(O)}z.promisify=function(O){if("function"!=typeof O)throw new TypeError('The "original" argument must be of type Function');if(R&&O[R]){var B;if("function"!=typeof(B=O[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(B,R,{value:B,enumerable:!1,writable:!1,configurable:!0}),B}function B(){for(var q,N,H=new Promise(function(W,G){q=W,N=G}),$=[],j=0;j<arguments.length;j++)$.push(arguments[j]);$.push(function(W,G){W?N(W):q(G)});try{O.apply(this,$)}catch(W){N(W)}return H}return Object.setPrototypeOf(B,Object.getPrototypeOf(O)),R&&Object.defineProperty(B,R,{value:B,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(B,A(O))},z.promisify.custom=R,z.callbackify=function(O){if("function"!=typeof O)throw new TypeError('The "original" argument must be of type Function');function B(){for(var q=[],N=0;N<arguments.length;N++)q.push(arguments[N]);var H=q.pop();if("function"!=typeof H)throw new TypeError("The last argument must be of type Function");var $=this,j=function(){return H.apply($,arguments)};O.apply(this,q).then(function(W){S.nextTick(j.bind(null,null,W))},function(W){S.nextTick(P.bind(null,W,j))})}return Object.setPrototypeOf(B,Object.getPrototypeOf(O)),Object.defineProperties(B,A(O)),B}},5408:function(ie,z,e){var S=e(13380);ie.exports=function(A){return S("webgl",A)}},96632:function(ie,z,e){"use strict";var S=e(46492),A=e(63436),a=e(57916),M=e(99676),_=e(2304),d=M("Object.prototype.toString"),s=e(46672)(),t=typeof globalThis>"u"?e.g:globalThis,i=A(),n=M("String.prototype.slice"),r=Object.getPrototypeOf,o=M("Array.prototype.indexOf",!0)||function(l,h){for(var c=0;c<l.length;c+=1)if(l[c]===h)return c;return-1},u={__proto__:null};S(i,s&&_&&r?function(l){var h=new t[l];if(Symbol.toStringTag in h){var c=r(h),b=_(c,Symbol.toStringTag);if(!b){var p=r(c);b=_(p,Symbol.toStringTag)}u["$"+l]=a(b.get)}}:function(l){var h=new t[l],c=h.slice||h.set;c&&(u["$"+l]=a(c))}),ie.exports=function(l){if(!l||"object"!=typeof l)return!1;if(!s){var h=n(d(l),8,-1);return o(i,h)>-1?h:"Object"===h&&(c=l,b=!1,S(u,function(p,m){if(!b)try{p(c),b=n(m,1)}catch{}}),b)}var c,b;return _?function(c){var b=!1;return S(u,function(p,m){if(!b)try{"$"+p(c)===m&&(b=n(m,1))}catch{}}),b}(l):null}},67020:function(ie,z,e){var S=e(38700),A=e(50896),a=S.instance();function M(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}A(M.prototype=new S.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(r,o){if("string"==typeof r){var u=r.match(d);return u?u[0]:""}var l=this._validateYear(r),h=r.month(),c=""+this.toChineseMonth(l,h);return o&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(l,h)&&(c+="i"),c},monthNames:function(r){if("string"==typeof r){var o=r.match(s);return o?o[0]:""}var u=this._validateYear(r),l=r.month(),h=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(u,l)-1];return this.isIntercalaryMonth(u,l)&&(h="\u95f0"+h),h},monthNamesShort:function(r){if("string"==typeof r){var o=r.match(t);return o?o[0]:""}var u=this._validateYear(r),l=r.month(),h=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(u,l)-1];return this.isIntercalaryMonth(u,l)&&(h="\u95f0"+h),h},parseMonth:function(r,o){r=this._validateYear(r);var u,l=parseInt(o);if(isNaN(l))"\u95f0"===o[0]&&(u=!0,o=o.substring(1)),"\u6708"===o[o.length-1]&&(o=o.substring(0,o.length-1)),l=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(o);else{var h=o[o.length-1];u="i"===h||"I"===h}return this.toMonthIndex(r,l,u)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(r,o){if(r.year&&(r=r.year()),"number"!=typeof r||r<1888||r>2111)throw o.replace(/\{0\}/,this.local.name);return r},toMonthIndex:function(r,o,u){var l=this.intercalaryMonth(r);if(u&&o!==l||o<1||o>12)throw S.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?!u&&o<=l?o-1:o:o-1},toChineseMonth:function(r,o){r.year&&(o=(r=r.year()).month());var u=this.intercalaryMonth(r);if(o<0||o>(u?12:11))throw S.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?o<u?o+1:o:o+1},intercalaryMonth:function(r){return r=this._validateYear(r),i[r-i[0]]>>13},isIntercalaryMonth:function(r,o){r.year&&(o=(r=r.year()).month());var u=this.intercalaryMonth(r);return!!u&&u===o},leapYear:function(r){return 0!==this.intercalaryMonth(r)},weekOfYear:function(r,o,u){var l,h=this._validateYear(r,S.local.invalidyear),c=n[h-n[0]];(l=a.newDate(c>>9&4095,c>>5&15,31&c)).add(4-(l.dayOfWeek()||7),"d");var v=this.toJD(r,o,u)-l.toJD();return 1+Math.floor(v/7)},monthsInYear:function(r){return this.leapYear(r)?13:12},daysInMonth:function(r,o){r.year&&(o=r.month(),r=r.year()),r=this._validateYear(r);var u=i[r-i[0]];if(o>(u>>13?12:11))throw S.local.invalidMonth.replace(/\{0\}/,this.local.name);return u&1<<12-o?30:29},weekDay:function(r,o,u){return(this.dayOfWeek(r,o,u)||7)<6},toJD:function(r,o,u){var l=this._validate(r,c,u,S.local.invalidDate);r=this._validateYear(l.year()),o=l.month(),u=l.day();var h=this.isIntercalaryMonth(r,o),c=this.toChineseMonth(r,o),b=function(p,m,v,x,y){var w,f,C;if("object"==typeof p)f=p,w=m||{};else{var T;if(!("number"==typeof p&&p>=1888&&p<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof m&&m>=1&&m<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof v&&v>=1&&v<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof x?(T=!1,w=x):(T=!!x,w={}),f={year:p,month:m,day:v,isIntercalary:T}}C=f.day-1;var D,R=i[f.year-i[0]],P=R>>13;D=P&&(f.month>P||f.isIntercalary)?f.month:f.month-1;for(var O=0;O<D;O++)C+=R&1<<12-O?30:29;var B=n[f.year-n[0]],q=new Date(B>>9&4095,(B>>5&15)-1,(31&B)+C);return w.year=q.getFullYear(),w.month=1+q.getMonth(),w.day=q.getDate(),w}(r,c,u,h);return a.toJD(b.year,b.month,b.day)},fromJD:function(r){var o=a.fromJD(r),u=function(h,c,b,p){var m,v;if("object"==typeof h)m=h,v=c||{};else{if(!("number"==typeof h&&h>=1888&&h<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof c&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof b&&b>=1&&b<=31))throw new Error("Solar day outside range 1 - 31");m={year:h,month:c,day:b},v={}}var x=n[m.year-n[0]];v.year=(m.year<<9|m.month<<5|m.day)>=x?m.year:m.year-1,x=n[v.year-n[0]];var w,f=new Date(x>>9&4095,(x>>5&15)-1,31&x),C=new Date(m.year,m.month-1,m.day);w=Math.round((C-f)/864e5);var T,D=i[v.year-i[0]];for(T=0;T<13;T++){var R=D&1<<12-T?30:29;if(w<R)break;w-=R}var P=D>>13;return!P||T<P?(v.isIntercalary=!1,v.month=1+T):T===P?(v.isIntercalary=!0,v.month=T):(v.isIntercalary=!1,v.month=T),v.day=1+w,v}(o.year(),o.month(),o.day()),l=this.toMonthIndex(u.year,u.month,u.isIntercalary);return this.newDate(u.year,l,u.day)},fromString:function(r){var o=r.match(_),u=this._validateYear(+o[1]),c=this.toMonthIndex(u,+o[2],!!o[3]);return this.newDate(u,c,+o[4])},add:function(r,o,u){var l=r.year(),h=r.month(),c=this.isIntercalaryMonth(l,h),b=this.toChineseMonth(l,h),p=Object.getPrototypeOf(M.prototype).add.call(this,r,o,u);if("y"===u){var m=p.year(),v=p.month(),x=this.isIntercalaryMonth(m,b),y=this.toMonthIndex(m,b,!(!c||!x));y!==v&&p.month(y)}return p}});var _=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,s=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,t=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;S.calendars.chinese=M;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],n=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(ie,z,e){var S=e(38700);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}e(50896)(a.prototype=new S.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var _=this._validate(M,this.minMonth,this.minDay,S.local.invalidYear);return(M=_.year()+(_.year()<0?1:0))%4==3||M%4==-1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,S.local.invalidYear||S.regionalOptions[""].invalidYear),13},weekOfYear:function(M,_,d){var s=this.newDate(M,_,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(M,_){var d=this._validate(M,_,this.minDay,S.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(13===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(M,_,d){return(this.dayOfWeek(M,_,d)||7)<6},toJD:function(M,_,d){var s=this._validate(M,_,d,S.local.invalidDate);return(M=s.year())<0&&M++,s.day()+30*(s.month()-1)+365*(M-1)+Math.floor(M/4)+this.jdEpoch-1},fromJD:function(M){var _=Math.floor(M)+.5-this.jdEpoch,d=Math.floor((_-Math.floor((_+366)/1461))/365)+1;d<=0&&d--,_=Math.floor(M)+.5-this.newDate(d,1,1).toJD();var s=Math.floor(_/30)+1;return this.newDate(d,s,_-30*(s-1)+1)}}),S.calendars.coptic=a},55668:function(ie,z,e){var S=e(38700);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}e(50896)(a.prototype=new S.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(_){return this._validate(_,this.minMonth,this.minDay,S.local.invalidYear),!1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,S.local.invalidYear),13},daysInYear:function(_){return this._validate(_,this.minMonth,this.minDay,S.local.invalidYear),400},weekOfYear:function(_,d,s){var t=this.newDate(_,d,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(_,d){var s=this._validate(_,d,this.minDay,S.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(_,d,s){return(this._validate(_,d,s,S.local.invalidDate).day()+1)%8},weekDay:function(_,d,s){var t=this.dayOfWeek(_,d,s);return t>=2&&t<=6},extraInfo:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate);return{century:M[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate);return _=t.year()+(t.year()<0?1:0),d=t.month(),(s=t.day())+(d>1?16:0)+(d>2?32*(d-2):0)+400*(_-1)+this.jdEpoch-1},fromJD:function(_){_=Math.floor(_+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(_/400)+1;_-=400*(d-1),_+=_>15?16:0;var s=Math.floor(_/32)+1;return this.newDate(d<=0?d-1:d,s,_-32*(s-1)+1)}});var M={20:"Fruitbat",21:"Anchovy"};S.calendars.discworld=a},65168:function(ie,z,e){var S=e(38700);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}e(50896)(a.prototype=new S.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var _=this._validate(M,this.minMonth,this.minDay,S.local.invalidYear);return(M=_.year()+(_.year()<0?1:0))%4==3||M%4==-1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,S.local.invalidYear||S.regionalOptions[""].invalidYear),13},weekOfYear:function(M,_,d){var s=this.newDate(M,_,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(M,_){var d=this._validate(M,_,this.minDay,S.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(13===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(M,_,d){return(this.dayOfWeek(M,_,d)||7)<6},toJD:function(M,_,d){var s=this._validate(M,_,d,S.local.invalidDate);return(M=s.year())<0&&M++,s.day()+30*(s.month()-1)+365*(M-1)+Math.floor(M/4)+this.jdEpoch-1},fromJD:function(M){var _=Math.floor(M)+.5-this.jdEpoch,d=Math.floor((_-Math.floor((_+366)/1461))/365)+1;d<=0&&d--,_=Math.floor(M)+.5-this.newDate(d,1,1).toJD();var s=Math.floor(_/30)+1;return this.newDate(d,s,_-30*(s-1)+1)}}),S.calendars.ethiopian=a},2084:function(ie,z,e){var S=e(38700);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}function M(_,d){return _-d*Math.floor(_/d)}e(50896)(a.prototype=new S.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var d=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(_){return M(7*(_=_<0?_+1:_)+1,19)<7},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,S.local.invalidYear),this._leapYear(_.year?_.year():_)?13:12},weekOfYear:function(_,d,s){var t=this.newDate(_,d,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(_){return _=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear).year(),this.toJD(-1===_?1:_+1,7,1)-this.toJD(_,7,1)},daysInMonth:function(_,d){return _.year&&(d=_.month(),_=_.year()),this._validate(_,d,this.minDay,S.local.invalidMonth),12===d&&this.leapYear(_)||8===d&&5===M(this.daysInYear(_),10)?30:9===d&&3===M(this.daysInYear(_),10)?29:this.daysPerMonth[d-1]},weekDay:function(_,d,s){return 6!==this.dayOfWeek(_,d,s)},extraInfo:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate);_=t.year(),d=t.month(),s=t.day();var i=_<=0?_+1:_,n=this.jdEpoch+this._delay1(i)+this._delay2(i)+s+1;if(d<7){for(var r=7;r<=this.monthsInYear(_);r++)n+=this.daysInMonth(_,r);for(r=1;r<d;r++)n+=this.daysInMonth(_,r)}else for(r=7;r<d;r++)n+=this.daysInMonth(_,r);return n},_delay1:function(_){var d=Math.floor((235*_-234)/19),t=29*d+Math.floor((12084+13753*d)/25920);return M(3*(t+1),7)<3&&t++,t},_delay2:function(_){var d=this._delay1(_-1),s=this._delay1(_);return this._delay1(_+1)-s==356?2:s-d==382?1:0},fromJD:function(_){_=Math.floor(_)+.5;for(var d=Math.floor(98496*(_-this.jdEpoch)/35975351)-1;_>=this.toJD(-1===d?1:d+1,7,1);)d++;for(var s=_<this.toJD(d,1,1)?7:1;_>this.toJD(d,s,this.daysInMonth(d,s));)s++;var t=_-this.toJD(d,s,1)+1;return this.newDate(d,s,t)}}),S.calendars.hebrew=a},26368:function(ie,z,e){var S=e(38700);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}e(50896)(a.prototype=new S.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){return(11*this._validate(M,this.minMonth,this.minDay,S.local.invalidYear).year()+14)%30<11},weekOfYear:function(M,_,d){var s=this.newDate(M,_,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(M){return this.leapYear(M)?355:354},daysInMonth:function(M,_){var d=this._validate(M,_,this.minDay,S.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(M,_,d){return 5!==this.dayOfWeek(M,_,d)},toJD:function(M,_,d){var s=this._validate(M,_,d,S.local.invalidDate);return M=s.year(),_=s.month(),M=M<=0?M+1:M,(d=s.day())+Math.ceil(29.5*(_-1))+354*(M-1)+Math.floor((3+11*M)/30)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var _=Math.floor((30*(M-this.jdEpoch)+10646)/10631);_=_<=0?_-1:_;var d=Math.min(12,Math.ceil((M-29-this.toJD(_,1,1))/29.5)+1),s=M-this.toJD(_,d,1)+1;return this.newDate(_,d,s)}}),S.calendars.islamic=a},24747:function(ie,z,e){var S=e(38700);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}e(50896)(a.prototype=new S.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var _=this._validate(M,this.minMonth,this.minDay,S.local.invalidYear);return(M=_.year()<0?_.year()+1:_.year())%4==0},weekOfYear:function(M,_,d){var s=this.newDate(M,_,d);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(M,_){var d=this._validate(M,_,this.minDay,S.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(M,_,d){return(this.dayOfWeek(M,_,d)||7)<6},toJD:function(M,_,d){var s=this._validate(M,_,d,S.local.invalidDate);return M=s.year(),_=s.month(),d=s.day(),M<0&&M++,_<=2&&(M--,_+=12),Math.floor(365.25*(M+4716))+Math.floor(30.6001*(_+1))+d-1524.5},fromJD:function(M){var _=Math.floor(M+.5)+1524,d=Math.floor((_-122.1)/365.25),s=Math.floor(365.25*d),t=Math.floor((_-s)/30.6001),i=t-Math.floor(t<14?1:13),n=d-Math.floor(i>2?4716:4715),r=_-s-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,r)}}),S.calendars.julian=a},65616:function(ie,z,e){var S=e(38700);function a(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}function M(d,s){return d-s*Math.floor(d/s)}function _(d,s){return M(d-1,s)+1}e(50896)(a.prototype=new S.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,S.local.invalidYear),!1},formatYear:function(d){d=this._validate(d,this.minMonth,this.minDay,S.local.invalidYear).year();var s=Math.floor(d/400);return d%=400,d+=d<0?400:0,s+"."+Math.floor(d/20)+"."+d%20},forYear:function(d){if((d=d.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,t=0;t<d.length;t++){var i=parseInt(d[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";s=20*s+i}return s},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,S.local.invalidYear),18},weekOfYear:function(d,s,t){return this._validate(d,s,t,S.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,S.local.invalidYear),360},daysInMonth:function(d,s){return this._validate(d,s,this.minDay,S.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,s,t){return this._validate(d,s,t,S.local.invalidDate).day()},weekDay:function(d,s,t){return this._validate(d,s,t,S.local.invalidDate),!0},extraInfo:function(d,s,t){var i=this._validate(d,s,t,S.local.invalidDate).toJD(),n=this._toHaab(i),r=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[r[0]-1],tzolkinDay:r[0],tzolkinTrecena:r[1]}},_toHaab:function(d){var s=M(8+(d-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,M(s,20)]},_toTzolkin:function(d){return[_(20+(d-=this.jdEpoch),20),_(d+4,13)]},toJD:function(d,s,t){var i=this._validate(d,s,t,S.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var s=Math.floor(d/360);d%=360,d+=d<0?360:0;var t=Math.floor(d/20);return this.newDate(s,t,d%20)}}),S.calendars.mayan=a},30632:function(ie,z,e){var S=e(38700),A=e(50896);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new S.baseCalendar;var M=S.instance("gregorian");A(a.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var d=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear||S.regionalOptions[""].invalidYear);return M.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(_,d,s){var t=this.newDate(_,d,s);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(_,d){var s=this._validate(_,d,this.minDay,S.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(12===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(_,d,s){return(this.dayOfWeek(_,d,s)||7)<6},toJD:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidMonth);(_=t.year())<0&&_++;for(var i=t.day(),n=1;n<t.month();n++)i+=this.daysPerMonth[n-1];return i+M.toJD(_+1468,3,13)},fromJD:function(_){_=Math.floor(_+.5);for(var d=Math.floor((_-(this.jdEpoch-1))/366);_>=this.toJD(d+1,1,1);)d++;for(var s=_-Math.floor(this.toJD(d,1,1)+.5)+1,t=1;s>this.daysInMonth(d,t);)s-=this.daysInMonth(d,t),t++;return this.newDate(d,t,s)}}),S.calendars.nanakshahi=a},73040:function(ie,z,e){var S=e(38700);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}e(50896)(a.prototype=new S.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(M){return this.daysInYear(M)!==this.daysPerYear},weekOfYear:function(M,_,d){var s=this.newDate(M,_,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(M){if(M=this._validate(M,this.minMonth,this.minDay,S.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[M])return this.daysPerYear;for(var _=0,d=this.minMonth;d<=12;d++)_+=this.NEPALI_CALENDAR_DATA[M][d];return _},daysInMonth:function(M,_){return M.year&&(_=M.month(),M=M.year()),this._validate(M,_,this.minDay,S.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[M]?this.daysPerMonth[_-1]:this.NEPALI_CALENDAR_DATA[M][_]},weekDay:function(M,_,d){return 6!==this.dayOfWeek(M,_,d)},toJD:function(M,_,d){var s=this._validate(M,_,d,S.local.invalidDate);M=s.year(),_=s.month(),d=s.day();var t=S.instance(),i=0,n=_,r=M;this._createMissingCalendarData(M);var o=M-(n>9||9===n&&d>=this.NEPALI_CALENDAR_DATA[r][0]?56:57);for(9!==_&&(i=d,n--);9!==n;)n<=0&&(n=12,r--),i+=this.NEPALI_CALENDAR_DATA[r][n],n--;return 9===_?(i+=d-this.NEPALI_CALENDAR_DATA[r][0])<0&&(i+=t.daysInYear(o)):i+=this.NEPALI_CALENDAR_DATA[r][9]-this.NEPALI_CALENDAR_DATA[r][0],t.newDate(o,1,1).add(i,"d").toJD()},fromJD:function(M){var _=S.instance().fromJD(M),d=_.year(),s=_.dayOfYear(),t=d+56;this._createMissingCalendarData(t);for(var i=9,r=this.NEPALI_CALENDAR_DATA[t][i]-this.NEPALI_CALENDAR_DATA[t][0]+1;s>r;)++i>12&&(i=1,t++),r+=this.NEPALI_CALENDAR_DATA[t][i];return this.newDate(t,i,this.NEPALI_CALENDAR_DATA[t][i]-(r-s))},_createMissingCalendarData:function(M){var _=this.daysPerMonth.slice(0);_.unshift(17);for(var d=M-1;d<M+2;d++)void 0===this.NEPALI_CALENDAR_DATA[d]&&(this.NEPALI_CALENDAR_DATA[d]=_)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),S.calendars.nepali=a},1104:function(ie,z,e){var S=e(38700);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}function M(_,d){return _-d*Math.floor(_/d)}e(50896)(a.prototype=new S.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(_){var d=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear);return 682*((d.year()-(d.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(_,d,s){var t=this.newDate(_,d,s);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(_,d){var s=this._validate(_,d,this.minDay,S.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(12===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(_,d,s){return 5!==this.dayOfWeek(_,d,s)},toJD:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate);_=t.year(),d=t.month(),s=t.day();var i=_-(_>=0?474:473),n=474+M(i,2820);return s+(d<=7?31*(d-1):30*(d-1)+6)+Math.floor((682*n-110)/2816)+365*(n-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(_){var d=(_=Math.floor(_)+.5)-this.toJD(475,1,1),s=Math.floor(d/1029983),t=M(d,1029983),i=2820;if(1029982!==t){var n=Math.floor(t/366),r=M(t,366);i=Math.floor((2134*n+2816*r+2815)/1028522)+n+1}var o=i+2820*s+474,u=_-this.toJD(o=o<=0?o-1:o,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),h=_-this.toJD(o,l,1)+1;return this.newDate(o,l,h)}}),S.calendars.persian=a,S.calendars.jalali=a},51456:function(ie,z,e){var S=e(38700),A=e(50896),a=S.instance();function M(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}A(M.prototype=new S.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(_){var d=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear);return _=this._t2gYear(d.year()),a.leapYear(_)},weekOfYear:function(_,d,s){var t=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear);return _=this._t2gYear(t.year()),a.weekOfYear(_,t.month(),t.day())},daysInMonth:function(_,d){var s=this._validate(_,d,this.minDay,S.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(2===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(_,d,s){return(this.dayOfWeek(_,d,s)||7)<6},toJD:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate);return _=this._t2gYear(t.year()),a.toJD(_,t.month(),t.day())},fromJD:function(_){var d=a.fromJD(_),s=this._g2tYear(d.year());return this.newDate(s,d.month(),d.day())},_t2gYear:function(_){return _+this.yearsOffset+(_>=-this.yearsOffset&&_<=-1?1:0)},_g2tYear:function(_){return _-this.yearsOffset-(_>=1&&_<=this.yearsOffset?1:0)}}),S.calendars.taiwan=M},4592:function(ie,z,e){var S=e(38700),A=e(50896),a=S.instance();function M(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}A(M.prototype=new S.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var d=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear);return _=this._t2gYear(d.year()),a.leapYear(_)},weekOfYear:function(_,d,s){var t=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear);return _=this._t2gYear(t.year()),a.weekOfYear(_,t.month(),t.day())},daysInMonth:function(_,d){var s=this._validate(_,d,this.minDay,S.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(2===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(_,d,s){return(this.dayOfWeek(_,d,s)||7)<6},toJD:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate);return _=this._t2gYear(t.year()),a.toJD(_,t.month(),t.day())},fromJD:function(_){var d=a.fromJD(_),s=this._g2tYear(d.year());return this.newDate(s,d.month(),d.day())},_t2gYear:function(_){return _-this.yearsOffset-(_>=1&&_<=this.yearsOffset?1:0)},_g2tYear:function(_){return _+this.yearsOffset+(_>=-this.yearsOffset&&_<=-1?1:0)}}),S.calendars.thai=M},45348:function(ie,z,e){var S=e(38700);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}e(50896)(a.prototype=new S.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(_){var d=this._validate(_,this.minMonth,this.minDay,S.local.invalidYear);return 355===this.daysInYear(d.year())},weekOfYear:function(_,d,s){var t=this.newDate(_,d,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(_){for(var d=0,s=1;s<=12;s++)d+=this.daysInMonth(_,s);return d},daysInMonth:function(_,d){for(var s=this._validate(_,d,this.minDay,S.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<M.length;i++){if(M[i]>s)return M[t]-M[t-1];t++}return 30},weekDay:function(_,d,s){return 5!==this.dayOfWeek(_,d,s)},toJD:function(_,d,s){var t=this._validate(_,d,s,S.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+M[i-1]-1+24e5-.5},fromJD:function(_){for(var d=_-24e5+.5,s=0,t=0;t<M.length&&!(M[t]>d);t++)s++;var i=s+15292,n=Math.floor((i-1)/12);return this.newDate(n+1,i-12*n,d-M[s-1]+1)},isValid:function(_,d,s){var t=S.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(_=null!=_.year?_.year:_)>=1276&&_<=1500),t},_validate:function(_,d,s,t){var i=S.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),S.calendars.ummalqura=a;var M=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(ie,z,e){var S=e(50896);function A(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(t,i,n,r){if(this._calendar=t,this._year=i,this._month=n,this._day=r,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function M(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function _(){this.shortYearCutoff="+10"}function d(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}S(A.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase();var n=this._localCals[t+"-"+(i=i||"")];if(!n&&this.calendars[t]&&(n=new this.calendars[t](i),this._localCals[t+"-"+i]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,i,n,r,o){return(r=(null!=t&&t.year?t.calendar():"string"==typeof r?this.instance(r,o):r)||this.instance()).newDate(t,i,n)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(n){return t[n]})}},substituteChineseDigits:function(t,i){return function(n){for(var r="",o=0;n>0;){var u=n%10;r=(0===u?"":t[u]+i[o])+r,o++,n=Math.floor(n/10)}return 0===r.indexOf(t[1]+i[1])&&(r=r.substr(1)),r||t[0]}}}),S(a.prototype,{newDate:function(t,i,n){return this._calendar.newDate(t??this,i,n)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,i,n){if(!this._calendar.isValid(t,i,n))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===i?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+M(Math.abs(this.year()),4)+"-"+M(this.month(),2)+"-"+M(this.day(),2)}}),S(_.prototype,{_validateLevel:0,newDate:function(t,i,n){return null==t?this.today():(t.year&&(this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),n=t.day(),i=t.month(),t=t.year()),new a(this,t,i,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+M(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var n=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(t,i){var n=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,n,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),n},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(t,i,n){return this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(t,i,n){return this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,n),i,n)},_add:function(t,i,n){if(this._validateLevel++,"d"===n||"w"===n){var r=t.toJD()+i*("w"===n?this.daysInWeek():1),o=t.calendar().fromJD(r);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var u=t.year()+("y"===n?i:0),l=t.monthOfYear()+("m"===n?i:0);o=t.day(),"y"===n?(t.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,t.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),o=Math.min(o,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):"m"===n&&(function(c){for(;l<c.minMonth;)u--,l+=c.monthsInYear(u);for(var b=c.monthsInYear(u);l>b-1+c.minMonth;)u++,l-=b,b=c.monthsInYear(u)}(this),o=Math.min(o,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var h=[u,this.fromMonthOfYear(u,l),o];return this._validateLevel--,h}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,n,r){if(!(this.hasYearZero||"y"!==r&&"m"!==r||0!==i[0]&&t.year()>0==i[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r];i=this._add(t,n*o[0]+(n<0?-1:1)*o[1],o[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,n){this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var r="y"===n?i:t.year(),o="m"===n?i:t.month(),u="d"===n?i:t.day();return"y"!==n&&"m"!==n||(u=Math.min(u,this.daysInMonth(r,o))),t.date(r,o,u)},isValid:function(t,i,n){this._validateLevel++;var r=this.hasYearZero||0!==t;if(r){var o=this.newDate(t,i,this.minDay);r=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(o)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(o)}return this._validateLevel--,r},toJSDate:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(t){return this.fromJD(s.instance().fromJSDate(t).toJD())},_validate:function(t,i,n,r){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,i,n))throw r.replace(/\{0\}/,this.local.name);var o=this.newDate(t,i,n);return this._validateLevel--,o}catch(u){throw this._validateLevel--,u}}}),S(d.prototype=new _,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,n){var r=this.newDate(t,i,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var n=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,i,n){return(this.dayOfWeek(t,i,n)||7)<6},toJD:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);t=r.year(),i=r.month(),n=r.day(),t<0&&t++,i<3&&(i+=12,t--);var o=Math.floor(t/100),u=2-o+Math.floor(o/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+n+u-1524.5},fromJD:function(t){var i=Math.floor(t+.5),n=Math.floor((i-1867216.25)/36524.25),r=1524+(n=i+1+n-Math.floor(n/4)),o=Math.floor((r-122.1)/365.25),u=Math.floor(365.25*o),l=Math.floor((r-u)/30.6001),h=r-u-Math.floor(30.6001*l),c=l-(l>13.5?13:1),b=o-(c>2.5?4716:4715);return b<=0&&b--,this.newDate(b,c,h)},toJSDate:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),o=new Date(r.year(),r.month()-1,r.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var s=ie.exports=new A;s.cdate=a,s.baseCalendar=_,s.calendars.gregorian=d},15168:function(ie,z,e){var S=e(50896),A=e(38700);S(A.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),A.local=A.regionalOptions[""],S(A.cdate.prototype,{formatDate:function(a,M){return"string"!=typeof a&&(M=a,a=""),this._calendar.formatDate(a||"",this,M)}}),S(A.baseCalendar.prototype,{UNIX_EPOCH:A.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:A.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,M,_){if("string"!=typeof a&&(_=M,M=a,a=""),!M)return"";if(M.calendar()!==this)throw A.local.invalidFormat||A.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var d,s,t,i=(_=_||{}).dayNamesShort||this.local.dayNamesShort,n=_.dayNames||this.local.dayNames,r=_.monthNumbers||this.local.monthNumbers,o=_.monthNamesShort||this.local.monthNamesShort,u=_.monthNames||this.local.monthNames,l=function(f,C){for(var T=1;w+T<a.length&&a.charAt(w+T)===f;)T++;return w+=T-1,Math.floor(T/(C||1))>1},h=function(f,C,T,D){var R=""+C;if(l(f,D))for(;R.length<T;)R="0"+R;return R},c=this,p=function(f,C){return C?"function"==typeof u?u.call(c,f):u[f.month()-c.minMonth]:"function"==typeof o?o.call(c,f):o[f.month()-c.minMonth]},m=this.local.digits,v=function(f){return _.localNumbers&&m?m(f):f},x="",y=!1,w=0;w<a.length;w++)if(y)"'"!==a.charAt(w)||l("'")?x+=a.charAt(w):y=!1;else switch(a.charAt(w)){case"d":x+=v(h("d",M.day(),2));break;case"D":x+=(d=M.dayOfWeek(),s=i,t=n,l("D")?t[d]:s[d]);break;case"o":x+=h("o",M.dayOfYear(),3);break;case"w":x+=h("w",M.weekOfYear(),2);break;case"m":x+=(f=M,"function"==typeof r?r.call(c,f,l("m")):v(h("m",f.month(),2)));break;case"M":x+=p(M,l("M"));break;case"y":x+=l("y",2)?M.year():(M.year()%100<10?"0":"")+M.year()%100;break;case"Y":l("Y",2),x+=M.formatYear();break;case"J":x+=M.toJD();break;case"@":x+=(M.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":x+=(M.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":l("'")?x+="'":y=!0;break;default:x+=a.charAt(w)}var f;return x},parseDate:function(a,M,_){if(null==M)throw A.local.invalidArguments||A.regionalOptions[""].invalidArguments;if(""===(M="object"==typeof M?M.toString():M+""))return null;a=a||this.local.dateFormat;var d=(_=_||{}).shortYearCutoff||this.shortYearCutoff;d="string"!=typeof d?d:this.today().year()%100+parseInt(d,10);for(var s=_.dayNamesShort||this.local.dayNamesShort,t=_.dayNames||this.local.dayNames,i=_.parseMonth||this.local.parseMonth,n=_.monthNumbers||this.local.monthNumbers,r=_.monthNamesShort||this.local.monthNamesShort,o=_.monthNames||this.local.monthNames,u=-1,l=-1,h=-1,c=-1,b=-1,p=!1,m=!1,v=function(B,q){for(var N=1;R+N<a.length&&a.charAt(R+N)===B;)N++;return R+=N-1,Math.floor(N/(q||1))>1},x=function(B,q){var N=v(B,q),H=[2,3,N?4:2,N?4:2,10,11,20]["oyYJ@!".indexOf(B)+1],$=new RegExp("^-?\\d{1,"+H+"}"),j=M.substring(D).match($);if(!j)throw(A.local.missingNumberAt||A.regionalOptions[""].missingNumberAt).replace(/\{0\}/,D);return D+=j[0].length,parseInt(j[0],10)},y=this,w=function(){if("function"==typeof n){v("m");var B=n.call(y,M.substring(D));return D+=B.length,B}return x("m")},f=function(B,q,N,H){for(var $=v(B,H)?N:q,j=0;j<$.length;j++)if(M.substr(D,$[j].length).toLowerCase()===$[j].toLowerCase())return D+=$[j].length,j+y.minMonth;throw(A.local.unknownNameAt||A.regionalOptions[""].unknownNameAt).replace(/\{0\}/,D)},C=function(){if("function"==typeof o){var B=v("M")?o.call(y,M.substring(D)):r.call(y,M.substring(D));return D+=B.length,B}return f("M",r,o)},T=function(){if(M.charAt(D)!==a.charAt(R))throw(A.local.unexpectedLiteralAt||A.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,D);D++},D=0,R=0;R<a.length;R++)if(m)"'"!==a.charAt(R)||v("'")?T():m=!1;else switch(a.charAt(R)){case"d":c=x("d");break;case"D":f("D",s,t);break;case"o":b=x("o");break;case"w":x("w");break;case"m":h=w();break;case"M":h=C();break;case"y":var P=R;p=!v("y",2),R=P,l=x("y",2);break;case"Y":l=x("Y",2);break;case"J":u=x("J")+.5,"."===M.charAt(D)&&(D++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":D=M.length;break;case"'":v("'")?T():m=!0;break;default:T()}if(D<M.length)throw A.local.unexpectedText||A.regionalOptions[""].unexpectedText;if(-1===l?l=this.today().year():l<100&&p&&(l+=-1===d?1900:this.today().year()-this.today().year()%100-(l<=d?0:100)),"string"==typeof h&&(h=i.call(this,l,h)),b>-1){c=b;for(var O=this.daysInMonth(l,h=1);c>O;O=this.daysInMonth(l,h))h++,c-=O}return u>-1?this.fromJD(u):this.newDate(l,h,c)},determineDate:function(a,M,_,d,s){_&&"object"!=typeof _&&(s=d,d=_,_=null),"string"!=typeof d&&(s=d,d="");var t=this;return M=M?M.newDate():null,null==a?M:"string"==typeof a?function(i){try{return t.parseDate(d,i,s)}catch{}for(var n=((i=i.toLowerCase()).match(/^c/)&&_?_.newDate():null)||t.today(),r=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,o=r.exec(i);o;)n.add(parseInt(o[1],10),o[2]||"d"),o=r.exec(i);return n}(a):"number"==typeof a?isNaN(a)||a===1/0||a===-1/0?M:t.today().add(a,"d"):t.newDate(a)}})},21576:function(){},19768:function(){},63436:function(ie,z,e){"use strict";var S=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],A=typeof globalThis>"u"?e.g:globalThis;ie.exports=function(){for(var a=[],M=0;M<S.length;M++)"function"==typeof A[S[M]]&&(a[a.length]=S[M]);return a}},67756:function(ie,z,e){"use strict";function S(we,xe,be){we.prototype=xe.prototype=be,be.constructor=we}function A(we,xe){var be=Object.create(we.prototype);for(var ye in xe)be[ye]=xe[ye];return be}function a(){}e.d(z,{qy:function(){return Me},Gz:function(){return ee}});var M=.7,_=1/M,d="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),r=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),o=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(s,"\\)$")),u=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(s,"\\)$")),l=new RegExp("^hsl\\(".concat(s,",").concat(t,",").concat(t,"\\)$")),h=new RegExp("^hsla\\(".concat(s,",").concat(t,",").concat(t,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function p(){return this.rgb().formatRgb()}function m(we){var xe,be;return we=(we+"").trim().toLowerCase(),(xe=i.exec(we))?(be=xe[1].length,xe=parseInt(xe[1],16),6===be?v(xe):3===be?new w(xe>>8&15|xe>>4&240,xe>>4&15|240&xe,(15&xe)<<4|15&xe,1):8===be?x(xe>>24&255,xe>>16&255,xe>>8&255,(255&xe)/255):4===be?x(xe>>12&15|xe>>8&240,xe>>8&15|xe>>4&240,xe>>4&15|240&xe,((15&xe)<<4|15&xe)/255):null):(xe=n.exec(we))?new w(xe[1],xe[2],xe[3],1):(xe=r.exec(we))?new w(255*xe[1]/100,255*xe[2]/100,255*xe[3]/100,1):(xe=o.exec(we))?x(xe[1],xe[2],xe[3],xe[4]):(xe=u.exec(we))?x(255*xe[1]/100,255*xe[2]/100,255*xe[3]/100,xe[4]):(xe=l.exec(we))?P(xe[1],xe[2]/100,xe[3]/100,1):(xe=h.exec(we))?P(xe[1],xe[2]/100,xe[3]/100,xe[4]):c.hasOwnProperty(we)?v(c[we]):"transparent"===we?new w(NaN,NaN,NaN,0):null}function v(we){return new w(we>>16&255,we>>8&255,255&we,1)}function x(we,xe,be,ye){return ye<=0&&(we=xe=be=NaN),new w(we,xe,be,ye)}function y(we,xe,be,ye){return 1===arguments.length?((Se=we)instanceof a||(Se=m(Se)),Se?new w((Se=Se.rgb()).r,Se.g,Se.b,Se.opacity):new w):new w(we,xe,be,ye??1);var Se}function w(we,xe,be,ye){this.r=+we,this.g=+xe,this.b=+be,this.opacity=+ye}function f(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b))}function C(){var we=T(this.opacity);return"".concat(1===we?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(1===we?")":", ".concat(we,")"))}function T(we){return isNaN(we)?1:Math.max(0,Math.min(1,we))}function D(we){return Math.max(0,Math.min(255,Math.round(we)||0))}function R(we){return((we=D(we))<16?"0":"")+we.toString(16)}function P(we,xe,be,ye){return ye<=0?we=xe=be=NaN:be<=0||be>=1?we=xe=NaN:xe<=0&&(we=NaN),new B(we,xe,be,ye)}function O(we){if(we instanceof B)return new B(we.h,we.s,we.l,we.opacity);if(we instanceof a||(we=m(we)),!we)return new B;if(we instanceof B)return we;var xe=(we=we.rgb()).r/255,be=we.g/255,ye=we.b/255,Se=Math.min(xe,be,ye),Ee=Math.max(xe,be,ye),he=NaN,ue=Ee-Se,me=(Ee+Se)/2;return ue?(he=xe===Ee?(be-ye)/ue+6*(be<ye):be===Ee?(ye-xe)/ue+2:(xe-be)/ue+4,ue/=me<.5?Ee+Se:2-Ee-Se,he*=60):ue=me>0&&me<1?0:he,new B(he,ue,me,we.opacity)}function B(we,xe,be,ye){this.h=+we,this.s=+xe,this.l=+be,this.opacity=+ye}function q(we){return(we=(we||0)%360)<0?we+360:we}function N(we){return Math.max(0,Math.min(1,we||0))}function H(we,xe,be){return 255*(we<60?xe+(be-xe)*we/60:we<180?be:we<240?xe+(be-xe)*(240-we)/60:xe)}function $(we,xe,be,ye,Se){var Ee=we*we,he=Ee*we;return((1-3*we+3*Ee-he)*xe+(4-6*Ee+3*he)*be+(1+3*we+3*Ee-3*he)*ye+he*Se)/6}S(a,m,{copy:function(we){return Object.assign(new this.constructor,this,we)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return O(this).formatHsl()},formatRgb:p,toString:p}),S(w,y,A(a,{brighter:function(we){return we=null==we?_:Math.pow(_,we),new w(this.r*we,this.g*we,this.b*we,this.opacity)},darker:function(we){return we=null==we?M:Math.pow(M,we),new w(this.r*we,this.g*we,this.b*we,this.opacity)},rgb:function(){return this},clamp:function(){return new w(D(this.r),D(this.g),D(this.b),T(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:function(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b)).concat(R(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:C,toString:C})),S(B,function(we,xe,be,ye){return 1===arguments.length?O(we):new B(we,xe,be,ye??1)},A(a,{brighter:function(we){return we=null==we?_:Math.pow(_,we),new B(this.h,this.s,this.l*we,this.opacity)},darker:function(we){return we=null==we?M:Math.pow(M,we),new B(this.h,this.s,this.l*we,this.opacity)},rgb:function(){var we=this.h%360+360*(this.h<0),xe=isNaN(we)||isNaN(this.s)?0:this.s,be=this.l,ye=be+(be<.5?be:1-be)*xe,Se=2*be-ye;return new w(H(we>=240?we-240:we+120,Se,ye),H(we,Se,ye),H(we<120?we+240:we-120,Se,ye),this.opacity)},clamp:function(){return new B(q(this.h),N(this.s),N(this.l),T(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var we=T(this.opacity);return"".concat(1===we?"hsl(":"hsla(").concat(q(this.h),", ").concat(100*N(this.s),"%, ").concat(100*N(this.l),"%").concat(1===we?")":", ".concat(we,")"))}}));var j=function(we){return function(){return we}};function W(we,xe){var ye,Se,be=xe-we;return be?(ye=we,Se=be,function(Ee){return ye+Ee*Se}):j(isNaN(we)?xe:we)}var G=function we(xe){var Se,be=1==(Se=+(Se=xe))?W:function(Ee,he){return he-Ee?(ue=Ee,me=he,Pe=Se,ue=Math.pow(ue,Pe),me=Math.pow(me,Pe)-ue,Pe=1/Pe,function(Ce){return Math.pow(ue+Ce*me,Pe)}):j(isNaN(Ee)?he:Ee);var ue,me,Pe};function ye(Se,Ee){var he=be((Se=y(Se)).r,(Ee=y(Ee)).r),ue=be(Se.g,Ee.g),me=be(Se.b,Ee.b),Pe=W(Se.opacity,Ee.opacity);return function(Ce){return Se.r=he(Ce),Se.g=ue(Ce),Se.b=me(Ce),Se.opacity=Pe(Ce),Se+""}}return ye.gamma=we,ye}(1);function ae(we){return function(xe){var be,ye,Se=xe.length,Ee=new Array(Se),he=new Array(Se),ue=new Array(Se);for(be=0;be<Se;++be)ye=y(xe[be]),Ee[be]=ye.r||0,he[be]=ye.g||0,ue[be]=ye.b||0;return Ee=we(Ee),he=we(he),ue=we(ue),ye.opacity=1,function(me){return ye.r=Ee(me),ye.g=he(me),ye.b=ue(me),ye+""}}}function te(we,xe){var be,ye=xe?xe.length:0,Se=we?Math.min(ye,we.length):0,Ee=new Array(Se),he=new Array(ye);for(be=0;be<Se;++be)Ee[be]=Me(we[be],xe[be]);for(;be<ye;++be)he[be]=xe[be];return function(ue){for(be=0;be<Se;++be)he[be]=Ee[be](ue);return he}}function Q(we,xe){var be=new Date;return we=+we,xe=+xe,function(ye){return be.setTime(we*(1-ye)+xe*ye),be}}function ee(we,xe){return we=+we,xe=+xe,function(be){return we*(1-be)+xe*be}}function re(we){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xe){return typeof xe}:function(xe){return xe&&"function"==typeof Symbol&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe})(we)}function J(we,xe){var be,ye={},Se={};for(be in null!==we&&"object"===re(we)||(we={}),null!==xe&&"object"===re(xe)||(xe={}),xe)be in we?ye[be]=Me(we[be],xe[be]):Se[be]=xe[be];return function(Ee){for(be in ye)Se[be]=ye[be](Ee);return Se}}ae(function(we){var xe=we.length-1;return function(be){var ye=be<=0?be=0:be>=1?(be=1,xe-1):Math.floor(be*xe),Se=we[ye],Ee=we[ye+1];return $((be-ye/xe)*xe,ye>0?we[ye-1]:2*Se-Ee,Se,Ee,ye<xe-1?we[ye+2]:2*Ee-Se)}}),ae(function(we){var xe=we.length;return function(be){var ye=Math.floor(((be%=1)<0?++be:be)*xe);return $((be-ye/xe)*xe,we[(ye+xe-1)%xe],we[ye%xe],we[(ye+1)%xe],we[(ye+2)%xe])}});var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fe=new RegExp(le.source,"g");function ce(we,xe){var be,ye,Se,Pe,Ee=le.lastIndex=fe.lastIndex=0,he=-1,ue=[],me=[];for(we+="",xe+="";(be=le.exec(we))&&(ye=fe.exec(xe));)(Se=ye.index)>Ee&&(Se=xe.slice(Ee,Se),ue[he]?ue[he]+=Se:ue[++he]=Se),(be=be[0])===(ye=ye[0])?ue[he]?ue[he]+=ye:ue[++he]=ye:(ue[++he]=null,me.push({i:he,x:ee(be,ye)})),Ee=fe.lastIndex;return Ee<xe.length&&(Se=xe.slice(Ee),ue[he]?ue[he]+=Se:ue[++he]=Se),ue.length<2?me[0]?(Pe=me[0].x,function(Ce){return Pe(Ce)+""}):function(Pe){return function(){return Pe}}(xe):(xe=me.length,function(Pe){for(var Ce,Ie=0;Ie<xe;++Ie)ue[(Ce=me[Ie]).i]=Ce.x(Pe);return ue.join("")})}function ge(we,xe){xe||(xe=[]);var be,ye=we?Math.min(xe.length,we.length):0,Se=xe.slice();return function(Ee){for(be=0;be<ye;++be)Se[be]=we[be]*(1-Ee)+xe[be]*Ee;return Se}}function Te(we){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xe){return typeof xe}:function(xe){return xe&&"function"==typeof Symbol&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe})(we)}function Me(we,xe){var be,ye,Se=Te(xe);return null==xe||"boolean"===Se?j(xe):("number"===Se?ee:"string"===Se?(be=m(xe))?(xe=be,G):ce:xe instanceof m?G:xe instanceof Date?Q:(ye=xe,!ArrayBuffer.isView(ye)||ye instanceof DataView?Array.isArray(xe)?te:"function"!=typeof xe.valueOf&&"function"!=typeof xe.toString||isNaN(xe)?J:ee:ge))(we,xe)}},30584:function(ie){"use strict";ie.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(ie){"use strict";ie.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(ie){"use strict";ie.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(ie){"use strict";ie.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(ie){"use strict";ie.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(ie){"use strict";ie.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Af={};function wo(ie){var z=Af[ie];if(void 0!==z)return z.exports;var e=Af[ie]={exports:{}};return Nd[ie].call(e.exports,e,e.exports,wo),e.exports}return wo.n=function(ie){var z=ie&&ie.__esModule?function(){return ie.default}:function(){return ie};return wo.d(z,{a:z}),z},wo.d=function(ie,z){for(var e in z)wo.o(z,e)&&!wo.o(ie,e)&&Object.defineProperty(ie,e,{enumerable:!0,get:z[e]})},wo.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),wo.o=function(ie,z){return Object.prototype.hasOwnProperty.call(ie,z)},wo.r=function(ie){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ie,"__esModule",{value:!0})},wo(13792)}()}},Fd=>{Fd(Fd.s=601)}]);